(function(){var cW=window.location.hostname.endsWith("jampea.com")?2:window.location.hostname=="www.vectorpea.com"?1:0,df=!0;
(function(){var z;try{z=window.localStorage}catch(cz){}var q={};if(z){var e=z.getItem("_ppp");if(e)q=JSON.parse(e);
else{var V="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var n=0;n<V.length;n++){var P=z.getItem(V[n]);if(P!=null)q[V[n]]=P}}}var D=window.locStor={};D.setItem=function(A,s){q[A]=s;
if(z)z.setItem("_ppp",JSON.stringify(q))};D.getItem=function(A){return q[A]};D.removeItem=function(A){delete q[A];
if(z)z.setItem("_ppp",JSON.stringify(q))};if(cW==0){window.showCap=function(){B(!0)};window.hideCap=function(){B(!1)};
function B(A){document.getElementById("cap").setAttribute("style",A?"":"display:none;");window.locStor.setItem("capShown",""+A)}if(window.locStor.getItem("capShown")=="false"||window.self!=window.top){}else window.showCap()}}());
var lA={Gn:0,U4:null,a2:null,gC:null,Vv:null,Lw:null,aJl:!0,aCi:0,cW:!1};lA.event=function(z,q,e){if(cW!=0)return;
if(q!=null&&q<Math.random())return;if(e==null)e=0;var V=new XMLHttpRequest;V.open("GET","/papi/event.php?id="+z+"&g="+e+"&rnd="+Math.random());
V.send()};lA.lS="\u20AC";lA.A6=function(z){if(cW!=0)z="//www.photopea.com/"+z;return z};lA.A9=function(z){var q=location.href;
if(q.indexOf("photopea.com")!=-1||q.indexOf("vectorpea.com")!=-1||q.indexOf("jampea.com")!=-1)return"//vecpea.com/"+z;
return lA.A6(z)};lA.aY=function(){var z=lA.Cf();if(z==null)return null;var q=J._A(24)?" ":"",e=J.PN[J.kc("Uu,"+q)];
e=e[J.kc(q+"$/")];var V=lA.arw(1,999);if(V&&lA.jn(V)*50>e()/20)return[0,V];var P=z.inTeams;if(P)for(var n=0;
n<P.length;n++)if(P[n][1]*50>e()/20)return[1,P[n]];return null};lA.Rc=function(){return lA.awT()!=null};
lA.ZK=function(){return lA.jn(lA.arw(1e3,999999999))};lA.jn=function(z){return z==null?0:z[0]+z[1]*24*60*60};
lA.arw=function(z,q){var e=lA.Cf(),V=e.pmnts,P=0,D=null;if(V==null||V.length==0)return 0;for(var n=0;
n<V.length;n++){var B=V[n],A=lA.jn(B);if(z<=B[2]&&B[2]<=q)if(P<A){P=A;D=B}}return D};lA.Cf=function(){return lA.Lw};
lA.zc=function(z){window.addEventListener("message",lA.a8b,!1);setInterval(lA.aPK,5e3);if(lA.Rc()&&navigator.onLine){lA.U4=z;
lA.o7()}else setTimeout(z,1)};lA.aPK=function(){if(lA.Rc()&&lA.cW){lA.aDg(lA.G$());lA.cW=!1}};lA.VG=function(z,q){lA.U4=z;
var e="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href.split("#")[0]);
if(q==null)lA.gC=window.open(e,"_blank");else{var V=new dW(_.E.b,!0);V.data={p:_.m.wa,rF:"login",agA:e+"&justEM=true"};
q.K(V)}};lA.anD=function(){var z=window.locStor;z.removeItem(lA.Gn+"_uid");z.removeItem(lA.Gn+"_provider");
z.removeItem(lA.Gn+"_token");lA.Lw=null};lA.a8b=function(z){if(z.data instanceof ArrayBuffer||z.data instanceof Object)return;
if(z.data.charAt(0)!="{")return;var q=JSON.parse(z.data);if(q.prms==null)return;var e=q.prms.split(",");
if(e[0]=="papi_logged_in"){var V=window.locStor;V.setItem(lA.Gn+"_uid",e[1]);lA.zB(e[2]);V.setItem(lA.Gn+"_provider",e[3]);
console.log("closing login window");lA.gC.close();lA.o7()}if(e[0]=="payment_complete"){lA.Vv.close();
lA.o7()}};lA.awT=function(){var z=window.locStor.getItem(lA.Gn+"_token");if(z!=null&&Date.now()*.001+10<parseInt(z.split("-")[0]))return z;
return null};lA.zB=function(z){var q=window.locStor.getItem(lA.Gn+"_token");if(q!=null&&parseInt(z.split("-")[0])<parseInt(q.split("-")[0]))return;
window.locStor.setItem(lA.Gn+"_token",z);clearTimeout(lA.aCi);lA.aCi=setTimeout(lA.a38,Math.min(1e9,parseInt(z.split("-")[0])*1e3-Date.now()-20*1e3))};
lA.agk=function(z,q,e,V){if(!navigator.onLine)throw"a";var P=new XMLHttpRequest;P.open("POST","https://www.photopea.com/papi/record_new.php",!0);
P.onload=e;var D=lA.qf(0)+"&read=3&tuid="+z+"&tid="+q;if(V)D+="&tpl="+encodeURIComponent(V);P.setRequestHeader("Content-type","application/x-www-form-urlencoded");
P.send(D)};lA.a38=function(){if(!navigator.onLine)throw"a";var z=new XMLHttpRequest;z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
z.onload=lA.aKb;var q=lA.qf(0)+"&read=2";z.setRequestHeader("Content-type","application/x-www-form-urlencoded");
z.send(q)};lA.o7=function(){if(!navigator.onLine)throw"b";var z=new XMLHttpRequest;z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
z.onload=lA.aqA;var q=lA.qf(0)+"&read=1";z.setRequestHeader("Content-type","application/x-www-form-urlencoded");
z.send(q)};lA.aDg=function(z){if(!navigator.onLine)throw"c";var q=new XMLHttpRequest;q.open("POST","https://www.photopea.com/papi/record_new.php",!0);
q.onload=lA.aOg;var e=lA.qf(0)+"&read=0&score="+(z.tpl?1:0)+"&spublic="+lA.aJl+"&record="+encodeURIComponent(JSON.stringify(z));
q.setRequestHeader("Content-type","application/x-www-form-urlencoded");q.send(e)};lA.aqA=function(z){var q=JSON.parse(z.target.response);
if(q.error){}else{lA.Lw=q.user;var e=lA.G$(),V=q.record;if(q.record){lA.aJl=q.spublic;lA.pX(V)}else if(e){var P=JSON.parse(JSON.stringify(e));
delete P.tpl;delete P.acc;lA.pX(P);lA.aDg(P)}}lA.zB(q.token);var D=lA.U4,P=lA.a2;if(D){lA.U4=null;D()}if(P){lA.a2=null;
P()}};lA.aKb=function(z){var q=JSON.parse(z.target.response);lA.zB(q.token)};lA.aOg=function(z){var q=JSON.parse(z.target.response);
lA.zB(q.token);if(lA.a2)lA.o7()};lA.qf=function(z){var q=window.locStor;return"app="+z+"&uid="+q.getItem(lA.Gn+"_uid")+"&token="+q.getItem(lA.Gn+"_token")};
lA.mN=function(z){if(z){lA.a2=z;lA.o7()}return lA.G$()};lA._h=function(z,q){lA.pX(z);lA.cW=!0;if(q){lA.a2=q;
lA.aPK()}};lA.G$=function(){var z=window.locStor.getItem(lA.Gn+"_stateLocal"),q;if(z==null)return null;
try{q=JSON.parse(z)}catch(cz){return null}return q};lA.pX=function(z){var q=JSON.stringify(z);window.locStor.setItem(lA.Gn+"_stateLocal",q)};
lA.order=function(z,q,e){lA.U4=e;var V=window.locStor,P="https://www.photopea.com/papi/order.php?ptype="+q+"&param="+z+"&uid="+V.getItem(lA.Gn+"_uid")+"&token="+V.getItem(lA.Gn+"_token");
lA.Vv=window.open(P,"_blank")};lA.ak6=function(z,q){lA.U4=q;var e=window.locStor,V="https://www.photopea.com/papi/insertKey.php?key="+z+"&uid="+e.getItem(lA.Gn+"_uid")+"&token="+e.getItem(lA.Gn+"_token");
lA.Vv=window.open(V,"_blank")};var jS={};jS.aGk=function(z,q){if(typeof q!="string")throw"e";var e=J.PN[J.kc("%|xK")];
if(e==null)return"XYP";var V=z.toString(16).slice(0,4),P=V+q+"aQYRDCB";return e(P).slice(5,17)+V.split("").reverse().join("")};
jS.$e=function(){var z=J.PN[J.Mh("3M"+(J._A(26)?"]K":"fa"))];z=z[J.Mh("]["+(!J._A(28)?",":"`"))];return Math.floor(z()/1e3)};
jS._A=function(z){var q=0;for(var n=0;n<z;n++)q+=Math.random();return q/z<Math.PI/4};jS.Mh=function(z){var q="";
if(!jS._A(28))z+="-3";for(var n=0;n<z.length;n++){var e=z.charCodeAt(n);if(e<32||126<e)throw"e";q+=String.fromCharCode(32+(e-32+17+3*n)%95)}return q};
jS.kc=function(z){var q="";if(!jS._A(28))z+="-1";for(var n=0;n<z.length;n++){var e=z.charCodeAt(n);e-=32;
e+=95e4;e-=17+3*n;e=e%95;q+=String.fromCharCode(32+e)}return q};jS.f6=jS.Mh("XP");jS.n3=jS.Mh("XYP");
jS.im=jS.Mh("c[Y");jS.aN6=jS.Mh("][`");jS.cu=jS.Mh("SU_");jS.aj=jS.Mh("b^L");jS.aiZ=jS.Mh("61=");jS.fz=jS.Mh("Q[M_");
jS.nI=jS.Mh("WQJJ");jS.bk=jS.Mh("W^NL");jS.afj=jS.Mh("[QOZ");jS.MO=jS.Mh("[[JJ");jS.aFm=jS.Mh("[[PU");
jS.Mb=jS.Mh("^\\NT");jS.aK6=jS.Mh("bQUL");jS.XT=jS.Mh("bQWJ");jS.apr=jS.Mh("3M]K");jS.aqt=jS.Mh("<M]N");
jS.au_=jS.Mh("][WK");jS.ud=jS.Mh("?;<:");jS.sc=jS.Mh("P_bTF");jS.Rp=jS.Mh("RXRIN");jS.fn=jS.Mh("aUPNW");
jS.nq=jS.Mh("b`bRH");jS.aPa=jS.Mh("fUMZK");jS.apn=jS.Mh("Q[]ZRM");jS.a72=jS.Mh("WQRMKT");jS.ajL=jS.Mh("WUMJHN");
jS.Qi=jS.Mh("XR[GPE");jS.aMH=jS.Mh("aMWJRM");jS.Fu=jS.Mh("bO[OST");jS.aK8=jS.Mh("cM[MHT");jS.aim=jS.Mh("^Z5OQE");
jS.$z=jS.Mh("^ZUUDD");jS.aBA=jS.Mh("_M[KQT");jS.auN=jS.Mh("POLUXNQ");jS.ph=jS.Mh("R[WLLRJ");jS.atB=jS.Mh("SU\\VOAV");
jS.aBy=jS.Mh("XZMK[/C");jS.a4X=jS.Mh("^ZNXUOO");jS.TA=jS.Mh("aQYRDCB");jS.y0=jS.Mh("[[LGWILH");jS.oe=jS.Mh("S[L[PEKN");
jS.aLv=jS.Mh("_[\\OWILH");jS.Tl=jS.Mh("aQOKURBL");jS.aAG=jS.Mh("aQUGWIS?");jS.AD=jS.Mh("aQ\\VRNP?");
jS.ahd=jS.Mh("XZWKU(1'#");jS.alR=jS.Mh("SQLUGE2, ");jS.agq=jS.Mh("]M_OJAQII");jS.aoi=jS.Mh("bQ]:LMBILH");
jS.aw2=jS.Mh("UU[YW#ECC8");jS.a1c=jS.Mh("P^[G\\BR@=9C");jS.BE=jS.Mh("cQaZ&OKN<BE");jS.k9=jS.Mh("P\\YKQD B@@5");
jS.ajq=jS.Mh("aQVUYE B@@5");jS.aGd=jS.Mh("bQ]/QTBLM5=");jS.hM=jS.Mh("bQ]'WTOC9IE3");jS.aFL=jS.Mh("XZ\\KUT~?=CC3");
jS.auQ=jS.Mh("aQ\\VRNP?+MA3");jS.Lp=jS.Mh("R^NGWE\"F<A6<?");jS.aqI=jS.Mh("VQ]+OEJ?EHrGs,");jS.ny=jS.Mh("G95.WTM,<EF3><");
jS.ayl=jS.Mh("PZLKVTLL&F:5468");jS.fZ=jS.Mh("PPM+YEKN#=DB06*4");jS.abK=jS.Mh("bQ]8HQR?JHx3,,*4");jS.aMU=jS.Mh("SQLUGE2, v@;;73'-0");
function cz(z){this.f8={};this.ayG=!1;this.oJ=0;this.fO();if(z!=!0)window.__kb=this}cz.D5=null;cz.prototype.fO=function(){var z=navigator.keyboard;
if(z&&window.top==window.self)z.getLayoutMap().then(function(q){cz.D5=q})};cz.prototype.a1o=function(z){this.ayG=z};
cz.prototype.a4f=function(){return this.ayG};cz.prototype.a9E=function(z){var q={shiftKey:cz.XQ,altKey:cz.mh,ctrlKey:cz.EF};
for(var e in q){var V=z[e],P=q[e],D=this.t(P);if(!V&&D){for(var n=0;n<P.tj.length;n++)this.ZL(P.tj[n])}}};
cz.prototype.qI=function(z){this.oJ++;this.f8[z]=!0};cz.prototype.ZL=function(z){this.oJ--;delete this.f8[z];
if(this.oJ<=0||cz.Kz(z,cz.a8$))this.reset()};cz.prototype.t=function(z){for(var n=0;n<z.tj.length;n++)if(this.f8[z.tj[n]])return!0;
return!1};cz.prototype.reset=function(){this.f8={};this.oJ=0};cz.prototype.bh=function(z){var q=this,e=q.t(cz.XQ)?10:1,V=0,P=0;
if(q.t(cz.kN))V=-e;else if(q.t(cz.YS))V=e;else if(q.t(cz.CM))P=-e;else if(q.t(cz.P3))P=e;var D=new f5(V,P);
if(z!=null){var B=new e5;B.rotate(z);D=B.a0(D);if(Math.abs(D.x)<Math.abs(D.y))D.x=0;else D.y=0;D.x=Math.round(D.x);
D.y=Math.round(D.y)}return D};cz.prototype.UP=function(){var z=this,q=cz.aM;for(var n=0;n<10;n++)if(z.t(q[n]))return n;
return-1};cz.Kz=function(z,q){return q.tj.indexOf(z)!=-1};cz.aMj=function(z,q){return cz.Kz(cz.nY(z),q)};
cz.Di=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};cz.ay$="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(cz.Di())cz.ay$.push("ControlLeft","ControlRight");cz.atq=function(z){var q=z.code;if(q=="")return!1;
var e=cz.Kz;if(z.altKey&&!z.shiftKey&&!z.ctrlKey){var V=cz.aM.concat([cz.Zj,cz.w1,cz.NW,cz.WO]),P=!1;
for(var n=0;n<V.length;n++)if(e(q,V[n]))return!1}if(q=="KeyQ"&&z.metaKey)return!1;if(q=="KeyH"&&z.metaKey&&z.altKey)return!1;
return cz.ay$.indexOf(q)==-1||z.shiftKey&&(q=="F5"||q=="F6")};cz.ay7=function(z){var q=cz;if(z.ctrlKey&&(q.Kz(z.code,q.Zj)||q.Kz(z.code,q.w1)))z.preventDefault()};
cz.QV=function(z){z.addEventListener("keydown",cz.ay7,!1)};cz.L6=function(z){if(typeof z=="string")return z;
var q=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(z==null)return"";var e=[];for(var n=0;n<z.length;
n++){var V=z[n].HS?z[n].HS:z[n];if(q&&z[n].Xf)V=z[n].Xf;e.push(V)}if(q||e.length==1)return e.join(" ");
else{var P=e.pop();return e.join("+")+" + "+P}};cz.nY=function(z){if(cz.D5==null)window.__kb.fO();var q=z.code,e=cz.D5,V={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period",";":"Semicolon"};
if(e&&e.get(q)){var P=e.get(q).toLowerCase(),D=P.charCodeAt(0);if(97<=D&&D<=122){var B="Key"+P.toUpperCase();
q=B}else if(V[P])q=V[P];return q}var P=z.key.toLowerCase(),D=P.charCodeAt(0);if(P.length==1){if(97<=D&&D<=122){var B="Key"+P.toUpperCase();
q=B}else if(V[P])q=V[P]}if(P=="control"&&q!="")q="ControlLeft";return q};cz.ald=0;cz.acA=function(z,q){var e=0;
if(Date.now()-cz.ald>1e3){e=q==0?100:q*10}else{if(z%10!=0)z*=10;e=(z+q)%100}cz.ald=Date.now();return e};
cz.a8L={nm:"No Touch",tj:["NoTouch"]};cz.JN={HS:"Enter",tj:["Enter","NumpadEnter"]};cz.XQ={HS:"Shift",Xf:"\u21E7",tj:["ShiftLeft","ShiftRight"]};
cz.a8$={HS:"Meta",tj:["MetaLeft","MetaRight","OSLeft","OSRight"]};cz.EF={HS:"Ctrl",Xf:"\u2318",tj:cz.Di()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
cz.mh={HS:"Alt",Xf:"\u2325",tj:["AltLeft","AltRight"]};cz.aH3={HS:"CtrlOrAlt",tj:cz.EF.tj.concat(cz.mh.tj)};
cz.Nf={HS:"Escape",tj:["Escape"]};cz.ii={HS:"Space",tj:["Space"]};cz.ji={HS:"Tab",tj:["Tab"]};cz.YP={HS:"Home",tj:["Home"]};
cz.aw_={HS:"End",tj:["End"]};cz.kN={HS:"Left",tj:["ArrowLeft"]};cz.CM={HS:"Up",tj:["ArrowUp"]};cz.YS={HS:"Right",tj:["ArrowRight"]};
cz.P3={HS:"Down",tj:["ArrowDown"]};cz.Zj={HS:"+",tj:["NumpadAdd","Equal"]};cz.w1={HS:"-",tj:["NumpadSubtract","Minus"]};
cz.Vb={HS:";",tj:["Semicolon"]};cz.aB8={HS:"Dead",tj:["Dead"]};cz.avF={HS:"=",tj:["Equal"]};cz.QI={HS:"Backspace",tj:["Backspace"]};
cz.Dv={HS:"Delete",tj:["Delete"]};cz.a8T={HS:"Backslash",tj:["Backslash","IntlBackslash"]};cz.a89={HS:"Slash",tj:["NumpadDivide","Slash"]};
cz.aGA={HS:"Backquote",tj:["Backquote"]};cz.NW={HS:"[",tj:["BracketLeft"]};cz.WO={HS:"]",tj:["BracketRight"]};
cz.SS={HS:".",tj:["Period"]};cz.Wu={HS:",",tj:["Comma"]};cz.Nc={HS:"'",tj:["Quote"]};cz.m={HS:"A",tj:["KeyA"]};
cz.RI={HS:"B",tj:["KeyB"]};cz.jj={HS:"C",tj:["KeyC"]};cz.Tj={HS:"D",tj:["KeyD"]};cz.E={HS:"E",tj:["KeyE"]};
cz.AK={HS:"F",tj:["KeyF"]};cz.sb={HS:"G",tj:["KeyG"]};cz.nA={HS:"H",tj:["KeyH"]};cz.Pd={HS:"I",tj:["KeyI"]};
cz.LI={HS:"J",tj:["KeyJ"]};cz.W3={HS:"K",tj:["KeyK"]};cz.eT={HS:"L",tj:["KeyL"]};cz.BH={HS:"M",tj:["KeyM"]};
cz.pm={HS:"N",tj:["KeyN"]};cz.Lg={HS:"O",tj:["KeyO"]};cz.qv={HS:"P",tj:["KeyP"]};cz.Yq={HS:"Q",tj:["KeyQ"]};
cz.Qf={HS:"R",tj:["KeyR"]};cz.en={HS:"S",tj:["KeyS"]};cz.J3={HS:"T",tj:["KeyT"]};cz.dO={HS:"U",tj:["KeyU"]};
cz.WT={HS:"V",tj:["KeyV"]};cz.awt={HS:"W",tj:["KeyW"]};cz.s$={HS:"X",tj:["KeyX"]};cz.$l={HS:"Y",tj:["KeyY"]};
cz.wX={HS:"Z",tj:["KeyZ"]};cz.rJ={HS:"0",tj:["Numpad0","Digit0"]};cz.bC={HS:"1",tj:["Numpad1","Digit1"]};
cz.ag1={HS:"2",tj:["Numpad2","Digit2"]};cz.a9d={HS:"3",tj:["Numpad3","Digit3"]};cz.anA={HS:"4",tj:["Numpad4","Digit4"]};
cz.aIn={HS:"5",tj:["Numpad5","Digit5"]};cz.ah5={HS:"6",tj:["Numpad6","Digit6"]};cz.rS={HS:"7",tj:["Numpad7","Digit7"]};
cz.aKI={HS:"8",tj:["Numpad8","Digit8"]};cz.aoE={HS:"9",tj:["Numpad9","Digit9"]};cz.aM=[cz.rJ,cz.bC,cz.ag1,cz.a9d,cz.anA,cz.aIn,cz.ah5,cz.rS,cz.aKI,cz.aoE];
cz.ata={HS:"F1",tj:["F1"]};cz.aaD={HS:"F2",tj:["F2"]};cz.ahs={HS:"F3",tj:["F3"]};cz.aAB={HS:"FF",tj:["F4"]};
cz.aNT={HS:"F5",tj:["F5"]};cz.aa3={HS:"F6",tj:["F6"]};cz.aNJ={HS:"F7",tj:["F7"]};cz.aMJ={HS:"F8",tj:["F8"]};
cz.aNH={HS:"F9",tj:["F9"]};cz.a3b={HS:"F10",tj:["F10"]};cz.ajw={HS:"F11",tj:["F11"]};cz.aEz={HS:"F12",tj:["F12"]};
cz.asN=function(){var z={},q={},e="KeyZ,KeyS,KeyX,KeyD,KeyC,KeyV,KeyG,KeyB,KeyH,KeyN,KeyJ,KeyM,Comma,KeyL,Period,Semicolon,Slash".split(","),V="KeyQ,Digit2,KeyW,Digit3,KeyE,KeyR,Digit5,KeyT,Digit6,KeyY,Digit7,KeyU,KeyI,Digit9,KeyO,Digit0,KeyP,BracketLeft,Equal,BracketRight".split(",");
for(var n=0;n<e.length;n++)q[e[n]]=60+n;for(var n=0;n<V.length;n++)q[V[n]]=72+n;function P(D,B,A){if(q[D]){var s=q[D],a=z[s];
if(a==null)a=!1;if(a==B)return;z[s]=B;var M=new dW(_.E.b,!0);M.data={p:_.m.KC,u:[B?9:8,s,127,Date.now()]};
A.K(M)}}return P}();function fx(z){this.JX={};this.wB={};this.a49=0;this.aHd={};this.amR=[];this.ar6=0;
this.MO=z;fx.NS=this}fx.a9W=function(z,q){var n=0,e=fx.Un;while(n<e.length){if((q>>>n&1)==1)break;n++}if(n!=0&&fx.LC(z,[33,126])>.7)n=0;
if(q==0||e[n][1]==""){if((q&15)!=0&&fx.LC(z,[33,126])>.7)n=0;else if(q==0)n=0;else{n=0}}return e[n][1]};
fx.fJ=120;fx.I8=20;fx.cols=16;fx.me=function(z){var q=z.name.postScriptName;if(q==null)return null;return q.replace(/ /g,"-")};
fx.age=function(z){var q=z.name,e=q.typoFamilyName,V=q.typoSubfamilyName,P=e!=null&&V!=null,D=P?e:q.fontFamily,B=P?V:q.fontSubfamily;
if(B==null)B="Regular";var A=fx.aBR,s=D.toLowerCase();for(var n=0;n<A.length;n++){if(A[n]=="roman")continue;
if(s.endsWith(" "+A[n])||s.endsWith("-"+A[n])){var a=D.length-A[n].length,M=D.slice(a);D=D.slice(0,a-1);
if(M!=""){if(B=="Regular"||B==D+" Regular")B=M;else B=M+" "+B}break}}var $="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var n=0;n<$.length;n++)if(D.startsWith($[n])){var M=D.slice($[n].length);D=$[n];if(M.startsWith(" ")||M.startsWith("-"))M=M.slice(1);
if(M!=""){if(B=="Regular")B=M;else B=M+" "+B}break}var U={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},o=U[fx.me(z)];
if(o)B=o;return[D,B]};fx.prototype.a2T=function(z){var q=this.wO();for(var e in q)if(q[e][0]==z)this.dN(e)};
fx.prototype.aoC=function(){return Object.keys(this.wB).length!=0};fx.prototype.dN=function(z,q){if(this.JX[z])return this.JX[z];
if(this.wB[z])return null;var e=null,V=this.wO();if(V[z]!=null)e=V[z][5];if(e==null){var P=fx.TA[z];
if(P==null){var D="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),B=z.toLowerCase(),A=0;
if(B.indexOf("sans")!=-1)A=0;else if(B.indexOf("serif")!=-1)A=4;var s=B.indexOf("bold")!=-1||B.indexOf("-black")!=-1,a=B.indexOf("italic")!=-1||B.indexOf("oblique")!=-1||B.endsWith("-it");
if(s&&a)A+=3;else if(a)A+=2;else if(s)A+=1;P=D[A]}if(q!=null&&q>128)P=this.ah4(q,P);if(this.aHd[z]==null){this.aHd[z]=1;
var M=Date.now()-this.a49>2e3?2e3:0;this.a49=Date.now();alert(z+" \u27A1 "+P,M)}return this.dN(P,q)}this.wB[z]="a";
if(e=="--loc")fx.b3.load(z);else this.MO(e)};fx.prototype.ah4=function(z,q,e){var V=this.JX[q];if(V&&Typr.U.codeToGlyph(V,z)!=0)return q;
var P=this.wO(),D=fx.amy(z),B=D[0];if(P[q]&&(P[q][3]&B)==0){if(e)for(var n=0;n<e.length;n++){var A=e[n].Name,s=P[A];
if(s&&(s[3]&B)!=0)return A}var A=fx.Un[D[1]][4];if(P[A])return A}return q};fx.amy=function(z){var q=fx.Un,e=[0];
for(var n=0;n<q.length;n++){var V=q[n][2];for(var P=0;P<V.length;P+=2)if(V[P]<=z&&z<=V[P+1]){e[0]+=1<<n;
e.push(n)}}if(e.length==1)e.push(0);return e};fx.prototype.a6G=function(){var z=this.amR,q=z[0],e=z.length-1,V=Date.now()-this.aJk>2e3?2e3:0;
this.aJk=Date.now();alert(iE.get([22,6,0])+" "+q+(e==0?"":", ... ("+e+")")+" "+iE.get([23,0])+".",1500);
this.amR=[]};fx.prototype.aef=function(z,q){var e=fx.me(z),V=this.wO(),P=V[e],D=fx.arB(z);if(P==null){if(q!=!0){this.amR.push(z.name.fullName);
clearTimeout(this.ar6);this.ar6=setTimeout(this.a6G.bind(this),300)}D.aai=fx.azZ(z,D);this.p0(D)}delete this.wB[e];
this.JX[e]=z};fx.afR=function(){var z=fx.Un,q=[];for(var n=0;n<z.length;n++)q.push(z[n][0]);return q};
fx.azZ=function(z,q){var e=document.createElement("canvas"),V=e.getContext("2d"),P=e.width=fx.fJ,D=e.height=fx.I8,B=fx.I8*1.2/z.head.unitsPerEm;
V.translate(4,fx.I8*.9);V.scale(B,-B);V.fillStyle="#000000";var A=Typr.U.shape(z,fx.a9W(z,q[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(z,A),V);V.fill();var s=V.getImageData(0,0,P,D).data.buffer,a=hZ.nw("PNG").gB([[s,0]],P,D,{qual:1});
return"data:image/png;base64,"+hZ.aS(a)};fx.Un=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
fx.arB=function(z,q,e){var V=z.name,s=0;if(fx.me(z)==null){console.log(z);throw"No postScriptName!"}var P=fx.Un,D=[];
for(var n=0;n<P.length;n++){var B=P[n][2],A=P[n][3];D[n]=fx.LC(z,B)>A?1:0}for(var n=0;n<D.length;n++)s+=D[n]<<n;
var a=fx.age(z);return[a[0],a[1],fx.me(z),s,e,q]};fx.LC=function(z,q){var e=0,V=0;for(var P=0;P<q.length;
P+=2){for(var D=q[P];D<=q[P+1];D++){var B=Typr.U.codeToGlyph(z,D);if(B==0)V++;else e++}}return e/(e+V)};
fx.abl=function(z,q){if(z[2]<q[2])return-1;if(z[2]>q[2])return 1;return 0};fx.aBz=function(z,q){if(z[5]=="fs/"+z[2]+".otf")z[5]="";
else if(z[5]=="gf/"+z[2]+".otf")z[5]="a";if(z[2]==(z[0]+"-"+z[1]).replace(/\s/g,"")){z[2]=""}else if(z[2]==z[0].replace(/\s/g,"")){z[2]="a"}if(q){if(z[0]==q[0])z[0]="";
if(z[1]==q[1])z[1]="";if(z[3]==q[3])z[3]="";if(z[4]==q[4])z[4]=""}return z.join(",")};fx.adm=function(z,q){z=z.split(",");
if(z[0]=="")z[0]=q[0];if(z[1]=="")z[1]=q[1];if(z[3]=="")z[3]=q[3];else z[3]=parseInt(z[3]);if(z[4]=="")z[4]=q[4];
else z[4]=parseInt(z[4]);if(z[2]=="")z[2]=(z[0]+"-"+z[1]).replace(/\s/g,"");else if(z[2]=="a")z[2]=z[0].replace(/\s/g,"");
if(z[5]=="")z[5]="fs/"+z[2]+".otf";else if(z[5]=="a")z[5]="gf/"+z[2]+".otf";return z};fx.TA={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular","EBGaramondRoman-SemiBold":"EBGaramond-SemiBold",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",Gobold:"Bebas-Regular",GoboldThin:"Bebas-Regular",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
fx.prototype.wO=function(){if(FNTS.map==null){var z=FNTS.list,q=[];for(var n=0;n<z.length;n++){q[n]=fx.adm(z[n],q[n-1]);
q[n].XW=n;this.p0(q[n])}}return FNTS.map};fx.prototype.p0=function(z){var q=z[0],e=z[1],V=z[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[z[2]]=z;if(FNTS.mapFS==null)FNTS.mapFS={};var P=FNTS.mapFS[q+"---"+e];FNTS.mapFS[q+"---"+e]=z;
if(FNTS.mapSub==null)FNTS.mapSub={};var D=FNTS.mapSub[q];if(D==null)D=FNTS.mapSub[q]=[];var B=D.indexOf(e);
if(B==-1)D.push(e);else D[B]=e};fx.ado=function(z,q){return fx.b0(z)-fx.b0(q)};fx.b0=function(z){z=z.toLowerCase();
var q=fx.axZ(z)+(fx.aGz(z)<<1);if(z.indexOf("cond")==-1)q+=1<<25;return q};fx.axZ=function(z){return z.indexOf("italic")!=-1||z.indexOf("oblique")!=-1?1:0};
fx.aBR="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
fx.aa0=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
fx.aGz=function(z){var q=fx.aa0,e=-1,V=-1;for(var n=0;n<q.length;n++){var P=q[n];if(P instanceof Array)for(var D=0;
D<P.length;D++){var B=P[D];if(z.indexOf(B)!=-1&&(e==-1||V<B.length)){e=n;V=B.length}}else if(z.indexOf(P)!=-1&&(e==-1||V<P.length)){e=n;
V=P.length}}if(e==-1)e=8;return e};fx.Z0=function(z,q){var e=1e9,V=null,P=fx.b0(q);for(var n=0;n<z.length;
n++){var D=Math.abs(fx.b0(z[n])-P);if(D<e){e=D;V=z[n]}}return V};fx.prototype.ut=function(z,q){this.wO();
return FNTS.mapFS[z+"---"+q]};fx.prototype.YG=function(z){this.wO();return FNTS.mapSub[z]};fx.prototype.va=function(){this.wO();
return FNTS.mapSub};fx.b3={MH:null,Av:null};fx.b3.zc=function(z){fx.b3.Av=z;var q=window.locStor.getItem("localFonts");
if(q){q=hZ.hS(q);q=pako.inflate(new Uint8Array(q));q=fx.b3.MH=JSON.parse(y.vK(q));fx.b3.sE()}};fx.b3.load=function(z){var q=window.queryLocalFonts,e=fx.b3.MH.toPSN,V;
for(var hE in e)if(e[hE].indexOf(z)!=-1)V=hE;q({postscriptNames:[V]}).then(fx.b3.adU)};fx.b3.sE=function(){var z=fx.NS,q=fx.b3.MH,e=q.imap,V=z.wO();
for(var P in e){if(V[P])continue;var D=e[P].slice(0);D.aai=q.tmap[P];z.p0(D)}};fx.b3.X7=function(){var z=fx.b3.MH,q=pako.deflate(y.GY(JSON.stringify(z))),e=hZ.aS(q.buffer);
console.log(e.length);window.locStor.setItem("localFonts",e)};fx.b3.Iv=function(){var z=fx.b3.MH;return z!=null&&z.added};
fx.b3._w=function(z,q,e){if(z==!1){fx.b3.MH=null;window.locStor.removeItem("localFonts");return}var V=fx.b3.MH;
if(V){V.added=!V.added;fx.b3.X7();fx.b3.sE();return}var P=window.queryLocalFonts;if(P==null){alert("This feature is not available in your web browser :(");
e();return}P().then(fx.b3.adU.bind({a4K:q,aP7:e}))};fx.b3.adU=async function(z){if(z.length==0){alert("You didn't allow us to access your fonts.");
this.aP7();return}if(z.length==1){var q=await z[0].blob();q=await q.arrayBuffer();fT.BU({name:"file.otf"},q,fx.b3.Av);
return}var e=new dW(_.E.b,!0),D=!1;e.data={p:_.m.lu,MN:"Loading local fonts ..."};fx.b3.Av.K(e);var V=Date.now(),P=fx.b3.MH;
if(P==null)P=fx.b3.MH={toPSN:{},imap:{},tmap:{},added:!0};var B={};for(var n=0;n<z.length;n++){var A=z[n],s=A.postscriptName;
B[s]=!0;console.log(s);if(P.toPSN[s])continue;var q=await A.blob();q=await q.arrayBuffer();if(hZ.J7(q)!="otf")continue;
var a=Typr.parse(q),M=[];for(var $=0;$<a.length;$++){var U=a[$],o=fx.me(U);M.push(o);if(P.imap[o])continue;
var t=P.imap[o]=fx.arB(U,"--loc",0);P.tmap[o]=fx.azZ(U,t)}P.toPSN[s]=M;D=!0}for(var s in P.toPSN)if(B[s]==null){var H=P.toPSN[s];
delete P.toPSN[s];for(var n=0;n<H.length;n++){delete P.imap[H[n]];delete P.tmap[H[n]]}D=!0}if(D){console.log(Date.now()-V);
fx.b3.X7();fx.b3.sE();this.a4K()}else console.log("no change");var e=new dW(_.E.b,!0);e.data={p:_.m.Rx,MN:"Loading local fonts ..."};
fx.b3.Av.K(e);alert("Local fonts loaded!")};var iE={};iE.lS=0;iE.mc={};iE.aff=function(z){var q=LNG.tables,e=q[z];
if(e==null)e=q[0];if(typeof e=="string"){e=q[z]=iE.Vo(e)}return e};iE.Vo=function(z){var q=[],e=0,V=0,P=[],D=z.length;
while(V!=D){var B=z[V];if(B=="["){q.push(P);P=[];V=e=V+1}else if(B=="]"){P.push(e==V?null:z.substring(e,V));
var A=P;P=q.pop();P.push(A);V=e=V+1}else if(B==";"){if(z[V-1]!="]")P.push(e==V?null:z.substring(e,V));
V=e=V+1}else V++}return P};iE.get=function(z){if(typeof z=="string")return z;var q=typeof z[0];if(q=="number"){for(var n=1;
n<z.length;n++)if(typeof z[n]!="number"){console.log(z);throw"e"}return iE.Wh(z)}var e=iE.get(z[0]);
for(var n=1;n<z.length;n++){var V=iE.get(z[n]),P=e.indexOf("VAR"+(n-1));e=e.slice(0,P)+V+e.slice(P+4)}return e};
iE.Wh=function(z){var q=JSON.stringify(z);if(iE.mc[q]!=null)return iE.mc[q];var e=iE.aff(0),V=iE.aff(iE.lS),P=iE.a0c(z,V);
if(P==null)P=iE.a0c(z,e);return P};iE.a0c=function(z,q){for(var n=0;n<z.length;n++){q=q[z[n]];if(q==null)return null;
else if(typeof q=="string")break}if(q instanceof Array)q=q[0];return q.split("::")[0]};iE.aL1=function(){var z=navigator.languages;
for(var n=0;n<z.length;n++)if(z[n]=="zh-HK"||z[n]=="zh-TW"||z[n]=="zh-MO")z[n]="zh-CHT";return z};iE.afB=function(){var z=iE.aL1(),q=function(V,P){var D=V.code,B=P.code;
if(D=="en")return-1;if(B=="en")return 1;var A=z.indexOf(D)!=-1,s=z.indexOf(B)!=-1;if(A&&s)return D>B?1:-1;
if(A)return-1;if(s)return 1;return D>B?1:-1},e=LNG.langs.slice(0);e.sort(q);return e};iE.a7m=function(z,q){iE.lS=z;
if(LNG.tables[z])q();else{var e=new XMLHttpRequest;e.open("GET",lA.A6("code/lang/"+z+".js"));e.onreadystatechange=function(){LNG.tables[z]=e.responseText;
q()};e.send()}};iE.arz=function(z,q){for(var e=0;e<2;e++){var V=!1;for(var n=0;n<LNG.langs.length;n++)if(LNG.langs[n].code==z){iE.a7m(n,q);
V=!0}if(V)break;z=z.split("-")[0]}};iE.gR=function(){return LNG.langs[iE.lS].code};iE.a4e=function(z){for(var n=0;
n<z.length;n+=2)if(z[n+1].indexOf(">")==-1)iE.mc[JSON.stringify(z[n])]=z[n+1]};iE.aAS=function(z){var q=-1,e=LNG.langs;
for(var n=0;n<e.length;n++)if(e[n].code==z)q=n;return q};var ln={sH:!1,LX:!1,a7Q:!1,MQ:null};ln.Qv=function(){return J.PN[jS.im]!=J.PN[jS.aK6]};
ln.YB=function(){var z=J.PN[jS.y0][jS.ayl];if(z==null)z=[J.PN[jS.oe][jS.Tl]];for(var n=0;n<z.length;
n++){if(z[n].indexOf(jS.Mh("UUPSDm@ID"))!=-1)return!0;if(z[n].indexOf(jS.Mh("U^JSHR@>Ea4=8"))!=-1)return!0;
if(z[n].indexOf(jS.Mh("U^JSHRj=FA"))!=-1)return!0}return!1};ln.c9=function(){var z=J.PN[jS.oe],q=z[jS.fz],e=0,V=jS.hM,P=J.Mh("PP\\KQSB"),D=J.Mh("Y_5UDDB>idge"),B=z[jS.Lp](jS.cu);
B[V](jS.f6,P);B[V](jS.nq,J.Mh("fUMZKyqifDIhJ0*+&$-OG?<y~>"));q[jS.k9](B);B=z[jS.aqI](P);if(B==null){e=2}else{if(!q[J.Mh("R[WZDIKM")](B)){e=3}else if(Math.round(B[J.Mh("VQ](RUK>@B8p71*03m}x'")]()[jS.aPa]-500)>5){e=4}q[jS.ajq](B)}if(ln.LX)e=5;
if(ln.a7Q)e=6;return e};ln.av8=function(z){var q=J.kc("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),e={method:"HEAD",mode:"no-cors"},V=new Request(q,e);
fetch(V).then(function(P){return P}).then(function(P){var q=J.kc("y),+1ZRU+1]7EN>KGHTTQ\\\"e_q/ig ur\"$F%\"1"),V=new Request(q,e);
fetch(V).then(function(P){return P}).then(function(P){var D=J.kc("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),V=new Request(D);
fetch(V).then(function(P){P.text().then(function(B){ln.LX=B.length<900;z(B.length<900)})}).catch(function(B){ln.LX=!0;
console.clear();z(!0)})}).catch(function(D){ln.LX=!0;console.clear();z(!0)})}).catch(function(P){ln.LX=!0;
console.clear();z(!0)})};ln.aD2=function(){var z=J.Mh("UU[YW#ECC8"),q=J.Mh("VQ](RUK>@B8p71*03m}x'"),e=J.Mh("WQRMKT"),V=this.Fm[z][q]();
if(V[e]<4){ln.a7Q=!0;this.a5f(!0)}};ln.aj$=function(){var z=J.PN._cwY,q=J.PN[jS.aoi],e="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",V=String.fromCharCode(32);
z(J.Mh(e)+V+V+ln.c9());if(!lA.aY())q(ln.aj$,Math.round(Math.PI*1e4))};ln.acR=function(z){var q=J.PN[jS.oe],e=q[jS.Lp](z[0]);
for(var V in z[1]){if(V=="txt")e[jS.BE]=z[1][V];else e[jS.hM](V,z[1][V])}return e};ln.aDq=function(z,q,e,V){J._8(e);
var P=J.PN[jS.oe],D=J.kc(" u.$%\"86<"),B=J.kc("!#c$,&"),A=J.PN[D][B],s=J.PN[J.kc(" u.$%\"86<")][J.kc("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!ln.Qv()&&!ln.c9()&&A&&z*q>300*300&&!s){var a=P[J.Mh("VQ]+OEJ?EHDoD{&)l|&z")](jS.nI)[0],M=JSON.parse(J.kc("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var n=0;n<M.length;n++){var $=ln.acR(M[M.length-1-n]);a[jS.aFL]($,a[jS.aDS])}var U=J.kc("p}&$2a(:"),o=J.kc("'#!}i0%+"),t=J.kc("ps,}$\"40"),c=J.PN.__cbu=ln.acR(JSON.parse(jS.Mh("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
e[jS.k9](c);J.PN.___ggo=function(){J.PN[t](jS.fZ,2,function(F,i){if(i&&F[o]==!0){J.PN.__csrf=null;if(!J.PN[U]){J.PN[U]=!0;
var X=ln.aMo.bind({Kx:e,head:a,Hi:q});X()}}else{J.PN.__csrf=!0}})}}else{var H=ln.aAE.bind({Fm:e,aIN:V,Hi:q});
H();setInterval(H,3e4)}};ln.aAE=function(){var z=J.PN[jS.oe],q=this.Fm,e=this.aIN,V=ln.MQ,P=this.Hi;
J._8(q);var D=J.PN[J.kc(" u.$%\"86<")][J.kc("}u&\"3\"+,")].slice(0,2)=="r"+"u"&&Math.random()<1.25,B=V==1?1:ln.aLg(P),A=LNKS,s=z[jS.Lp]("a");
s.textContent=jS.Mh("0PhHOO@E@B8M/-9'\"0}y");s[jS.hM](jS.bk,jS.Mh("}z`]ZmMBFH@>0)R%.)G*($ 8vkoqigYRz^I^UkEe7@\\/66',')~Arr~5gws)b#T]yXVXo"));
s[jS.hM](jS.aK8,jS.kc("pv${,,"));s[jS.hM](jS.nq,jS.Mh("R[UUUyTB@H6h"));if(!D&&!ln.Qv())q[jS.k9](s);for(var n=0;
n<B;n++){var a=Math.random(),M=0,$=0;while(M+A[$][0]<a){M+=A[$][0];$++}if(D)$=1;if(A[$][7]&&Date.now()>A[$][7])$=0;
var U=A[$],o=z[jS.Lp](jS.n3);o[jS.hM](jS.nq,jS.Mh("Ra[YRRvJF=?B0:_")+jS.Mh(V==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
o[jS.hM](jS.aj,U[V]);console.log(U[V]);if(U.length>3){var t=U[3]+U[3+V],s=z[jS.Lp]("a");s[jS.hM](jS.bk,t);
s[jS.hM](jS.aK8,jS.kc("pv${,,"));s[jS.k9](o);q[jS.k9](s);o[jS.fZ](jS.Rp,function(){lA.event("sclick_"+this.aqb[6])}.bind({aqb:U.slice(0)}),!1)}else{o[jS.fZ](jS.Rp,e,!1);
q[jS.k9](o);o[jS.fZ](jS.Rp,function(){lA.event("sclick_show account")}.bind({aqb:U.slice(0)}),!1)}}};
ln.aLg=function(z){var q=2;if(z>=3*270+30)q=3;if(z>=4*270+30)q=4;return q};ln.aI_=function(z,q){var e=q;
q-=30;var V=[];if(z==0)V.push(9);if(z==1){V.push(1);q-=600+10}if(z==2){if(q-260>0){V.push(2);q-=260}if(q-260>0){V.push(3);
q-=260}if(q-260>0){V.push(4);q-=260}if(q-110>0&&V.length<3){V.push(7);q-=110}}return V};ln.aMo=function(){var z=jS.k9,q=jS.hM,e=jS.fZ,V=jS.TA,P=jS.nq,D=jS.aj,B=J.Mh("P_bTF"),A=jS.BE,s=jS.Qi,a=J.PN[jS.oe],M=jS.Lp,$=jS.Fu,U=this.Kx,o=ln.MQ,t=this.head,c=this.Hi,H=J.kc("~u*\"'/P)9ADBCrlnR]"),F=J.PN.__cbu,K=0;
if(F&&o==0)F[jS.hM](jS.nq,"position:absolute; left:124px; bottom:2px");var i=[1/11,10/11,0/12],X=Math.random();
while(i[K]<X&&K<i.length-1){X-=i[K];K++}var f=new URLSearchParams(window.location.search),d=f.get("a"+"dsf"+"rom");
if(d!=null)K=parseFloat(d);var L=ln.aI_(o,c);console.log(K);if(K==0){if(!ln.sH){ln.sH=!0;for(var n=0;
n<2;n++){var G=a[jS.Lp](jS.Fu),x=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][n];
G[jS.hM](jS.aj,jS.kc(x));G[jS.hM](jS.sc,"");t[jS.k9](G)}var O=JSON.parse(jS.kc("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFBETK*-eijirwvGxK$&)(025e7iBFGFVP!R%]abank<?pgq^Yckimedel{|qFJK7SXWQV^5;>0EU\\ROTyeY$9#0)q| z#~1!*S-15;C=.JPXnp{!'-+053=A7@BJIMUYUY``^C>HPNRJIxQ`aV+30{<9<625D;y|U]ZYfcf7h;swxw%\"%Uz}!$'*-036vH?I61;CAE=<=DSTI}&#n/,/)%(4<rx{m#3:0-2WC7av`mfOZ]X`\\n^g1jnrx!zk(.6LNY^djhmrpz~t} ('+3737>><!{&.,0('V/>?4jjmYu{ysor\"xWZ5587@FDtFxRXVU^db3d7qqts|}!QT&|'snx!~#zyz\"12']]`LhnlfbeqyPVYK`pwmjo5!t?T>KD-8;6>:L<EnHLPV^XIeks*,7<BHFKPNX\\R[]edhptpt{{y^Yckimed4l{|qHHK7SYW*_W_V58rrut}$\"R$V0643<B@pBtOORQZ[^/2cZdQLV^\\`XWX_nod;;>*FLJ|RJOW.47)>NUKHMr^R|2{)\"juxs{w*y#L&*.4<6'CIQgity &$).,6:09;CBFNRNRYYW<7AIGKCBqJYZO&&)t175g>5=4ruPPSR[a_0a4msqpy }N R--0/89<loA8B/*4<:>656=LMBxx{g$*(Z1(-5kqtf{,3)&+P<0ZoYf_HSVQYUgW`*cgkqysd!'/EGRW]cafkiswmvx! $,0,0775yt~'%)! O(78-ccfRntrE|rzqPS..109?=m?qKQONW][,]0jjmluvyJM~u lgqyw{srsz*+ VVYEage8oejrIORDYipfch.ym8M7D=&14/73E5>gAEIOWQB^dl#%05;A?DIGQUKTV^]aimimttrWR\\dbf^]-etujAAD0LRP#[PXO.1kknmv|zK|O)/-,5;9i;mHHKJSTW(+\\S]JEOWUYQPQXgh]447#?ECuNCHP'-0\"7GNDAFkWKu+t\"zcnqltp#r{E~#'-5/ <BJ`bmrx~|\"'%/3)24<;?GKGKRRP50:B@D<;jCRSH~~\"m)+.($'6-knIILKWU&W*ddgfnpsDGxoyfaksqumlmt$%yPPS?Z\\_Y^f=CF8M]dZW\\\"ma,A+81y%(#+'9)2[59=CKE6RX`vx$)/538=;EI?HJRQU]a]ahhfKFPXVZRQ!Yhi^558$CA;7:=LC\"\\\\_^jh9jakXS]ecg_^_fuvkBBE1PNHMU,25'<LSIFKp\\Pz0y' hsvqyu(w!J$(,2:4%AGOegrw}$\"',*48.79A@DLPLPWWU:5?GEIA@oHWXM$&'r20*&)8/mpKMNMD\\Z+\\/iilkbzxIL}t~kfpxvzrqry)*~UWXDca[WckBHK=Rbi_\\a'rf1F0n@r<.)3;9=545<KLAuyzf#('{)\"snx!~#zyz\"12'[c`LlilangYT^fdh`_`gvwlCCF2NTRGTM?:DLJNFEFM\\]R)),w4:8j@3@9+&086:2129HI>ttwc &$V-~,%vq{$\"&}|}%45*``cOkqoByjwpb]gomqihip !uLLO;W][.fVc\\NIS[Y]UTU\\kla88;'BDG<IB4/9A?C;:;BQRG}}!l,*~,%vq{$\"&}|}%45*`bcOnla@qjcX`Ygr,hsvqyu(w!<\\B=2:3ALeBMPKSOaQZuux~}huoH1ot8X@CF1<?:B>P@IrKXR~dlme(i{wo${%'CGA@GA/CSG;yGRUPXTfV_)nvfhn!8<Q9>KD6*Y3;H9=JF-USaYTbEk`f-1F.\"uE ,\"&3/ 9A=EA1GV]Pae{ 5|pd4l{{~v)/$f28?Gt=MMdh}eP[^Ya]o_h2lxnr {l\"29/,1BY]rZ]^l\"kxKtw%}sg}|8o}}~)W$)5>2BmMB@SJ~x!}al2bbijn}FEBE)4YCPI?3IHc;IIJT#OT`i]m9xmk~uJFFI-8]G&)")),v=O[2]+"\n";
for(var n=0;n<L.length;n++)v+=O[0][L[n]]+"\n";var G=a[jS.Lp](jS.Fu);G[jS.BE]=v+O[3];t[jS.k9](G);for(var n=0;
n<L.length;n++){var C=a[jS.Lp](jS.cu);C[jS.hM](jS.f6,O[1][L[n]]);if(L[n]!=0)C[jS.hM](jS.nq,O[4][o]);
C[jS.nq].marginBottom="10px";var G=a[jS.Lp](jS.Fu),v=jS.kc("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+O[1][L[n]]+"'); });";
G[jS.BE]=v;C[jS.k9](G);U[jS.k9](C)}}}else if(K==1){var G=a[M]($);G[q](D,J.kc("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
G[q](jS.sc,"");t[z](G);var S=JSON.parse(J.kc("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<")),j=JSON.parse(J.kc("l6/$\"5,`I]abFQv^JJQRVe.v,10s~D.;4-\" 3*^G[c`DOt\\HHOPTc,t.+.q|B,92+ }1(\\E[[^BMrZFFMNRa*r(.,oz@*70~}&G5*(;2fOeehLW|dUT\\}\\\\cdhw@)=FK&1V@MF?42E<pYoorVa'nZZabfu>'<B@$/T>KD=20C:nWmmpT_%lXX_`ds<%:@>\"-R<IB;0.A8lUkknR]#jVV]^bq:#8>< +P:G@9.,?6jSiilP[!hTT[\\`o8!57:})N8E>7,*=4hQggjNY~fRRYZ^m6~\":8{'L6C<5*(;2fOeghLW|dPPWX\\k4| 86y%J4r"));
for(var n=0;n<L.length;n++){var C=a[M](J.Mh("SU_")),w=L[n];C[q](jS.f6,S[w]);C[q](P,H+";"+j[w]);U[z](C)}}else{var G=a[jS.Lp](jS.Fu),x="y),+1ZRU+1>6:GiMGYvX4kKoLOi";
G[jS.hM](jS.aj,jS.kc(x));G[jS.hM](jS.sc,"");t[jS.k9](G);var O="120x240 160x600 300x250 300x250_0 300x250_1 300x250_2 300x250_3 300x100  320x50".split(" ");
for(var n=0;n<L.length;n++){var C=a[M](J.Mh("SU_")),w=L[n];C[q]("data-onpage","true");C[q]("data-adpath","/339474670,21623892374/Photopea/Photopea_"+O[w]);
C[q](P,H);U[z](C)}}if(F)U[z](F)};ln.s7=function(z,q,e,V){clearInterval(ln.Ah);ln.OW=z;ln.f6=e?e:"default";
ln.jy=V==null?1:V;if(ln.axq==null){ln.axq=!0;var P=J.PN[jS.oe],D=P[jS.fz],B=P[J.Mh("VQ]+OEJ?EHDoD{&)l|&z")](jS.nI)[0],A=window.location.href.indexOf("nuwara")==-1?0:1;
ln.aNa=A;console.log("===",A);if(A==0){var s=P[jS.Lp](jS.Fu);s[jS.hM](jS.aj,"//www.googletagservices.com/tag/js/gpt.js");
B[jS.k9](s);var s=P[jS.Lp](jS.Fu);s[jS.BE]="window.googletag = window.googletag || {cmd: []};";B[jS.k9](s)}else{var s=P[jS.Lp](jS.Fu);
s[jS.hM](jS.aj,"//securepubads.g.doubleclick.net/tag/js/gpt.js");s[jS.hM](jS.sc,"");B[jS.k9](s);var s=P[jS.Lp](jS.Fu);
s[jS.hM](jS.aj,"//www.nuload.net/photopea/ad.js");s[jS.hM]("type","module");B[jS.k9](s);window.addEventListener("loadEnded",function(){window.__nuwara__=!0})}}if(q==null)q="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var a=window.confirm(q);if(!a)return;ln.Ah=setInterval(ln.xZ,50)};ln.xZ=function(){var z=ln.aNa;ln.T1=1;
if(z==0){var q={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[ln.f6];
if(z==1)q="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var e=window.googletag;if(e==null)return;
e.cmd.push(function(){var P=e.defineOutOfPageSlot(q,e.enums.OutOfPageFormat.REWARDED).addService(e.pubads());
e.enableServices();e.pubads().addEventListener("rewardedSlotReady",function(D){D.makeRewardedVisible()});
e.pubads().addEventListener("rewardedSlotGranted",function(){if(ln.T1==1){ln.jy--;ln.T1=2;if(ln.jy==0){if(ln.OW)ln.OW();
ln.OW=null}}});e.pubads().addEventListener("rewardedSlotClosed",function(){if(ln.T1==2){ln.T1=0;if(ln.jy>0)ln.xZ()}});
e.display(P);e.pubads().refresh([P])})}else{if(window.__nuwara__==null)return;console.log("calling PlayRewarded");
var V=new CustomEvent("PlayRewarded",{detail:{callback:function(){if(ln.T1==2){ln.jy--;ln.T1=0;if(ln.jy>0)ln.xZ();
else{if(ln.OW)ln.OW();ln.OW=null}}}}});window.dispatchEvent(V);ln.T1=2}clearInterval(ln.Ah)};var l3={Qk:-2,bK:{expires_at:0},tp:[]};
l3.qz=function(z){if(z)l3.tp.splice(0,0,z);if(l3.Qk==-2){l3.Qk=-1;var q=document.createElement("script");
q.src="//apis.google.com/js/client.js";document.body.appendChild(q);q.onload=function(e){setTimeout(function(){l3.Qk=0;
l3.qz()},100)}}if(l3.Qk==-1)return;if(l3.Qk==1)return;if(l3.bK.expires_at>Date.now()*.001+30){while(l3.tp.length>0)l3.tp.pop()()}else{if(l3.Qk==0)l3.Qk=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:l3.Qk==2?!1:!0},l3.a7f)})}};
l3.a7f=function(z){if(z&&!z.error){l3.bK=z;l3.Qk=!1;l3.qz()}else if(l3.Qk==1){l3.Qk=2;l3.qz()}else alert("Error: "+z.error)};
l3.acN=function(){return"access_token="+l3.bK.access_token+"&token_type="+l3.bK.token_type};l3.aiJ=function(){return l3.bK.token_type+" "+l3.bK.access_token};
var jr={ae4:null};jr.hk=function(z,q){var e=z.aHT.a5E;if(e==null&&lA.aY()&&!jr.k_(q))e=window.locStor.getItem("__dak");
return e};jr.a0o=375<<3;jr.azo=function(z){var q=lA.mN();if(q==null)q={};var e=q.acc;if(e==null)return 0;
var V="aiu"+lA.Cf().id;if(e.aiu&&e[V]==null){e[V]=e.aiu;delete e.aiu;lA._h(q)}var P=e[V];if(P==null)return 0;
if(P["m"+z]==null)return 0;return P["m"+z]};jr.pl=function(){return Math.floor(Date.now()/(365.25*24*60*6e4/12))};
jr.ag8=function(z){return z*(365.25*24*60*6e4/12)};jr.k_=function(z){if(!lA.aY())return!1;return jr.azo(jr.pl())+z<=jr.a0o};
jr.a7l=function(z){lA.mN(function(){var q=lA.mN();if(q==null)q={};if(q.acc==null)q.acc={};var e="aiu"+lA.Cf().id,V=q.acc;
if(V[e]==null)V[e]={};var P=V[e],D="m"+jr.pl();if(P[D]==null)P[D]=0;var B=P[D],A=P[D]=B+z,s=20*Math.floor(A/20);
if(A>1e3&&B<=s&&A>s)alert(z+" AI credit"+(z==1?"":"s")+" spent. "+(jr.a0o-A)+" left to use (in this month).",3500);
lA._h(q,function(){})})};jr.s7=function(z){var q="This is a Premium feature. Go Premium for "+lA.lS+"5 a month (press \"Account\" at the top). Or watch";
if(lA.aY())q="Out of AI credits :( Watch";ln.s7(z,q+" a short ad to do it for free?","inpa",1)};jr.Tg=function(z){if(z&&jr.hL(z)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};jr.hL=function(z){function q(d,L){if((d&L)==0)return d;return d+L+1-(d&L)}var e=z.Z[z.j[0]],V=e.add.SoLd&&z.h==null,P=new kk(0,0,z.s,z.T),D=V?e.OX():z.h,B=D.V.HX(P),t=7;
if(!0){var A=0,H=0;while(!0){var s=1/Math.pow(2,A),a=B.s*s,M=B.T*s;if(Math.max(a,M)<=1024&&a*M*1.2<512*512)break;
A++}var $=8<<A,U=B.Y(),o=(512<<A)*(512<<A),t=1024<<A;while(!0){var c=U.Y();c.Gm(1,1);c.HX(P);if(c.D()*1.2<o&&Math.max(c.s,c.T)<t&&c.D()>U.D())U=c;
else break}for(var n=0;n<1e6;n++){var F=U.D(),i=n&3,X=U.s%$,K=U.T%$;if(K!=0&&i==0){U.y--;U.T++}if(X!=0&&i==1){U.s++}if(K!=0&&i==2){U.T++}if(X!=0&&i==3){U.x--;
U.s++}U=U.HX(P);if(U.D()==F)H++;if(H>1e3)break}var X=U.s%$,K=U.T%$;U.s=Math.min(U.s,t);if(X!=0)U.s+=$-X;
U.T=Math.min(U.T,t);if(K!=0)U.T+=$-K;return[U,A]}if(B.D()>1e3*1e3)return null;var f=q(B.s,7)*q(B.T,7)*1.2>512*512||Math.max(q(B.s,7),q(B.T,7))>1024;
if(Math.max(B.s,B.T)>1024*(f?2:1))return null;var o=512*512;if(f){o=1024*1024;t=15}while(!0){var U=B.Y();
U.Gm(1,1);U=U.HX(P);var a=q(U.s,t),M=q(U.T,t);if(U.D()>B.D()&&a*M<=o&&Math.max(a,M)<=2048)B=U;else break}B.s=q(B.s,t);
B.T=q(B.T,t);return B};jr.ajM=function(z,q,e,V,P){if(!navigator.onLine){alert("Get online to use this feature.");
return}var D=0,B,A,s,a="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@4*)77DH@=<VLYR[]Q*W,]jrwkv~(8E>37'+846>>ASTMVXL\"R'X104u!-:3|,/.4]UX.@<c=AYITuN]^#x&~th~}>x v !@MF19>2=ENFNJgtmX`^lZgneno/<5$z0+\"/6-67Vc\\6m(LdT_ A^u!.'{l{\"!|-?LE+::@C5jI>MFZ]Odu#{cousj!1>7#,&C\"",o=!1;
if(e){B=jr.hL(e)[0];D=jr.hL(e)[1]}a=JSON.parse(jS.kc(a));var M={};M[a[0]]=z;M[a[1]]=D>0?2:1;M[a[2]]=30;
M[a[3]]=e?a[4]:a[5];M[a[12]]=a[13];M[a[14]]=a[15];if(P)for(var $ in P)M[$]=P[$];console.log(M);var U="nude nudity nudify naked slut vagina pussy penis dick cock tits nipples boobs".split(" ");
for(var n=0;n<U.length;n++)if(z.indexOf(U[n])!=-1)o=!0;if(o){var t=jr.k_(3)?"Premium":"Free";lA.event("dez"+"go_Nu"+"de "+t)}var c=new FormData;
if(e==null)A=s=512;else{var H=e.Z[e.j[0]],F=e.h;if(H.add.SoLd&&e.h==null)F=H.OX();var i=T.n(B.D()*4);
T.aF(T.EZ(e.tW(),8),new kk(0,0,e.s,e.T),i,B);var X=T.n(B.D());T.KY(T.EZ(F.o,8),F.V,X,B);T.round(X);for(var n=0;
n<X.length;n++)if(i[n*4+3]<128)X[n]=255;for(var n=0;n<D;n++){console.log("downscaling");var K=T.W6(i,B);
i=K.Dm;var f=T.Lx(X,B);X=f.Dm;B=f.V}var d=hZ.nw("jpg"),L=d.gB([[i.buffer]],B.s,B.T,{qual:85}),G=T.n(B.D()*4);
G.fill(255);T.A$(X,G);var x=UPNG.encode([G.buffer],B.s,B.T,null,null,null,!0);c.append(a[9],new Blob([L],{type:"image/jpeg"}));
c.append(a[10],new Blob([x],{type:"image/png"}));A=B.s>>>D;s=B.T>>>D}for(var $ in M)c.append($,M[$]);
jr.asd(e==null?a[7]:a[8],c,q,V);jr.ae4=[A,s,D,q==null];return 1};jr.asd=function(z,q,e,V){var P=jS.Mh("W`]VVykh8D:[/-?).I{% >"),D=jS.Mh("31C-2ls kta^n_TQOPLVHP@L?4A.,.*'4|.zs\"|zns`amg[eNQ\\HIT==5E4@:),&%|vzwpo{xa`om]"),B=new J.PN[jS.ny],A;
if(e==null){var s=0,a=jS.Mh("XYJMH"),$=jS.Mh("XZRZBIJ;>9"),prompt=jS.Mh("_^XSST");if(q.get(a))s+=q.get(a).size;
if(q.get($))s+=q.get($).size;if(q.get(prompt))s+=q.get(prompt).length;var U=s*19+47631,o=String.fromCharCode(65+(U&15))+String.fromCharCode(100+(U>>>4&15));
A=jS.Mh("W`]VVykhNKH[;046.,}v@r{v5samc&X^W]ZvoODIt")+"m="+z+jS.Mh("tYNZKOAv")+o;B[jS.Mb](jS.ud,A,!0)}else{A=P+z;
B[jS.Mb](jS.ud,A,!0);B[jS.abK](jS.Mh("Gx-K]GLf\"9J"),e?e:D)}B[jS.a4X]=V;B[jS.$z]=V;B[jS.auQ]=jS.a1c;
B[jS.XT](q)};jr.lz=function(z,q){var e=jr.k_(q);lA.event("rembg_"+z+": "+(e?"Premium":"Free"));if(e){for(var n=0;
n<q;n++)lA.event("aiusg_"+lA.Cf().id);jr.a7l(q)}};function f5(z,q){if(!z)z=0;if(!q)q=0;this.x=z;this.y=q}f5.prototype.add=function(z){return new f5(this.x+z.x,this.y+z.y)};
f5.prototype.Y=function(){return new f5(this.x,this.y)};f5.prototype.Xs=function(z){this.x=z.x;this.y=z.y};
f5.prototype.bs=function(z){return this.x==z.x&&this.y==z.y};f5.prototype.normalize=function(z){var q=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=z/q;this.y*=z/q};f5.prototype.offset=function(z,q){this.x+=z;this.y+=q};f5.prototype.mX=function(z,q){this.x=z;
this.y=q};f5.prototype.SV=function(z){return new f5(this.x-z.x,this.y-z.y)};f5.h5=function(z,q){return f5.a51(z.x-q.x,z.y-q.y)};
f5.al9=function(z,q,e){return new f5(z.x+e*(q.x-z.x),z.y+e*(q.y-z.y))};f5.a0S=function(z,q){return new f5(z*Math.cos(q),z*Math.sin(q))};
f5.a51=function(z,q){return Math.sqrt(z*z+q*q)};f5.kJ={};f5.Pc={};f5.kJ.create=function(){var z=new Float32Array(4);
return z};f5.Pc.create=function(z){var q=new Float32Array(16);q[0]=q[5]=q[10]=q[15]=1;if(z)f5.Pc.set(z,q);
return q};f5.kJ.add=function(z,q,e){e[0]=z[0]+q[0];e[1]=z[1]+q[1];e[2]=z[2]+q[2];e[3]=z[3]+q[3]};f5.kJ.set=function(z,q){q[0]=z[0];
q[1]=z[1];q[2]=z[2];q[3]=z[3]};f5.Pc.set=function(z,q){q[0]=z[0];q[1]=z[1];q[2]=z[2];q[3]=z[3];q[4]=z[4];
q[5]=z[5];q[6]=z[6];q[7]=z[7];q[8]=z[8];q[9]=z[9];q[10]=z[10];q[11]=z[11];q[12]=z[12];q[13]=z[13];q[14]=z[14];
q[15]=z[15]};f5.Pc.multiply=function(z,q,e){var V=z[0],P=z[1],D=z[2],B=z[3],A=z[4],s=z[5],a=z[6],M=z[7],$=z[8],U=z[9],o=z[10],t=z[11],c=z[12],H=z[13],F=z[14],i=z[15],X=q[0],K=q[1],f=q[2],d=q[3];
e[0]=X*V+K*A+f*$+d*c;e[1]=X*P+K*s+f*U+d*H;e[2]=X*D+K*a+f*o+d*F;e[3]=X*B+K*M+f*t+d*i;X=q[4];K=q[5];f=q[6];
d=q[7];e[4]=X*V+K*A+f*$+d*c;e[5]=X*P+K*s+f*U+d*H;e[6]=X*D+K*a+f*o+d*F;e[7]=X*B+K*M+f*t+d*i;X=q[8];K=q[9];
f=q[10];d=q[11];e[8]=X*V+K*A+f*$+d*c;e[9]=X*P+K*s+f*U+d*H;e[10]=X*D+K*a+f*o+d*F;e[11]=X*B+K*M+f*t+d*i;
X=q[12];K=q[13];f=q[14];d=q[15];e[12]=X*V+K*A+f*$+d*c;e[13]=X*P+K*s+f*U+d*H;e[14]=X*D+K*a+f*o+d*F;e[15]=X*B+K*M+f*t+d*i;
return e};f5.Pc.inverse=function(z,q){var e=z[0],V=z[1],P=z[2],D=z[3],B=z[4],A=z[5],s=z[6],a=z[7],M=z[8],$=z[9],U=z[10],o=z[11],t=z[12],c=z[13],H=z[14],F=z[15],i=e*A-V*B,X=e*s-P*B,K=e*a-D*B,f=V*s-P*A,d=V*a-D*A,L=P*a-D*s,G=M*c-$*t,x=M*H-U*t,O=M*F-o*t,v=$*H-U*c,C=$*F-o*c,S=U*F-o*H,j=i*S-X*C+K*v+f*O-d*x+L*G;
if(!j){return null}j=1/j;q[0]=(A*S-s*C+a*v)*j;q[1]=(P*C-V*S-D*v)*j;q[2]=(c*L-H*d+F*f)*j;q[3]=(U*d-$*L-o*f)*j;
q[4]=(s*O-B*S-a*x)*j;q[5]=(e*S-P*O+D*x)*j;q[6]=(H*K-t*L-F*X)*j;q[7]=(M*L-U*K+o*X)*j;q[8]=(B*C-A*O+a*G)*j;
q[9]=(V*O-e*C-D*G)*j;q[10]=(t*d-c*K+F*i)*j;q[11]=($*K-M*d-o*i)*j;q[12]=(A*x-B*v-s*G)*j;q[13]=(e*v-V*x+P*G)*j;
q[14]=(c*X-t*f-H*i)*j;q[15]=(M*f-$*X+U*i)*j;return q};f5.Pc.akM=function(z,q,e){var V=q[0],P=q[1];e[0]=V*z[0]+P*z[4]+z[12];
e[1]=V*z[1]+P*z[5]+z[13]};f5.Pc.akp=function(z,q,e){var V=q[0],P=q[1],D=q[2],B=q[3];e[0]=z[0]*V+z[4]*P+z[8]*D+z[12]*B;
e[1]=z[1]*V+z[5]*P+z[9]*D+z[13]*B;e[2]=z[2]*V+z[6]*P+z[10]*D+z[14]*B;e[3]=z[3]*V+z[7]*P+z[11]*D+z[15]*B};
function kk(z,q,e,V){if(!z)z=0;if(!q)q=0;if(!e)e=0;if(!V)V=0;this.x=z;this.y=q;this.s=e;this.T=V}kk.prototype.D=function(){return this.s*this.T};
kk.prototype.Y=function(){return new kk(this.x,this.y,this.s,this.T)};kk.prototype.contains=function(z,q){return z>=this.x&&z<=this.x+this.s&&(q>=this.y&&q<=this.y+this.T)};
kk.prototype.vG=function(z){return this.contains(z.x,z.y)};kk.prototype.oq=function(z){return this.x<=z.x&&this.y<=z.y&&z.x+z.s<=this.x+this.s&&z.y+z.T<=this.y+this.T};
kk.prototype.Xs=function(z){this.x=z.x;this.y=z.y;this.s=z.s;this.T=z.T};kk.prototype.bs=function(z){return this.x==z.x&&this.y==z.y&&this.s==z.s&&this.T==z.T};
kk.prototype.Gm=function(z,q){this.x-=z;this.y-=q;this.s+=2*z;this.T+=2*q};kk.prototype.a4c=function(z){this.Gm(z.x,z.y)};
kk.prototype.HX=function(z){var q=Math.max(this.x,z.x),e=Math.max(this.y,z.y),V=Math.min(this.x+this.s,z.x+z.s),P=Math.min(this.y+this.T,z.y+z.T);
if(V<q||P<e)return new kk;else return new kk(q,e,V-q,P-e)};kk.prototype.Je=function(z){if(z.y+z.T<this.y||z.x>this.x+this.s||z.y>this.y+this.T||z.x+z.s<this.x)return!1;
return!0};kk.prototype.a8=function(){return this.s<=0||this.T<=0};kk.prototype.offset=function(z,q){this.x+=z;
this.y+=q};kk.prototype.aBS=function(z){this.offset(z.x,z.y)};kk.prototype.aI7=function(){this.x=this.y=this.s=this.T=0};
kk.prototype.mX=function(z,q,e,V){this.x=z;this.y=q;this.s=e;this.T=V};kk.prototype.X8=function(z){if(this.a8())return z.Y();
if(z.a8())return this.Y();var q=this.Y();q.al3(z);return q};kk.ez=new Float32Array(2);kk.prototype.al3=function(z){if(z.a8())return;
if(this.a8()){this.Xs(z);return}this.aLS(z.x,z.y);this.aLS(z.x+z.s,z.y+z.T)};kk.prototype.aLS=function(z,q){var e=Math.min(this.x,z),V=Math.min(this.y,q);
this.s=Math.max(this.x+this.s,z)-e;this.T=Math.max(this.y+this.T,q)-V;this.x=e;this.y=V};kk.prototype.aL5=function(z,q){this.x=z;
this.y=q;this.s=this.T=0};function e5(z,q,e,V,P,D){if(typeof z==="undefined"){z=1;q=0;e=0;V=1;P=0;D=0}this.x6=z;
this.c=q;this.I$=e;this.at=V;this.yK=P;this.ww=D}e5.prototype.vx=function(){return Math.sqrt(Math.abs(this.x6*this.at-this.c*this.I$))};
e5.prototype.aMF=function(){var z=this,q=function(e){return Math.abs(e)<1e-9?0:e};z.x6=q(z.x6);z.c=q(z.c);
z.I$=q(z.I$);z.at=q(z.at);z.yK=q(z.yK);z.ww=q(z.ww)};e5.prototype.a0=function(z){return new f5(z.x*this.x6+z.y*this.I$+this.yK,z.x*this.c+z.y*this.at+this.ww)};
e5.prototype.translate=function(z,q){this.yK+=z;this.ww+=q};e5.prototype.rotate=function(z){var q=new e5(Math.cos(z),-Math.sin(z),Math.sin(z),Math.cos(z),0,0);
this.concat(q)};e5.prototype.scale=function(z,q){var e=new e5(z,0,0,q,0,0);this.concat(e)};e5.prototype.concat=function(z){this.Xs(new e5(this.x6*z.x6+this.c*z.I$,this.x6*z.c+this.c*z.at,this.I$*z.x6+this.at*z.I$,this.I$*z.c+this.at*z.at,this.yK*z.x6+this.ww*z.I$+z.yK,this.yK*z.c+this.ww*z.at+z.ww))};
e5.prototype.TG=function(){var z=this.x6*this.at-this.c*this.I$;this.Xs(new e5(this.at/z,-this.c/z,-this.I$/z,this.x6/z,(this.I$*this.ww-this.at*this.yK)/z,(this.c*this.yK-this.x6*this.ww)/z))};
e5.prototype.Y=function(){return new e5(this.x6,this.c,this.I$,this.at,this.yK,this.ww)};e5.prototype.Xs=function(z){this.x6=z.x6;
this.c=z.c;this.I$=z.I$;this.at=z.at;this.yK=z.yK;this.ww=z.ww};e5.bM=function(z){return[z.x6,z.c,z.I$,z.at,z.yK,z.ww]};
e5.aBN=function(z){return new e5(z[0],z[1],z[2],z[3],z[4],z[5])};function hZ(){}hZ.a8i={a1Y:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),aoW:"DDS TIFF AVIF TGA EXR BMP ICO DXF RAW EMF PPM".split(" ")};
hZ.aEC={a1Y:["WAV","QOA"],aoW:["PDF","PNG"]};hZ.DR=function(n){var z=cW==2?hZ.aEC:hZ.a8i,q=z.a1Y,e=z.aoW,V,P=[];
if(n==null)V=q.concat(e);else V=n==0?q:e;for(var n=0;n<V.length;n++)if(hZ.nw(V[n]).gB)P.push(V[n]);return P};
hZ.LQ="psd jpg png gif webp svg bmp".split(" ");hZ.auK=["ai","svg","pdf"];hZ.sN=function(z,q){var e=z.memory.buffer.byteLength,V=(q-e>>>16)+1;
try{if(e<q)z.memory.grow(V)}catch(cz){return V*65536}return 0};hZ.ui={fV:function(z,q){fetch(z).then(function(e){return e.arrayBuffer()}).then(function(e){var V=new Uint8Array(e),P=0,s="";
if(q){P=V.length;var D={level:9},B=pako.deflateRaw(V,D),A=UZIP.deflateRaw(V,D);console.log(P,B.length,A.length);
V=B.length<A.length?B:A}for(var n=0;n<V.length;n++)s+=String.fromCharCode(V[n]);var a=btoa(s);console.log(JSON.stringify([P,a]))})},get:function(z,q){var e=BINDB[z],V=Date.now(),P=atob(e[1]),D=P.length,B=new Uint8Array(D);
for(var n=0;n<D;n++)B[n]=P.charCodeAt(n);if(e[0]!=0){var A=new Uint8Array(e[0]);UZIP.inflateRaw(B,A);
B=A}if(q){var s=hZ.J7(B.buffer);B=hZ.nw(s).EY(B.buffer)}return B}};(function(){var z=hZ.ui.get("wasm/dt").buffer;
if(window.WebAssembly==null){window.alert("Your browser is too old (no WebAssembly). Please, update it.");
return}WebAssembly.instantiate(z).then(function(q){hZ.a95=q})}());hZ.ajF=function(z,q){return new Promise(function(e,V){z.EY(q,null,function(P,D){e(D)})})};
hZ.J7=function(z){if(!(z instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var q=new Uint8Array(z),e=hZ.aJF,V,P=0,D=q.length-1;
if(e(q,[239,187,191]))P=3;while(P<q.length&&(q[P]==9||q[P]==10||q[P]==13||q[P]==32))P++;while(D!=0&&(q[D]==9||q[D]==10||q[D]==13||q[D]==32))D--;
if(e(q,[24,70,73,67]))V="gp3";if(e(q,[66,67,70,90]))V="gpx";if(e(q,[15,83,73,66]))V="mscz";if(e(q,[77,84,104,100]))V="mid";
if(e(q,[56,66,80,83]))V="psd";if(e(q,[6,6,237,245]))V="indd";if(e(q,[68,73,67,77],128))V="dcm";if(e(q,[99,104,108,118]))V="chlv";
if(e(q,[208,207,17,224])){if(y.yD(q,"L\0t\0f\0H\0e\0a\0d\0e\0r")!=-1)V="ufo";else V="office"}if(e(q,[102,116,121,112,109,105,102,49],4)||e(q,[102,116,121,112,97,118,105,102],4))V="avif";
if(e(q,[102,116,121,112,104,101,105,99],4)||e(q,[102,116,121,112,109,105,102,49],4)||e(q,[102,116,121,112,109,115,102,49],4))V="heic";
if(e(q,[102,116,121,112,105,115,111,109],4))V="mp4";if(e(q,[102,116,121,112,109,112,52,50],4))V="mp4";
if(e(q,[102,116,121,112,113,116,32,32],4))V="mp4";if(e(q,[102,116,121,112,105,115,111,53],4))V="mp4";
if(e(q,[26,69,223,163]))V="mkv";if(e(q,[102,116,121,112,99,114,120,32],4))V="cr3";if(e(q,[0,255,75,65]))V="afphoto";
if(e(q,[67,83,70,67,72,85,78,75]))V="clip";if(e(q,[70,82,65,67]))V="frac";if(e(q,[120])&&[94,156,218].indexOf(q[1])!=-1)V="pxd";
if(e(q,[80,68,78,51]))V="pdn";if(e(q,[103,105,109,112,32,120,99,102,32]))V="xcf";if(e(q,[102,105,103,45,107,105,119,105]))V="fig";
if(e(q,[105,99,110,115]))V="icns";if(e(q,[137,80,78,71,13,10,26,10])){V="png";var B=8;while(B<q.length){var A=y.vQ(q,B);
B+=4;var s=y.JU(q,B,4);B+=4;if(s=="mkTS")V="fpng";B+=A+4}}if(e(q,[87,76]))V="cdr";if(e(q,[82,73,70,70])){var a=aI.iA(q),M=a.U0;
if(M=="WEBP")V="webp";else if(M.slice(0,3)=="CDR")V="cdr";else if(M=="sfbk")V="sf2";else if(M=="WAVE")V="wav";
else V=M}if(e(q,[70,79,82,77])||e(q,[70,79,82,52])||e(q,[76,73,83,84])||e(q,[67,65,84,32])){var a=g3.iA(q),M=a.U0;
if(M=="ILBM"||M=="CIMG"||M=="ANIM")V="ilbm";else V=M}if(e(q,[255,216,255]))V="jpg";if(e(q,[0,0,0,12,106,80,32,32]))V="jpx";
if(e(q,[48,0,1,0],4))V="jb2";if(e(q,[71,73,70,56]))V="gif";if(e(q,[255,10])||e(q,[0,0,0,12,74,88,76,32,13,10,135,10]))V="jxl";
if(e(q,[0,0,0,2,121,102,113,76]))V="msh";if(e(q,[0,0,0,3,121,102,113,76]))V="msh";if(e(q,[0,0,0,16]))V="atn";
if(e(q,[0,1]))V="aco";if(e(q,[0,2]))V="aco";if(e(q,[65,83,69,70]))V="aco";if([0,1].indexOf(q[1])!=-1&&[1,2,3,9,10,11].indexOf(q[2])!=-1&&[0,16,24,32].indexOf(q[7])!=-1)V="tga";
if(e(q,[0,2,56,66,83,76]))V="asl";if(e(q,[0,1,0,-1,0,2,0]))V="abr";if(e(q,[0,2,0,-1,0,2,0]))V="abr";
if(e(q,[0,6,0,1]))V="abr";if(e(q,[0,6,0,2]))V="abr";if(e(q,[0,7,0,2]))V="abr";if(e(q,[0,9,0,2]))V="abr";
if(e(q,[0,10,0,2]))V="abr";if(e(q,[56,66,70,83]))V="shc";if(e(q,[56,66,80,84]))V="pat";if(e(q,[56,66,71,82]))V="grd";
if(e(q,[71,73,77,80,32,71,114,97]))V="grd";if(e(q,[56,66,84,80]))V="tpl";if(e(q,[0,4,0,5]))V="acv";if(e(q,[99,117,115,104]))V="csh";
if(e(q,[0,1,0,0,0]))V="otf";if(e(q,[79,84,84,79]))V="otf";if(e(q,[116,116,99,102]))V="otf";if(e(q,[119,79,70,70]))V="otf";
if(e(q,[68,68,83,32]))V="dds";if(e(q,[80,86,82,3]))V="pvr";if(e(q,[86,84,70,0]))V="vtf";if(e(q,[83,73,77,80]))V="fits";
if((e(q,[0,0,1,0])||e(q,[0,0,2,0]))&&q[4]!=0)V="ico";if(e(q,[66,77]))V="bmp";if(e(q,[40,0,0,0]))V="bmp";
if(e(q,[80,49]))V="ppm";if(e(q,[80,50]))V="ppm";if(e(q,[80,51]))V="ppm";if(e(q,[80,52]))V="ppm";if(e(q,[80,53]))V="ppm";
if(e(q,[80,54]))V="ppm";if(e(q,[73,73,42,0]))V="tiff";if(e(q,[77,77,0,42]))V="tiff";if(e(q,[73,73,85,0]))V="tiff";
if(e(q,[73,73,82,83]))V="tiff";if(e(q,[73,73,82,79]))V="tiff";if(V=="tiff"){var $=UTIF.decode(q);if($.length!=0){var U=hZ.Xl.aBe($);
if(U[1])V=U[1];else if($[0].t37724)V="ptif"}else V="---"}if(e(q,[70,85,74,73,70,73,76,77]))V="raf";if(e(q,[112]))V="lif";
if(e(q,[73,73,26,0]))V="ciff";if(e(q,[83,81,76,105]))V="sketch";if(e(q,[80,75])){var o=UZIP.parse(z,!0),t=!1;
for(var c in o)if(c.endsWith(".mscx"))t=!0;if(o["document.json"])V="sketch";else if(o.manifest)V="xd";
else if(o["maindoc.xml"])V="kra";else if(o["content/root.dat"])V="cdr";else if(o["content/riffData.cdr"])V="cdr";
else if(o["canvas.fig"])V="fig";else if(o["manifest.json"])V="pxz";else if(o["designmap.xml"])V="idml";
else if(t)V="mscz";else V="zip"}if(q.length>260&&e(q,[117,115,116,97,114,32],257))V="zip";if(e(q,[55,122,188,175]))V="7z";
if(e(q,[123]))V="json";if(y.vQ(q,0)==q.length)V="icc";if(e(q,[35])&&V==null)V="icc";if(e(q,[84,73,84,76],P))V="icc";
if(e(q,[76,85,84,95],P))V="icc";if(e(q,[60,63,120,109],P)){if(y.yD(q,"<look>")!=-1)V="icc";else if(y.yD(q,"<museScore ")!=-1)V="mscz";
else V="svg"}if(e(q,[255,254,60,0],P))V="svg";if(e(q,[60,115,118,103],P))V="svg";if(e(q,[60,33,100,111],P)||e(q,[60,33,68,79],P)||e(q,[60,33,45,45],P)||e(q,[60,104,116,109],P)||e(q,[60,72,84,77],P)){if(y.yD(q,"<svg")!=-1)V="svg";
else V="html"}if(e(q,[37,33])||e(q,[197,208,211,198])){if(y.yD(q,"%AI9_PrivateDataBegin")!=-1||y.yD(q,"%AI5_BeginLayer")!=-1||y.yD(q,"%AI5_NumLayers")!=-1)V="ai";
else V="eps"}if(e(q,[37,80,68,70],P)){var H=y.yD(q,"/AIMetaData ");if(H!=-1){if(y.yD(q,">>/Encrypt ",H)!=-1)V="pdf";
else if(y.yD(q,"PrivateData",H)==-1)V="pdf";else V="ai"}else V="pdf"}else if(e(q,[10,69,79,70],D-3))V="dxf";
if(e(q,[1,0,9,0]))V="wmf";if(e(q,[215,205,198,154]))V="wmf";if(e(q,[1,0,0,0]))V="emf";if(e(q,[118,47,49,1]))V="exr";
if(e(q,[35,63,82,65]))V="hdr";if(e(q,[35,63,82,71]))V="hdr";if(e(q,[10,10,10,10]))V="jsx";if(e(q,[77,90]))V="exe";
if(V==null){if(e(q,[0,5,22,7]))V="adoub";if(e(q,[80,108,101,97]))V="Please";if(e(q,[78,111,116,32]))V="Not Found";
if(e(q,[70,114,111,109]))V="From";if(e(q,[113,111,97,102]))V="qoa";if(e(q,[73,68,51]))V="mp3";if(e(q,[73,103,103,83]))V="ogg";
if(e(q,[79,103,103,83]))V="ogg";if(e(q,[91,73,110,116]))V="url";if(e(q,[98,112,108,105]))V="bpli";if(e(q,[98,118,52,49]))V="lz4";
if(e(q,[119,79,70,50]))V="woff2";if(e(q,[60,63,112,104]))V="php";if(e(q,[82,97,114,33]))V="rar"}if(V==null&&T.raw.SU(q.length)!=null)return"tiff";
return V};hZ.aJF=function(z,q,e){if(e==null)e=0;for(var n=0;n<q.length;n++)if(q[n]!=-1&&z[e+n]!=q[n])return!1;
return!0};hZ.nw=function(z){var q={BMP:hZ.a3K,CDR:hZ.YQ,DDS:hZ.j1,EMF:hZ.ON,DXF:hZ.nF,EPS:hZ.VC,FIG:hZ.vV,FPNG:hZ.M9,INDD:hZ.W5,IDML:hZ.NL,CHLV:hZ.aIa,GIF:hZ.nt,ICO:hZ.JK,ILBM:hZ.a2Z,FITS:hZ.ast,EXR:hZ.Ck,HDR:hZ.Yl,JPG:hZ.HC,LIF:hZ.Yd,DCM:hZ.azE,PDF:hZ.Gw,PDN:hZ.ij,PNG:hZ.AL,ICNS:hZ.aPs,PPM:hZ.Y7,PSD:hZ.X3,PXD:hZ.am,PXZ:hZ.sR,RAW:hZ.HW,SKETCH:hZ.SG,UFO:hZ.c1,OFFICE:hZ.ZX,SVG:hZ.Zr,TGA:hZ.r8,AVIF:hZ.Sj,HEIC:hZ.Sj,JXL:hZ.Sj,TIFF:hZ.Xl,PTIF:hZ.ZE,DNG:hZ.Xl,CR2:hZ.Xl,NEF:hZ.Xl,ARW:hZ.Xl,RW2:hZ.Xl,ORF:hZ.Xl,FFF:hZ.Xl,RAF:hZ.Q4,CR3:hZ.jm,VTF:hZ.a6V,WEBP:hZ.PA,WMF:hZ.R2,XCF:hZ.vN,XD:hZ.yV,KRA:hZ.VM,EXE:hZ.a3V,AI:hZ.op,AFPHOTO:hZ.xP,GVDESIGN:hZ.EI,CLIP:hZ.Y5,SAI2:hZ.Th,FRAC:hZ.Y9,MP4:hZ.aK2,MKV:hZ.aK2,MID:hZ.Kk,SEQ:hZ.wx,OGG:hZ.asP,GP3:hZ.CY,GPX:hZ.Cw,MSCZ:hZ.Xj,QOA:hZ.aF0,WAV:hZ.NM};
return q[z.toUpperCase()]};hZ.aBi=function(){var z;function q(V){var P=V.target,D=P.width,B=P.height,A=document.createElement("canvas");
A.width=D;A.height=B;var s=A.getContext("2d");s.drawImage(P,0,0);z({hp:new kk(0,0,D,B),data:s.getImageData(0,0,D,B).data.buffer})}function e(V,P,D){z=D;
var B=document.createElement("img");B.onload=q;B.src="data:"+P+";base64,"+hZ.aS(V)}return e}();hZ.ln=function(z,q,e,V,P){var D=hZ.Eq(z,q,e,V,P),B=hZ.cC(D);
return B.buffer};hZ.cC=function(z){var q=atob(z.split(",").pop()),e=new Uint8Array(q.length);for(var n=0;
n<q.length;n++)e[n]=q.charCodeAt(n);return e};hZ.Eq=function(z,q,e,V,P,D){if(!(z instanceof ArrayBuffer))throw"e";
if(V==null)V="png";if(V=="png"&&D==!0){var B=hZ.nw("PNG").gB([[z,0]],q,e);return"data:image/png;base64,"+hZ.aS(B)}var A=hZ.lN;
if(A==null)A=hZ.lN=document.createElement("canvas");if(A.width!=q||A.height!=e){A.width=q;A.height=e}var s=A.getContext("2d"),a=new ImageData(new Uint8ClampedArray(z,0,q*e*4),q,e);
s.putImageData(a,0,0);return A.toDataURL("image/"+V,P)};hZ.aej=function(z,q,e,V,P){if(P==null)P=0;var D="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",B="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+D+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(z==1)B+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
B+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+P+")\" xlink:href=\""+q+"\" x=\""+80*e+"\" y=\""+80*V+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var A=new Uint8Array(B.length);y.m$(B,A,0);var s="data:image/svg+xml;base64,"+hZ.aS(A.buffer);return{Nm:s,TP:new kk(0,0,128,128),ZO:new f5(64,64)}};
hZ.aS=function(z){var q=new Uint8Array(z),e="";for(var n=0;n<q.length;n++)e+=String.fromCharCode(q[n]);
return btoa(e)};hZ.hS=function(z){var q=atob(z),e=q.length,V=new Uint8Array(e);for(var n=0;n<e;n++)V[n]=q.charCodeAt(n);
return V.buffer};hZ.a9m=function(z,q,e,V,P){if(P==null)P=16;var D=new Uint8Array(z),B=~~(D.length/(q*e*(P>>>3))),A;
if(P==32&&V)throw"e";if(V)for(var n=0;n<D.length;n+=2){var s=D[n];D[n]=D[n+1];D[n+1]=s}var a=P==16?Uint16Array:Float32Array;
D=new a(D.buffer,0,D.buffer.byteLength>>>(P==16?1:2));if(B==4)A=D.buffer;else if(B==3||B==2||B==1){var M=new a(q*e*4);
A=M.buffer;M.fill(T.K8(P));for(var $=0;$<M.length;$+=4){var n=$>>>2,U=$>>>1,o=n*3;if(B==3){M[$]=D[o];
M[$+1]=D[o+1];M[$+2]=D[o+2]}else if(B==2){M[$]=M[$+1]=M[$+2]=D[U];M[$+3]=D[U+1]}else M[$]=M[$+1]=M[$+2]=D[n]}}else throw B;
return A};hZ.dv=function(z){var q=[],e=[];for(var n=0;n<z.Z.length;n++){var V=z.Z[n];if(V.getName().slice(0,3)=="_a_"){q.push(n);
e.push(V.Sw())}}return[q,e]};hZ.zK=function(z,q,e,V,P,D){if(e==null)e=z.s;if(V==null)V=z.T;var B=new kk(0,0,z.s,z.T),A=new e5(e/(z.s+.001),0,0,V/(z.T+.001),0,0),a;
z.dS(!0);q=q.toUpperCase();var s=hZ.nw(q);if(cW==2){if(q=="PDF"||q=="PNG"){var M=P.tabs,$=P.wdth,U=id.gX(z.je,$,M),o=new ToPDF,t;
if(q!="PDF"){var c=document.createElement("canvas");t=c.getContext("2d");c.width=Math.ceil($*2);c.height=Math.ceil(U*2);
o=new ToContext2D(t);t.scale(2,2)}id.lk(z.je,o,$,-1,M);if(q=="PDF")a=o.buffer;else{var H=t.getImageData(0,0,c.width,c.height).data.buffer;
a=UPNG.encode([H],c.width,c.height)}}else{var F=z.m.rU*4*z.m.HL[0]/z.m.HL[1],i=Math.ceil(gs.E3(z)/F)*F,X=gs.TR(i,z),K=P.srat,f=P.ster,d=Math.round(X*K),L=[new Float32Array(d),new Float32Array(d)],G=Date.now();
kl.aL(z,D.dl[0],L[0],L[1],0,K);console.log(Date.now()-G,"sampled");G=Date.now();var x=[];if(f)for(var O=0;
O<2;O++){var v=new Int16Array(d),C=L[O];x.push(v);for(var n=0;n<d;n++)v[n]=C[n]*32767}else{var v=new Int16Array(d),S=L[0],j=L[1];
x.push(v);for(var n=0;n<d;n++)v[n]=(S[n]+j[n])*16383}console.log(Date.now()-G,"rounded");G=Date.now();
a=s.gB({pw:K,kv:x});console.log(Date.now()-G,"encoded");G=Date.now()}}else if(s.k2){a=s.gB(z,e,V,P,D)}else if(cW==1){var w=z.Vc(D,e,V);
a=s.gB([[w,0,z.do,z.MX]],e,V,P)}else{var u=hZ.dv(z),l=u[0],I=u[1],Q=z.qh(),g=null;if(z.depth==32)Q=null;
var b=Q&&P?P.srgb:!1,p=Q&&!b?Q[0]:null,k=q=="EXR"?32:P&&P.ke16?16:8;if(z.kv.length!=0){g=[];for(var n=0;
n<z.kv.length;n++)g.push(z.kv[n].Xp(B))}if(l.length<2){var Y=hZ.G4(z.tW(),Q,b,z,k),R;if(e==z.s&&V==z.T)R=Y.buffer;
else{var m=W.On.tU([Y,B],A);R=m.buffer.buffer;if(g){var Z=T.n(B.D()*4);for(var n=0;n<g.length;n++){T.yR(g[n],Z,3);
var m=W.On.tU([Z,B],A),E=g[n]=T.n(m.V.D());T.bl(m.buffer,E,3)}}}a=s.gB([[R,0,z.do,z.MX,g,p]],e,V,P)}else{var N=[];
for(var n=0;n<l.length;n++){var h=l[n],j5=z.root.G6(h),w;if(j5.H.YZ()){var r=j5.children;for(var l8=0;
l8<r.length;l8++){if(l.indexOf(r[l8].index)!=-1)alert("You have a frame inside a folder, which is also a frame. This folder should not be a frame (should not start with _a_).",6e3)}}for(var l8=0;
l8<l.length;l8++)z.Z[l[l8]].Bm(l[l8]==h);z.To();z.Kv();z.n9();if(e==z.s&&V==z.T)w=z.tW().slice(0);else{var m=W.On.tU([z.tW(),B],A);
w=m.buffer}var R=hZ.G4(w,Q,b,z,k).buffer,aP=z.Z[h].getName().split(",");N.push([R,aP[1]?parseInt(aP[1]):100,z.do,z.MX,g,p])}for(var n=0;
n<l.length;n++)z.Z[l[n]].Bm(I[n]);z.Kv();z.n9();if(P){var bS=P.rvrs,kR=P.bmrn,j1=P.sped/100,f6=1;if(j1!=1)for(var n=0;
n<N.length;n++)N[n][1]=Math.round((N[n][1]==0?16:N[n][1])/j1);if(f6<1){var gx=0,lC=[],bv=0,l8=0;for(var n=0;
n<N.length;++n){gx+=N[n][1];if(n>0){lC.push(lC[lC.length-1]+N[n-1][1])}else{lC.push(0)}}var g2=f6*N.length,dv=gx/g2,eo=[];
for(var n=0;n<g2;++n){var aL=0;while(bv>lC[l8]&&l8+1<N.length){aL+=N[l8][1];++l8}if(aL!=0){var dh=Math.round(Math.min(1,(lC[l8]-bv)/N[l8][1])*aL);
eo[eo.length-1][1]+=aL-dh;if(N[l8][1]<N[l8-1][1]/2){eo.push(N[l8-1])}else{eo.push(N[l8])}eo[eo.length-1][1]=N[l8][1]+dh}else if(l8<N.length){eo.push(N[l8])}bv+=dv;
++l8}while(l8<N.length){eo[eo.length-1][1]+=N[l8][1];++l8}N=eo}if(bS)N.reverse();if(kR){var eM=N.slice(1,N.length-1);
eM.reverse();N=N.concat(eM)}}a=s.gB(N,e,V,P)}}return a};hZ.G4=function(z,q,e,V,P){var D=V.Rz();if(V.depth==32&&P!=32){z=z.slice(0);
for(var n=0;n<z.length;n++)z[n]=Math.min(1,z[n]);if(D)ICC.U.applyLUT(D[3],D[2],z,z)}if(e){z=z.slice(0);
ICC.U.applyLUT(q[3],q[2],z,z)}else if(D&&V.add.fcmy==1){z=z.slice(0);ICC.U.applyLUT(D[V.add.fcmy==1?5:3],D[2],z,z)}if(V.depth>P){z=T.EZ(z,P);
alert("Converting "+V.depth+"-bit to "+P+"-bit colors",3e3)}return z};hZ.azj=function(z,q){var e=new Uint8Array(z.data),V=new Uint8Array(q.data),P=0,D=0;
for(var B=0;B<e.length;B+=4){var A=e[B]-V[B],s=e[B+1]-V[B+1],a=e[B+2]-V[B+2],M=e[B+3]-V[B+3],$=A*A+s*s+a*a+M*M>>>2;
P+=$;if($>25)D++}var U=D/z.hp.D()<1e-4;return U};hZ.Jy=function(z,q){var e=q[0].os&&q[0].os.startsWith("_a_"),V;
if(e&&!1){var P=0,D=q.length;for(var n=0;n<q.length-1;n++){var B=q[n],A=q[n+1],s=hZ.azj(B,A);if(s){var a=parseFloat(B.os.split(",").pop()),M=parseFloat(A.os.split(",").pop());
B.os=B.os.split(",")[0]+","+Math.round(a+M);q.splice(n+1,1);n--;P++}}if(P!=0){alert("Deleted "+P+" frames out of "+D+".");
for(var n=0;n<q.length;n++){var $=q[n],U=$.os;$.os="_a_frm"+n+","+U.split(",")[1]}}}var o=new hq(z+"."+["psd","ai"][cW]);
if(q[0].depth)o.depth=q[0].depth;var t=new kk(0,0,1,1);if(e){V=o.OJ();V.add.lsct=fH._j;V.up(z);V.pi="pass";
V.b9=24;V.Bm(!0);o.Z.push(o.cs())}for(var n=0;n<q.length;n++){var c=q[n];t=t.X8(c.hp);var H=o.OJ();H.Bm(n==0);
H.up(q.length==1?"Background":"Layer "+n);if(n==0&&c.do)o.do=c.do;if(n==0&&c.MX)o.MX=c.MX;if(c.os)H.up(c.os);
if(c.ays)for(var F=0;F<c.ays.length;F++){var X=c.ays[F],K=hq.Hj(X[0]);K.add.vmsk.B=X[1];T.S.Z8(X[1],new e5(t.s,0,0,t.T,0,0));
o.yj.push(K)}if(c.r3)o.r3=c.r3;H.V=c.hp.Y();var f=c.depth?c.depth:o.depth;if(f==8)H.buffer=new Uint8Array(c.data);
else if(f==16)H.buffer=new Uint16Array(c.data);else if(f==32)H.buffer=new Float32Array(c.data);H.buffer=T.EZ(H.buffer,o.depth);
if(n==0&&c.LN)o.L4(c.LN);T.II(H,!0);o.Z.push(H)}if(e)o.Z.push(V);if(q[0].kv){for(var n=0;n<q[0].kv.length;
n++){var d=new lK.Eu;o.kv.push(d);d.V=q[0].hp.Y();d.o=q[0].kv[n]}}o.j=[e?o.Z.length-1:0];o.s=t.s;o.T=t.T;
if(cW==0)o.buffer=T.n(t.D()*4,o.depth);o.Kv();return o};hZ.aKx=function(z,q,e){var V=z.length-e,P=new Uint8Array(V);
for(var n=0;n<q;n++)P[n]=z[n];for(var n=q;n<V;n++)P[n]=z[n+e];return P};hZ.alz=function(z,q,e){var V=z.length,P=e.length,D=new Uint8Array(V+P);
for(var n=0;n<q;n++)D[n]=z[n];for(var n=q;n<V;n++)D[n+P]=z[n];D.set(e,q);return D};hZ.az9=function(z,q,e,V,P,D,B,A,s){var a=new dW(_.E.z,!0);
a.U=W.S3;a.data={p:"h_stepbck"};var M={};for(var $=1;$<e.length;$++){var U=z.j.slice(0),o=hZ.ab2(z,s,q,e,V,$),t="img"+$,c=e[0].indexOf(B);
if(B!=""){if(c==-1)alert("Column "+B+" not found.");else t=e[$][c]}M[t+"."+P.toLowerCase()]=new Uint8Array(hZ.zK(z,P,null,null,D,A));
for(var n=0;n<o;n++)s.K(a)}return UZIP.encode(M)};hZ.ab2=function(z,q,e,V,P,D){var B=new dW(_.E.b,!0),a=0;
B.data={p:_.m.Lo};var A=new dW(_.E.z,!0);A.U=W.si;A.data={p:lK.ZZ,QS:{buffer:null,V:null}};var s=A.data.QS;
for(var M=0;M<e.length;M++){var $=e[M],U=$.trait,o=parseInt($.docRef.slice(4,-2)),t=-1;for(var n=0;n<z.Z.length;
n++){var c=z.Z[n];if(c.add.lyid==o&&!c.YZ()&&c.getName()!="</Layer group>")t=n}if(t==-1)continue;var H=V[0].indexOf($.varName);
if(H==-1){alert("Column "+$.varName+" is missing");return}var F=V[D][H],c=z.Z[t];z.j=[t];if(U=="textcontent"){B.data.u5="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(F)+";";
q.K(B);a++}if(U=="visibility"&&c.Sw()+""!=F.toLowerCase()){F=F.trim().toLowerCase();if(F!="true"&&F!="false")F=F==""?"false":"true";
B.data.u5="app.activeDocument.activeLayer.visible = "+F+";";if(c.Sw()+""!=F){q.K(B);a++}}if(U=="fileref"){var i=F.split("/").pop(),X=null;
for(var hE in P)if(hE.split("/").pop()==i)X=P[hE];if(X==null){alert("Image "+i+" is missing.")}else{var f=hZ.nw(hZ.J7(X.buffer)).EY(X.buffer)[0],d=f.hp,L=c.V,v=0,C=0;
if(c.add.SoLd){var G=W.On.a3(c.add.SoLd.nonAffineTransform);L=T.R.b_(G)}var x=L.s/L.T,O=d.s/d.T;if(x>O){C=L.T;
v=~~(C*O)}else{v=L.s;C=~~(v/O)}B.data.u5="app.activeDocument.activeLayer.visible = false;";q.K(B);a++;
var S=W.On.tU([new Uint8Array(f.data),d],new e5(v/d.s,0,0,C/d.T,0,0));s.V=S.V;s.buffer=S.buffer;S.V.x=L.x+(L.s-v>>>1);
S.V.y=L.y+(L.T-C>>>1);q.K(A);a++;var j=z.Z[z.j[0]];j.vz=c.vz;j.Ev=c.Ev;j.pi=c.pi;j.Eo=c.Eo}}}return a};
hZ.AL={};hZ.AL.gB=function(z,q,e,V){if(V==null)V={qual:100,rept:0};var P={sRGB:1,loop:V.rept},D=z[0],B=Math.floor(D[0].byteLength/(q*e*4))*8,U;
if(D[5]!=null){delete P.sRGB;P.iCCP=D[5]}if(D[2]!=null){var A=Math.round(D[2]*(1e4/254));P.pHYs=[A,A,1]}if(D[3]!=null&&V.mtdt&&Object.keys(D[3]).length!=0){P.iTXt={"XML:com.adobe.xmp":lE.CS(D[3])}}var s=V.qual,a=s==100?0:Math.max(2,Math.floor(s*5));
if(a==5)a=4;var M=[],$=[];for(var n=0;n<z.length;n++){M.push(z[n][0]);$.push(z[n][1])}if(V.ctoa&&z[0][4]){M[0]=M[0].slice(0);
T.yR(z[0][4][0],new Uint8Array(M[0]),3)}if(B==8)U=UPNG.encode(M,q,e,a,$,P,V.nplt);else{var o=[];for(var t=0;
t<M.length;t++){var c=o[t]=M[t].slice(0),H=new Uint8Array(c);for(var n=0;n<H.length;n+=2){var F=H[n];
H[n]=H[n+1];H[n+1]=F}}U=UPNG.encodeLL(o,q,e,3,1,16,$,P,!1)}return U};hZ.AL.a1=function(z,q,e,V){if(V==null)V=8;
if(V==16){z=z.slice(0);var P=new Uint8Array(z);for(var n=0;n<P.length;n+=2){var D=P[n];P[n]=P[n+1];P[n+1]=D}}return UPNG.encodeLL([z],q,e,3,1,V,null,null,!0)};
hZ.AL.EY=function(z){var q=Date.now(),e=UPNG.decode(z),V=e.width,P=e.height,D=8,B=e.ctype,A,s=0,a=null;
if(V*P==0)return[{hp:new kk(0,0,1,1),data:new ArrayBuffer(4),depth:8}];var M=e.tabs.iCCP;if(e.tabs.pHYs)s=Math.round(e.tabs.pHYs[0]*254/1e4);
var $=e.tabs.iTXt;if($&&$["XML:com.adobe.xmp"])a=lE.Cj($["XML:com.adobe.xmp"]);if(df&&e.depth==16){A=[hZ.a9m(e.data.buffer.slice(0,V*P*8),V,P,!0)];
D=16}else A=UPNG.toRGBA8(e);if(A.length==1)return[{hp:new kk(0,0,V,P),data:A[0],do:s,LN:M,MX:a,depth:D}];
var U=[];for(var n=0;n<A.length;n++){U.push({os:"_a_frm"+n+","+e.frames[n].delay,hp:new kk(0,0,V,P),data:A[n],do:s,LN:M,MX:a,depth:D})}return U};
hZ.Y7={};hZ.Y7.gB=function(z,q,e,V){var P=new Uint8Array(z[0][0]),D=q*e,B=D*3,A="P6\n"+q+" "+e+"\n255\n",s=A.length,a=new Uint8Array(s+B);
for(var n=0;n<s;n++)a[n]=A.charCodeAt(n);for(var n=0;n<D;n++){var M=n*4,$=n*3+s;a[$]=P[M];a[$+1]=P[M+1];
a[$+2]=P[M+2]}return a.buffer};hZ.Y7.EY=function(z){z=new Uint8Array(z);var q=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],e=0,V=String.fromCharCode(z[0])+String.fromCharCode(z[1]),P=[],D=0,B=V=="P1"||V=="P4"?2:3;
for(e=2;e<z.length;e++){var A=z[e],s=String.fromCharCode(A);if(A=="#".charCodeAt(0)){while(z[e]!="\n".charCodeAt(0))e++;
continue}var a=q.indexOf(A)!=-1;if(D==0&&!a){P.push(s);D=1;continue}if(D==1&&!a){P[P.length-1]+=s;continue}if(D==1&&a){D=0;
if(P.length==B)break;continue}}var M=parseInt(P[0]),$=parseInt(P[1]),U=M*$*4,o=V=="P1"||V=="P4"?1:255/parseInt(P[2]),t=T.n(U);
if(V=="P1"||V=="P2"||V=="P3"){var c="",H=0,D=0,F="#".charCodeAt(0);for(var n=e;n<z.length;n++){var A=z[n],s=String.fromCharCode(A),a=q.indexOf(A)!=-1;
if(A==F){while(z[n]!="\n".charCodeAt(0))n++}else if(D==0&&!a){c=s;D=1}else if(D==1){if(a){D=0;var i=parseInt(c);
c="";if(V=="P1"){t[H]=t[H+1]=t[H+2]=(1-i)*255;t[H+3]=255;H+=4}if(V=="P2"){t[H]=t[H+1]=t[H+2]=Math.round(i*o);
t[H+3]=255;H+=4}if(V=="P3"){t[H]=Math.round(i*o);H++;if((H&3)==3){t[H]=255;H++}}}else c+=s}}}var X=M*$;
if(V=="P4")for(var K=0;K<$;K++){var f=K*8*Math.ceil(M/8);for(var d=0;d<M;d++){var n=f+d,L=z[e+1+(n>>3)];
L=L>>7-(n&7)&1;var G=K*M+d<<2;t[G]=t[G+1]=t[G+2]=(1-L)*255;t[G+3]=255}}if(V=="P5")for(var n=0;n<X;n++){var G=4*n;
t[G]=t[G+1]=t[G+2]=Math.round(z[e+1+n]*o);t[G+3]=255}if(V=="P6")for(var n=0;n<X;n++){var G=4*n,x=e+1+3*n;
t[G]=Math.round(z[x]*o);t[G+1]=Math.round(z[x+1]*o);t[G+2]=Math.round(z[x+2]*o);t[G+3]=255}return[{hp:new kk(0,0,M,$),data:t.buffer}]};
hZ.j1={};hZ.j1.gB=function(z,q,e,V){if(V==null)V={cmpr:0,mpmp:!0};if(typeof V[0]=="boolean")V[0]=0;var P=new Uint8Array(z[0][0]);
if(V.ctoa&&z[0][4]){P=P.slice(0);T.yR(z[0][4][0],P,3)}var D=q&3,B=e&3;if(D!=0||B!=0){var A=q+(D==0?0:4-D),s=e+(B==0?0:4-B),a=new Uint8Array(A*s*4);
T.FH(a,4278190080);T.aF(P,new kk(0,0,q,e),a,new kk(0,0,A,s));P=a;q=A;e=s}var M=UTEX.DDS.encode(P.buffer,q,e,[V.cmpr,V.mpmp,V.dxsr]);
if(!1){var $=UTEX.DDS.decode(M)[0],a=new Uint8Array($.De),U=0;for(var n=0;n<P.length;n++){var o=P[n]-a[n];
U+=o*o}console.log(U)}return M};hZ.j1.EY=function(z){var q=UTEX.DDS.decode(z),e=[];for(var n=0;n<1;n++){var V=q[n],P={hp:new kk(0,0,V.width,V.height),data:V.image};
T.aNu(P);e.push(P)}return e};hZ.a6V={};hZ.a6V.EY=function(z){var q=UTEX.VTF.decode(z).pop(),e={hp:new kk(0,0,q.width,q.height),data:q.image};
T.aNu(e);return[e]};hZ.HC={};hZ.HC.aBH=null;hZ.HC.ab0=function(z,q){var e=hZ.HC.aBH,V=z.byteLength,P=q.width,D=q.height,B=P*D,A=5e6+2*V+B*(q.progressive?Math.max(2,q.numComponents)*4+1:8),s=e.instance.exports;
hZ.sN(s,A);var a=new Uint8Array(s.memory.buffer),M=s.malloc(V);a.set(new Uint8Array(z),M);var $=s.malloc(4),U=s.malloc(4),hE=s.malloc(4),o=s.stbi_load_from_memory(M,V,$,U,hE,4);
s.free(M);s.free($,U,hE);s.free(o);var t=a.slice(o,o+B*4);return t};(function(){var z=hZ.ui.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(z).then(function(q){hZ.HC.aBH=q})}());hZ.HC.gB=function(z,q,e,V){if(V==null)V={qual:85,mtdt:!0};
var P=z[0],D=new Uint8Array(P[0]);if(T.Ep(D)){var B=new Uint8Array(D.length);B.fill(255);var A=new kk(0,0,q,e);
T.w.Mt("norm",D,A,B,A,A,1);D=B}var s=new Uint8Array(hZ.ln(D.buffer,q,e,"jpeg",V.qual/100));if(s.length<2e4||P[5]){var a=y.yD(s,[255,226]);
if(a!=-1){var M=y.mU(s,a+2);s=hZ.aKx(s,a,M+2)}}if(P[5]!=null){var $=4+y.mU(s,4),U=P[5].length+16,o=new Uint8Array(U+2);
o[0]=255;o[1]=226;y.NX(o,2,U);y.Wd(o,4,"ICC_PROFILE");o[16]=o[17]=1;o.set(P[5],18);s=hZ.alz(s,$,o)}if(P[2]!=null){var t=hZ.HC.Kl(s)[224][0]+2;
t+=9;s[t]=1;y.NX(s,t+1,P[2]);y.NX(s,t+3,P[2])}if(P[3]!=null&&V.mtdt==!0){var c=0,H=0,F=0,i=lE.$y(P[3]),K="http://ns.adobe.com/xap/1.0/",$=20;
if(P[2]!=null){i.t282=i.t283=[[Math.round(P[2]*1e4),1e4]];i.t296=[2];if(i.exifIFD==null)i.exifIFD={};
i.t34665={};i.exifIFD.t40962=[Math.round(q*72/P[2])];i.exifIFD.t40963=[Math.round(e*72/P[2])]}var X=new Uint8Array(UTIF.encode([i]));
c=4+6+X.length;var f=lE.CS(P[3]),d=y.GY(f);H=4+K.length+1+d.length;var L=lE.as1(P[3]);if(L.length!=0){var G=0,v=0;
for(var n=0;n<L.length;n++)G+=5+L[n][1].length;var x=G+(G&1),O=T.n(14+4+4+4+x);y.Wd(O,v,"Photoshop 3.0");
v+=14;y.Wd(O,v,"8BIM");v+=4;O[v++]=4;O[v++]=4;v+=2;y.lt(O,v,G);v+=4;for(var n=0;n<L.length;n++){var C=L[n],S=C[1];
O[v++]=28;O[v++]=2;O[v++]=C[0];y.NX(O,v,S.length);v+=2;y.Wd(O,v,S);v+=S.length}F=4+O.length}var j=c+H+F,w=new Uint8Array(s.length+j);
for(var n=0;n<20;n++)w[n]=s[n];for(var n=20;n<s.length;n++)w[n+j]=s[n];w[$]=255;w[$+1]=225;y.NX(w,$+2,c-2);
y.Wd(w,$+4,"Exif");for(var n=0;n<X.length;n++)w[$+10+n]=X[n];$+=c;w[$]=255;w[$+1]=225;y.NX(w,$+2,H-2);
y.Wd(w,$+4,K);for(var n=0;n<d.length;n++)w[$+4+K.length+1+n]=d[n];$+=H;if(F!=0){w[$]=255;w[$+1]=237;
y.NX(w,$+2,F-2);for(var n=0;n<O.length;n++)w[$+4+n]=O[n];$+=F}s=w}return s.buffer};hZ.HC.Kl=function(z){var q=0,e=[],V=z.length;
while(q<V){while(z[q]!=255&&q<V)q++;while(z[q]==255)q++;if(q==V)break;var P=z[q];q++;if(e[P]==null)e[P]=[];
e[P].push(q-2);if(P==216)continue;if(P==217)break;if(224<=P&&P<=239||P==218||P==219||P==192||P==193||P==194||P==196||P==221||P==254){var D=y.mU(z,q);
q+=D;if(P==218)while(q<V&&(z[q]!=255||(z[q+1]==0||208<=z[q+1]&&z[q+1]<=215)))q++;continue}console.log("unknown marker ",P.toString(16),q);
break}if(e[217]==null){console.log("EOI marker missing");var B=z.length-2;z[B]=255;z[B+1]=217;e[217]=[B]}return e};
hZ.HC.a8t=function(z){z=new Uint8Array(z);if(z[0]!=255)return z.buffer;var q=hZ.HC.Kl(z),e=hZ.HC.aKh(z,q);
if(e.numComponents!=4)return z.buffer;if(e.adobe&&e.adobe.transform==0){return z.buffer}var V=e.width,P=e.height,D=hZ.HC.a5S(z,q,!0);
return hZ.HC.gB([[D[0].data]],V,P,{qual:85})};hZ.HC.aKh=function(z,q){var e=(q[192]?q[192]:q[193]?q[193]:q[194])[0]+4,V={};
V.progressive=q[194]!=null;V.precision=z[e];e++;V.height=y.mU(z,e);e+=2;V.width=y.mU(z,e);e+=2;V.numComponents=z[e];
e++;if(q[224]){var P=V.jfif={};e=q[224][0]+2+2+5+2;P.densityUnits=z[e];e++;P.xDensity=y.mU(z,e);e+=2;
P.yDensity=y.mU(z,e);e+=2}if(q[238]){var P=V.adobe={};e=q[238][0]+2+2+6;P.version=z[e];e++;P.flags0=y.mU(z,e);
e+=2;P.flags1=y.mU(z,e);e+=2;P.transform=z[e];e++}return V};hZ.HC.a9_=function(z,q,e){var V=q,P=y.mU(z,V);
V+=2;var D=y.JU(z,V,4);if(D=="Exif"){V+=6;var B=z.slice(V,V+P-8),A;try{A=UTIF.decode(B.buffer,{parseMN:!1,debug:!1})}catch(cz){}if(A&&A.length!=0)e.exif=A}else if(D=="http"){var s=0;
while(z[V+s]!=0)s++;var a=y.JU(z,V,s);V+=s+1;if(a=="http://ns.adobe.com/xmp/extension/"){var M=y.JU(z,V,32);
V+=32;V+=8;var $=q+P-V;while(z[V+$-1]==0)$--;if(e.xmp_extn==null)e.xmp_extn="";try{e.xmp_extn+=y.vK(z,V,$)}catch(cz){}}else if(a=="http://ns.adobe.com/xap/1.0/"){var U=y.vK(z.slice(V,V+P-s-3));
if(U[0]=="?")U="<"+U;e.xmp=U}}else console.log(D)};hZ.HC.a5S=function(z,q,e){var V=hZ.HC.aKh(z,q),P=V.width,D=V.height,B=P*D,A,K=72,f,L,G=null;
if(P*D*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var s=-1;if(V.adobe)s=V.adobe.transform;if(e||P*D>16e6||s==0||s==2||V.progressive||window.WebAssembly==null){var a=new PDFJS.JpegImage;
a.parse(z);var M=a.getData({width:P,height:D,forceRGB:!0,isSourcePDF:e}),A=T.n(B*4);for(var n=0;n<B;
n++){var $=n<<2,U=$-n;A[$]=M[U];A[$+1]=M[U+1];A[$+2]=M[U+2];A[$+3]=255}}else{A=hZ.HC.ab0(z.buffer,V)}var o=q[225];
if(o)for(var n=0;n<o.length;n++)hZ.HC.a9_(z,o[n]+2,V);var t=q[226];if(t){for(var n=0;n<t.length;n++){var c=t[n],H=y.mU(z,c+2),F=y.JU(z,c+4,11);
if(V.icc==null&&F=="ICC_PROFILE"){var i=y.vQ(z,c+18);V.icc=z.slice(c+18,c+18+i)}}}var X=q[217][0]+2;
if(X!=z.length)V.suffix=z.slice(X);var d=[P,D,1,0,0,0,1,0];if(V.exif&&V.exif[0].t282!=null&&V.exif[0].t282[0]){var x=V.exif[0].t282[0];
K=x[0]/x[1]}else if(V.jfif&&V.jfif.densityUnits!=0){K=Math.round([72,1,2.54][V.jfif.densityUnits]*V.jfif.xDensity)}if(V.exif){var O=V.exif;
f=lE.B0(O[0]);var v=O[0].t274;if(v)v=v[0];if(v!=null&&v>1&&v<20)d=T.raw.acZ(v,P,D)}if(V.xmp){f=lE.Cj(V.xmp,f)}if(V.icc)L=V.icc;
var C=q[237],S=[],j=[];if(C){var w=new Uint8Array(65536),u=0,c=0;for(var n=0;n<C.length;n++){c=C[n]+2;
var l=c+y.mU(z,c);c+=2;var I=c;while(z[c]!=0)c++;c++;var Q=y.JU(z,I,c-I-1),b=l-c;if(b<0)break;while(u+b>w.length){var p=new Uint8Array(w.length*2);
p.set(w);w=p}var k=new Uint8Array(z.buffer,c,b);w.set(k,u);u+=b}c=0;z=w;while(c<u){var g=y.JU(z,c,4);
c+=4;var Y=y.mU(z,c);c+=2;var R=z[c++],m=y.JU(z,c,R);c+=R;if((R&1)==0)c++;var H=y.vQ(z,c);c+=4;var X=c+H+(H&1);
if(Y==1028){while(c+4<X){var Z=z[c++],E=z[c++],N=z[c++],h=y.mU(z,c);c+=2;if(Z==28&&E==2)S.push([N,y.JU(z,c,h)]);
c+=h}}else if(Y==1032)G=dE.aL0(z,c);else if((Y&2e3)==2e3){var j5=lh.W9(z,c,H);j.push([m,j5])}else{}c=X}if(S.length!=0)f=lE.aqv(S,f)}var r=[{hp:new kk(0,0,P,D),data:A.buffer,do:K,MX:f,LN:L,ays:j.length==0?null:j,r3:G}],f=V.xmp_extn;
if(f){var l8=new DOMParser,aP=l8.parseFromString(f,"image/svg+xml"),aP=aP.children[0].children[0].children[0],bS=[aP.getAttribute("GImage:Data"),aP.getAttribute("GDepth:Data")];
for(var n=0;n<bS.length;n++)if(bS[n]){var kR=atob(bS[n]),j1=new Uint8Array(kR.length);y.Wd(j1,0,kR);
j1=j1.buffer;var f6=hZ.J7(j1),gx=hZ.nw(f6).EY(j1);r.push(gx[0])}}if(V.suffix){var lC=V.suffix,g2=!1,dv=y.JU(lC,4,4),bv=y.yD(lC,[255,216,255]);
if(hZ.aJF(lC,[0,0,1,10,14,0,0,0])){if(g2)console.log("Samsung");var c=0;while(c!=lC.length){var eo=y.iJ(lC,c+2);
c+=4;var aL={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[eo];if(aL!=null){var dh=y.iM(lC,c);c+=4;
var eM=y.JU(lC,c,dh);c+=dh;var kg=y.JU(lC,c,aL);c+=aL;if(eo==2608){var jJ=c,iL=y.vQ(lC,c+24);c+=iL+24;
var bz=y.vQ(lC,c);c+=bz;var ks=lC.slice(jJ,c);hZ.HC.aug(ks)}}else if(eo==18502){while(y.JU(lC,c,4)!="SEFT")c+=4;
c+=4}else{break;console.log(y.Oh(lC,c,128));console.log(lC.slice(c));throw eo.toString(16)}}}else if(dv=="ftyp"){if(g2)console.log("MP4 Video");
hZ.HC.aug(lC)}else if(y.JU(lC,0,4)=="fixe"){if(g2)console.log("fixe");alert("Unknown data - "+lC.length+" B - at the end of the file",3e3);
var c=4,H=y.iM(lC,c);c+=4;var gr=y.iM(lC,c);c+=4;var hg=y.iM(lC,c);c+=4;console.log(H,gr,hg,lC.slice(c,c+84));
c+=84;var ci=y.JU(lC,c,32);c+=32;c+=8;var ci=y.JU(lC,c,32);c+=32}else if(y.JU(lC,8,13)=="FocusShot_Map"){if(g2)console.log("FocusShot_Map");
var fK=y.vQ(lC,0),h=y.iM(lC,4),j1=T.n(B*4),jN=T.n(B*4);for(var dD=0;dD<D;dD++)for(var eF=0;eF<P;eF++){var n=dD*P+eF,$=n<<2,io=8+13+((dD>>>1)*P+eF>>>1),la=lC[io],e9=lC[io+(B>>>2)];
j1[$]=j1[$+1]=j1[$+2]=la;j1[$+3]=255;jN[$]=jN[$+1]=jN[$+2]=e9;jN[$+3]=255}r.push({hp:new kk(0,0,P,D),data:j1.buffer},{hp:new kk(0,0,P,D),data:jN.buffer})}else if(dv=="edof"){if(g2)console.log("edof");
var v=lC[8+7];console.log(v.toString(16));var c=8+16,gM=y.iJ(lC,c),j7=y.iJ(lC,c+2),B=gM*j7;c+=4;c+=32+16;
var cI=T.n(B*4);for(var n=0;n<B;n++){var $=n<<2;cI[$]=cI[$+1]=cI[$+2]=lC[c+n];cI[$+3]=255}if(v==16){}else if(v==19){var dL=cI.slice(0);
T.O.TL(cI,dL,gM,j7);var cf=gM;gM=j7;j7=cf;T.O.Um(dL,cI,gM,j7)}else throw"Unknown orientation of a depth map";
r.push({hp:new kk(0,0,gM,j7),data:cI.buffer})}else if(y.JU(lC,0,64).indexOf("DualShot")!=-1){if(g2)console.log("DualShot");
var jA=y.iM,gI=y.JU,fM=y.iJ,c=0;function a7(){var hJ=jA(lC,c);if(jA(lC,c+4)!=0)throw"e";c+=8;return hJ}var k6=y.vQ(lC,c);
c+=4;try{if(k6==45066){c=1226;var P=a7(),D=a7();c=3445}else if(k6==45322){var fv=jA(lC,c);c+=4;var ci=gI(lC,c,fv);
c+=fv;if(ci!="DualShot_DepthMap_1")throw ci;P=1008;D=756;if(r[0].hp.s==4080){P=1020;D=764}}else throw k6;
var fq=T.n(P*D*4);fq.fill(255);T.A$(lC.slice(c,c+P*D),fq);r.push({hp:new kk(0,0,P,D),data:fq.buffer})}catch(cz){console.log("error reading a depth map")}try{if(bv!=0)lC=lC.slice(bv);
r=r.concat(hZ.nw("jpg").EY(lC.buffer))}catch(cz){}}else if(bv!=-1&&!(lC[0]==255&&lC[1]==129)){if(g2)console.log("another JPG at",bv);
try{if(bv!=0)lC=lC.slice(bv);r=r.concat(hZ.nw("jpg").EY(lC.buffer))}catch(cz){}}else if(y.JU(lC,0,4)=="PMPD"){if(g2)console.log("Xiaomi stuff");
var c=4,cu=y.iM(lC,12),ac=y.iM(lC,16),gM=y.iM(lC,1060),j7=y.iM(lC,1064),hN=gM>j7,cQ=r[0].hp.s>r[0].hp.T,d_=lC.slice(lC.length-gM*j7-4),cK=T.n(gM*j7);
for(var dD=0;dD<j7;dD++)for(var eF=0;eF<gM;eF++)cK[dD*gM+eF]=d_[(j7-dD-1)*gM+eF];var fq=T.n(gM*j7*4);
fq.fill(255);T.A$(cK,fq);if(hN!=cQ){var dL=fq.slice(0);T.O.TL(fq,dL,gM,j7);var cf=gM;gM=j7;j7=cf;T.O.Um(dL,fq,gM,j7)}r.push({hp:new kk(0,0,gM,j7),data:fq.buffer})}else console.log(y.JU(lC,0,4),lC)}if(r.length>1){var cc=r[0].hp,jj=!1,iG=!0;
r[0].os="Main";var aH=[!1];for(var n=1;n<r.length;n++){aH[n]=hZ.HC.and(new Uint8Array(r[n].data));if(aH[n])jj=!0;
if(!r[n].hp.bs(r[0].hp))iG=!1}if(!jj&&!iG)r=r.slice(0,1);else for(var n=1;n<r.length;n++){r[n].os=aH[n]?"Depth Map":null;
var hc=r[n].hp;if(!hc.bs(cc)){var kD=cc.s/hc.s,l2=cc.T/hc.T,fZ=new e5;fZ.scale(kD,l2);var g5=W.On.Nv([new Uint8Array(r[n].data),hc],1,T.O.Ak(fZ));
r[n].hp=g5.V;r[n].data=g5.buffer}}}if(hZ.HC.Zm==1)if(d[2]!=1||d[6]!=1)for(var n=0;n<r.length;n++){var d4=r[n],hx=new Uint8Array(d4.data),P=d4.hp.s,D=d4.hp.T,gM=d[0],j7=d[1],A=T.n(gM*j7*4);
T.O.qN(hx,P,D,A,d);d4.hp=new kk(0,0,gM,j7);d4.data=A.buffer}return r};hZ.HC.aug=function(z){if(window.confirm("Photopea found a "+c2._M(z.length)+" MP4 video inside your image. Would you like to save it?",4e3)){gC.save(z.slice(0).buffer,"video.mp4")}};
hZ.HC.and=function(z){var q=!0;for(var n=0;n<z.length;n+=4){q=q&&z[n]==z[n+1]&&z[n+1]==z[n+2]}return q};
hZ.HC.Zm=0;hZ.HC.EY=function(z,q,e){z=new Uint8Array(z);if(z[0]==255){var V=hZ.HC.Kl(z);if(V[195]==null){hZ.HC.Zm++;
var P=hZ.HC.a5S(z,V,!1);hZ.HC.Zm--;return P}var D=y.mU(z,V[195][0]+5),B=y.mU(z,V[195][0]+7),A=UTIF.LosslessJpegDecode(z),s=B*D,a=T.n(s*4);
for(var n=0;n<s;n++){var M=n<<2,$=M-n;a[M]=A[$];a[M+1]=A[$+1];a[M+2]=A[$+2];a[M+3]=255}return[{hp:new kk(0,0,B,D),data:a.buffer}]}else if(z[0]==0&&z[4]==48&&z[6]==1){var U=z,o=new PDFJS.Jbig2Image,t=[];
if(q)t.push({data:q,start:0,end:q.length});t.push({data:U,start:0,end:U.length});var A=o.parseChunks(t);
if(!e)for(var n=0;n<A.length;n++)A[n]=~A[n];var B=y.vQ(z,11),D=y.vQ(z,15),c=Math.ceil(B/8),H=T.n(B*D*4);
for(var F=0;F<D;F++){var i=F*c;for(var X=0;X<B;X++){var M=(F*B+X)*4,K=A[i+(X>>>3)]>>>7-(X&7)&1,f=K*255;
H[M]=f;H[M+1]=f;H[M+2]=f;H[M+3]=255}}return[{hp:new kk(0,0,B,D),data:H.buffer}]}else{var o=new PDFJS.JpxImage;
o.parse(z);var B=o.width,D=o.height,d=o.tiles,L=o.componentsCount,G=new Uint8Array(B*D*4),x=new kk(0,0,B,D);
for(var o=0;o<d.length;o++){var O=d[o],v=O.width,C=O.height,S=v*C,j=O.items,w=new kk(O.left,O.top,v,C),u=new Uint8Array(S*4);
if(L==1)for(var n=0;n<S;n++){var l=j[n],M=n*4;u[M]=l;u[M+1]=l;u[M+2]=l;u[M+3]=255}else if(L==3)for(var n=0;
n<S;n++){var $=n*3,M=n*4;u[M]=j[$];u[M+1]=j[$+1];u[M+2]=j[$+2];u[M+3]=255}else if(L==4)u.set(j);else console.log("Unknown number of components: "+L);
T.aF(u,w,G,x)}return[{hp:x,data:G.buffer}]}};hZ.PA={};hZ.PA.gB=function(z,q,e,V){if(V==null)V={qual:70,mtdt:!0,rept:0};
var P=V.qual/100,d=0;if(z.length==1){var D=new Uint8Array(hZ.ln(z[0][0],q,e,"webp",P)),B=D[20];if(hZ.J7(D.buffer)!="webp"){alert("Your browser cannot export WEBP :(",3e3);
throw"e"}if(D.length<2e4){var A=aI.iA(D.buffer),s=A.sub;for(var n=0;n<s.length;n++)if(s[n].PP=="ICCP"){var a=s[n];
if(B&32)B-=32;D=hZ.aKx(D,a.g-8,a.size+8);y.pS(D,4,A.size-(a.size+8));break}}if(V.mtdt&&z[0][3]){var M=z[0][3],$=new Uint8Array(UTIF.encode([lE.$y(M)])),U=$,o=y.GY(lE.CS(M)),t=8+U.length;
t+=t&1;var c=8+o.length;c+=c&1;var H=new Uint8Array(t+c);y.Wd(H,0,"EXIF");y.pS(H,4,U.length);H.set(U,8);
y.Wd(H,t,"XMP ");y.pS(H,t+4,o.length);H.set(o,t+8);var F=new Uint8Array(D.length+H.length),A=aI.iA(D.buffer),s=A.sub;
F.set(D,0);F.set(H,D.length);y.pS(F,4,y.iM(F,4)+H.length);B|=12;D=F;var i=aI.iA(D.buffer)}if(y.JU(D,12,4)=="VP8X")D[20]=B;
return D.buffer}var X=y.QQ,K=y.eh,f=new k7;X(f,d,"RIFF    WEBPVP8X");d+=16;K(f,d,10);d+=4;K(f,d,18);
d+=4;K(f,d,q-1);d+=3;K(f,d,e-1);d+=3;X(f,d,"ANIM");d+=4;K(f,d,6);d+=4;f.iU(d,4);f.data[d+3]=255;y.S0(f,d+4,V.rept);
d+=6;var L=[];for(var n=0;n<z.length;n++){L.push(z[n][0])}var G=UPNG.encode.compress(L,q,e,P==1?0:Math.max(2,Math.floor(P*500)),[!1,!0,!0,0,!0]).frames;
function x(A,p,k,g){var u=A.g-8,l=A.size+8;k.iU(g,l);for(var n=0;n<l;n++)k.data[g+n]=p[u+n];return g+l}for(var n=0;
n<z.length;n++){X(f,d,"ANMF");d+=4;var O=d,u=0,l=0;d+=4;var v=G[n],C=v.rect,S=[C.x>>>1,C.y>>>1,C.width-1,C.height-1,z[n][1]];
for(var j=0;j<5;j++)K(f,d+3*j,S[j]);d+=15;f.iU(d,1);f.data[d]=1-v.blend<<1|v.dispose;d++;var w=new Uint8Array(hZ.ln(v.img.buffer,C.width,C.height,"webp",1)),s=aI.iA(w.buffer).sub,I={};
for(var Q=0;Q<s.length;Q++)I[s[Q].PP]=s[Q];if(I.VP8L)d=x(I.VP8L,w,f,d);else throw"e";var b=d-O-4;K(f,O,b);
if((b&1)==1){f.iU(d,1);d++}}K(f,4,d-8);return f.data.slice(0,d).buffer};(function(){var z=hZ.ui.get("wasm/webp").buffer;
WebAssembly.instantiate(z).then(function(q){var e=q.instance.exports;hZ.PA.exp=e})}());hZ.PA.EY=function(z){var q=new Uint8Array(z),e=hZ.PA.a1I,V=null,P=aI.iA(z).sub,D={},B=null;
for(var n=0;n<P.length;n++)D[P[n].PP]=P[n];if(D.EXIF){var A=D.EXIF,s=A.g,a=s+A.size;if(q[A.g]==69)s+=6;
var M=z.slice(s,a),A=UTIF.decode(M)[0];console.log(A);if(A)B=lE.B0(A);console.log(B)}var A=D["XMP\0"];
if(A==null)A=D["XMP "];if(A){var M=new Uint8Array(z,A.g,A.size);if(B==null)B={};B=lE.Cj(y.vK(M),B)}var $=D.ANIM,U=D.VP8L,o=D["VP8 "],t=D.VP8X;
if($==null){var c,H;if(o){c=y.iJ(q,o.g+6);H=y.iJ(q,o.g+8)}else if(U){var F=y.iM(q,U.g+1);c=(F&(1<<14)-1)+1;
H=(F>>>14&(1<<14)-1)+1}else throw"e";var i=e(V,z,{g:0,size:q.length},c,H);i.MX=B;return[i]}var X=t.g,c=1+(y.iM(q,X+4)&16777215),H=1+(y.iM(q,X+7)&16777215),K=[],f=new kk(0,0,c,H),d=T.n(c*H*4);
for(var n=0;n<P.length;n++){var L=P[n];if(L.PP!="ANMF")continue;var G=[];for(var x=0;x<5;x++)G.push(y.iM(q,L.g+x*3)&16777215);
var O=new kk(G[0]*2,G[1]*2,G[2]+1,G[3]+1),v=G[4],C=e(V,z,{g:L.g+16,size:L.size-16},c,H),S=new Uint8Array(C.data),j=q[L.g+15];
if(j>>>1==0)T.w.Mt("norm",S,O,d,f,O,1);else T.aF(S,O,d,f);K.push({os:"_a_"+K.length+","+v,hp:f.Y(),data:d.buffer.slice(0)});
if((j&1)==1){S.fill(0);T.aF(S,O,d,f)}}return K};hZ.PA.a1I=function(z,q,e,V,P){var D=hZ.PA.exp,B=D.memory,A=5e6+2*e.size+V*P*10;
hZ.sN(D,A);var s=new Uint8Array(B.buffer),a=D.malloc(e.size);s.set(new Uint8Array(q,e.g,e.size),a);var M=D.malloc(8),$=D.WebPDecodeARGB(a,e.size,M,M+4),U=y.iM(s,M),o=y.iM(s,M+4),t=U*o*4,c=T.n(t);
for(var n=0;n<t;n+=4){c[n]=s[$+n+1];c[n+1]=s[$+n+2];c[n+2]=s[$+n+3];c[n+3]=s[$+n]}D.WebPFree($);D.free(M);
D.free(a);return{hp:new kk(0,0,U,o),data:c.buffer}};hZ.a3K=function(){function z(A,s,a,M){var $=new Uint8Array(A[0][0]),U=new Uint32Array($.buffer),o=[],t={},H=24,F=0,d=0;
for(var n=0;n<U.length;n++){var c=U[n]&16777215;if(t[c]==null){t[c]=o.length;o.push(c);if(o.length>256){o=null;
break}}}if(M&&M.nplt)o=null;if(o){H=1;while(1<<H<o.length)H*=2;if(H==2)H=4}var i={xL:s,Hi:a,UI:1,ek:H,jf:0,a96:F},X=4*Math.floor((i.ek*i.xL+31)/32);
i.size=X*i.Hi+2;var K=new k7,f=o?(1<<H)*4:0;y.QQ(K,d,"BM");d+=2;y.eh(K,d,X*a+16+40+f);d+=4;y.eh(K,d,0);
d+=4;y.eh(K,d,54+f);d+=4;K.iU(d,40);y.eh(K,d,40);d+=4;B(K.data,d,i,X);d+=36;if(o){K.iU(d,f);var L=K.data;
for(var n=0;n<o.length;n++){var G=d+n*4,x=o[n]>>>16,O=o[n]>>>8&255,v=o[n]&255;L[G]=x;L[G+1]=O;L[G+2]=v}d+=f}K.iU(d,X*a);
if(H==24)for(var C=0;C<a;C++){var S=d+(a-1-C)*X;for(var j=0;j<s;j++){var w=(C*s+j)*4;K.data[S+j*3+2]=$[w];
K.data[S+j*3+1]=$[w+1];K.data[S+j*3+0]=$[w+2]}}else if(H==8)for(var C=0;C<a;C++){var S=d+(a-1-C)*X;for(var j=0;
j<s;j++){var w=C*s+j,u=t[U[w]&16777215];K.data[S+j]|=u}}else if(H==4)for(var C=0;C<a;C++){var S=d+(a-1-C)*X;
for(var j=0;j<s;j++){var w=C*s+j,u=t[U[w]&16777215];K.data[S+(j>>>1)]|=u<<4-(j&1)*4}}else if(H==1)for(var C=0;
C<a;C++){var S=d+(a-1-C)*X;for(var j=0;j<s;j++){var w=C*s+j,u=t[U[w]&16777215];K.data[S+(j>>>3)]|=u<<7-(j&7)}}d+=X*a+2;
return K.data.slice(0,d).buffer}function q(A){A=new Uint8Array(A);if(y.iM(A,0)==40)return[e(A.buffer,0)];
var s=0,a=y.JU(A,s,2);s+=2;if(a!="BM"){alert("Unsupported BMP format: "+a);return}var M=y.iM(A,s);s+=4;
s+=4;var $=y.iM(A,s);s+=4;return[e(A.buffer,s,$)]}function e(A,s,a){A=new Uint8Array(A);var M=y.iM(A,s),$=D(A,s+4);
if($.UI!=1)alert("unsupported number of color planes: "+$.UI);if($.jf!=0&&$.jf!=1&&$.jf!=2&&$.jf!=3&&$.jf!=861165636){alert("Unsupported BMP compression: "+$.jf);
return}s+=M;var U=s,o=A;if(a==null)a=s;if($.jf==1||$.jf==2){var t=P(A,a,$);$.ek=8;A=t;a=0}var c=4*Math.floor(($.ek*$.xL+31)/32),H=$.xL,F=Math.abs($.Hi),i=new Uint8Array(H*F*4);
i.fill(255);if($.ek==32)for(var X=0;X<F;X++){var K=a+(F-1-X)*c;for(var f=0;f<H;f++){var d=(X*H+f)*4;
i[d]=A[K+f*4+2];i[d+1]=A[K+f*4+1];i[d+2]=A[K+f*4+0];i[d+3]=A[K+f*4+3]}}else if($.ek==24)for(var X=0;
X<F;X++){var K=a+(F-1-X)*c;for(var f=0;f<H;f++){var d=(X*H+f)*4;i[d]=A[K+f*3+2];i[d+1]=A[K+f*3+1];i[d+2]=A[K+f*3+0]}}else if($.ek==16){if($.jf==861165636)UTEX.readBC2(A,a,i,H,F);
else for(var X=0;X<F;X++){var K=a+(F-1-X)*c;for(var f=0;f<H;f++){var d=(X*H+f)*4,L=A[K+f*2+1]<<8|A[K+f*2];
if(a==s){i[d]=(L>>>10&31)*(255/31);i[d+1]=(L>>>5&31)*(255/31);i[d+2]=(L&31)*(255/31)}else{i[d]=(L>>>11)*(255/31);
i[d+1]=(L>>>5&63)*(255/63);i[d+2]=(L&31)*(255/31)}}}}else if($.ek==8)for(var X=0;X<F;X++){var K=a+(F-1-X)*c;
for(var f=0;f<H;f++){var d=(X*H+f)*4,G=A[K+f];i[d]=o[U+4*G+2];i[d+1]=o[U+4*G+1];i[d+2]=o[U+4*G+0]}}else if($.ek==4)for(var X=0;
X<F;X++){var K=a+(F-1-X)*c;for(var f=0;f<H;f++){var d=(X*H+f)*4,G=A[K+(f>>1)];G=G>>4-4*(f&1);G=G&15;
i[d]=o[U+4*G+2];i[d+1]=o[U+4*G+1];i[d+2]=o[U+4*G+0]}}else if($.ek==1)for(var X=0;X<F;X++){var K=a+(F-1-X)*c;
for(var f=0;f<H;f++){var d=(X*H+f)*4,x=A[K+(f>>3)];x=x>>7-(f&7);x=x&1;i[d]=o[U+4*x+2];i[d+1]=o[U+4*x+1];
i[d+2]=o[U+4*x+0]}}else throw"Unknown bit depth "+$.ek;if($.Hi<0){var O=new Uint32Array(i.buffer),v=F>>>1;
for(var X=0;X<v;X++){var C=X*H,S=(F-X-1)*H;for(var f=0;f<H;f++){var j=O[C+f];O[C+f]=O[S+f];O[S+f]=j}}}return{hp:new kk(0,0,H,F),data:i.buffer}}function V(A,n){return A>>>4-((n&1)<<2)&15}function P(A,s,a){var M=a.xL,$=Math.abs(a.Hi),U=new Uint8Array(M*$),o=0,t=0,n=0;
while(t<$){var c=A[s++],H=A[s++],F=t*M+o;if(c>0){if(a.ek==4)for(n=0;n<c;n++){U[F+n]=V(H,n)}else for(n=0;
n<c;n++){U[F+n]=H}o+=c}else if(c==0&&H==0){t++;o=0}else if(c==0&&H==1){break}else if(c==0&&H==2){o+=A[s++];
t+=A[s++]}else{var i=H;if(a.ek==4){for(n=0;n<H;n++){U[F+n]=V(A[s+(n>>>1)],n)}i=Math.ceil(H/2)}else{for(n=0;
n<H;n++){U[F+n]=A[s+n]}}if((i&1)!=0)i++;s+=i;o+=H}}return U}function D(A,s){var a=y.Zy,M=y.iM,$=y.iJ,U={};
U.xL=a(A,s);s+=4;U.Hi=a(A,s);s+=4;U.UI=$(A,s);s+=2;U.ek=$(A,s);s+=2;U.jf=M(A,s);s+=4;U.size=M(A,s);s+=4;
var o=a(A,s);s+=4;var t=a(A,s);s+=4;U.a96=M(A,s);s+=4;s+=4;return U}function B(A,s,a,M){y.pS(A,s,a.xL);
s+=4;y.pS(A,s,a.Hi);s+=4;y.tl(A,s,a.UI);s+=2;y.tl(A,s,a.ek);s+=2;y.pS(A,s,a.jf);s+=4;y.pS(A,s,a.size);
s+=4;y.pS(A,s,2834);s+=4;y.pS(A,s,2834);s+=4;y.pS(A,s,a.a96);s+=4;s+=4}return{EY:q,gB:z,ami:e}}();hZ.nt={};
hZ.nt.gB=function(z,q,e,V){if(V==null)V={qual:100,dthr:!1};var P=[],D=[],B=q*e*4,c=null;for(var A=0;
A<z.length;A++){var s=new Uint8Array(z[A][0].slice(0));for(var n=0;n<B;n+=4){var a=s[n+3]=s[n+3]>127?255:0;
if(a==0)s[n]=s[n+1]=s[n+2]=0}P.push(s.buffer);D.push(z[A][1])}var M=Math.round(2+254*V.qual/100),$=UPNG.encode.compress(P,q,e,M,[!0,!1,!1,8,!1,V.dthr]),U=$.plte,o=new Uint8Array(4),t=new Uint32Array(o.buffer);
for(var n=0;n<U.length;n++){t[0]=U[n];var H=o[0];o[0]=o[2];o[2]=H;U[n]=t[0];if(t[0]==0&&c==null)c=n}while(U.length<256)U.push(0);
var F=new Uint8Array(2e4+Math.round(1.5*q*e*z.length)),i=V.rept,X={palette:U};if(i!=1)X.loop=i==0?0:i-1;
var K=new GifWriter(F,q,e,X);for(var n=0;n<z.length;n++){var f=$.frames[n],d=f.rect,L=f.blend,G=f.dispose,x=Math.round(D[n]/10);
if(x<2)x=2;K.addFrame(d.x,d.y,d.width,d.height,f.img,{transparent:c,disposal:G+1,delay:x})}return F.slice(0,K.end()).buffer};
hZ.nt.EY=function(z){var q=Date.now(),e=[],V=UGIF.decode(z),P=UGIF.toRGBA8(V),D=new kk(0,0,V.width,V.height);
for(var n=0;n<P.length;n++){var B=V.frames[n];e.push({hp:D.Y(),os:"_a_frm"+n+","+B.delay*10,data:P[n]})}return e};
hZ.JK={};hZ.JK.gB=function(z,q,e,V){if(q>256||e>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var P=Math.min(q,256),D=Math.min(e,256),B=new kk(0,0,P,D),A=T.n(B.D()*4),s=new kk(0,0,q,e),a=new Uint8Array(z[0][0]);
T.aF(a,s,A,B);z[0][0]=A.buffer;q=P;e=D}var M=new Uint8Array(z[0][0]).slice(0),U=0;M[3]=Math.min(M[3],254);
var $=new k7,o=V&&V[0]==!0;y.S0($,U,0);U+=2;y.S0($,U,o?2:1);U+=2;y.S0($,U,1);U+=2;var t=new Uint8Array(UPNG.encode([M.buffer],q,e,null,null,null,!0));
$.iU(U,16);$.data[U]=q==256?0:q;U++;$.data[U]=e==256?0:e;U++;U+=2;y.S0($,U,o?Math.round(q/2):1);U+=2;
y.S0($,U,o?Math.round(e/2):32);U+=2;y.eh($,U,t.length);U+=4;y.eh($,U,6+16);U+=4;$.iU(U,t.length);$.data.set(t,U);
U+=t.length;return $.data.slice(0,U).buffer};hZ.JK.EY=function(z){z=new Uint8Array(z);var q=4,e=y.iJ(z,q);
q+=2;var V=[];for(var n=0;n<e;n++){var P=hZ.JK.aG_(z,q+n*16),D=z.buffer.slice(P.offset,P.offset+P.size),B=hZ.J7(D);
B=B?B:"bmp";if(B=="png"){var A=hZ.nw(B),s=A.EY(D);P.sw=s[0]}else{var a=hZ.nw("BMP").ami(D,0),D=T.n(P.xL*P.Hi*4);
T.aF(new Uint8Array(a.data),new kk(0,0,a.hp.s,a.hp.T),D,new kk(0,P.Hi,P.xL,P.Hi));a.data=D.buffer;a.hp.T=P.Hi;
P.sw=a}V.push(P)}V.sort(function(M,$){if(M.xL!=$.xL)return M.xL-$.xL;return M.a0I-$.a0I});return[V.pop().sw]};
hZ.JK.aG_=function(z,q){var e={};e.xL=z[q];q++;if(e.xL==0)e.xL=256;e.Hi=z[q];q++;if(e.Hi==0)e.Hi=256;
e.adg=z[q];q++;q++;e.awF=y.iJ(z,q);q+=2;e.a0I=y.iJ(z,q);q+=2;e.size=y.iM(z,q);q+=4;e.offset=y.iM(z,q);
q+=4;return e};hZ.Xl={};hZ.Xl.aBe=function(z){var q,e="dng";if(z[0].t33421)q=z[0];else if(z[0].subIFD&&z[0].t271&&z[0].t271[0]=="Hasselblad"){e="fff";
q=z[0].subIFD[0];q.t33421=[2,2]}else if(z[0].subIFD&&z[0].subIFD[0].t33421){q=z[0].subIFD[0];if(q.t50706==null){if(q.t258[0]==8)q.t258[0]=12}e=q.t50713||q.t50717?"dng":"arw"}else if(z[0].subIFD&&z[0].subIFD[0]&&z[0].subIFD[0].t262&&z[0].subIFD[0].t262[0]==34892)q=z[0].subIFD[0];
else if(z[0].t50706)q=z[0];else if(z[0].subIFD&&z[0].subIFD[1]&&z[0].subIFD[1].t33421){e="nef";q=z[0].subIFD[1]}else if(z[0].subIFD&&z[0].subIFD[2]&&z[0].subIFD[2].t33421){e="nef";
q=z[0].subIFD[2]}else if(z[3]&&z[3].t50648){e="cr2";var V=z[0].exifIFD,P=V.makerNote;q=z[3];var D=P.t224[1],B=P.t224[2];
q.t256=[D];q.t257=[B];q.t258=[16];q.t259=[7];q.t262=[32803];q.t277=[1];q.t33421=[2,2];var A=q.t50656[0],s=T.raw.xw[A];
if(s==null)throw"e";q.t33422=s}else if(z[0].t1&&z[0].t1.length==4){e="rw2";var a=z[0],M={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},$=a.t280==null;
q={};for(var U in M)if(a["t"+U])q["t"+M[U]]=a["t"+U];q.t2=a.t2;q.t3=a.t3;q.t10=a.t10;q.t45=a.t45;q.t258=[16];
q.t33421=[2,2];var o=a.t9[0];if($)o=2;q.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][o-1];var t=a.t4[0],c=a.t5[0],H=a.t6[0],F=a.t7[0];
q.t50829=[t,c,H,F];var i=a.t36[0],X=a.t37[0],K=a.t38[0];q.t50728=[X/i,X/X,X/K]}else if(z[0].t258&&z[0].t258[0]>=12&&z[0].t258.length==1&&z[0].t271&&(z[0].t271[0].startsWith("OLYMPUS")||z[0].t271[0].startsWith("OM Digital Solutions"))){e="orf";
q=z[0];q.t33421=[2,2]}return[q,q?e:null]};hZ.Xl.EY=function(z){var q=Date.now();if(T.raw.SU(z.byteLength))return[T.raw.a9z(z)];
var e=UTIF.decode(z);console.log(e.slice(0));console.log(e[0]);var V=hZ.Xl.aBe(e),P=V[0];if(P){UTIF.decodeImage(z,P,e);
for(var D in e[0])if((D[0]=="t"||D[0]=="e"||D[0]=="d")&&P[D]==null)P[D]=e[0][D];P.ta=e[0].t274?e[0].t274[0]:1;
return[P]}var B=[];for(var n=0;n<e.length;n++){var A=e[n],a=null,H=72,L,G=8,C=null;UTIF.decodeImage(z,A,e);
if(A.width==null)continue;var s=A.t262;if(A.t258&&A.t258[0]==16&&A.t277&&A.t277[0]==1){var M=0,$=0,U=0,o=A.data;
for(var t=0;t<o.length;t+=2){var c=o[t+1]<<8|o[t];if(c>M)M=c;$+=c;U++}a=1/256*65535/(.5*M+.5*(2*$/U))}var F=A.t282,i=A.t296,X=lE.B0(A),K=A.t258,f=A.width,d=A.height;
if(F!=null&&i!=null){H=F[0][0]/F[0][1];if(i[0]==3)H=Math.round(H/2.54)}if(df&&(K[0]==16||K[0]==32||K[0]==64)){G=K[0];
if(G==64){var x=new Float32Array(A.data.length>>>3),O=new Float64Array(A.data.buffer);for(var t=0;t<x.length;
t++)x[t]=O[t];A.data=x;G=32}L=hZ.a9m(A.data.buffer,f,d,null,G);var v=G==16?new Uint16Array(L):new Float32Array(L),M=T.K8(G);
if(s&&s[0]==0)for(var t=0;t<v.length;t+=4){v[t]=M-v[t];v[t+1]=M-v[t+1];v[t+2]=M-v[t+2]}}else L=UTIF.toRGBA8(A,a).buffer;
if(A.t338&&A.t338[0]==0){var S=T.n(f*d,G),C=[S],j=G==16?new Uint16Array(L):new Uint8Array(L),M=T.K8(G);
T.bl(j,S,3);for(var t=0;t<j.length;t+=4)j[t+3]=M}B.push({hp:new kk(0,0,f,d),data:L,do:H,MX:X,LN:A.t34675?A.t34675.slice(0):null,kv:C,depth:G})}return B};
hZ.Xl.gB=function(z,q,e,V){if(V==null)V={mtdt:!0};var P={},D=z[0].slice(0),B=new Uint8Array(D[0]);if(!T.Ep(B)&&D[4]&&D[4][0]){B=B.slice(0);
T.yR(D[4][0],B,3)}if(D[3]!=null&&V.mtdt)P=lE.$y(D[3]);if(D[2]!=null){P.t282=P.t283=[[Math.round(D[2]),1]];
P.t296=[2]}return UTIF.encodeImage(B.buffer,q,e,P)};hZ.ZE={};hZ.ZE.k2=!0;hZ.ZE.EY=function(z,q){var e=y.yD(new Uint8Array(z),"Alpha 1"),V=UTIF.decode(z),P=V[0],o=0;
console.log(V);var D=q.s=P.t256[0],B=q.T=P.t257[0],A=D*B;q.buffer=T.n(A*4);q.td=!1;q.Ut=P.t258[0];q.cN=3;
if(P.t262&&P.t262[0]==5){q.cN=4;q.add.fcmy=!0}var s=P.t34377;if(s){var a=new Uint8Array(s.length+4);
a.set(s,4);y.lt(a,0,s.length);eA.akt(q,a,0);eA.afb(q)}var M=P.t37724.slice(36),$=y.JU(M,0,4)=="MIB8";
d1.R1(M,0,M.length,q.add,!1,q,$);var U=$?y.iM:y.vQ;while(o<M.length){var t=y.kO(M,o,$);o+=4;var c=y.kO(M,o,$);
o+=4;var H=U(M,o);o+=4;if(c=="Layr"){dE.iQ(q,M,o,$);for(var n=0;n<q.Z.length;n++){var F=q.Z[n];if(F.add.vstk)F.ly(q)}}o+=H;
if((H&3)!=0)o+=4-(H&3)}var i=P.t277[0],X=new Uint8Array(z,P.t273[0]);for(var n=3;n<i;n++){var K=T.n(A);
for(var f=0;f<A;f++)K[f]=X[f*i+n];var d=new lK.Eu;q.kv.push(d);d.name=q.Sq?q.Sq[n-3]:"Alpha";d.o=K;d.V=new kk(0,0,D,B)}if(q.Z.length==0){var L=hZ.Xl.EY(z);
for(var n=0;n<L.length;n++){var F=new lK,P=L[n];q.Z.push(F);F.V=P.hp;F.buffer=new Uint8Array(P.data);
F.up("Background")}}};hZ.aPs={};hZ.aPs.EY=function(z){z=new Uint8Array(z);var q=8,e,V=0;while(q<z.length){var P=y.JU(z,q,4),D=y.vQ(z,q+4);
if(P.startsWith("ic")){var B=z.slice(q+8,q+D),A=hZ.J7(B.buffer),s=hZ.nw(A),a=s.EY(B.buffer),M=a[0].hp.D();
if(M>V){V=M;e=a}}q+=D}return e};hZ.X3={};hZ.X3.k2=!0;hZ.X3.EY=function(z,q){dE.iA(z,q)};hZ.X3.aCo=function(z,q,e,V){z.dS(!0);
if(V==null)V=[!1,!1,!1,!1,!1];if(!V[0])z.tW();var P=new k7,D=dE.Ft(z,P,V);return[P.data.buffer,D]};hZ.X3.gB=function(z,q,e,V){var P=hZ.X3.aCo(z,q,e,V),D=P[0],B=P[1];
return D.byteLength==B?D:D.slice(0,B)};hZ.am={};hZ.am.k2=!0;hZ.am.EY=function(z,q){var e=pako.inflate(new Uint8Array(z)),V=y.mU(e,0),P=y.mU(e,2),D=4;
q.s=y.vQ(e,D);D+=4;q.T=y.vQ(e,D);D+=4;q.buffer=T.n(q.s*q.T*4);var B=y.mU(e,D);D+=2;D+=4;for(var A=0;
A<B;A++){var s=q.OJ(),t=0,u=1,l=2,I=3,Q=0;q.Z.push(s);var a=y.vQ(e,D);D+=4;var M=D,$=y.mU(e,M);M+=2;
var U=y.vK(e,M,$);M+=$;s.up(U);var o=e[M];M++;if(o!=0&&o!=1)throw o;s.V.x=y.ca(e,M);M+=4;s.V.y=y.ca(e,M);
M+=4;s.V.s=y.vQ(e,M);M+=4;s.V.T=y.vQ(e,M);M+=4;if(V>3){t=y.ca(e,M);M+=4}s.vz=Math.round(255*e[M]/100);
M++;var c=e[M];M++;s.Bm(c!=0);s.pi="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[e[M]];
M++;var H=e[M];M++;if(H)s.add.lspf=1<<31;if(V>3){var F=y.mU(e,M);M+=2;if(F!=0){var i=JSON.parse(y.vK(e,M,F));
M+=F;var X=i.text,K=i.textSettings,f=K.font,d=K.size,L=K.padding,G=parseInt(K.color.slice(1),16);s.add.lnsr="rend";
s.add.TySh=dc.Pj(0,0);s.add.TySh.iB=new kk(0,0,100,100);var x=s.add.TySh.v=new e5,O=s.V.s/2,v=s.V.T/2;
x.translate(-O,-v);x.rotate(-t*Math.PI/180);x.translate(O,v);x.translate(s.V.x+L,s.V.y+L);var C=s.add.TySh._1;
dc.M_(C,1);dc.v7(C,[0,0,s.V.s-L*2,s.V.T]);dc.o5(C,0,X);var S=dc.jb(C,0,1);S.c_.FontSize=d;S.c_.FillColor={Type:1,Values:[1,(G>>>16&255)/255,(G>>>8&255)/255,(G>>>0&255)/255]};
if(K.bold)f+="-Bold";dc.v3(S,f);S.S$.Justification=["left","right","center"].indexOf(K.align);dc.Vy(C,0,X.length,S)}}var j=y.vQ(e,M);
M+=4;if(j!=s.V.D()*4){for(var n=s.V.s;n>s.V.s/2;n--){var w=j/(n*4);if(w==Math.round(w)){s.V.s=n;s.V.T=w;
break}}}s.buffer=T.n(s.V.D()*4);if(V>3){u=0;l=1;I=2;Q=3}for(var n=0;n<j;n+=4){s.buffer[n]=e[M+n+u];s.buffer[n+1]=e[M+n+l];
s.buffer[n+2]=e[M+n+I];s.buffer[n+3]=e[M+n+Q]}M+=j;var b=y.vQ(e,M);M+=4;if(b==0&&V>3){D+=a;continue}var p=e[M];
M++;var k=y.mU(e,M);M+=2;if(b!=0){s.Eo=new lK.Eu;s.Eo.V=s.V.Y();s.Eo.o=T.n(s.V.D());for(var n=0;n<b;
n+=4)s.Eo.o[n>>>2]=e[M+n+1];M+=b}if(p!=0){var g=JSON.parse(az.default);s.add.lmfx=g;for(var n=0;n<az.order.length;
n++)g[az.cx[n]]={t:"VlLs",v:[]};var Y={"102":9,"101":2,"103":0,"104":3,"105":8};for(var n=0;n<p;n++){var R=y.mU(e,M),m=M+R+4,Z=e.slice(M,m),E=e[M+2];
M+=3;var N=Y[E+""],h=JSON.parse(az.j3[N]);g[az.cx[N]].v.push({t:"Objc",v:h});if(N!=0){h.Md.v.BlnM=aA.bi("norm");
h.Opct.v.val=e[M];M++;if(N==9||N==2){h.Dstn.v.val=e[M+1];M+=2}else M+=2;h.blur.v.val=Math.round(e[M]*1.2);
M++;if(N==9||N==2){h.uglg.v=!1;h.lagl.v.val=180-y.mU(e,M);M+=2}h.Clr.v=T.Yf.e8({l:e[M+1],I:e[M+2],c:e[M+3]})}else{h.hglM.v.BlnM=h.sdwM.v.BlnM=aA.bi("norm");
M+=2;var j5=e[M++],r=e[M++];h.blur.v.val=Math.round(Math.sqrt(r*j5)*1.3);h.srgR.v.val=Math.round(100*j5/r);
h.uglg.v=!1;h.lagl.v.val=180-y.mU(e,M);M+=2;h.hglO.v.val=e[M++];h.hglC.v=T.Yf.e8({l:e[M+1],I:e[M+2],c:e[M+3]});
M+=4;h.sdwO.v.val=e[M++];h.sdwC.v=T.Yf.e8({l:e[M+1],I:e[M+2],c:e[M+3]});M+=4}M=m}}if(M-D<a){var l8=y.vQ(e,M),kR=0;
M+=4;M++;var $=y.mU(e,M);M+=2;var X=y.vK(e,M,$);M+=$;X=X.replace(/\r/g,"\n");var $=y.mU(e,M);M+=2;var f=y.vK(e,M,$);
M+=$;var d=y.mU(e,M);M+=2;var aP=s.V.x,bS=s.V.s;if(l8&4)kR=1;if(l8&2)kR=2;var j1=Math.round(d*.4);if(kR==0||kR==2)bS+=j1;
if(kR==1||kR==2){bS+=j1;aP-=j1}s.add.lnsr="rend";s.add.TySh=dc.Pj(0,0);s.add.TySh.iB=new kk(0,0,100,100);
s.add.TySh.v=new e5(1,0,0,1,aP,s.V.y+d*.25);var C=s.add.TySh._1;dc.M_(C,1);dc.v7(C,[0,0,bS,s.V.T]);dc.o5(C,0,X);
var S=dc.jb(C,0,1);S.c_.FontSize=d;S.c_.FillColor={Type:1,Values:[1,e[M+1]/255,e[M+2]/255,e[M+3]/255]};
M+=4;if(e[M+5])f+="-Bold";if(e[M+6])f+="-Italic";dc.v3(S,f);S.S$.Justification=kR;M+=8;dc.Vy(C,0,X.length,S)}D+=a}};
hZ.sR={};hZ.sR.k2=!0;hZ.sR.EY=function(z,q){var e=UZIP.parse(z),V=JSON.parse(y.vK(e["manifest.json"].buffer));
q.s=V.width;q.T=V.height;q.buffer=T.n(q.s*q.T*4);q.name=V.name+".psd";var P=V.stack;for(var D=0;D<P.length;
D++){var B=P[D],A=B.type,s=B.rect,a=B.format,M=a?a.fill:null,$=q.OJ();$.up(B.name);$.Bm(B.visible);$.vz=Math.round(255*B.opacity);
var U=$.V=new kk(s.x,s.y,s.w,s.h),o=s.r;if(o==null)o=0;q.Z.push($);if(A=="image"&&o!=0||A=="shape"&&a.variant=="svg"){var t=q.Ql(e[B.content],$.getName(),0,0);
t.b9=$.b9;t.vz=$.vz;$=t;q.Z.pop();q.Z.push($);var H=T.R.iR(U).J;T.R.v(H,hZ.sR.tX(U,o),H);$.add.SoLd.Trnf=W.On.V1(H);
$.add.SoLd.nonAffineTransform=W.On.V1(H);$.N7(q,!1)}else if(A=="image"){if(U.D()!=0){var F=e[B.content].buffer,i=hZ.J7(F),X=hZ.nw(i),K=X.EY(F)[0];
U.s=K.hp.s;U.T=K.hp.T;$.buffer=new Uint8Array(K.data)}}else if(A=="shape"){$.b9|=16;var f=$.add.vstk=az.Y1.g1(!0),d=$.add.vmsk=new lK.cI,L,G=a.variant;
if(G=="rectangle"||G=="rounded"){L=T.S.nU.Rect(U.x,U.y,U.s,U.T,a.radii)}else if(G=="ellipse"){L=T.S.nU.f4(U.x,U.y,U.s,U.T)}else if(G=="path"){var x=Typr.U.SVGToPath(B.content),O={_:x.cmds,J:x.crds};
L=T.R.XI(O);var v=T.S.O5(L);T.S.Z8(L,new e5(U.s/v.s,0,0,U.T/v.T,U.x,U.y))}else if(G=="line"){var O={_:["M","L"],J:[U.x,U.y,U.x+U.s,U.y]};
L=T.R.XI(O)}else console.log(a);$.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8({l:0,I:0,c:0})}};
if(M==null){f.fillEnabled.v=!1}else if(M.type=="color"){$.add.SoCo.Clr.v=T.Yf.e8(CSS._3(M.value))}else if(M.type=="gradient"){delete $.add.SoCo;
$.add.GdFl=hZ.sR.sX(M,o)}else console.log(M);var C=hZ.sR.tX(U,o);T.S.Z8(L,C);var S=B.style;if(S&&S.outline){var j=S.outline;
f.strokeEnabled.v=!0;f.strokeStyleLineWidth.v.val=j.size;f.strokeStyleContent.v.Clr.v=T.Yf.e8(CSS._3(j.color))}d.B=L;
$.T4();$.ly(q)}else if(A=="text"){$.add.lnsr="rend";$.add.TySh=dc.Pj(0,0);$.add.TySh.iB=new kk(0,0,100,100);
var w=$.add.TySh._1;dc.M_(w,1);dc.v7(w,[0,0,U.s,U.T]);var u=B.content;dc.o5(w,0,u);var l=dc.jb(w,0,Math.min(u.length,1)),I=a.font.name,Q=a.font.content;
if(Q&&e[Q]){var b=e[Q];if(b instanceof Uint8Array)b=e[Q]=Typr.parse(b.buffer)[0];I=b.name.postScriptName}dc.v3(l,I);
var p=l.c_.FontSize=Math.round(a.size);if(M&&M.value){var k=null;if(M.type=="color")k=M.value;else if(M.type=="gradient")k=M.value.stops[0].color;
if(k){var g=CSS._3(k);l.c_.FillColor={Type:1,Values:[1,g.l/255,g.I/255,g.c/255]}}}var Y=a.linespace;
if(Y){l.c_.AutoLeading=!1;l.c_.Leading=Math.round(p*(1.06+parseFloat(Y)));console.log(Y,l.c_)}l.c_.FauxBold=a.bold;
l.S$.Justification=["left","right","center","justify"].indexOf(a.align);dc.Vy(w,0,u.length,l);var R=new e5,m=U.s/2,Z=U.T/2;
R.translate(Math.round(p*0),Math.round(p*.25));R.translate(-m,-Z);R.rotate(-o*Math.PI/180);R.translate(m,Z);
R.translate(U.x,U.y);$.add.TySh.v=R;$.V=new kk}else console.log(B)}q.HA=!0};hZ.sR.tX=function(z,q){var e=z.x+z.s/2,V=z.y+z.T/2,P=new e5;
P.translate(-e,-V);P.rotate(-q*Math.PI/180);P.translate(e,V);return P};hZ.sR.sX=function(z,q){var e=JSON.parse(az.j3[az.order.indexOf("GrFl")]),V=e.Grad.v;
V.Intr.v=0;var P=[],D=z.value.stops;for(var n=0;n<D.length;n++){var B=D[n],A=CSS._3(B.color);P.push([B.position,[A.l/255,A.I/255,A.c/255]])}T.Yf.WL(P,V);
e.Angl.v.val=-(z.value.direction+q)+90+180;return e};hZ.VM={};hZ.VM.k2=!0;hZ.VM.EY=function(z,q){bd.iA(z,q)};
var bd=function(){function z($,U){var o=Date.now(),t=UZIP.parse($),c=t["maindoc.xml"],H=new DOMParser,F=H.parseFromString(y.vK(c),"image/svg+xml").children[0].children[0],i=F.getAttribute("name"),X=U.s=a(F,"width"),K=U.T=a(F,"height");
U.do=Math.round(a(F,"x-res"));var f=F.children[0].children;q(f,U,{yE:i,o_:t,It:null});console.log(Date.now()-o);
o=Date.now()}function q($,U,o){for(var t=0;t<$.length;t++){var c=$[$.length-1-t],H=c.getAttribute("nodetype");
if(H=="transparencymask"){o.It.Eo=M(c,o);continue}var F=c.getAttribute("compositeop"),i=c.getAttribute("filename"),X=c.getAttribute("channelflags"),f=c.children;
f=f.length==0?null:f[0].children;var d=U.OJ();if(H=="paintlayer"){var L=a(c,"x"),G=a(c,"y"),x=o.o_[o.yE+"/layers/"+i+".defaultpixel"],O=o.o_[o.yE+"/layers/"+i],v=s(O);
d.V=v[0];d.V.offset(L,G);d.buffer=v[1];if(d.V.a8()&&x.join()!="0,0,0,0"){d.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8({l:x[0],I:x[1],c:x[2]})}};
d.ly(U)}}else if(H=="grouplayer"){d.add.lsct=fH._j;d.pi="pass";d.b9|=24;U.Z.push(U.cs());var C=o.It;
o.It=d;q(f,U,o);o.It=C}else if(H=="shapelayer"){var O=o.o_[o.yE+"/layers/"+i+".shapelayer/content.svg"],S=y.vK(O),j=U.Ql(O,d.getName(),0,0);
d=j;var w=new kk(0,0,U.s,U.T),u=T.R.iR(w).J;d.add.SoLd.Trnf=W.On.V1(u);d.add.SoLd.nonAffineTransform=W.On.V1(u);
d.N7(U,!1)}else if(H=="clonelayer"){var n=-1;for(var l=0;l<$.length;l++)if($[l].getAttribute("name")==c.getAttribute("clonefrom"))n=l;
if(n!=-1){q([$[n]],U,o);d=U.Z.pop()}}else console.log(H,c);d.up(c.getAttribute("name"));if(a(c,"locked")==1)d.add.lspf=1<<31;
d.Bm(a(c,"visible")==1);var I={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[F];if(I)d.pi=I;
else console.log(F);d.vz=a(c,"opacity");if(X=="1110")d.Ev=!0;var Q=f?f[0]:null;if(Q&&Q.tagName=="mask")d.Eo=M(Q,o);
U.Z.push(d)}}function e($,U){var o=0,t=0,c=$.length,H,F,i;while(o<c){H=$[o++];if(H>31){F=H>>>5;if(F==7)F=7+$[o++];
i=(H&31)<<8|$[o++];var X=t-i-1,K=F>>>1;U[t++]=U[X++];U[t++]=U[X++];for(var n=0;n<K;n++){U[t++]=U[X++];
U[t++]=U[X++]}if((F&1)==1)U[t++]=U[X++]}else{for(var n=0;n<=H;n++){U[t++]=$[o++]}}}}function V($,U){var o=0;
while($[U+o]!=10)o++;return y.JU($,U,o)}var P=new kk(0,0,64,64),D=new Uint8Array(64*64*4),B=new Uint8Array(64*64*4);
function A(){for(var n=0;n<4096;n++){var $=n<<2;D[$+0]=B[n+8192];D[$+1]=B[n+4096];D[$+2]=B[n];D[$+3]=B[n+12288]}}function s($){var U=0,o={};
for(var n=0;n<5;n++){var t=V($,U);U+=t.length+1;t=t.split(" ");o[t[0]]=parseInt(t[1])}var c=o.PIXELSIZE,H=[],F=new kk;
while(U<$.length){var t=V($,U),i=t.split(",");U+=t.length+1;if(i[2]!="LZF")throw i[2];P.x=parseInt(i[0]);
P.y=parseInt(i[1]);F=F.X8(P);var X=parseInt(i[3]);H.push([P.Y(),new Uint8Array($.buffer,U+1,X-1)]);U+=X}var K=T.n(F.D()*c);
for(var n=0;n<H.length;n++){var f=H[n];e(f[1],B);if(c==4){A();T.aF(D,f[0],K,F)}else T.KY(B,f[0],K,F)}return[F,K]}function a($,U){return parseInt($.getAttribute(U))}function M($,U){var o=$.getAttribute("filename"),t=U.o_[U.yE+"/layers/"+o+".pixelselection"],c=s(t),H=new lK.Eu;
H.hf=a($,"visible")==1;H.V=c[0];H.o=c[1];return H}return{iA:z}}();hZ.SG={};hZ.SG.k2=!0;hZ.SG.EY=function(z,q){fp.iA(z,q)};
hZ.Y9={};hZ.Y9.EY=function(z){var q=new Uint8Array(z),e=hZ.Y9.CP(q,0,0),V=e.sub[2],P=hZ.Y9.adN(q,V),D=e.sub[3],B=hZ.Y9.adN(q,D);
return[P,B]};hZ.Y9.adN=function(z,q){var e=q.sub[q.sub.length-1],V=e.sub[0].g,P=e.sub[1].g,D=z.slice(V,V+16),B=z.slice(P,P+e.sub[1].size),A=y.iM,s=z[V],a=A(z,V+1),M=A(z,V+5),$=z[V+13],U=new kk(0,0,a,M),o=T.n(a*M*4);
if($){T.FH(o,4278190080)}else{UTEX.readBC1(z,P,o,a,M)}return{hp:U,data:o}};hZ.Y9.CP=function(z,q,e){var V=y.JU,P=y.iM,D=V(z,q,4);
D=D.split("").reverse().join("");var B=P(z,q+4);if(B!=0){console.log(z.slice(q-8));throw B}var A=P(z,q+8);
while((A&3)!=0)A++;var s={PP:D,g:q+12,size:A};if(D=="CARF"||D=="CTEX"||D=="CREW"||D=="BMAP"){s.sub=[];
q+=12;if(D=="CTEX"||D=="CREW")q+=32;var a=s.g+s.size;while(q<a){var M=hZ.Y9.CP(z,q,e+1);s.sub.push(M);
q+=12+M.size+(M.size&1)}}return s};hZ.yV={};hZ.yV.k2=!0;hZ.yV.EY=function(z,q){kv.iA(z,q)};hZ.vV={};
hZ.vV.k2=!0;hZ.vV.EY=function(z,q){ha.iA(z,q)};hZ.vN={};hZ.vN.k2=!0;hZ.vN.EY=function(z,q){b9.iA(z,q)};
hZ.M9={};hZ.M9.k2=!0;hZ.M9.EY=function(z,q){fY.iA(z,q)};hZ.xP={};hZ.xP.k2=!0;hZ.xP.EY=function(z,q){fd.iA(z,q)};
hZ.EI={};hZ.EI.k2=!0;hZ.EI.EY=function(){function z(M){var $=M.w,U=M.h,o=new kk(0,0,$,U);if($==0){for(var n=0;
n<M.$.length;n++){var t=M.$[n];if(t["@"]=="slice")o=new kk(t.x,t.y,t.w,t.h)}}if(o.s==0||o.T==0)o.s=o.T=1024;
return o}function q(M,$){var U=y.vK(new Uint8Array(M)),o=JSON.parse(U),t=o.$,c=new kk,H=[],F=[],f=0;
for(var i=0;i<t.length;i++){var X=t[i],K=z(X);if(X["@"]!="page")continue;F[i]=new f5(K.x,K.y);K.x=K.y=0;
if(i!=0)K.x+=c.s+40;c=c.X8(K);H[i]=K}$.s=Math.round(c.s);$.T=Math.round(c.T);$.buffer=T.n($.s*$.T*4);
for(var i=0;i<t.length;i++){var X=t[i];if(X["@"]!="page")continue;var d=new e5;d.translate(H[i].x-F[i].x,-F[i].y);
e(X,d,$,o,0);f++}$.Ic(f);$.HA=!0}function e(M,$,U,o,t){var c=M["@"],K=!1;if(c=="annlst")return;var H=A(M);
H.concat($);var F=U.OJ(),i=M.$,X=c=="page"||c=="group"||c=="layer";if(!X&&i&&c!="Compound Shape"){M=T.G(M);
delete M.$;i=[M].concat(i);X=!0;K=!0}if(X){F.add.lsct=t<2?fH._j:fH.OI;F.pi="pass";F.b9=24;if(K){var f=F.add.vmsk=new lK.cI;
f.B=B(M);F.T4();F.ly(U)}U.Z.push(U.cs());if(c=="page"){var d=z(M),L=new kk(H.yK+d.x,H.ww+d.y,d.s,d.T);
F.Ig(L);if(M.bck&&M.bop!=0){F.add.artb.Clr={t:"Objc",v:T.Yf.e8(D(M.bck))};F.add.artb.artboardBackgroundType={t:"long",v:4}}else{F.add.artb.artboardBackgroundType={t:"long",v:3}}}if(i)for(var n=0;
n<i.length;n++)e(i[n],$,U,o,t+1)}else if(c=="ellipse"||c=="rectangle"||c=="polygon"||c=="path"||c=="compoundpath"||c=="Compound Shape"){F.b9|=16;
var f=F.add.vmsk=new lK.cI,x=null,O=null;f.B=B(M);T.S.Z8(f.B,$);var G=M._layers?M._layers.$:[];for(var n=0;
n<G.length;n++){if(G[n]["@"]=="borderPaintLayer")O=G[n];if(G[n]["@"]=="fillPaintLayer")x=G[n]}if(x&&x._vs==!1)x=null;
if(O&&O._vs==!1)O=null;if(O&&O._bw==null)O=null;if(O&&O._pt==null)O=null;var v=x!=null,C=O!=null;if(v&&x._op!=null){if(x._op==0)v=!1;
else if(!C)F.vz=Math.round(F.vz*x._op)}var S=F.add.vstk=az.Y1.g1(v,C);if(C){var j=az.kQ.g1();if(O._ba=="I")j.i4=0;
if(O._ba=="O")j.i4=2;if(O._bw)j.e6=O._bw;if(O._bds)j.Nn=O._bds;if(O._blc)j.vZ=["butt","round","square"].indexOf(O._blc);
j.o3=2;az.Y1.write(S,j);if(O._pt)S.strokeStyleContent.v.Clr.v=T.Yf.e8(D(O._pt));if(O._op!=null)S.strokeStyleOpacity.v.val=Math.round(O._op*100)}var w=v?x._pt:null;
if(w&&w[0]=="L"){var u=JSON.parse(w.slice(2)),l=[];for(var n=0;n<u.x.length;n++){var I=u.x[n],Q=D(I.c);
l.push([I.p,[Q.l/255,Q.I/255,Q.c/255],I.o])}var b=F.add.GdFl=JSON.parse(az.j3[az.order.indexOf("GrFl")]),p=b.Grad.v;
b.Type.v.GrdT="Lnr";var k=[.5,0,1,0],g=T.S.O5(f.B);g.x=g.y=0;var Y=new e5;if(u.r!=null)Y.rotate(-u.r);
Y.scale(u.s,u.s);Y.translate(u.fx,u.fy);Y.scale(g.s,g.T);T.R.v(k,Y,k);T.Yf.Lv(new f5(k[0],k[1]),new f5(k[2],k[3]),g,b);
T.Yf.WL(l,p)}else F.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8(v?D(w):{l:0,I:0,c:0})}};F.T4();
F.ly(U)}else if(c=="text"){var R=JSON.parse(M.content),N=0,h="",j5=0;F.add.lnsr="rend";var m=F.add.TySh=dc.Pj(0,0);
m.iB=new kk(0,0,100,100);var Z=m._1;dc.o5(Z,0," ");var E=JSON.stringify(dc.jb(Z,0,1));for(var n=0;n<R.length;
n++){var r=R[n],l8=r.text.replaceAll(String.fromCharCode(8232),"\n"),aP=JSON.parse(E);aP.c_.FontSize=r.fontSize;
j5=Math.max(j5,r.fontSize);dc.v3(aP,P(r));var bS=D(r.fontColor);aP.c_.FillColor={Type:1,Values:[1,bS.l/255,bS.I/255,bS.c/255]};
if(r.align=="center")aP.S$.Justification=2;if(r.align=="right")aP.S$.Justification=1;if(r.transformation=="uppercase")aP.c_.FontCaps=2;
if(r.strikeout)aP.c_.Strikethrough=!0;if(r.lineSpacing!=null){aP.c_.AutoLeading=!1;aP.c_.Leading=Math.round(r.lineSpacing*r.fontSize*1.4)}dc.o5(Z,N,l8);
dc.Vy(Z,N,N+l8.length,aP);N+=l8.length;h+=l8}var kR=M.aw==!1&&M.w>10?1:0;if(kR==1){var j1=M.w,f6=M.h,gx=R[0].fontSize;
if(M.ah==!1){}else{var lC=N*gx*.52/j1;f6=Math.max(f6,1.2*gx*Math.ceil(lC))}dc.M_(Z,1);dc.v7(Z,[0,0,Math.round(j1),Math.round(f6)])}var g2=M.va;
if(M.va==null)g2="t";if(g2=="m")m.h8.VAlign.v=2;if(g2=="b")m.h8.VAlign.v=1;var dv=m.v=new e5,r=R[0];
if(kR==0)dv.translate(r.align=="center"?M.w/2:0,j5*.9);else dv.translate(0,j5*(g2=="b"?0:g2=="m"?.17:.3));
dv.concat(H)}else if(c=="image"){var bv=M.url,eo=null,aL=o.dictionary.entries;if(bv.startsWith("data:"))eo=bv;
else for(var n=0;n<aL.length;n++)if(bv.endsWith(aL[n].uuid))eo=aL[n].value;var dh=hZ.cC(eo);F=U.Ql(dh,"hey",0,0);
var eM=T.R.iR(new kk(0,0,M.pw,M.ph)).J;T.R.v(eM,H,eM);F.add.SoLd.Trnf=W.On.V1(eM);F.add.SoLd.nonAffineTransform=W.On.V1(eM);
F.N7(U,!1)}else console.log(c,M);if(M._eff){var kg=M._eff.$;for(var n=0;n<kg.length;n++){var jJ=kg[n],iL=jJ["@"];
if(iL=="overlayEffect"){var bz=JSON.parse(az.j3[az.order.indexOf("SoFi")]);bz.Clr.v=T.Yf.e8(D(jJ.pat));
V(F,"solidFillMulti",bz)}else if(iL=="dropShadowEffect"){var bz=JSON.parse(az.j3[az.order.indexOf("DrSh")]);
bz.Clr.v=T.Yf.e8(D(jJ.pat));bz.blur.v.val=jJ.r==null?5:jJ.r;var ks=jJ.x,gr=jJ.y;if(ks==null)ks=gr=0;
bz.Dstn.v.val=Math.round(Math.sqrt(ks*ks+gr*gr));bz.lagl.v.val=Math.round(Math.atan2(gr,-ks)*180/Math.PI);
bz.uglg.v=!1;V(F,"dropShadowMulti",bz)}else console.log(jJ,M)}}if(M.name)F.up(M.name);else F.up(c[0].toUpperCase()+c.slice(1));
if(M._stop)F.vz=Math.round(F.vz*M._stop);if(M.vis!=null)F.Bm(M.vis);U.Z.push(F)}function V(M,$,U){var o=M.add.lmfx;
if(o==null){var o=M.add.lmfx=JSON.parse(az.default);for(var n=0;n<az.order.length;n++)o[az.cx[n]]={t:"VlLs",v:[]}}o[$].v.push({t:"Objc",v:U})}function P(M){var $={"400":"Regular","600":"SemiBold","700":"Bold","800":"ExtraBold"},U=M.fontFamily,o=M.fontWeight;
if(fx&&fx.NS){var t=fx.NS,c=t.va(),H=c[U];if(H==null)return U;var F=$[""+o];if(F==null)console.log(o,H);
if(F==null)F=H[0];var i=t.ut(U,F);return i[2]}return U}function D(M){var $=M[0];if($=="#")return CSS._3(M);
else if($=="C"){var hE=M.slice(3,-1).split(",").map(parseFloat);return{l:hE[0],I:hE[1],c:hE[2]}}else if($=="L"){M=JSON.parse(M.slice(2));
return D(M.x[0].c)}else{console.log(M);return{l:0,I:0,c:0}}}function B(M){var $=M["@"],U=T.S.nU.f4(-1,-1,2,2).slice(0,2),o=A(M),t=$=="compoundpath";
if($=="ellipse"){U=T.S.nU.f4(-1,-1,2,2);T.S.Z8(U,o)}else if($=="rectangle"){U=T.S.nU.Rect(-1,-1,2,2);
T.S.Z8(U,o);var c=M.sl;if(c!=0)T.S.h2(U,2,[c,c,c,c])}else if($=="polygon"){var H=M.cx,F=M.cy;U=T.S.nU.q$(H,F,M.or,-.31,M.pts,0,M.ir/M.or);
T.S.Z8(U,o)}else if($=="Compound Shape"||t){var i=M[t?"paths":"$"];for(var n=0;n<i.length;n++){var X=t?JSON.parse(i[n]):i[n],K=t?0:1;
if(X.bool==4)K=2;if(X.bool==3)K=3;var f=B(X),d=f[2];d.xq=n==0?1:K;U=U.concat(f.slice(2))}}else if($=="path"){U.push({e:M.closed?0:3,xq:n==0?1:0,length:M.pts.length,yL:0,xr:0,HO:1});
var L=!1,G=[],x=U.length-1;for(var O=0;O<M.pts.length;O++){var v=M.pts[O],C,S,j,w=0;if((v.length&1)==0)v=v.slice(1);
var C=S=j=s(v[0]);for(var u=3;u<v.length;u+=2){var l=v[u],I=s(v[u+1]);if(l=="h")C=I;else if(l=="H")j=I;
else if(l=="C"){w=I.x;L=!0}else console.log(l,I)}G.push(w);U.push({e:1,li:o.a0(C),O0:o.a0(S),kS:o.a0(j)})}if(L)T.S.h2(U,x,G)}else console.log("Unknown path type",$);
return U}function A(M){var $=M.trf;return $?new e5($[0],$[1],$[2],$[3],$[4],$[5]):new e5}function s(M){var $=y.$R,U=a(M);
return new f5($(U,0),$(U,4))}function a(M){return new Uint8Array(hZ.hS(M))}return q}();hZ.Zr={};hZ.Zr.k2=!0;
hZ.Zr.gB=function(z,q,e,V,P,D){if(V==null)V={arst:!0,mini:!0};var B=j9.iO(z,{ao_:V.arst,hidden:V.ahid,ay1:V.vtxt,a7U:V.rtxt,NR:V.mini,arA:q,aLA:e},P.Se,D);
return B};hZ.Zr.EY=function(z,q,e){j9.iA(z,q,e)};hZ.VC={};hZ.VC.k2=!0;hZ.VC.EY=function(z,q){var e=150,V=new e5(1,0,0,-1,0,0);
V.scale(e/72,e/72);q.do=e;var P=new kF(q,V,!0);FromPS.Parse(z,P)};hZ.Gw={};hZ.Gw.k2=!0;hZ.Gw.gB=function(z,q,e,V,P){if(V==null)V={pags:"",qual:100};
V.fmts=["jpg"];var D=new ToPDF;kc.iO(z,V,D,P.Se,q,e);return D.buffer};hZ.Gw.EY=function(z,q,e){var V=cW==0?2:1;
while(!0){var P=V*72,D=new e5(1,0,0,-1,0,0);D.scale(P/72,P/72);q.do=P;var B=new kF(q,D,!0);FromPDF.Parse(z,B);
var A=Math.max(q.s,q.T);if(e&&A<Math.max(e[0],e[1])){q.Z=[];var s=V;while(A*(V/s)<Math.max(e[0],e[1]))V++}else break}};
hZ.R2={};hZ.R2.k2=!0;hZ.R2.EY=function(z,q){var e=72,V=new e5(1,0,0,1,0,0);V.scale(e/72,e/72);q.do=e;
var P=new kF(q,V,!1);FromWMF.Parse(z,P)};hZ.ON={};hZ.ON.mv=!0;hZ.ON.k2=!0;hZ.ON.gB=function(z,q,e,V,P){if(V==null)V={pags:"",qual:100};
V.fmts=[];var D=new ToEMF;kc.iO(z,V,D,P.Se);return D.buffer};hZ.ON.EY=function(z,q){var e=72,V=new e5(1,0,0,1,0,0);
V.scale(e/72,e/72);q.do=e;var P=new kF(q,V,!1);FromEMF.Parse(z,P)};hZ.YQ={};hZ.YQ.k2=!0;hZ.YQ.EY=function(z,q){return fi.iA(z,q)};
hZ.a2Z={};hZ.a2Z.EY=function(){var z,q,e,V,P,D,B=0,A=0,s=0,a=0,M=0,i="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",X=null;
function $(K){var f=g3.iA(K),d=f.U0,S=0,j,w;console.log(f);var L=new Uint8Array(K);if(d=="ILBM")return U(f,L);
if(d=="CIMG")return c(f,L);if(d=="ANIM"&&f.sub[0].PP=="ADAT")return F(f,L);if(d!="ANIM")throw d;var G=y.mU,x=y.vQ,v=f.sub,C=U(v[0],L);
for(var u=1;u<v.length-2;u++){var l=C[Math.max(0,u-2)].ag_.slice(0),I=v[u];for(var Q=0;Q<I.sub.length;
Q++){var b=I.sub[Q],p=b.g;if(b.PP=="ANHD"){var k=L[p++];if(k!=5)throw k;var V=L[p++],g=G(L,p),Y=G(L,p+2);
if(g!=0&&g!=z)throw g;if(Y!=0&&Y!=q)throw Y;var R=G(L,p+4),m=G(L,p+6);if(R!=0||m!=0)throw R;p+=8;var Z=G(L,p);
p+=2;j=G(L,p);p+=2;if(L[p++]!=0)throw"e";if(L[p++]!=0)throw"e";w=G(L,p);p+=2}else if(b.PP=="DLTA"){var E=[],N=p;
for(var n=0;n<16;n++)E.push(x(L,p+n*4));p+=64;var h=D;for(var j5=0;j5<P;j5++){if(E[j5]==0)continue;p=N+E[j5];
for(var r=0;r<h;r++){var l8=L[p++],aP=0;if(l8==0)continue;for(var n=0;n<l8;n++){var bS=L[p++];if(bS==0){var kR=L[p++],j1=L[p++];
for(var f6=0;f6<kR;f6++){l[(aP*P+j5)*h+r]=j1;aP++}}else if(bS<128){aP+=bS}else{bS-=128;for(var f6=0;
f6<bS;f6++){l[(aP*P+j5)*h+r]=L[p+f6];aP++}p+=bS}}}}}else console.log(b.PP)}if(u==1&&j>100)j=0;var gx=j==0?17:Math.round((j-S)*1e3/60);
C.push({data:t(L,l).buffer,hp:new kk(0,0,z,q),ag_:l,os:"_a_frm"+u+","+gx});S=j}if(s!=0&&z>q*2){var lC=new Uint32Array(z*q*2);
lC.fill(4294967295);for(var u=0;u<C.length;u++){var g2=C[u],dv=new Uint32Array(g2.data);for(var aP=0;
aP<q;aP++){var bv=aP*2;for(var r=0;r<z;r++)lC[bv*z+r]=dv[aP*z+r];bv++;for(var r=0;r<z;r++)lC[bv*z+r]=dv[aP*z+r]}g2.hp.T*=2;
g2.data=lC.slice(0).buffer}}return C}function U(K,f){var d,L,G;B=0;A=0;a=0;M=0;s=0;for(var x=0;x<K.sub.length;
x++){var O=K.sub[x],v=O.g;if(O.PP=="BMHD"){var C=[];for(var n=0;n<4;n++)C[n]=y.mU(f,v+2*n);v+=8;var S=C[2],j=C[3];
z=C[0];q=C[1];e=f[v++];V=f[v++];G=f[v++];if(G!=0&&G!=1)throw G;D=z+15>>>4<<1;P=e+V}else if(O.PP=="CMAP")B=v;
else if(O.PP=="CAMG"){var w=y.vQ(f,v);A=w&32768,s=w&4,a=w&2048;M=w&128}else if(O.PP=="BODY"){L=T.n(D*q*P);
if(G==0)L=f.slice(v,v+L.length);if(G==1)cH.ol(f,v,O.size,L,0,L.length)}else if(O.PP=="PLTP"){console.log(f.slice(v,v+O.size))}}d=t(f,L);
return[{hp:new kk(0,0,z,q),data:d.buffer,ag_:L}]}function o(K,hE){return K[hE>>>3]>>>7-(hE&7)&1}function t(K,f){var d=e-2,L=(1<<d)-1,G=Math.round(255/L),x,O,v,C=D*8;
if(B!=0){var S=1<<e,j=!0;for(var n=1;n<S;n++){var w=B+n*3;if(K[w]!=K[w-3]||K[w+1]!=K[w-2]||K[w+2]!=K[w-1]&&K[w+2]!=K[w-1]+1)j=!1}if(j){for(var n=0;
n<S;n++){var w=B+n*3,u=Math.round(n*255/(S-1));K[w]=K[w+1]=K[w+2]=u}}}var l=T.n(z*q*4);for(var I=0;I<q;
I++)for(var Q=0;Q<z;Q++){var b=0;for(var p=0;p<P;p++){var k=(I*P+p)*C+Q,g=o(f,k);b|=g<<p}b=b&(1<<e)-1;
var n=I*z+Q,Y=n<<2;if(B!=0){if(a!=0&&b>>>d!=0){var R=b>>>d,m=(b&L)*G;if(R==1)v=m;else if(R==2)x=m;else if(R==3)O=m}else{var m=B+b*3;
x=K[m+0];O=K[m+1];v=K[m+2]}}else{if(e==24){x=b>>>0&255;O=b>>>8&255;v=b>>>16&255}else if(e==16){var Z=0,E=1,h=4;
for(var p=0;p<16;p++)Z+=(b>>>p&1)<<15-p;var N=(1<<E)-1,j5=(1<<h)-1;x=(Z>>>7&N)*(255/N);O=v=x}else throw e}l[Y+0]=x;
l[Y+1]=O;l[Y+2]=v;l[Y+3]=255}return l}function c(K,f){var d=1,L=2,G=4,x=y.vQ,O=y.mU,z=200,q=200,v,C,S,j;
for(var w=0;w<K.sub.length;w++){var u=K.sub[w],l=u.g;if(u.PP=="TBHD"){z=x(f,l);l+=4;q=x(f,l);l+=4;j=T.n(z*q*4);
S=new kk(0,0,z,q);l+=4;var I=x(f,l);l+=4;var Q=O(f,l);l+=2;if(Q!=0)throw"e";C=O(f,l);l+=2;var b=x(f,l);
l+=4;if(b!=1)throw b;v=0;if(I&d)v+=3;if(I&L)v+=1}if(u.U0=="TBMP"){var p=u.sub;for(var k=0;k<p.length;
k++){var g=p[k].g,Y=p[k].size,R=O(f,g),m=O(f,g+2),Z=O(f,g+4)-R+1,E=O(f,g+6)-m+1;g+=8;var N=T.n(Z*E*4),h=T.n(Z*E);
N.fill(255);for(var n=0;n<4;n++){g=H(f,g,Y-8,h,0);T.yR(h,N,3-n)}if(g!=p[k].g+Y)throw"e";T.aF(N,new kk(R,m,Z,E),j,S)}}}return[{hp:S,data:j.buffer}]}function H(K,f,d,L,G){var x=f;
while(G<L.length){var O=K[f++],hp=(O&127)+1;if(O&128){O=K[f++];for(var n=0;n<hp;++n)L[G++]=O}else{for(var n=0;
n<hp;++n)L[G++]=K[f++]}}return f}function F(K,f){if(X==null){var d=hZ.hS(i);X=new Uint32Array(pako.inflate(new Uint8Array(d)).buffer)}var L=y.vQ,G=y.mU,x=K.sub[0],O=K.sub[1],z=G(f,x.g),q=G(f,x.g+2),v=G(f,x.g+4),u,n,l,I,Q,b;
if(v!=3)throw v;var C=new kk(0,0,z,q),S=T.n(z*q*4),j=T.n(z*q);S.fill(255);var w=new Uint32Array(S.buffer),p=O.g;
for(I=0;I<2;I++){b=I;Q=0;u=Math.floor((z*q+2-I-1)/2);while(u>0){n=f[p++];if(n&128){n=257-n;u-=n;l=f[p++];
Q=Q&X[l]|X[l+256];do{w[b]=Q;b+=2}while(--n)}else{n++;u-=n;do{l=f[p++];w[b]=Q=Q&X[l]|X[l+256];b+=2}while(--n)}}}for(var n=0;
n<S.length;n+=4){var k=S[n+3],g=S[n+2],Y=S[n+1];S[n]=k;S[n+1]=g;S[n+2]=Y;S[n+3]=255}for(var R=0;R<q>>>1;
R++){for(var m=0;m<z;m++){var n=R*z+m,l=(q-1-R)*z+m,Z=w[n];w[n]=w[l];w[l]=Z}}return[{hp:C,data:S.buffer}]}return $}();
hZ.r8={};hZ.r8.k2=!1;hZ.r8.gB=function(z,q,e,V){var P=null,D=new Uint8Array(z[0][0]),B=2;if(V.ctoa&&z[0][4])P=z[0][4];
else if(T.Ep(D)){P=[new Uint8Array(D.length>>>2)];T.bl(D,P[0],3)}var A=P?!0:!1,s=A?4:3,a=new Uint8Array(q*e*s);
for(var M=0;M<e;M++)for(var $=0;$<q;$++){var U=M*q+$<<2,o=((e-M-1)*q+$)*s;a[o]=D[U+2];a[o+1]=D[U+1];
a[o+2]=D[U+0];if(A)a[o+3]=P[0][M*q+$]}if(!0){var t=a.length,c=0,H=new Uint8Array(t*2),F=0,i=0,X=q*s;
while(i<t){var K=i,f=0,d=X*(Math.floor(i/X)+1);while(K<d&&f<128){var L=!0;for(var n=0;n<s;n++)L=L&a[i+n]==a[K+n];
if(!L)break;K+=s;f++}if(f==1){var G=1;while(G<128&&i+(G+1)*s<d){var L=!0,x=i+G*s;for(var n=0;n<s;n++)L=L&a[x+n]==a[x+s+n];
if(L)break;G++}H[F++]=G-1;for(var O=0;O<G;O++)for(var n=0;n<s;n++)H[F++]=a[i++]}else{H[F++]=127+f;for(var n=0;
n<s;n++)H[F+n]=a[i+n];F+=s;i+=s*f;c+=f}}a=H.slice(0,F);B+=8}var v=new Uint8Array(18+a.length+26);v[2]=B;
y.tl(v,12,q);y.tl(v,14,e);v[16]=s*8;v[17]=s==4?8:0;v.set(a,18);y.Wd(v,18+a.length+8,"TRUEVISION-XFILE.");
return v.buffer};hZ.r8.EY=function(z){var q=new Uint8Array(z),e=0,V=q[0],P=q[1],D=q[2],B=q[4]*256+q[3],A=q[6]*256+q[5],s=q[7],a=q[9]*256+q[8],M=q[11]*256+q[10],$=q[13]*256+q[12],U=q[15]*256+q[14],o=q[16],t=q[17],c=t>>>4,H=y.JU(q,18,V),F=T.n($*U*4),e=18+V+(A*s>>>3),i=new Uint8Array(q.buffer,e);
if(D>3){var X=0,K=q,f=new Uint8Array($*U*o>>>3),d=e,L=0,G=q.length,x=o>>>3;while(L<f.length){var hE=K[d];
d++;if(hE<128)for(var n=0;n<hE+1;n++){for(var O=0;O<x;O++){f[L]=K[d];L++;d++}}else{for(var n=0;n<hE-127;
n++){for(var O=0;O<x;O++){f[L]=K[d+O];L++}}d+=x}}D-=8;i=f;e=d}else e+=$*U*o>>>3;var v=new Uint8Array(4),C=hZ.r8.aJS;
for(var S=0;S<U;S++)for(var j=0;j<$;j++){var w=(c&2)==0?(U-S-1)*$+j:S*$+j,u=S*$+j,l,I,Q,b=255,p=w*o>>>3;
if(D==1){var k=0;if(o==8)k=i[p];else throw"e";C(q,18+V+B+(k*s>>>3),s,v);l=v[0];I=v[1];Q=v[2];b=v[3]}else if(D==2){C(i,p,o,v);
l=v[0];I=v[1];Q=v[2];b=v[3]}else if(D==3){if(o==8)l=I=Q=i[p];else throw"e"}var g=u*4;F[g]=l;F[g+1]=I;
F[g+2]=Q;F[g+3]=b}var v={hp:new kk(0,0,$,U),data:F.buffer,os:H};if(T.Ep(F)){var Y=T.n($*U);T.bl(F,Y,3);
T.yS(F,1);v.kv=[Y]}return[v]};hZ.r8.aJS=function(z,q,e,V){var P,D,B,A=255;if(e==24||e==32){B=z[q];D=z[q+1];
P=z[q+2];if(e==32)A=z[q+3]}else if(e==16){var s=z[q+1]<<8|z[q+0];P=s>>>10&31;D=s>>>5&31;B=s>>>0&31;P=Math.round(P*(255/31));
D=Math.round(D*(255/31));B=Math.round(B*(255/31))}else throw"e";V[0]=P;V[1]=D;V[2]=B;V[3]=A};hZ.Sj=function(){var z=[],q=!1,e,V=null,P=50,D=10,$;
function B(t,c,H,F){z.push([0,t,F,H]);M()}async function A(t,c,H,F){P=F.qual;D=F.smlr?5:10;return new Promise(function(i){z.push([1,t,c,H,i]);
M()})}function s(t){var c=z.shift();c[3](null,[t],c[2]);q=!1;M()}function a(){V=J.k("iframe");V.setAttribute("src","code/ext_formats/formatsLoader.html");
J.C(V,"display:none");window.addEventListener("message",o,!1);document.body.appendChild(V)}function M(){if(q||z.length==0)return;
q=!0;var t=z[0];if(t[0]==0&&hZ.J7(t[1])=="avif"){hZ.aBi(t[1],"image/avif",s)}else if(V==null)a();else U()}async function U(){var t=z[0],c;
if(t[0]==0){var H=t[1],F=new Uint8Array(H),i=new Blob([H]);c={subject:"open",body:i};var X=y.yD(F,"Exif\0\0MM");
e=null;if(X!=-1){var K=UTIF.decode(H.slice(X+6));e=lE.B0(K[0])}}else{var f={fmt:"avif",speed:D,quality:P,nochroma:0,lossless:0},d=new ImageData(new Uint8ClampedArray(t[1][0][0]),t[2],t[3]);
c={subject:"save",body:d,prms:f}}$=Date.now();V.contentWindow.postMessage(c)}function o(t){var c=t.data,H=c.subject,F=c.body;
console.log(c);if(H=="rdy"){q=!1;M()}else if(H=="img"){s({hp:new kk(0,0,F.width,F.height),data:F.data.buffer,MX:e})}else if(H=="file"){console.log(Date.now()-$);
z[0][4](F.buffer);q=!1;z.shift();M()}else console.log(c)}return{k2:!1,LB:!0,EY:B,gB:A}}();hZ.aK2=function(){var z,q=[],e=10,A,s,a,M=0,$,U,o;
function V(X){var K=hZ.J7(X);if(K=="mp4")return new bX(new Blob([X]));else return new dw(new Blob([X]))}async function P(X,K,f,d,L){z=f;
q.push(X,d);var G=V(X),x=(await G._o()).YY;console.log(x);var $=x.width,U=x.height,O=x.v5,v=O/x.pw,C=O/v,S=$+" \xD7 "+U+" px, "+O+" frames, "+c2._M($*U*4*O)+" decoded<br/>";
S+=v.toFixed(2)+" seconds, "+C.toFixed(2)+" FPS";var j=new dW(_.E.b,!0);j.data={p:_.m.wa,rF:"setFPS",Zz:e,Wm:D,a8F:S};
L.K(j)}function D(X){e=Math.max(1,Math.min(60,X));var K=window.VideoDecoder;if(K)B();else{alert("WebCodecs not available.");
t()}}async function B(){var X=Date.now(),K=q.shift(),o=[],f=V(K),d=(await f._o()).YY,$=d.width,U=d.height,L=d.v5,G=L/d.pw,x=L/G,O=Math.min(x,e),v=Math.max(1,Math.round(x/O));
for(var n=0;n<L;n++){if(n%v!=0)continue;var C=await f.L_(0,n);o.push({os:"_a_"+o.length+","+Math.round(1e3/O),hp:new kk(0,0,$,U),data:C.buffer})}z(null,o,q.shift());
if(q.length!=0)B()}function t(){if(q.length==0)return;A=document.createElement("canvas");s=A.getContext("2d");
a=document.createElement("video");var X="data:"+"video/mp4"+";base64,"+hZ.aS(q.shift());a.src=X;a.muted=!0;
a.currentTime=0;a.addEventListener("canplay",c,!1);a.addEventListener("timeupdate",H,!1)}function c(X){a.removeEventListener("canplay",c);
$=A.width=a.videoWidth;U=A.height=a.videoHeight;o=[];a.play()}function H(X){clearTimeout(M);s.drawImage(a,0,0);
o.push({os:"_a_"+o.length+","+Math.round(1e3/e),hp:new kk(0,0,$,U),data:s.getImageData(0,0,$,U).data.buffer});
var K=a.currentTime+1/e;if(K<a.duration&&X){a.currentTime=K;M=setTimeout(H,1e3)}else{z(null,o,q.shift());
a.removeEventListener("timeupdate",H);t();o=null}}function F(){this.Vg=new Uint8Array(1024);this.g=0}F.prototype.write=function(X){var K=this.Vg,f=this.g;
if(X instanceof ArrayBuffer)X=new Uint8Array(X);if(X instanceof Uint8Array){while(K.length<f+X.length){var d=new Uint8Array(K.length*2);
d.set(K);K=d}K.set(X,f);f+=X.length}else if(X.e=="write"){K.set(X.data,X.position)}else{console.log(X);
throw"e"}this.Vg=K;this.g=f};F.prototype.close=function(){this.Vg=this.Vg.slice(0,this.g)};async function i(X,$,U,K){if($*U>9437184){alert("the resolution is too large, it must be under 9.4 million pixels");
return}var f=$,d=U;if(($&1)!=0)$++;if((U&1)!=0)U++;var L=$!=f||U!=d,G=L?T.n($*U*4):null,x={YY:{fW:1,v5:X.length,pw:1e3/X[0][1],width:$,height:U}},O=new F,v=.02*(1+Math.pow(3.2*K.qual/100,2.3)),C=new cE(O,x,v);
for(var n=0;n<X.length;n++){var S=X[n],j=new Uint8Array(S[0]),w=j;if(L){T.aF(j,new kk(0,0,f,d),G,new kk(0,0,$,U));
w=G}await C.atr(w,0,n)}await C.finish();return O.Vg.buffer}return{k2:!1,LB:!0,EY:P,gB:i}}();hZ.Yd={};
hZ.Yd.EY=function(z){var q=new Uint8Array(z),e=0,V=112,P=42,D=y.iM,M;e+=8;var B=q[e];e++;if(B!=P)throw"e";
var A=D(q,e);e+=4;var s=y.UB(q,e,A);e+=A*2;var a=[];while(e<q.length){M=D(q,e);e+=4;if(M!=V)throw M;
e+=4;M=q[e];e++;if(M!=P)throw M;var $=D(q,e);e+=4;var U=q[e];e++;if(U!=P){e-=5;$=D(q,e);e+=8;M=q[e];
e++;if(M!=P)throw M}var o=D(q,e)*2;e+=4;if($>0)a.push(e+o);e+=o+$}var t=new DOMParser,c=t.parseFromString(s,"image/svg+xml").firstChild.firstChild,H=[];
hZ.Yd.amM(c,q,a,H);return H};hZ.Yd.amM=function(z,q,e,V){var P=z.firstChild.firstChild;if(P.tagName=="Image"){var D=P.getElementsByTagName("ImageDescription")[0],B=D.children[0].children,A=D.children[1].children,s=e.shift(),a=[];
for(var n=0;n<A.length;n++)a.push(parseInt(A[n].getAttribute("NumberOfElements")));while(a.length>3)a[2]*=a.pop();
var M=B.length,$=a[0],U=a[1],o=a[2],t=parseInt(A[0].getAttribute("BytesInc"));for(var c=0;c<o;c++){var H=T.n($*U*4);
H.fill(255);for(var F=0;F<M;F++){var i=T.n($*U);if(t==1)for(var X=0;X<i.length;X++)i[X]=q[s+X];else if(t==2)for(var X=0;
X<i.length;X++)i[X]=Math.min(255,(q[s+X*2+1]<<8|q[s+X*2])>>>2);else throw t;if(F!=3)T.yR(i,H,F);if(M==1){T.yR(i,H,1);
T.yR(i,H,2)}s+=$*U*t}V.push({hp:new kk(0,0,$,U),data:H.buffer})}}else{var K=z.children,f=0;while(f<K.length&&K[f].tagName!="Children")f++;
if(f==K.length)throw"e";K=K[f].children;for(var d=0;d<K.length;d++)hZ.Yd.amM(K[d],q,e,V)}};hZ.azE=function(){function z(B,A,s,a,M){var $=new Int8Array(B.buffer),U=new Int8Array(a.buffer),o=A+s;
while(A<o){var hE=$[A];A++;if(hE>=0&&hE<128)for(var n=0;n<hE+1;n++){U[M]=$[A];M++;A++}if(hE>=-127&&hE<0){for(var n=0;
n<-hE+1;n++){U[M]=$[A];M++}A++}}return M}function q(B,A,s,a,M,$){var U=A*s*a>>>3,o=T.n(U*M),t=V(B,0,0,0)[0];
for(var c=0;c<M;c++){var H=t[c+1];if($){var F=hZ.nw("jpg").EY(H.buffer),i=T.n(U);T.tI(new Uint8Array(F[0].data),i);
o.set(i,U*c)}else if(H[0]==255&&H[1]==216&&H[2]==255){var X=UTIF.LosslessJpegDecode(H);o.set(new Uint8Array(X[0].buffer),U*c)}else z(H,64,H.length,o,U*c)}return o}function e(B){var A=new Uint8Array(B),s=0,a=y.JU(A,0,128);
s+=128;var M=y.JU(A,s,4);s+=4;var $=P(A,s,0)[0],U=$.g28;if(U==null){alert("No image.");return[]}var o=U.cols,t=U.rows,c=o*t,H=U.photoInterpret,F=U.bitsAlloc,i=U.bitsStored,X=U.lossyCompr;
if(X==null)X=$.g8.lossyCompr;var K=$.g7fe0.pixelData,f=U.numOfFrames;f=f?parseInt(f):1;var d=new Uint8Array(K.buffer),L=c*F>>>3;
if(d.length!=L*f){K=q(K,o,t,F,f,X)}else{}if(F==16)K=new Uint16Array(K.buffer);console.log(U);console.log($);
var G=[];for(var x=0;x<f;x++){var O=x*L,B=T.n(o*t*4);B.fill(255);if(H=="MONOCHROME2"){var v=0,C=255,S=U.largestValue,j=U.smallestValue;
if(S!=null){C=S;v=j}else if(i!=8){C=0;v=1e9;for(var n=0;n<c;n++){var w=K[O+n];if(w>1<<i-8){if(w>C)C=w;
if(w<v)v=w}}}var u=255/(C-v);for(var n=0;n<c;n++){var w=Math.max(0,Math.min(255,(K[O+n]-v)*u)),l=n*4;
B[l]=B[l+1]=B[l+2]=w}}else if(H=="PALETTE COLOR"){var I=U.pltRed,Q=U.pltGreen,b=U.pltBlue;for(var n=0;
n<c;n++){var p=K[O+n],l=n*4;B[l]=I[p]>>>8;B[l+1]=Q[p]>>>8;B[l+2]=b[p]>>>8}}else throw H;G.push({hp:new kk(0,0,o,t),data:B.buffer})}return G}function V(B,A,s,a){if(s==0)s=B.length;
var M=y.iJ,$=y.dG,U=y.iM,o=[],t=A;while(A<s){var c=M(B,A);A+=2;var H=M(B,A);A+=2;var F=U(B,A);A+=4;if(c==65534&&H==57344){if(F==4294967295){var i=P(B,A,a+1);
o.push(i[0]);A=i[1]}else{o.push(B.slice(A,A+F));A+=F}}else if(c==65534&&H==57357){}else if(c==65534&&H==57565)break;
else throw"e"}return[o,A]}function P(B,A,s){var a=y.iJ,M=y.dG,$=y.iM,U=y.Zy,o={},t="\t".repeat(s);while(A<B.length){var c=a(B,A),X="",K=0,d=null;
A+=2;var H=a(B,A);A+=2;var F=c.toString(16),i=H.toString(16);if(c==65532)break;if(c==65534&&H==57357){A-=4;
break}if(c==65534&&H==57565)throw"e";if(H==0){A+=8;continue}if(65<=B[A+1]){X=y.JU(B,A,2);A+=2;if(X=="OB"||X=="SQ"||X=="OW"){K=$(B,A+2);
A+=6}else{K=a(B,A);A+=2}}else{X=D[F][i].split(",")[1];K=$(B,A);A+=4}var f=D[F][i];if(f)f=f.split(",")[0];
if(f==null){f="t"+i}if(X=="SQ"){var L=V(B,A,A+K,s);d=L[0];A=L[1];K=0}else if(X=="US")d=a(B,A);else if(X=="SS")d=M(B,A);
else if(X=="UL")d=$(B,A);else if(X=="SL")d=U(B,A);else if(X=="FL")d=y.$R(B,A);else if(X=="AT")d=[a(B,A),a(B,A+2)];
else if(X=="OB")d=B.slice(A,A+K);else if(X=="OW")d=new Uint16Array(B.slice(A,A+K).buffer);else if(X=="FD")d=new Float64Array(B.slice(A,A+K).buffer);
else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(X)!=-1){var G=A+K;while(B[G-1]==0)G--;
d=y.JU(B,A,G-A).trim()}else{console.log(t,JSON.stringify(y.JU(B,A,Math.min(K,32))));throw X}if(o["g"+F]==null)o["g"+F]={};
o["g"+F][f]=d;A+=K}return[o,A]}var D={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"23":{},"25":{},"27":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"32":{},"37":{},"38":{},"40":{},"43":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{EY:e}}();hZ.ast={};hZ.ast.EY=function(z){var q=new Uint8Array(z),e=0,V={};for(var n=0;n<306;n++){var P=y.JU(q,e,8).trim(),D=y.JU(q,e+9,71).split("/")[0].trim();
V[P]=D;e+=80;if(P=="END"){e=Math.ceil(e/2880)*2880;break}}var B=parseInt(V.NAXIS1),A=parseInt(V.NAXIS2),s=B*A,a=parseInt(V.BITPIX),M=V.BZERO?parseInt(V.BZERO):0,$=V.NAXIS3?parseInt(V.NAXIS3):1,U=new Float32Array(z,e,z.byteLength-e>>>2),o=new Float32Array(s),t=T.n(s*4,16);
t.fill(65535);var c=T.n(s,16);for(var H=0;H<$;H++){var F=1e9,i=-1e9;for(var n=0;n<s;n++){if(a==-32){var X=q[e+0];
q[e+0]=q[e+3];q[e+3]=X;var X=q[e+1];q[e+1]=q[e+2];q[e+2]=X;o[n]=U[n];e+=4}else if(a==16){o[n]=M+y.ab(q,e);
e+=2}else throw a;var K=o[n];if(K<F)F=K;if(K>i)i=K}var f=1/i;for(var d=0;d<A;d++)for(var L=0;L<B;L++){var n=d*B+L,G=(A-d-1)*B+L,K=o[n]*f;
c[n]=65535*K}if($==1)T.A$(c,t);else T.yR(c,t,H)}return[{hp:new kk(0,0,B,A),data:t,os:V.OBJECT,depth:16}]};
hZ.Q4={};hZ.Q4.EY=function(z){var q=new Uint8Array(z),e=16,V=y.JU(q,e,4),D=32,F=0,i=0,X=!1,I;e+=4;var P=y.JU(q,e,8);
e+=8;while(q[e+D-1]==0)D--;var B=y.JU(q,e,D);e+=32;var A=y.JU(q,e,4);e+=4;e+=20;var s=y.vQ(q,e);e+=4;
var a=y.vQ(q,e);e+=4;var M=y.vQ(q,e);e+=4;var $=y.vQ(q,e);e+=4;var U=y.vQ(q,e);e+=4;var o=y.vQ(q,e);
e+=4;var t=B,c=[0,1,1,2];if(t=="X10"){t="FinePix X10";c=[2,1,1,0]}var H={t271:["FujiFilm"],t272:[t],t277:[1],t33421:[2,2],t33422:c,ta:1};
e=M;var K=[],f=y.mU,d=y.vQ(q,e);e+=4;for(var n=0;n<d;n++){var L=f(q,e);e+=2;var G=f(q,e);e+=2;if(L==256){i=f(q,e);
F=f(q,e+2)}else if(L==272){K=[f(q,e),f(q,e+2)]}else if(L==273){K.push(f(q,e),f(q,e+2))}else if(L==304){X=!(q[e]>>>7)}else if(L==305){var x=Math.round(Math.sqrt(G)),O=[];
for(var v=0;v<G;v++)O.push(q[e+v]);O.reverse();H.t33421=[x,x];H.t33422=O}else if(L==12272){var C=f(q,e),S=f(q,e+2),j=f(q,e+6);
H.t50728=[C/S,1,C/j]}e+=G}var w=F<i,u=q.slice(U,U+o),l=Math.round(o*8/(F*i));if(u[0]==73&&u[1]==73&&u[2]==42){I=UTIF.decode(u.buffer)[0].fujiIFD;
l=I.t61443[0];var Q=I.t61454,b=I.t61450;if(b)H.t50714=b;if(Q)H.t50728=[Q[0]/Q[1],1,Q[0]/Q[2]];var p=I.t61447[0];
u=u.slice(p,p+I.t61448[0])}var o=u.length,k=o*8<F*i*l;if(k){console.log("compressed");var g=H.t33422,Y=~~Math.sqrt(g.length),R=[];
for(var n=0;n<Y;n++)R[n]=g.slice(n*Y,n*Y+Y);u=new Uint8Array(UTIF._decompressRAF(u,R).buffer);o=u.length}function m(j5,r,l8){l8=l8<<8-(r&7);
var aP=r>>>3;j5[aP]|=l8>>>16;j5[aP+1]|=l8>>>8;j5[aP+2]|=l8}var Z=o*8/(F*i);if(Z==16)for(var n=0;n<o;
n+=2){var E=u[n];u[n]=u[n+1];u[n+1]=E}else if(Z==14){for(var n=0;n<o;n+=4){var E=u[n];u[n]=u[n+3];u[n+3]=E;
E=u[n+1];u[n+1]=u[n+2];u[n+2]=E}}else if(Z==12)for(var n=0;n<o;n+=3){var N=u[n+2]<<16|u[n+1]<<8|u[n+0];
N=N>>>12|(N&4095)<<12;u[n]=N>>>16&255;u[n+1]=N>>>8&255;u[n+2]=N&255}if(w)u=hZ.Q4.akQ(u,F,i);var h=w?2:1;
F*=h;H.t256=[F];H.t257=[i];H.t258=[l];H.t50719=[K[1],K[0]*h];H.t50720=[K[3],K[2]*h];H.width=F;H.height=i;
H.data=new Uint8Array(u.buffer);return[H]};hZ.Q4.akQ=function(z,q,e){z=new Uint16Array(z.buffer);var V=new Uint16Array(q*e*2);
for(var P=0;P<e;P+=2)for(var D=0;D<q;D++){var B=P*q+D,A=B*2,s=z[B],a=z[B+q];V[A+1]=V[A+2*q]=a;if(((P>>>1)+D&1)==0){V[A]=s;
V[A+2*q+1]=z[B+1]}else{V[A]=z[B-1];V[A+2*q+1]=s}}return V};hZ.jm={};hZ.jm.akX=function(z,q,e){e=e<<8-(q&7);
var V=q>>>3;z[V]|=e>>>16;z[V+1]|=e>>>8;z[V+2]|=e};hZ.jm.LB=!0;hZ.jm.EY=async function(z,q,e,V){var P=new Uint8Array(z),D=0,B=Date.now(),A=await fz.iA(new Blob([z])),s=A.moov.uuid[0],a=new CR3Parser(z),M=a.getTrack().meta,$=s.CMT1[0],U=$.t256[0]=M.width,o=$.t257[0]=M.height,t=U*o,c=$.exifIFD=s.CMT2[0],H=c.makerNote=s.CMT3[0],F=A.moov.trak[3].mdia.minf.stbl,i=F.co64[0],X=P.slice(i,i+F.stsz[0]),K=0;
while(K<X.length){var f=y.iM(X,K);K+=4;var d=y.iJ(X,K);K+=2;var L=X[K]==1;K+=2;K+=4;if(d==8||d==9){var G=UTIF.decode(X.slice(K+8,K+f-12).buffer)[0];
for(var x in G)H[x]=G[x]}K+=f-12}$.t277=[1];$.t33421=[2,2];$.t33422=[0,1,1,2];$.ta=1;if($.t274)$.ta=$.t274[0];
var O=a.extractCFA(),v=M.bitDepth;if(v!=14)throw"e";$.t258=[v];var C=new Uint8Array(Math.ceil(t*v/8)),S=16-v;
for(var n=0;n<t;n++)hZ.jm.akX(C,n*14,O[n]<<S);$.width=U;$.height=o;$.data=C;e(null,[$],V)};hZ.HW={};
hZ.HW.mv=!0;hZ.HW.gB=function(z,q,e,V){var P=new Uint8Array(z[0][0]),D=q*e,B=[1,3,4][V.cnum],A=8+8*V.dpth,s=V.endi;
if(B==1){var a=new Uint8Array(q*e);T.bl(P,a,0);P=a}if(B==3){var a=new Uint8Array(q*e*3);for(var n=0;
n<D;n++){var M=n*4,$=n*3;a[$]=P[M];a[$+1]=P[M+1];a[$+2]=P[M+2]}P=a}if(A==16){var U=P.length,a=new Uint8Array(U*2);
for(var n=0;n<U;n++){var o=Math.round(P[n]*(65535/255));a[n*2+s]=o>>>8;a[n*2+1-s]=o&255}P=a}return P.buffer};
hZ.Ck={};hZ.Ck.EY=function(z){function q(U){var l8=(U&32768)>>15,aP=(U&31744)>>10,bS=U&1023;if(aP===0)return(l8?-1:1)*2**-14*(bS/2**10);
if(aP===31)return bS?NaN:(l8?-1:1)*Infinity;return(l8?-1:1)*2**(aP-15)*(1+bS/2**10)}if(z.buffer)z=z.buffer;
var e=new Uint8Array(z),V=4,P=y.iM(e,V);V+=4;var D={};V=hZ.Ck.u2(e,V,D);var B=D.compression,A=D.channels,s=A.length,a=Date.now();
if((B==3||B==2)&&s>4){var M=D.dataWindow,$=M[2]+1,U=M[3]+1;function o(l8,I){var Q=0,hE=l8.length>>>1;
for(var n=0;n<l8.length;n+=2){I[n]=l8[Q++];I[n+1]=l8[hE++]}}var t=[],c={},H=[];for(var n=0;n<A.length;
n++){var F=A[n],i=F[0];if(i.indexOf(".")==-1)i="main."+i;var X=i.split(".");while(X.length>2)X[0]=X.shift()+"_"+X[0];
var K=X[0],f=X[1];if(c[K]==null){c[K]=t.length;var d=T.n($*U*4,32);t.push(d);d.fill(1)}H.push([c[K],{R:0,G:1,B:2,A:3}[f]])}var L=B==3?16:1,G=A[0][1],x=[];
for(var O=0;O<U;O+=L){var v=y.iM(e,V+x.length*8);x.push(v)}var a=Date.now();for(var n=0;n<x.length;n++){var C=x[n],O=y.iM(e,C),w,u;
C+=4;var S=n==x.length-1?U-O:L,j=y.iM(e,C);C+=4;var l=new Uint8Array(S*$*s*(G==1?2:4));UZIP.inflateRaw(e.slice(C+2,C+j),l);
for(var I=1;I<l.length;I++){var Q=l[I-1]+l[I]-128;l[I]=Q}var b=new Uint8Array(l.length);o(l,b);if(G==1)u=new Uint16Array(b.buffer);
if(G==2)w=new Float32Array(b.buffer);for(var p=0;p<s;p++){var k=H[p],g=t[k[0]],Y=k[1];for(var R=0;R<S;
R++){var m=R*(s*$)+p*$,Z=(R+O)*$*4;if(G==2)for(var E=0;E<$;E++){var N=Z+(E<<2),h=w[m+E];if(Y==null){g[N]=h;
g[N+1]=h;g[N+2]=h}else g[N+Y]=h}else for(var E=0;E<$;E++){var N=Z+(E<<2),h=q(u[m+E]);if(Y==null){g[N]=h;
g[N+1]=h;g[N+2]=h}else g[N+Y]=h}}}}var j5=[];for(var i in c){j5.push({hp:new kk(0,0,$,U),data:t[c[i]].buffer,depth:32,LN:hZ.ui.get("icc/srgb_lin"),os:i})}return j5.reverse()}else{var G=D.channels[0][1],r=EXRLoader.parse(z,1015),$=r.width,U=r.height,g=T.n($*U*4,32);
for(var R=0;R<U;R++)for(var E=0;E<$;E++){var n=(R*$+E)*4,m=((U-R-1)*$+E)*4;g[n]=r.data[m+0];g[n+1]=r.data[m+1];
g[n+2]=r.data[m+2];g[n+3]=r.data[m+3]}return[{hp:new kk(0,0,$,U),data:g.buffer,depth:32,LN:hZ.ui.get("icc/srgb_lin")}]}};
hZ.Ck.gB=function(z,q,e,V,P){if(P==null){P={compression:3,lineOrder:0,channels:[["A",2,0,1,1],["B",2,0,1,1],["G",2,0,1,1],["R",2,0,1,1]]};
P.dataWindow=P.displayWindow=[0,0,q-1,e-1]}var D=z[0],B,A=Math.floor(D[0].byteLength/(q*e*4))*8,M=0,G=0;
if(A==32)B=new Float32Array(D[0]);if(A==16)B=T.EZ(new Uint16Array(D[0]),32);if(A==8)B=T.EZ(new Uint8Array(D[0]),32);
if(A==8||A==16){var s=T.Ec;for(var n=0;n<B.length;n+=4){B[n]=s(B[n]);B[n+1]=s(B[n+1]);B[n+2]=s(B[n+2])}}var a=new Uint8Array(5e3);
y.pS(a,M,20000630);M+=4;y.pS(a,M,2);M+=4;M=hZ.Ck.t5(a,M,P);function $(S,f){var d=0,hE=S.length>>>1;for(var n=0;
n<S.length;n+=2){S[d++]=f[n];S[hE++]=f[n+1]}}var U=[];for(var o=0;o<e;o+=16){var t=Math.min(16,e-o),c=new Float32Array(t*q*4);
for(var H=0;H<4;H++)for(var F=0;F<t;F++)for(var i=0;i<q;i++){var X=((F+o)*q+i)*4;c[F*(4*q)+H*q+i]=B[X+(3-H)]}var K=new Uint8Array(c.buffer);
c=new Uint8Array(K.length);$(c,K);for(var f=c.length-1;f>0;f--){var d=c[f]-c[f-1]+128;c[f]=d}var L=UZIP.deflate(c);
U.push(L)}for(var n=0;n<U.length;n++)G+=U[n].length;var x=M+U.length*16+G,O=a;a=new Uint8Array(x);a.set(O,0);
var v=M+U.length*8;for(var n=0;n<U.length;n++){y.pS(a,M,v);M+=8;v+=8+U[n].length}for(var n=0;n<U.length;
n++){var C=U[n];y.pS(a,M,n*16);M+=4;y.pS(a,M,C.length);M+=4;a.set(C,M);M+=C.length}return a};hZ.Ck.t5=function(z,q,e){var V={"Exif:ImageHistory":"string",Software:"string",capDate:"string",channels:"chlist",screenWindowCenter:"v2f",dataWindow:"box2i",displayWindow:"box2i",pixelAspectRatio:"float",screenWindowWidth:"float"},P=y.Wd,D=y.pS,B=y.KK;
for(var A in e){var s=V[A],a=e[A],M=0;if(s==null)s=A;P(z,q,A);q+=A.length+1;P(z,q,s);q+=s.length+1;var $=q;
q+=4;if(s=="box2i"){for(var n=0;n<4;n++)D(z,q+n*4,a[n]);M=16}else if(s=="float"){B(z,q,a);M=4}else if(s=="v2f"){for(var n=0;
n<2;n++)B(z,q+n*4,a[n]);M=8}else if(s=="string"){P(z,q,a);M=a.length}else if(s=="chlist"){var U=q;for(var n=0;
n<a.length;n++){var o=a[n];P(z,U,o[0]);U+=o[0].length+1;D(z,U,o[1]);U+=4;D(z,U,o[2]);U+=4;D(z,U,o[3]);
U+=4;D(z,U,o[4]);U+=4}M=U-q+1}else{z[q]=a;M=1}D(z,$,M);q+=M}q++;return q};hZ.Ck.u2=function(z,q,e){function V(t,c){var H=c;
while(t[H]!=0)H++;return H-c}while(z[q]!=0){var P=y.JU(z,q,V(z,q));q+=P.length+1;var D=y.JU(z,q,V(z,q));
q+=D.length+1;var B=y.iM(z,q);q+=4;var A=z.slice(q,q+B);if(B==1)A=z[q];else if(D=="box2i"){A=[];for(var n=0;
n<4;n++)A.push(y.Zy(z,q+4*n))}else if(D=="float")A=y.$R(z,q);else if(D=="v2f"){A=[];for(var n=0;n<2;
n++)A.push(y.$R(z,q+4*n))}else if(D=="chlist"){var s=q;A=[];while(z[s]!=0){var a=y.JU(z,s,V(z,s));s+=a.length+1;
var M=y.iM(z,s);s+=4;var $=z[s];s++;s+=3;var U=y.iM(z,s);s+=4;var o=y.iM(z,s);s+=4;A.push([a,M,$,U,o])}}else if(D=="string"){A=y.JU(A,0,A.length)}else console.log("-----",D);
e[P]=A;q+=B}return q+1};hZ.Yl={};hZ.Yl.EY=function(z,q){var e=new Uint8Array(z),V=0,P=[],D,B,A;while(!0){var s=V;
while(e[s]!=10&&s-V<80&&e[s]<128)s++;if(e[s]!=10)break;var a=y.JU(e,V,s-V);if(a.startsWith("-Y")){var M=a.split(" ");
B=parseInt(M[1]);D=parseInt(M[3]);A=T.n(D*B*4)}V=s+1}var $=Date.now();hZ.Yl.a4A(e,A,V,D,B);var U=new Float32Array(D*B*4),o=[];
for(var n=0;n<256;n++)o[n]=1/255*Math.pow(2,n-128);for(var n=0;n<D*B;n++){var t=n*4,c=A[t+3];if(c!=0){var H=o[c];
U[t]=(A[t+0]+.5)*H;U[t+1]=(A[t+1]+.5)*H;U[t+2]=(A[t+2]+.5)*H}U[t+3]=1}return[{hp:new kk(0,0,D,B),data:U.buffer,depth:32,LN:hZ.ui.get("icc/srgb_lin")}]};
hZ.Yl.a4A=function(z,q,e,V,P){var D=new Int8Array(z.buffer);for(var B=0;B<P;B++){var A=B*V,s=D[e],a=D[e+1],M=D[e+2];
e+=4;if(s==2&&a==2&&M>=0){for(var $=0;$<4;$++){var U=A,o=0;while(o<V){var t=z[e];e++;if(t<=128){for(var n=0;
n<t;n++){q[$+U*4]=z[e];e++;U++}}else{var c=z[e];e++;t-=128;for(n=0;n<t;n++){q[$+U*4]=c;U++}}o+=t}}}else{var U=A;
for(var o=0;o<V;o++){var s=0,a=0,M=0,H=0;if(o>0){s=D[e];a=D[e+1];M=D[e+2];H=D[e+3];e+=4}if(s==1&&a==1&&M==1){console.log("doing a run");
var t=H&255,F=q[(U-1)*4],i=q[(U-1)*4+1],X=q[(U-1)*4+2],K=q[(U-1)*4+3];for(n=0;n<t;n++){q[U*4+0]=F;q[U*4+1]=i;
q[U*4+2]=X;q[U*4+3]=K;U+=1}o+=t-1}else{q[U*4+0]=z[e-4];q[U*4+1]=z[e-3];q[U*4+2]=z[e-2];q[U*4+3]=z[e-1];
U+=1}}}}};hZ.nF={};hZ.nF.mv=!0;hZ.nF.k2=!0;hZ.nF.gB=function(z,q,e,V,P){V={pags:"",qual:100};V.fmts=["jpg"];
var D=new ToDXF;kc.iO(z,V,D,P.Se);return D.buffer};hZ.nF.EY=function(z,q){var e=72,V=new e5(1,0,0,1,0,0);
V.scale(e/72,e/72);q.do=e;var P=new kF(q,V,!1);FromDXF.Parse(z,P)};hZ.a3V={};hZ.a3V.EY=function(){var z=y.iJ,q=y.iM,e=y.JU,V;
function P(B,A,s,a,M){var $=q(B,s),U=q(B,s+4),o=q(B,s+8),t=z(B,s+12),c=z(B,s+14);s+=16;var H={};for(var n=0;
n<t+c;n++){var F=q(B,s),i=q(B,s+4),X,K;if(F>>>31==1){F=F&16777215}if(n<t)X=y.UB(B,A+F+2,z(B,A+F));else X="id"+F;
var f=a.slice(0);f.push(X);if(i>>>31==1){i=i&268435455;K=P(B,A,A+i,f,M)}else{var d=q(B,A+i),L=q(B,A+i+4),G=q(B,A+i+8),x=q(B,A+i+12);
if(x!=0)throw"e";if(d<M[0]||d>M[0]+M[1])throw"e";var O=M[2]+d-M[0];K=B.slice(O,O+L);var v=hZ.J7(K.buffer);
if(v&&["bmp","png","ico"].indexOf(v)!=-1){var C=hZ.nw(v);if(!C.k2){var S=null;try{S=C.EY(K.buffer)}catch(cz){}if(S){S[0].os=f[1];
V.push(S[0])}}}else if(v)console.log(v)}H[X]=K;s+=8}return H}function D(B){V=[];var A=new Uint8Array(B),s=0,a=z(A,s);
s+=2;s+=58;var M=q(A,s);s+=4;s=M;var $=e(A,s,4);s+=4;var U=z(A,s);s+=2;var o=z(A,s);s+=2;var t=q(A,s);
s+=4;var c=q(A,s);s+=4;var H=q(A,s);s+=4;var F=z(A,s);s+=2;var i=z(A,s);s+=2;s+=F;var X={};for(var n=0;
n<o;n++){var K=s;while(A[K]!=0)K++;var f=e(A,s,K-s),d=q(A,s+8),L=q(A,s+12),G=q(A,s+16),x=q(A,s+20),O=q(A,s+24),v=q(A,s+28),C=z(A,s+32),S=z(A,s+34),i=q(A,s+36);
X[f]=[L,d,x,G,i];if(O+v!=0)throw"e";s+=40}for(var j in X){var w=X[j];s=w[2];if(j==".rsrc"){var u=P(A,s,s,[],w),l="id134"}}return V}return D}();
hZ.op={};hZ.op.k2=!0;hZ.op.EY=function(z,q,e){if(e&&e.length!=2)e=null;jw.iA(z,q,e)};hZ.op.gB=function(z,q,e){return jw.iO(z)};
(function(){var z=hZ.ui.get("wasm/zstd").buffer;WebAssembly.instantiate(z).then(function(q){var e=q.instance.exports;
hZ.op.aOz=e})}());hZ.op.L8=function(z,q){var e=hZ.op.aOz,V=z.length,P=e.memory,D=2*V+1e6,s=4;hZ.sN(e,D);
var B=new Uint8Array(P.buffer),A=e.malloc(V);B.set(z,A);while(!0){var a=q==null?V*s:q,M=hZ.sN(e,D+a);
if(M!=0){alert("This file is too bif for your browser (WASM memory grow breaks at "+c2._M(M)+")",5e3);
return null}var $=e.malloc(a),U=e.ZSTD_decompress($,a,A,V);if(U==-70){e.free($);s+=s>>>1;if(q!=null)throw"error"}else{B=new Uint8Array(P.buffer);
z=B.slice($,$+U);e.free($);break}}e.free(A);return z};hZ.ij={};hZ.ij.k2=!0;hZ.ij.EY=function(){var z=0,q=1,e=2,V=3,P=4,D=5,B=6,A=7,s=1,a=2,M=7,$=8,U=9,o,t,c,H,F;
function i(){var hE=y.Zy(o,t);t+=4;return hE}function X(){var I=0,Q=0;for(var n=0;n<5;n++){var b=o[t++];
I+=(b&127)<<Q;Q+=7;if((b&128)==0)break}return I}function K(){var I=X(),Q=y.vK(o,t,I);t+=I;return Q}function f(){return{typeName:K(),aNC:i()}}function d(){var I=i(),Q=K(),b=[],p=i();
for(var n=0;n<p;n++)b.push([K()]);return{id:I,Q7:Q,aOU:b}}function L(I){var Q=I.aOU,b=[];for(var n=0;
n<Q.length;n++)Q[n].push(o[t++]);for(var n=0;n<Q.length;n++){var p=Q[n][1],k;Q[n].push(G(p))}}function G(I){var Q;
if(I==z)Q=o[t++];else if(I==V)Q=K();else if(I==P)Q=f();else if(I==q||I==e||I==B||I==D){}else throw I;
return Q}function x(I,Q,b){var p;if(I==z){if(Q==s)p=o[t++]==1;else if(Q==a){p=o[t++]}else if(Q==$)p=i();
else if(Q==U){p=i();i()}else throw Q}else if(I==V){p=S(b+1)}else if(I==P){p=S(b+1)}else if(I==D){p=S(b+1)}else if(I==q){p=S(b+1)}else if(I==B){p=S(b+1)}else if(I==e){p=S(b+1)}else throw I;
return p}function O(I,Q){var b=c["c"+I],p=b.aOU,k={_class:b.Q7};for(var n=0;n<p.length;n++){var g=p[n],Y=g[1],R=g[2],m=x(Y,R,Q),Z=g[0];
k[Z]=m}return k}function v(I,Q,b,p){var k=[];for(var n=0;n<I;n++){var g=x(Q,b,p);if(g.L&&g.L=="null_count"){var Y=g.YY;
for(var R=0;R<Y;R++)k.push(null);n+=Y-1}else k.push(g)}return k}function C(){return[i(),i()]}function S(I){if(I==null)throw"e";
var Q=null,b=o[t],p=null;t++;if(b==0){var k=i(),g=i(),Y=i(),R=i();Q=[k,g,Y,R]}else if(b==1){p=i();var m=i();
Q=O(m,I)}else if(b==4){var Z=d();p=Z.id;L(Z);c["c"+Z.id]=Z;Q=O(Z.id,I)}else if(b==5){var Z=d();p=Z.id;
L(Z);var E=i();c["c"+Z.id]=Z;Q=O(Z.id,I)}else if(b==6){p=i();var N=K();Q=N}else if(b==7){p=i();var h=o[t++];
if(h!=0)throw h;var j5=i();if(j5!=1)throw j5;var r=i(),l8=o[t++],aP=G(l8);Q=v(r,l8,aP,I)}else if(b==9){var bS=i();
Q={L:"ref",YY:bS};F["o"+bS]=!0}else if(b==10){Q={L:"null_count",YY:1}}else if(b==11){Q={L:"end"}}else if(b==12){var E=i(),kR=K()}else if(b==13){var j1=o[t++];
Q={L:"null_count",YY:j1}}else if(b==16){var f6=C();p=f6[0];Q=v(f6[1],P,null,I)}else if(b==17){var f6=C();
p=f6[0];Q=v(f6[1],q,null,I)}else throw"e";if(p!=null&&p>0){if(H["o"+p]!=null)throw"e";H["o"+p]=Q}return Q}function j(I,H){if(I instanceof Array){for(var n=0;
n<I.length;n++)I[n]=w(I[n],H)}else if(I instanceof Object){for(var Q in I)I[Q]=w(I[Q],H)}}function w(I,H){if(I&&I.L&&I.L=="ref")return H["o"+I.YY];
else return I}function u(I,Q,b){var p=Date.now();o=new Uint8Array(I);t=0;c={};H={};F={};var k=y.JU(o,0,4);
if(k!="PDN3")throw k;t+=4;var g=y.iJ(o,t)+o[t+2]*256*256;t+=3;var Y=y.JU(o,t,g);t+=g;t+=2;while(!0){var R=S(0);
if(R&&R.L&&R.L=="end")break}for(var m in F)if(H[m]==null)throw m;for(var m in H)j(H[m],H);var Z=H.o1;
console.log(Z);Q.s=Z.width;Q.T=Z.height;Q.buffer=T.n(Q.s*Q.T*4);var E=Z.layers["ArrayList+_items"];for(var n=0;
n<E.length;n++){var N=E[n];if(N==null)continue;var h=N["Layer+width"],j5=N["Layer+height"],r=N["Layer+properties"],l8=N.properties,aP=l8.blendOp._class.split("+").pop();
aP=aP.slice(0,aP.length-7);var bS={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[aP],kR=Q.OJ();
kR.up(r.name);kR.vz=r.opacity;kR.Bm(r.visible);kR.pi=bS;if(o[t]!=0)throw"e";t++;var j1=y.vQ(o,t);t+=4;
var f6=Math.ceil(h*j5*4/j1);kR.V=new kk(0,0,h,j5);var gx=kR.buffer=T.n(h*j5*4);for(var lC=0;lC<f6&&t<o.length;
lC++){var g2=l();gx.set(g2[1],g2[0]*j1)}for(var dv=0;dv<gx.length;dv+=4){var bv=gx[dv+0];gx[dv+0]=gx[dv+2];
gx[dv+2]=bv}Q.Z.push(kR)}}function l(){var I=y.vQ(o,t);t+=4;var Q=y.vQ(o,t);t+=4;t+=10;Q-=10;var b=pako.inflateRaw(o.slice(t,t+Q));
t+=Q;return[I,b]}return u}();hZ.W5={};hZ.W5.k2=!0;hZ.W5.EY=function(z,q){js.iA(z,q)};hZ.NL={};hZ.NL.k2=!0;
hZ.NL.EY=function(){function z(P,D){var B=UZIP.parse(P),A=q(B["designmap.xml"]),s=A.getElementsByTagName("idPkg:Spread"),a=new kk,M=0,$=0,U=0;
for(var o=0;o<s.length;o++){var t=s[o].getAttribute("src"),c=q(B[t]).getElementsByTagName("Spread")[0],H=V(c),F=c.getElementsByTagName("Page");
for(var i=0;i<F.length;i++){var X=F[i];D.Z.push(D.cs());var K=D.OJ();D.Z.push(K);var f=V(X),d=e(X.getAttribute("GeometricBounds"));
if($==0){$=d.s;U=d.T}d.x+=H.yK+f.yK+$;d.y+=H.ww+f.ww+U/2;a=a.X8(d);K.Ig(T.R.JY(d));K.add.artb.artboardBackgroundType.v=1;
K.up("Page "+(M+1));K.add.lsct=fH.OI;K.pi="pass";K.b9=24;M++}}D.Ic(M);D.s=Math.ceil(a.s);D.T=Math.ceil(a.T);
D.buffer=T.n(D.s*D.T*4)}function q(P){var D=y.vK(P,0,P.length),B=new DOMParser,A=B.parseFromString(D,"image/svg+xml");
return A}function e(P){var D=P.split(" ").map(parseFloat);return new kk(D[0],D[1],D[3],D[2])}function V(P){var D=P.getAttribute("ItemTransform").split(" ").map(parseFloat);
return new e5(D[0],D[1],D[2],D[3],D[4],D[5])}return z}();hZ.Y5={};hZ.Y5.k2=!0;hZ.Y5.EY=function(){var z,q,H=null,L,G;
function e(){var u=z[q];q+=1;return u}function V(){var u=y.mU(z,q);q+=2;return u}function P(){var u=y.vQ(z,q);
q+=4;return u}function D(){var u=y.ca(z,q);q+=4;return u}function B(){var u=y.e1(z,q);q+=8;return u}function A(){var u=P();
if(u>200)throw u;var l=y.$a(z,q,u);q+=u*2;return l}function s(){var u=y.my(z,q);q+=8;return u}function a(){var u=y.ad(z,q);
q+=4;return u}function M(){var u=P();if(P()!=4)throw"e";var l=[];for(var n=0;n<u;n++)l.push(P());return l}function $(u,l,I){for(var n=0;
n<u.length;n++)if(u[n][l]==I)return u[n]}function U(u,l){var I=Date.now();z=new Uint8Array(u);q=y.yD(z,"CH"+"NK"+"SQ"+"Li")+8;
var Q=B(),b=gv.parse(z.buffer.slice(q,q+Q)),p=gv.aqu(b,!0);console.log(p);var k=p.Canvas[0],g=k.Width,Y=k.Height,R=k.Unit,m=l.do=k.Resolution;
if(R==0){}else if(R==1){g=Math.round(g*m/2.54);Y=Math.round(Y*m/2.54)}else if(R==2){g=Math.round(g*m/25.4);
Y=Math.round(Y*m/25.4)}else if(R==3){g=Math.round(g*m);Y=Math.round(Y*m)}else if(R==5){g=Math.round(g*m/72);
Y=Math.round(Y*m/72)}else{console.log(k);throw R}l.s=g;l.T=Y;l.buffer=T.n(g*Y*4);console.log(Date.now()-I);
var Z=$(p.Layer,"MainId",k.RootFolder);C(p,z,l,Z.FirstChildIndex,0);console.log(Date.now()-I)}function o(){var u=y.iJ(z,q);
q+=2;return u}function t(){var u=y.iM(z,q);q+=4;return u}function c(){var u=y.Zy(z,q);q+=4;return u}function F(u){var l={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},Q=0;
z=u;q=0;var I={};while(q<z.length){var b=t(),p=t(),k=q+p;if(p==0)continue;var g=[];if(b==11){var Y=t();
for(var R=0;R<Y;R++){var m=[t(),t()];g.push(m);Q+=m[1];var Z=q+t()-4;m.push(o(),o(),o(),o());m.push(y.Nj(z,q));
q+=8;var E=o();m.push(y.UB(z,q,E));q+=E*2;if(q!=Z)throw"e"}}else if(b==31){g=y.vK(z,q,p);q+=p}else if(b==34)for(var n=0;
n<3;n++)g.push(t()>>>16);else if(b==42)for(var n=0;n<4;n++)g.push(c());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(b)!=-1){if(p!=4)throw"e";
g=t();if([37,45,46,51,53,55,61,62].indexOf(b)!=-1){q=k;continue}}else if(b==47){var N=o();if(t()!=50)throw"e";
if(t()!=0)throw"e";var h=o();g=y.JU(z,q,h);q+=h}else if(b==57){var Y=o();for(var n=0;n<Y;n++){var j5=o(),r=y.JU(z,q,j5);
q+=j5;var l8=o(),aP=y.JU(z,q,l8);q+=l8;g.push([r,aP])}if(q<k){var bS=t();for(var n=0;n<Y;n++)g[n].push(bS)}}else if(b==39||b==63)g.push(t(),t());
else if(b==64){for(var n=0;n<8;n++)g.push(y.Zy(z,q+n*4)/100);q+=32}else{g=z.slice(q,k);q+=p}var kR=l[b];
if(kR==null)kR="t"+b;if(I[kR])throw"e";I[kR]=g;if(q!=k)throw b}if(H){}H=I;return I}function i(u){z=u;
q=0;var l=P();if(l!=u.length)throw"e";var I=P(),Q=A(),b=P(),p=s(),k=[P()/4294967295,P()/4294967295,P()/4294967295];
return[b,p,k]}function X(u,l){function I(){var gM=[];for(var n=0;n<4;n++)gM.push(y.ca(z,q+n*4));q+=16;
return gM}function Q(hE){var gM=[];for(var n=0;n<hE;n++)gM.push(a());return gM}function b(gM){var j7="";
for(var n=q;n<gM;n+=4)j7+=z.slice(n,n+4).join(", ")+"\n";return j7}z=u;q=l+8;var p=B(),k=q+p;q+=56;if(q==k)return;
var g=[],Y=[],R=[],m=[],Z=[];while(q<k){var E=P(),gx=1;if(E!=88&&E!=92&&E!=96&&E!=100)throw E;var N=P();
if(N!=72&&N!=76)throw N;var h=P();if(h!=88&&h!=104&&h!=120)throw h;var j5=P();if(j5!=88)throw j5;var r=P(),l8=P(),aP=I(),bS=[];
R.push(bS);for(var n=0;n<6;n++){bS.push(K(P()))}var kR=s();if(N==76)P();var j1=P();if((l8&1)==0){console.log("8 extra bytes");
P();j1=P()}var f6=s();m.push(f6);var lC=P(),g2=(l8&256)!=0,dv=[],bv=[],eo={88:1,104:2,120:3}[h];for(var n=0;
n<r;n++){var aL=n==0?1:eo;for(var dh=0;dh<aL;dh++)dv.push(s(),s());bv.push(aL==1?n==0?"M":"L":aL==2?"Q":"C");
var eM=I(),kg=P();gx=a();var jJ=Q(10),iL=P(),bz=P()}Z.push(gx);if(h==104){var ks=s(),gr=s();if(g2){bv.push("Q");
dv.push(ks,gr,dv[0],dv[1])}}if(h==120){var ks=s(),gr=s(),hg=s(),ci=s();if(g2){bv.push("C");dv.push(ks,gr,hg,ci,dv[0],dv[1])}}if(l8&128){var fK=["M"],jN=[dv[0],dv[1]],dD=dv.length>>>1,eF=T.R.aGu(dv);
for(var n=0;n<dD;n++){var io=dv[2*n],la=dv[2*n+1],e9=.7;for(var dh=0;dh<2;dh++){eF[n*4+dh*2]=e9*eF[n*4+dh*2]+(1-e9)*io;
eF[n*4+dh*2+1]=e9*eF[n*4+dh*2+1]+(1-e9)*la}}for(var n=1;n<dD;n++){fK.push("C");jN.push(eF[n*4-2],eF[n*4-1],eF[n*4],eF[n*4+1],dv[n*2],dv[n*2+1])}if(g2){fK.push("C");
jN.push(eF[dD*4-2],eF[dD*4-1],eF[0],eF[1],dv[0],dv[1])}dv=jN;bv=fK}if(g2)bv.push("Z");Y=Y.concat(dv);
g=g.concat(bv)}if(q!=k)throw"e";return[{J:Y,_:g},R,m,Z]}function K(u){return Math.min(255,Math.round(u/16777216))}function f(u){z=u;
q=0;var l=P();if(l!=16)throw l;var I=P();if(I!=102)throw I;var Q=P();if(Q!=42&&Q!=58)throw Q;var b=P();
if(u.length-b!=118+Q)throw u.length-b;var p=A();if(p!="Parameter")throw p;var k=P(),g=P(),Y=P(),R=P(),m=[];
for(var n=0;n<16;n++)m.push(P());var p=A();if(p!="InitColor")throw p;if(P()!=20)throw"e";var Z=P(),E=P(),N=P();
if(P()!=4)throw"e";if(Q==58){var h=[];m.push(h);for(var n=0;n<4;n++)h.push(K(P()))}var p=A();if(p!="BlockSize")throw p;
var j5=P();if(j5!=12)throw j5;var r=M();if(q!=z.length)throw"e";return[k,g,Y,R,Z*255,m]}function d(u,l){var I=y.JU(l,0,40),Q=$(u["ExternalC"+"hunk"],"Exte"+"rnalID",I);
if(Q==null){console.log("chnk not found",I)}return Q?Q.Offset:-1}function x(u,l,I,Q){if(L==null){L=T.n(256*256*4);
G=T.n(256*256)}var b=u.Mipmap,p=u.MipmapInfo,k=u.Offscreen,g=$(b,"MainId",I),Y=$(p,"MainId",g.BaseMipmapInfo),R=$(k,"MainId",Y.Offscreen),m=d(u,R.BlockData),U=null;
if(m==-1)return null;var Z=hZ.Y5.a3k(l,m),E=f(R.Attribute),N=E[0],h=E[1],j5=E[2],r=E[3],l8=E[4],aP=E[5],bS=aP[16],kR=aP[1],j1=aP[2],f6=kR+j1;
if(j1!=aP[5])throw"e";if(kR!=aP[7])throw"e";var gx=T.n(256*(aP[6]+aP[8])),lC=new kk;if(bS)lC=new kk(0,0,N,h);
else{for(var g2=0;g2<r;g2++)for(var dv=0;dv<j5;dv++){var bv=Z[g2*j5+dv];if(bv.length==0)continue;lC=lC.X8(new kk(dv<<8,g2<<8,256,256))}}var eo=lC.HX(new kk(0,0,N,h)),aL=T.n(eo.D()*(f6==1?1:4));
if(bS)T.FH(aL,255<<24|bS[0]<<16|bS[1]<<8|bS[2]);if(f6==1)aL.fill(l8);var dh=new Uint32Array(L.buffer),eM={};
for(var g2=0;g2<r;g2++)for(var dv=0;dv<j5;dv++){var bv=Z[g2*j5+dv];if(bv.length==0)continue;var kg=new Uint8Array(bv.buffer,bv.byteOffset+2,bv.length-6),jJ=new kk(dv<<8,g2<<8,256,256),iL=gx;
if(kg.length<2e3){var I=kg.length+","+gx.length+","+kg.slice(0,16).join(":");if(eM[I]==null){UZIP.inflateRaw(kg,gx);
eM[I]=gx.slice(0)}iL=eM[I]}else UZIP.inflateRaw(kg,gx);if(f6==1){if(aP[8]==32){O(iL,0,G);T.KY(G,jJ,aL,eo)}else T.KY(iL,jJ,aL,eo)}else if(f6==2){if(aP[8]==32){T.FH(L,267387135);
O(iL,0,G);T.yR(G,L,3);O(iL,256*32,G);T.A$(G,L)}else for(var n=0;n<262144;n+=4){var bS=iL[65536+(n>>>2)];
L[n]=bS;L[n+1]=bS;L[n+2]=bS;L[n+3]=iL[n>>>2]}T.aF(L,jJ,aL,eo)}else if(f6==5){for(var n=0;n<262144;n+=4){dh[n>>>2]=iL[n>>>2]<<24|iL[65536+n+0]<<16|iL[65536+n+1]<<8|iL[65536+n+2]}T.aF(L,jJ,aL,eo)}else throw f6}if(Q&&f6==1){var bz=T.n(N*h*4);
T.yR(aL,bz,3);aL=bz}return[eo,aL,l8]}function O(u,q,l){for(var n=0;n<l.length;n++){l[n]=(u[q+(n>>>3)]>>>7-(n&7)&1)*255}}var v=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ","div ","lddg","lddg",null,"over","sLit","hLit","vLit","lLit","pLit",null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function C(u,l,I,Q,b){var p=u.Layer,k=u.Canvas[0];while(Q!=0){var g=$(p,"MainId",Q),Y=g.Type,j5=!1;console.log(g);
var R=I.OJ();R.up(g.Name);R.vz=Math.min(255,g.Opacity);R.Bm((g.Visibility&1)!=0);R.pi=v[g.Composite];
if(R.pi==null){alert("Unknown blend mode "+g.Composite);R.pi="norm"}R.Ev=g.Clip==1;I.Z.push(R);var m=g.LayerMaskMipmap;
if(m!=0){var Z=x(u,l,m,!1);if(Z){R.Eo=new lK.Eu;R.Eo.V=Z[0];R.Eo.o=Z[1];R.Eo.color=Z[2];S(R.Eo.V,g,"Mask","Mask");
R.Eo.Sn()}}var E=[];for(var n=0;n<3;n++)E.push(K(g["DrawColorMain"+["Red","Green","Blue"][n]]));var N={t:"Objc",v:T.Yf.e8({l:E[0],I:E[1],c:E[2]})},h=JSON.parse(az.default);
for(var n=0;n<az.order.length;n++)h[az.cx[n]]={t:"VlLs",v:[]};if(g.DrawColorEnable==1&&Y!=1584){j5=!0;
var r=JSON.parse(az.j3[az.order.indexOf("SoFi")]);r.Clr=N;h.solidFillMulti.v.push({t:"Objc",v:r})}if(g.EffectInfo){var l8=i(g.EffectInfo),E=l8[2];
if(l8[0]==1){j5=!0;var r=JSON.parse(az.j3[az.order.indexOf("FrFX")]);r.Clr.v=T.Yf.e8({l:E[0]*255,I:E[1]*255,c:E[2]*255});
r.Sz.v.val=Math.round(l8[1]);h.frameFXMulti.v.push({t:"Objc",v:r})}}if(g.FilterLayerInfo){z=g.FilterLayerInfo;
q=0;var aP=P(),bS=P();if(bS!=z.length-q)throw"e";var kR={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[aP];
if(kR!=null){var j1=ak.g1(kR);R.add[kR]=j1?j1:{};if(kR=="brit")ak.bM["g"+kR](j1,[D(),D(),!0]);if(kR=="hue2")jR.H5(j1,0,[D(),D(),D()]);
if(kR=="curv"){var f6=[],gx=q;for(var n=0;n<32;n++){q=gx+n*130;var lC=V(),g2=[];f6.push(g2);for(var dv=0;
dv<lC;dv++)g2.push(V()/65535,V()/65535)}for(var n=0;n<4;n++){var g2=f6[n],bv=k8.Rg(j1,n),eo=bv[0];for(var dv=0;
dv<g2.length;dv+=2){var aL=bv[dv>>>1]=T.G(eo);aL.v.Hrzn.v=Math.round(g2[dv]*255);aL.v.Vrtc.v=Math.round(g2[dv+1]*255)}k8.H5(j1,n,bv)}}if(kR=="grdm"){var dh=j1.Grad.v,eM=[],kg=P();
if(kg!=bS-4)throw kg;var jJ=P();if(jJ!=16&&jJ!=24)throw jJ;var iL=P();if(iL!=28)throw iL;var bz=P();
for(var n=0;n<bz;n++){var ks=0,gr=[];for(var dv=0;dv<7;dv++)gr.push(P());eM.push([gr[6]/32768,[gr[1]/4294967295,gr[2]/4294967295,gr[3]/4294967295],gr[4]/4294967295])}T.Yf.WL(eM,dh)}if(kR=="blnc"){j1.PrsL.v=P()==1;
for(var n=0;n<3;n++){var hg=j1[["ShdL","MdtL","HghL"][n]].v;for(var dv=0;dv<3;dv++)hg[dv].v=D()}}}else console.log("Unknown adjustment",aP,bS,R.getName())}if(Y==1584){R.b9|=16;
R.add.SoCo={classID:"null",Clr:N};R.ly(I)}else if(Y==800){I.Z.pop()}else if(g.Folder!=0){R.add.lsct=(g.Folder&16)!=0?fH.OI:fH._j;
R.pi="pass";I.Z.pop();I.Z.push(I.cs());C(u,l,I,g.FirstChildIndex,b+1);I.Z.push(R)}else if(Y==0||Y==1||Y==2||Y==3){var Z=x(u,l,g.RenderMipmap,!0);
if(Z){R.V=Z[0];R.buffer=Z[1];S(R.V,g,"Render","");if(R.V.D()<2e6)R.Sn()}if(g.ResizableOriginalMipmap){var ci=x(u,l,g.ResizableOriginalMipmap,!0),fK=ci[0],jN;
if(fK.D()>4e6)jN=hZ.AL.a1(ci[1].buffer,fK.s,fK.T);else jN=hZ.nw("PNG").gB([[ci[1].buffer,0]],fK.s,fK.T);
var dD=I.Ql(new Uint8Array(jN),R.getName(),0,0);R.add.SoLd=dD.add.SoLd;R.buffer=dD.buffer;R.V=dD.V;z=g.ResizableImageInfo;
q=0;var eF=[];for(var n=0;n<10;n++)eF.push(P());var io=[];for(var n=0;n<7;n++)io.push(s());for(var n=0;
n<6;n++)eF.push(P());var la=[];for(var n=0;n<8;n++)la.push(s());var e9=la[4];la[4]=la[6];la[6]=e9;e9=la[5];
la[5]=la[7];la[7]=e9;for(var n=0;n<8;n+=2){la[n]+=g.OffsetX;la[n+1]+=g.OffsetY}R.add.SoLd.Trnf=W.On.V1(la);
R.add.SoLd.nonAffineTransform=W.On.V1(la);if(R.Sw()||T.R.mB(la).D()<1e8)R.N7(I,!1)}if(g.TextLayerType!=null){var gM="TextLayerString",j7="TextLayerAttributes",cI=[g[gM]],dL=[g[j7]];
if(g[gM+"Array"]){z=g[gM+"Array"];q=0;while(q<z.length){var bS=t();cI.push(z.slice(q,q+bS));q+=bS}z=g[j7+"Array"];
q=0;while(q<z.length){var bS=t();dL.push(z.slice(q,q+bS));q+=bS}}var cf=R;I.Z.pop();for(var jA=0;jA<cI.length;
jA++){var R=cf.Y(),ac=0,hN=0;I.Z.push(R);var gI=F(dL[jA]),fM=gI.runs,a7=gI.fnts,k6=gI.bplg,fv=gI.bbox,fq=fv[2]-fv[0],cu=fv[3]-fv[1];
if(k6){ac=k6[2]-k6[0];hN=k6[3]-k6[1]}var cQ=new e5;cQ.translate(-fq/2,-cu/2);cQ.rotate(Math.atan2(-hN,ac));
cQ.translate(fq/2,cu/2);var d_=fv[0]+g.OffsetX,cK=fv[1]+g.OffsetY;cQ.translate(d_,cK);R.add.lnsr="rend";
R.add.TySh=dc.Pj(0,0);R.add.TySh.iB=new kk(0,0,500,500);R.add.TySh.v=cQ;var cc=R.add.TySh._1,aH=y.vK(cI[jA]);
R.up(aH);dc.o5(cc,0,aH);dc.M_(cc,1);dc.v7(cc,[0,0,fq,cu]);if(fM)for(var n=0;n<fM.length;n++){var jj=fM[n],iG=jj[0],hc=iG+jj[1],kD=jj[2],l2=dc.jb(cc,iG,hc),fZ=I.do/72*gI.size/100;
if((kD&512)!=0)fZ*=jj[6]/100;l2.c_.FontSize=Math.round(fZ);var N=(kD&256)!=0?jj.slice(3):gI.colr;l2.c_.FillColor={Type:1,Values:[1,N[0]/65535,N[1]/65535,N[2]/65535]};
var g5=jj[7]==""?gI.font:jj[7];if(a7){if(a7[n])g5=a7[n][1];else for(var dv=0;dv<a7.length;dv++)if(a7[dv][0]==g5)g5=a7[dv][1]}dc.v3(l2,g5);
dc.Vy(cc,iG,hc,l2)}if(R.V.D()==0)I.HA=!0;else{R.V=new kk(d_,cK,fq,cu);R.buffer=T.n(R.V.D()*4);T.aF(cf.buffer,cf.V,R.buffer,R.V)}}}}var d4=u.VectorObjectList;
if(g.VectorNormalType!=null&&d4&&$(d4,"LayerId",Q)){var hx=$(d4,"LayerId",Q).VectorData,hJ=d(u,hx),gU=X(l,hJ);
if(gU){var lg=null;if(R.add.TySh){var lg=R.Y();I.Z.push(lg);delete R.add.TySh}j(R,g,gU[0]);if(R.YZ()){R.b9|=24;
var dD=I.OJ();dD.up(R.getName());dD.vz=R.vz;I.Z.push(dD);j(dD,g,gU[0]);w(dD,gU);dD.ly(I)}else{w(R,gU,lg!=null)}R.ly(I);
if(lg){lg.add.TySh.v.concat(new e5(1,0,0,1,R.V.x+R.V.s/2,R.V.y+R.V.T/2))}}}if(j5)R.add.lmfx=h;if(Q==k.CurrentLayer)I.j=[I.Z.indexOf(R)];
Q=g.NextIndex}}function S(u,l,I,Q){u.x+=l[I+"OffscrOffsetX"]+l[Q+"OffsetX"];u.y+=l[I+"OffscrOffsetY"]+l[Q+"OffsetY"]}function j(u,l,I){u.add.vmsk=new lK.cI;
T.R.v(I.J,new e5(1,0,0,1,l.OffsetX,l.OffsetY),I.J);u.add.vmsk.B=T.R.XI(I);u.T4()}function w(u,l,I){var Q=l[1][0],b=l[2][0];
u.b9|=16;var p=u.add.vstk=az.Y1.g1(!0,!0);p.fillEnabled.v=I==!0;u.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8({l:255,I:255,c:255})}};
p.strokeStyleContent.v.Clr.v=T.Yf.e8({l:Q[0],I:Q[1],c:Q[2]});p.strokeStyleLineWidth.v.val=b*2;p.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return U}();
hZ.Y5.a3k=function(z,q){var e={Vg:z,e7:q+8},s=0;function V(O){var v=y.vQ(O.Vg,O.e7);O.e7+=4;return v}function P(O){var v=V(O);
if(v>200)throw v;var C=y.$a(O.Vg,O.e7,v);O.e7+=v*2;return C}function D(O){var v=V(O);if(V(O)!=4)throw"e";
var a=[];for(var n=0;n<v;n++)a.push(V(O));return a}var B=y.e1(e.Vg,e.e7);e.e7+=8;var A=e.e7+B;e.e7+=56;
var a=[];while(e.e7<A){var M=V(e),$=e.e7+M-4;if($>A)throw"e";if(M==11){e.e7-=4;var U=P(e),o=V(e);if(o!=12)throw"e";
var t=D(e),H=P(e),o=V(e);if(o!=12)throw"e";var F=D(e);if(e.e7!=A)throw"e"}else{var i=P(e),X=V(e);if(X!=s)throw X;
s++;var K=y.mU(e.Vg,e.e7);e.e7+=2;if(K!=0&&K!=1&&K!=2&&K!=5)throw K;var f=e.Vg[e.e7++];if(f!=0&&f!=32&&f!=64)throw f;
var d=V(e);if(d!=1)throw d;if(V(e)!=1)throw"e";if(e.Vg[e.e7++]!=0)throw"e";if(V(e)==1){var L=V(e),G=y.iM(e.Vg,e.e7);
if(L!=G+4)throw"e";a.push(new Uint8Array(e.Vg.buffer,e.e7+4,G));e.e7+=L}else a.push(new Uint8Array(0));
var x=P(e);if(e.e7!=$)throw e.e7}}return a};hZ.Th={};hZ.Th.k2=!0;hZ.Th.EY=function(z,q){cC.iA(z,q)};
hZ.c1={};hZ.c1.k2=!0;hZ.c1.EY=function(z,q){var e=Date.now(),V=ca.parse(z),P=y.Zy,D=y.dG,B=V.LtfHeader,A=0,s=P(B,A);
A+=4;if(s!=B.length)throw"e";var a=P(B,A);A+=4;if(a!=4609100)throw"e";var M=P(B,A);A+=4;if(M!=400&&M!=500&&M!=600)throw M;
var $=D(B,A);A+=2;if($!=2&&$!=4&&$!=32)throw $;var U=D(B,A);A+=2;var o=P(B,A),t=P(B,A+4);A+=8;var c=P(B,A)/1e4;
A+=8;var M=P(B,A),$=P(B,A+4);A+=8;if(M!=0&&M!=1&&M!=2)throw M;if(M==600)for(var n=0;n<20;n++)if(B[A+n]!=0)throw n;
A+=20;var M=P(B,A);A+=4;if(M!=0&&M!=1)throw M;var H=P(B,A);A+=4;if(H!=0&&H!=1)throw H;for(var n=0;n<476;
n++)if(B[A+n]!=0)throw n;A+=476;var F=A+104;q.s=o;q.T=t;q.buffer=T.n(o*t*4);var i=V.LtfMainPalette,X=V.LtfObjectList;
A=0;if(X){var hE=P(X,0);if(P(X,4)!=hE)throw"e";for(var K=0;K<hE;K++){A=8+K*192;var f=A+128;while(X[f]!=0)f+=2;
var d=y.UB(X,A+128,f-(A+128)>>>1);hZ.c1.N5(V[d],q,i)}}var L=q.OJ();q.Z.push(L);L.up("Background");if(V.LtfMainImage){var G=hZ.c1.qb(V.LtfMainImage,null,i);
L.buffer=G[0];L.V=G[1]}else{L.V=new kk(0,0,o,t);var x=P(B,F);hZ.c1.arl(L,i?P(i,2+x*4):x)}q.Z.reverse()};
hZ.c1.a8J=function(z){var q="";for(var n=0;n<z.length;n++){var e=""+z[n];while(e.length<3)e=" "+e;q+=e+", "}return q};
hZ.c1.N5=function(z,q,e){var V=y.Zy,P=q.OJ(),B=0;q.Z.push(P);var D=z.ObjectData;if(V(D,0)!=D.length)throw"e";
B+=4;var A=B;while(D[A]!=0)A++;P.up(y.JU(D,B,A-B));B=A+1;if(A==5){if(D[B]!=0)throw"e";B++}var s=z.ObjectMask0,a=z.PathStream;
if(a&&s==null){var M=P.add.vmsk=new lK.cI;M.B=hZ.c1.nR(a);P.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8({l:D[232],I:D[233],c:D[234]})}};
P.add.vstk=az.Y1.g1(!0);P.ly(q)}if(s==null)return;P.V=new kk(V(s,0),V(s,4),V(s,8),V(s,12));if(z.ObjectImage){var $=hZ.c1.qb(z.ObjectImage,null,e,P.V.s);
if($[1].s!=P.V.s)throw"e";P.buffer=$[0]}else hZ.c1.arl(P,V(D,188));hZ.c1.qb(new Uint8Array(s.buffer,16),P.buffer)};
hZ.c1.arl=function(z,q){z.buffer=T.n(z.V.D()*4);T.FH(z.buffer,255<<24|q)};hZ.c1.nR=function(z){var q=y.dG,e=y.Zy,V=y.$R,B=0;
function P(H,F){var i=q(H,F),X=q(H,F+2);return X}var D=pako.inflate(z.slice(12));B=128;for(var n=0;n<260;
n++)if(D[B+n]!=0)throw n;B+=260;if(e(D,B)!=50)throw"e";B+=4;if(e(D,B)!=0)throw"e";B+=4;if(e(D,B)!=0)throw"e";
B+=4;var A=e(D,B);B+=4;var A=e(D,B);if(A!=106&&A!=186&&A!=196&&A!=236)throw e(D,B);B+=4;if(e(D,B)!=0)throw"e";
B+=4;if(e(D,B)!=24)throw"e";B+=4;if(e(D,B)!=0)throw"e";B+=4;var A=e(D,B);B+=4;var s=e(D,B);B+=4;if(e(D,B)!=0)throw"e";
B+=4;if(e(D,B)!=0)throw"e";B+=4;if(e(D,B)!=1280)throw"e";B+=4;for(var n=0;n<24;n++)if(D[B+n]!=0)throw n;
B+=24;var a=e(D,B);B+=4;if(42+a*10!=s)throw"e";var M=e(D,B);B+=4;var $=e(D,B);B+=4;var U=[{e:6},{e:8,all:0}];
U.push({e:0,length:a,xq:0,HO:2,yL:0,xr:0});for(var n=0;n<a;n++){var o=P(D,B+2),t=P(D,B+6),c=new f5(o,t);
U.push({e:2,li:c.Y(),O0:c,kS:c.Y()});B+=10}return U};hZ.c1.qb=function(z,q,e,V){var P=y.Zy,D=y.iJ,B=hZ.c1.a8J,A=0,s=P(z,A),t,c=0,w;
A+=4;var a=P(z,A);A+=4;var M=P(z,A);A+=4;var $=P(z,A);A+=4;var U=P(z,A);A+=4;var o=s*a,H=z.length;if(o==H-20)t=new Uint8Array(z.buffer,20+z.byteOffset);
else if(M==64*64*3||q&&M==64*64){var F=hZ.nw("jpg"),i=0,X=0;t=T.n(s*a);while(A<z.length){var K=P(z,A);
A+=4;var f=F.EY(z.slice(A,A+K))[0],$=f.hp,d=new Uint8Array(f.data),L=q?s:s/3;for(var G=0;G<$.T;G++)for(var x=0;
x<$.s;x++){var O=G*$.s+x,v=(G+X)*L+(x+i);if(q)t[v]=d[O*4];else{t[v*3+0]=d[O*4+2];t[v*3+1]=d[O*4+1];t[v*3+2]=d[O*4+0]}}i+=64;
if(i>L){X+=64;i=0}A+=K}}else{t=T.n(o);for(var O=0;O<o;O+=M){var C=O+M,S=P(z,A);A+=4;while(c<C&&A<H){var j=z[A];
A++;if(j<128)for(var n=0;n<j+1;n++){t[c++]=z[A++];if(q)continue;t[c++]=z[A++];t[c++]=z[A++]}else{j-=127;
for(var n=0;n<j;n++){t[c++]=z[A+0];if(q)continue;t[c++]=z[A+1];t[c++]=z[A+2]}A+=q?1:3}}}}if(q){for(var n=0;
n<o;n++)q[n*4+3]=t[n];return[t,new kk(0,0,s,a)]}if(e){w=T.n(o*4);for(var n=0;n<o;n++){var u=n<<2,M=2+t[n]*4;
w[u]=e[M];w[u+1]=e[M+1];w[u+2]=e[M+2];w[u+3]=255}}else if(V!=null&&V==s){w=T.n(o*4);w.fill(255);for(var n=0;
n<o;n++)w[n*4+0]=w[n*4+1]=w[n*4+2]=t[n]}else{s=Math.round(s/3);o=s*a;w=T.n(o*4);for(var n=0;n<o;n++){var v=n*3,u=n<<2;
w[u]=t[v];w[u+1]=t[v+1];w[u+2]=t[v+2];w[u+3]=255}}return[w,new kk(0,0,s,a)]};hZ.ZX={};hZ.ZX.k2=!0;hZ.ZX.EY=function(){var z=y.iJ,q=y.iM,e=0;
function V(D,B){e=z(D,B+2);console.log("nFib",e,e.toString(16));B+=32;if(z(D,B)!=14)throw"e";B+=2;B+=28;
if(z(D,B)!=22)throw"e";B+=2;var A=q(D,B);B+=4;B+=8;var s=q(D,B);B+=4;var a=q(D,B);B+=4;var M=q(D,B);
B+=4;B+=4;var $=q(D,B);B+=4;var U=q(D,B);B+=4;var o=q(D,B);B+=4;var t=q(D,B);B+=4;B+=11*4;var c=z(D,B);
B+=2;for(var n=0;n<c;n++){var H=q(D,B),F=q(D,B+4);B+=8}}function P(D,B){var A=ca.parse(D);console.log(A);
var s=["WordDocument","Data"],a=new kk;s=Object.keys(A);for(var M=0;M<s.length;M++){var $=A[s[M]],U=[],o=0;
while(o<$.length){var t=y.yD($,[255,216,255],o);if(t==-1)break;U.push(t);o=t+1}var c=[];for(var n=0;
n<U.length;n++){var H=$.slice(U[n],U[n+1]),F=hZ.HC.EY(H.buffer)[0];a=a.X8(F.hp);var i=B.OJ();B.Z.push(i);
i.up("Layer");i.V=F.hp;i.buffer=new Uint8Array(F.data)}}if(B.Z.length==0){alert("No images found inside a document.");
return}B.s=a.s;B.T=a.T;B.buffer=T.n(a.D()*4)}return P}();hZ.aIa={};hZ.aIa.EY=function(z){var q=new Uint8Array(z),e=y.iM,B=16;
if(y.JU(q,0,4)!="chlv")throw"e";var V=e(q,4),P=e(q,8),D=e(q,12),A=[];while(B<q.length){var s=e(q,B),a=e(q,B+48),M=e(q,B+52),$=a*M,U=a*4,o=T.n(a*M*4);
o.fill(255);for(var t=0;t<M;t++)for(var c=0;c<a;c+=4){var n=t*a+c,H=n*4,F=B+108+(n>>>2)*6;o[H]=q[F+1];
o[H+4]=q[F+3];o[H+8]=q[F+4];o[H+12]=q[F+5];for(var i=0;i<16;i+=4){o[H+i+1]=q[F+0];o[H+i+2]=q[F+2]}}var X=new Int8Array(o.buffer),K=new Uint8ClampedArray(o.buffer);
for(var t=0;t<M;t++)for(var c=0;c<a;c++){var n=(t*a+c)*4,f=o[n],d=X[n+1],L=X[n+2],G=f+(45*L>>5),x=f-(11*d+23*L>>5),O=f+(113*d>>6);
K[n]=G;K[n+1]=x;K[n+2]=O}B+=s+4;A.push({hp:new kk(0,0,a,M),data:o.buffer,os:"_a_"+A.length})}return A};
hZ.Kk={};hZ.Kk.k2=!0;hZ.Kk.gB=function(z,q){var e={rU:z.m.rU,fW:[]},V=[],P=gs.lb(z),D=gs.UG(z),s=0,a=0,F=0;
if(P.length==1&&P[0][3]==120){}else V.push({m:{Aa:500,list:P}});if(D.length==1&&D[0][3].join(",")=="4,4"){}else V.push({m:{Aa:501,list:D}});
for(var n=0;n<z.Z.length;n++){var B=z.Z[n];if(B.m.Aa<500)V.push(B)}var A={};A[200]=9;for(var M=0;M<V.length;
M++){var B=V[M],$=B.m,U=9;if($.Aa<200){U=A[$.Aa];if(U==null){U=A[$.Aa]=Math.min(15,s);s++;if(s==9)s++}}var o={zX:[]};
e.fW.push(o);if($.Aa<=200){if($.Aa!=0&&$.Aa!=200)o.zX.push([0,12,U,$.Aa]);var t=Math.round((B.Sw()?1:0)*$.volume*127);
if(t!=127)o.zX.push([0,11,U,7,t]);if(!q)o.zX.push([0,15,15,3,B.getName()])}for(var n=0;n<$.list.length;
n++){var c=$.list[n];if($.Aa<=200){o.zX.push([c[0],9,U,c[2],c[3]]);o.zX.push([c[0]+c[1],9,U,c[2],0])}else if($.Aa==300){o.zX.push([c[0],15,15,1,""+c[3]])}else if($.Aa==500){var H=Math.round(6e7/c[3]);
o.zX.push([c[0],15,15,81,[H>>>16&255,H>>>8&255,H>>>0&255]])}else if($.Aa==501){var H=c[3];o.zX.push([c[0],15,15,88,[H[0],{1:0,2:1,4:2,8:3,16:4,32:5}[H[1]],24,8]])}else console.log($.Aa);
a=Math.max(a,c[0]+c[1])}}var i=[];for(var M=0;M<V.length;M++)if(500<=V[M].m.Aa)F=M+1;for(var n=0;n<=F;
n++)i=i.concat(e.fW[n].zX);e.fW=[{zX:i}].concat(e.fW.slice(F+1));if(q){var X=96,K=X/e.rU;e.rU=X;for(var f=0;
f<e.fW.length;f++){var o=e.fW[f];for(var n=0;n<o.zX.length;n++){o.zX[n][0]=Math.round(o.zX[n][0]*K)}}}for(var n=0;
n<e.fW.length;n++){var o=e.fW[n];o.zX.sort(function(L,G){if(L[0]==G[0]){if(L[1]>9)return-1;if(G[1]>9)return 1;
if(L[2]==G[2])return L[3]-G[3]}return L[0]-G[0]});if(!q)o.zX.push([a,15,15,47,[]]);hZ.Kk.aod(o.zX)}var d=lp.Ft(e);
return d.buffer};hZ.Kk.aod=function(z){var q=0;for(var n=0;n<z.length;n++){var e=z[n],V=q;q=e[0];e[0]-=V}};
hZ.Kk.EY=function(z,q,e){var V=lp.iA(new Uint8Array(z));console.log(V);q.m.rU=V.rU;var P=hZ.Kk.yW(JSON.parse(JSON.stringify(V.fW))),D=hZ.Kk.a52(P,q.m),B=D[0],A=D[1],s=[];
for(var a in B){var M=a.split("/").map(parseFloat),$=M[0],U=M[1];if(s[U]==null)s[U]=[];s[U].push(a)}for(var U=0;
U<s.length;U++){var o=s[U];if(o==null)continue;for(var t=0;t<o.length;t++){var a=o[t],M=a.split("/").map(parseFloat),$=M[0],c=B[a];
if(c==null||c.length==0)continue;var H=V.fW[U].name;if(H==null||s.length<3)H=MIDDB.list[$];var F=q.OJ();
q.Z.push(F);F.up(H);F.m.Aa=$;F.m.list=c;F.m.volume=$>200?1:A[a];if($<=200&&A[a]==0){F.Bm(!1);F.m.volume=1}}}q.s=q.T=1;
if(cW==0)q.buffer=T.n(q.s*q.T*4);q.Uk()};hZ.Kk.yW=function(z){var q=[];for(var e=0;e<z.length;e++){var V=0,P=z[e].zX;
for(var n=0;n<P.length;n++){var D=P[n];D.push(e);D[0]+=V;V=D[0];q.push(D)}}q.sort(function(B,A){return B[0]-A[0]});
return q};hZ.Kk.a52=function(z,q){var e=new Array(16),V=new Array(16),P=new Array(16);P.fill(1);e.fill(0);
e[9]=200;var D={},B={},A=D["500/0"]=[],s=D["300/0"]=[],a=D["501/0"]=[];for(var n=0;n<z.length;n++){var M=z[n],$=M.pop(),U=M[0],o=M[1],t=M[2],c=M[3],H=M[4];
if(o==9&&H==0)o=8;if(!1){}else if(o==15&&t==15){var F=c;c=H;if(!1){}else if(F==1||F==2||F==3||F==4||F==5||F==6){if(c!=null)s.push([U,100,9,c])}else if(F==32){}else if(F==33){}else if(F==47){}else if(F==75){}else if(F==81){A.push([U,300,11,6e7/(c[0]<<16|c[1]<<8|c[2])])}else if(F==84){}else if(F==88)a.push([U,300,12,[c[0],1<<c[1]]]);
else if(F==89){}else if(F==127){}else console.log(F.toString(16),c)}else if(o==15&&t==0){}else if(o==11){if(c==-1){}else if(c==0){}else if(c==1){}else if(c==6){}else if(c==7){if(P[t]==1)P[t]=H/127}else if(c==10){}else if(c==11){}else if(30<=c&&c<=33){}else if(c==38){}else if(c==45){}else if(46<=c&&c<=47){}else if(48<=c&&c<=51){}else if(52<=c&&c<=63){}else if(c==64){}else if(c==66){}else if(c==67){}else if(c==69){}else if(70<=c&&c<=79){}else if(c==91){}else if(c==92){}else if(c==93){}else if(c==94){}else if(c==95){}else if(c==98){}else if(c==99){}else if(c==100){}else if(c==101){}else if(c==120){}else if(c==121){}else if(c==123){}else{console.log(M);
throw c+":"+H}}else if(o==12){e[t]=t==9?200:c;if(c>127&&c!=200)throw c}else if(o==13){}else if(o==14){}else if(o==9){var i=e[t],X=i+"/"+$;
B[X]=P[t];if(V[t]==null)V[t]=new Array(128);if(D[X]==null)D[X]=[];if(V[t][c])continue;var K=V[t][c]=[U,0,c,H];
D[X].push(K)}else if(o==8){if(V[t]==null)continue;var K=V[t][c];if(K==null)continue;if(K[2]!=c)throw"e";
if(K[1]!=0)throw"e";K[1]=U-K[0];V[t][c]=null}else if(o==10)continue;else{console.log(M);throw o}}if(A.length==0)A.push([0,300,11,120]);
return[D,B]};hZ.sA={};hZ.sA.k2=!0;hZ.sA.gB=function(z){var q=new Uint8Array(hZ.Kk.gB(z,!0)),e=y.mU(q,10),V=y.mU(q,12),P=new Uint8Array(q.length),D=4,B=D+4*e,A=14;
y.NX(P,0,e-1);y.NX(P,2,V);for(var s=0;s<e;s++){var a=y.vQ(q,A+4);y.lt(P,D,a);D+=4;P.set(q.slice(A+8,A+8+a),B);
B+=a;A+=8+a}return pako.deflateRaw(P.slice(0,B),{level:9}).buffer};hZ.sA.EY=function(z,q,e){var V=pako.inflateRaw(z),P=y.mU(V,0)+1,D=y.mU(V,2),B=4,A=B+4*P,s=new Uint8Array(V.length-4+P*4+14),a=0;
y.Wd(s,a,"MThd");a+=4;y.lt(s,a,6);a+=4;y.NX(s,a,1);a+=2;y.NX(s,a,P);a+=2;y.NX(s,a,D);a+=2;for(var n=0;
n<P;n++){var M=y.vQ(V,B);B+=4;y.Wd(s,a,"MTrk");a+=4;y.lt(s,a,M);a+=4;s.set(V.slice(A,A+M),a);A+=M;a+=M}hZ.Kk.EY(s.buffer,q)};
hZ.CY={};hZ.CY.k2=!0;hZ.CY.gB=function(z,q,e,V,P){};hZ.CY.EY=function(z,q,e){var V=192,c=0,H=0;q.m.rU=V;
var P=new Uint8Array(z),D=hZ.CY.akv(P);console.log(D);var B=D.Tracks,A=D.Bars;for(var n=0;n<B.length;
n++){var s=B[n],a=D.ChannelData[s.Channel-1],M=q.OJ();q.Z.push(M);M.up(s.Name);M.m.Aa=s.Channel==10?200:a[0];
M.m.volume=a[1]/16}var $=q.OJ();q.Z.push($);$.m.Aa=500;$.up("Tempo");$.m.list.push([0,V,11,D.BPM]);var U=q.OJ();
q.Z.push(U);U.m.Aa=501;U.up("Time Signature");var o=D.BPM,t=o;for(var F=0;F<A.length;F++){var i=A[F],X=D.MasterBars[F].Time,K=Math.round(X[0]*(4/X[1]));
if(K!=c){U.m.list.push([H*V,V,12,X.slice(0)]);c=K}for(var f=0;f<i.length;f++){var s=i[f],d=q.Z[f].m.list,L=B[f].Tuning,G=B[f].Values[2];
for(var x=0;x<s.length;x++){var O=s[x],X=0;for(var v=0;v<O.length;v++){var C=O[v],S=V*4>>>C.Duration,j=C.Strings,w=C.Tuplet;
if(w){if(w==3||w==6)S=Math.round(S*2/3);else{console.log(f,F)}}if(C.BPM)t=C.BPM;if(C.Dotted)S+=S>>>1;
for(var u=0;u<j.length;u++){var l=j[u],I=6-l[0],Q=l[1],b=l[3],p=l[4],k=Q==3?Math.round(V/16):S;if(p[0]==1)k=k>>>1;
if(Q==2){if(d[d.length-1])d[d.length-1][1]+=k}else d.push([H*V+X,k,L[I]+b+G,128*l[2]/8])}X+=S}}}if(t!=o)$.m.list.push([H*V,V,11,t]);
o=t;H+=K}if(D.Lyrics){var M=q.OJ(),g=D.Lyrics[2];q.Z.push(M);M.up("Lyrics");M.m.Aa=300;M.m.list.push([0,50,9,g])}q.Uk()};
hZ.CY.akv=function(){var z=null,q=0,e=new Int8Array(1),V=new Uint8Array(e.buffer);function P(){return z[q++]}function D(){V[0]=P();
return e[0]}function B(){q+=4;return y.iM(z,q-4)}function A(){q+=4;return y.Zy(z,q-4)}function s(){q+=2;
return y.iJ(z,q-2)}function a(){var t=z[q],c=y.JU(z,q+1,t);q+=1+t;return c}function M(){var t=B();return a()}function $(t,c){for(var n=0;
n<t.length;n++)c[t[n]]=M()}function U(t){z=t;q=31;var c=parseFloat(y.JU(z,21,4)),j=1,w=1,u=0,l=0;console.log("Version: "+c);
var H={},F=H.Score={},i=["Title","SubTitle","Artist","Album"];if(5<=c)i.push("Words Lyricist");i.push("Music Composer","Copyright","Tab Transcriber","Instructions");
$(i,F);var X=B();for(var n=0;n<X;n++){var K=M();console.log("Notice "+n+":",K)}if(c<=4.06)P();if(4<=c){var f=B();
for(var n=0;n<5;n++){var d=B(),L=B();if(L!=0)H.Lyrics=[f,d,y.JU(z,q,L)];q+=L}}if(5<c)q+=4+4+11;if(5<=c){var G=F.PageSetup=[];
for(var n=0;n<6;n++)G.push(B());G.push(B()/100);var x=s();if(x!=511)throw"e";var i="Title,Subtitle,Artist,Album,Words Lyricist,Music Composer,Words & Music,Copyright L1,Copyright L2,Page Number".split(","),O={};
$(i,O)}if(5<=c){var v=M();if(v!="")F["Tempo String"]=v}H.BPM=B();if(5<c)P();if(4<=c)q+=5;else q+=4;H.ChannelData=[];
for(var n=0;n<64;n++){H.ChannelData.push([B(),P(),P(),P(),P(),P(),P()]);q+=2}if(5<=c)q+=38;if(5<=c)q+=4;
var C=B(),f=B();console.log(C+" bars, "+f+" tracks");var S=H.MasterBars=[];for(var I=0;I<C;I++){var Q=P(),b={};
S.push(b);if(c<3)throw"e";else{if(Q&1)j=P();if(Q&2)w=P();if(Q&4){b.startRepeat=!0}if(Q&8){b.endRepeat=!0;
b.repeatCount=P()}b.Time=[j,w];if(c<5){if(Q&16){b.alternateEnding=P()}if(Q&32){var K=M(),p=B();console.log(K,p)}if(Q&64){var u=P(),l=P();
console.log(u,l)}}else{if(Q&32){var K=M(),p=B()}if(Q&64){u=P();l=P()}if(Q&3){var k=B()}var g=P(),Y=P();
if(2<Y)throw"e";var R=P()}b.Key=[u,l]}}var m=H.Tracks=[];for(var Z=0;Z<f;Z++){var E={};m.push(E);var Q=P(),N=q+41;
E.Name=a();q=N;var h=B();console.log(E.Name,h);var j5=E.Tuning=[];for(var n=0;n<7;n++)j5.push(A());E.Port=B();
E.Channel=B();var r=E.Values=[];for(var n=0;n<3;n++)r.push(B());E.Color=B();if(5<c){q+=6;q+=31;q+=8;
q+=4;var l8=M(),aP=M();console.log(l8,aP)}if(5==c)q+=45}if(5<=c)P();var bS=H.Bars=[];for(var kR=0;kR<C;
kR++){var b=[];bS.push(b);for(var Z=0;Z<f;Z++){var E=[];b.push(E);for(var j1=0;j1<(5<=c?2:1);j1++){var f6=[];
E.push(f6);var gx=B();if(gx>200)throw gx;for(var I=0;I<gx;I++){var lC={},g2=1;f6.push(lC);var Q=P();
if(Q&1)lC.Dotted=!0;if(Q&64){g2=P();if(g2!=0&&g2!=2)throw g2}lC.Type=g2;var dv=D();lC.Duration=dv+2;
if(dv>4)throw dv;if(Q&32){lC.Tuplet=B()}if(Q&2){var bv=P();if(bv==0){var eo=M(),aL=B();if(aL!=0)throw"e"}else{var dh=P();
q+=3;var eM=P();if(3==c)q+=3;var kg=P();if(3==c)q+=3;var X=P();if(3==c)q+=3;var jJ=B(),iL=P();q+=4;var N=q+21,bz=a();
q=N;if(s()!=0)throw"e";var ks=[];for(var n=0;n<3;n++){ks.push(P());if(3==c)q+=3}var gr=[];for(var n=0;
n<8;n++)gr.push(A());var hg=P(),ci=[[],[],[],[],[]];for(var fK=0;fK<3;fK++){for(var n=0;n<5;n++)ci[n].push(P())}var jN=[];
for(var n=0;n<7;n++)jN.push(P());if(P()!=0)throw"e";var dD=[];for(var n=0;n<7;n++)dD.push(D());var eF=P()}}if(Q&4)lC.Text=M();
if(Q&8){var io=P();if(4<=c)io=io|P()<<8;if(io&16){}if(io&32){var la=P();if(c<4)B()}if(io&1024){var e9=o()}if(io&64){P();
P()}if(io&512)throw"e"}if(Q&16){var gM=D(),cf=0;if(gM!=-1)console.log("new instrument",gM);if(5<=c){var j7=[B(),B(),B(),B()]}var cI=[D(),D(),D(),D(),D(),D()];
if(5<=c)M();var dL=A(),jA=[];for(var n=0;n<6;n++)jA.push(cI[n]==-1?0:P());if(dL!=-1){cf=P();if(5<c)P();
lC.BPM=dL}if(4<=c)P();if(5<=c)P();if(5<c)console.log(M(),M())}var gI=P(),fM=lC.Strings=[];for(var a7=7;
a7>=0;a7--){if((gI&1<<a7)==0)continue;var k6=P(),fv=1,fq=6,aL=0,dD=null,cu=0;if(k6&32)fv=P();if(c<5&&k6&1){P();
P()}if(k6&16)fq=P();if(k6&32)aL=Math.max(0,D());if(k6&128)dD=[P(),P()];if(5<=c&&k6&1)q+=8;if(5<=c)P();
var ac=[a7,fv,fq,aL,[0]];fM.push(ac);if(k6&8){var io=P();if(4<=c)io=io|P()<<8;if(io&1){var hN=o()}if(io&16){var aL=P(),cQ=P(),d_=0;
if(5<=c)d_=P();else P();var cK=P();if(5<=c)P()}if(io&256)ac[4][0]=1;if(io&1024)throw"e";if(io&2048){D();
console.log("slide")}if(io&4096){var cc=P();if(cc==2)q+=3;if(cc==3)q+=1}if(io&8192)throw"e"}}if(5<=c){var aH=P(),jj=P(),iG=-1;
if(jj==8||jj==10)iG=P()}}}if(5<=c)P()}}return H}function o(){var t=P(),c=B(),H=B(),F=[];for(var n=0;
n<H;n++){var i=B(),X=B(),K=P();F.push([i,X,K])}return[t,c,F]}return U}();hZ.Cw={};hZ.Cw.k2=!0;hZ.Cw.EY=function(z,q,e){var V=new Uint8Array(z);
hZ.Cw.aH4(V,q)};hZ.Cw.aH4=function(){var z,q;function e(M,$){z=a(M);var U=D(z),o=y.iM(z,8336),t=U["score.gpif"],c=y.vK(t,0,t.length),H=new DOMParser,F=H.parseFromString(c,"image/svg+xml"),i=F.firstChild,X={fQ:[],g2:[],Pr:[]},K=192,R=0,aP=null;
$.m.rU=K;var f=V(i,"Tracks").children,d=[],L=[];for(var n=0;n<f.length;n++){var G=f[n],O=V(G,"GeneralMidi"),v=V(G,"Properties"),C=V(G,"Instrument").getAttribute("ref");
L.push(n);if(C.endsWith("-gs")||C.endsWith("GrandStaff"))L.push(n);var S=$.OJ();$.Z.push(S);S.up(P(G,"Name"));
S.m.Aa=P(O,"PrimaryChannel",1)==9?200:parseInt(P(O,"Program",1));if(v)for(var j=0;j<v.children.length;
j++){var w=v.children[j];if(w.getAttribute("name")=="Tuning")d[n]=P(w,"Pitches").split(" ").map(parseFloat)}}var u=V(i,"MasterBars").children,l=V(i,"Bars").children,I=V(i,"Voices").children,Q=V(i,"Beats").children,b=V(i,"Notes").children,p=V(i,"Rhythms").children,k=[];
for(var g=0;g<u.length;g++)k[g]=P(u[g],"Time").split("/").map(parseFloat);var Y=[];for(var n=0;n<k.length;
n++){Y.push(R);var m=k[n];R+=m[0]*4/m[1]}var Z=V(V(i,"MasterTrack"),"Automations").children,E=$.OJ();
$.Z.push(E);E.m.Aa=500;E.up("Tempo");var N=$.OJ();$.Z.push(N);N.m.Aa=501;N.up("Time Signature");var h=$.OJ();
$.Z.push(h);h.m.Aa=300;h.up("Lyrics");for(var n=0;n<Z.length;n++){var j5=Z[n];if(P(j5,"Type")!="Tempo")continue;
var r=P(j5,"Bar",1),l8=parseFloat(P(j5,"Value").split(" ")[0]);E.m.list.push([Y[r]*K,K,11,l8])}for(var n=0;
n<k.length;n++){var R=k[n],bS=R.join("/");if(bS!=aP){N.m.list.push([Y[n]*K,K,12,R]);aP=bS}}var kR=[];
for(var n=0;n<f.length*10;n++)kR.push([]);var j1=[];for(var g=0;g<u.length;g++){var f6=u[g],gx=P(f6,"Bars").split(" ").map(parseFloat),lC=Math.min(gx.length,f.length);
for(var g2=0;g2<gx.length;g2++){var m=L[g2];if(m==-1)continue;var r=l[gx[g2]],dv=P(r,"SimileMark");if(dv=="Simple")r=j1[g2];
else j1[g2]=r;var bv=$.Z[m].m.list,eo=P(r,"Voices").split(" ").map(parseFloat);for(var aL=0;aL<eo.length;
aL++){if(eo[aL]==-1)continue;var dh=I[eo[aL]],eM=P(dh,"Beats").split(" ").map(parseFloat),kg=0;for(var jJ=0;
jJ<eM.length;jJ++){var iL=Q[eM[jJ]],bz=P(iL,"Notes"),ks=V(iL,"Lyrics"),gr=V(iL,"Rhythm").getAttribute("ref"),hg=P(iL,"Dynamic"),ci={P:.2,MP:.4,MF:.6,F:.8,FF:.9,FFF:1}[hg];
if(ci==null)throw hg;if(ks){var ks=ks.children[0].textContent.trim();if(ks!="")h.m.list.push([Y[g]*K+kg,100,7,ks])}var fK=p[gr],jN=P(fK,"NoteValue"),dD=V(fK,"PrimaryTuplet"),eF=V(fK,"AugmentationDot")!=null,io={Whole:0,Half:1,Quarter:2,Eighth:3,"16th":4,"32nd":5}[jN];
if(io==null)throw jN;io=(K*4>>>io)*(eF?1.5:1);if(dD){var la=parseFloat(dD.getAttribute("num")),e9=parseFloat(dD.getAttribute("den"));
io=Math.round(io*e9/la);if(eF)throw"e"}if(bz==null){kg+=io;continue}bz=bz.split(" ").map(parseFloat);
for(var gM=0;gM<bz.length;gM++){var j7=V(b[bz[gM]],"Properties").children,cI=V(b[bz[gM]],"Tie"),dL=parseFloat(j7[0].textContent),cf=parseFloat(j7[1].textContent),jA=0,gI=j7[0].getAttribute("name");
if(gI=="Tone"){jA=(cf-1)*12+dL}else if(gI=="Element"){if(cf==1)continue;var fM=[[0],[3,null,2],null,null,null,[14],null,[10],[12],[15],[7,null,11],[9],[14],[22],[20],[16]][dL][cf];
if(fM==null)throw"e";jA=35+fM}else if(gI=="String")jA=(d[m]?d[m]:[38,43,48,53,57,62])[dL]+cf;else throw gI;
if(cI&&cI.getAttribute("destination")=="true"){kR[m][jA][1]+=io}else{var a7=kR[m][jA]=[Y[g]*K+kg,io,jA,Math.round(ci*128)];
bv.push(a7)}}kg+=io}}}}if(h.m.list.length==0)$.Z.pop();$.Uk()}function V(hE,M){for(var n=0;n<hE.children.length;
n++){var $=hE.children[n];if($.tagName==M)return $}}function P(hE,M,$){var U=V(hE,M);if(U==null)return null;
var o=U.textContent;return $?parseFloat(o):o}function D(z){var M={},$=4096,U=4+$;while(U+3<z.length){var o=y.iM(z,U);
if(o===2){var t=4,i=0,X=0,f=0;while(z[U+t]!=0)t++;var c=y.JU(z,U+4,t-4),H=y.iM(z,U+140),F=U+148,K=M[c]=new Uint8Array(H);
while(!0){i=y.iM(z,F+4*X++);if(i!=0){U=4+i*$;if(!0){K.set(new Uint8Array(z.buffer,U,Math.min($,H-f)),f);
f+=$}}else break}}U+=$}return M}function B(){var M=z[q>>>3],$=M>>>7-(q&7)&1;q++;return $}function A(hE){var M=0;
for(var n=0;n<hE;n++)M=M<<1|B();return M}function s(hE){var M=0;for(var n=0;n<hE;n++)M=M|B()<<n;return M}function a(M){z=M;
var $=y.iM(z,4),U=[],o=z.length*8;q=8*8;while(q<o){if(B()==0){var t=s(2);for(var n=0;n<t;n++)U.push(A(8))}else{var c=A(4),H=s(c),F=s(c),i=U.length-H;
for(var n=0;n<F;n++)U.push(U[i+n])}}return new Uint8Array(U)}return e}();hZ.wx={};hZ.wx.k2=!0;hZ.wx.n7=[1,25,200,81,30,33,88,100,1,61,58,41,43,84,81,82,88,7,46,14,46,115,105,74,65,4,11,39,20,37,51,200,27,108,12,29,200,1,31,200,200,1,200,1,43,43,41,45,33,28,61,58,81,200,33,81,39,51,28,53,200,57];
hZ.wx.a3i="Elec. Piano (Classic),Acoustic Gtr (Classic),Drum Kit,Smooth Synth (Classic),Electric Guitar,Bass Guitar (Classic),Synth Pluck,Scifi,Grand Piano (Classic),French Horn (Classic),Trombone (Classic),Violin (Classic),Cello (Classic),8-Bit Sine,8-Bit Square,8-Bit Sawtooth,8-Bit Triangle,Harpsichord,Concert Harp,Xylophone,Pizzicato,Steel Drums,Sitar,Flute,Saxophone,Ragtime Piano,Music Box,Synth Bass (Classic),Church Organ,Slap Bass,Pop Synth (Classic),Electric Drum Kit,Jazz Guitar,Koto,Vibraphone,Muted E-Guitar,808 Drum Kit,808 Bass,Dist. Guitar (Classic),8-Bit Drum Kit,2013 Drum Kit,Grand Piano,909 Drum Kit,Electric Piano,Distortion Guitar,Cello,Violin,Strings,Bass,Clean Guitar,French Horn,Trombone,Smooth Synth,2023 Drum Kit,Bass Guitar,Synthesizer,Synth Bass,Pop Synth,Acoustic Guitar,Lucent Choir,EDM Kit (E),Brass".split(",");
hZ.wx.aKq=[35,36,36,39,39,38,40,31,42,46,55,41,45,48,47,56,50,32];hZ.wx.aoe=[35,40,42,38,38,52];hZ.wx.aG4=[35,36,38,40,40,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,49,59,53,40,57,40];
hZ.wx.acJ=[35,36,36,40,40,38,45,47,47,48,50,50,37,39,42,42,46,46,49,51];hZ.wx.ai_=[31,35,36,36,36,36,37,38,40,40,40,40,41,45,50,43,47,48,50,46,44,42,49,57,57,51,59,53,53,55,55,52,54,83,34,80,60,61,62,63,64,65,66,67,68,45,50,45,38,37,68,67,76,77,50,50,50,50,50,50,86,86,86,58,84,56,56,56,27,77,76,75];
hZ.wx.EY=function(z,q){var e=new Uint8Array(z),V=hZ.wx.atA(e,0,hZ.wx.scheme,"Sequence"),P=q.m.rU,D=V.settings,B=D?D.instrMap:[],A=V.note,s=V.marker,o=1;
if(B==null)B=[];var a={};for(var n=0;n<B.length;n++){var M=B[n].id,$=B[n].value;a[M]=$}if(D)q.m.Ul=D.bpm;
var U={};for(var n=0;n<A.length;n++){var t=A[n],B=t.instrument;if(B==null)B=43;var c=a[B],H=B%100,F=t.time;
if(F==null)F=0;var i=t.volume;if(i==null||isNaN(i))i=0;i=Math.min(i,1);if(U[B]==null){var X=U[B]=q.OJ();
q.Z.push(X);var K=hZ.wx.n7[H];if(K==null)K=1;X.m.Aa=K==200?200:K-1;if(c&&c.volume!=null)X.m.volume=Math.min(1,c.volume);
var f=hZ.wx.a3i[H];X.up((f?f:"Track")+" "+B)}var X=U[B],d=t.type;if(H==31)d+=0;else if(H==36)d=hZ.wx.aKq[d-27];
else if(H==39)d=hZ.wx.aoe[d-31];else if(H==40)d=hZ.wx.aG4[d-31];else if(H==42)d=hZ.wx.acJ[d-27];else if(H==53)d=hZ.wx.ai_[d-24];
else if([6,13,14,15,16,52,55,59].indexOf(H)!=-1)d+=12;if(d==null){d=t.type;i=0}if(c&&c.detune!=null&&X.m.Aa!=200)d+=Math.round(c.detune/100);
X.m.list.push([Math.round(F*P/4),Math.round(t.length*P/4),d,Math.round(i*127)])}var L=q.OJ();q.Z.push(L);
L.m.Aa=500;L.up("Tempo");L.m.list.push([0,P,11,q.m.Ul]);if(s)for(var n=0;n<s.length;n++){var G=s[n],x=G.setting;
if(x==null)L.m.list.push([Math.round(G.time*P/4),q.m.rU,11,G.value])}console.log(V);q.Uk()};hZ.wx.scheme={Sequence:{1:["SeqSettings","settings",0],2:["Note","note",1],3:["Marker","marker",1]},SeqSettings:{1:["int64","bpm",0],2:["int64","tSign",0],3:["InsMap","instrMap",1],4:["float","oneMinVol",0]},InsMap:{1:["int64","id",0],2:["InsSettings","value",0]},InsSettings:{1:["float","volume",0],2:["int64","delay",0],3:["int64","reverb",0],4:["float","pan",0],5:["int64","enableEq",0],6:["float","eqLow",0],7:["float","eqMid",0],8:["float","eqHihg",0],9:["float","detune",0],10:["int64","reverbType",0],11:["float","iRevVol",0],12:["int64","distortT",0],13:["float","distVol",0],14:["Synth","synth",0],15:["string","name",0],17:["int64","color",0],18:["int64","bitcrusher",0],19:["int64","bitcrDepth",0],20:["float","bitcrLevel",0]},Synth:{1:["int64","type",0],2:["Envelope","volEnv",0],3:["Envelope","fltEnv",0],4:["float","filter",0],5:["float","resonance",0],6:["int64","filterType",0],7:["int64","lfoEnabled",0],8:["int64","lfoType",0],9:["float","lfoFreq",0],10:["float","lfoLevel",0],11:["int64","lfoTarget",0]},Envelope:{1:["int64","enabled",0],2:["float","attack",0],3:["float","hold",0],4:["float","decay",0],5:["float","sustain",0],6:["float","release",0]},Note:{1:["int64","type",0],2:["float","time",0],3:["float","length",0],4:["int64","instrument",0],5:["float","volume",0]},Marker:{1:["float","time",0],2:["int64","setting",0],3:["int64","instrument",0],4:["float","value",0],5:["int64","blend",0]}};
hZ.wx.aqk=function(z,q,e){var V="";for(var n=0;n<e;n++)V+=String.fromCharCode(z[q+n]);return V};hZ.wx.atA=function(z,q,e,V){var P=0,D=function(L){var hE=0,n=0;
while(L[P]>127){hE=hE|(L[P]&127)<<n*7;P++;n++}hE=hE|(L[P]&127)<<n*7;P++;return hE},B=hZ.wx.aqk,A=e[V],a="";
if(A==null)throw V;var s={};for(var n=0;n<q;n++)a+="    ";while(P<z.length){var M=D(z),$=M&7,U=M>>>3,o=A[U],H=null;
if(o==null){console.log(V,U);console.log(s);throw"e"}var t=o[0],c=o[1];if(!1){}else if($==0){H=D(z)}else if($==1){P+=8}else if($==2){var F=D(z),i=t[0].toUpperCase(),X=t[0].toLowerCase();
if(t=="string")H=B(z,P,F);else if(t=="bytes")H=new Uint8Array(z.buffer,z.byteOffset+P,F);else if(t=="float")H=new Float32Array(z.slice(P,P+F).buffer);
else if(t=="double")H=new Float64Array(z.slice(P,P+F).buffer);else if(t=="int64"){H=[];var f=P;while(P-f<F)H.push(D(z));
P=f}else if(t[0]==i&&X!=i){var d=new Uint8Array(z.buffer,z.byteOffset+P,F);H=hZ.wx.atA(d,q+1,e,t)}else throw o+" of "+V;
P+=F}else if($==5){if(t=="float")H=new Float32Array(z.slice(P,P+4).buffer)[0];else throw o;P+=4}else{console.log(V,$,U);
throw o}if(o[2]==0)s[c]=H;else{if(s[c]==null)s[c]=[];s[c].push(H)}}return s};hZ.Xj={};hZ.Xj.k2=!0;hZ.Xj.EY=function(){function z(s,a,M){var $=new Uint8Array(s),v=0;
if($[0]==15){var U=$,o=1,t=y.JU(U,o,8);o+=8;console.log(t);o++;var c=y.vQ(U,o);o+=4;console.log(c.toString(16));
var H=y.vQ(U,o);o+=4;console.log(H.toString(16));var F=y.vQ(U,o);o+=4;console.log(F.toString(16));var i=y.vQ(U,o);
o+=4;console.log(i.toString(16));throw"Sibelius"}else if(y.JU($,0,5)!="<?xml"){var X=UZIP.parse(s),K=0;
for(var f in X)if(f.endsWith("mscx")&&X[f].length>K){$=X[f];K=$.length}}var d=y.vK($,0,$.length),L=new DOMParser,G=L.parseFromString(d,"image/svg+xml").firstChild,c=Math.floor(parseFloat(G.getAttribute("version"))),x=c<=1?G:B(G,"Score");
console.log("version:",c);var O=e(x,c);for(var C=0;C<O.g2.length;C++){var S=O.g2[C];for(var j=0;j<S.fQ.length;
j++){var w=O.fQ[v+j][0].mk[0],u=w[0];if(u.L=="Clef"){S.fQ[j].Xt=u.u;w.shift();j--}}v+=S.fQ.length}console.log(O);
gs.$X(O,a)}function q(s){var a={G:0,F:-12,C3:-6,G8vb:-7,F8vb:-19,PERC:-17}[s];if(a==null)throw s;return a}function e(s,a){var M={fQ:[],g2:[],Pr:[]},$=0;
for(var U=0;U<s.children.length;U++){var o=s.children[U],t=o.tagName;if(t=="Part"){var c=o,H={fQ:[],Aa:0,ub:0};
M.g2.push(H);for(var n=0;n<c.children.length;n++){var F=c.children[n],i=F.tagName;if(i=="Staff"){var X=A(F,"defaultClef");
if(X==null)X=A(F,"defaultTransposingClef");if(X==null){var K=F.getElementsByTagName("clef")[0];if(K){var f=K.getAttribute("idx");
if(f==null)f=K.textContent;X={"0":"G","4":"F"}[f];if(X==null)throw"e"}}if(X==null)X="G";var d={Xt:q(X),a3H:!0};
H.fQ.push(d);var L=F.getElementsByTagName("invisible")[0];if(L&&L.textContent=="1")d.a3H=!1}else if(i=="Instrument"){H.Aa=parseFloat(F.getElementsByTagName("program")[0].getAttribute("value"));
H.Q7=A(F,"trackName");if(H.Q7=="")H.Q7=A(c,"trackName");var G=A(F,"transposeChromatic",!0);if(G!=null)H.ub=G}}}else if(t=="Staff"){var x=o,d=[];
M.fQ.push(d);var O={};for(var v=0;v<x.children.length;v++){var C=x.children[v],S={L:C.tagName};d.push(S);
if(C.tagName=="VBox"){S.xX=[];M.Pr.push(S);for(var j=0;j<C.children.length;j++){var w=C.children[j];
if(w.tagName=="Text"){var u={L$:A(w,"style").toLowerCase(),BY:A(w,"text")};S.xX.push(u);if(u.L$.length==1){u.L$=A(w,"subtype").toLowerCase();
u.BY=A(w,"html-data");var l=u.BY.length-11,I=l;while(u.BY[I-1]!="\n")I--;u.BY=u.BY.slice(I,l)}}}d.pop()}else if(C.tagName=="Measure"){var Q=C.getAttribute("len");
if(Q)S.Z7=Q.split("/").map(parseFloat);S.mk=[];var b=C.children;if(a<=2)b=V(C.children,d.length-1);for(var p=0;
p<b.length;p++){var k=b[p],i=k.tagName,g=[];if(i=="voice")S.mk.push(g);if(i=="eid"){}else if(i=="LayoutBreak"){}else if(i=="vspacerUp"){}else if(i=="vspacerDown"){}else if(i=="vspacerFixed"){}else if(i=="startRepeat"){}else if(i=="endRepeat"){}else if(i=="noOffset"){}else if(i=="irregular"){}else if(i=="MeasureNumber"){}else if(i=="multiMeasureRest"){}else if(i=="voice"){for(var Y=0;
Y<k.children.length;Y++){var F=k.children[Y],R=F.tagName,m={L:R};g.push(m);if(R=="Clef"){m.u=q(A(F,"concertClefType"))}else if(R=="KeySig"){var Z=A(F,"concertKey",!0);
if(Z==null)Z=A(F,"concertKey",!0);if(Z==null)Z=A(F,"accidental",!0);m.u=Z}else if(R=="Tempo")m.u=60*A(F,"tempo",!0);
else if(R=="TimeSig")m.u=a<=1?[A(F,"nom1",!0),A(F,"den",!0)]:[A(F,"sigN",!0),A(F,"sigD",!0)];else if(R=="Rest")P(F,m);
else if(R=="Chord"){P(F,m);m.u=[];for(var n=0;n<F.children.length;n++){var E=F.children[n];if(E.tagName=="Note"){var N={Wo:A(E,"pitch",!0),PK:A(E,"velocity",!0),auB:A(E,"head")};
if(N.PK<0)N.PK=127+N.PK;N.i9=O[N.Wo];O[N.Wo]=!1;O[N.Wo]=E.getElementsByTagName("Tie").length!=0;if(N.PK==null)N.PK=127;
if(A(E,"play",!0)==0)N.PK=0;m.u.push(N)}else if(E.tagName=="appoggiatura"){m.eP=!0}else if(E.tagName=="acciaccatura"){m.aw=!0}}}else if(R=="Harmony"){var h=F.getElementsByTagName("harmonyInfo")[0];
if(h==null)h=F;m.gV=A(h,"root",!0);m.Q7=A(h,"name");m.awB=A(h,"base",!0)}else if(R=="location"){m.u=D(F,m)}else if(R=="Beam"){g.pop()}else if(R=="BarLine"){}else if(R=="Dynamic"){}else if(R=="Spanner"){}else if(R=="Fermata"){}else if(R=="Segment"){}else if(R=="StaffText")m.u=A(F,"text");
else if(R=="RehearsalMark")m.u=A(F,"text");else if(R=="Text"){}else if(R=="irregular"){}else if(R=="breakMultiMeasureRest"){}else if(R=="endSpanner"){}else if(R=="Symbol"){}else if(R=="Slur"){}else if(R=="tick"){}else if(R=="Tuplet"){m.u=[A(F,"normalNotes",!0),A(F,"actualNotes",!0)]}else if(R=="startTuplet"){}else if(R=="endTuplet"){}else if(R=="Trill"){}else if(R=="HairPin"){}else if(R=="Volta"){}else if(R=="Pedal"){}else if(R=="Ottava"){}else if(R=="stretch"){}else{console.log(F);
throw R}}}else throw i}}}}}return M}function V(s,a){var M=[],$=[];M.push($);for(var n=0;n<s.length;n++){var U=s[n],o=U.tagName;
if(o=="tick"){$=[];M.push($);var t=parseFloat(U.textContent)/1920,c=Math.round((t-a)*16);if(c!=0)$.push({tagName:"location",children:[{tagName:"fractions",textContent:c+"/16"}]})}else if(o=="stretch"){}else if("LayoutBreak MeasureNumber vspacerUp vspacerDown vspacerFixed startRepeat endRepeat noOffset".split(" ").indexOf(o)==-1)$.push(U)}var H=[];
for(var n=0;n<M.length;n++)H.push({tagName:"voice",children:M[n]});return H}function P(s,a){var M=A(s,"durationType"),$=A(s,"dots",!0);
a.OB={long:0,whole:0,half:1,quarter:2,eighth:3,"16th":4,"32nd":5,measure:0}[M];if(a.OB==null)throw M;
a.Gp=$==null?0:$}function D(s){var a=A(s,"measures",!0),M=A(s,"fractions"),$=a==null?0:a;if(M){var U=M.split("/").map(parseFloat);
$+=U[0]/U[1]}return $}function B(hE,s,a){for(var n=0;n<hE.children.length;n++){var M=hE.children[n];
if(M.tagName==s)if(a==null||M.getAttribute("id")==a)return M}}function A(hE,s,a){var M=B(hE,s);if(M==null)return null;
var $=M.textContent;return a?parseFloat($):$}return z}();hZ.NM={};hZ.NM.EY=function(){function z(q){var e=new Uint8Array(q),V=aI.iA(q),P=y.iJ,D=y.iM,B,A;
for(var n=0;n<V.sub.length;n++){var s=V.sub[n];if(s.PP=="fmt ")B=s;if(s.PP=="data")A=s}var a=B.g,B=P(e,a);
a+=2;if(B!=1)throw B;var M=P(e,a);a+=2;var $=D(e,a);a+=4;var U=D(e,a);a+=4;var o=P(e,a);a+=2;var t=P(e,a);
a+=2;if(t!=16)throw t;a=A.g;var c=Math.round(A.size/(M*2)),H=[],F=new Int16Array(q,a);for(var i=0;i<M;
i++){var X=new Int16Array(c);H.push(X);for(var n=0;n<c;n++)X[n]=F[n*M+i]}var K={pw:$,kv:H};return K}return z}();
hZ.NM.gB=function(z){var q=z.kv,e=q.length,V=q[0].length,P=y.Wd,D=y.pS,B=y.tl,A=new Uint8Array(44+e*V*2),s=0;
P(A,s,"RIFF");s+=4;D(A,s,A.length-8);s+=4;P(A,s,"WAVE");s+=4;P(A,s,"fmt ");s+=4;D(A,s,16);s+=4;B(A,s,1);
s+=2;B(A,s,e);s+=2;D(A,s,z.pw);s+=4;D(A,s,z.pw*e*2);s+=4;B(A,s,e*2);s+=2;B(A,s,16);s+=2;P(A,s,"data");
s+=4;D(A,s,V*e*2);s+=4;var a=new Int16Array(A.buffer,s);for(var M=0;M<e;M++){var $=q[M];for(var n=0;
n<V;n++)a[n*e+M]=$[n]}return A.buffer};hZ.aF0=function(){function z(i){var X=new Uint8Array(i),K=0,f=y.JU(X,K,4),L=0,O=0;
K+=4;var d=y.vQ(X,K);K+=4;var G=X[8],x=[];for(var n=0;n<G;n++)x.push(new Int16Array(d));while(K<X.length){G=X[K];
L=y.vQ(X,K)&16777215;var v=y.mU(X,K+4),C=y.mU(X,K+6),S=K+C;K+=8;var j=[];for(var n=0;n<G;n++){var w=[];
j.push(w);for(var s=0;s<4;s++)w.push(y.ab(X,K+s*2));K+=8;for(var s=0;s<4;s++)w.push(y.ab(X,K+s*2));K+=8}while(K<S){for(var u=0;
u<G;u++){c(X,K,j[u],x[u],O,K==48);K+=8}O+=20}}var l={pw:L,kv:x};console.log(l);if(window.aIW==null){window.aIW=100}return l}var q=new Uint8Array(20),e=[.75,-.75,2.5,-2.5,4.5,-4.5,7,-7],V=[1,7,21,45,84,138,211,304,421,562,731,928,1157,1419,1715,2048],P=[];
for(var n=0;n<V.length;n++)P[n]=1/V[n];var D=new Uint8Array([7,7,7,5,5,3,3,1,0,0,2,2,4,4,6,6,6]),B=new Int16Array(16*8);
for(var n=0;n<16;n++){var A=V[n];for(var s=0;s<8;s++){var a=A*e[s];B[n*8+s]=a<0?Math.ceil(a-.5):Math.floor(a+.5)}}function M(n,i,X){q[n]=i>>>X&7}function $(i){return i[0]*i[4]+i[1]*i[5]+i[2]*i[6]+i[3]*i[7]>>13}function U(i){return Math.max(-32768,Math.min(i,32767))}function o(i,X,a){var K=a>>4;
i[4]+=i[0]<0?-K:K;i[5]+=i[1]<0?-K:K;i[6]+=i[2]<0?-K:K;i[7]+=i[3]<0?-K:K;i[0]=i[1];i[1]=i[2];i[2]=i[3];
i[3]=X}function t(i){var X=(i[4]*i[4]+i[5]*i[5]+i[6]*i[6]+i[7]*i[7]>>16)-2303;return X<0?0:X*X}function c(i,X,K,f,d,L){var G=y.mU(i,X),x=y.vQ(i,X+1),O=y.vQ(i,X+4),v=G>>>12;
M(0,G,9);M(1,G,6);M(2,G,3);M(3,G,0);for(var n=0;n<8;n++){M(4+n,x,21-n*3);M(12+n,O,21-n*3)}for(var C=0;
C<20;C++){var a=B[v*8+q[C]],S=$(K),j=f[d+C]=U(S+a);o(K,j,a)}}function H(i,X,K,f,d){var L=1e9,G=0,x,O,g=0,Y=0;
for(var v=0;v<17;v++){x=0;O=K;A=G;if(v!=16){O=K.slice(0);A=v}for(var C=0;C<20&&x<=L;C++){var S=f[d+C],j=$(O),w=S-j,u=Math.round(w*P[A]),l=Math.max(-8,Math.min(8,u)),I=q[C]=D[l+8],Q=B[(A<<3)+I],b=U(j+Q);
o(O,b,Q);var p=S-b;x+=p*p}if(x<=L){L=x;G=A}}var k=G<<12|q[0]<<9|q[1]<<6|q[2]<<3|q[3]<<0;for(var n=0;
n<8;n++){g|=q[4+n]<<21-n*3;Y|=q[12+n]<<21-n*3}y.lt(i,X+4,Y);y.lt(i,X+1,g);y.NX(i,X+0,k)}function F(i){var X=i.kv,K=i.kv[0].length,f=i.kv.length,d=new k7,L=0,G=0;
y.QQ(d,L,"qoaf");L+=4;y.Ri(d,L,K);L+=4;var x=[];for(var n=0;n<f;n++)x.push([0,0,0,0,0,0,-8192,16384]);
while(G<K){var O=20*Math.min(256,Math.ceil((K-G)/20));y.Ri(d,L,i.pw);d.data[L]=f;L+=4;y.jK(d,L,O);L+=2;
y.jK(d,L,8+f*(16+Math.round(8*O/20)));L+=2;for(var n=0;n<f;n++){var v=x[n];for(var s=0;s<4;s++)y.xa(d,L+s*2,v[s]);
L+=8;for(var s=0;s<4;s++)y.xa(d,L+s*2,v[s+4]);L+=8}var C=G+O;while(G<C){d.iU(L,f*8);for(var S=0;S<f;
S++){H(d.data,L,x[S],X[S],G);L+=8}G+=20}}var j=d.data.slice(0,L);return j.buffer}return{EY:z,gB:F}}();
var ee={};ee.$x=!1;ee.a4H=!1;ee.bT=!1;ee.TX=document.createElement("canvas");ee.YI=null;ee.zq=null;ee.C3=0;
(function(){var z={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},q;if(!q)q=ee.TX.getContext("webgl2",z);
if(q){ee.$x=!0;ee.a4H=!0;ee.YI=q;ee.zq=q.createFramebuffer();q.bindFramebuffer(q.FRAMEBUFFER,ee.zq);
q.disable(q.BLEND);q.disable(q.DEPTH_TEST);var e=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,e);q.bufferData(q.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),q.STATIC_DRAW);
q.enableVertexAttribArray(0);q.vertexAttribPointer(0,2,q.FLOAT,!1,0,0)}}());ee.aaW=function(z){z=z.replace(/\s\s+/g," ");
z=z.replace(/; /g,";");z=z.replace(/} /g,"}");z=z.replace(/ }/g,"}");z=z.replace(/{ /g,"{");z=z.replace(/ {/g,"{");
z=z.replace(/= /g,"=");z=z.replace(/ =/g,"=");z=z.replace(/\| /g,"|");z=z.replace(/ \|/g,"|");return z};
ee.hD=function(z,q){var e=ee.YI;if(z>e.getParameter(e.MAX_TEXTURE_SIZE)){ee.$x=!1;alert("Too big texture ("+z+" px), Disabling WebGL")}if(q==16&&e.getExtension("EXT_texture_norm16")==null){ee.$x=!1;
alert("EXT_texture_norm16 missing, Disabling WebGL")}};ee.cJ=function(z,q){return new Float32Array([(z.x-q.x)/q.s,(z.y-q.y)/q.T,z.s/q.s,z.T/q.T])};
ee.Hx=function(){return this.TX};ee.k$=function(z,q){var e=ee.YI;e.bindFramebuffer(e.FRAMEBUFFER,ee.zq);
e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,z.nj,0);e.viewport(0,0,z.s,z.T);
if(q){e.enable(e.SCISSOR_TEST);e.scissor(q.x,q.y,q.s,q.T)}else e.disable(e.SCISSOR_TEST)};ee.aIA=function(z,q,e){if(e)throw"error";
var V=ee.YI;V.disable(V.SCISSOR_TEST);V.bindFramebuffer(V.FRAMEBUFFER,null);V.viewport(0,0,z,q);if(e){V.enable(V.SCISSOR_TEST);
V.scissor(e.x,e.y,Math.round(e.s),Math.round(e.T))}else V.disable(V.SCISSOR_TEST)};ee.q3=function(){var z=ee.YI;
z.colorMask(!1,!1,!1,!0);ee.sm(255<<24);z.colorMask(!0,!0,!0,!0)};ee.sm=function(z){var q=ee.YI,e=(z>>>0&255)*(1/255),V=(z>>>8&255)*(1/255),P=(z>>>16&255)*(1/255),D=(z>>>24&255)*(1/255);
q.clearColor(e,V,P,D);q.clear(q.COLOR_BUFFER_BIT)};ee.Fk=function(z,q,e,V,P){var D=q.HX(V);if(P)D=D.HX(P);
if(D.a8())return;var B=ee.YI;ee.k$(z);B.bindTexture(B.TEXTURE_2D,e.nj);B.copyTexSubImage2D(B.TEXTURE_2D,0,D.x-V.x,D.y-V.y,D.x-q.x,D.y-q.y,D.s,D.T)};
ee.xu=function(n,z,q,e){if(e==null)e=8;var V=ee.aqS[n];if(V==null||V.s!=z||V.T!=q||V.depth!=e){if(V)V.delete();
V=new ee.ZU(z,q,e)}ee.aqS[n]=V;return V};ee.aqS=[];ee.Qd=function(){this.aw6=null;this.dO=null};ee.Qd.Mj=null;
ee.Qd.prototype.sS=function(z){if(this.dO)return;this.dO={};var q=ee.YI,e=this.aw6,V=this.dO;for(var n=0;
n<z.length;n++){var P=z[n];V[P]=q.getUniformLocation(e,P)}};ee.Qd.prototype.kA=function(){};ee.Qd.prototype.Af=function(z){var q=ee.YI;
for(var n=0;n<z.length;n+=2){q.uniform1i(z[n],n>>>1);q.activeTexture(q["TEXTURE"+(n>>>1)]);q.bindTexture(q.TEXTURE_2D,z[n+1])}q.activeTexture(q.TEXTURE0)};
ee.Qd.prototype.zc=function(z,q){var e=ee.YI,V=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(V,z);
e.compileShader(V);if(!e.getShaderParameter(V,e.COMPILE_STATUS))console.log(e.getShaderInfoLog(V));var P=e.createShader(e.VERTEX_SHADER);
e.shaderSource(P,q);e.compileShader(P);if(!e.getShaderParameter(P,e.COMPILE_STATUS))console.log(e.getShaderInfoLog(P));
var D=e.createProgram();e.attachShader(D,P);e.attachShader(D,V);e.linkProgram(D);if(!e.getProgramParameter(D,e.LINK_STATUS))console.log("Could not initialise shaders");
this.aw6=D};ee.Qd.prototype.zU=function(){if(ee.Qd.Mj!=this){ee.YI.useProgram(this.aw6);ee.Qd.Mj=this}};
ee.YD=function(z,q,e){ee.r2++;ee.C3+=z*q;if(ee.bT)console.log("GL.Channels instances: "+ee.r2+", memory: "+ee.C3);
var V=ee.YI;this.s=z;this.T=q;if(e==null)e=8;if(e==16){V.getExtension("EXT_texture_norm16")}this.depth=e;
this.rM=e==8?V.R8:e==16?33322:V.R32F;this.mi=e==8?V.RED:e==16?V.RED:V.RED;this.md=e==8?V.UNSIGNED_BYTE:e==16?V.UNSIGNED_SHORT:V.FLOAT;
this.nj=V.createTexture();this.kn=null;this.Bk(this.nj,z,q)};ee.YD.prototype.Bk=function(z,q,e){var V=ee.YI;
V.bindTexture(V.TEXTURE_2D,z);V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MIN_FILTER,V.NEAREST);V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MAG_FILTER,V.NEAREST);
V.texParameteri(V.TEXTURE_2D,V.TEXTURE_WRAP_S,V.CLAMP_TO_EDGE);V.texParameteri(V.TEXTURE_2D,V.TEXTURE_WRAP_T,V.CLAMP_TO_EDGE);
V.texImage2D(V.TEXTURE_2D,0,this.rM,q,e,0,this.mi,this.md,null)};ee.YD.prototype.set=function(z,q){var e=ee.YI;
e.bindTexture(e.TEXTURE_2D,this.nj);e.pixelStorei(e.UNPACK_ALIGNMENT,1);var V=this.s*this.T;if(q==null||q.D()*10>V)e.texImage2D(e.TEXTURE_2D,0,this.rM,this.s,this.T,0,this.mi,this.md,z);
else{var P=new kk(0,0,this.s,this.T),D=T.n(q.D(),this.depth);T.KY(z,P,D,q);e.texSubImage2D(e.TEXTURE_2D,0,q.x,q.y,q.s,q.T,this.mi,this.md,D)}e.pixelStorei(e.UNPACK_ALIGNMENT,4)};
ee.YD.prototype.delete=function(){var z=ee.YI;if(this.nj){z.deleteTexture(this.nj);ee.r2--;ee.C3-=this.s*this.T}if(ee.bT)if(ee.bT)console.log("GL.Channels instances: "+ee.r2+", memory: "+ee.C3*4)};
ee.r2=0;ee.ZU=function(z,q,e,V){if(e==null)e=8;if(V==null)V=!1;ee.r2++;ee.C3+=z*q*4;if(ee.bT)console.log("GL.Channels instances: "+ee.r2+", memory: "+ee.C3);
var P=ee.YI;if(e==16){P.getExtension("EXT_texture_norm16")}if(e==32){P.getExtension("EXT_color_buffer_float");
if(P.getExtension("OES_texture_float_linear")==null)V=!1}this.aLY=V;this.s=z;this.T=q;this.depth=e;this.rM=e==8?P.RGBA:e==16?32859:e==32?P.RGBA32F:P.RGBA16F;
this.mi=e==8?P.RGBA:e==16?P.RGBA:P.RGBA;this.md=e==8?P.UNSIGNED_BYTE:e==16?P.UNSIGNED_SHORT:P.FLOAT;
this.nj=P.createTexture();this.kn=null;this.Bk(this.nj,z,q)};ee.se=function(){var z=ee.YI;return z.getExtension("OES_texture_float_linear")?32:33};
ee.ZU.prototype.set=function(z,q){var e=ee.YI;e.disable(e.SCISSOR_TEST);e.bindTexture(e.TEXTURE_2D,this.nj);
if(z==null||z instanceof Uint8Array||z instanceof Uint16Array||z instanceof Float32Array){var V=this.s,P=this.T,D=V*P;
if((q==null||q.D()*10>D)&&(z==null||z.length>=D*4))e.texImage2D(e.TEXTURE_2D,0,this.rM,V,P,0,this.mi,this.md,z);
else{var B=z;if(z.length==D*4){var B=T.n(q.D()*4,this.depth);T.aF(z,new kk(0,0,V,P),B,q)}e.texSubImage2D(e.TEXTURE_2D,0,q.x,q.y,q.s,q.T,this.mi,this.md,B)}}else e.texImage2D(e.TEXTURE_2D,0,this.rM,this.mi,this.md,z)};
ee.ZU.prototype.get=function(z){var q=ee.YI;ee.k$(this);q.readPixels(0,0,this.s,this.T,this.mi,this.md,z)};
ee.ZU.prototype.Nd=function(z){if(z.a8())return;var q=ee.YI;if(this.kn==null){this.kn=q.createTexture();
this.Bk(this.kn,this.s,this.T);ee.r2++;ee.C3+=this.s*this.T*4}q.bindFramebuffer(q.FRAMEBUFFER,ee.zq);
q.bindTexture(q.TEXTURE_2D,this.kn);if(z){var e=Math.max(z.x,0),V=Math.max(z.y,0);q.copyTexSubImage2D(q.TEXTURE_2D,0,e,V,e,V,z.s,z.T)}else q.copyTexImage2D(q.TEXTURE_2D,0,this.mi,0,0,this.s,this.T,0)};
ee.ZU.prototype.Bk=function(z,q,e){var V=ee.YI;V.bindTexture(V.TEXTURE_2D,z);V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MIN_FILTER,this.aLY?V.LINEAR:V.NEAREST);
V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MAG_FILTER,V.NEAREST);V.texParameteri(V.TEXTURE_2D,V.TEXTURE_WRAP_S,V.CLAMP_TO_EDGE);
V.texParameteri(V.TEXTURE_2D,V.TEXTURE_WRAP_T,V.CLAMP_TO_EDGE);V.texImage2D(V.TEXTURE_2D,0,this.rM,q,e,0,this.mi,this.md,null)};
ee.ZU.prototype.delete=function(){var z=ee.YI;if(this.nj){z.deleteTexture(this.nj);ee.r2--;ee.C3-=this.s*this.T*4}if(this.kn){z.deleteTexture(this.kn);
ee.r2--;ee.C3-=this.s*this.T*4}if(ee.bT)if(ee.bT)console.log("GL.Channels instances: "+ee.r2+", memory: "+ee.C3)};
ee.ZU.prototype.Y=function(){var z=ee.YI,q=new ee.ZU(this.s,this.T);ee.k$(this);z.bindTexture(z.TEXTURE_2D,q.nj);
z.copyTexImage2D(z.TEXTURE_2D,0,this.mi,0,0,this.s,this.T,0);return q};ee.Po={a8g:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",aed:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",gn:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",dy:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",aaj:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",WC:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",w5:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",Tj:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a6a:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",lZ:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",aNc:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",nS:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",j8:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",ND:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",Yy:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",XF:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Pw:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",mj:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",aFN:"\t\tfloat srgbGamma(float x) {\t\t\treturn x < 0.0031308 ? 12.92 * x : 1.055 * pow(x, 1.0 / 2.4) - 0.055;\t\t} \t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}",zw:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",alC:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",at_:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",OS:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",aFB:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
ee.w={};ee.w.yt={};ee.w.aIM=null;ee.w.y1=null;ee.w.bu=null;ee.w.aKy=function(z,q,e,V,P,D,B,A){if(A==null)A=hB.xj();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(z)==-1){B=B*A.fill;A.fill=1;A.style=!1}var s=q instanceof Array,a=z+(A.dJ?"1":"0")+(s?"1":"0");
if(ee.w.yt[a]==null)ee.w.yt[a]=new ee.w.iT(z,A.dJ!=null,s);var M=ee.w.yt[a],$=e.HX(P).HX(D);$.offset(-P.x,-P.y);
if($.a8())return;var U=ee.YI;ee.k$(V,$);V.Nd($);M.zU();M.kA(s?q[1].nj:q.nj,V.kn,ee.cJ(e,P),B,A.fill,A.style?1:0,A.Wl?1:0,A.dJ?new Float32Array(A.dJ):null,s?q[0]:null);
U.drawArrays(U.TRIANGLES,0,6)};ee.w.MT=function(z,q,e,V,P,D,B,A,s,a,M){if(ee.w.a3T==null)ee.w.a3T=new ee.w.xv(!0,!0,1);
if(ee.w.ayd==null)ee.w.ayd=new ee.w.xv(!0,!0,4);if(ee.w.y1==null)ee.w.y1=new ee.w.xv(!0,!1,1);if(ee.w.bu==null)ee.w.bu=new ee.w.xv(!1,!0,1);
var $=a?1:0,U=z?P?P instanceof ee.YD?ee.w.a3T:ee.w.ayd:ee.w.y1:ee.w.bu,o=new Float32Array(M?[M[0],M[1],M[2],1]:[1,1,1,1]),t=q?q.HX(V).HX(A):V.HX(A);
if(t.a8())return;t.offset(-V.x,-V.y);var c=ee.YI;ee.k$(e,t);e.Nd(t);U.zU();if(z==null)U.kA(null,e.kn,P.nj,ee.cJ(V,V),ee.cJ(D,V),B/255,s,$,o);
else if(P)U.kA(z.nj,e.kn,P.nj,ee.cJ(q,V),ee.cJ(D,V),B/255,s,$,o);else U.kA(z.nj,e.kn,null,ee.cJ(q,V),null,B/255,s,$,o);
c.drawArrays(c.TRIANGLES,0,6)};ee.w.ars=function(z,q,e){if(ee.w.a1d==null)ee.w.a1d=new ee.w.cS;var V=ee.w.a1d,P=new kk(0,0,z.s,z.T),D=ee.YI;
ee.k$(q);q.Nd(P);V.zU();V.kA(P,z.nj,q.kn,e.nj);D.drawArrays(D.TRIANGLES,0,6)};ee.w.ps=function(z,q,e,V,P){if(ee.w.acX==null)ee.w.acX=new ee.w.K6;
var D=ee.w.acX,B=q.HX(V).HX(P);if(B.a8())return;B.offset(-V.x,-V.y);var A=ee.YI;ee.k$(e,B);e.Nd(B);D.zU();
D.kA(z.nj,e.kn,ee.cJ(q,V));A.drawArrays(A.TRIANGLES,0,6)};ee.w.AK={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/max(a,vec3(0.000001)), ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
ee.w.iT=function(z,q,e){ee.Qd.call(this);var V="\t\t\tprecision highp float;\t\t\t"+ee.Po.gn+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(e?"uniform vec4 scolor;":"")+"\t\t\t"+(q?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+ee.Po.WC+"\t\t\t"+ee.Po.w5+"\t\t\t"+ee.Po.Tj+"\t\t\t"+ee.Po.a8g+"\t\t\t"+ee.Po.aed+"\t\t\t"+ee.Po.a6a+"\t\t\t"+ee.Po.lZ+"\t\t\t"+ee.Po.aNc+"\t\t\t"+ee.Po.nS+"\t\t\t"+ee.Po.hash+"\t\t\t"+(q?ee.Po.OS:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+ee.w.AK[z]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(e?"scolor; src.a=texture2D(source, sCoord).r;":"texture2D(source, sCoord);"),P="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(z=="diss")V+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else V+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(q?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.zc(V,P)};ee.w.iT.prototype=new ee.Qd;ee.w.iT.prototype.kA=function(z,q,e,V,P,D,B,A,s){this.sS("srct alpha source target fill style keepBGA blIf scolor".split(" "));
var a=ee.YI,M=this.dO;a.uniform4fv(M.srct,e);a.uniform1f(M.alpha,V);a.uniform1f(M.fill,P);a.uniform1f(M.style,D);
a.uniform1f(M.keepBGA,B);if(A)a.uniform4fv(M.blIf,A);if(s){var $=s?1/T.K8(T.Gx(s)):0;a.uniform4fv(M.scolor,new Float32Array([s[0]*$,s[1]*$,s[2]*$,0]))}this.Af([M.source,z,M.target,q])};
ee.w.xv=function(z,q,e){ee.Qd.call(this);this.aB4=z;this.ar1=q;var V="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+ee.Po.j8+"\t\t\t"+ee.Po.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(z?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(q?"* (in01(wCoord) ? texture2D(weight, wCoord)."+(e==1?"r":"a")+" : wcolor)":"")+";\t\t\t\t"+(z?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( ao==0.0 ? vec3(0,0,0) : (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(q?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",P="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.zc(V,P)};ee.w.xv.prototype=new ee.Qd;ee.w.xv.prototype.kA=function(z,q,e,V,P,D,B,A,s){if(this.ar1)this.sS("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.sS("srct awg dissv source target cswitch".split(" "));var a=ee.YI,M=this.dO;a.uniform4fv(M.srct,V);
if(this.ar1){a.uniform4fv(M.wrct,P);a.uniform1f(M.wcolor,D)}else{a.uniform4fv(M.cswitch,s)}a.uniform1f(M.awg,B);
a.uniform1f(M.dissv,A);var $=[M.source,z,M.target,q];if(this.ar1)$.push(M.weight,e);this.Af($)};ee.w.K6=function(){ee.Qd.call(this);
var z="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t"+ee.Po.j8+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tgl_FragColor =  vec4(tgt.rgb, tgt.a*src.a);    \t\t\t}",q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.zc(z,q)};ee.w.K6.prototype=new ee.Qd;ee.w.K6.prototype.kA=function(z,q,e){this.sS(["srct","source","target"]);
var V=ee.YI,P=this.dO;V.uniform4fv(P.srct,e);this.Af([P.source,z,P.target,q])};ee.w.cS=function(){ee.Qd.call(this);
var z="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).r; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.zc(z,q)};ee.w.cS.prototype=new ee.Qd;ee.w.cS.prototype.kA=function(z,q,e,V){this.sS(["rct","prev","next","alpha"]);
var P=ee.YI,D=this.dO;P.uniform4fv(D.rct,[0,0,1,1]);this.Af([D.prev,q,D.next,e,D.alpha,V])};ee.xJ={mL:{},zp:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
ee.xJ.ej=function(z,q,e){var V=aM.jQ,P=[V.ST,V.rE,V.ni,V.g7,V.Uw,V.FJ,V.ie,V.AS].indexOf(z.e),D=z.e+(e?1:0),B=ee.xJ.mL[D];
if(B==null)B=ee.xJ.mL[D]=new ee.mL[P](e);B.zU();B.kA(q,z);ee.YI.drawArrays(ee.YI.TRIANGLES,0,6)};ee.mL=[];
ee.xJ.amI=function(z){return z?ee.Po.aFN+" vec4 SGI(vec4 v) {  return vec4(srgbGamma(v.x),srgbGamma(v.y),srgbGamma(v.z),srgbGamma(v.w));  }  vec4 SGO(vec4 v) {  return vec4(srgbUngamma(v.x),srgbUngamma(v.y),srgbUngamma(v.z),srgbUngamma(v.w));  }   ":"vec4 SGI(vec4 v) {  return v;  }  vec4 SGO(vec4 v) {  return v;  }"};
ee.mL[0]=function(z){ee.Qd.call(this);this.aaC={};var q="\t\t\tprecision highp float;\t\t\t"+ee.Po.w5+"\t\t\t"+ee.Po.gn+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t"+ee.xJ.amI(z)+"\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec4 getC(float x) { \t\t\t\tif(x>1.0) {  \t\t\t\t\tvec4 a = texture2D(map, vec2((254.5/256.0), 0));\t\t\t\t\tvec4 b = texture2D(map, vec2((255.5/256.0), 0));\t\t\t\t\treturn b + (b-a)*(x-1.0)*255.0; \t\t\t\t} \t\t\t\treturn texture2D(map, vec2((0.5/256.0)+x*(255.0/256.0), 0)); \t\t\t}\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = SGI(texture2D(source, sCoord)); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = getC(src.r).r;\t\t\t\tfloat g = getC(src.g).g;\t\t\t\tfloat b = getC(src.b).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = SGO(vec4(col,src.w));\t\t\t\t\t\t\t}";
this.zc(q,ee.xJ.zp)};ee.mL[0].prototype=new ee.Qd;ee.mL[0].prototype.kA=function(z,q){var e={l:q.jS,I:q.df,c:q.Rj,x6:new Float32Array(q.jS.length)};
e.x6.fill(1);var V=e.l.length,P=this.aaC["m"+V];if(P==null)P=this.aaC["m"+V]={abb:new ee.ZU(V,1,ee.se()),Dm:T.n(V*4,32)};
T.cO(e,P.Dm);var D=P.abb;D.set(P.Dm);this.sS(["source","map","toGray","presLum"]);var B=ee.YI,A=this.dO;
B.uniform1f(A.toGray,q._C?1:0);B.uniform1f(A.presLum,q.yZ?1:0);this.Af([A.source,z,A.map,D.nj]);B.activeTexture(B.TEXTURE1);
var s=B.LINEAR;B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,s);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,s);
B.activeTexture(B.TEXTURE0)};ee.mL[1]=function(){ee.Qd.call(this);this.Nb=new ee.ZU(256,1,ee.se());var z="\t\t\t\tprecision highp float;\t\t\t\t"+ee.Po.XF+"\t\t\t\t"+ee.Po.ND+"\t\t\t\t"+ee.Po.Yy+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h+0.0015, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g; \t\t\t\t\tfloat lc = mapv.b; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359*0.5)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.zc(z,ee.xJ.zp)};ee.mL[1].prototype=new ee.Qd;ee.mL[1].prototype.kA=function(z,q){this.Nb.set(q.map);
this.sS(["source","map","cfa","cfb","colorize"]);var e=ee.YI,V=this.dO;e.uniform1f(V.cfa,q.aeV);e.uniform1f(V.cfb,q.aeT);
e.uniform1i(V.colorize,q.ac7);this.Af([V.source,z,V.map,this.Nb.nj]);e.activeTexture(e.TEXTURE1);var P=e.LINEAR;
e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,P);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,P);
e.activeTexture(e.TEXTURE0)};ee.mL[2]=function(){ee.Qd.call(this);var z="\t\t\tprecision mediump float;\t\t\t"+ee.Po.alC+"\t\t\t"+ee.Po.at_+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF * vec3(1.0,1.0+sat,1.0+sat)); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.zc(z,ee.xJ.zp)};ee.mL[2].prototype=new ee.Qd;ee.mL[2].prototype.kA=function(z,q){this.sS(["source","vib","sat","yF"]);
var e=ee.YI,V=this.dO;e.uniform1f(V.vib,q.Lh[0]);e.uniform1f(V.sat,q.Lh[1]);e.uniform3fv(V.yF,new Float32Array([q.Lh[2],q.Lh[3],q.Lh[3]]));
this.Af([V.source,z])};ee.mL[3]=function(){ee.Qd.call(this);var z="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.zc(z,ee.xJ.zp)};ee.mL[3].prototype=new ee.Qd;ee.mL[3].prototype.kA=function(z,q){this.sS(["source","trf"]);
var e=ee.YI,V=this.dO;e.uniformMatrix4fv(V.trf,!1,new Float32Array(T.DB.TL(q.Hn)));this.Af([V.source,z])};
ee.mL[4]=function(){ee.Qd.call(this);var z="\t\t\tprecision mediump float; \t\t\t"+ee.Po.zw+"\t\t\t"+ee.Po.XF+"\t\t\t"+ee.Po.Yy+"\t\t\t"+ee.Po.ND+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.zc(z,ee.xJ.zp)};ee.mL[4].prototype=new ee.Qd;ee.mL[4].prototype.kA=function(z,q){this.sS(["source","mnm","mxm","shift","lim"]);
var e=ee.YI,V=this.dO;e.uniform3fv(V.mnm,new Float32Array(q.bj));e.uniform3fv(V.mxm,new Float32Array(q.p7));
e.uniform3fv(V.shift,new Float32Array(q.shift));e.uniform1f(V.lim,q.AH);this.Af([V.source,z])};ee.mL[5]=function(){ee.Qd.call(this);
var z="\t\t\tprecision mediump float;\t\t\t"+ee.Po.gn+"\t\t\t"+ee.Po.dy+"\t\t\t"+ee.Po.aaj+"\t\t\t"+ee.Po.ND+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.zc(z,ee.xJ.zp)};ee.mL[5].prototype=new ee.Qd;ee.mL[5].prototype.kA=function(z,q){this.sS(["source","cfs"]);
var e=ee.YI,V=this.dO;e.uniform3fv(V.cfs,q.avI);this.Af([V.source,z])};ee.mL[6]=function(){ee.Qd.call(this);
var z="\t\t\tprecision mediump float;\t\t\t"+ee.Po.XF+"\t\t\t"+ee.Po.dy+"\t\t\t"+ee.Po.aaj+"\t\t\t"+ee.Po.ND+"\t\t\t"+ee.Po.Yy+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.zc(z,ee.xJ.zp)};ee.mL[6].prototype=new ee.Qd;ee.mL[6].prototype.kA=function(z,q){this.sS(["source","wght","prms"]);
var e=ee.YI,V=this.dO,P=[q.s3,q.awQ,q.w5,q.axB,q.JR,q.avQ];e.uniform1fv(V.wght,new Float32Array(q.aub));
e.uniform1fv(V.prms,new Float32Array(P));this.Af([V.source,z])};ee.mL[7]=function(){ee.Qd.call(this);
this.aIS={};var z="\t\t\tprecision mediump float;\t\t\t"+ee.Po.aFB+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.zc(z,ee.xJ.zp)};ee.mL[7].prototype=new ee.Qd;ee.mL[7].prototype.kA=function(z,q){this.sS(["source","lut","N"]);
var e=ee.YI,V=this.dO,P=q.pm,D=q.Hm;if(this.aIS["m"+P]==null)this.aIS["m"+P]=new ee.ZU(P,P*P,ee.se());
var B=this.aIS["m"+P];B.set(D);e.uniform1f(V.N,P);this.Af([V.source,z,V.lut,B.nj]);e.activeTexture(e.TEXTURE1);
var A=e.LINEAR;e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,A);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,A);
e.activeTexture(e.TEXTURE0)};ee.filter={uc:{},zp:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",agJ:0,aq$:1,EK:2,amS:8,a34:3,aIk:4,ab8:5,mM:6,ad$:7};
ee.filter.ej=function(z,q){var e=ee.filter,V,P=z.e+":"+(z.ee?z.ee.join(","):""),V=ee.filter.uc[P];if(V==null)V=ee.filter.uc[P]=new ee.uc[z.e](z.ee);
V.zU();V.kA(q,z);ee.YI.drawArrays(ee.YI.TRIANGLES,0,6)};ee.uc=[0,0,0,0,0,0,0,0,0,0,0,0];ee.uc[7]=function(){ee.Qd.call(this);
var z="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.zc(jS.kc(z),jS.kc(ee.filter.zp))};ee.uc[7].prototype=new ee.Qd;ee.uc[7].prototype.kA=function(z,q){this.sS(["source","iwh","kern"]);
var e=ee.YI,V=this.dO;e.uniform2fv(V.iwh,q.Wk);e.uniform1fv(V.kern,q.a7C);this.Af([V.source,z])};ee.uc[6]=function(z){ee.Qd.call(this);
var q=z[0],e=z[1],V=z[2],P="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|NNrafa%[}=3495/&+&I1)'VgAFAd;wGOE/^PY8ggmsAz zK1",D=jS.kc(P);
D=D.replaceAll("PRC",V+".0");D=D.replaceAll("DIR",["x,0","0,x"][e]);this.zc(D,ee.xJ.zp)};ee.uc[6].prototype=new ee.Qd;
ee.uc[6].prototype.kA=function(z,q){this.sS(["source","iwh","rad"]);var e=ee.YI,V=this.dO;e.uniform2fv(V.iwh,q.Wk);
e.uniform1f(V.rad,q.zr);this.Af([V.source,z])};ee.uc[4]=function(z){ee.Qd.call(this);var q=z[0],e=z[1],V="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+z[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][e]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][q]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][e]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(e==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.zc(V,ee.xJ.zp)};ee.uc[4].prototype=new ee.Qd;ee.uc[4].prototype.kA=function(z,q){this.sS(["source","iwh","rrad","tr"]);
var e=ee.YI,V=this.dO;e.uniform2fv(V.iwh,q.Wk);e.uniform1f(V.rrad,q.ZS);e.uniform1f(V.tr,q.aem);this.Af([V.source,z]);
var P=e.LINEAR;P=e.NEAREST;e.activeTexture(e.TEXTURE0);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,P);
e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,P);e.activeTexture(e.TEXTURE0)};ee.uc[5]=function(){ee.Qd.call(this);
var z="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.zc(jS.kc(z),jS.kc(ee.filter.zp))};ee.uc[5].prototype=new ee.Qd;ee.uc[5].prototype.kA=function(z,q){this.sS(["source","ssum","iwh","amnt","edgf"]);
var e=ee.YI,V=this.dO;e.uniform2fv(V.iwh,q.Wk);e.uniform1f(V.amnt,q.anG);e.uniform1f(V.edgf,q.aL4);this.Af([V.source,z,V.ssum,q.ayy])};
ee.uc[3]=function(){ee.Qd.call(this);var z="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.zc(jS.kc(z),jS.kc(ee.filter.zp))};ee.uc[3].prototype=new ee.Qd;ee.uc[3].prototype.kA=function(z,q){this.sS("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var e=ee.YI,V=this.dO;e.uniform2fv(V.iwh,q.Wk);e.uniform1f(V.tdep,q.aH5);e.uniform1f(V.rrad,q.ZS);e.uniform2fv(V.spec,q.aAP);
e.uniform3fv(V.nois,q.atJ);e.uniformMatrix4fv(V.poly0,!1,q.a6B);e.uniformMatrix4fv(V.poly1,!1,q.anK);
this.Af([V.source,z]);var P=e.LINEAR;e.activeTexture(e.TEXTURE0);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,P);
e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,P);e.activeTexture(e.TEXTURE0)};ee.uc[0]=function(){ee.Qd.call(this);
var z="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.zc(jS.kc(z),jS.kc(ee.filter.zp))};ee.uc[0].prototype=new ee.Qd;ee.uc[0].prototype.kA=function(z,q){this.sS(["source","iwh","ld","shine"]);
var e=ee.YI,V=this.dO;e.uniform2fv(V.iwh,q.Wk);e.uniform3fv(V.ld,q.aKm);e.uniform1f(V.shine,q.aLF);this.Af([V.source,z,V.tang,q.tE])};
ee.uc[1]=function(){ee.Qd.call(this);var z="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.zc(jS.kc(z),jS.kc(ee.filter.zp))};ee.uc[1].prototype=new ee.Qd;ee.uc[1].prototype.kA=function(z,q){this.sS(["source","iwh","isc","bristle"]);
var e=ee.YI,V=this.dO;e.uniform2fv(V.iwh,q.Wk);e.uniform1f(V.isc,q.aEW);e.uniform1f(V.bristle,q.anh);
this.Af([V.source,z])};ee.uc[2]=function(){ee.Qd.call(this);var z="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.zc(jS.kc(z),jS.kc(ee.filter.zp))};ee.uc[2].prototype=new ee.Qd;ee.uc[2].prototype.kA=function(z,q){this.sS(["source","tang","iwh","sigma","expo"]);
var e=ee.YI,V=this.dO;e.uniform2fv(V.iwh,q.Wk);e.uniform1f(V.sigma,q.Vn);e.uniform1f(V.expo,q.ahH);this.Af([V.source,z,V.tang,q.tE]);
var P=e.LINEAR;e.activeTexture(e.TEXTURE0);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,P);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,P);
e.activeTexture(e.TEXTURE0)};ee.uc[8]=function(){ee.Qd.call(this);var z="n\\[KFIPCFBP;0,.7,,8{~~m}A#ukc]cc[j[FOOH>HdsL=693! R4'|tnttl{lW``YOYu%]O9C9iK>4,&,,$3'rm9$juc3tg]UOUUM\\@CC2BJ;.),|S5)p~#oqg|p\\W#m^+TQQ@sUI?6.F1\"')?+!wo1%}~beeTdlR^!TGBE6\\B503$Z< ##q\"*z{!;z)#\"*k_KFs\\MLAPjJ<*:31+zDS4|uxr`_#sd1ZWWFgvXL83`I;%@Z:,y*#!zj4C$mWaWxiZ'PMM<]lNB.)T?#*6P0?87.)r\\&mk{bNItglgk_`[_PM\\>2}xD/p)C#fm5vZ``rQSV^EuemO6eX^@'EB=1*+~je1{iu0o`-VSSBuW;AAS/22!19)P@;:B$s:-(%\"|{$eUjgbVOPD0+VA, 8R2A:90+tbrkicS|,lV@J@aR@UW?=M4 zF9>9=12-1\"~.oVPnHPRbE9]3TdUPOE923}qG4qe9zutVn)hSGz\\JV^mM8,N+6$S5&%y)1@ q_ohf`Py)iRKNH65XI7L[=./?<I+qk*q:6^jxlLYIBIuWRQ3hU,3Z<76z|lPyehAjdddn)hYXMfaga`\\>?M\\>9";
this.zc(jS.Mh(z),jS.kc(ee.filter.zp))};ee.uc[8].prototype=new ee.Qd;ee.uc[8].prototype.kA=function(z,q){this.sS(["source","tang","iwh","sigma"]);
var e=ee.YI,V=this.dO;e.uniform2fv(V.iwh,q.Wk);e.uniform1f(V.sigma,q.Vn);this.Af([V.source,z,V.tang,q.tE]);
var P=e.LINEAR;e.activeTexture(e.TEXTURE0);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,P);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,P);
e.activeTexture(e.TEXTURE0)};function T(){}T.P={};T.a4q={};T.G=function(z){return JSON.parse(JSON.stringify(z))};
T.Gx=function(z){if(z instanceof ee.ZU)return z.depth;return z instanceof Float32Array?32:z instanceof Uint16Array?16:8};
T.K8=function(z){return z==8?255:z==16?65535:1};T.EZ=function(z,q,e){var V=T.Gx(z),P=z.length;if(V==q)return z;
if(e==null)e=T.n(P,q);if(q==8){if(V==16)for(var n=0;n<P;n++)e[n]=z[n]>>>8;if(V==32)for(var n=0;n<P;n++)e[n]=Math.min(255,~~(.5+255*z[n]))}else if(q==16){if(V==8)for(var n=0;
n<P;n++)e[n]=z[n]<<8|z[n];if(V==32)for(var n=0;n<P;n++)e[n]=Math.min(65535,65535*z[n])}else if(q==32){if(V==8)for(var n=0;
n<P;n++)e[n]=z[n]*(1/255);if(V==16)for(var n=0;n<P;n++)e[n]=z[n]*(1/65535)}return e};T.ahS=function(z,q){for(var n=0;
n<z.length;n+=2)z[n]=T.EZ(z[n],q)};T.aJr=function(){var z=[64,64,128,256,512,1024,2048],q=[];for(var n=0;
n<z.length;n++){var e=z[n],V=document.createElement("canvas");V.width=e;V.height=e;q.push(V.getContext("2d",{willReadFrequently:!0}))}return q}();
T.Hx=function(z,q){var e,V=T.aJr,n=1,P=Math.max(z,q);while(n<V.length&&P>V[n].canvas.width)n++;if(n==V.length){e=V[0];
var D=e.canvas;D.width=z;D.height=q}else{e=V[n];e.clearRect(0,0,z,q)}return e};T.xH=function(z,q,e,V){if(V==null)V=new Uint32Array(q*e);
V[0]=z[0];for(var P=1;P<q;P++)V[P]=V[P-1]+z[P];for(var D=1;D<e;D++){var n=D*q;V[n]=V[n-q]+z[n];for(var P=1;
P<q;P++)V[n+P]=z[n+P]+V[n+P-1]+V[n+P-q]-V[n+P-q-1]}return V};T.MB=function(z,q,e,V,P,D){var B=(P-1)*q,A=D*q;
return z[A+V]-z[A+e-1]-z[B+V]+z[B+e-1]};T.aAp=function(z,q,e,V){var P=q*4;if(V==null)V=new Uint32Array(q*e*4);
V[0]=z[0];V[1]=z[1];V[2]=z[2];V[3]=z[3];for(var D=1;D<q;D++)T.a3e(z,V,4,D<<2);for(var B=1;B<e;B++){var n=B*q<<2;
T.a3e(z,V,P,n);for(var D=4;D<P;D+=4){var A=n+D;V[A]=z[A]+V[A-4]+V[A-P]-V[A-P-4];V[A+1]=z[A+1]+V[A-3]+V[A-P+1]-V[A-P-3];
V[A+2]=z[A+2]+V[A-2]+V[A-P+2]-V[A-P-2];V[A+3]=z[A+3]+V[A-1]+V[A-P+3]-V[A-P-1]}}return V};T.a3e=function(z,q,e,n){q[n]=q[n-e]+z[n];
q[n+1]=q[n-e+1]+z[n+1];q[n+2]=q[n-e+2]+z[n+2];q[n+3]=q[n-e+3]+z[n+3]};T.at$=function(z,q,e,V,P,D){var B=P+e<<2,A=P+q<<2,s=V+e<<2,a=V+q<<2;
D[0]+=z[B]-z[A]-z[s]+z[a];D[1]+=z[B+1]-z[A+1]-z[s+1]+z[a+1];D[2]+=z[B+2]-z[A+2]-z[s+2]+z[a+2];D[3]+=z[B+3]-z[A+3]-z[s+3]+z[a+3]};
T.mS=function(z,q,e){var V={},P=0,D=0,B=new Uint32Array(z.buffer),A=B.length,s=Date.now();for(var a=1;
a<e-1;a++)for(var M=1;M<q-1;M++){var $=a*q+M,U=B[$];if(U>>>24<230)D++;if(V[U]==null){V[U]=!0;P++}}if(D!=0||P<20)return!1;
return!0};T.w$=function(z,q,e,V,P,D){if(P==null)P=D=0;var B=Math.round(Math.log(V)/Math.log(2)),A=new Uint32Array(z.buffer);
for(var n=0;n<e;n++)for(var s=0;s<q;s++){A[n*q+s]=T.aMz(n+D,s+P,B)}};T.anc=function(n,z,q){return 255-((n>>>q)+(z>>>q)&1)*51};
T.aMz=function(n,z,q){return 4294967295-((n>>>q)+(z>>>q)&1)*3355443};T.H_=function(z,q){var e=q==null?1:q/255;
return{l:(z>>>16&255)*e,I:(z>>>8&255)*e,c:(z&255)*e}};T.RC=function(z,q){var e=q==null?1:255/q;return Math.round(z.l*e)<<16|Math.round(z.I*e)<<8|Math.round(z.c*e)};
T.R0=function(z){var q=z.toString(16);while(q.length<6)q="0"+q;return q};T.aGx=function(z){return parseInt(z,16)};
T.w5=function(z){return.3*z.l+.59*z.I+.11*z.c};T.WC=function(z){return Math.max(z.l,z.I,z.c)-Math.min(z.l,z.I,z.c)};
T.Vq=function(z,q,e){return.3*z+.59*q+.11*e};T.a64=function(z,q,e){return Math.max(z,q,e)-Math.min(z,q,e)};
T.dy=function(z,q){var e=q-z,V=Math.abs(e),P=e-1,D=e+1;if(Math.abs(P)<V)e=P;else if(Math.abs(D)<V)e=D;
return e};T.Xg=function(z){return z<.0031308?12.92*z:1.055*Math.pow(z,1/2.4)-.055};T.Ec=function(z){return z<.04045?z/12.92:Math.pow((z+.055)/1.055,2.4)};
T.D2=function(z){var q=T.Gx(z),e=T.K8(q),V=1/e;if(q==8){var P=new Uint8Array(256);for(var n=0;n<256;
n++)P[n]=~~(.5+255*T.Xg(n/255));for(var n=0;n<z.length;n++)z[n]=P[z[n]]}else for(var n=0;n<z.length;
n++)z[n]=e*T.Xg(z[n]*V)};T.$n=function(z){var q=T.Gx(z),e=T.K8(q),V=1/e;if(q==8){var P=new Uint8Array(256);
for(var n=0;n<256;n++)P[n]=~~(.5+255*T.Ec(n/255));for(var n=0;n<z.length;n++)z[n]=P[z[n]]}else for(var n=0;
n<z.length;n++)z[n]=e*T.Ec(z[n]*V)};T.a9k=function(z,q){var e=T.K8(T.Gx(z)),V=1/e,P=e/255,D=Math.min(z.length,q.length);
for(var n=0;n<D;n+=4){var B=z[n]*V,A=z[n+1]*V,s=z[n+2]*V;q[n]=P*(16+65.481*B+128.553*A+24.966*s);q[n+1]=P*(128-37.797*B-74.203*A+112*s);
q[n+2]=P*(128+112*B-93.786*A-18.214*s);q[n+3]=z[n+3]}};T.a3f=function(z,q){var e=T.K8(T.Gx(z)),V=1/e,P=e/255,D=255/(e*256),B=Math.min(z.length,q.length);
for(var n=0;n<B;n+=4){var A=z[n]*D,s=z[n+1]*D,a=z[n+2]*D,M=A*298.082;q[n]=P*Math.max(0,Math.min(255,M+a*408.583-222.921));
q[n+1]=P*Math.max(0,Math.min(255,M-s*100.291-a*208.12+135.576));q[n+2]=P*Math.max(0,Math.min(255,M+s*516.412-276.836));
q[n+3]=z[n+3]}};T.ajY=function(z,q,e){var V,P,D,B=Math.max(z,q,e),A=Math.min(z,q,e);D=B;if(B!=0)P=(B-A)/B;
else P=0;if(P==0)V=0;else{var s=B-A,a=(B-z)/s,M=(B-q)/s,$=(B-e)/s;if(z==B)V=$-M;else if(q==B)V=2+a-$;
else V=4+M-a;V*=1/6;if(V<0)V=V+1}return{Hi:V,fY:P,c:D}};T.aGW=function(z,q,e){var V=0,P=0,D=0;if(q==0)V=P=D=e;
else{var B=(z-Math.floor(z))*6,A=Math.floor(B),s=B-Math.floor(B),a=e*(1-q),M=e*(1-q*s),$=e*(1-q*(1-s));
switch(A){case 0:V=e;P=$;D=a;break;case 1:V=M;P=e;D=a;break;case 2:V=a;P=e;D=$;break;case 3:V=a;P=M;
D=e;break;case 4:V=$;P=a;D=e;break;case 5:V=e;P=a;D=M;break}}return{l:V,I:P,c:D}};T.ND=function(z,q,e){var V=Math.max(z,q,e),P=Math.min(z,q,e),D=0,B=0,A=(V+P)*.5;
if(V!=P){var s=V-P;B=A>.5?s/(2-(V+P)):s/(V+P);switch(V){case z:D=(q-e)/s+(q<e?6:0);break;case q:D=(e-z)/s+2;
break;case e:D=(z-q)/s+4;break}D*=1/6}return{Hi:D,fY:B,bY:A}};T.Yy=function(z,q,e){var V,P,D;if(q==0)V=P=D=e;
else{var B=e<.5?e*(1+q):e+q-e*q,A=2*e-B;V=T.XF(A,B,z+1/3);P=T.XF(A,B,z);D=T.XF(A,B,z-1/3)}return{l:V,I:P,c:D}};
T.XF=function(z,q,e){if(e<0)e+=1;if(e>1)e-=1;if(e<1/6)return z+(q-z)*6*e;if(e<1/2)return q;if(e<2/3)return z+(q-z)*(2/3-e)*6;
return z};T.Pw=function(z,q,e){var V=Math.max(z,q,e),P=Math.min(z,q,e),D,B,A=V,s=V-P;B=V==0?0:s/V;if(V==P)D=0;
else{switch(V){case z:D=(q-e)/s+(q<e?6:0);break;case q:D=(e-z)/s+2;break;case e:D=(z-q)/s+4;break}D*=1/6}return{Hi:D,fY:B,YY:A}};
T.mj=function(z,q,e){var V,P,D,n,B,A,s,a;n=Math.floor(z*6);B=z*6-n;A=e*(1-q);s=e*(1-B*q);a=e*(1-(1-B)*q);
switch(n%6){case 0:V=e,P=a,D=A;break;case 1:V=s,P=e,D=A;break;case 2:V=A,P=e,D=a;break;case 3:V=A,P=s,D=e;
break;case 4:V=a,P=A,D=e;break;case 5:V=e,P=A,D=s;break}return{l:V,I:P,c:D}};T.Y$=function(){var z=[],q=[];
for(var n=0;n<8e3;n++){var e=n*(1/4e3);z[n]=T.Ec(e);q[n]=e>.008856?Math.pow(e,1/3):(903.3*e+16)*(1/116)}return[z,q]}();
T.zw=function(z,q,e,V){if(V==null)V=[.9642,1,.8249];var P=T.Y$[0],D=T.Y$[1];z=P[~~(.5+z*(4e3/255))];
q=P[~~(.5+q*(4e3/255))];e=P[~~(.5+e*(4e3/255))];var B=T.DB.a4d,A=B[0]*z+B[1]*q+B[2]*e,s=B[4]*z+B[5]*q+B[6]*e,a=B[8]*z+B[9]*q+B[10]*e;
A=A*(1/V[0]);s=s*(1/V[1]);a=a*(1/V[2]);return T.aDE(A,s,a)};T.aDE=function(z,q,e){var V=T.Y$[1],P=V[~~(.5+z*4e3)],D=V[~~(.5+q*4e3)],B=V[~~(.5+e*4e3)];
return{eT:116*D-16,x6:500*(P-D),c:200*(D-B)}};T.Ka=function(z,q,e){var V=903.3,P=.008856,D=(z+16)/116,B=D*D*D,A=D-e/200,s=A*A*A,a=q/500+D,M=a*a*a,$=s>P?s:(116*A-16)/V,U=B>P?B:(116*D-16)/V,o=M>P?M:(116*a-16)/V,t=o*96.42,c=U*100,H=$*82.49,F=T.DB.kF(T.DB.vs,[t/100,c/100,H/100,0]);
for(var n=0;n<4;n++)F[n]=Math.max(0,Math.min(255,T.Xg(F[n])*255));return{l:F[0],I:F[1],c:F[2]}};T.aCS=function(z,q,e,V,P){var D=z.eT,B=z.x6,A=z.c,s=(D<q.eT?q.eT-D:e.eT<D?e.eT-D:0)*(1/100),a=(B<q.x6?q.x6-B:e.x6<B?e.x6-B:0)*(1/116),M=(A<q.c?q.c-A:e.c<A?e.c-A:0)*(1/116),$=Math.sqrt(s*s+a*a+M*M)*1.35;
return $<=V?Math.min(1,1.17*(1-$*P)):0};T.DQ=function(z){var q=T.Pv("cmykToRgb"),e=q[2],V=q[3],P=[0,0,0,0];
ICC.U.applyLUT4(V,e,z,P);return P};T.afx=function(z){var q=T.Pv("cmykToRgb"),e=q[2],V=q[3];ICC.U.applyLUT4(V,e,z,z)};
T.aET=function(){var z=function(hE){return Math.round(hE*255)},q="",e=3;for(var n=0;n<tab.length;n++){var V=z(tab[n]);
if(e<=n)V=V-z(tab[n-e])+256&255;q+=V.toString(16).padStart(2,"0")}return q};T.Pv=function(z){var q=LUTS["_"+z];
if(q==null){var e=LUTS[z],V=e[0],hE=e[1],P=e[2],D=e[3],B=[];for(var n=0;n<D.length;n+=2)B.push(parseInt(D.slice(n,n+2),16));
for(var n=hE;n<B.length;n++)B[n]=B[n]+B[n-hE]&255;for(var n=0;n<B.length;n++)B[n]*=1/255;q=LUTS["_"+z]=[V,hE,P,B]}return q};
T.VB=function(z){var q=T.Pv("rgbToCmyk"),e=q[2],V=q[3],P=[0,0,0,0];ICC.U.applyLUT3to4(V,e,z,P);return P};
T.acq=function(z){var q=T.Pv("rgbToCmyk"),e=q[2],V=q[3];ICC.U.applyLUT3to4(V,e,z,z);T.TG(z)};T.tI=function(z,q,e){var V=z.length,P=.3,D=.59,B=.11,A=T.Gx(z);
if(e){P=e[0];D=e[1];B=e[2]}if(A!=32)for(var n=0;n<V;n+=4)q[n>>2]=~~(z[n+0]*P+z[n+1]*D+z[n+2]*B+.5);else for(var n=0;
n<V;n+=4)q[n>>2]=z[n+0]*P+z[n+1]*D+z[n+2]*B};T.A$=function(z,q){var e=q.length;for(var n=0;n<e;n+=4){var V=z[n>>>2];
q[n]=V;q[n+1]=V;q[n+2]=V}};T.cO=function(z,q){var e=T.Gx(z.x6),V=T.Gx(q);if(e!=V)throw"e";if(e==8)T.aaJ(z,q);
else{var P=z.l,D=z.I,B=z.c,A=z.x6;for(var n=0;n<q.length;n+=4){var s=n>>>2;q[n]=P[s];q[n+1]=D[s];q[n+2]=B[s];
q[n+3]=A[s]}}};T.aaJ=function(z,q){var e=z.x6,V=z.l,P=z.I,D=z.c,B=Math.min(z.x6.length,q.buffer.byteLength>>>2),A=4*Math.floor(B/4),s=new Uint32Array(q.buffer),a=new Uint32Array(e.buffer),M=new Uint32Array(V.buffer),$=new Uint32Array(P.buffer),U=new Uint32Array(D.buffer);
for(var n=0;n<A;n+=4){var o=a[n>>2],t=U[n>>2],c=$[n>>2],H=M[n>>2];s[n]=o<<24|(t&255)<<16|(c&255)<<8|H&255;
s[n+1]=(o&65280)<<16|(t&65280)<<8|c&65280|(H&65280)>>>8;s[n+2]=(o&16711680)<<8|t&16711680|(c&16711680)>>>8|(H&16711680)>>>16;
s[n+3]=o&4278190080|(t&4278190080)>>>8|(c&4278190080)>>>16|(H&4278190080)>>>24}for(var n=A;n<B;n++)s[n]=e[n]<<24|D[n]<<16|P[n]<<8|V[n]};
T.B9=function(z,q){var e=T.Gx(q.x6),V=T.Gx(z);if(e!=V)throw"e";if(e==8)T.aF_(z,q);else{var P=q.l,D=q.I,B=q.c,A=q.x6;
for(var n=0;n<z.length;n+=4){var s=n>>>2;P[s]=z[n];D[s]=z[n+1];B[s]=z[n+2];A[s]=z[n+3]}}};T.aF_=function(z,q){var e=q.x6,V=q.l,P=q.I,D=q.c,B=Math.min(q.x6.length,z.buffer.byteLength>>>2),A=4*Math.floor(B/4),s=new Uint32Array(z.buffer),a=new Uint32Array(e.buffer),M=new Uint32Array(V.buffer),$=new Uint32Array(P.buffer),U=new Uint32Array(D.buffer);
for(var n=0;n<A;n+=4){var o=s[n],t=s[n+1],c=s[n+2],H=s[n+3];M[n>>2]=o&255|(t&255)<<8|(c&255)<<16|H<<24;
$[n>>2]=(o&65280)>>8|t&65280|(c&65280)<<8|(H&65280)<<16;U[n>>2]=(o&16711680)>>16|(t&16711680)>>8|c&16711680|(H&16711680)<<8;
a[n>>2]=o>>>24|t>>>24<<8|c>>>24<<16|H&4278190080}for(var n=A;n<B;n++){var F=s[n];V[n]=F>>0&255;P[n]=F>>8&255;
D[n]=F>>16&255;e[n]=F>>24&255}};T.bl=function(z,q,e){var V=Math.min(z.length/4,q.length),P=T.Gx(z);if(P!=T.Gx(q))throw"e";
if(P==8){for(var n=0;n<V;n++){q[n]=z[(n<<2)+e]}}else for(var n=0;n<V;n++){q[n]=z[(n<<2)+e]}};T.yR=function(z,q,e){var V=T.Gx(z);
if(V!=T.Gx(q))throw"e";var P=Math.min(q.length>>>2,z.length);if(V==8){var D=new Uint8Array(q.buffer),B=new Uint32Array(z.buffer),n=0;
while(n+4<P){var A=B[n>>>2];D[(n<<2)+e]=A&255;D[(n<<2)+e+4]=A>>>8&255;D[(n<<2)+e+8]=A>>>16&255;D[(n<<2)+e+12]=A>>>24;
n+=4}while(n<P){D[(n<<2)+e]=z[n];n++}}else{for(var n=0;n<P;n++)q[(n<<2)+e]=z[n]}};T.FH=function(z,q){new Uint32Array(z.buffer).fill(q)};
T.gf=function(z,q,e,V){var P=T.Gx(z),D=T.K8(P),B=z.length,A=Math.round(q*D),s=Math.round(e*D),a=Math.round(V*D);
if(P==8)for(var n=0;n<B;n+=4){z[n]=A;z[n+1]=s;z[n+2]=a}if(P==16)for(var n=0;n<B;n+=4){z[n]=A;z[n+1]=s;
z[n+2]=a}if(P==32)for(var n=0;n<B;n+=4){z[n]=q*D;z[n+1]=e*D;z[n+2]=V*D}};T.yS=function(z,q){var e=T.Gx(z),V=T.K8(e),P=z.length,D=Math.round(q*V);
if(e==8)for(var n=0;n<P;n+=4){z[n+3]=D}if(e==16)for(var n=0;n<P;n+=4){z[n+3]=D}if(e==32)for(var n=0;
n<P;n+=4){z[n+3]=q*V}};T.aJv=function(z,q,e,V,P){if(P==null)P=0;var D=new Uint32Array(z.buffer);e=e.HX(q);
var B=e.x-q.x,A=e.y-q.y,s=e.s,a=e.T,M=q.s;for(var $=0;$<a;$++){var n=(A+$)*M+B;for(var U=0;U<s;U++){D[n]=D[n]&P|V;
n++}}};T.Yh=function(z,q){var e=Math.min(z.buffer.byteLength,q.buffer.byteLength),V=e>>>2,P=new Uint32Array(z.buffer,0,V),D=new Uint32Array(q.buffer,0,V);
D.set(P)};T.bs=function(z,q){var e=z.buffer.byteLength,V=q.buffer.byteLength,P=new Uint32Array(z.buffer,0,e>>2),D=new Uint32Array(q.buffer,0,V>>2);
if(e!=V)return!1;var B=P.length;for(var n=0;n<B;n++)if(D[n]!=P[n])return!1;return!0};T.TG=function(z){var q=T.Gx(z),e=z.length;
if(q==8)for(var n=0;n<e;n++)z[n]=~z[n];if(q==16)for(var n=0;n<e;n++)z[n]=~z[n];if(q==32)for(var n=0;
n<e;n++)z[n]=1-z[n]};T.ah9=function(z){var q=z.length;for(var n=0;n<q;n+=4){z[n]=~z[n];z[n+1]=~z[n+1];
z[n+2]=~z[n+2]}};T.aho=function(z){var q=z.length;for(var n=3;n<q;n+=4)z[n]=~z[n]};T.ap2=function(z){return z+(z%4==0?0:4-z%4)};
T.n=function(z,q){if(q==null)q=8;var e=q==8?Uint8Array:q==16?Uint16Array:Float32Array;if(q==8)z=T.ap2(z);
if(q==16)z+=z&1;try{var V=new e(z)}catch(cz){alert("Not enough RAM! (need "+Math.round(z/(1<<20))+" MB)",7e3);
throw"low_ram"}return V};T.aNu=function(z){var q=z.hp.s,e=z.hp.T,V=q*4,P=q*e,D=new Uint8Array(z.data),B=0,A=0;
for(var s=1;s<e;s++)for(var a=1;a<q;a++){var n=(s*q+a)*4;if(D[n-1]==0&&D[n+3]==0&&D[n-V+3]==0){A++;var M=D[n],$=D[n+1],U=D[n+2],o=M-D[n-4],t=M-D[n-V],c=$-D[n-3],H=$-D[n-V+1],F=U-D[n-2],i=U-D[n-V+2];
if(o*o+c*c+F*F!=0&&t*t+H*H+i*i!=0)B++}}if(A/P>.01&&B/A>.05){var X=T.n(q*e);T.bl(D,X,3);z.kv=[X];for(var n=0;
n<D.length;n+=4)D[n+3]=255}};T.aN2=function(z,q,e,V){if(V==null)V=0;var P=0;while(P+3<z.length&&z[P+3].D()>=V&&q.vx()*(1<<(P>>>1))<e)P+=2;
var D=z[1],B=z[P+1],A=new e5;A.translate(-B.x,-B.y);A.scale(D.s/B.s,D.T/B.T);A.translate(D.x,D.y);A.concat(q);
return[P,A]};T.Jr=function(z){var q=z.length,e=z[q-2],V=z[q-1];while(V.s>=2&&V.T>=2){var P=T.W6(e,V);
z.push(P.Dm,P.V);e=P.Dm;V=P.V}};T.wD=function(z){var q=z.length,e=z[q-2],V=z[q-1];while(V.s>=2&&V.T>=2){var P=T.Lx(e,V);
z.push(P.Dm,P.V);e=P.Dm;V=P.V}};T.W6=function(z,q,e){var V=q.s,P=q.T,D=V>>1,B=P>>1,A=new kk(q.x>>>1,q.y>>>1,D,B),s,a=T.Gx(z);
if(a==8){s=e&&e.length==D*B*4?e:T.n(D*B*4);var M=new Uint32Array(z.buffer),$=new Uint32Array(s.buffer);
for(var U=0;U<B;U++)for(var o=0;o<D;o++){var t=U*D+o,c=(U<<1)*V+(o<<1),H=M[c],F=M[c+1],i=M[c+V],X=M[c+V+1],K=H>>>24,f=F>>>24,d=i>>>24,L=X>>>24,G=K+f+d+L;
if(G==1020){var x=(H>>>0&255)+(F>>>0&255)+(i>>>0&255)+(X>>>0&255)+2>>>2,O=(H>>>8&255)+(F>>>8&255)+(i>>>8&255)+(X>>>8&255)+2>>>2,v=(H>>>16&255)+(F>>>16&255)+(i>>>16&255)+(X>>>16&255)+2>>>2;
$[t]=255<<24|v<<16|O<<8|x}else if(G==0)$[t]=0;else{var x=(H>>>0&255)*K+(F>>>0&255)*f+(i>>>0&255)*d+(X>>>0&255)*L,O=(H>>>8&255)*K+(F>>>8&255)*f+(i>>>8&255)*d+(X>>>8&255)*L,v=(H>>>16&255)*K+(F>>>16&255)*f+(i>>>16&255)*d+(X>>>16&255)*L,C=1/G;
x=~~(x*C+.5);O=~~(O*C+.5);v=~~(v*C+.5);$[t]=G+2>>>2<<24|v<<16|O<<8|x}}}else{s=T.n(D*B*4,a);for(var U=0;
U<B;U++)for(var o=0;o<D;o++){var t=U*D+o<<2,c=(U<<1)*V+(o<<1)<<2,S=c,j=c+4,w=c+V*4,u=c+V*4+4,K=z[S+3],f=z[j+3],d=z[w+3],L=z[u+3],G=K+f+d+L;
if(G==0){}else{var C=1/G;s[t]=(z[S]*K+z[j]*f+z[w]*d+z[u]*L)*C;s[t+1]=(z[S+1]*K+z[j+1]*f+z[w+1]*d+z[u+1]*L)*C;
s[t+2]=(z[S+2]*K+z[j+2]*f+z[w+2]*d+z[u+2]*L)*C;s[t+3]=G*.25}}}return{V:A,Dm:s}};T.aIh=function(z,q,e){var V=q.s,P=q.T,D=V>>1,B=P>>1,A=new kk(q.x,q.y,D,B),s=e&&e.length==D*B*4?e:T.n(D*B*4),a=new Uint32Array(z.buffer),M=new Uint32Array(s.buffer);
for(var $=0;$<B;$++)for(var U=0;U<D;U++){var o=$*D+U,t=($<<1)*V+(U<<1),c=a[t],H=a[t+1],F=a[t+V],i=a[t+V+1],X=2+(c>>>0&255)+(H>>>0&255)+(F>>>0&255)+(i>>>0&255)>>>2,K=2+(c>>>8&255)+(H>>>8&255)+(F>>>8&255)+(i>>>8&255)>>>2,f=2+(c>>>16&255)+(H>>>16&255)+(F>>>16&255)+(i>>>16&255)>>>2,d=2+(c>>>24&255)+(H>>>24&255)+(F>>>24&255)+(i>>>24&255)>>>2;
M[o]=d<<24|f<<16|K<<8|X}return{V:A,Dm:s}};T.apB=function(z,q,e){var V=q.s,P=q.T,D=2*Math.floor(V/3),B=2*Math.floor(P/3),A=new kk(q.x,q.y,D,B),s=e&&e.length==D*B*4?e:T.n(D*B*4),a=new Uint32Array(z.buffer),M=new Uint32Array(s.buffer);
for(var $=0;$<B;$+=2)for(var U=0;U<D;U+=2){var o=$*D+U,t=($*3>>>1)*V+(U*3>>>1),c=a[t],H=a[t+1],F=a[t+2],i=a[t+V],X=a[t+1+V],K=a[t+2+V],f=a[t+V+V],d=a[t+1+V+V],L=a[t+2+V+V],G=c>>>24<<2,x=(c>>>16&255)*G,O=(c>>>8&255)*G,v=(c&255)*G,C=H>>>24<<1,S=(H>>>16&255)*C,j=(H>>>8&255)*C,w=(H&255)*C,u=F>>>24<<2,l=(F>>>16&255)*u,I=(F>>>8&255)*u,Q=(F&255)*u,b=i>>>24<<1,p=(i>>>16&255)*b,k=(i>>>8&255)*b,g=(i&255)*b,Y=X>>>24,R=(X>>>16&255)*Y,m=(X>>>8&255)*Y,Z=(X&255)*Y,E=K>>>24<<1,N=(K>>>16&255)*E,h=(K>>>8&255)*E,j5=(K&255)*E,r=f>>>24<<2,l8=(f>>>16&255)*r,aP=(f>>>8&255)*r,bS=(f&255)*r,kR=d>>>24<<1,j1=(d>>>16&255)*kR,f6=(d>>>8&255)*kR,gx=(d&255)*kR,lC=L>>>24<<2,g2=(L>>>16&255)*lC,dv=(L>>>8&255)*lC,bv=(L&255)*lC,eo=G+C+b+Y,hg=u+C+E+Y,ci=r+kR+b+Y,fK=lC+kR+E+Y,jN=eo==0?0:1/eo,dD=hg==0?0:1/hg,eF=ci==0?0:1/ci,io=fK==0?0:1/fK,la=0,e9=0,gM=0,j7=0;
la=~~(.5+(v+w+g+Z)*jN);e9=~~(.5+(O+j+k+m)*jN);gM=~~(.5+(x+S+p+R)*jN);j7=~~(.5+eo*(1/9));M[o]=j7<<24|gM<<16|e9<<8|la;
la=~~(.5+(Q+w+j5+Z)*dD);e9=~~(.5+(I+j+h+m)*dD);gM=~~(.5+(l+S+N+R)*dD);j7=~~(.5+hg*(1/9));M[o+1]=j7<<24|gM<<16|e9<<8|la;
la=~~(.5+(bS+gx+g+Z)*eF);e9=~~(.5+(aP+f6+k+m)*eF);gM=~~(.5+(l8+j1+p+R)*eF);j7=~~(.5+ci*(1/9));M[o+D]=j7<<24|gM<<16|e9<<8|la;
la=~~(.5+(bv+gx+j5+Z)*io);e9=~~(.5+(dv+f6+h+m)*io);gM=~~(.5+(g2+j1+N+R)*io);j7=~~(.5+fK*(1/9));M[o+D+1]=j7<<24|gM<<16|e9<<8|la}return{V:A,Dm:s}};
T.aiO=function(z,q,e){var V=q.s,P=q.T,D=2*Math.floor(V/3),B=2*Math.floor(P/3),A=new kk(q.x,q.y,D,B),s=e&&e.length==D*B*4?e:T.n(D*B*4),a=new Uint32Array(z.buffer),M=new Uint32Array(s.buffer);
for(var $=0;$<B;$+=2)for(var U=0;U<D;U+=2){var o=$*D+U,t=($*3>>>1)*V+(U*3>>>1),c=a[t],H=a[t+1],F=a[t+2],i=a[t+V],X=a[t+1+V],K=a[t+2+V],f=a[t+V+V],d=a[t+1+V+V],L=a[t+2+V+V],G=(c>>>16&255)<<2,x=(c>>>8&255)<<2,O=(c&255)<<2,v=(H>>>16&255)<<1,C=(H>>>8&255)<<1,S=(H&255)<<1,j=(F>>>16&255)<<2,w=(F>>>8&255)<<2,u=(F&255)<<2,l=(i>>>16&255)<<1,I=(i>>>8&255)<<1,Q=(i&255)<<1,b=X>>>16&255,p=X>>>8&255,k=X&255,g=(K>>>16&255)<<1,Y=(K>>>8&255)<<1,R=(K&255)<<1,m=(f>>>16&255)<<2,Z=(f>>>8&255)<<2,E=(f&255)<<2,N=(d>>>16&255)<<1,h=(d>>>8&255)<<1,j5=(d&255)<<1,r=(L>>>16&255)<<2,l8=(L>>>8&255)<<2,aP=(L&255)<<2,bS=0,kR=0,j1=0;
bS=~~(.5+(O+S+Q+k)*(1/9));kR=~~(.5+(x+C+I+p)*(1/9));j1=~~(.5+(G+v+l+b)*(1/9));M[o]=255<<24|j1<<16|kR<<8|bS;
bS=~~(.5+(u+S+R+k)*(1/9));kR=~~(.5+(w+C+Y+p)*(1/9));j1=~~(.5+(j+v+g+b)*(1/9));M[o+1]=255<<24|j1<<16|kR<<8|bS;
bS=~~(.5+(E+j5+Q+k)*(1/9));kR=~~(.5+(Z+h+I+p)*(1/9));j1=~~(.5+(m+N+l+b)*(1/9));M[o+D]=255<<24|j1<<16|kR<<8|bS;
bS=~~(.5+(aP+j5+R+k)*(1/9));kR=~~(.5+(l8+h+Y+p)*(1/9));j1=~~(.5+(r+N+g+b)*(1/9));M[o+D+1]=255<<24|j1<<16|kR<<8|bS}return{V:A,Dm:s}};
T.Ep=function(z){var q=255,e=z.length;e-=e&31;for(var n=3;n<e;n+=32)q=q&z[n]&z[n+4]&z[n+8]&z[n+12]&z[n+16]&z[n+20]&z[n+24]&z[n+28];
return q!=255};T.aFp=function(z,q,e,V){var P=T.W6,D=T.apB,B={Dm:z,V:q},A=T.a1h(e);for(var n=0;n<A.length;
n++){if(A[n]==2)B=P(B.Dm,B.V,V);else B=D(B.Dm,B.V,V)}return B};T.apj=function(z,q,e,V){var P=T.Lx,D=T.axQ,B={Dm:z,V:q},A=T.a1h(e);
for(var n=0;n<A.length;n++){if(A[n]==2)B=P(B.Dm,B.V,V);else B=D(B.Dm,B.V,V)}return B};T.a1h=function(z){var q=[],e=z;
while(e<.499){q.push(2);e*=2}q.push(e<.5001?2:3);return q};T.Lx=function(z,q,e){var V=q.s,P=q.T,D=V>>1,B=P>>1,A=new kk(q.x,q.y,D,B);
if(z==null)return{V:A};var s=e&&e.length>=D*B?e:T.n(D*B);for(var a=0;a<B;a++){var M=a*D;for(var $=0;
$<D;$++){var U=(a<<1)*V+($<<1);s[M+$]=2+z[U]+z[U+1]+z[U+V]+z[U+V+1]>>>2}}return{V:A,Dm:s}};T.axQ=function(z,q,e){var V=q.s,P=q.T,D=2*Math.floor(V/3),B=2*Math.floor(P/3),A=new kk(q.x,q.y,D,B);
if(z==null)return{V:A};var s=e&&e.length>=D*B?e:T.n(D*B);for(var a=0;a<B;a+=2)for(var M=0;M<D;M+=2){var $=a*D+M,U=(a*3>>>1)*V+(M*3>>>1),o=z[U]<<2,t=z[U+1]<<1,c=z[U+2]<<2,H=z[U+V]<<1,F=z[U+1+V],i=z[U+2+V]<<1,X=z[U+V+V]<<2,K=z[U+1+V+V]<<1,f=z[U+2+V+V]<<2;
s[$]=~~(.5+(o+t+H+F)*(1/9));s[$+1]=~~(.5+(c+t+i+F)*(1/9));s[$+D]=~~(.5+(X+K+H+F)*(1/9));s[$+D+1]=~~(.5+(f+K+i+F)*(1/9))}return{V:A,Dm:s}};
T.akm=function(z,q,e,V,P){var D=q.HX(V);if(P)D=D.HX(P);var B=Math.max(0,D.x-q.x),A=Math.max(0,D.x-V.x),s=Math.max(0,D.y-q.y),a=Math.max(0,D.y-V.y),M=D.s,$=D.T;
for(var n=0;n<$;n++){var U=(s+n)*q.s+B,o=(a+n)*V.s+A;for(var t=0;t<M;t++){e[o+t]=Math.max(e[o+t],z[U+t])}}};
T.KY=function(z,q,e,V,P){var D=q.HX(V);if(P)D=D.HX(P);var B=Math.max(0,D.x-q.x),A=Math.max(0,D.x-V.x),s=Math.max(0,D.y-q.y),a=Math.max(0,D.y-V.y),M=D.s,$=D.T,U=T.Gx(z),o=T.Gx(e);
if(U!=o)throw"e";var t=U>>>3,c=new Uint8Array(e.buffer);for(var n=0;n<$;n++){var H=(s+n)*q.s+B,F=(a+n)*V.s+A;
c.set(new Uint8Array(z.buffer,H*t,M*t),F*t)}};T.aMf=function(z,q,e,V){if(q.bs(V)){T.yR(z,e,3);return}var P=q.HX(V),D=Math.max(0,P.x-q.x),B=Math.max(0,P.x-V.x),A=Math.max(0,P.y-q.y),s=Math.max(0,P.y-V.y),a=P.s,M=P.T;
for(var n=0;n<M;n++){var $=(A+n)*q.s+D,U=(s+n)*V.s+B;for(var o=0;o<a;o++)e[(U+o<<2)+3]=z[$+o]}};T.mr=function(z,q,e,V){var P=q.HX(V),D=Math.max(0,P.x-q.x),B=Math.max(0,P.x-V.x),A=Math.max(0,P.y-q.y),s=Math.max(0,P.y-V.y),a=P.s,M=P.T;
for(var n=0;n<M;n++){var $=(A+n)*q.s+D,U=(s+n)*V.s+B;for(var o=0;o<a;o++)e[U+o]=z[($+o<<2)+3]}};T.aF=function(z,q,e,V,P){if(q.bs(V)&&(P==null||P.bs(V))){e.set(z);
return}var D=q.HX(V);if(P)D=D.HX(P);var B=Math.max(0,D.x-q.x),A=Math.max(0,D.x-V.x),s=Math.max(0,D.y-q.y),a=Math.max(0,D.y-V.y),M=D.s,$=D.T,U=4*(T.Gx(e)>>>3),o=new Uint8Array(e.buffer);
for(var n=0;n<$;n++){var t=(s+n)*q.s+B,c=(a+n)*V.s+A;o.set(new Uint8Array(z.buffer,t*U,M*U),c*U)}};T.Fk=function(z,q,e,V){var P=q.HX(V),D=Math.max(0,P.x-q.x),B=Math.max(0,P.x-V.x),A=Math.max(0,P.y-q.y),s=Math.max(0,P.y-V.y),a=P.s,M=P.T,$=z.x6,U=z.l,o=z.I,t=z.c,c=e.x6,H=e.l,F=e.I,i=e.c;
for(var n=0;n<M;n++){var X=(A+n)*q.s+D,K=(s+n)*V.s+B;for(var f=0;f<a;f++){c[K+f]=$[X+f];H[K+f]=U[X+f];
F[K+f]=o[X+f];i[K+f]=t[X+f]}}};T.ak=function(z){var q=z.length,e=T.Gx(z),V=T.K8(e),P=1/V;if(e==8)for(var n=0;
n<q;n+=4){var D=z[n+3];if(D==255)continue;z[n]=~~(z[n]*D*(1/255)+.5);z[n+1]=~~(z[n+1]*D*(1/255)+.5);
z[n+2]=~~(z[n+2]*D*(1/255)+.5)}else for(var n=0;n<q;n+=4){var D=z[n+3];if(D==V)continue;z[n]=z[n]*(D*P);
z[n+1]=z[n+1]*(D*P);z[n+2]=z[n+2]*(D*P)}};T.Od=function(z){var q=z.length,e=T.Gx(z),V=T.K8(e),P=1/V;
if(e==8)for(var n=0;n<q;n+=4){var D=z[n+3];if(D==0||D==255)continue;var B=255/D;z[n]=~~(z[n]*B+.5);z[n+1]=~~(z[n+1]*B+.5);
z[n+2]=~~(z[n+2]*B+.5)}else{for(var n=0;n<q;n+=4){var D=z[n+3];if(D==0||D==V)continue;var B=V/D;z[n]=z[n]*B;
z[n+1]=z[n+1]*B;z[n+2]=z[n+2]*B}}};T.Rh=function(z,q){for(var n=0;n<z.length;n++)if(z[n]!=q)return!1;
return!0};T.Ix=function(z){return z+1+(z>>>8)>>>8};T.round=function(z,q){var e=T.Gx(z),V=z.length;if(q==null)q=T.K8(e)>>>1;
if(e==8)for(var n=0;n<V;n++)z[n]=z[n]<q?0:255;if(e==16)for(var n=0;n<V;n++)z[n]=z[n]<q?0:65535;if(e==32)for(var n=0;
n<V;n++)z[n]=z[n]<q?0:1};T.PY=function(z,q){var e=z.length,V=T.Gx(z);if(V==8)for(var n=0;n<e;n++)z[n]=Math.round(z[n]*q);
if(V==16)for(var n=0;n<e;n++)z[n]=Math.round(z[n]*q);if(V==32)for(var n=0;n<e;n++)z[n]=z[n]*q};T.NK=function(z,q){var e=T.Gx(z);
if(e==8){var V=new Uint32Array(z.buffer),P=new Uint32Array(q.buffer),D=V.length;for(var n=0;n<D;n++){var B=V[n],A=P[n];
P[n]=T.Ix((B>>>24)*(A>>>24))<<24|T.Ix((B>>>16&255)*(A>>>16&255))<<16|T.Ix((B>>>8&255)*(A>>>8&255))<<8|T.Ix((B&255)*(A&255))}}else{var s=1/(e==16?65535:1);
for(var n=0;n<z.length;n++)q[n]=q[n]*z[n]*s}};T.Zb=function(z,q){var e=T.Gx(z);if(e!=T.Gx(q))throw"e";
var V=z.length;if(e==8)for(var n=0;n<V;n++)q[(n<<2)+3]=q[(n<<2)+3]*z[n]*(1/255);if(e==16)for(var n=0;
n<V;n++)q[(n<<2)+3]=q[(n<<2)+3]*z[n]*(1/65535);if(e==32)for(var n=0;n<V;n++)q[(n<<2)+3]=q[(n<<2)+3]*z[n]};
T.ah$=function(z,q,e,V){var P=Math.max(0,V.x-q.x),D=Math.max(0,q.x-V.x),B=Math.max(0,V.y-q.y),A=Math.max(0,q.y-V.y),s=Math.min(q.x+q.s,V.x+V.s)-Math.max(q.x,V.x),a=Math.min(q.y+q.T,V.y+V.T)-Math.max(q.y,V.y);
for(var n=0;n<a;n++){var M=(B+n)*q.s+P,$=(A+n)*V.s+D;for(var U=0;U<s;U++){e[$]=T.Ix(e[$]*z[M]);M++;$++}}};
T.d5=function(z,q,e,V,P){var D=T.Gx(z),B=q.HX(V);if(P)B=B.HX(P);var A=Math.max(0,B.x-q.x),s=Math.max(0,B.x-V.x),a=Math.max(0,B.y-q.y),M=Math.max(0,B.y-V.y),$=B.s,U=B.T;
for(var n=0;n<U;n++){var o=(a+n)*q.s+A,t=((M+n)*V.s+s<<2)+3;for(var c=0;c<$;c++){if(D==8)e[t]=T.Ix(e[t]*z[o]);
else if(D==16)e[t]=e[t]*z[o]*(1/65535);else if(D==32)e[t]=e[t]*z[o];o++;t+=4}}};T.ps=function(z,q,e,V,P){var D=T.Gx(z),B=q.HX(V);
if(P)B=B.HX(P);var A=Math.max(0,B.x-q.x),s=Math.max(0,B.x-V.x),a=Math.max(0,B.y-q.y),M=Math.max(0,B.y-V.y),$=B.s,U=B.T;
for(var n=0;n<U;n++){var o=((a+n)*q.s+A<<2)+3,t=((M+n)*V.s+s<<2)+3;for(var c=0;c<$;c++){if(D==8)e[t]=T.Ix(e[t]*z[o]);
else if(D==16)e[t]=e[t]*z[o]*(1/65535);else if(D==32)e[t]=e[t]*z[o];o+=4;t+=4}}};T.Wy=function(z,q){var e=T.Gx(z),V=T.K8(e),P=255/V,U=0;
if(q==null)q=1;var D=4*q,B=z.length>>>2,A=new Float64Array(256),s=new Float64Array(256),a=new Float64Array(256),M=new Float64Array(256),$=4*Math.floor(B/q)*q;
for(var n=0;n<$;n+=D){var o=Math.min(255,Math.round(P*z[n+0])),t=Math.min(255,Math.round(P*z[n+1])),c=Math.min(255,Math.round(P*z[n+2])),H=P*z[n+3]*q,F=H*(1/255);
s[o]+=F;a[t]+=F;M[c]+=F;U+=H}for(var n=0;n<256;n++)A[n]=s[n]+a[n]+M[n];return[A,s,a,M,B,U/255]};T.arH=function(z,q){function e(d,L){var x=-1,O=0;
while(O<=L){x++;O+=d[x]}return x}function V(d,L){var x=256,O=0;while(O<=L){x--;O+=d[x]}return x}function P(d){var L=0,x=0;
for(var n=0;n<256;n++){x+=d[n];L+=d[n]*n*(1/255)}return L/x}var D=z[0],B=z[1]/100,A=z[2]/100,s=[],a=[];
for(var n=0;n<4;n++){var M=n==0?3:1;s[n]=e(q[n],M*B*q[5]);a[n]=V(q[n],M*A*q[5])}var $=[P(q[1]),P(q[2]),P(q[3])],U=$.slice(0);
U.sort(function(d,L){return d-L});var o=$.indexOf(U[1]),t=($[0]+$[1]+$[2])/3,c=[];for(var n=0;n<4;n++){var H=0,F=255,i=s[n],X=a[n];
if(D==0&&n==0){H=i;F=X}if(D==1&&n!=0){H=i;F=X}if(D==2&&n!=0){var M=$[n-1]/t;F=Math.max(0,Math.min(255,a[o]*M))}var K=[H,F];
c.push(K);if(D==3&&n==0){var f=255*(1-t);K.push(f)}}return c};T.aBY=function(z,q,e,V,P,D,B){var A=z.length,s=T.Gx(z),a=s==8?255:s==16?65535:1,M=1/a,$=(e.length-1)*.999999,U=T.aG9;
if(!B&&!D){if(s==8&&e.length==256){e=T.EZ(e,8);V=T.EZ(V,8);P=T.EZ(P,8);for(var n=0;n<A;n+=4){q[n]=e[z[n]];
q[n+1]=V[z[n+1]];q[n+2]=P[z[n+2]];q[n+3]=z[n+3]}}else for(var n=0;n<A;n+=4){var o=z[n]*M,t=z[n+1]*M,c=z[n+2]*M,H=U(e,$*o),F=U(V,$*t),i=U(P,$*c);
q[n]=H*a;q[n+1]=F*a;q[n+2]=i*a;q[n+3]=z[n+3]}return}for(var n=0;n<A;n+=4){var o=z[n]*M,t=z[n+1]*M,c=z[n+2]*M;
if(D)o=t=c=o*.3+t*.59+c*.11;var H=U(e,$*o),F=U(V,$*t),i=U(P,$*c);if(B){var X=T.Vq(o,t,c),K=T.Vq(H,F,i);
if(X>K){var f=(X-K)/(1-K);H+=f*(1-H);F+=f*(1-F);i+=f*(1-i)}else if(K==0)H=F=i=0;else{var f=X/K;H=f*H;
F=f*F;i=f*i}}q[n]=H*a;q[n+1]=F*a;q[n+2]=i*a;q[n+3]=z[n+3]}};T.aG9=function(z,q){var e=z.length;if(q>=e)return z[e-1]+(z[e-1]-z[e-2])*(q-e);
var V=~~q,P=q-V;return z[V]*(1-P)+z[V+(V==e-1?0:1)]*P};T.KI=function(z,q){var e=T.EZ(z,8),V=q.s,P=q.T,top=0,D=0,B=0,A=0,s=0;
s=0;for(var a=0;a<P;a++){var M=a*V;for(var n=0;n<V;n++)s|=e[M+n];if(s!=0)break;top++}if(top==P)return new kk(0,0,0,0);
s=0;for(var a=P-1;a>=0;a--){var M=a*V;for(var n=0;n<V;n++)s|=e[M+n];if(s!=0)break;B++}var $=P-B;s=0;
for(var n=0;n<V;n++){for(var a=top;a<$;a++)s|=e[a*V+n];if(s!=0)break;D++}s=0;for(var n=V-1;n>=0;n--){for(var a=top;
a<$;a++)s|=e[a*V+n];if(s!=0)break;A++}var U=new kk(q.x+D,q.y+top,V-D-A,P-top-B);return U};T.JB=function(z,q,e,V,P){var D=T.EZ(z,8),top=0,a=0,M=0,$=0,U=!1;
if(V==null)V=[!0,!0,!0,!0];if(e==null)e=0;if(P==null)P=4294967295;var B=new Uint32Array(D.buffer),A=q.s,s=q.T,o=[B[0],B[B.length-1],0][e];
U=!1;if(V[0])for(var t=0;t<s;t++){var c=t*A;for(var n=0;n<A;n++)if(B[c+n]&P^o)U=!0;if(U)break;top++}U=!1;
if(V[2])for(var t=s-1;t>=0;t--){var c=t*A;for(var n=0;n<A;n++)if(B[c+n]&P^o)U=!0;if(U)break;M++}U=!1;
if(V[1])for(var n=0;n<A;n++){for(var t=0;t<s;t++)if(B[t*A+n]&P^o)U=!0;if(U)break;a++}U=!1;if(V[3])for(var n=A-1;
n>=0;n--){for(var t=0;t<s;t++)if(B[t*A+n]&P^o)U=!0;if(U)break;$++}var H=new kk(q.x+a,q.y+top,A-a-$,s-top-M);
return H.a8()?new kk(0,0,0,0):H};T.Sn=function(z){var q=T.KI(z.o,z.V);if(q.bs(z.V))return;var e=T.n(q.D(),T.Gx(z.o));
T.KY(z.o,z.V,e,q);z.o=e;z.V=q};T.II=function(z,q){var e=T.JB(z.buffer,z.V,2,null,q?null:4278190080);
if(e.bs(z.V))return;var V=new T.n(e.D()*4,T.Gx(z.buffer));T.aF(z.buffer,z.V,V,e);z.buffer=V;z.V=e};T.extend=function(z,q,e){if(z.V.oq(q))return;
var V=z.V.X8(q),P=T.Gx(z.o),D=T.n(V.D(),P);if(e!=null)D.fill(T.K8(P)*e);T.KY(z.o,z.V,D,V);z.V=V;z.o=D};
T.a7Z=function(z,q){if(q.a8()||z.V.oq(q))return;var e=z.V.X8(q),V=T.n(e.D()*4,T.Gx(z.buffer));T.aF(z.buffer,z.V,V,e);
z.V=e;z.buffer=V};T.U8=function(z,q,e){if(!e.vG(z))return!1;var V=Math.floor(z.x)-e.x,P=Math.floor(z.y)-e.y,n=P*e.s+V;
return q[n]>T.K8(T.Gx(q))/2};T.a0k=function(z,q,e){if(!e.vG(z))return!1;var V=Math.floor(z.x)-e.x,P=Math.floor(z.y)-e.y,n=P*e.s+V;
return q[4*n+3]>T.K8(T.Gx(q))/2};T.ZU=function(z){this.x6=T.n(z);this.l=T.n(z);this.I=T.n(z);this.c=T.n(z)};
T.ZU.prototype.Y=function(){var z=this.x6.length,q=new T.ZU(1);q.x6=this.x6.slice(0);q.l=this.l.slice(0);
q.I=this.I.slice(0);q.c=this.c.slice(0);return q};T.P.apZ=function(z,q,e,V,P){var D=P[0]+1,B=P[1],A=Math.abs(B-25)/4,s=P[2],a=s%2+s*s>>1,M=T.P.jc;
M.zc(q,e);var $=M.u0(1),U=M.u0(1),o=M.u0(1);M.Pq(z,V,s,s,a);M.yv(V);M.RE(V,$);M.iv($,U,D,D,1);M.iv($,o,D,D,D*D);
M.sub(o,U);M.NK(U,A);(B<25?M.sub:M.add)($,U);M.qB(U,V);M.pH(V)};T.P.a8Q=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);var B=P[0]*2.55,A=P[1],s=A>>1,a=P[2]*.25,M=D.u0(4),$=D.u0(1),U=D.u0(1);D.gc(z,M,A,1,!0,s);
D.gc(z,V,A,1,!1,s);D.mg(z,$);D.em($,B);D.Kd($,U,3);D.DC(V,U,M);D.K9(M,V,a)};T.P.aKe=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);D.vW(P[3]);var B=P[0]*-3+80,A=P[1]*-3+80,s=P[2]/2+.5,a=P[4],M=P[5],$=D.u0(1),U=D.u0(1),o=D.u0(1),t=D.u0(1),c=D.u0(4),H=D.u0(4);
D.mg(z,$);D.Yh($,U);D.$o($,A,5);D.adP($,.4,0);D.Kd($,o,3);D.Q8(o,$,9,3,!0,27);D.Yh(U,o);D.TG(o);var F=D.El(B,5,o);
for(var n=0;n<D.Z7;n++){U[n]=F[255-U[n]]}D.adP(U,.4,0);D.Yh(U,o);D.Kd(o,t,2);D.Q8(t,o,5,3,!1,15);D.NK($,s);
D.NK(o,s);D.l3(V,2155905279);D.l3(H,a);D.l3(c,M);D.DC(H,$,V);D.DC(c,o,V)};T.P.ay5=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);var B=new Uint8Array(256),A=5+10*P[1];A+=P[1]>3?(P[1]-3)*10:0;var s=~~(P[2]*.73)+50,a=Math.min(s+A,128),M=a-s,$=-255*s;
for(var n=0;n<256;n++){var U=n*65;B[n]=D.G_($/M);$+=255}var o=D.u0(1),t=D.u0(1),c=D.u0(1);D.mg(z,o);
D.Yh(o,c);D.Kd(o,t,2*P[0]+1);D.sub(t,o);D.NK(o,65);D.Q8(o,t,9,3,!0,20);for(var n=0;n<D.Z7;n++){var H=c[n],F=t[n];
o[n]=F>0?~~((F*H+(255-F)*128)/255):128}D.Kd(o,t,3);D.Q8(t,o,15,2,!0,16);D.Q8(t,c,15,2,!1,15);D.GW(o,c);
D.hm(c,t,2);D.S9(t,B);D.Kd(t,o,2);D.zM(o,V)};T.P.ano=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);var B=2*P[0]+1,A=D.aqX[P[1]],s=P[2]*5.1,a=P[3],M=D.u0(1),$=D.u0(1),U=D.u0(4),o=D.u0(4);
D.l3(U,a);D.yv(U,V);D.aEJ(M,s);D.qB(M,V);D.pH(V,U);D.mg(z,$);D.Kd($,M,B);D.sub(M,$);D.NK($,A);D.Q8($,M,9,3,!0,20);
D.DC(z,M,U);D.XK(U,V,3);D.gc(V,U,15,2,!0,16);D.gc(V,o,15,2,!1,16);D.GW(U,o);D.K9(o,V,2)};T.P.ahK=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);var B=(15-P[0])/4+1,A=(15-P[1])/4+1,s=P[2],a=P[3],M=D.qD(P[4]),$=P[5]+1,U=P[6],o=P[7],t=P[8],c=D.u0(1),H=D.u0(1),F=D.u0(1),i=D.u0(1),X=D.u0(4),K=D.u0(4);
D.VU(F,s,a,U);D.mg(z,H);D.Kd(H,c,5);D.pI(F,c,i,$,M);D.NK(i,B);D.CZ(i,2);D.TG(c);D.pI(F,c,H,$,M);D.NK(H,A);
D.CZ(H,2);D.l3(X,2155905279);D.l3(K,o);D.l3(V,t);D.DC(X,H,K);D.DC(K,i,V)};T.P.aDy=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);D.vW(P[3]);var B=P[0],A=P[1]/10,s=P[2]/10,a=D.u0(1),M=D.u0(1),$=D.u0(1),U=D.ig(),o=D.ig(),t=D.ig();
D.B7(a);D.Kd(a,M,11);D.Kd(M,a,11);D._9(a,U);D.Tv(z,a);D.Yh(a,$);D.Kd(a,M,9);D.Kd(M,a,9);D._9(a,o);D.Q2(o,t,5);
D.Q2(t,o,5);D.alX(U,.8);D.azB(U,o,.8,.9);D.aoN(o,a,B);D.iv(a,M,2,2,1);D.iv(M,a,2,2,3);D.iv(a,M,2,2,3);
D.iv($,a,5,5,13);D.Db(M,a,M,A);D.SC(a,M,M,s);D.pI(M,M,a,5,1);D.yv(z,V);D.qB(a,V);D.pH(V)};T.P.aAg=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);var B=P[0],A=P[1]/2,s=P[2],a=B/2,M=D.u0(4),$=D.u0(4);D.Yh(z,V);for(var U=0;U<s;U++){D.gc(V,M,B,1,!0,a);
D.gc(V,$,B,1,!1,a);D.GW($,M);D.XK(M,$,2);D.K9($,V,A)}};T.P.aLy=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);
var B=P[0]*10,A=P[1]*4.9,s=P[2]*4.9,a=D.u0(1),M=D.u0(1),$=D.u0(4),U=D.u0(4);D.mg(z,a);D.em(a,D.aur(a,B));
D.Kd(a,M,3);D.gc(z,$,5,1,!1,1);D.gc(z,V,15,2,!0,16);D.DC(V,M,$);D.yv($,V);D.RE(V,a);D.$o(a,A,s);D.qB(a,V);
D.pH(V)};T.P.a1C=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);D.vW(P[4]);var B=P[0]/20,A=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][P[1]],s=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][P[2]],a=P[3],M=new Int16Array(256);
for(var n=0;n<256;n++){M[n]=~~((n-128)*B)}var $=D.u0(1),U=D.u0(1),o=D.u0(4);D.mg(z,$);D.Kd($,U,25);D.NK(U,A);
D.CZ(U,s);D.Kd(U,$,25);D.B7(U);D.aeC($,U,M);D.Yh(z,V);D.l3(o,a);D.DC(o,$,V)};T.P.adI=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);var B=P[0]+5,A=15-P[1],s=B*B/2,a=1-(3-P[2])/10,M=~~(A*A*a-1),$=~~(A*A*(1-a));if($==0)$=1;var U=D.u0(1),o=D.u0(1),t=D.u0(1),c=D.u0(4);
D.mg(z,t);D.iv(t,U,B,B,s);D.Kd(t,o,B);D.sub(U,o);D.em(o,1);D.Pq(z,c,A,A,M);D.Pq(z,V,A,A,$);D.DC(c,o,V)};
T.P.agz=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);D.vW(P[3]);var B=(20-P[0])*.05,A=P[1]*-2.75+60,s=65-A,a=P[2]/10,M=D.u0(1),$=D.u0(1);
D.Tv(z,$);var U=D.El(A,s,$);D.yv(z,V);D.RE(V,$);D.B7(M);D.Qb($,M,B);D.S9($,U);D.NK($,P[2]/10);D.add(M,$);
D.qB($,V);D.pH(V)};T.P.aki=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);var B=5+P[0],A=15-P[1],s=P[2],a=B*B/2+B*B%2*1,M=1-(3-P[2])/10,$=~~(A*A*M-1),U=~~(A*A*(1-M));
if(U==0)U=1;var o=D.u0(1),t=D.u0(1),c=D.u0(1),H=D.u0(1),F=D.u0(1);D.Tv(z,t);D.hm(t,o,3);D.iv(o,t,2,2,1);
var i=D.El(20,20,t);D.S9(t,i);D.Kd(t,F,5);D.iv(F,o,B,B,a);D.iv(F,t,A,A,$);D.iv(F,c,A,A,U);D.Kd(F,H,B);
D.sub(o,H);D.em(H,1);D.aMx(t,H,c);D.yv(z,V);D.qB(c,V);D.pH(V)};T.P.apx=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);D.vW(P[5]);var B=D.Z7,A=D.JM,s=P[0],a=P[1],M=P[2],$=P[3],U=P[4],o=.05*s+1,t=s/100,c=s>>1,H=2*s-100,F=+(a==9),i=+(a==7),X=[4,1][F],K=[3,2][F],f=[1,2][i],d=[2,1][i],L=[50,75][F],G=a<4?M:(M>>1)+50,x=D.aCF(L,G),O=D.Xe($),v=D.Xe(U),C=D.u0(4),S=D.u0(4),j=D.u0(1),w=D.u0(1);
function u(V,x){if(G!=50){D.aLK(V,x)}}function l(z,N){for(var n=0;n<B;n++){z[n]=D.G_(z[n]+(N[n]-128)*t)}}function I(z,N){for(var n=0,h=0;
n<B;n++){z[h]=D.G_(z[h]+(N[h]-128)*t);z[h+1]=D.G_(z[h+1]+(N[h+1]-128)*t);z[h+2]=D.G_(z[h+2]+(N[h+2]-128)*t);
h+=4}}function Q(z,V){D.B7(S);D.Yh(z,V);I(V,S);u(V,x)}function b(N){var h=0;for(var j5=0;j5<12;j5++)h+=D.random();
return D.G_(c*(h-6)+N)}function p(z,V){D.Yh(z,V);for(var n=0;n<A;n+=4){V[n]=b(V[n]);V[n+1]=b(V[n+1]);
V[n+2]=b(V[n+2])}u(V,x)}function k(z,V){D.Yh(z,V);for(var n=0;n<A;n+=4){if(D.random()<t){V[n]=O[0];V[n+1]=O[1];
V[n+2]=O[2]}}u(V,x)}function g(z,V){D.B7(C);D.Pq(C,S,K,K,X);D.Yh(z,C);I(C,S);D.Pq(C,V,5,5,13);u(V,x)}function Y(z,V){D.B7(S);
D.Yh(z,C);I(C,S);u(V,x);D.Pq(C,V,K,K,X)}function R(z,V){D.Yh(z,C);u(V,x);D.mg(C,j);for(var n=0,N=0;n<B;
n++){var h=((H-j[n]+255)*128.5+.5)/32767;if(D.random()<=h){V[N++]=v[0];V[N++]=v[1];V[N++]=v[2]}else{V[N++]=O[0];
V[N++]=O[1];V[N++]=O[2]}V[N]=z[N];N++}}function m(z,V){D.yv(z,V);D.RE(V,j);D.hm(j,w,o);D.iv(w,j,K,K,X);
D.S9(j,x);D.qB(j,V);D.pH(V)}function Z(z){var N=0;if(a==8){for(var h=0;h<q;h++){z[N++]=~~(D.random()*255)}for(var n=1;
n<e;n++){for(var h=0;h<q;h++){z[N++]=z[h]}}}else{for(var n=0;n<e;n++){var j5=~~(D.random()*255);for(var h=0;
h<q;h++){z[N++]=j5}}}}function E(z,V){D.mg(z,j);D.B7(w);l(j,w);Z(w);l(j,w);D.XK(z,C,9);D.XK(C,S,9);D.Kd(j,w,2);
D.S9(w,x);D.Kd(w,j,2);D.yv(S,V);D.qB(j,V);D.pH(V)}[Q,p,k,g,g,Y,R,E,E,m][a](z,V)};T.P.aw1=function(z,q,e,V,P){var D=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],B=T.P.jc,c=0,H,n,f,d,L,G=0,x=1,O=255;
B.zc(q,e);B.vW(P[3]);var A=B.u0(1),s=B.u0(1);B.mg(z,A);var a=P[0],M=P[1],$=M<=50?D[M]/255:1+(255-D[101-M])/255,U=P[2],o=A.length,t=new Float32Array(o),F=1+1/10*a,i=(1-1/F)/2,X=16/256,K=q-1;
for(n=0;n<B.Z7;n++){t[n]=A[n]/255;s[n]=a==1?B.random()<1/255?O:x:x}function v(C,S){var j=C*q+S;if(s[j]!=x||C>=e||S>=q){return}var d=t[j],w=$-d,u=B.random(),l=u/F+i;
if(c==0||Math.abs(L-d)>X){H=l<=w?G:O;c=~~(B.random()*a)}else if(.1<u){c--}else{c=0}s[j]=H;L=d}if(U==0){for(n=0;
n<q;n++){for(f=0;f<q;f++){d=n+f;if(d>=q)break;v(f,K-d)}c=0}for(n=1;n<e;n++){for(f=0;f<e;f++){d=n+f;if(d>=e||f>=q)break;
v(d,K-f)}c=0}}else if(U==1){for(n=0;n<e;n++){for(f=0;f<q;f++){v(n,f)}c=0}}else if(U==2){for(n=0;n<q;
n++){for(f=0;f<q;f++){d=n+f;if(d>=q)break;v(f,d)}c=0}for(n=1;n<e;n++){for(f=0;f<e;f++){d=n+f;if(d>=e||f>=q)break;
v(d,f)}c=0}}else{for(n=0;n<q;n++){for(f=0;f<e;f++){v(f,n)}c=0}}B.zM(s,V)};T.P.awD=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);var B=P[0],A=P[1],s=P[2],a=D.u0(1),M=D.u0(1),$=D.u0(1),U=D.u0(1),o=D.u0(4),t=D.u0(4);D.RE(z,U,3,4);
D.mg(z,a);D.iv(a,M,3,3,1);D.iv(a,$,3,3,9);D.sub($,M);D.Kd(M,a,3);D.$o(a,40,10,U);D.gc(z,V,B,2,!1,B);
D.gc(z,o,B,2,!0,B);D.l3(t,255);D.DC(V,a,t);D.DC(t,a,o);D.K9(o,V,1);D.yv(V);D.RE(V,a);D.$o(a,A,s,U);D.qB(a,V);
D.pH(V)};T.P.aeL=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);D.vW(P[3]);var B=P[0],A=P[1],s=P[2]/10;B=B+A;
var a=D.u0(1),M=D.u0(1),$=D.ig(),U=D.ig();D.B7(a);D.Kd(a,M,11);D.Kd(M,a,11);D._9(a,$);D.Q2($,U,5);D.Q2(U,$,5);
D.alX(U,.97);D.aoN(U,a,B);D.iv(a,M,A,A,1);D.Tv(z,a);D.Db(M,a,M,.6);D.SC(a,M,M,s);D.pI(M,M,a,5,1);D.yv(z,V);
D.qB(a,V);D.pH(V)};T.P.aaG=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);var B=Math.abs(P[0]),A=B+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][B],s=2*B+1,a=P[1]/10,M=a*13/15,$=D.u0(1),U=D.u0(1),o=D.u0(1),t=D.u0(1),c=D.u0(4),H=D.u0(4),F=D.u0(4),i=D.u0(4),X=D.u0(4);
D.mg(z,$);if(P[0]>=0){D.TG($)}D.Yh($,o);D.Kd($,t,A);D.Kd(t,$,A);D.NK($,a);D.Yh($,U);D.Kd($,t,s);D.Kd(t,$,s);
D.NK($,M);D.l3(F,P[2]);D.l3(i,P[3]);D.l3(X,P[4]);D.DC(F,$,i,c);D.DC(X,U,c,H);D.DC(i,o,H,V);D.RE(z,o,3);
D.qB(o,V,3)};T.P.atT=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);D.vW(P[5]);var B=P[0]*5.1,A=P[1]/100,s=D.aft[P[2]],a=D.u0(1),M=D.u0(1),$=D.u0(1);
D.mg(z,a);D.aEJ(M,255);D.B7($);D.em(a,B);D.Qb(M,a,.7);D.Qb($,a,A);D.pI(a,a,M,5,s);D.Yh(z,V);D.aPA(V,B,P[4],P[3]);
D.yv(V);D.qB(M,V);D.pH(V)};T.P.anN=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);var B=P[0],A=4-P[1],s=11-P[2],a=D.u0(1),M=D.u0(1),$=D.u0(4);
D.Tv(z,M);for(var n=0;n<A;n++){D.Yh(M,a);D.ak$(a,M,B,B)}D.XK(z,$,B);D.yv($,$);D.qB(M,$);D.pH($,$);(s<11?D.aFJ:D.Yh)($,V,s)};
T.P.ajz=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);D.vW(P[2]);var B=P[0]+5,A=~~(B/5+1),s=~~(B/2)+1,a=s*s,M=~~(B/3),$=D.aft[P[1]],U=new Array(256);
for(var n=0;n<256;n++){U[n]=~~(.2*(n-128))}var o=D.u0(1),t=D.u0(1);D.an5(z,V,B);D.yv(V);D.RE(V,o);D.B7(t);
D.aeC(o,t,U);D.anL(t,B,B,A,A);D.Db(o,t,o,1);D.Kd(o,t,M);D.Kd(t,o,M);D.iv(o,t,s,s,a);D.pI(t,t,o,5,$);
D.qB(o,V);D.pH(V)};T.P.a2J=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);var B=D.u0(1),A=D.u0(1),s=D.u0(1),a=D.ig(),M=D.ig();
D.mg(z,B);D.Kd(B,A,P[2]);D.em(A,P[0]*5.1);D.iv(A,B,2,2,4);D.Kd(B,A,3);D.Kd(A,B,3);D.Yh(B,s);D.Kd(B,A,5);
D.Kd(A,B,5);D._9(B,a);D.Q2(a,M,5);D.Q2(M,a,5);D.aoO(a,A,P[1]);D.TG(A);D.Db(s,A,s,1);D.zM(s,V)};T.P.awH=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);var B=1<<7-P[2],A=D.u0(1),s=D.u0(1),a=D.u0(1);D.Tv(z,s);D.Kd(s,A,3);D.Yh(A,s);D.Kd(A,a,P[0]+5);
D.sub(a,s);D.$o(s,1,P[1]);D.NK(A,1/B);D.NK(A,B);D.sub(A,s);D.yv(z,V);D.qB(s,V);D.pH(V)};T.P.anV=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);D.vW(P[3]);var B=D.u0(1),A=D.u0(1),s=D.u0(1);D.mg(z,B);D.aJ9(A,P[0]/50);D.Kd(A,s,3);D.iv(B,A,9,9,41);
D.$o(A,P[1],P[2]);D.Db(A,s,s,.75);D.SC(A,s,A,.5);D.Yh(A,B);D.iv(B,s,3,3,8);D.Db(s,A,s,.75);D.NK(s,1.2);
D.hm(s,B,1);D.Kd(B,s,2);D.hm(s,B,2);D.NK(B,1.2);D.Kd(B,s,2);D.zM(s,V)};T.P.a4E=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);var B=P[0]+9,A=P[1]/2,s=P[2],a=P[3],M=D.qD(P[4]),$=P[5]+1,U=P[6],o=D.u0(1),t=D.u0(1),c=D.u0(4),H=D.u0(4);
D.VU(t,s,a,U);D.a2h(z,V,B,1,1);D.a2h(V,c,B,1,1);D.aOT(c,c,H,7,A);D.NK(H,1.2);D.CZ(H,1.2);D.pI(t,o,o,$,M);
D.NK(o,3);D.Yh(z,V);D.DC(H,o,V)};T.P.a9x=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);D.vW(P[3]);var B=P[0]+4,A=B*2/5+(B%5|0);
B--;var s=P[1]*-2.75+60,a=65-s,M=P[2]/10,$=D.u0(1),U=D.u0(1);D.B7($);D.Tv(z,U);var o=D.El(s,a,U);D.yv(z,V);
D.RE(V,U);D.Qb(U,$,.8);D.S9(U,o);D.NK(U,M);D.add($,U);D.Q8(U,$,B,3,!1,A);D.qB($,V);D.pH(V)};T.P.ajP=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);D.vW(P[3]);var B=P[0]+5,A=(B*B>>1)+B%2,s=P[1]/10,a=P[2],M=(a*a>>1)+a%2,$=D.u0(1),U=D.u0(1),o=D.u0(1),t=D.u0(4),c=D.u0(4),H=D.u0(4);
D.B7(o);D.yv(z,H);D.RE(H,$);D.Qb($,o,.8);D.Kd(o,$,3);D.hm($,o,s);D.qB(o,H);D.pH(H,H);D.mg(H,o);D.iv(o,$,B,B,A);
D.Kd(o,U,B);D.sub($,U);D.em(U,1);D.Pq(H,t,7,7,40);D.Pq(H,c,7,7,10);D.DC(t,U,c);D.Pq(c,V,a,a,M)};T.P.aMY=function(z,q,e,V,P){var D=T.P.jc,A=255,n,a;
D.zc(q,e);var B=P[0];if(B<2)A=B;else if(B<12)A=5*B-5;else if(B<47)A=2*B+28;else if(B<50){n=B-47;A=125+12.5*n+12.5*n*n}var s=new Uint8Array(256);
for(n=75,a=15;n<256;n++,a+=24)s[n]=Math.min(255,a);var M=D.u0(1),$=D.u0(1),U=D.u0(1);D.mg(z,M);D.Kd(M,$,11);
D.Kd($,U,11);D.sub(U,M);D.NK(M,8);D.sub(U,M);D.em(M,A);D.TG(M);D.Kd(M,$,5);D.em($,51);D.Kd($,M,P[1]);
D.Kd(M,$,P[1]);D.TG($);D.S9($,s);D.zM($,V)};T.P.au2=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);var B=D.aqX[P[1]],A=P[2],s=A*1.5,a=D.u0(1),M=D.u0(1),$=D.u0(1);
D.Tv(z,a);D.Q8(a,M,15,2,!0,15);D.Yh(M,$);D.$o($,A,s);D.Kd($,a,3);D.Kd(M,$,P[0]);D.sub($,M);D.NK(M,B);
D.sub(a,M);D.Kd(M,a,3);D.Q8(a,M,3,1,!1,1);D.XK(z,V,15);D.yv(V);D.qB(M,V);D.pH(V)};T.P.a8d=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);D.vW(P[3]);var B=P[0]*5.1,A=16-P[1],s=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][P[2]],a=D.u0(1),M=D.u0(1),$=D.u0(1);
D.mg(z,a);D.em(a,B);D.Kd(a,M,A);D.Kd(M,a,A);D.B7($);D.SC(a,$,$,1);D.Db(a,$,a,.75);D.NK(a,s);D.CZ(a,s);
D.iv(a,M,2,2,2);D.zM(M,V)};T.P.a1x=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);var B=P[0]+9,A=P[1]+9,s=P[2],a=P[3],M=D.qD(P[4]),$=P[5]+1,U=P[6],o=D.u0(1),t=D.u0(1),c=D.u0(1),H=D.u0(1),F=D.u0(1),i=D.u0(4);
D.Tv(z,o);D.ak$(o,c,B,B);D.Kd(c,o,A);D.Yh(c,F);D.Yh(o,H);D.sub(F,H);D.sub(o,F);D.add(F,H);D.NK(H,10);
D.VU(t,s,a,U);D.pI(t,o,F,$,M);D.aMx(F,H,c,.8);D.XK(z,i,9);D.XK(i,V,9);D.yv(V);D.qB(c,V);D.pH(V)};T.P.ayV=function(z,q,e,V,P){var D=T.P.jc;
D.zc(q,e);var B=16-P[0],A=P[1]*8,s=1-(3-P[2])/10,a=~~(B*B*s-1),M=~~(B*B*(1-s));if(M==0)M=1;var $=D.u0(1),U=D.u0(1),o=D.u0(1),t=D.u0(4);
D.mg(z,o);D.iv(o,$,7,7,25);D.Kd(o,U,7);D.sub($,U);D.em(U,1);D.Pq(z,t,B,B,a);D.Pq(z,V,B,B,M);D.DC(t,U,V);
D.yv(V);D.RE(V,$);D.iv($,o,3,3,1);D.iv($,U,3,3,9);D.sub(U,o);D.Yh(o,U);D.sub($,o);D.sub(o,U);D.iv(U,$,3,3,8);
D.$o($,A,1);D.qB($,V);D.pH(V)};T.P.al2=function(z,q,e,V,P){var D=T.P.jc;D.zc(q,e);D.vW(P[3]);var B=P[0],A=P[1],s=P[2],a=B>>1,M=Math.max(~~(B/5),1),$=Math.max(~~(B*2/3),1),U=D.aCF(A,s),o=D.u0(1),t=D.u0(1),c=D.u0(1),H=D.u0(1),F=D.u0(4);
D.Tv(z,o);D.aAJ(2147483647,4,2,2,0,255,t);D.aAJ(4,2147483647,2,2,0,255,H);D.B7(c);D.SC(t,c,t,1);D.SC(H,c,H,1);
D.SC(t,o,t,1);D.SC(H,o,H,1);D.XK(z,F,a);D.XK(F,V,a);D.iv(t,o,1,B,M);D.iv(o,t,3,B,$);D.iv(H,o,B,1,M);
D.iv(o,H,B,3,$);D.GW(t,H);D.yv(V);D.qB(H,V);D.pH(V);D.aLK(V,U)};T.P.Rt=function(z,q,e){var V=e.atx,P=e.Z7,D=e.u0(1),top=e.u0(1),B=e.u0(1),A=e.u0(1),s=e.u0(1),a=e.u0(1),M=e.u0(1),$=e.u0(1),U=e.u0(1),o=e.xL,t=e.Hi,c=T.WZ.pf,H=T.WZ.zt;
c(z,D,o,t,H([8,5,2,5,2,-1,2,-1,-4]));c(z,top,o,t,H([5,5,5,2,2,2,-1,-1,-1]));c(z,B,o,t,H([2,5,8,-1,2,5,-4,-1,2]));
c(z,A,o,t,H([5,2,-1,5,2,-1,5,2,-1]));c(z,s,o,t,H([2,2,2,2,2,2,2,2,2]));c(z,a,o,t,H([-1,2,5,-1,2,5,-1,2,5]));
c(z,M,o,t,H([2,-1,-4,5,2,-1,8,5,2]));c(z,$,o,t,H([-1,-1,-1,2,2,2,5,5,5]));c(z,U,o,t,H([-4,-1,2,-1,2,5,2,5,8]));
var F=[D,top,B,A,s,a,M,$,U];for(var i=0;i<t;i++){for(var X=0;X<o;X++){var K=i*o+X,f=z[K],d=null,L=0;
for(var G=-1;G<2;G++){for(var x=-1;x<2;x++){var O=F[(G+1)*3+x+1],v=Math.max(0,Math.min(i+G,t-1)),C=Math.max(0,Math.min(X+x,o-1)),S=O[v*o+C],j=Math.abs(S-f);
if(d==null||j<d){d=j;L=S}}}q[K]=L}}};T.P.aJD=function(z,q,e,V,P){var self=T.P.jc;self.zc(q,e);var D=self.u0(1),B=self.u0(1);
for(var n=0;n<4;n++){self.RE(z,D,n);if(n<3){T.P.Rt(D,B,self);T.P.Rt(B,D,self);T.P.Rt(D,B,self);T.P.Rt(B,D,self);
T.P.Rt(D,B,self);T.P.Rt(B,D,self);T.P.Rt(D,B,self);T.P.Rt(B,D,self);T.P.Rt(D,B,self)}else B=D;self.qB(B,V,n)}};
T.P.jc={};T.P.jc.xL=0;T.P.jc.Hi=0;T.P.jc.Z7=0;T.P.jc.pW=0;T.P.jc.JM=0;T.P.jc.zc=function(z,q){var e=z*q,self=T.P.jc;
self.xL=z;self.Hi=q;self.Z7=e;self.pW=e<<1;self.JM=e<<2};T.P.jc.vW=function(z){T.P.jc.random=function(){var q=z+=1831565813;
q=Math.imul(q^q>>>15,q|1);q^=q+Math.imul(q^q>>>7,q|61);return((q^q>>>14)>>>0)/4294967296}};T.P.jc.u0=function(z){var q=T.P.jc;
return new Uint8Array([-1,q.Z7,q.pW,-1,q.JM][z])};T.P.jc.ig=function(){return new Int32Array(T.P.jc.pW)};
T.P.jc.Kd=function(z,q,e,V){if(V==null)V=e;var self=T.P.jc,P=self.xL,D=self.Hi,B=V,A=V>>1,s=e,a=e>>1,M=e*V,$=0;
for(var n=0;n<D;n++){var U=0;for(var o=0;o<B;o++){for(var t=0;t<s;t++){var c=0-a+t,H=n-A+o;if(c<0)c=0;
else if(c>=P)c=P-1;if(H<0)H=0;else if(H>=D)H=D-1;U+=z[H*P+c]}}q[$++]=~~(U/M);for(var F=1;F<P;F++){for(var o=0;
o<B;o++){var i=F-a-1,X=i+s,H=n-A+o;if(i<0)i=0;if(X>=P)X=P-1;if(H<0)H=0;else if(H>=D)H=D-1;U+=z[H*P+X]-z[H*P+i]}q[$++]=~~(U/M)}}};
T.P.jc.Q2=function(z,q,e,V){var self=T.P.jc,P=new Int32Array(self.Z7),D=new Int32Array(self.Z7);for(var n=0;
n<2;n++){self.RE(z,P,n,2);self.Kd(P,D,e,V);self.qB(D,q,n,2)}};T.P.jc.XK=function(z,q,e,V){var self=T.P.jc,P=self.u0(1),D=self.u0(1);
for(var n=0;n<4;n++){self.RE(z,P,n);if(n<3)self.Kd(P,D,e,V);else D=P;self.qB(D,q,n)}};T.P.jc.a2h=function(z,q,e,V,P){var self=T.P.jc,D=self.xL,B=self.Hi,A=e+V-1,s=e>>1,a=A>>1,M=0,$=e*V,U=new Int32Array(e);
for(var n=0;n<B;n++){var o=0,t=0,c=0;for(var H=0;H<e;H++){var F=P?A-H-V:H;for(var i=F,X=V+F;i<X;i++){var K=0-a+i,f=n-s+H;
if(i==F){U[H]=K}if(K<0)K=0;else if(K>=D)K=D-1;if(f<0)f=0;else if(f>=B)f=B-1;var d=D*f+K<<2;o+=z[d];t+=z[d+1];
c+=z[d+2]}}q[M++]=~~(o/$);q[M++]=~~(t/$);q[M++]=~~(c/$);q[M]=z[M];M++;for(var L=1;L<D;L++){for(var H=0;
H<e;H++){var f=n-s+H,F=U[H]+1;U[H]=F;var G=F-1,x=F+V-1;if(f<0)f=0;else if(f>=B)f=B-1;if(G<0)G=0;else if(G>=D)G=D-1;
if(x<0)x=0;else if(x>=D)x=D-1;var O=f*D+G<<2,v=f*D+x<<2;o=o+z[v]-z[O];t=t+z[v+1]-z[O+1];c=c+z[v+2]-z[O+2]}q[M++]=~~(o/$);
q[M++]=~~(t/$);q[M++]=~~(c/$);q[M]=z[M];M++}}};T.P.jc.Q8=function(z,q,e,V,P,D){var self=T.P.jc,B=self.xL,A=self.Hi,s=e+V-1,a=e>>1,M=s>>1,$=0,U=new Int32Array(e),o=new Int32Array(256),t=new Int32Array(16);
for(var n=0;n<A;n++){for(var c=0;c<256;c++){o[c]=0}for(var c=0;c<16;c++){t[c]=0}for(var H=0;H<e;H++){var F=P?s-H-V:H;
for(var i=F,X=V+F;i<X;i++){var K=0-M+i,f=n-a+H;if(i==F){U[H]=K}if(K<0)K=0;else if(K>=B)K=B-1;if(f<0)f=0;
else if(f>=A)f=A-1;o[z[f*B+K]]++;t[z[f*B+K]>>>4]++}}var d=0,L=0;while(d+t[L>>>4]<D){d+=t[L>>>4];L+=16}for(;
L<256;L++){d+=o[L];if(d>=D)break}q[$++]=L;for(var c=1;c<B;c++){for(var H=0;H<e;H++){var f=n-a+H,F=U[H]+1;
U[H]=F;var G=F-1,x=F+V-1;if(f<0)f=0;else if(f>=A)f=A-1;if(G<0)G=0;else if(G>=B)G=B-1;if(x<0)x=0;else if(x>=B)x=B-1;
o[z[f*B+G]]--;o[z[f*B+x]]++;t[z[f*B+G]>>>4]--;t[z[f*B+x]>>>4]++}d=0;L=0;while(d+t[L>>>4]<D){d+=t[L>>>4];
L+=16}for(;L<256;L++){d+=o[L];if(d>=D)break}q[$++]=L}}};T.P.jc.gc=function(z,q,e,V,P,D){var self=T.P.jc,B=self.u0(1),A=self.u0(1);
for(var n=0;n<4;n++){self.RE(z,B,n);if(n<3)self.Q8(B,A,e,V,P,D);else A=B;self.qB(A,q,n)}};T.P.jc.iv=function(z,q,e,V,P){P=Math.min(V*e,P);
var self=T.P.jc,D=self.xL,B=self.Hi,A=V>>1,s=e>>1,a=0,M=new Int32Array(V),$=new Int32Array(256),U=new Int32Array(16);
for(var n=0;n<B;n++){for(var o=0;o<256;o++){$[o]=0}for(var o=0;o<16;o++){U[o]=0}for(var t=0;t<V;t++){for(var c=0,H=e;
c<H;c++){var F=0-s+c,i=n-A+t;if(c==0){M[t]=F}if(F<0)F=0;else if(F>=D)F=D-1;if(i<0)i=0;else if(i>=B)i=B-1;
$[z[i*D+F]]++;U[z[i*D+F]>>>4]++}}var X=0,K=0;while(X+U[K>>>4]<P){X+=U[K>>>4];K+=16}for(;K<256;K++){X+=$[K];
if(X>=P)break}q[a++]=K;for(var o=1;o<D;o++){for(var t=0;t<V;t++){var i=n-A+t,f=M[t]+1;M[t]=f;var d=f-1,L=f+e-1;
if(i<0)i=0;else if(i>=B)i=B-1;if(d<0)d=0;else if(d>=D)d=D-1;if(L<0)L=0;else if(L>=D)L=D-1;$[z[i*D+d]]--;
$[z[i*D+L]]++;U[z[i*D+d]>>>4]--;U[z[i*D+L]>>>4]++}X=0;for(K=0;K<256;K++){X+=$[K];if(X>=P)break}q[a++]=K}}};
T.P.jc.Pq=function(z,q,e,V,P){var self=T.P.jc,D=self.u0(1),B=self.u0(1);for(var n=0;n<4;n++){self.RE(z,D,n);
if(n<3)self.iv(D,B,e,V,P);else B=D;self.qB(B,q,n)}};T.P.jc.hm=function(z,q,e){var self=T.P.jc,V=self.xL,P=self.Hi,D=0;
for(var n=0;n<P;n++){var B=n*V,A=(n-1)*V,s=(n+1)*V;if(A<0)A=B;if(s>=P)s=B;for(var a=0;a<V;a++){var M=a-1,$=a+1;
if(M<0)M=a;if($>=V)$=a;var U=B+M,o=B+$,t=A+a,c=s+a,H=B+a,F=z[U],i=z[o],X=z[t],K=z[c],f=z[H],d=f+(f*4*e+.5);
d=d-((F+i+K+X)*e+.5);q[D++]=self.G_(d)}}};T.P.jc.K9=function(z,q,e){var self=T.P.jc,V=self.u0(1),P=self.u0(1);
for(var n=0;n<4;n++){self.RE(z,V,n);if(n<3)self.hm(V,P,e);else P=V;self.qB(P,q,n)}};T.P.jc.aFJ=function(z,q,e){var self=T.P.jc,V=self.xL,P=self.Hi,D=0,B=e+4;
for(var n=0;n<P;n++){var A=n*V,s=(n-1)*V,a=(n+1)*V;if(s<0)s=A;if(a>=P)a=A;for(var M=0;M<V;M++){var $=M-1,U=M+1;
if($<0)$=M;if(U>=V)U=M;var o=A+$<<2,t=A+U<<2,c=s+M<<2,H=a+M<<2,F=A+M<<2;for(var i=0;i<3;i++){var X=z[o+i],K=z[t+i],f=z[c+i],d=z[H+i],L=z[F+i];
q[D++]=(L*e+X+K+d+f)/B}q[D]=z[D];D++}}};T.P.jc.ak$=function(z,q,e,V){var self=T.P.jc,P=self.xL,D=self.Hi,B=e>>1,A=V>>1,s=0,a=new Int32Array(e),M=new Int32Array(256);
for(var n=0;n<D;n++){for(var $=0;$<256;$++){M[$]=0}for(var U=0;U<e;U++){for(var o=0,t=V;o<t;o++){var c=0-A+o,H=n-B+U;
if(o==0){a[U]=c}if(c<0)c=0;else if(c>=P)c=P-1;if(H<0)H=0;else if(H>=D)H=D-1;M[z[H*P+c]]++}}var F=0,i=0;
for(var X=0;X<256;X++){if(F<M[X]){i=X;F=M[X]}}q[s++]=i;for(var $=1;$<P;$++){for(var U=0;U<e;U++){var H=n-B+U,K=a[U]+1;
a[U]=K;var f=K-1,d=K+V-1;if(H<0)H=0;else if(H>=D)H=D-1;if(f<0)f=0;else if(f>=P)f=P-1;if(d<0)d=0;else if(d>=P)d=P-1;
M[z[H*P+f]]--;M[z[H*P+d]]++}F=0;i=0;for(var X=0;X<256;X++){if(F<M[X]){i=X;F=M[X]}}q[s++]=i}}};T.P.jc.aAs=[function(z,q,e,V,P,D,B,A,s,a){return P+(z+q+e)*a-(s+A+B)*a},function(z,q,e,V,P,D,B,A,s,a){return P+(q+e+D)*a-(A+B+V)*a},function(z,q,e,V,P,D,B,A,s,a){return P+(e+D+s)*a-(B+V+z)*a},function(z,q,e,V,P,D,B,A,s,a){return P+(D+s+A)*a-(V+z+q)*a},function(z,q,e,V,P,D,B,A,s,a){return P+(s+A+B)*a-(z+q+e)*a},function(z,q,e,V,P,D,B,A,s,a){return P+(A+B+V)*a-(q+e+D)*a},function(z,q,e,V,P,D,B,A,s,a){return P+(B+V+z)*a-(e+D+s)*a},function(z,q,e,V,P,D,B,A,s,a){return P+(V+z+q)*a-(D+s+A)*a}];
T.P.jc.pI=function(z,q,e,V,P){var self=T.P.jc,D=self.xL,B=self.Hi,A=D,s=self.aAs[V-1];for(var n=0;n<B;
n++){var a=(n>0?n-1:0)*A,M=n*A,$=(n<B?n+1:n)*A;for(var U=0;U<D;U++){var o=U>0?U-1:0,t=U<D?U+1:U,c=M+U,H=z[a+o],F=z[a+U],i=z[a+t],X=z[M+o],K=q[c],f=z[M+t],d=z[$+o],L=z[$+U],G=z[$+t];
e[c]=self.G_(s(H,F,i,X,K,f,d,L,G,P))}}};T.P.jc.aOT=function(z,q,e,V,P){var self=T.P.jc,D=self.u0(1),B=self.u0(1),A=self.u0(1);
for(var n=0;n<3;n++){self.RE(z,D,n);self.RE(q,B,n);self.pI(D,B,A,V,P);self.qB(A,e,n)}self.RE(q,D,3);
self.qB(D,e,3)};T.P.jc.mg=function(z,q){var e=z.length,V=0;for(var n=0;n<e;n++){q[V++]=~~((z[n++]+z[n++]+z[n++]+2)/3)}};
T.P.jc.zM=function(z,q){var e=q.length,V=0;for(var n=0;n<e;n++){var P=z[n];q[V++]=P;q[V++]=P;q[V++]=P;
q[V++]=255}if(q[0]==255)q[0]--;else q[0]++};T.P.jc.Tv=function(z,q){var e=q.length,V=0;for(var n=0;n<e;
n++){var P=z[V++],D=z[V++],B=z[V++];V++;if(D>P)P=D;if(B>P)P=B;q[n]=P}};T.P.jc.yv=function(z,q){if(q==null)q=z;
var e=z.length;for(var V=0;V<e;V+=4){var P=z[V],D=z[V+1],B=z[V+2],A=P,s=0,a=P,$;if(D<=P){P=D}else{s=1;
a=D}if(B<=a){if(P>B){P=B}}else{s=2;a=B}var M=a-P;if(M!=0){if(s==0){$=~~(43*(D-B)/M)}else if(s==1){$=~~(43*(B+2*M-A)/M)}else{$=43*(A+4*M-D)/M}if($<0){$=255&$-1}q[V]=$;
q[V+1]=~~(255*M/a)}else{q[V]=M;q[V+1]=M}q[V+2]=a;q[V+3]=z[V+3]}};T.P.jc.pH=function(z,q){if(q==null)q=z;
var e=z.length;for(var V=0;V<e;V+=4){var P=z[V],D=z[V+1],B=z[V+2];if(D){if(P==255)P=0;var A=~~(6*P/255),s=~~(-255*A+6*P);
if(A==0){q[V]=B;q[V+1]=~~(B*(255-D*(255-s)/255)/255);q[V+2]=~~(B*(255-D)/255)}else if(A==1){q[V]=~~(B*(255-D*s/255)/255);
q[V+1]=B;q[V+2]=~~(B*(255-D)/255)}else if(A==2){q[V]=~~(B*(255-D)/255);q[V+1]=B;q[V+2]=~~(B*(255-D*(255-s)/255)/255)}else if(A==3){q[V]=~~(B*(255-D)/255);
q[V+1]=~~(B*(255-D*s/255)/255);q[V+2]=B}else if(A==4){q[V]=~~(B*(255-D*(255-s)/255)/255);q[V+1]=~~(B*(255-D)/255);
q[V+2]=B}else{q[V]=B;q[V+1]=~~(B*(255-D)/255);q[V+2]=~~(B*(255-D*s/255)/255)}}else{q[V]=B;q[V+1]=B;q[V+2]=B}q[V+3]=z[V+3]}};
T.P.jc.qB=function(z,q,e,V){if(e==null)e=2;if(V==null)V=4;var P=z.length;for(var n=0;n<P;n++){q[e]=z[n];
e+=V}};T.P.jc.RE=function(z,q,e,V){if(e==null)e=2;if(V==null)V=4;var P=q.length;for(var n=0;n<P;n++){q[n]=z[e];
e+=V}};T.P.jc.aMx=function(z,q,e,V){if(V==null)V=1;var P=q.length,D=0,B;for(var D=0;D<P;D++){B=q[D];
if(B){B*=V;e[D]=~~((B*z[D]+(255-B)*e[D])/255)}}};T.P.jc.DC=function(z,q,e,V){if(V==null)V=e;var P=q.length,D=0,B,A;
for(var n=0;n<P;n++){B=q[n];if(B){A=255-B;V[D]=~~((B*z[D]+A*e[D])/255);V[D+1]=~~((B*z[D+1]+A*e[D+1])/255);
V[D+2]=~~((B*z[D+2]+A*e[D+2])/255)}V[D+3]=z[D+3];D+=4}};T.P.jc.Db=function(z,q,e,V){var P=~~(V*255),D=e.length;
for(var n=0;n<D;n++){e[n]=((255-P*(255-z[n])/255)*q[n]+z[n]*(P*(255-z[n])/255))/255}};T.P.jc.SC=function(z,q,e,V){var P=~~(V*255),D=e.length;
for(var n=0;n<D;n++){e[n]=((255-P*z[n]/255)*q[n]+z[n]*(P*z[n]/255))/255}};T.P.jc.Qb=function(z,q,e){var V=q.length;
for(var n=0;n<V;n++){q[n]=~~(z[n]*e+.5)+(q[n]-~~(q[n]*e+.5))}};T.P.jc.sub=function(z,q){var e=z.length;
for(var n=0;n<e;n++){q[n]=Math.max(z[n]-q[n],0)}};T.P.jc.add=function(z,q){var e=z.length;for(var n=0;
n<e;n++){q[n]=Math.min(z[n]+q[n],255)}};T.P.jc.atx=function(z,q){var e=z.length;for(var n=0;n<e;n++){q[n]=z[n]+q[n]}};
T.P.jc.GW=function(z,q){var e=z.length;for(var n=0;n<e;n++){q[n]=z[n]+q[n]>>1}};T.P.jc.Yh=function(z,q){var e=z.length;
for(var n=0;n<e;n++){q[n]=z[n]}};T.P.jc.S9=function(z,q){var e=z.length;for(var n=0;n<e;n++){z[n]=q[z[n]]}};
T.P.jc.aLK=function(z,q){var e=T.P.jc.JM;for(var n=0;n<e;n+=4){var V=z[n],P=z[n+1],D=z[n+2],B=V;if(P>V)B=P;
if(D>V)B=D;var A=q[B];if(A){z[n]=~~(A*V/B);z[n+1]=~~(A*P/B);z[n+2]=~~(A*D/B)}else{z[n]=A;z[n+1]=A;z[n+2]=A}}};
T.P.jc.NK=function(z,q){for(var n=0,e=z.length;n<e;n++){z[n]=Math.min(255,~~(.5+z[n]*q))}};T.P.jc.CZ=function(z,q){for(var n=0,e=z.length;
n<e;n++){z[n]=255-Math.min(255,~~(.5+(255-z[n])*q))}};T.P.jc.TG=function(z){var q=z.length;for(var n=0;
n<q;n++){z[n]=255-z[n]}};T.P.jc.em=function(z,q,e,V){if(e==null)e=0;if(V==null)V=255;for(var n=0,P=z.length;
n<P;n++){z[n]=z[n]>=q?V:e}};T.P.jc.Xe=function(z){return[z>>24&255,z>>16&255,z>>8&255,z&255]};T.P.jc.aPA=function(z,q,e,V){if(e==null)e=255;
if(V==null)V=4278190335;var P=T.P.jc,D=P.JM,B=P.Xe(e),A=P.Xe(V);for(var n=0;n<D;n+=4){var s=~~((z[n]+z[n+1]+z[n+2]+2)/3);
if(s>=q){z[n]=B[0];z[n+1]=B[1];z[n+2]=B[2]}else{z[n]=A[0];z[n+1]=A[1];z[n+2]=A[2]}}};T.P.jc.l3=function(z,q){var e=T.P.jc,V=e.JM,P=e.Xe(q);
for(var n=0;n<V;){z[n++]=P[0];z[n++]=P[1];z[n++]=P[2];z[n++]=P[3]}};T.P.jc.aEJ=function(z,q){var e=z.length;
for(var n=0;n<e;){z[n++]=q}};T.P.jc.aCF=function(z,q){z=z>5?(100-Math.max(4,z))/100:.95;q=q!=100?Math.max(4,q)/100:.9995;
var e=new Uint8Array(256),V=q>.5?.5/(1-q):q*2,P=~~(V*256),D=~~((.5-z*V)*256)<<8;for(var n=0;n<256;n++){e[n]=T.P.jc.G_(D>>8);
D+=P}return e};T.P.jc.B7=function(z){for(var n=0,q=T.P.jc,e=z.length;n<e;n++){z[n]=~~(q.random()*256)}};
T.P.jc.aJ9=function(z,q){for(var n=0,e=T.P.jc,V=z.length;n<V;n++){z[n]=e.random()<q?255:0}};T.P.jc.adP=function(z,q,e){for(var n=0,V=T.P.jc,P=z.length;
n<P;n++){if(V.random()<q)z[n]=e}};T.P.jc.aeC=function(z,q,e){var V=z.length;for(var n=0;n<V;n++){z[n]=T.P.jc.G_(z[n]+e[q[n]])}};
T.P.jc.LP=function(z){var q=new Uint32Array(256);for(var n=0,e=z.length;n<e;n++)q[z[n]]++;return q};
T.P.jc.agS=function(z,q){var e=0,V=0,P=new Uint32Array(256),D=new Float32Array(256);for(var n=0,B=z.length;
n<B;n++){var A=z[n],s=q[n];if(s==255){P[A]++;e++}else if(s>0){s/=255;V+=s;D[A]+=s;if(V>=1){V--;e++}if(D[A]>=1){D[A]--;
P[A]++}}}return[e,P]};T.P.jc.El=function(z,q,e,V){var self=T.P.jc,P,D,M=0,U=256;if(V){var B=self.agS(e,V);
P=B[1];D=B[0]/100}else{P=self.LP(e);D=self.Z7/100}var A=new Uint8Array(256),s=D*z,a=D*q,$=-1;do{M+=P[++$]}while(M<=s);
M=0;do{M+=P[--U]}while(M<=a);if(U-$<=0)U=$+1;if(U>255){U=255;$=254}var o=255/(U-$),t=-$;for(var n=0;
n<256;n++){A[n]=self.G_(o*t+.5);t++}return A};T.P.jc.$o=function(z,q,e,V){var P=T.P.jc;P.S9(z,P.El(q,e,z,V))};
T.P.jc.aur=function(z,q){var self=T.P.jc,e=self.LP(z),V=self.Z7*q/100,P=0,D=-1;do{P+=e[++D]}while(P<=V);
return D};T.P.jc._9=function(z,q){var e=0,self=T.P.jc,V=self.xL,P=self.Hi,D=1/Math.PI,B=D*255;for(var n=0;
n<P;n++){var A=n+1;if(A==P)A--;var s=n*V,a=~~((1-(n+1)/P)*255);for(var M=0;M<V;M++){var $=M+1;if($==V)$--;
var U=z[s+M],o=z[s+$],t=z[A*V+M];if(U-t==0){q[e++]=a}else{var c=U-t+255;if(c==255){c=0}else{c=~~(Math.atan2(1/(255-c),1)*B+.5);
if(c<0)c+=255}q[e++]=c}if(U-o==0){q[e++]=~~((1-(M+1)/V)*255)}else{var c=U-o+255;if(c==255){c=0}else{c=~~(Math.atan2(1/(255-c),1)*B+.5);
if(c<0)c+=255}q[e++]=c}}}};T.P.jc.alX=function(z,q){var self=T.P.jc,e=self.xL,V=self.Hi,P=0;for(var n=0;
n<V;n++){for(var D=0;D<e;D++){z[P]=~~(n*q+.5)+~~(z[P]*(1-q)+.5);P++;z[P]=~~(D*q+.5)+~~(z[P]*(1-q)+.5);
P++}}};T.P.jc.azB=function(z,q,e,V){var self=T.P.jc,P=self.xL,D=self.Hi,B=0;for(var n=0;n<D;n++){for(var A=0;
A<P;A++){q[B]=~~(q[B]*(1-e)+.5)+~~(z[B]*V+.5);B++;q[B]=~~(q[B]*(1-e)+.5)+~~(z[B]*V+.5);B++}}};T.P.jc.aoN=function(z,q,e){var self=T.P.jc,V=self.xL,P=self.Hi,D=0,B=0;
for(var n=0;n<P;n++){for(var A=0;A<V;A++){var s=z[D++],a=z[D++];q[B++]=a%e>=2&&s%e>=2?255:0}}};T.P.jc.aAJ=function(z,q,e,V,P,D,B){var self=T.P.jc,A=self.xL,s=self.Hi,a=0,M=0,$=0;
for(var n=0;n<s;n++){var U=n%z<e||s-e<=n;for(var o=0;o<A;o++){B[a++]=U||o%q<V||A-V<=o?P:D}}};T.P.jc.VU=function(z,q,e,V){var self=T.P.jc,P=self.xL,D=self.Hi,B=gY.VU(q),A=B[1],s=B[0].s,a=B[0].T,M=100/e;
for(var $=0;$<D;$++)for(var U=0;U<P;U++){var o=T.O.ft(U*M,$*M,A,s,a);z[$*P+U]=V?255-o:o}};T.P.jc.G_=function(z){return~~Math.min(255,Math.max(0,z))};
T.P.jc.aqX=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];T.P.jc.aft=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
T.P.jc.qD=function(z){return z>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][z-41]:z/40};T.P.jc.an5=function(z,q,e){var self=T.P.jc,V=self.xL,P=self.Hi,D=e,B=e>>1,A=B-1,s=D*D,a=0;
for(var n=0;n<P;n++){var M=0,$=0,U=0,o=~~(n/e)*e,t=0;for(var c=0;c<D;c++){for(var H=0;H<D;H++){var F=t+H,i=o+c;
if(F>=V)F=V-1;if(i>=P)i=P-1;M+=z[i*V+F<<2];$+=z[(i*V+F<<2)+1];U+=z[(i*V+F<<2)+2]}}var X=~~(M/s),K=~~($/s),f=~~(U/s);
q[a]=X;q[a+1]=K;q[a+2]=f;q[a+3]=z[a+3];a+=4;for(var d=1;d<V;d++){for(var c=0;c<D;c++){var L=d-1,G=L+D,i=o+c;
if(G>=V)G=V-1;if(i>=P)i=P-1;var x=i*V,O=x+G<<2,v=x+L<<2;M+=z[O]-z[v];$+=z[O+1]-z[v+1];U+=z[O+2]-z[v+2]}if(d%e==0){X=~~(M/s);
K=~~($/s);f=~~(U/s)}q[a]=X;q[a+1]=K;q[a+2]=f;q[a+3]=z[a+3];a+=4}}};T.P.jc.anL=function(z,q,e,V,P){var self=T.P.jc,D=self.xL,B=self.Hi,A=0,s=0,a=0,M=0;
for(var n=M;n<B+M;n++){var $=n%q>=V||n<V||B+M-V<=n;for(var U=0;U<D;U++){z[A++]=$&&(U%e>=P||U<P||D-P<=U)?255:0}}};
T.P.jc.aoO=function(z,q,e){var V=function(a,M){return M<=a?a/M&1?M-a%M:a%M:a},P=[function(A,s){return V(A,255)/255},function(A,s){return(255+V(A,255)-V(s,255))/510},function(A,s){return(255-V(s,255))/255},function(A,s){return(510-V(A,255)-V(s,255))/510},function(A,s){return(255-V(A,255))/255},function(A,s){return(255-V(A,255)+V(s,255))/510},function(A,s){return V(s,255)/255},function(A,s){return(V(A,255)+V(s,255))/510}][e],D=0,B=0;
for(var n=0;n<T.P.jc.Z7;n++){var A=z[D++],s=z[D++];q[B++]=~~(255*P(A,s))}};T.P.au3=function(){var z=[],q=new Uint8Array(512),e=new Float32Array(512),V=new Float32Array(512),P=[1,-1,1,-1,1,-1,0,0],D=[1,1,-1,-1,0,0,1,-1],B=0,A,t=0;
for(;B<256;B++)z[B]=B;while(B!=0){B--;A=Math.floor(Math.random()*B);z[A]^=z[B]^(z[B]=z[A])}function s(s){s=Math.floor(s*65536);
if(s<256){s|=s<<8}for(var n=0;n<256;n++){var F=n+256,i=z[n]^(n&1?s:s>>8)&255;q[n]=q[F]=i;i=i%8;e[n]=e[F]=P[i];
V[n]=V[F]=D[i]}}function a(F){return F*F*F*(F*(F*6-15)+10)}function M(F,i,X){return(1-X)*F+X*i}function $(F,i){return F&i}function U(F,i){return F%i}function o(F,i,X,K,f){var d=Math.floor(F),L=Math.floor(i),B,G,x,O,v,C;
F=F-d;i=i-L;d=d&255;L=L&255;B=d+q[L];O=e[B]*F+V[B]*i;B=d+q[f(L+1,K)];x=e[B]*F+V[B]*(i-1);B=f(d+1,X)+q[L];
v=e[B]*(F-1)+V[B]*i;B=f(d+1,X)+q[f(L+1,K)];C=e[B]*(F-1)+V[B]*(i-1);G=a(F);return M(M(O,v,G),M(x,C,G),a(i))}function c(F,B,i){F[B]=i}function H(F,i,X,K,f,d){var L=Math.min(Math.min(i,256),Math.min(256,X)),G=L==256||L<8,x=8,O=new Uint32Array(x),v=new Uint32Array(x),C=new Float32Array(x),S=new Float32Array(x),j=1,w=1,u=G?$:U,l=c,I;
for(var n=0;n<x;n++){I=w*1/L;if(G){v[n]=(1<<Math.ceil(Math.log2(X*I)))-1;O[n]=(1<<Math.ceil(Math.log2(i*I)))-1}else{v[n]=I*X;
O[n]=I*i}C[n]=j;S[n]=I;j*=.5;w=w<<1}s(d==null?Math.random():d);for(var Q=0,B=0;Q<X;Q++){for(var b=0;
b<i;b++){var p=0;for(var k=0;k<x;k++){I=S[k];p+=o(b*I,Q*I,O[k],v[k],u)*C[k]}l(K,B++,Math.round(Math.max(0,255*Math.min(1,.5+p*.5))))}}}return H}();
T.P.a2C=function(){function z(q,e,V,P){var D=new Uint8Array(q.length>>>2),B=new Uint8Array(q.length>>>2),A=new Uint8Array(q.length);
for(var n=0;n<q.length;n+=4){var s=q[n+0]*.3+q[n+1]*.59+q[n+2]*.11;B[n>>>2]=s;A[n]=q[n];A[n+1]=q[n+1];
A[n+2]=q[n+2]}T.WZ.aEZ(B,D,e,V);T.WZ.SR(q,P,e,V,T.WZ.lK[1],!1,!0);for(var n=0;n<q.length;n+=4){A[n+3]=255-D[n>>>2]}for(var n=0,a=q.length;
n<a;n+=4){var M=A[n+3]/255;P[n]=A[n]*M+P[n]*(1-M);P[n+1]=A[n+1]*M+P[n+1]*(1-M);P[n+2]=A[n+2]*M+P[n+2]*(1-M)}}return z}();
T.P.aOD=function(){function z(D,B,A,s,a){var M=new Uint32Array(D.buffer),$=0;for(var n=0;n<A;n++){for(var U=0;
U<B;U++,$+=4){var o=M[n*B+U],t=o&255,c=o>>>8&255,H=o>>>16&255,F=o>>>24&255,i=~~(Math.random()*8),X=i%3,K=0,f=0;
if(i<3){f--}else if(i>4){f++}if(X==0){K--}else if(X==2){K++}var d=U+K,L=n+f;if(d<0)d=0;else if(d>B-1)d=B-1;
if(L<0)L=0;else if(L>A-1)L=A-1;var o=M[L*B+d],G=o&255,x=o>>>8&255,O=o>>>16&255,v=o>>>24&255;s[$]=a(t,G);
s[$+1]=a(c,x);s[$+2]=a(H,O);s[$+3]=a(F,v)}}}function q(D,B){return B}function e(D,B){return D>B?B:D}function V(D,B){return D<B?B:D}function P(D,B,A,s,a){var M=a[0];
if(M==0)z(D,B,A,s,q);else if(M==1)z(D,B,A,s,e);else if(M==2)z(D,B,A,s,V);else if(M==3){console.error("Not implemented")}else console.error("Mew mew")}return P}();
T.P.aMP=function(){function z(q,e,V,P,D){var B=D&&D[0]?D[0]:4,A,s,a,M,$,U,o;for(var n=0;n<V;n++){var t=Math.max(n-B,0),c=Math.min(n+B,V-1);
for(var H=0;H<e;H++){var F=Math.max(H-B,0),i=Math.min(H+B,e-1);A=t*e+F<<2;M=q[A];$=q[A+1];U=q[A+2];o=q[A+3];
A=t*e+i<<2;M+=q[A];$+=q[A+1];U+=q[A+2];o+=q[A+3];A=c*e+F<<2;M+=q[A];$+=q[A+1];U+=q[A+2];o+=q[A+3];A=c*e+i<<2;
M+=q[A];$+=q[A+1];U+=q[A+2];o+=q[A+3];A=n*e+H<<2;P[A]=M+2>>>2;P[A+1]=$+2>>>2;P[A+2]=U+2>>>2;P[A+3]=o+2>>>2}}}return z}();
T.P.a7d=function(){function z(q,e,V,P){var D=new Uint8Array(q.length),B=new Uint8Array(q.length>>>2),A=new Uint8Array(q.length>>>2);
T.WZ.SR(q,D,e,V,T.WZ.lK[2],!1,!0);for(var n=0;n<q.length;n+=4){var s=D[n+0]*.3+D[n+1]*.59+D[n+2]*.11;
B[n>>>2]=s;P[n+0]=q[n+0];P[n+1]=q[n+1];P[n+2]=q[n+2];P[n+3]=q[n+3]}T.WZ.aEZ(B,A,e,V);for(var n=0;n<q.length;
n+=4){D[n+3]=~~(Math.max(0,255-A[n>>>2]-50)*(255/205))}for(var n=0,a=q.length;n<a;n+=4){var M=D[n+3]/255;
P[n]=D[n]*M+P[n]*(1-M);P[n+1]=D[n+1]*M+P[n+1]*(1-M);P[n+2]=D[n+2]*M+P[n+2]*(1-M)}}return z}();T.P.rF=function(){function z(i,X){return i[X]+i[X+1]+i[X+2]+i[X+3]}function q(i,X){return i[X]+i[X+1]+i[X+2]+2*i[X+3]}function e(i,X,K,f){i[X]=K[f];
i[X+1]=K[f+1];i[X+2]=K[f+2];i[X+3]=K[f+3]}function V(i,X,K){i[X]=i[K];i[X+1]=i[K+1];i[X+2]=i[K+2];i[X+3]=i[K+3]}function P(i,X,K){i[K]=X[K];
i[K+1]=X[K+1];i[K+2]=X[K+2];i[K+3]=255-X[K+3]}function D(i){for(var n=0,X=i.length;n<X;n+=4){i[n+3]=255-i[n+3]}}function B(){var i=Math.random();
if(i>.5)return 0;if(i>.25)return 1;if(i>.1)return 2;if(i>.02143)return 3;if(i>.00445)return 4;if(i>65e-5)return 5;
if(i>415e-6)return 6;if(i>55e-6)return 7;return 8}function A(i,X,K,f,d,L){i[X]=K[f]+(d[L]-K[f]>>1);i[X+1]=K[f+1]+(d[L+1]-K[f+1]>>1);
i[X+2]=K[f+2]+(d[L+2]-K[f+2]>>1);i[X+3]=K[f+3]+(d[L+3]-K[f+3]>>1)}function s(i,X,K,f,d,L){i[X]=d[L]+K[f]>>1;
i[X+1]=d[L+1]+K[f+1]>>1;i[X+2]=d[L+2]+K[f+2]>>1;i[X+3]=d[L+3]+K[f+3]>>1}function a(i,X,K,f,d,L,G,x,O){var v=0,C=0,S=0,n,j=d[L],w;
A(x,0,i,X,i,K);for(n=0;n<j;n++){A(x,(n+1)*4,x,n*4,i,K)}C=(j+1)*4;S+=j;L--;e(i,X,x,C-4);f[L]=z(i,X);X-=O;
while(L>0&&f[L-1]<f[L]){w=x;x=G;G=w;v=C;s(x,0,i,X-O,G,0);for(n=4;n<v;n+=4){s(x,n,x,n-4,G,n)}j=d[L];for(n=S;
n<j;n++){A(x,C,x,C-4,G,v-4);C+=4;S++}L--;e(i,X,x,C-4);f[L]=z(i,X);X-=O}}function M(i,X,K,f,d){var L=X*4,G=0,x,O,v=new Uint8Array(X+1),C=new Uint8Array(10*4),S=new Uint8Array(10*4);
for(var n=0;n<K;n++){P(f,i,G);d[0]=z(f,G);v[0]=B();x=G;G+=4;for(var j=1;j<X;j++){P(f,i,G);d[j]=z(f,G);
O=B();v[j]=O;if(d[j-1]<d[j]&&O>0){a(f,G-4,G,d,v,j,C,S,4)}G+=4}d[X]=d[0];v[X]=v[0];if(d[X-1]<d[X]&&O>0){a(f,G,x,d,v,X,C,S,4)}}D(f)}function $(){var i=Math.random();
if(i>.659755)return 0;if(i>.1625)return 10;if(i>.06)return 20;if(i>.01)return 30;if(i>.0035)return 40;
if(i>65e-5)return 50;if(i>415e-6)return 60;if(i>55e-6)return 70;return 80}function U(i,X,K,f,d,L){var G=$()+1,x=f[d];
for(var n=1;n<G;n++){if(0>d)break;if(f[d-n]<x){V(i,X,K)}else{break}X+=L}}function o(i,X,K,f,d){var L=X*4,G=0;
for(var n=0;n<K;n++){P(f,i,G);d[0]=z(f,G);G+=4;for(var x=1;x<X;x++){P(f,i,G);d[x]=z(i,G);if(d[x-1]<d[x]){U(f,G-4,G,d,x,-4)}G+=4}d[X]=d[0];
if(d[x-1]<d[x]){U(f,G-4,G-L,d,x,-4)}}D(f)}function t(i,X,K,f,d,L){var G=1,x,O,v=new Uint8Array(4),C,S=X;
while(Math.random()<1/G){S=X;if(f<=1)break;x=K[f];O=K[f-1];if(x<=O)break;e(v,0,i,S-L);C=!0;for(var n=f;
n<d;n++){if(O>K[n]){e(i,S-L,v,0);K[n-1]=O;C=!1;break}e(i,S-L,i,S);K[n-1]=K[n];S+=L}if(C){e(i,S-L,v,0);
K[d-1]=O}G++;f--;X-=L}}function c(i,X,K,f,d){var L=0,G=0,x=X*4;for(var n=0;n<K;n++){G=L;for(var O=0;
O<X;O++){P(f,i,L);d[O]=q(f,L);L+=4}L=G;for(var O=1;O<X;O++){if(d[O-1]<d[O]&&Math.random()<.66){t(f,L+4,d,O,X,4)}L+=4}L+=4}D(f)}function H(i,X,K,f,d){var L=d[0],G=d[1],x=new Uint16Array(X+1),O=i,v=f,C;
if(G){C=f.slice(0);F(i,f,X,K);O=f;v=C}if(L==0)M(O,X,K,v,x);else if(L==1)o(O,X,K,v,x);else if(L==2)c(O,X,K,v,x);
if(G){F(C,f,X,K)}}function F(i,X,K,f){for(var d=0;d<f;d++)for(var L=0;L<K;L++){var G=d*K+L<<2,x=d*K+(K-1-L)<<2;
X[x]=i[G];X[x+1]=i[G+1];X[x+2]=i[G+2];X[x+3]=i[G+3]}}return H}();T.P.aKW=function(z,q,e,V,P){var D=T.P.jc,B=1,H=0,X=0;
D.zc(q,e);D.vW(P[2]);var A=3<<13,s=Math.PI/2.43,a=s/256,M=Math.PI*2/256;function $(){var L=D.random()*256,G=D.random()*256;
return B*~~(Math.tan(s-L*a)*325*Math.cos(G*M)*256)+A>>16}B=P[0];var U=P[1],o=(U+2)/2,t=D.random()*255,c=D.u0(1);
for(var n=0;n<e;n++){var F=D.G_($()+t);for(var i=0;i<q;i++){F=D.G_($()+F);c[H++]=F}}H=q;for(var n=1;
n<e;n++){var K=D.G_($()+c[X++]);c[H++]=K;for(var i=1;i<q;i++){var f=X+1;if(i+1==q){f--}var d=(o+K+c[f]+c[X]*U)/(U+2);
K=D.G_($()+d);c[H++]=K;X++}}D.zM(c,V)};var gQ=function(){function z(Y){Y=Y^61^Y>>>16;Y=Y+(Y<<3);Y=Y^Y>>>4;
Y=Y*668265261;Y=Y^Y>>>15;return Y}var q=function(){var q=function(Y){if(Y){this.x6=Y}this.x6=z(this.x6);
return(this.x6&16777215)*(1/16777215)};return q};function e(Y,R){if(R==null){R=[0,0]}return Math.sqrt((R[0]-Y[0])*(R[0]-Y[0])+(R[1]-Y[1])*(R[1]-Y[1]))}function V(Y,R){if(R==null){R=[0,0]}return[-(R[1]-Y[1])/e(Y,R),(R[0]-Y[0])/e(Y,R)]}function P(Y){return[Math.cos(Y),Math.sin(Y)]}function D(Y){var R=e(Y,[0,0]),m=[Y[0]/R,Y[1]/R],Z=Math.atan(m[1]/m[0]);
if(m[0]>0&&m[1]<0){Z+=2*Math.PI}else if(m[0]<0&&m[1]<0){Z+=Math.PI}else if(m[0]<0&&m[1]>0){Z+=Math.PI}return Z}function B(Y){var B=0;
for(var n=1;n<Y.length/2;++n){B+=e([Y[2*n],Y[2*n+1]],[Y[2*(n-1)],Y[2*(n-1)+1]])}return B}function A(Y,R,m){var Z=new Float32Array(Y.length),E=1/(Y.length/2),N=f(m);
for(var n=0;n<Y.length/2;++n){var h=n*E,j5=h/2+.5,r=1,l8=0;if(m.shape==2){r=1/(2*j5)}if(m.shape==3){j5=(1-h)/2+.5;
r=1/(2*j5)+.5}if(m.shape==4){j5=h;r=Math.sin(3/2*Math.PI*j5)/4+1}if(m.shape==5){j5=(h-.5)*6;r=(-Math.atan(j5)/1.25+1)/5+.6-.2*h}var aP=[null,null];
if(n==0){aP=V([Y[2*n],Y[2*n+1]],[Y[2*(n+1)],Y[2*(n+1)+1]])}else if(n==Y.length/2-1){aP=V([Y[2*(n-1)],Y[2*(n-1)+1]],[Y[2*n],Y[2*n+1]])}else{aP=V([Y[2*(n-1)],Y[2*(n-1)+1]],[Y[2*(n+1)],Y[2*(n+1)+1]])}Z[2*n]=Y[2*n]+(r*R+l8)*aP[0];
Z[2*n+1]=Y[2*n+1]+(r*R+l8)*aP[1];if(m.style==2){Z[2*n]+=d(2*n/Z.length,N,m)}}return Z}function s(Y,R,m){var Z=new Float32Array(Y.length),E=1/(Y.length/2);
for(var n=0;n<Y.length/2;++n){var N=n*E,h=[null,null],j5=.6*m.Y3*x(N,R.atz)*m.AO/100,r=.6*m.Y3*x(N,R.ael)*m.AO/100,l8=R.adE*j5+(1-R.adE)*r;
if(n==0){h=V([Y[2*n],Y[2*n+1]],[Y[2*(n+1)],Y[2*(n+1)+1]])}else if(n==Y.length/2-1){h=V([Y[2*(n-1)],Y[2*(n-1)+1]],[Y[2*n],Y[2*n+1]])}else{h=V([Y[2*(n-1)],Y[2*(n-1)+1]],[Y[2*(n+1)],Y[2*(n+1)+1]])}Z[2*n]=Y[2*n]+l8*h[0];
Z[2*n+1]=Y[2*n+1]+l8*h[1]}return Z}function a(Y){if(Y.aG==1){return[.150684932,.205479452,.465753425,.178082192]}else if(Y.aG==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var R=[],m=1/(S(Y)-1);
for(var n=0;n<S(Y)-1;++n){R.push(m)}return R}}function M(Y,R,m){var Z=[],E=R-Y,N=Y;for(var n=0;n<m.length-1;
++n){Z.push(N+m[n]*E);N=Z[n]}return Z}function $(Y,R,m,Z){var E=new Float32Array(m.length),N=0,h={shape:Math.floor(Z.random()*2.99),axI:Z.random()*.1+.15};
for(var n=0;n<m.length-1;++n){var j5=N+m[n];E[n]=((1-j5)*Y+j5*R)*F(Z,j5,h);N=j5}return E}function U(Y,R,m,Z){var E=v(Z),N=Z.random(),h=N*20+(1-N)*26,j5=new Float32Array(m.length),r=0;
for(var n=0;n<m.length-1;++n){var l8=r+m[n];j5[n]=(1-l8)*Y+l8*R+E/h*(2/3*Math.sin(Math.PI*l8)+1/3*Math.sqrt(Math.sin(Math.PI*l8)));
r=l8}return j5}function o(Y,R,m){var Z=[];for(var n=0;n<R.length-1;++n){Z.push(R[n].slice());var E=n*(S(m)-1),N=(n+1)*(S(m)-1),h=Y[N]-Y[E];
for(var j5=E+1;j5<N;++j5){var r=f(m),l8=new Float32Array(R[0].length),aP=(Y[j5]-Y[E])/h;for(var bS=0;
bS<R[0].length/2;++bS){l8[2*bS]=(1-aP)*R[n][2*bS]+aP*R[n+1][2*bS];l8[2*bS+1]=(1-aP)*R[n][2*bS+1]+aP*R[n+1][2*bS+1];
if(m.style==2){l8[2*bS]+=d(2*bS/R[0].length,r,m)}}Z.push(l8)}}Z.push(R[R.length-1]);return Z}function t(Y,R,m){var Z=new Array(R.length),E=b(Y),h=null;
for(var n=0;n<R.length;++n){Z[n]=A(E,(R[n]-.5)*m.AO,m)}var N=1+.05*m.ahl*v(m)/v({aG:1});for(var n=0;
n<R.length;++n){if(R[n]==0){h=n}}for(var n=0;n<R.length;++n){var j5=(m.random()-.5)*2,r=Math.round(m.random()*9+1),l8=new Float32Array(r*2+2);
for(var aP=0;aP<=r;++aP){l8[2*aP]=Z[n][0]-(Z[n][2*aP]-Z[n][0]);l8[2*aP+1]=Z[n][1]-(Z[n][2*aP+1]-Z[n][1])}if(n==h){j5*=.1}for(var aP=(Z[n].length-1)/2;
aP>r;--aP){Z[n][2*aP]=(1-j5)*Z[n][2*aP]+j5*(Z[n][2*(aP-r)]+N*(Z[n][2*aP]-Z[n][2*(aP-r)]));Z[n][2*aP+1]=(1-j5)*Z[n][2*aP+1]+j5*(Z[n][2*(aP-r)+1]+N*(Z[n][2*aP+1]-Z[n][2*(aP-r)+1]))}for(var aP=r-1;
aP>=0;--aP){Z[n][2*aP]=(1-j5)*Z[n][2*aP]+j5*(l8[2*(r-aP)]+N*(Z[n][2*aP]-l8[2*(r-aP)]));Z[n][2*aP+1]=(1-j5)*Z[n][2*aP+1]+j5*(l8[2*(r-aP)+1]+N*(Z[n][2*aP+1]-l8[2*(r-aP)+1]))}}var bS=G(R,m);
if(m.Y3>0){var kR=0;for(var n=0;n<R.length;++n){if(n==0){kR+=R[n]}else{kR+=Math.abs(R[n]-R[n-1])}var j1=kR-Math.floor(kR),f6=1;
if(j1==0){f6=0}Z[n]=s(Z[n],{atz:bS[Math.floor(kR)],ael:bS[Math.floor(kR)+f6],adE:j1},m)}}return Z}function c(Y,R){var m=u(R,Y),Z=l(R,Y),E=[],N=[],h=[],j5=a(Y);
for(var n=0;n<R.length-1;++n){E.push(R[n]);N.push(m[n]);h.push(Z[n]);var r=M(R[n],R[n+1],j5),l8=$(m[n],m[n+1],j5,Y),aP=U(Z[n],Z[n+1],j5,Y);
for(var bS=0;bS<r.length;++bS){E.push(r[bS]);N.push(l8[bS]);h.push(aP[bS])}}E.push(R[R.length-1]);N.push(m[m.length-1]);
h.push(Z[Z.length-1]);return{aGn:E,afG:N,H1:h}}function H(Y,R,m,Z){var E=new Float32Array(2*Z),N=Y.length/2,h=N-R,j5=m*h,r=j5/Z;
for(var n=0;n<Z;++n){var l8=Math.floor(R+n*r),aP=Math.ceil(R+n*r),m=R+n*r,bS=aP-l8,kR=1,j1=0;if(bS!=0){kR=(aP-m)/bS;
j1=(m-l8)/bS}E[2*n]=kR*Y[2*l8]+j1*Y[2*aP];E[2*n+1]=kR*Y[2*l8+1]+j1*Y[2*aP+1]}return E}function F(Y,R,m){var Z=m.axI,E=R*2*Math.PI,N=E,h=0;
if(m.shape==0){h=(Math.sin(2*N+Math.PI/2)+1)/2}else if(m.shape==1){h=(Math.sin(N+Math.PI/2)+1)/2}else{h=(4*Math.sin(3/4*N+Math.PI)+Math.sin(Math.PI/2+2*N)-2*N/Math.PI+6)/7}return Math.min(1,1-Z+Z*h)}function i(Y,R,m,Z){var E=[];
for(var n=0;n<Y.length;++n){E.push(H(Y[n],R[n],m[n],Z))}return E}function X(Y,R,m){var Z=[];for(var n=0;
n<Y.length;++n){var E=P(2*Math.PI*m.random()),N=P(2*Math.PI*m.random()),h=m.awP*.5*j({aG:1})/j(m),j5=h*m.AO/200,r=h*R/500,l8=new Float32Array(Y[0].length);
for(var aP=0;aP<Y[0].length/2;++aP){var bS=P(2*Math.PI*m.random()),kR=2*aP/Y[0].length;l8[2*aP]=Y[n][2*aP]+j5*(bS[0]+((1-kR)*E[0]+kR*N[0]));
l8[2*aP+1]=Y[n][2*aP+1]+r*(bS[1]+((1-kR)*E[1]+kR*N[1]))}Z.push(l8)}return Z}function K(Y,R,m){var Z=m.p1,E=2/Z,N=[1/10,1/30,1/40,1/45,1/100],h=N[m.aG-1],j5=4*(m.vz/25*E*h)*(1-m.awP/150),bS=0,j1=0;
if(m.style==3){return j5*.09}var r=2.2*(Y-.5),l8=r*r*r*r+.27+Math.max(0,(m.vz-50)/15),aP=2*(Math.sin(3*Math.PI*R)/(Math.PI*R+2)+1.1)-R/2;
R=2*R;if(R<.41){var kR=2*Math.PI*R/.41;bS=(Math.sin(kR-Math.PI/2)+1)/4+.5}else if(R<.77){var kR=2*Math.PI*(R-.41)/.36;
bS=(Math.sin(kR-Math.PI/2)+1)/4+.5-kR/2/Math.PI*.5}else{var kR=2*Math.PI*(R-.77)/.23;bS=(Math.sin(kR-Math.PI/2)+1)/2*.12}bS*=3;
bS+=Math.max(0,(m.vz-50)/15);if(m.e==6){j1=aP}else{j1=bS}return j5*l8*j1}function f(Y){return{m:Y.random()*7/2+.5,RI:Y.random()*2*Math.PI}}function d(Y,R,m){return m.AO/300*S({aG:1})/S(m)*10*(Math.sin(R.m*2*Math.PI*Y+R.RI)+10*(m.random()-.5))}function L(Y){var R=Math.exp(-Y.Y3/25);
return{m:Y.random()*3/2+.5,RI:Y.random()*2*Math.PI,jj:(Y.random()-.5)*10*R}}function G(Y,R){var m=Math.ceil(I(Y)),Z=[];
for(var n=0;n<=m;++n){Z.push(L(R))}return Z}function x(Y,R){var m=R.m*4*Math.PI*Y+R.RI;return Math.exp(-1/2*Math.PI*Y)*Math.cos(m)*Math.cos(m)*Math.cos(m)*Math.cos(m)*Math.cos(m)+Y*R.jj-R.jj/4}function O(Y,R,m,Z,E){var N=0,h=j(R)-1;
for(var n=0;n<h;++n){for(var j5=0;j5<Y.length-1;j5+=S(R)-1){for(var r=n;r<Y[0].length/2-h;r+=h){for(var l8=j5;
l8<j5+(S(R)-1);++l8){m[E+N]=K(l8*(R.p1-1)/(Y.length-1)%1,r/Y[0].length,R);var aP=0,bS=0;if(R.e==6&&l8!=0&&l8!=Y.length-1){bS=(Y[l8][2*(r+1)+1]-Y[l8][2*r+1])/2;
aP=(Y[l8][2*(r+1)]-Y[l8][2*r])/2}Z[8*E+8*N]=Y[l8][2*r]+aP;Z[8*E+8*N+1]=Y[l8][2*r+1]+bS;Z[8*E+8*N+2]=Y[l8][2*(r+h)]+aP;
Z[8*E+8*N+3]=Y[l8][2*(r+h)+1]+bS;Z[8*E+8*N+4]=Y[l8+1][2*(r+h)];Z[8*E+8*N+5]=Y[l8+1][2*(r+h)+1];Z[8*E+8*N+6]=Y[l8+1][2*r];
Z[8*E+8*N+7]=Y[l8+1][2*r+1];++N}}}}}function v(Y){var R=[100,300,500,700,1e3];return R[Y.aG-1]}function C(Y){var R=[30,70,100,140,300];
return R[Y.aG-1]}function S(Y){var R=[5,7,26,40,100];return R[Y.aG-1]}function j(Y){if(Y.aG==1){return 4}else if(Y.aG==2){return 8}else{return Math.floor(C(Y)/9)}}function w(Y){var R=Y.p1,m=new Float32Array(R),Z=null;
for(var n=0;n<R;++n){m[n]=Y.random()}if(Y.p1<=3){m[0]=0;m[Y.p1-1]=1}else{for(var n=0;n<2;++n){var E=Math.floor(Y.random()*R);
if(Z==null||Z!=E){m[E]=n;Z=E}else{m[E+1]=n}}}return m}function u(Y,R){var m=[],Z=.2,N=0;for(var n=0;
n<Y.length;++n){var E=R.random()*(1-Z)+Z;m.push(E)}var h=Math.min(3,R.p1);for(var n=0;n<Y.length;++n){if(m[n]>.9){++N}}while(N<h){var j5=Math.floor(R.random()*Y.length);
if(m[j5]<=.9){m[j5]=.9+.1*R.random();++N}}return m}function l(Y,R){var m=v(R),Z=v({aG:1}),E=[];for(var n=0;
n<Y.length;++n){E.push(Math.max(1,(R.random()*10+2)*m/Z))}return E}function I(Y){var R=0;for(var n=0;
n<Y.length;++n){if(n==0){R+=Y[n]}else{R+=Math.abs(Y[n]-Y[n-1])}}return R}function Q(Y,R){if(Y.length/2-1==v(R)){return Y}var m=new Float32Array(2*(v(R)+1)),Z=(Y.length-2)/(m.length-2);
for(var n=0;n<m.length/2;++n){var E=n*Z,N=Math.floor(E),h=Math.ceil(E),j5=h-N,r=1,l8=0;if(j5!=0){r=(h-E)/j5;
l8=(E-N)/j5}m[2*n]=r*Y[2*N]+l8*Y[2*h];m[2*n+1]=r*Y[2*N+1]+l8*Y[2*h+1]}return m}function b(Y,R){var m=Y.length/2,Z=B(Y),E=Z/m,N=!1,r=0,l8=0,aP=1;
if(R){var h=Math.floor(Z/R.aMi),j5=R.aMi;if(R.ab1&&Y[0]==Y[Y.length-2]&&Y[1]==Y[Y.length-1]){N=!0;j5=Z/(h+1)}if(R.e==2&&!N&&j5*h+R.length>Z){m=h+1}else{m=h+2}E=j5}var bS=new Float32Array(m*2);
bS[0]=Y[0];bS[1]=Y[1];for(var n=1;n<m;++n){while(r<=n*E){l8=r;r+=e([Y[2*aP],Y[2*aP+1]],[Y[2*(aP-1)],Y[2*(aP-1)+1]]);
++aP}var kR=1-(n*E-l8)/(r-l8);bS[2*n]=(1-kR)*Y[2*aP]+kR*Y[2*(aP-1)];bS[2*n+1]=(1-kR)*Y[2*aP+1]+kR*Y[2*(aP-1)+1]}bS[bS.length-2]=Y[Y.length-2];
bS[bS.length-1]=Y[Y.length-1];return bS}function p(Y,R){var m=b(Y,R),Z=[];for(var n=0;n<(m.length-2)/2;
++n){var E=[];E.push(m[2*n]);E.push(m[2*n+1]);var N=e([m[2*(n+1)],m[2*(n+1)+1]],[m[2*n],m[2*n+1]]),h=[(m[2*(n+1)]-m[2*n])/N,(m[2*(n+1)+1]-m[2*n+1])/N],j5=P((R.afU-90)/360*2*Math.PI),r=h;
if(R.e==3){r=j5}else if(R.e==4){r=P(D(h)+D(j5))}else if(R.e==5){r=P(((R.random()-.5)*R.afU-90)/360*2*Math.PI)}var l8=R.length;
if(R.aOy){l8=2*R.random()*R.length}E.push(m[2*n]+r[0]*l8);E.push(m[2*n+1]+r[1]*l8);Z.push(E)}return Z}function k(Y){if(Y.axX){Y.RZ=100*Math.random()}else{Y.RZ=Y.alx}Y.random=new q;
Y.random(Y.RZ);if(Y.e==6){Y.p1=2;Y.shape=5;Y.ahl=0}}function g(Y,R){Y=Q(Y,R);var m=[Y],l8=0;if(R.e>=2&&R.e<6){m=p(Y,R)}var Z=j(R)-1,E=C(R)-Z,N=(R.p1-1)*(S(R)-1),h=m.length*E*N,j5=new Float32Array(h),r=new Float32Array(8*h);
for(var n=0;n<m.length;++n){for(var aP=0;aP<1e4;++aP){R.RZ=z(R.RZ)}R.random(R.RZ);var Y=Q(m[n],R),bS=w(R),kR=I(bS),j1=t(Y,bS,R),f6=c(R,bS),gx=o(f6.aGn,j1,R);
gx=i(gx,f6.H1,f6.afG,C(R));if(R.awP>0){gx=X(gx,B(m[n]),R)}O(gx,R,j5,r,l8);l8+=E*N}return[j5,r]}var gQ=function(Y){var R=performance.now(),m=Y[0],Z=Y[1];
k(Z);var E=[new Float32Array(0),new Float32Array(0)];for(var n=0;n<m.length;++n){Z.RZ=z(Z.RZ);var N=g(m[n],Z),h=new Float32Array(E[0].length+N[0].length),j5=new Float32Array(E[1].length+N[1].length);
h.set(E[0]);h.set(N[0],E[0].length);E[0]=h;j5.set(E[1]);j5.set(N[1],E[1].length);E[1]=j5}var r=performance.now();
if(Z.aiS){console._o("Geometry: "+String(r-R)+"ms")}return E};return gQ}(),eW=function(){function z(P,D){var B=[],A=0,s=D.length,a=0,M=0,$=new kk,U=0,o=1e9;
for(M=0;M<s;M++){var t=M*8,c=D[M];if(c<o)o=c;var H=P[t+0],F=P[t+1],i=P[t+2],X=P[t+3],K=P[t+4],f=P[t+5],d=P[t+6],L=P[t+7],G=Math.min(H,i,K,d),x=Math.max(H,i,K,d),O=Math.min(F,X,f,L),v=Math.max(F,X,f,L),C=new kk(G,O,x-G,v-O),S=C.X8($),j=U+c;
if(M-a<10&&(M==a||S.D()*.8<C.D()+$.D())){$=S;U=j}else{B.push(M-a);a=M;$=C;U=c;o=c}}if(M!=a)B.push(M-a);
return B}function q(P,D,B,A,s,a){var M=document.createElement("canvas"),F=0,h=.8;M.width=D;M.height=B;
var $=M.getContext("2d"),U=s[0],o=s[1],t=new Float64Array(D*B),c=Date.now(),H=z(o,U);for(var i=0;i<H.length;
i++){var X=F,K=F+H[i],L=1e9,x=1e9,u=0;F=K;var f=X*8,d=K*8,G=-L,O=-x;for(var v=f;v<d;v+=2){var C=o[v],S=o[v+1];
if(C<L)L=C;if(C>G)G=C;if(S<x)x=S;if(S>O)O=S}L=Math.floor(L);G=Math.ceil(G);x=Math.floor(x);O=Math.ceil(O);
var j=G-L,w=O-x;for(var l=X;l<K;l++)u+=U[l];for(var v=f;v<d;v+=8){var I=U[v>>>3],Q=o[v+0],b=o[v+1],p=o[v+2],k=o[v+3],g=o[v+4],Y=o[v+5],R=o[v+6],m=o[v+7];
$.fillStyle="rgba(0,0,0,"+I/u+")";$.beginPath();$.moveTo(Q,b);$.lineTo(p,k);$.lineTo(g,Y);$.lineTo(R,m);
$.closePath();$.fill()}var Z=$.getImageData(L,x,j,w).data;for(var S=0;S<w;S++)for(var C=0;C<j;C++){var n=S*j+C,E=Z[n*4+3],N=(x+S)*D+L+C;
if(E!=0)t[N]+=E*u}$.clearRect(L,x,j,w)}var j5=a[1].color,r=Math.pow(j5.l/255,h),l8=Math.pow(j5.I/255,h),aP=Math.pow(j5.c/255,h),bS=new kk(0,0,D,B),kR=T.n(D*B*4);
for(var S=0;S<B;S++)for(var C=0;C<D;C++){var n=S*D+C,l=n*4,U=t[n]*(1/255);kR[l]=V(r,U);kR[l+1]=V(l8,U);
kR[l+2]=V(aP,U);kR[l+3]=Math.min(255,U*255)}T.w.Mt("norm",kR,bS,A,bS,bS,1)}var e=new Uint8Array(2e3);
for(var n=0;n<2e3;n++)e[n]=255*Math.min(1,Math.log(n/700+1));function V(P,D){return e[Math.min(1500,~~(P*D*1e3))]}return q}(),c5=function(){var z=new Float32Array(3e3),q=new Float32Array(3e3),e=new Float32Array(256),V=new Float32Array(3e3);
function P(){var o=z.length;z[0]=Math.log10(157647e-9);for(var n=1;n<o;++n)z[n]=Math.log10(n/o)}function D(){var o=q.length;
for(var n=0;n<o;++n)q[n]=Math.pow(10,20*(n-o/2)/o)}function B(){var o=e.length;for(var n=0;n<o;++n)e[n]=T.Ec(n/255)}function A(){var o=V.length;
for(var n=0;n<o;++n)V[n]=255*T.Xg(n/(o-1))}function s(o,t){var c=o.length>>>2;for(var n=0;n<c;++n){var H=e[o[4*n]],F=e[o[4*n+1]],i=e[o[4*n+2]],X=.3811*H+.5783*F+.0402*i,K=.1967*H+.7244*F+.0782*i,f=.0241*H+.1288*F+.8444*i;
X=z[~~(X*z.length)];K=z[~~(K*z.length)];f=z[~~(f*z.length)];t[3*n]=(X+K+f)*.5773502692;t[3*n+1]=(X+K-2*f)*.4082482905;
t[3*n+2]=(X-K)*.7071067812}}function a(o,t){var c=t.length>>>2,H=V.length-1;for(var n=0;n<c;++n){var F=.5773502692*o[3*n],i=.4082482905*o[3*n+1],X=.7071067812*o[3*n+2],K=q[~~((F+i+X+10)*(3e3/20))],f=q[~~((F+i-X+10)*(3e3/20))],d=q[~~((F-2*i+10)*(3e3/20))],L=4.4679*K-3.5873*f+.1193*d,G=-1.2186*K+2.3809*f-.1624*d,x=.0497*K-.2439*f+1.2045*d;
t[4*n]=V[~~(H*Math.max(0,Math.min(1,L)))];t[4*n+1]=V[~~(H*Math.max(0,Math.min(1,G)))];t[4*n+2]=V[~~(H*Math.max(0,Math.min(1,x)))]}}function M(o){var t=0,c=0,H=0;
for(var n=0;n<o.length;n+=3){t+=o[n];c+=o[n+1];H+=o[n+2]}return[t/(o.length/3),c/(o.length/3),H/(o.length/3)]}function $(o,M){var t=0,c=0,H=0;
for(var n=0;n<o.length;n+=3){var F=o[n]-M[0],i=o[n+1]-M[1],X=o[n+2]-M[2];t+=F*F;c+=i*i;H+=X*X}return[Math.sqrt(t/(o.length/3)),Math.sqrt(c/(o.length/3)),Math.sqrt(H/(o.length/3))]}function U(o,t,c,H){P();
D();B();A();var F=0,Q,b;if(H[0]>100)F=-(H[0]-100)/100*.13;else if(H[0]>=75)F=(100-H[0])/25*.04;else if(H[0]>=50)F=.04+(75-H[0])/25*.04;
else if(H[0]>=25)F=.08+(50-H[0])/25*.08;else F=.16+(25-H[0])/25*.24;var i=(H[1]-100+100)/100,X=H[2]/100,K=H[3],f=new Float32Array(o.length*3/4),d=new Float32Array(t.length*3/4),L=new Float32Array(c.length*3/4),G=Date.now();
s(o,f);s(t,d);s(c,L);var x=Date.now(),O=M(f),v=M(d),C=Date.now(),S=$(f,O),j=$(d,v),w=Date.now();v[0]*=Math.pow(10,F);
if(j[0]+j[1]+j[2]<.001)j=S.slice(0);var u=[j[0]/S[0],j[1]/S[1],j[2]/S[2]],l=L.length,I=1/-1.1546978950500488;
for(var n=0;n<l;n+=3){if(K){var p=Math.max(0,Math.min(1,L[n]*I));p=1-Math.sqrt(p);Q=p*v[1];b=p*v[2]}else{Q=v[1];
b=v[2]}L[n]=(L[n]-O[0])*u[0]+v[0];L[n+1]=(L[n+1]-O[1])*u[1]*i+Q;L[n+2]=(L[n+2]-O[2])*u[2]*i+b}var k=Date.now(),g=c.slice(0);
a(L,c);var Y=c.length>>>2;for(var n=0;n<Y;++n){c[4*n]=(1-X)*c[4*n]+X*g[4*n];c[4*n+1]=(1-X)*c[4*n+1]+X*g[4*n+1];
c[4*n+2]=(1-X)*c[4*n+2]+X*g[4*n+2]}}return U}(),kA=function(){function z(q,e,V,P,D){var B=[-1,-1,-1,-1],A=255,s=160,a,M=!1,$=new Array(4);
$[0]=new Array(e);$[1]=new Array(V);$[2]=new Array(e);$[3]=new Array(V);var U=new Array(2);U[0]=new Array(V);
U[1]=new Array(V);function o(w,u,l,I,Q){this.start=I;this.axis=Q;this.dir=w;this.end=-1;this.source=u;
this.D=l}function t(w,u,l,I,Q){if(l%2==0){if(!$[l][w])$[l][w]=new Array;$[l][w].push(new o(l,I,Q,u,w))}else{if(!$[l][u])$[l][u]=new Array;
$[l][u].push(new o(l,I,Q,w,u))}var b=Date.now()}function c(n){var w=!1,u=0;if(q[4*n+3]<A)return w;var l=n%e,I=Math.floor(n/e);
H(l,I);if(n+e<e*V&&q[4*(n+e)+3]<A&&q[4*(n-e)+3]>=A&&q[4*(n-2*e)+3]>=A){var Q=2;if(q[4*(n+e)+3]<=s)u=-1;
if(q[4*(n+2*e-1)+3]<A&&q[4*(n+2*e+1)+3]<A)w=!0;else if(q[4*(n+2*e-1)+3]>=A&&q[4*(n+1)+3]>=A)w=!0;else if(q[4*(n+2*e+1)+3]>=A&&q[4*(n-1)+3]>=A)w=!0;
t(l,I,Q,u,w)}else if(n-e>=0&&q[4*(n-e)+3]<A&&q[4*(n+e)+3]>=A&&q[4*(n+2*e)+3]>=A){var Q=0;if(q[4*(n-e)+3]<=s)u=-1;
if(q[4*(n-2*e-1)+3]<A&&q[4*(n-2*e+1)+3]<A)w=!0;else if(q[4*(n-2*e-1)+3]>=A&&q[4*(n+1)+3]>=A)w=!0;else if(q[4*(n-2*e+1)+3]>=A&&q[4*(n-1)+3]>=A)w=!0;
t(l,I,Q,u,w)}u=0;if(n+1<e*V&&q[4*(n+1)+3]<A&&q[4*(n-1)+3]>=A&&q[4*(n-2)+3]>=A){var Q=3;if(q[4*(n+1)+3]<=s)u=-1;
if(!w&&q[4*(n+e+2)+3]<A&&q[4*(n-e+2)+3]<A){w=!0;t(l,I,Q,u,!0)}else t(l,I,Q,u,!1)}else if(n>=1&&q[4*(n-1)+3]<A&&q[4*(n+1)+3]>=A&&q[4*(n+2)+3]>=A){var Q=1;
if(q[4*(n-1)+3]<=s)u=-1;if(!w&&q[4*(n+e-2)+3]<A&&q[4*(n-e-2)+3]<A){w=!0;t(l,I,Q,u,!0)}else t(l,I,Q,u,!1)}return w}function H(n,w){if(B[0]==-1){B[0]=n;
B[1]=w;B[2]=1;B[3]=1}if(n<B[0]){B[2]+=B[0]-n;B[0]=n}if(n>B[0]+B[2])B[2]=n-B[0];if(w<B[1]){B[3]+=B[1]-w;
B[1]=w}if(w>B[1]+B[3])B[3]=w-B[1]}function F(w,n,u,l){if(!u.D)return;var I=(w+2)%4,Q=u.start,b=B[1];
if(w==2)b+=B[3];else if(w==1)b=B[0];else if(w==3)b=B[0]+B[2];var p=u.source;if($[I][n])for(var k=0;k<$[I][n].length;
++k){if(w>1){var g=Q+Math.floor(($[I][n][k].start-Q)/2);if($[I][n][k].start>Q&&g<b)b=g}else{var g=Q-Math.floor((Q-$[I][n][k].start)/2);
if($[I][n][k].start<Q&&g>b)b=g}}for(var Y=1;Y<Math.abs(b-Q);++Y){var k=Q+Y;if(w==1||w==0)k=Q-Y;for(var R=0;
R<2;++R){var m=2*R,Z=!1;if(w%2==0)m+=1;if($[m][k]){for(var E=0;E<$[m][k].length;++E){if($[m][k][E].D){var N=$[m][k][E].start,h=n-N,j5=k-Q;
if(m==0||m==1)h=-h;if(h<=0)continue;if(w==0||w==1)j5=-j5;if(j5>h){b=k;Z=!0;break}}}if(Z)break}}}u.end=b;
K(w,n,Q,b,p)}function i(w){for(var n=0;n<$[w].length;++n){if($[w][n])for(var u=0;u<$[w][n].length;++u){F(w,n,$[w][n][u])}}}function X(){var w=[2,0,3,1];
for(var n=0;n<w.length;++n)i(w[n])}function K(w,n,u,l,I){if(w==2)for(var Q=u;Q<=l;++Q){if(!f(Q*e+n,(u+I)*e+n))return!1}else if(w==0)for(var Q=u;
Q>=l;--Q){if(!f(Q*e+n,(u-I)*e+n))return!1}else if(w==1)for(var Q=u;Q>=l;--Q){if(!f(n*e+Q,n*e+u-I))return!1}else if(w==3)for(var Q=u;
Q<=l;++Q){if(!f(n*e+Q,n*e+u+I))return!1}}function f(w,u){if(!a[w]){P[4*w]=P[4*u];P[4*w+1]=P[4*u+1];P[4*w+2]=P[4*u+2];
if(M)P[4*w+3]=255;a[w]=!0;return!0}return!1}function d(){for(var n=0;n<4;n+=1){for(var w=0;w<$[n].length;
++w){if($[n][w])for(var u=0;u<$[n][w].length;++u){var l=$[n][w][u];for(var I=1;I<3;I+=2){var Q=(n+I)%4;
if($[Q][l.start])for(var b=0;b<$[Q][l.start].length;++b){if($[Q][l.start][b].start==l.axis){var hE=e*l.start+l.axis;
if(n%2==1){hE=l.start+e*l.axis;L($[Q][l.start][b])}else L(l)}}}}}}}function L(w){if(w.dir%2==0){var hE=e*w.start+w.axis,u=w.start,l=1;
if(!a[hE+1])l=3;else if(a[hE-1])return;var I=P[4*hE],Q=P[4*hE+1],b=P[4*hE+2];while(P[4*hE]==I&&P[4*hE+1]==Q&&P[4*hE+2]==b){if(l==1){if(!U[0][u])U[0][u]=new Array;
U[0][u].push(new o(l,0,!1,w.axis,u))}else{if(!U[1][u])U[1][u]=new Array;U[1][u].push(new o(l,0,!1,w.axis,u))}if(w.dir==2){hE+=e;
u++}else{hE-=e;u--}}}}function G(){for(var w=0;w<2;++w){var u=(w+1)%2;for(var n=0;n<U[w].length;++n){if(U[w][n])for(var l=0;
l<U[w][n].length;++l){var I=B[0];if(w==1)I+=B[2];var Q=U[w][n][l].start;if(U[u][n])for(var b=0;b<U[u][n].length;
++b){var p=U[u][n][b].fY;if(w==0){if(p>I&&p<Q){I=Q-Math.floor((Q-p)/2)}}else{if(p<I&&p>Q){I=Q+Math.ceil((p-Q)/2)}}}if(w==0)K(U[w][n][l].dir,n,Q-1,I,-1);
else K(U[w][n][l].dir,n,Q+1,I,-1)}}}for(var n=0;n<a.length;++n){if(!a[n]&&n%e>=B[0]&&n%e<=B[0]+B[2]&&Math.floor(n/e)>=B[1]&&Math.floor(n/e)<=B[1]+B[3]){var Q=e;
if(n<Q||!a[n-Q])Q=1;P[4*n]=P[4*(n-Q)];P[4*n+1]=P[4*(n-Q)+1];P[4*n+2]=P[4*(n-Q)+2];a[n]=!0;if(M)P[4*n+3]=255}}}function x(){a=new Array(q.length/4);
for(var n=0;n<P.length/4;++n){a[n]=!1;P[4*n]=q[4*n];P[4*n+1]=q[4*n+1];P[4*n+2]=q[4*n+2];P[4*n+3]=q[4*n+3];
if(P[4*n+3]==255)a[n]=!0;if(c(n))a[n]=!1}if(B[0]>0){B[0]--;B[2]++}if(B[1]>0){B[1]--;B[3]++}if(B[0]+B[2]<e){B[2]++}if(B[1]+B[3]<V){B[3]++}}var O=Date.now();
x();var v=Date.now();X();var C=Date.now();d();var S=Date.now();G();var j=Date.now();console.log("Init: "+String(v-O));
console.log("Filling: "+String(C-v));console.log("Check areas: "+String(S-C));console.log("Fill areas: "+String(j-S))}return z}();
function lm(){}lm.aLO=function(z){var q=[T.Ec(z[0]),T.Ec(z[1]),T.Ec(z[2]),0];return T.DB.kF(T.DB.a4d,q)};
lm.aHk=function(z){var q=T.DB.kF(T.DB.vs,z);return[T.Xg(q[0]),T.Xg(q[1]),T.Xg(q[2])]};lm.AX=function(z,q){var e={},V=5003,P=1667,D=25e3,B=57.4,A=16.1,s=1.8,a=0,M=1.54,$=.75,t=0;
if(q>0){z-=q/100*4}if(z<0){A=22.54;B=80.36;M=.756}if(q>0){s=1.3;$=.2}var U=Math.min(V+B*z,D),o=Math.max(V-A*z,P);
if(z<0){U=Math.max(V+A*z,P);o=Math.min(V-B*z,D)}if(z>0){if(z<=14){t=(z-1)/13*.075+.025}else if(z<=29){t=.1}else if(z<=60){t=.1-.1*(z-29)/(60-29)}else{var c=z-60;
a=-20*(c/40);t=-.3*(c/40)}}else{if(z<-60){var c=z+60;a=-20*(c/40)}}var H=Math.abs(z)/100*M+Math.abs(q)/100*$+t,F=-(q*s+a),i=eZ.wc(U,-F),X=eZ.qQ(i),K=eZ.wc(o,0),f=eZ.qQ(K),d=eZ.aot(X,f);
e.ax6=H;e.a5i=d;if(z==0&&q==0)e.aFy=!0;else e.aFy=!1;return e};lm.auL=function(z,q,e,V){if(V.aFy){return[z,q,e]}var P=this.aLO([z,q,e]),D=P[0],B=P[1],A=P[2],s=B+1e-12,a=[D/s,B/s,A/s,0],M=T.DB.kF(V.a5i,a),$=0,U=.4;
M[0]*=s;M[1]*=s;M[2]*=s;if(s>U)$=1/(1-U)*(s-U);P[0]=(1-$)*M[0]+$*D;P[1]=(1-$)*M[1]+$*B;P[2]=(1-$)*M[2]+$*A;
return this.aHk(P)};T.GH={O6:function(z,q){var n=z.length;z.push(q);var e=n>>>1;while(e!=0&&z[n][0]<z[e][0]){var V=z[n];
z[n]=z[e];z[e]=V;n=e;e=n>>>1}},oU:function(z){if(z.length==2)return z.pop();var top=z[1],n=1;z[1]=z.pop();
var q=z.length;while(!0){var e=n<<1,V=e+1,P=n;if(e<q&&z[e][0]<z[P][0])P=e;if(V<q&&z[V][0]<z[P][0])P=V;
if(P==n)break;var D=z[n];z[n]=z[P];z[P]=D;n=P}return top},ayi:function(z){for(var n=1;n<z.length;n++){var q=n,e=1e9;
while(q!=0){var V=z[q][0];if(V>e){console.log(n);throw"e"}e=V;q=q>>>1}}}};T.w={};T.w.wb=new Float64Array(256);
T.w.PT=new Uint8Array(256*256);T.w.aPl=new Uint8Array(256*256);(function(){for(var n=0;n<256;n++)T.w.wb[n]=255/n;
for(var n=0;n<256;n++)for(var z=0;z<256;z++)T.w.PT[n*256+z]=n==0?0:Math.round(z*255/n);for(var n=0;n<256;
n++)for(var z=0;z<256;z++)T.w.aPl[n*256+z]=Math.round(n*(255-z)/255)}());T.w.Mt=function(z,q,e,V,P,D,B,A){if(A==null)A=hB.xj();
var s=T.Gx(q instanceof Array?q[0]:q);if(s!=T.Gx(V))throw"e";if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(z)==-1){B=B*A.fill;
A.fill=1;A.style=!1}var a="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),M="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),$=T.w[z+"F"];
if(s==8){if(A.dJ==null&&z=="norm")T.w.aiD(q,e,V,P,D,B,$,A.Wl?1:0);else if(z=="diss")T.w.aGa(q,e,V,P,D,B,$,A.Wl?1:0);
else if(a.indexOf(z)!=-1)T.w.aCn(q,e,V,P,D,B,$,A);else if(M.indexOf(z)!=-1)T.w.aya(q,e,V,P,D,B,$,A)}else{if(z=="diss")T.w.aoA(q,e,V,P,D,B,$,A.Wl?1:0);
else if(a.indexOf(z)!=-1)T.w.aN9(q,e,V,P,D,B,$,A);else if(M.indexOf(z)!=-1)T.w.aIB(q,e,V,P,D,B,$,A)}};
T.w.a5c=function(z,q,e){var V=z*e+1-e;return V<.001?0:1-Math.min(1,(1-q)/V)};T.w.aBP=function(z,q,e){return z*e==1?1:Math.min(1,q/(1-z*e))};
T.w.Tj=function(z){return z<=.25?((16*z-12)*z+4)*z:Math.sqrt(z)};T.w.normF=function(z,q,e){return z};
T.w.darkF=function(z,q,e){return Math.min(z,q)};T.w["mul F"]=function(z,q,e){return z*q};T.w.idivF=function(z,q,e){var V=z*e+1-e;
return q==1?1:1-q>=V?0:1-(1-q)/V};T.w.lbrnF=function(z,q,e){return Math.max(0,z*e+q-e)};T.w.dkClF=function(z,q,e){var V=T.w5(z)<T.w5(q)?z:q;
e.l=V.l;e.I=V.I;e.c=V.c;return e};T.w.liteF=function(z,q,e){return Math.max(z,q)};T.w.scrnF=function(z,q,e){return q+z-q*z};
T.w["div F"]=function(z,q,e){z*=e;return q==0?0:q>=1-z?1:q/(1-z)};T.w.lddgF=function(z,q,e){z*=e;return Math.min(1,z+q)};
T.w.lgClF=function(z,q,e){var V=T.w5(z)>T.w5(q)?z:q;e.l=V.l;e.I=V.I;e.c=V.c;return e};T.w.overF=function(z,q,e){return T.w.hLitF(q,z,e)};
T.w.sLitF=function(z,q,e){return z<=.5?q-(1-2*z)*q*(1-q):q+(2*z-1)*(T.w.Tj(q)-q)};T.w.hLitF=function(z,q,e){return z<=.5?T.w["mul F"](2*z,q,e):T.w.scrnF(2*z-1,q,e)};
T.w.vLitF=function(z,q,e){return z<=.5?T.w.a5c(2*z,q,e):T.w.aBP(2*z-1,q,e)};T.w.lLitF=function(z,q,e){return z<=.5?T.w.lbrnF(2*z,q,e):T.w.lddgF(2*z-1,q,e)};
T.w.pLitF=function(z,q,e){return z<=.5?T.w.darkF(2*z,q,e):T.w.liteF(2*z-1,q,e)};T.w.hMixF=function(z,q,e){if(e>.99)return z+q<1?0:1;
return Math.min(1,Math.max(0,(q+z*e-e)/(1-e+1e-6)))};T.w.diffF=function(z,q,e){z*=e;return Math.abs(z-q)};
T.w.smudF=function(z,q,e){return z+q-2*z*q};T.w.fsubF=function(z,q,e){return Math.max(q-z,0)};T.w.fdivF=function(z,q,e){return Math.min(q/z,1)};
T.w["hue F"]=function(z,q,e){T.w.lZ(z,T.WC(q),e);T.w.nS(e,T.w5(q),e)};T.w["sat F"]=function(z,q,e){T.w.lZ(q,T.WC(z),e);
T.w.nS(e,T.w5(q),e)};T.w.colrF=function(z,q,e){T.w.nS(z,T.w5(q),e)};T.w["lum F"]=function(z,q,e){T.w.nS(q,T.w5(z),e)};
T.w.nS=function(z,q,e){var V=q-T.w5(z);e.l=z.l+V;e.I=z.I+V;e.c=z.c+V;T.w.avh(e)};T.w.avh=function(z){var q=z.l,e=z.I,V=z.c,P=T.Vq(q,e,V),hE=Math.min(q,e,V),D=Math.max(q,e,V);
if(hE<0){var B=P/(P-hE);q=P+(q-P)*B;e=P+(e-P)*B;V=P+(V-P)*B}if(D>1){var B=(1-P)/(D-P);q=P+(q-P)*B;e=P+(e-P)*B;
V=P+(V-P)*B}z.l=q;z.I=e;z.c=V};T.w.lZ=function(z,q,e){var V=T.w.a2l,P=z.l,D=z.I,B=z.c;if(P==D&&D==B){e.l=e.I=e.c=0}else if(P>D){if(P>B){if(D>B){e.l=q;
e.I=V(P,D,B,q);e.c=0}else{e.l=q;e.c=V(P,B,D,q);e.I=0}}else{e.c=q;e.l=V(B,P,D,q);e.I=0}}else{if(P<B){if(D>B){e.I=q;
e.c=V(D,B,P,q);e.l=0}else{e.c=q;e.I=V(B,D,P,q);e.l=0}}else{e.I=q;e.l=V(D,P,B,q);e.c=0}}};T.w.a2l=function(z,q,e,V){return(q-e)*V/(z-e)};
T.w.aiD=function(z,q,e,V,P,D,B,A){var s=q.HX(V).HX(P),a=Math.max(0,s.x-q.x),M=Math.max(0,s.x-V.x),$=Math.max(0,s.y-q.y),U=Math.max(0,s.y-V.y),o=s.s,t=s.T,c=q.s,H=V.s,F=z instanceof Array,i=F?z[1]:null,X=new Uint32Array((F?z[0]:z).buffer),K=new Uint32Array(e.buffer),f=X[0]&16777215;
for(var n=0;n<t;n++){var d=($+n)*c+a,L=(U+n)*H+M;for(var G=0;G<o;G++){var x=F?f|i[d+G]<<24:X[d+G],I=1;
if(x>>>24==0)continue;if(x>>>24==255&&D==1&&A==0){K[L+G]=x;continue}var O=K[L+G],v=x&255,C=x>>>8&255,S=x>>>16&255,j=O&255,w=O>>>8&255,u=O>>>16&255,l=D,Q=(O>>>24)*(1/255);
if(A==0){l=(x>>>24)*D*(1/255);I=Q}var b=I*(1-l),p=l+b,k=1/p;K[L+G]=~~(.5+(A*Q+(1-A)*p)*255)<<24|~~(.5+(S*l+u*b)*k)<<16|~~(.5+(C*l+w*b)*k)<<8|~~(.5+(v*l+j*b)*k)}}};
T.w.azy=function(z,q,e,V,P,D){var B=q.HX(V).HX(P),A=Math.max(0,B.x-q.x),s=Math.max(0,B.x-V.x),a=Math.max(0,B.y-q.y),M=Math.max(0,B.y-V.y),$=B.s,U=B.T,o=q.s,t=V.s,c=T.w.PT,H=T.w.aPl,F=new Uint32Array(z.buffer),i=new Uint32Array(e.buffer),X=Math.floor(Math.random()*16777215),K=0;
for(var n=0;n<U;n++){var f=(a+n)*o+A,d=(M+n)*t+s;for(var L=0;L<$;L++){var G=F[f+L];if(G>>>24==0)continue;
if(G>>24==255&&D==1){i[d+L]=G;continue}var x=i[d+L],O=(G>>>24)*D*(1/255),v=(x>>>24)*(1/255),C=v*(1-O),S=O+C,j=G&255,w=G>>>8&255,u=G>>>16&255,l=x&255,I=x>>>8&255,Q=x>>>16&255;
K>>>=8;if((L&3)==0)K=T.w.km(d+L+X);var b=S==0?0:1/S,p=Math.floor(S*(256*255))+(K&255)>>>8,k=Math.floor((u*O+Q*C)*b+.5),g=Math.floor((w*O+I*C)*b+.5),Y=Math.floor((j*O+l*C)*b+.5);
i[d+L]=p<<24|k<<16|g<<8|Y}}};T.w.OS=function(z,q,e,V,P,D,B,A){var s=T.Vq(z,q,e),a=T.Vq(V,P,D),M=Math.min,$=T.w.aEa,U=$(s,A,0);
U=M(U,$(z,A,8));U=M(U,$(q,A,16));U=M(U,$(e,A,24));var o=$(a,A,4);o=M(o,$(V,A,12));o=M(o,$(P,A,20));o=M(o,$(D,A,28));
o=Math.max(o,1-B);var t=Math.min(U,o);return t<0?0:t>1?1:t};T.w.aEa=function(z,q,n){return Math.min((z-q[n])*q[n+1],(z-q[n+3])*q[n+2])};
T.w.Qf=function(z){return~~(z+.5)};T.w.aCn=function(z,q,e,V,P,D,B,A){var s=1/255,a=s*D,M=T.w.Qf,$=A.Wl?1:0,U=A.fill,o=A.style,t=q.HX(V).HX(P),c=Math.max(0,t.x-q.x),H=Math.max(0,t.x-V.x),F=Math.max(0,t.y-q.y),i=Math.max(0,t.y-V.y),X=t.s,K=t.T,f=q.s,d=V.s,L=z instanceof Array,G=L?z[1]:null,x=new Uint32Array((L?z[0]:z).buffer),O=new Uint32Array(e.buffer),v=x[0]&16777215;
for(var n=0;n<K;n++){var C=(F+n)*f+c,S=(i+n)*d+H;for(var j=0;j<X;j++,C++,S++){var w=L?v|G[C]<<24:x[C],Y=1;
if(w>>>24==0)continue;var u=O[S],l=(w&255)*s,I=(w>>>8&255)*s,Q=(w>>>16&255)*s,b=(u&255)*s,p=(u>>>8&255)*s,k=(u>>>16&255)*s,g=D;
if($==0){g=(w>>>24)*a;Y=(u>>>24)*s}if(A.dJ)g*=T.w.OS(l,I,Q,b,p,k,Y,A.dJ);var R=Y*(1-g),m=g+R,Z=m==0?0:255/m,E=o?1:g,N=((1-Y)*g*l+(1-E)*Y*b+E*Y*B(l,b,(1+g-E)*U))*Z,h=((1-Y)*g*I+(1-E)*Y*p+E*Y*B(I,p,(1+g-E)*U))*Z,j5=((1-Y)*g*Q+(1-E)*Y*k+E*Y*B(Q,k,(1+g-E)*U))*Z;
m=g*U+Y*(1-g*U);O[S]=M($*(u>>>24)+(1-$)*M(m*255))<<24|M(j5)<<16|M(h)<<8|M(N)}}};T.w.aN9=function(z,q,e,V,P,D,B,A){var s=T.Gx(e),a=s==32?1:s==16?65535:255,M=1/a,$=A.Wl?1:0,U=A.fill,o=A.style,t=T.w.Qf,c=q.HX(V).HX(P),H=Math.max(0,c.x-q.x),F=Math.max(0,c.x-V.x),i=Math.max(0,c.y-q.y),X=Math.max(0,c.y-V.y),K=c.s,f=c.T,d=q.s,L=V.s,G=z instanceof Array,x=G?z[1]:null;
if(G)z=z[0];for(var n=0;n<f;n++){var O=(i+n)*d+H,v=(X+n)*L+F;for(var C=0;C<K;C++,O++,v++){var S=G?0:O*4,j=v*4,w=z[S]*M,u=z[S+1]*M,l=z[S+2]*M,I=(G?x[O]:z[S+3])*M*D;
if(I==0)continue;var Q=e[j]*M,b=e[j+1]*M,p=e[j+2]*M,k=e[j+3]*M;if(A.dJ)I*=T.w.OS(w,u,l,Q,b,p,k,A.dJ);
var g=k*(1-I),Y=I+g,R=Y==0?0:a/Y,m=o?1:I,Z=((1-k)*I*w+(1-m)*k*Q+m*k*B(w,Q,(1+I-m)*U))*R,E=((1-k)*I*u+(1-m)*k*b+m*k*B(u,b,(1+I-m)*U))*R,N=((1-k)*I*l+(1-m)*k*p+m*k*B(l,p,(1+I-m)*U))*R;
Y=I*U+k*(1-I*U);if(s==16){e[j]=t(Z);e[j+1]=t(E);e[j+2]=t(N);e[j+3]=t($*e[j+3]+(1-$)*(Y*a))}else{e[j]=Z;
e[j+1]=E;e[j+2]=N;e[j+3]=$*e[j+3]+(1-$)*(Y*a)}}}};T.w.aya=function(z,q,e,V,P,D,B,A){var s=1/255,a=s*D,M=A.Wl?1:0,$=q.HX(V).HX(P),U=Math.max(0,$.x-q.x),o=Math.max(0,$.x-V.x),t=Math.max(0,$.y-q.y),c=Math.max(0,$.y-V.y),H=$.s,F=$.T,i=z instanceof Array,X=i?z[1]:null,K=new Uint32Array((i?z[0]:z).buffer),f=new Uint32Array(e.buffer),d=K[0]&16777215,L={l:0,I:0,c:0},G={l:0,I:0,c:0},x={l:0,I:0,c:0};
for(var n=0;n<F;n++){var O=(t+n)*q.s+U,v=(c+n)*V.s+o;for(var C=0;C<H;C++,O++,v++){var S=i?d|X[O]<<24:K[O],j=f[v],w=(S&255)*s,u=(S>>>8&255)*s,l=(S>>>16&255)*s,I=(j&255)*s,Q=(j>>>8&255)*s,b=(j>>>16&255)*s,p=D,k=1;
if(M==0){p=(S>>>24)*a;k=(j>>>24)*s}if(A.dJ)p*=T.w.OS(w,u,l,I,Q,b,k,A.dJ);var g=k*(1-p),Y=p+g,R=255/Y;
L.l=w;L.I=u;L.c=l;G.l=I;G.I=Q;G.c=b;B(L,G,x);var m=(((1-k)*w+k*x.l)*p+I*g)*R,Z=(((1-k)*u+k*x.I)*p+Q*g)*R,E=(((1-k)*l+k*x.c)*p+b*g)*R,N=M*(j>>>24)+(1-M)*Math.round(Y*255);
f[v]=N<<24|E<<16|Z<<8|m}}};T.w.aIB=function(z,q,e,V,P,D,B,A){var s=T.Gx(e),a=s==32?1:s==16?65535:255,M=1/a,$=A.Wl?1:0,U=q.HX(V).HX(P),o=Math.max(0,U.x-q.x),t=Math.max(0,U.x-V.x),c=Math.max(0,U.y-q.y),H=Math.max(0,U.y-V.y),F=U.s,i=U.T,X={l:0,I:0,c:0},K={l:0,I:0,c:0},f={l:0,I:0,c:0},d=z instanceof Array,L=d?z[1]:null;
if(d)z=z[0];for(var n=0;n<i;n++){var G=(c+n)*q.s+o,x=(H+n)*V.s+t;for(var O=0;O<F;O++,G++,x++){var v=d?0:G*4,C=x*4,S=z[v]*M,j=z[v+1]*M,w=z[v+2]*M,b=1;
if(z[v+3]==0)continue;var u=e[C]*M,l=e[C+1]*M,I=e[C+2]*M,Q=D;if($==0){Q=(d?L[G]:z[v+3])*M*D;b=e[C+3]*M}if(A.dJ)Q*=T.w.OS(S,j,w,u,l,I,b,A.dJ);
var p=b*(1-Q),k=Q+p,g=a/k;X.l=S;X.I=j;X.c=w;K.l=u;K.I=l;K.c=I;B(X,K,f);e[C]=(((1-b)*S+b*f.l)*Q+u*p)*g;
e[C+1]=(((1-b)*j+b*f.I)*Q+l*p)*g;e[C+2]=(((1-b)*w+b*f.c)*Q+I*p)*g;e[C+3]=$*e[C+3]+(1-$)*Math.round(k*a)}}};
T.w.sG=function(z){z=z^61^z>>>16;z=z+(z<<3);z=z^z>>>4;z=z*668265261;z=z^z>>15;return(z&16777215)*(1/16777215)};
T.w.km=function(z){z=z^61^z>>>16;z=z+(z<<3);z=z^z>>>4;z=z*668265261;z=z^z>>>15;return z};T.w.ix=function(z){this.vW=z};
T.w.ix.prototype.get=function(){var z=this.vW=T.w.km(this.vW);return(z&16777215)*(1/16777215)};T.w.aGa=function(z,q,e,V,P,D,B,A){var s=Math.round(D*(256*256*256/255)),a=q.HX(V).HX(P),M=Math.max(0,a.x-q.x),$=Math.max(0,a.x-V.x),U=Math.max(0,a.y-q.y),o=Math.max(0,a.y-V.y),t=a.s,c=a.T,H=z instanceof Array,F=H?z[1]:null,i=new Uint32Array((H?z[0]:z).buffer),X=new Uint32Array(e.buffer),K=i[0]&16777215;
for(var n=0;n<c;n++){var f=(U+n)*q.s+M,d=(o+n)*V.s+$;for(var L=0;L<t;L++,f++,d++){var G=H?K|F[f]<<24:i[f],x=X[d],O=A*255+(1-A)*(G>>>24);
if((T.w.km(f)&16777215)>=O*s)continue;X[d]=G&16777215|A*(x>>>24)+(1-A)*255<<24}}};T.w.aoA=function(z,q,e,V,P,D,B,A){var s=T.Gx(e),a=s==32?1:s==16?65535:255,M=1/a,$=q.HX(V).HX(P),U=Math.max(0,$.x-q.x),o=Math.max(0,$.x-V.x),t=Math.max(0,$.y-q.y),c=Math.max(0,$.y-V.y),H=$.s,F=$.T,i=z instanceof Array,X=i?z[1]:null;
if(i)z=z[0];for(var n=0;n<F;n++){var K=(t+n)*q.s+U,f=(c+n)*V.s+o;for(var d=0;d<H;d++,K++,f++){var L=i?0:K*4,G=f*4,x=(i?X[K]:z[L+3])*M,O=e[G+3]*M;
x=A+(1-A)*x;if((T.w.km(K)&255)*(1/255)>=x*D)continue;e[G]=z[L];e[G+1]=z[L+1];e[G+2]=z[L+2];e[G+3]=(A*O+(1-A))*a}}};
T.w.amA=function(z,q,e){for(var n=0;n<z.length;n+=4){var V=e[n>>>2];if(V==0)continue;var P=V*(1/255),D=1/P,B=q[n],A=q[n+1],s=q[n+2],a=z[n],M=z[n+1],$=z[n+2];
q[n]=Math.min(255,Math.max(0,Math.round((B-(1-P)*a)*D)));q[n+1]=Math.min(255,Math.max(0,Math.round((A-(1-P)*M)*D)));
q[n+2]=Math.min(255,Math.max(0,Math.round((s-(1-P)*$)*D)));q[n+3]=255}};T.w.Dx=function(z,q,e,V,P,D,B,A,s,a,M){if(a==null)a=!1;
var $=T.Gx(z),U=$==8?255:$==16?65535:1;if(P&&P.length==D.D()*4){var o=T.n(D.D(),$);T.bl(P,o,3);P=o}if(P&&!q.bs(D)){var t=T.n(q.D(),$);
t.fill(U*B/255);T.KY(P,D,t,q);P=t;D=q}if($==8){if(M==null)M=[1,1,1];var c=255<<24|M[2]*16711680|M[1]*65280|M[0]*255,H=~c;
if(a){if(P==null)T.w.azn(z,q,e,V,P,A,s,c,H);else T.w.ad5(z,q,e,V,P,A,s)}else{if(P==null)T.w.ak2(z,q,e,V,P,A,s,c,H);
else T.w.a6v(z,q,e,V,P,A,s)}}else{if(M&&M.join(",")!="1,1,1")throw"e";if(a)T.w.aDo(z,q,e,V,P,A,s);else T.w.al6(z,q,e,V,P,A,s)}};
T.w.ak2=function(z,q,e,V,P,D,B,A,s){var a=1/255,M=q.HX(V).HX(D),$=Math.max(0,M.x-q.x),U=Math.max(0,M.x-V.x),o=Math.max(0,M.y-q.y),t=Math.max(0,M.y-V.y),c=M.s,H=M.T,F=new Uint32Array(z.buffer),i=new Uint32Array(e.buffer),X=T.w.PT,K=B*255&255;
for(var n=0;n<H;n++){var f=(o+n)*q.s+$,d=(t+n)*V.s+U;for(var L=0;L<c;L++,f++,d++){var G=F[f],x=i[d],O=G>>>24,v=x>>>24,C=T.Ix(K*O+(255-K)*v),S=T.Ix(O*K),j=T.Ix(v*(255-K)),w=G&255,u=G>>>8&255,l=G>>>16&255,I=x&255,Q=x>>>8&255,b=x>>>16&255,p=S*w+I*j,k=S*u+Q*j,g=S*l+b*j;
p=X[C<<8|T.Ix(p)];k=X[C<<8|T.Ix(k)];g=X[C<<8|T.Ix(g)];var Y=C<<24|g<<16|k<<8|p;i[d]=s&x|A&Y}}};T.w.azn=function(z,q,e,V,P,D,B,A,s){var a=1/255,M=q.HX(V).HX(D),$=Math.max(0,M.x-q.x),U=Math.max(0,M.x-V.x),o=Math.max(0,M.y-q.y),t=Math.max(0,M.y-V.y),c=M.s,H=M.T,F=new Uint32Array(z.buffer),i=new Uint32Array(e.buffer),X=T.w.PT,K=B*16777215&16777215;
for(var n=0;n<H;n++){var f=(o+n)*q.s+$,d=(t+n)*V.s+U;for(var L=0;L<c;L++,f++,d++){if((T.w.km(f)&16777215)<K){i[d]=s&i[d]|A&F[f]}}}};
T.w.al6=function(z,q,e,V,P,D,B){var A=T.Gx(z),s=A==8?255:A==16?65535:1,a=1/s,M=q.HX(V).HX(D),$=Math.max(0,M.x-q.x),U=Math.max(0,M.x-V.x),o=Math.max(0,M.y-q.y),t=Math.max(0,M.y-V.y),c=M.s,H=M.T;
for(var n=0;n<H;n++){var F=(o+n)*q.s+$,i=(t+n)*V.s+U;for(var X=0;X<c;X++,F++,i++){var K=(P?P[F]*a:1)*B,f=F*4,d=i*4,L=z[f+3]*a,G=e[d+3]*a,x=L*K,O=G*(1-K),v=x+O,C=v==0?0:s/v,S=z[f]*a,j=z[f+1]*a,w=z[f+2]*a,u=e[d]*a,l=e[d+1]*a,I=e[d+2]*a;
e[d]=(x*S+O*u)*C;e[d+1]=(x*j+O*l)*C;e[d+2]=(x*w+O*I)*C;e[d+3]=s*v}}};T.w.a6v=function(z,q,e,V,P,D,B){var A=1/255,s=q.HX(V).HX(D),a=Math.max(0,s.x-q.x),M=Math.max(0,s.x-V.x),$=Math.max(0,s.y-q.y),U=Math.max(0,s.y-V.y),o=s.s,t=s.T,c=new Uint32Array(z.buffer),H=new Uint32Array(e.buffer),F=T.w.PT;
for(var n=0;n<t;n++){var i=($+n)*q.s+a,X=(U+n)*V.s+M;for(var K=0;K<o;K++,i++,X++){var f=P[i]*B&255;if(f==0)continue;
if(f==255){H[X]=c[i];continue}var d=c[i],L=H[X],G=d>>>24,x=L>>>24,O=T.Ix(f*G+(255-f)*x),v=T.Ix(G*f),C=T.Ix(x*(255-f)),S=d&255,j=d>>>8&255,w=d>>>16&255,u=L&255,l=L>>>8&255,I=L>>>16&255,Q=F[O<<8|T.Ix(v*S+u*C)],b=F[O<<8|T.Ix(v*j+l*C)],p=F[O<<8|T.Ix(v*w+I*C)];
H[X]=O<<24|p<<16|b<<8|Q}}};T.w.aDo=function(z,q,e,V,P,D,B){var A=T.Gx(z),s=A==8?255:A==16?65535:1,a=1/s,M=q.HX(V).HX(D),$=Math.max(0,M.x-q.x),U=Math.max(0,M.x-V.x),o=Math.max(0,M.y-q.y),t=Math.max(0,M.y-V.y),c=M.s,H=M.T,F=B*a*65535;
for(var n=0;n<H;n++){var i=(o+n)*q.s+$,X=(t+n)*V.s+U;for(var K=0;K<c;K++,i++,X++){var f=P[i];if((T.w.km(i)&65535)<f*F){var d=i*4,L=X*4;
e[L]=z[d];e[L+1]=z[d+1];e[L+2]=z[d+2];e[L+3]=z[d+3]}}}};T.w.ad5=function(z,q,e,V,P,D,B){var A=1/255,s=q.HX(V).HX(D),a=Math.max(0,s.x-q.x),M=Math.max(0,s.x-V.x),$=Math.max(0,s.y-q.y),U=Math.max(0,s.y-V.y),o=s.s,t=s.T,c=new Uint32Array(z.buffer),H=new Uint32Array(e.buffer),F=T.w.PT,i=Math.round(B*257);
for(var n=0;n<t;n++){var X=($+n)*q.s+a,K=(U+n)*V.s+M;for(var f=0;f<o;f++,X++,K++){var d=P[X]*i;if((T.w.km(X)&65535)<d)H[K]=c[X]}}};
T.w.axE=function(z,q,e,V,P,D,B){var A=1/255,s=q.HX(V).HX(D),a=Math.max(0,s.x-q.x),M=Math.max(0,s.x-V.x),$=Math.max(0,s.y-q.y),U=Math.max(0,s.y-V.y),o=s.s,t=s.T,c=new Uint32Array(z.buffer),H=new Uint32Array(e.buffer),F=Math.floor(Math.random()*V.D()),i=T.w.amC;
for(var n=0;n<t;n++){var X=($+n)*q.s+a,K=(U+n)*V.s+M;for(var f=0;f<o;f++){var d=P[X+f]*B;if(d==0)continue;
if(d==255){H[K+f]=c[X+f];continue}var L=c[X+f],G=H[K+f],x=L>>>24,O=G>>>24,v=x*d*(1/255),C=O*(255-d)*(1/255),S=L&255,j=L>>>8&255,w=L>>>16&255,u=G&255,l=G>>>8&255,I=G>>>16&255,Q=T.w.km(K+f+F),b=Math.floor((v+C)*256+.5)+(Q>>>0&255)>>>8,p=b==0?0:256/(v+C),k=S*v+u*C,g=j*v+l*C,Y=w*v+I*C,R=Math.floor(k*p+.5)+(Q>>>8&255)>>>8,m=Math.floor(g*p+.5)+(Q>>>16&255)>>>8,Z=Math.floor(Y*p+.5)+(Q>>>24&255)>>>8;
H[K+f]=b<<24|Z<<16|m<<8|R}}};T.w.amC=function(z){return Math.floor(z+Math.random())};T.w.Oy=function(z,q,e,V,P,D,B){var A=1/T.K8(T.Gx(z)),s=q.HX(V).HX(D),a=Math.max(0,s.x-q.x),M=Math.max(0,s.x-V.x),$=Math.max(0,s.y-q.y),U=Math.max(0,s.y-V.y),o=s.s,t=s.T;
for(var n=0;n<t;n++){var c=($+n)*q.s+a,H=(U+n)*V.s+M;for(var F=0;F<o;F++,c++,H++){var i=B*P[c]*A;if(i==0)continue;
if(i==1){e[H]=z[c];continue}e[H]=z[c]*i+e[H]*(1-i)}}};T.abP=function(){function z(D){var B=D*.85;return Math.exp(-(B*B)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function q(D,B){var A=D<B?1:z((D-B)/Math.pow(1.001-B,.86));
return A}var e=[];function V(D){if(e[D])return e[D];var B=Math.pow(D,.55),A=new Float64Array(8e3),s=0,a=8e3;
for(var n=0;n<8e3;n++){var M=q(n*(1.55/4e3),B);if(M>=1)s=n;else if(M<=0&&a==8e3)a=n;A[n]=M}var $=[A,s,a];
e[D]=$;return $}function P(D,B,A){if(D<4)B=1;var s=1+.55*(1-B),a=Math.round(A*D*s)+2,M=new kk(0,0,a,a),$=T.n(a*a),U=[$,M],o=a/2,t=s/(o-1);
if(D==2)t*=2;if(D==3)t*=1.6;var c=Date.now(),H=V(B),F=Math.round(8e3/o),i=H[0],X=H[1]-F,K=H[2]+F,f=Math.min(a,a+1>>>1),d=t*.4*(4e3/1.55),L=T.n(8e3);
for(var n=0;n<8e3;n++){var G=n,x=n,O=~~Math.max(0,G-d-d),v=~~Math.max(0,G-d),C=~~Math.min(7999,G+d),S=~~Math.min(7999,G+d+d),j=~~(.5+255*(1/5)*(i[x]+i[O]+i[v]+i[C]+i[S]));
L[n]=j;if(j==0)break}for(var n=0;n<f;n++){var w=t*(n-o+.5),u=w*w,l=n*a,I=(a-1-n)*a;for(var Q=0;Q<f;Q++){var b=t*(Q-o+.5),x=~~(Math.sqrt(b*b+u)*(4e3/1.55));
if(K<x)continue;else if(x<X){var j=255;while(Q<f){var p=a-1-Q;$[l+Q]=j;$[l+p]=j;$[I+Q]=j;$[I+p]=j;Q++}break}else{var j=L[x],p=a-1-Q;
$[l+Q]=j;$[l+p]=j;$[I+Q]=j;$[I+p]=j}}}return U}return{ary:P}}();T.oH={};T.oH.a71=function(z,q,e,V,P,D){T.oH.hW(z,q,e,V,P,D,null,0)};
T.oH.a8y=function(z,q,e,V,P){T.oH.hW(z,q,e,V,P,null,null,0)};T.oH.aDQ=function(z,q,e,V,P,D,B,A){T.oH.hW(z,q,e,V,P,null,D,B*.5,A)};
T.oH.hW=function(z,q,e,V,P,D,B,A,s){var a=0,k=0,g=1e9,Y=0,R=1e9,m=0,Z=1e9,E=0,N=0,O=0,h=0;if(D){a=P*.5;
P=3+Math.round((P-3)*.75)}if(B){P=Math.round(P*2.2)}if(s==null)s=Math.floor(Math.random()*16777215);
var M=new T.w.ix(s*q&16777215),$=1/P,U=Math.floor(q*$)+1,o=Math.floor(e*$)+1,t=[],c=new Uint8Array(U*o*4),H=B?.5:1,F=D?64:0,i=P>>>1;
for(var X=0;X<o;X++){var K=B?.5*(X&1):0;for(var f=0;f<U;f++){var d=(f+M.get()*H+K)*P,L=(X+M.get()*H)*P;
t.push(d,L);var G=Math.min(q-1,Math.floor(d)),x=Math.min(e-1,Math.floor(L));for(var O=0;O<i;O+=2){var v=Math.max(0,G-O),C=Math.min(q-1,G+O),S=Math.max(0,x-O),j=Math.min(e-1,x+O);
for(var w=S;w<=j;w++)for(var u=v;u<=C;u++){var n=(w*q+u)*4;if(z[n+3]>64){G=u;x=w;u=w=O=1e9}}}var l=(x*q+G)*4,I=(X*U+f)*4;
for(var n=0;n<4;n++)c[I+n]=Math.max(0,Math.min(255,Math.floor(z[l+n]+(M.get()-.5)*F)))}}var Q=D?D:B?B:[0,0,0],b=U*o*2,p=[-U-1,-U,-U+1,-1,0,1,U-1,U,U+1];
for(var X=0;X<e;X++){O=0;for(var f=0;f<q;f++){var v=f+.5,S=X+.5,j5=Math.floor(S*$),r=Math.floor(v*$),l8=j5*U+r,kR=0,j1=0;
if(O>1+A){g=T.oH.aGU(t,k,v,S);E=Math.sqrt(g);O--;h++}else{g=R=Z=1e9;for(var n=0;n<p.length;n++){var aP=(l8+p[n])*2;
if(aP<0||aP>=b)continue;var bS=T.oH.aGU(t,aP,v,S);if(bS<Z){if(bS<R){if(bS<g){m=Y;Z=R;Y=k;R=g;k=aP;g=bS}else{m=Y;
Z=R;Y=aP;R=bS}}else{m=aP;Z=bS}}}E=Math.sqrt(g);N=Math.sqrt(R);O=N-(E+N)*.5}if(B==null){var f6=(E+N)*.5,gx=D?Math.max(0,f6-a):0;
kR=Math.max(0,Math.min(1,.5+f6-E-gx));j1=Math.max(0,Math.min(1,1-(.5+f6-E)-gx))}else{var lC=Math.min(T.oH.axL(t,k,Y,v,S),T.oH.axL(t,k,m,v,S));
kR=Math.max(0,Math.min(1,lC-A*.5));if(v<A||q-A<v||S<A||e-A<S)kR=0;j1=0}var g2=1-j1-kR,I=X*q+f<<2,dv=k<<1,bv=Y<<1;
V[I+0]=Math.floor(.5+kR*c[dv+0]+j1*c[bv+0]+g2*Q[0]);V[I+1]=Math.floor(.5+kR*c[dv+1]+j1*c[bv+1]+g2*Q[1]);
V[I+2]=Math.floor(.5+kR*c[dv+2]+j1*c[bv+2]+g2*Q[2]);V[I+3]=z[I+3]}}};T.oH.aGU=function(z,q,e,V){var P=e-z[q],D=V-z[q+1];
return P*P+D*D};T.oH.axL=function(z,q,e,V,P){var D=z[q],B=z[q+1],A=z[e],s=z[e+1],a=(D+A)*.5,M=(B+s)*.5,$=a+(s-B),U=M-(A-D),o=U-M,t=$-a;
return Math.abs(o*V-t*P+$*M-U*a)/Math.sqrt(t*t+o*o)};T.BJ=function(){var z=T.n(0);function q(t){if(z.length<t)z=T.n(t);
return z}function e(t,hE){var c=Math.sqrt(12*t*t/hE+1),H=Math.floor(c);if(H%2==0)H--;var F=H+2,i=(12*t*t-hE*H*H-4*hE*H-3*hE)/(-4*H-4),X=Math.round(i),K=[];
for(var n=0;n<hE;n++)K.push(n<X?H:F);return K}function V(t,c,H,F){var i=T.n(c*H,T.Gx(t));for(var n=0;
n<4;n++){T.bl(t,i,n);P(i,c,H,F);T.yR(i,t,n)}}function P(t,c,H,F){var i=T.Gx(t);for(var X=0;X<F.length;
X++){if(i==8)D(t,c,H,F[X]-1>>1);if(i==16)B(t,c,H,F[X]-1>>1);if(i==32)A(t,c,H,F[X]-1>>1)}}function D(t,c,H,F){var i=q(c*H);
s(t,i,c,H,F);$(i,t,c,H,F)}function B(t,c,H,F){var i=new Uint16Array(q(c*H*2).buffer);a(t,i,c,H,F);U(i,t,c,H,F)}function A(t,c,H,F){var i=new Float32Array(q(c*H*4).buffer);
M(t,i,c,H,F);o(i,t,c,H,F)}function s(t,c,H,F,i){var X=1/(i+i+1),K=H-i-i-1;for(var n=0;n<F;n++){var f=n*H,d=f,L=f+i,G=t[f],x=t[f+H-1],O=(i+1)*G;
for(var v=0;v<i;v++)O+=t[f+v];for(var v=0;v<=i;v++){O+=t[L+v]-G;c[f+v]=O*X}L+=i+1;f+=i+1;for(var v=0;
v<K;v++){O+=t[L+v]-t[d+v];c[f+v]=O*X}L+=K;d+=K;f+=K;for(var v=H-i;v<H;v++){O+=x-t[d++];c[f++]=O*X}}}function a(t,c,H,F,i){var X=1/(i+i+1),K=H-i-i-1;
for(var n=0;n<F;n++){var f=n*H,d=f,L=f+i,G=t[f],x=t[f+H-1],O=(i+1)*G;for(var v=0;v<i;v++)O+=t[f+v];for(var v=0;
v<=i;v++){O+=t[L+v]-G;c[f+v]=O*X}L+=i+1;f+=i+1;for(var v=0;v<K;v++){O+=t[L+v]-t[d+v];c[f+v]=O*X}L+=K;
d+=K;f+=K;for(var v=H-i;v<H;v++){O+=x-t[d++];c[f++]=O*X}}}function M(t,c,H,F,i){var X=1/(i+i+1),K=H-i-i-1;
for(var n=0;n<F;n++){var f=n*H,d=f,L=f+i,G=t[f],x=t[f+H-1],O=(i+1)*G;for(var v=0;v<i;v++)O+=t[f+v];for(var v=0;
v<=i;v++){O+=t[L+v]-G;c[f+v]=O*X}L+=i+1;f+=i+1;for(var v=0;v<K;v++){O+=t[L+v]-t[d+v];c[f+v]=O*X}L+=K;
d+=K;f+=K;for(var v=H-i;v<H;v++){O+=x-t[d++];c[f++]=O*X}}}function $(t,c,H,F,i){var X=1/(i+i+1),K=F-i-i-1;
for(var n=0;n<H;n++){var f=n,d=f,L=f+i*H,G=t[f],x=t[f+H*(F-1)],O=(i+1)*G;for(var v=0;v<i;v++)O+=t[f+v*H];
for(var v=0;v<=i;v++){O+=t[L]-G;c[f]=O*X;L+=H;f+=H}for(var v=0;v<K;v++){var S=v*H;O+=t[L+S]-t[d+S];c[f+S]=O*X}d+=K*H;
L+=K*H;f+=K*H;for(var v=F-i;v<F;v++){O+=x-t[d];c[f]=O*X;d+=H;f+=H}}}function U(t,c,H,F,i){var X=1/(i+i+1),K=F-i-i-1;
for(var n=0;n<H;n++){var f=n,d=f,L=f+i*H,G=t[f],x=t[f+H*(F-1)],O=(i+1)*G;for(var v=0;v<i;v++)O+=t[f+v*H];
for(var v=0;v<=i;v++){O+=t[L]-G;c[f]=O*X;L+=H;f+=H}for(var v=0;v<K;v++){var S=v*H;O+=t[L+S]-t[d+S];c[f+S]=O*X}d+=K*H;
L+=K*H;f+=K*H;for(var v=F-i;v<F;v++){O+=x-t[d];c[f]=O*X;d+=H;f+=H}}}function o(t,c,H,F,i){var X=1/(i+i+1),K=F-i-i-1;
for(var n=0;n<H;n++){var f=n,d=f,L=f+i*H,G=t[f],x=t[f+H*(F-1)],O=(i+1)*G;for(var v=0;v<i;v++)O+=t[f+v*H];
for(var v=0;v<=i;v++){O+=t[L]-G;c[f]=O*X;L+=H;f+=H}for(var v=0;v<K;v++){var S=v*H;O+=t[L+S]-t[d+S];c[f+S]=O*X}d+=K*H;
L+=K*H;f+=K*H;for(var v=F-i;v<F;v++){O+=x-t[d];c[f]=O*X;d+=H;f+=H}}}return{uR:function(t,c,H,F){P(t,c.s,c.T,e(H,F?F:3))},arI:function(t,c,H){V(t,c.s,c.T,e(H,3))},a7F:function(t,c,H){P(t,c.s,c.T,[Math.round(H)*2+1])},as4:function(t,c,H){V(t,c.s,c.T,[Math.round(H)*2+1])},abG:function(t,c,H){var F=c.s,i=c.T;
H=Math.round(H);var X=q(F*i),K=T.n(F*i);for(var n=0;n<4;n++){T.bl(t,K,n);s(K,X,F,i,H);T.yR(X,t,n)}},a6Q:e}}();
T.XR=function(){var z=[];function q(I,Q,b,p){var k=p.length,g=0,Y=0,R=0;for(var n=0;n<k;n++){var m=p[n];
g=Math.max(g,m[2]);Y=Math.max(Y,m[0],Q-m[0]);R=Math.max(R,m[1],b-m[1])}if(k==1){I.fill(255);return}if(k==2){var Z=p[0],E=p[1];
if(Z[2]<E[2]){var N=Z;Z=E;E=N}var h=Z[0],j5=Z[1],r=E[0]-h,l8=-(E[1]-j5),aP=Math.sqrt(l8*l8+r*r),bS=1/aP;
l8/=aP;r/=aP;var kR=Math.round(255*Math.min(Z[2],E[2])/g),j1=[];for(var n=0;n<1100;n++){var f6=Math.pow(n*.001,.82);
j1[n]=~~(.5+f6*kR+(1-f6)*255)}for(var gx=0;gx<b;gx++)for(var lC=0;lC<Q;lC++){var N=(lC-h)*l8+(gx-j5)*r,g2=h+N*l8-lC,dv=j5+N*r-gx,bv=Math.sqrt(g2*g2+dv*dv),eo=0;
if(g2*r-dv*l8>0)eo=255;else if(bv>aP)eo=kR;else eo=j1[~~(.5+1e3*bv*bS)];I[gx*Q+lC]=eo}return}var aL=Math.round((Y*Y+R*R)*.021),dh=z.length;
if(dh<aL)for(var n=dh;n<aL;n++)z[n]=1/(1e-6+Math.pow(.02*n,1.57));var eM=260/g;for(var gx=0;gx<b;gx++)for(var lC=0;
lC<Q;lC++){var kg=0,jJ=0;for(var n=0;n<k;n++){var iL=p[n],l8=lC-iL[0],r=gx-iL[1],bv=z[~~(.02*(l8*l8+r*r))];
jJ+=bv*iL[2];kg+=bv}I[gx*Q+lC]=Math.min(~~(eM*jJ/kg),255)}}var e=[];for(var n=0;n<1100;n++)e[n]=Math.pow(.5-.5*Math.cos(n/1e3*Math.PI),2);
function V(I,Q,b,p){var k=P(p),g=1-p[10];for(var Y=0;Y<b;Y++)for(var R=0;R<Q;R++){var m=k.x6*R+k.I$*Y+k.yK,Z=k.c*R+k.at*Y+k.ww,E=Math.sqrt(m*m+Z*Z),N=E<=g?0:E>1?1:(E-g)/(1-g);
I[Y*Q+R]=~~(.5+I[Y*Q+R]*e[~~(N*1e3)])}}function P(I){var Q=I[0],b=I[1],p=I[2]-Q,k=I[3]-b,g=I[6]-Q,Y=I[7]-b,R=Math.sqrt(p*p+k*k),m=Math.sqrt(g*g+Y*Y),Z=new e5;
Z.scale(R,m);Z.rotate(Math.atan2(-k,p));Z.translate(Q,b);Z.TG();Z.translate(-.5,-.5);Z.scale(2,2);return Z}var D=[];
for(var n=0;n<1100;n++)D[n]=Math.pow(.5-.5*Math.cos(n/1e3*Math.PI),.8);function B(I,n,Q){var b=I[n]-I[Q],p=I[n+1]-I[Q+1];
return Math.sqrt(b*b+p*p)}function A(I,Q,b,p){var k=p[0],g=p[1],Y=p[2]-k,R=-(p[3]-g),m=Math.sqrt(R*R+Y*Y);
R/=m;Y/=m;var Z=B(p,0,2),E=B(p,0,4),N=B(p,0,6),h=B(p,0,8);for(var j5=0;j5<b;j5++)for(var r=0;r<Q;r++){var l8=(r-k)*R+(j5-g)*Y,aP=k+l8*R-r,bS=g+l8*Y-j5,kR=Math.sqrt(aP*aP+bS*bS),j1=0;
if(aP*Y-bS*R<0)j1=kR<N?0:kR>Z?1:D[~~(1e3*(kR-N)/(Z-N))];else j1=kR<h?0:kR>E?1:D[~~(1e3*(kR-h)/(E-h))];
I[j5*Q+r]=~~(.5+I[j5*Q+r]*j1)}}function s(I,Q,b){var p=I[0],k=I[1],g=k[0]+k[1]+k[2]+k[3],Z=!1;if(g==0)return[T.n(Q*b),g];
var Y=p[0],R=p[1],m=p[3];if(Z)console.log(Y,R,m);var E=Date.now(),N=T.n(Q*b);N.fill(255);if(k[0]!=0)q(N,Q,b,Y);
if(Z)console.log(Date.now()-E,"field done");E=Date.now();var h=T.n(Q*b);h.fill(255);if(k[1]!=0)for(var n=0;
n<R.length;n++)V(h,Q,b,R[n]);if(Z)console.log(Date.now()-E,"iris done");E=Date.now();var j5=T.n(Q*b);
j5.fill(255);if(k[3]!=0)for(var n=0;n<m.length;n++)A(j5,Q,b,m[n]);if(Z)console.log(Date.now()-E,"tilt done");
E=Date.now();var r=k[0]/g,l8=k[1]/g,aP=k[3]/g,bS=N,kR=Q*b;for(var n=0;n<kR;n++){bS[n]=r*N[n]+l8*h[n]+aP*j5[n]}return[bS,g]}function a(I,Q,b,p,k){var g=Date.now(),Y=new Uint32Array(5),R=T.aAp(I,Q,b),m=k/255;
for(var Z=0;Z<b;Z++)for(var E=0;E<Q;E++){var n=Z*Q+E,N=n<<2,h=p[n]*m,j5=~~(h*.948);if(j5==0){continue}Y[0]=0;
Y[1]=0;Y[2]=0;Y[3]=0;Y[4]=0;var r=~~(h*.612);if(1<=E-j5&&E+j5+1<=Q&&1<=Z-j5&&Z+j5+1<=b){var l8=E-j5,aP=E-r,bS=E+r+1,kR=E+j5+1,j1=Z-j5,f6=Z-r,gx=Z+r+1,lC=Z+j5+1;
M(R,Q,aP,bS,j1,f6,Y);M(R,Q,l8,kR,f6,gx,Y);M(R,Q,aP,bS,gx,lC,Y)}else{var l8=Math.max(1,E-j5),aP=Math.max(1,E-r),bS=Math.min(Q,E+r+1),kR=Math.min(Q,E+j5+1),j1=Math.max(1,Z-j5),f6=Math.max(1,Z-r),gx=Math.min(b,Z+r+1),lC=Math.min(b,Z+j5+1);
M(R,Q,aP,bS,j1,f6,Y);M(R,Q,l8,kR,f6,gx,Y);M(R,Q,aP,bS,gx,lC,Y)}if(Y[4]!=0){var g2=1/Y[4];I[N]=Math.min(255,~~(Y[0]*g2));
I[N+1]=Math.min(255,~~(Y[1]*g2));I[N+2]=Math.min(255,~~(Y[2]*g2));I[N+3]=Math.min(255,~~(Y[3]*g2))}}}function M(I,Q,b,p,k,g,Y){var R=(p-b)*(g-k);
if(0<R){T.at$(I,b-1,p-1,(k-1)*Q,(g-1)*Q,Y);Y[4]+=R}}var $="GeneralBlur IrisBlur  LensTilt PathBlur WheelSpinBlur".split(" ");
function U(I){var Q=[!1,!1,!1,!1,!1,!1];for(var n=0;n<6;n++){var b="blurb"+$[n]+"EffectApplied";if(I[b]&&I[b].v)Q[n]=!0}return Q}function o(I,Q){for(var n=0;
n<6;n++){var b="blurb"+$[n]+"EffectApplied";I[b]={t:"bool",v:Q[n]}}}var t=[];for(var c=0;c<6;c++){var H,F="blurbWidgetLocationX",i="blurbWidgetLocationY";
if(c==0)H=[F,i,"blurbGeneralBlurAmount"];if(c==1||c==5){var X="blurb"+(c==1?"IrisBlur":"WheelSpin"),K=X+"Corner",f=X+"Feather";
H=[K+"0x",K+"0y",K+"1x",K+"1y",K+"2x",K+"2y",K+"3x",K+"3y",F,i,f+"0",f+"1",f+"2",f+"3",c==1?X+"Amount":X+"BlurAmount"]}if(c==3){var X="blurbTiltShift",d=X+"InnerPoint",L=X+"OuterPoint";
H=[X+"CenterX",X+"CenterY",L+"1X",L+"1Y",L+"2X",L+"2Y",d+"1X",d+"1Y",d+"2X",d+"2Y",X+"BlurAmount"]}t.push(H)}function G(I,Q){function b(bS,Y){return{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:bS},Vrtc:{t:"doub",v:Y}}}}var p=[];
for(var c=0;c<6;c++){var k=I[c],H=t[c];for(var n=0;n<k.length;n++){var g=k[n],Y={classID:c==4?"blurbPathWidget":"blurbWidget",blurbWidgetEffectEnabled:{t:"bool",v:!1},blurbWidgetSelected:{t:"bool",v:!1},blurbWidgetType:{t:"long",v:c}};
p.push({t:"Objc",v:Y});if(c==4){Q.blurbPathBlurSpeed={t:"UntF",v:{type:"#Prc",val:k[0][4]*100}};var R=Y.blurbPathPointList={t:"VlLs",v:[b(g[0],g[1]),b(g[5],g[6])]};
for(var m=0;m<2;m++){var Z={classID:"blurbBezierKernel"};Y["blurb"+(m==0?"Start":"End")+"BezierKernel"]={t:"Objc",v:Z};
var E=g[m*5],N=g[m*5+1],h=g[m*5+2],j5=g[m*5+3];Z.blurbBezierKernelUIControlPoint=b((E+h)/2,(N+j5)/2);
var r=h-E,l8=j5-N,aP=Math.atan2(-(g[6]-g[1]),g[5]-g[0]);Z.blurbBezierKernelTangentOffsetAngle={t:"doub",v:(Math.atan2(-l8,r)-aP+Math.PI)*180/Math.PI};
Z.blurbBezierKernelLocation=b(E,N);Z.blurbBezierKernelOuterPoint=b(h,j5);if(r==0&&l8==0)Z.blurbBezierKernelIsNull={t:"bool",v:!0}}}else for(var m=0;
m<H.length;m++)Y[H[m]]={t:"doub",v:g[m]}}}delete Q.blurbWidgetList;Q.blurbWidgetList2={t:"VlLs",v:p}}function x(I){var Q=I.blurbWidgetList;
if(Q==null||Q.v.length==0)Q=I.blurbWidgetList2;Q=Q.v;var b=[[],[],[],[],[],[]],p=[0,0,0,0,0,0];for(var n=0;
n<Q.length;n++){var k=Q[n].v,c=k.blurbWidgetType.v,z=[];b[c].push(z);if(c<4||c==5){var H=t[c];for(var g=0;
g<H.length;g++){z[g]=k[H[g]].v}if(c==5){var Y=z[0]-z[4],R=z[1]-z[5],m=Math.sqrt(Y*Y+R*R),Z=z[z.length-1]*m*.005;
p[c]=Math.max(p[c],Z)}else p[c]=Math.max(p[c],z[z.length-1])}if(c==4){var E=I.blurbPathBlurSpeed.v.val/100;
for(var g=0;g<2;g++){var N=k["blurb"+(g==0?"Start":"End")+"BezierKernel"].v,h=N.blurbBezierKernelIsNull;
for(var j5=0;j5<2;j5++){var r=N["blurbBezierKernel"+(j5==0?"Location":"OuterPoint")].v;z.push(r.Hrzn.v,r.Vrtc.v)}var l8=z.length-4,aP=z[l8],bS=z[l8+1],Y=z[l8+2]-aP,R=z[l8+3]-bS,m=Math.sqrt(Y*Y+R*R);
if(h&&h.v)m=0;z.push(E);p[c]=Math.max(p[c],m*E)}}}return[b,p]}function O(I,Q,b){for(var p=0;p<I.length;
p++)Q[b+p]=I[p]}function v(I,Q){for(var c=0;c<5;c++){var b=I[0][c];for(var n=0;n<b.length;n++){var p=c==0?b[n].slice(0,2):c==4?b[n].slice(0,4).concat(b[n].slice(5,9)):b[n].slice(0,10);
T.R.v(p,Q,p);if(c==4){O(p.slice(0,4),b[n],0);O(p.slice(4,8),b[n],5)}else O(p,b[n],0)}}}function C(I,Q,b){var p=Q.V.s,k=Q.V.T,g=p*k,Y=x(I),R=U(I);
for(var n=0;n<6;n++)if(!R[n])Y[1][n]=0;var m=new e5;m.translate(-Q.V.x,-Q.V.y);v(Y,m);var Z=Date.now(),E=s(Y,p,k),N=E[0],h=E[1];
b.buffer.set(Q.buffer);var j5=T.Ep(b.buffer);if(j5)T.ak(b.buffer);if(h!=0)a(b.buffer,p,k,N,h);var r=Math.max(Y[1][4],Y[1][5]);
if(r!=0&&ee.$x){var Z=Date.now(),l8=T.n(p*k*4);for(var n=0;n<l8.length;n+=4){l8[n]=127;l8[n+1]=127}if(Y[1][4]!=0)j(l8,Y,p,k,r);
if(Y[1][5]!=0)S(l8,Y,p,k,r);var aP=r*.25,bS=new Float32Array([1/p,1/k]),kR=ee.xu(0,p,k);kR.set(b.buffer);
var j1=ee.xu(1,p,k);j1.set(l8);ee.k$(kR,Q.V);kR.Nd(Q.V);ee.filter.ej({e:ee.filter.amS,tE:j1.nj,Wk:bS,Vn:aP,ahH:2},kR.kn);
kR.get(b.buffer)}if(j5)T.Od(b.buffer)}function S(I,Q,b,p,k){var g=Q[0][5];if(g.length==0)return;var Y=Date.now();
for(var n=0;n<g.length;n++){var R=g[n],m=P(R),Z=m.Y();Z.TG();var E=1-R[10],N=R[14]*2.15/k;for(var h=0;
h<p;h++)for(var j5=0;j5<b;j5++){var r=m.x6*j5+m.I$*h+m.yK,l8=m.c*j5+m.at*h+m.ww,aP=r*r+l8*l8;if(aP<1){var bS=r-l8*N,kR=l8+r*N,j1=Z.a0(new f5(bS,kR)),f6=4*(h*b+j5),gx=Math.sqrt(aP),lC=gx<E?0:(gx-E)/(1-E);
I[f6]=Math.max(0,Math.min(255,lC*I[f6]+(1-lC)*(127+j1.x-j5)));I[f6+1]=Math.max(0,Math.min(255,lC*I[f6+1]+(1-lC)*(127+j1.y-h)))}}}console.log(Date.now()-Y)}function j(I,Q,b,p,k){var g=Q[0][4];
if(g.length==0)return;var Y=g[0];for(var n=1;n<g.length;n++)Y=Y.concat(g[n]);var R=[];for(var n=0;n<Y.length;
n+=5){var m=Y[n],Z=Y[n+1],E=Y[n+2]-m,N=Y[n+3]-Y[n+1],h=Math.sqrt(E*E+N*N);if(h!=0){E/=h;N/=h}R.push(m,Z,E,N,h,Y[n+4])}Y=R;
var j5=Math.floor(Y.length/6),r=127/k;for(var Z=0;Z<p;Z++)for(var m=0;m<b;m++){var l8=0,aP=0,bS=0,kR=0;
for(var n=0;n<j5;n++){var j1=n*6,f6=Y[j1],gx=Y[j1+1],E=m-f6,N=Z-gx,h=1/Math.pow(E*E+N*N,.5);aP+=h*Y[j1+2];
bS+=h*Y[j1+3];kR+=h*Y[j1+4]*Y[j1+5];l8+=h}var lC=Math.sqrt(aP*aP+bS*bS),g2=r*kR/(lC*l8);I[4*(Z*b+m)]=Math.min(aP*g2+127,255);
I[4*(Z*b+m)+1]=Math.min(bS*g2+127,255)}}function w(I){var Q=I.blurbOpenPanel;if(Q)return Q.v;else{var b=I.blurbWidgetList2.v;
for(var n=0;n<b.length;n++){var p=b[n].v.blurbWidgetSelected;if(p&&p.v)return b[n].v.blurbWidgetType.v}}return 0}function u(I,Q){if(Q<4)I.blurbOpenPanel={t:"long",v:Q};
else{delete I.blurbOpenPanel;var b=I.blurbWidgetList2.v;for(var n=0;n<b.length;n++){b[n].v.blurbWidgetSelected.v=b[n].v.blurbWidgetType.v==Q}}}function l(I,c,Q,b){var p=x(I)[0],k=p[c],g;
if(c==0){g=k.length;k.push([Q,b,20])}if(c==1||c==5){g=k.length*6+1;var Y=100;k.push([Q-Y,b-Y,Q+Y,b-Y,Q+Y,b+Y,Q-Y,b+Y,Q,b,.8,.8,.8,.8,20])}if(c==3){g=k.length*5;
k.push([Q,b,Q,b-50,Q,b+50,Q,b-20,Q,b+20,20])}if(c==4){g=k.length*4+2;k.push([Q-100,b,Q-50,b,1,Q,b,Q+50,b,1])}G(p,I);
u(I,c);return g}return{apply:C,vr:x,LM:G,a9J:l,aHv:U,ams:o,aoq:P,v:v,a0E:w,a6z:u}}();T.BQ={};T.BQ.n=function(z,q,e,V){var P=[];
for(var D=0;D<4;D++)for(var B=0;B<4;B++)P.push(z+e*B/3,q+V*D/3);return P};T.BQ.aLJ=function(z,q){var e=z.slice(0);
for(var n=0;n<4;n++)for(var V=0;V<4;V++){var P=2*(n*4+V),D=2*(V*4+(3-n));if(q){var B=P;P=D;D=B}e[D]=z[P];
e[D+1]=z[P+1]}return e};T.BQ.drawImage=function(z,q,e,V,P,D,B){var A=!1,s=Date.now(),a=2;if(!V.oq(e))throw"e";
var M=V.Y();M.offset(a,a);var $=M.Y();$.Gm(a,a);var U=T.Gx(q),o=T.n($.D()*4,U),t=e.Y();e.offset(a,a);
T.aF(q,e,o,$);if(A)console.log(Date.now()-s,"copy rect");s=Date.now();T.ak(o);if(A)console.log(Date.now()-s,"multiply alpha");
s=Date.now();var c=$.s-2*a,H=$.T-2*a,F=Math.max(c,H),i=Math.round(50*c/F),X=Math.round(Math.sqrt(3)*.5*50*H/F),K=i-.5,f=c+2*a,d=H+2*a,L=[],G=[],x=[];
for(var O=0;O<X+1;O++){var v=(O&1)==0;for(var C=0;C<i+1;C++){var S=(C-(v?.5:0))/K,j=O/X;if(C==0)S=0;
if(C==i)S=1;L.push(f*S,d*j);if(C<i&&O<X){var w=O*(i+1)+C,u=w+1,l=w+i+1,I=l+1;if(v)G.push(w,u,l,l,u,I);
else G.push(w,u,I,w,I,l)}var Q=T.BQ.ap1(z,S,j);x.push(-Q)}}var b=L.slice(0);T.BQ.v(z,b,M);T.R.v(b,new e5(1,0,0,1,-D.x,-D.y),b);
if(A)console.log(Date.now()-s,"mesh built");s=Date.now();var p=D.s,k=D.T;T.L0.lk(o,f,d,P,p,k,L,b,x,G,B);
if(A)console.log(Date.now()-s,"rendered");s=Date.now();T.Od(P);if(A)console.log(Date.now()-s,"divided");
s=Date.now()};T.BQ.xY=new Array(10);T.BQ.aI=function(z,q){var e=200,V=0,P=0,D=1e9,B=T.BQ.xY;for(var A=0;
A<e+1;A++)for(var s=0;s<e+1;s++){var a=s/e,M=A/e;T.BQ.a57(z,a,M,B);var $=B[8]-q.x,U=B[9]-q.y,o=$*$+U*U;
if(o<D){D=o;V=a;P=M}}return[V,P]};T.BQ.v=function(z,q,e){var V=e.x,P=e.y,D=1/e.s,B=1/e.T,A=T.BQ.xY;for(var s=0;
s<q.length;s+=2){var a=(q[s]-V)*D,M=(q[s+1]-P)*B;T.BQ.a57(z,a,M,A);q[s]=A[8];q[s+1]=A[9]}};T.BQ.ap1=function(z,q,e){var V,P,D,B,A=T.BQ.xY;
T.BQ.arM(z,q,e,A);V=A[8];P=A[9];T.BQ.apQ(z,q,e,A);D=A[8];B=A[9];return V*B-P*D};T.BQ.DK=function(z,q,e){var V=0,P=0,D=z[2][0],B=z[2][1];
while(V+2<D.length&&D[V+1]<q)V++;q=(q-D[V])/(D[V+1]-D[V]);while(P+2<B.length&&B[P+1]<e)P++;e=(e-B[P])/(B[P+1]-B[P]);
return[V*3,P*3,q,e]};T.BQ.a57=function(z,q,e,V){var P=T.BQ.DK(z,q,e);T.BQ.kt(V,0,P[3]);T.BQ.kt(V,4,P[2]);
T.BQ.ZY(z[3],P[0],P[1],z[0],V)};T.BQ.arM=function(z,q,e,V){var P=T.BQ.DK(z,q,e);T.BQ.kt(V,0,P[3]);T.BQ.aGC(V,4,P[2]);
T.BQ.ZY(z[3],P[0],P[1],z[0],V)};T.BQ.apQ=function(z,q,e,V){var P=T.BQ.DK(z,q,e);T.BQ.aGC(V,0,P[3]);T.BQ.kt(V,4,P[2]);
T.BQ.ZY(z[3],P[0],P[1],z[0],V)};T.BQ.aGC=function(z,n,q){var e=1-q;z[n]=-3*(e*e);z[n+1]=3*(e*e)-6*(q*e);
z[n+2]=6*(q*e)-3*(q*q);z[n+3]=3*(q*q)};T.BQ.kt=function(z,n,q){var e=1-q;z[n]=e*(e*e);z[n+1]=3*q*(e*e);
z[n+2]=3*(q*q)*e;z[n+3]=q*q*q};T.BQ.a8_=function(z,q,e,V,P){var D=T.BQ.DK(z,q,e),B=D[0],A=D[1],s=D[2],a=D[3],M=z[0],$=Math.floor(s*3),U=Math.floor(a*3),o=T.BQ.xY,t=16,L=0;
T.BQ.kt(o,0,a);T.BQ.kt(o,4,s);var c=[],H=[],F=[];for(var i=0;i<4;i++){for(var X=0;X<4;X++){var n=i*4+X,K=o[i]*o[4+X];
c.push(K);H.push((A+i)*M+B+X);if((i==U||i==U+1)&&(X==$||X==$+1)){var f=s*3-$;if(X==$)f=1-f;var d=a*3-U;
if(i==U)d=1-d;F[n]=f*d/K}else F[n]=0}}for(var n=0;n<t;n++)L+=c[n]*F[n];for(var n=0;n<t;n++)F[n]/=L;for(var n=0;
n<t;n++){var K=c[n],G=H[n];z[3][G*2]+=F[n]*V;z[3][G*2+1]+=F[n]*P}};T.BQ.TL=function(z){var q=z[0],e=z[1],V=z[2],P=z[3],D=P.slice(0);
for(var B=0;B<e;B++)for(var A=0;A<q;A++){P[(A*e+B)*2]=D[(B*q+A)*2];P[(A*e+B)*2+1]=D[(B*q+A)*2+1]}z[0]=e;
z[1]=q;z[2]=[V[1],V[0]]};T.BQ.split=function(z,q,e){if(q==1)T.BQ.TL(z);var V=z[0],P=z[1],D=z[2][0],B=z[3],A=0;
while(D[A+1]&&D[A+1]<e)A++;var s=(e-D[A])/(D[A+1]-D[A]),a=1-s;for(var M=0;M<P;M++){var n=(M*(V+3)+A*3)*2,$=a*B[n]+s*B[n+2],U=a*B[n+1]+s*B[n+3],o=a*B[n+2]+s*B[n+4],t=a*B[n+3]+s*B[n+5],c=a*B[n+4]+s*B[n+6],H=a*B[n+5]+s*B[n+7],F=a*$+s*o,i=a*U+s*t,X=a*o+s*c,K=a*t+s*H,f=a*F+s*X,d=a*i+s*K;
B.splice(n+2,4,$,U,F,i,f,d,X,K,c,H)}D.push(e);D.sort();z[0]+=3;if(q==1)T.BQ.TL(z)};T.BQ.ZY=function(z,q,e,V,P){var D=0,B=0,A=0,s=P[0],a=P[1],M=P[2],$=P[3],U=P[4],o=P[5],t=P[6],c=P[7],n=(e*V+q)*2;
A=s*U;D+=z[n+0]*A;B+=z[n+1]*A;A=s*o;D+=z[n+2]*A;B+=z[n+3]*A;A=s*t;D+=z[n+4]*A;B+=z[n+5]*A;A=s*c;D+=z[n+6]*A;
B+=z[n+7]*A;n+=V+V;A=a*U;D+=z[n+0]*A;B+=z[n+1]*A;A=a*o;D+=z[n+2]*A;B+=z[n+3]*A;A=a*t;D+=z[n+4]*A;B+=z[n+5]*A;
A=a*c;D+=z[n+6]*A;B+=z[n+7]*A;n+=V+V;A=M*U;D+=z[n+0]*A;B+=z[n+1]*A;A=M*o;D+=z[n+2]*A;B+=z[n+3]*A;A=M*t;
D+=z[n+4]*A;B+=z[n+5]*A;A=M*c;D+=z[n+6]*A;B+=z[n+7]*A;n+=V+V;A=$*U;D+=z[n+0]*A;B+=z[n+1]*A;A=$*o;D+=z[n+2]*A;
B+=z[n+3]*A;A=$*t;D+=z[n+4]*A;B+=z[n+5]*A;A=$*c;D+=z[n+6]*A;B+=z[n+7]*A;n+=V+V;P[8]=D;P[9]=B};T.z7={};
T.z7.aq3=function(z,q,e){var V=Date.now();return T.z7.aOd(z,q,e)};T.z7.af$=function(z,q,e,V){var P=e*V,D=new Uint32Array(P),B=new Uint8Array(P),A=new Int16Array(P);
D.fill(4294967295);D[q]=0;var s=new ei(P);s.push(q,D[q]);var a={bY:z,bv:D,Mx:B,WF:A,eT:s,acW:q,oX:[-e-1,-e,-e+1,1,e+1,e,e-1,-1]};
return a};T.z7.Ed=function(z,q){var e=z.bY,V=z.bv,P=z.Mx,D=z.WF,B=z.eT,A=z.oX;while(B.U1!=0&&(q==null||P[q]==0)){var s=B.pop();
if(P[s]==1)continue;P[s]=1;for(var n=0;n<8;n++){var a=e[8*s+n],M=s+A[n];if(a==255||P[M]==1)continue;
var $=V[s]+a;if($<V[M]){V[M]=$;D[M]=s-M;B.push(M,$)}}}};function ei(z){this.list=[];this.U1=0;this.WG=4294967295}ei.prototype.push=function(z,q){var e=this.list;
if(e[q]==null)e[q]=[];e[q].push(z);this.U1++;this.WG=Math.min(this.WG,q)};ei.prototype.pop=function(){this.U1--;
var z=this.list,q=this.WG,e=z[q].pop();if(z[q].length==0){z[q]=null;if(this.U1==0)this.WG=4294967295;
else{while(z[q]==null)q++;this.WG=q}}return e};T.z7.a6e=function(z,q,e,V){var P=new Int16Array(V);for(var D=0;
D<e;D++)for(var B=0;B<q;B++){var n=D*q+B,A=0;if(1<B&&B<q-2&&1<D&&D<e-2){A+=z[n-q-q];A+=z[n-q-1]+2*z[n-q]+z[n-q+1];
A+=z[n-2]+2*z[n-1]-16*z[n]+2*z[n+1]+z[n+2];A+=z[n+q-1]+2*z[n+q]+z[n+q+1];A+=z[n+q+q]}else A=-16*z[n];
P[n]=A}return P};T.z7.adC=function(z,q,e,V){if(V==null)V=128;var P=new Uint8Array(q*e);for(var D=1;D<e;
D++)for(var B=1;B<q;B++){var n=D*q+B;T.z7.aBp(z,n,n-1,P,V);T.z7.aBp(z,n,n-q,P,V)}return P};T.z7.aBp=function(z,n,q,e,V){var P=z[n],D=z[q];
if(Math.abs(P-D)>V&&P*D<0){if(Math.abs(P)<Math.abs(D))e[n]=1;else e[q]=1}};T.z7.azL=function(z,q,e,V){var P=new Float32Array(V),D=0;
P.fill(0);for(var B=0;B<e;B++)for(var A=0;A<q;A++){var s=0,a=0,n=B*q+A,M=n*3;if(0<A&&A<q-1)s=z[n+1]-z[n-1];
if(0<B&&B<e-1)a=z[n+q]-z[n-q];var $=s*s+a*a;if($!=0){var U=P[M+2]=Math.sqrt($),o=1/U;P[M]=s*o;P[M+1]=a*o;
if(U>D)D=U}}var t=3*q*e,c=D==0?0:1/D;for(var n=0;n<t;n+=3)P[n+2]=1-P[n+2]*c;return P};T.z7.aOd=function(){function z(A,s,a){var M=new ArrayBuffer(s*a*12),$=Date.now(),U=T.z7.a6e(A,s,a,M),o=T.z7.adC(U,s,a),t=T.z7.azL(A,s,a,M),c=new Uint8Array(s*a*8);
c.fill(255);var H=[-s-1,-s,-s+1,1];for(var F=1;F<a-1;F++)for(var i=1;i<s-1;i++){var X=F*s+i;for(var K=0;
K<4;K++)B(X,X+H[K],K,c,o,t)}return c}var q=new Float64Array(256);for(var n=0;n<256;n++)q[n]=Math.acos(-1+2*n/255)*(.95/Math.PI);
var e=[-1,0,1,1,1,0,-1,-1],V=[-1,-1,-1,0,1,1,1,0];for(var n=0;n<8;n++){var P=1/Math.sqrt(e[n]*e[n]+V[n]*V[n]);
e[n]*=P;V[n]*=P}var D=[e[0],V[0],e[1],V[1],e[2],V[2],e[3],V[3]];function B(A,s,a,M,$,U){var o=3*A,t=3*s,c=1-$[s],H=1-$[A],F=(a&1)==0?1:Math.SQRT1_2,i=U[t+2]*F,X=U[o+2]*F,K=U[t+1],f=-U[t],d=U[o+1],L=-U[o],G=D[a+a],x=D[a+a+1],O=d*G+L*x,v=K*G+f*x;
if(O+v<0){O=-O;v=-v}var C=q[~~((.5+.5*O)*255)]+q[~~((.5+.5*v)*255)];M[(A<<3)+a]=1+~~(.5+20*(.43*c+.43*C+.14*i));
M[(s<<3)+a+4]=1+~~(.5+20*(.43*H+.43*C+.14*X))}return z}();T.WZ={};T.WZ.zt=function(z){var q=z.slice(0),e=0;
for(var n=0;n<z.length;n++)e+=z[n];for(var n=0;n<z.length;n++)q[n]/=e;return q};T.WZ.lK=[T.WZ.zt([1,2,1,2,16,2,1,2,1]),T.WZ.zt([1,2,1,2,4,2,1,2,1]),T.WZ.zt([0,-1,0,-1,8,-1,0,-1,0]),T.WZ.zt([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
T.WZ.SR=function(z,q,e,V,P,D,B){if(B==null)B=!1;var A=Math.floor(Math.sqrt(P.length)),s=A-1>>>1,a=T.Gx(z),M=T.K8(a),$=new Uint32Array(z.buffer),U=new Uint8ClampedArray(q.buffer);
for(var n=0;n<V;n++)for(var o=0;o<e;o++){var t=0,c=0,H=0,F=0;for(var i=0;i<A;i++)for(var X=0;X<A;X++){var K=P[i*A+X];
if(K==0)continue;var f=o-s+X,d=n-s+i;if(f<0)f=0;else if(f>e-1)f=e-1;if(d<0)d=0;else if(d>V-1)d=V-1;if(a==8){var L=$[d*e+f];
t+=(L&255)*K;c+=(L>>>8&255)*K;H+=(L>>>16&255)*K;F+=(L>>>24&255)*K}else{var G=d*e+f<<2;t+=z[G]*K;c+=z[G+1]*K;
H+=z[G+2]*K;F+=z[G+3]*K}}if(B){if(t<0)t=-t;if(c<0)c=-c;if(H<0)H=-H;if(F<0)F=-F}var x=n*e+o<<2;if(a==8){U[x]=~~(.5+t);
U[x+1]=~~(.5+c);U[x+2]=~~(.5+H);if(D)U[x+3]=~~(.5+F)}else{q[x]=Math.max(0,Math.min(M,t));q[x+1]=Math.max(0,Math.min(M,c));
q[x+2]=Math.max(0,Math.min(M,H));if(D)q[x+3]=Math.max(0,Math.min(M,F))}}};T.WZ.ap_=function(z,q,e,V){var P=z.length,D=new Uint8Array(P);
T.WZ.SR(z,q,e,V,T.WZ.lK[4],!1,!0);T.WZ.SR(z,D,e,V,T.WZ.lK[5],!1,!0);for(var n=0;n<P;n+=4){var B=q[n],A=q[n+1],s=q[n+2],a=q[n+3],M=D[n],$=D[n+1],U=D[n+2],o=D[n+3];
q[n]=255-Math.max(0,Math.min(255,Math.sqrt(B*B+M*M)));q[n+1]=255-Math.max(0,Math.min(255,Math.sqrt(A*A+$*$)));
q[n+2]=255-Math.max(0,Math.min(255,Math.sqrt(s*s+U*U)))}};T.WZ.aEZ=function(z,q,e,V){var P=z.length,D=new Uint8Array(P);
T.WZ.pf(z,q,e,V,T.WZ.lK[4],!0);T.WZ.pf(z,D,e,V,T.WZ.lK[5],!0);for(var n=0;n<P;n++){var B=q[n],A=D[n];
q[n]=255-Math.max(0,Math.min(255,Math.sqrt(B*B+A*A)))}};T.WZ.pf=function(z,q,e,V,P,D){q=new Uint8ClampedArray(q.buffer);
var B=[-e-1,-e,-e+1,-1,0,1,e-1,e,e+1],A=V-1,s=e-1;for(var n=1;n<A;n++)for(var a=1;a<s;a++){var M=n*e+a,$=T.WZ.R_(z,M,e,P);
if(D){if($<0)$=-$}q[M]=~~($+.5)}};T.WZ.R_=function(z,q,e,V){return z[q-e-1]*V[0]+z[q-e]*V[1]+z[q-e+1]*V[2]+z[q-1]*V[3]+z[q]*V[4]+z[q+1]*V[5]+z[q+e-1]*V[6]+z[q+e]*V[7]+z[q+e+1]*V[8]};
T.WZ.aLh=function(z,q,e,V,P){var D=[-e-1,-e,-e+1,-1,0,1,e-1,e,e+1],B=V-1,A=e-1;for(var n=1;n<B;n++)for(var s=1;
s<A;s++){var a=n*e+s;q[a]=T.WZ.aqj(z,a,e,P)}};T.WZ.aqj=function(z,q,e,V){return z[q-e-1]*V[0]+z[q-e]*V[1]+z[q-e+1]*V[2]+z[q-1]*V[3]+z[q]*V[4]+z[q+1]*V[5]+z[q+e-1]*V[6]+z[q+e]*V[7]+z[q+e+1]*V[8]};
T.iE={};T.iE._$=function(){function z(B,A,s,a,M,$){if(M==0){A.set(B);return}var U=T.n(s*a),o=T.n(s*a);
if(T.Ep(B)){q(B,A,s,a,M,$);T.bl(B,U,3);T.iE.agU(U,o,s,a,M,$);T.yR(o,A,3)}else{for(var n=0;n<3;n++){T.bl(B,U,n);
T.iE.agU(U,o,s,a,M,$);T.yR(o,A,n)}}}function q(B,A,s,a,M,$){var U=0,o=new ArrayBuffer(512*4*3),t=[new Int32Array(o,0),new Int32Array(o,2048),new Int32Array(o,2*2048)],H=1+2*Math.round(Math.sqrt(M)),F=H>>>1,i=new Array(H),X=new Array(H);
for(var n=0;n<H;n++){var o=new ArrayBuffer(512*4*3);i[n]=[new Int32Array(o,0),new Int32Array(o,2048),new Int32Array(o,2*2048)];
X[n]=i[n][0]}var K=[T.iE.Om,T.iE.w_][$],f=K[0],d=K[1],L=t[0];for(var G=0;G<s;G++)if(G<M||G>s-M-H-1){L.fill(0);
var x=Math.max(G-M,0),O=Math.min(s,G+M+1),v=O-x;for(var C=0;C<M;C++)V(L,B,C*s+x,C*s+O,1);for(var C=0;
C<a;C++){var S=C-M-1,j=C+M;if(j<a)V(L,B,j*s+x,j*s+O,1);if(S>=0)V(L,B,S*s+x,S*s+O,-1);var w=C*s+G<<2;
U=L[300];if(U!=0)for(var n=0;n<3;n++)A[w+n]=f(t[n],B[w+n],U)}}else{for(var n=0;n<H;n++)X[n].fill(0);
var x=G-M+F,O=G+M+1+F;for(var C=0;C<M;C++)e(X,B,C*s+x,C*s+O,1,F);for(var C=0;C<a;C++){var S=C-M-1,j=C+M;
if(S>=0)e(X,B,S*s+x,S*s+O,-1,F);if(j<a)e(X,B,j*s+x,j*s+O,1,F);var u=i[F];U=u[0][300];for(var n=0;n<F;
n++){var l=F-1-n,I=F+1+n,Q=i[l],b=i[I],p=U+Q[0][300],k=U+b[0][300],g=C*s+G+l<<2,Y=C*s+G+I<<2;if(p!=0)for(var R=0;
R<3;R++)A[g+R]=d(u[R],Q[R],B[g+R],p);if(k!=0)for(var R=0;R<3;R++)A[Y+R]=d(u[R],b[R],B[Y+R],k)}var w=C*s+G+F<<2;
if(U!=0)for(var R=0;R<3;R++)A[w+R]=f(u[R],B[w+R],U)}G+=H-1}}function e(B,A,s,a,M,$){var U=P,o=s<<2,t=a<<2;
U(B[$-1],A,s-1<<2,M);U(B[$-1],A,a-1<<2,-M);U(B[$+1],A,a<<2,M);U(B[$+1],A,s<<2,-M);for(var n=1;n<$;n++){var c=B[$-n-1],H=B[$+n+1];
for(var F=0;F<=n;F++){var i=F<<2;U(c,A,s-1-F<<2,M);U(c,A,a-1-F<<2,-M);U(H,A,a+F<<2,M);U(H,A,s+F<<2,-M)}}V(B[$],A,s,a,M)}function V(B,A,n,s,a){var M=n<<2,$=s<<2;
while(M<$){P(B,A,M,a);M+=4}}function P(B,A,s,a){var M=a*A[s+3];B[300]+=M;D(B,A[s],0,M);D(B,A[s+1],512,M);
D(B,A[s+2],1024,M)}function D(B,A,s,a){B[s|A]+=a;B[s|256|A>>>4]+=a}return z}();T.iE.agU=function(){function z($,U,o,t,c,H){if(c==0){U.set($);
return}if(c<=200)q($,U,o,t,c,H);else D($,U,o,t,c,H)}function q($,U,o,t,c,H){var F=0,i=new Int32Array(512),X=1+2*Math.round(Math.sqrt(c)),K=X>>>1,f=new Array(X);
for(var n=0;n<X;n++)f[n]=new Int32Array(512);var d=[T.iE.Om,T.iE.w_][H],L=d[0],G=d[1];for(var x=0;x<o;
x++)if(x<c||x>o-c-X-1){i.fill(0);F=0;var O=Math.max(x-c,0),v=Math.min(o,x+c+1),C=v-O;for(var S=0;S<c;
S++){F+=C;V(i,$,S*o+O,S*o+v,1)}for(var S=0;S<t;S++){var j=S-c-1,w=S+c;if(j>=0){F-=C;V(i,$,j*o+O,j*o+v,-1)}if(w<t){F+=C;
V(i,$,w*o+O,w*o+v,1)}var u=L(i,$[S*o+x],F);U[S*o+x]=u}}else{for(var n=0;n<X;n++)f[n].fill(0);F=0;var O=x-c+K,v=x+c+1+K,C=v-O;
for(var S=0;S<c;S++){F+=C;e(f,$,S*o+O,S*o+v,1,K)}for(var S=0;S<t;S++){var j=S-c-1,w=S+c;if(j>=0){F-=C;
e(f,$,j*o+O,j*o+v,-1,K)}if(w<t){F+=C;e(f,$,w*o+O,w*o+v,1,K)}for(var n=0;n<K;n++){var l=K-1-n,I=K+1+n;
U[S*o+x+l]=G(f[K],f[l],$[S*o+x+l],F);U[S*o+x+I]=G(f[K],f[I],$[S*o+x+I],F)}U[S*o+x+K]=L(f[K],$[S*o+x+K],F)}x+=X-1}}function e($,U,o,t,c,H){var F=P;
F($[H-1],U[o-1],0,c);F($[H-1],U[t-1],0,-c);F($[H+1],U[t],0,c);F($[H+1],U[o],0,-c);for(var n=1;n<H;n++){var i=$[H-n-1],X=$[H+n+1];
for(var K=0;K<=n;K++){F(i,U[o-1-K],0,c);F(i,U[t-1-K],0,-c);F(X,U[t+K],0,c);F(X,U[o+K],0,-c)}}V($[H],U,o,t,c)}function V($,U,n,o,t){while(n<o)P($,U[n++],0,t)}function P($,U,o,t){$[o|U]+=t;
$[o|256|U>>>4]+=t}function D($,U,o,t,c,H){var F=0,i=new Int32Array(512),X=new Int32Array(1*o),K=new Int32Array(512*o),f=Math.min(c,o),d=Math.min(c,t),L=[T.iE.Om,T.iE.w_][H],G=L[0];
for(var x=0;x<d;x++)B(K,X,$,o,x,1);for(var x=0;x<t;x++){if(x+c<t)B(K,X,$,o,x+c,1);if(x-c-1>=0)B(K,X,$,o,x-c-1,-1);
i.fill(0);F=0;for(var O=0;O<f;O++){F+=X[O];A(i,K,O)}for(var O=0;O<o;O++){var v=O-c-1,C=O+c;if(v>=0&&X[v]!=0){F-=X[v];
s(i,K,v)}if(C<o&&X[C]!=0){F+=X[C];A(i,K,C)}var S=F==0?0:G(i,$[x*o+O],F);U[x*o+O]=S}}}function B($,U,o,t,c,H){var n=c*t;
for(var F=0;F<t;F++){P($,o[n+F],F<<9,H);U[F]+=H}}function A($,U,o){for(var n=0;n<16;n++){var t=U[o<<9|256|n];
if(t==0)continue;$[256|n]+=t;var c=n<<4,H=o<<9|c;a($,U,c,H);a($,U,c+4,H+4);a($,U,c+8,H+8);a($,U,c+12,H+12)}}function s($,U,o){for(var n=0;
n<16;n++){var t=U[o<<9|256|n];if(t==0)continue;$[256|n]-=t;var c=n<<4,H=o<<9|c;M($,U,c,H);M($,U,c+4,H+4);
M($,U,c+8,H+8);M($,U,c+12,H+12)}}function a($,U,o,t){$[o]+=U[t];$[o+1]+=U[t+1];$[o+2]+=U[t+2];$[o+3]+=U[t+3]}function M($,U,o,t){$[o]-=U[t];
$[o+1]-=U[t+1];$[o+2]-=U[t+2];$[o+3]-=U[t+3]}return z}();T.iE.fs=.5;T.iE.Om=[function(z,q,e){var V=~~(.5+T.iE.fs*e),P=0,n=256;
while(P+z[n]<V)P+=z[n++];n=n-256<<4;while(P<V)P+=z[n++];return n-1},function(z,q,e,V){var P=~~(.5+T.iE.fs*V),D=0,n=256;
while(D+z[n]+q[n]<P){D+=z[n]+q[n];n++}n=n-256<<4;while(D<P){D+=z[n]+q[n];n++}return n-1}];T.iE.e$=100;
T.iE.w_=[function(z,q,e){var V=T.iE.e$,P=0,D=0,n=Math.max(0,q-V),B=Math.min(256,q+V+1);while(n<B){var A=z[n];
P+=n*A;D+=A;n++}return D==0?0:P/D},function(z,q,e,V){var P=T.iE.e$,D=0,B=0,n=Math.max(0,e-P),A=Math.min(256,e+P+1);
while(n<A){var s=z[n]+q[n];D+=n*s;B+=s;n++}return B==0?0:D/B}];T.O={};T.O.gK=function(z){var q=W.On.a3(z.Trnf),e=new kk(0,0,1e3,1e3);
if(z.Sz){var V=z.Sz.v;e=new kk(0,0,V.Wdth.v,V.Hght.v)}var P=T.O.AX(q,e);return T.O.uV(P)};T.O.AX=function(z,q){var e=z[0],V=z[1],P=z[2],D=z[3],B=z[6],A=z[7],s=z[4],a=z[5],M=0,$=0,U=1,o=0,t=0,c=1,H=1,F=1;
if(q){M=q.x;$=q.y;U=q.x+q.s;o=q.y;t=q.x;c=q.y+q.T;H=q.x+q.s;F=q.y+q.T}return T.O.aCx(z,[M,$,U,o,H,F,t,c])};
T.O.a0N=function(z){function q(P,D){for(var n=0;n<D.length;n+=2)if(!e(P,D[n],D[n+1]))return!1;return!0}function e(P,D,B){return P[2*D]==P[2*B]&&P[2*D+1]==P[2*B+1]}var V=0;
if(q(z,[0,1,2,3]))V+=1;if(q(z,[0,3,1,2]))V+=2;return V};T.O.aCx=function(z,q){function e(u,n,l){var S=u[n*2]-u[l*2],j=u[n*2+1]-u[l*2+1];
return Math.sqrt(S*S+j*j)}var V=z[0],P=z[1],D=z[2],B=z[3],A=z[6],s=z[7],a=z[4],M=z[5],$=q[0],U=q[1],o=q[2],t=q[3],c=q[6],H=q[7],F=q[4],i=q[5],X=[[$,U,1,0,0,0,-$*V,-U*V,V],[0,0,0,$,U,1,-$*P,-U*P,P],[o,t,1,0,0,0,-o*D,-t*D,D],[0,0,0,o,t,1,-o*B,-t*B,B],[c,H,1,0,0,0,-c*A,-H*A,A],[0,0,0,c,H,1,-c*s,-H*s,s],[F,i,1,0,0,0,-F*a,-i*a,a],[0,0,0,F,i,1,-F*M,-i*M,M]],K=[0,0,0,0,0,0,0,0],f=T.Hn.Xd(X,K);
if(f!=0){K=[0,0,0,0,0,0,0,0];var d=T.O.a0N(z),L=T.O.a0N(q);if(d==L&&d!=0){var G=d==1,x=G?3:1,O=e(z,0,x),v=e(q,0,x),C=v/O,S=z[2*x]-z[0],j=z[2*x+1]-z[1],w=new e5;
w.translate(-V,-P);w.rotate(Math.atan2(j,S)-(G?Math.PI/2:0));if(G)w.scale(1,C);else w.scale(C,1);w.translate($,U);
w.TG();K=T.O.Ak(w)}}return K};T.O.n=function(z,q){if(z==null)z=q=0;return[1,0,z,0,1,q,0,0]};T.O.NJ=function(z){return Math.abs(z[6])<1e-18&&Math.abs(z[7])<1e-18};
T.O.uV=function(z){return new e5(z[0],z[3],z[1],z[4],z[2],z[5])};T.O.Ak=function(z){return[z.x6,z.I$,z.yK,z.c,z.at,z.ww,0,0]};
T.O.v=function(z,q){var e=new Float64Array(2);for(var V=0;V<q.length;V+=2){var P=q[V],D=q[V+1];T.O.xt(P,D,z,e);
q[V]=e[0];q[V+1]=e[1]}};T.O.xt=function(z,q,e,V){var P=1/(e[6]*z+e[7]*q+1);V[0]=(e[0]*z+e[1]*q+e[2])*P;
V[1]=(e[3]*z+e[4]*q+e[5])*P};T.O.a7_=function(z,q){var e=new Float64Array(2);T.O.xt(q.x,q.y,z,e);return new f5(e[0],e[1])};
T.O.TL=function(z,q,e,V){z=new Uint32Array(z.buffer);q=new Uint32Array(q.buffer);for(var P=0;P<V;P++){for(var D=0;
D<e;D++){q[D*V+P]=z[P*e+D]}}};T.O.Um=function(z,q,e,V){z=new Uint32Array(z.buffer);q=new Uint32Array(q.buffer);
for(var P=0;P<V;P++){for(var D=0;D<e;D++){q[P*e+D]=z[P*e+e-1-D]}}};T.O.abt=function(z,q,e,V){z=new Uint32Array(z.buffer);
q=new Uint32Array(q.buffer);for(var P=0;P<V;P++){for(var D=0;D<e;D++){q[P*e+D]=z[(V-1-P)*e+D]}}};T.O.ar_=function(z){return Math.abs(z[6])<1e-9&&Math.abs(z[7])<1e-9};
T.O.a1t=function(z){return Math.abs(z[0])<1e-9&&Math.abs(z[4])<1e-9||Math.abs(z[1])<1e-9&&Math.abs(z[3])<1e-9};
T.O.drawImage=function(z,q,e,V,P,D,B,A){if(B==null)B=!1;var s=T.O.TG(z),a=!0,M=0;for(var n=0;n<8;n++){var $=Math.round(z[n]);
if(n!=2&&n!=5)M+=Math.abs($);if(Math.abs($-z[n])>1e-9)a=!1}var U=T.O.ar_(z),o=T.O.a1t(z)&&U,t=o?1:0;
if(T.Gx(q)!=8){T.O.ahm(s,q,e,V,P,D,U,B||A);return}if(B||a&&M==e+V&&U){T.O.a7j(s,q,e,V,P,D,U,A);return}var c=D.s,H=D.T,F=new Float64Array(2);
P=new Uint32Array(P.buffer);q=new Uint32Array(q.buffer);for(var i=0;i<H;i++)for(var X=0;X<c;X++){var K=i*c+X,f,d,L,G,Q=0,b=0,p=0,k=0;
P[K]=0;var x=X+D.x+.5,O=i+D.y+.5;f=x;d=O;L=s;var v=L[0]*f+L[1]*d+L[2],C=L[3]*f+L[4]*d+L[5];if(!U){G=1/(L[6]*f+L[7]*d+1);
v*=G;C*=G}var S=v*e,j=C*V,w=S<-1||S>e+1||j<-1||j>V+1;if(w)continue;var u=T.O.aKB(z,e,V,x,O,v,C),l=Math.round(u*2.3);
if(u<1.1){T.O.Yw(S,j,q,e,V,P,K,t);continue}if(S<.6||S>e-.6||j<.6||j>V-.6){l=Math.max(l,5)}var I=1/l,g=D.x+X,Y=D.y+i;
L=s;for(var n=0;n<l;n++)for(var R=0;R<l;R++){f=g+(n+.5)*I;d=Y+(R+.5)*I;var S=L[0]*f+L[1]*d+L[2],j=L[3]*f+L[4]*d+L[5];
if(!U){G=1/(L[6]*f+L[7]*d+1);S*=G;j*=G}if(S<0||S>=1||j<0||j>=1)continue;S=Math.floor(S*e);j=Math.floor(j*V);
var m=j*e+S,Z=q[m],E=Z>>>24;Q+=(Z&255)*E;b+=(Z>>>8&255)*E;p+=(Z>>>16&255)*E;k+=E}if(k!=0){var N=1/k;
Q=~~(Q*N+.5);b=~~(b*N+.5);p=~~(p*N+.5);k=~~(k*I*I+.5);P[K]=k<<24|p<<16|b<<8|Q}}};T.O.ahm=function(z,q,e,V,P,D,B,A){var s=D.s,a=D.T,M=new e5;
M.scale(e,V);M.translate(1,1);var $=T.O.yW(T.O.Ak(M),z),U=new kk(0,0,e,V),o=U.Y();o.Gm(1,1);var t=T.n(o.D()*4,T.Gx(q));
T.aF(q,U,t,o);e=o.s;V=o.T;var c=D.x+.5,H=D.y+.5;T.ak(t);for(var F=0;F<a;F++)for(var i=0;i<s;i++){var X=F*s+i<<2,K=i+c,f=F+H,d=$[0]*K+$[1]*f+$[2],L=$[3]*K+$[4]*f+$[5];
if(!B){var G=1/($[6]*K+$[7]*f+1);d*=G;L*=G}if(d<.5||d>e-.5||L<.5||L>V-.5){P[X]=0;P[X+1]=0;P[X+2]=0;P[X+3]=0}else if(A){var x=~~L*e+~~d<<2;
P[X]=t[x];P[X+1]=t[x+1];P[X+2]=t[x+2];P[X+3]=t[x+3]}else T.O.awo(d,L,t,e,P,X)}T.Od(P)};T.O.aKB=function(z,q,e,V,P,D,B){var A=T.O.aw4(z,V,P,D+1/q,B),s=T.O.aw4(z,V,P,D,B+1/e);
return 1/Math.sqrt(Math.max(A,s))};T.O.aw4=function(z,q,e,V,P){var D=1/(z[6]*V+z[7]*P+1),B=(z[0]*V+z[1]*P+z[2])*D-q,A=(z[3]*V+z[4]*P+z[5])*D-e;
return B*B+A*A};T.O.a7j=function(z,q,e,V,P,D,B,A){if(B&&D.D()>4e6&&A){T.O.aCb(z,q,e,V,P,D,B,A);return}var s=D.x+D.s,a=D.y+D.T,M=0,$=new Uint32Array(P.buffer),U=new Uint32Array(q.buffer),o=z[0]*e,t=z[1]*e,c=z[2]*e,H=z[3]*V,F=z[4]*V,i=z[5]*V,X=z[6],K=z[7];
if(B)for(var f=D.y+.5;f<a;f++)for(var d=D.x+.5;d<s;d++){var L=o*d+t*f+c,G=H*d+F*f+i;if(0<L&&L<e&&0<G&&G<V){var x=~~G*e+~~L;
$[M]=U[x]}else $[M]=0;M++}else for(var f=D.y+.5;f<a;f++)for(var d=D.x+.5;d<s;d++){var O=1/(X*d+K*f+1),L=(o*d+t*f+c)*O,G=(H*d+F*f+i)*O;
if(0<L&&L<e&&0<G&&G<V){var x=Math.floor(G)*e+Math.floor(L);$[M]=U[x]}else $[M]=0;M++}};T.O.aCb=function(z,q,e,V,P,D,B,A){var s=new Uint32Array(P.buffer),a=new Uint32Array(q.buffer),K=0;
if(A&&(D.s&3)!=0)throw"e";var M=z[0]*e,$=z[1]*e,U=z[2]*e,o=z[3]*V,t=z[4]*V,c=z[5]*V,H=z[6],F=z[7],i=D.s,X=D.T,f=D.x+.5,d=D.y+.5,L=(i>>>2<<2)-1e-9,G=-.1+(X>>>1<<1)-1e-9,x=~~e,O=M==0?0:1/M,v=o==0?0:1/o;
for(var C=0;C<X;C++){var S=f*M+$*(C+d)+U,j=f*o+t*(C+d)+c,w=0,u=i;if(M==0){}else if(O>0){w=Math.max(w,-S*O);
u=Math.min(u,(e-S)*O)}else{u=Math.min(u,-S*O);w=Math.max(w,(e-S)*O)}if(o==0){}else if(v>0){w=Math.max(w,-j*v);
u=Math.min(u,(V-j)*v)}else{u=Math.min(u,-j*v);w=Math.max(w,(V-j)*v)}if(u<0)u=0;if(w>u)w=u;w=~~Math.ceil(w);
u=~~u;K=~~(C*i);s.fill(0,K,K+w);K+=w;for(var l=w;l<u;l+=4){var I=M*l+S,Q=o*l+j,b=~~Q*x+~~I,p=a[b];s[K]=p;
s[K+1]=p;s[K+2]=p;s[K+3]=p;K+=4}s.fill(0,K,K+i-u)}};T.O.TG=function(z){var q=z[4]-z[5]*z[7],e=z[2]*z[7]-z[1],V=z[1]*z[5]-z[2]*z[4],P=z[5]*z[6]-z[3],D=z[0]-z[2]*z[6],B=z[3]*z[2]-z[0]*z[5],A=z[3]*z[7]-z[4]*z[6],s=z[1]*z[6]-z[0]*z[7],a=1/(z[0]*z[4]-z[1]*z[3]);
return[q*a,e*a,V*a,P*a,D*a,B*a,A*a,s*a]};T.O.yW=function(z,q){var e=z[0],V=z[1],P=z[2],D=z[3],B=z[4],A=z[5],s=z[6],a=z[7],M=q[0],$=q[1],U=q[2],o=q[3],t=q[4],c=q[5],H=q[6],F=q[7],i=[e*M+V*o+P*H,e*$+V*t+P*F,e*U+V*c+P,D*M+B*o+A*H,D*$+B*t+A*F,D*U+B*c+A,s*M+a*o+H,s*$+a*t+F],X=1/(s*U+a*c+1);
for(var n=0;n<8;n++)i[n]*=X;return i};T.O.Yw=function(z,q,e,V,P,D,B,A){var s=z,a=q,U=0,o=0,t=0,c=0;z-=.499999;
q-=.499999;var M=Math.floor(z),$=Math.floor(q);if(A==0){var n=$*V+M,H=M>=0&&M<V,F=M+1>=0&&M+1<V,i=$>=0&&$<P,X=$+1>=0&&$+1<P;
if(H&&i)U=e[n];if(F&&i)o=e[n+1];if(H&&X)t=e[n+V];if(F&&X)c=e[n+V+1]}else if(A==1){var K=M<0?0:M>V-1?V-1:M,f=M<-1?0:M>V-2?V-1:M+1,d=$<0?0:$>P-1?P-1:$,L=$<-1?0:$>P-2?P-1:$+1;
U=e[d*V+K];o=e[d*V+f];t=e[L*V+K];c=e[L*V+f]}else{var K=(M+50*V)%V,f=(M+50*V+1)%V,d=($+50*P)%P,L=($+50*P+1)%P;
U=e[d*V+K];o=e[d*V+f];t=e[L*V+K];c=e[L*V+f]}var G=z-M,x=q-$,O=(1-x)*(1-G)*(U>>>24),v=(1-x)*G*(o>>>24),C=x*(1-G)*(t>>>24),S=x*G*(c>>>24),u=O+v+C+S,l=O*(U&255)+v*(o&255)+C*(t&255)+S*(c&255),I=O*(U>>>8&255)+v*(o>>>8&255)+C*(t>>>8&255)+S*(c>>>8&255),Q=O*(U>>>16&255)+v*(o>>>16&255)+C*(t>>>16&255)+S*(c>>>16&255);
if(u==0)D[B]=0;else{var b=1/u;l=~~(l*b+.5);I=~~(I*b+.5);Q=~~(Q*b+.5);u=~~(u+.5);D[B]=u<<24|Q<<16|I<<8|l}};
T.O.awo=function(z,q,e,V,P,D){var B=z-.499999,A=q-.499999,s=~~B,a=~~A,M=B-s,$=A-a,U=(1-$)*(1-M),o=(1-$)*M,t=$*(1-M),c=$*M,H=a*V+s<<2,F=(a+1)*V+s<<2;
P[D]=U*e[H]+o*e[H+4]+t*e[F]+c*e[F+4];P[D+1]=U*e[H+1]+o*e[H+5]+t*e[F+1]+c*e[F+5];P[D+2]=U*e[H+2]+o*e[H+6]+t*e[F+2]+c*e[F+6];
P[D+3]=U*e[H+3]+o*e[H+7]+t*e[F+3]+c*e[F+7]};T.O.a2U=function(z,q,e,V,P,D){var B=z-.499999,A=q-.499999,s=~~B,a=~~A,M=B-s,$=A-a,U=(1-$)*(1-M),o=(1-$)*M,t=$*(1-M),c=$*M,H=a*V+s<<2,F=(a+1)*V+s<<2,i=U*e[H]+o*e[H+4]+t*e[F]+c*e[F+4],X=U*e[H+1]+o*e[H+5]+t*e[F+1]+c*e[F+5],K=U*e[H+2]+o*e[H+6]+t*e[F+2]+c*e[F+6],f=U*e[H+3]+o*e[H+7]+t*e[F+3]+c*e[F+7];
D[0]=i;D[1]=X;D[2]=K;D[3]=f};T.O.ft=function(z,q,e,V,P){z-=.499999;q-=.499999;var D=Math.floor(z),B=Math.floor(q),A=z-D,s=q-B,a=(1-s)*(1-A),M=(1-s)*A,$=s*(1-A),U=s*A,o=(D+50*V)%V,t=(D+1+50*V)%V,c=(B+50*P)%P,H=(B+1+50*P)%P,F=e[c*V+o],i=e[c*V+t],X=e[H*V+o],K=e[H*V+t];
return a*F+M*i+$*X+U*K};T.O.arK=function(z,q,e,V,P){z-=.499999;q-=.499999;var D=Math.floor(z),B=Math.floor(q),A=z-D,s=q-B,a=(1-s)*(1-A),M=(1-s)*A,$=s*(1-A),U=s*A,o=B*V+D,t=o+V;
return a*e[o]+M*e[o+1]+$*e[t]+U*e[t+1]};T.O.agy=function(z,q,e,V,P){z-=.499999;q-=.499999;var D=Math.floor(z),B=Math.floor(q),A=z-D,s=q-B,a=(1-s)*(1-A),M=(1-s)*A,$=s*(1-A),U=s*A,o=B*V+D,t=o+V;
return a*e[o]+M*e[o+1]+$*e[t]+U*e[t+1]};T.O.arp=function(z,q,e,V,P){z-=.499999;q-=.499999;var D=Math.floor(z),B=Math.floor(q),A=z-D,s=q-B,a=(1-s)*(1-A),M=(1-s)*A,$=s*(1-A),U=s*A,o=B*V+D,t=o+V;
return a*e[o]+M*e[o+1]+$*e[t]+U*e[t+1]};T.O.ahr=function(z,q,e,V,P,D,B,A,s,a,M,$){var U=new Uint32Array(z.buffer),o=new Uint32Array(V.buffer),t=(1+2*a)/P,c=[],H=[];
for(var F=0;F<P;F++){var i=-.25+a-F*t;c.push(Math.cos(2*Math.PI*i)*$/M);c.push(Math.sin(2*Math.PI*i)/M)}B*=q;
A*=e;for(var X=0;X<D;X++){var K=Math.pow(X/D,s)*D;for(var F=0;F<P;F++){var f=B+c[F<<1]*K,d=A+c[(F<<1)+1]*K,L=~~(.5+(f<0?0:f>q-1?q-1:f)),G=~~(.5+(d<0?0:d>e-1?e-1:d));
o[X*P+F]=U[G*q+L]}}};T.O.ad9=function(z,q,e,V,P,D,B,A,s,a,M,$){var U=new Uint32Array(z.buffer),o=new Uint32Array(V.buffer),t=1/$,c=[],H=e*4,F=1/H;
for(var i=0;i<H+10;i++)c.push(Math.pow(i*F,1/s)*e*M);B*=P;A*=D;for(var i=0;i<D;i++)for(var X=0;X<P;X++){var K=t*(X-B),f=i-A,d=1.75-Math.atan2(f,K)*(1/(2*Math.PI));
d=d-~~d;d=(d+a)*(1/(1+2*a));var L=Math.sqrt(K*K+f*f);L=c[~~(L*4)];T.O.Yw(d*q+.5,L+.5,U,q,e,o,i*P+X,1)}};
T.O.qN=function(z,q,e,V,P){var D=P[0],B=P[1];for(var A=0;A<B;A++)for(var s=0;s<D;s++){var a=P[2]*s+P[3]*A+P[4],M=P[5]*s+P[6]*A+P[7],$=A*D+s<<2,U=M*q+a<<2;
V[$]=z[U+0];V[$+1]=z[U+1];V[$+2]=z[U+2];V[$+3]=z[U+3]}};T.Yf=function(){function z(K,f){var d=~~(.499+K*f);
return d<0?0:(d>f?f:d)<<2}function q(K,f,d,L,G,x,O,v){var C=d[0],S=d[1],j=d[2],w=d[3],u=L.s,l=L.T,I=new Uint32Array(1),Q=new Uint8Array(I.buffer),b=Math.round(Math.random()*L.D()*100);
for(var p=0,n=0;p<l;p++){for(var k=0;k<u;k++,n++){var g=k+G,Y=p+x,R=C*g+S*Y,m=j*g+w*Y,Z=0;if(v==0)Z=R+.5;
else if(v==1)Z=2*Math.sqrt(R*R+m*m);else if(v==2)Z=(Math.PI+Math.atan2(-m,-R))/(2*Math.PI);else if(v==3)Z=Math.abs(R*2);
else if(v==4)Z=2*(Math.abs(R)+Math.abs(m));var E=z(Z,O),N=k*4;I[0]=T.w.km(n+b);for(var h=0;h<4;h++){var j5=f[E+h]*255,r=Math.floor(j5);
if(Q[h]<(j5-r)*255)r++;K[(n<<2)+h]=r}}}}function e(K,n,f,d,L){var G=n<<2;K[G]=f[d]*L;K[G+1]=f[d+1]*L;
K[G+2]=f[d+2]*L;K[G+3]=f[d+3]*L}var V=[function(K,f,d,L,G,x,O,v){var C=d[0],S=d[1],j=d[2],w=d[3],u=L.s,l=L.T;
for(var I=0,n=0;I<l;I++)for(var Q=0;Q<u;Q++,n++){var b=Q+G,p=I+x,k=C*b+S*p,g=j*b+w*p,Y=k+.5;e(K,n,f,z(Y,O),v)}},function(K,f,d,L,G,x,O,v){var C=d[0],S=d[1],j=d[2],w=d[3],u=L.s,l=L.T;
for(var I=0,n=0;I<l;I++)for(var Q=0;Q<u;Q++,n++){var b=Q+G,p=I+x,k=C*b+S*p,g=j*b+w*p,Y=2*Math.sqrt(k*k+g*g);
e(K,n,f,z(Y,O),v)}},function(K,f,d,L,G,x,O,v){var C=d[0],S=d[1],j=d[2],w=d[3],u=L.s,l=L.T;for(var I=0,n=0;
I<l;I++)for(var Q=0;Q<u;Q++,n++){var b=Q+G,p=I+x,k=C*b+S*p,g=j*b+w*p,Y=(Math.PI+Math.atan2(-g,-k))/(2*Math.PI);
e(K,n,f,z(Y,O),v)}},function(K,f,d,L,G,x,O,v){var C=d[0],S=d[1],j=d[2],w=d[3],u=L.s,l=L.T;for(var I=0,n=0;
I<l;I++)for(var Q=0;Q<u;Q++,n++){var b=Q+G,p=I+x,k=C*b+S*p,g=j*b+w*p,Y=Math.abs(k*2);e(K,n,f,z(Y,O),v)}},function(K,f,d,L,G,x,O,v){var C=d[0],S=d[1],j=d[2],w=d[3],u=L.s,l=L.T;
for(var I=0,n=0;I<l;I++)for(var Q=0;Q<u;Q++,n++){var b=Q+G,p=I+x,k=C*b+S*p,g=j*b+w*p,Y=2*(Math.abs(k)+Math.abs(g));
e(K,n,f,z(Y,O),v)}}];function P(K,f,d,L,G,x,O,v,C,S,j,w,u){var l=1023,I=A(K,l+1,O,C,S,u),Q=T.Gx(f),b=T.K8(Q);
if(Q==8&&w&&K.Clrs){q(f,I,L,d,d.x-G,d.y-x,l,v)}else if(v<5){V[v](f,I,L,d,d.x-G,d.y-x,l,b)}else{var p=T.EZ(I,Q),k=d.s,g=d.T,Y=j.R$,R=j.qG,m=Y-R,Z=1/m,E=j.ze.s-d.s>>1,N=j.ze.T-d.T>>1,h=j.ze.s;
for(var j5=0,n=0;j5<g;j5++)for(var r=0;r<k;r++,n+=4){var l8=(j5+N)*h+r+E,aP=(j.dd[l8]-R)*Z,bS=Math.max(0,Math.min(l,Math.round(aP*l)))<<2;
f[n]=p[bS];f[n+1]=p[bS+1];f[n+2]=p[bS+2];f[n+3]=p[bS+3]}}}function D(K,f,d){var L=[K.Clrs.v,K.Trns.v],G=[[],[]],x=255;
for(var O=0;O<2;O++)for(var n=0;n<L[O].length;n++){var v,C=L[O][n].v;if(O==0){var S=C.Type.v.Clry;if(S=="FrgC")v={l:f>>16&255,I:f>>8&255,c:f&255};
else if(S=="BckC")v={l:d>>16&255,I:d>>8&255,c:d&255};else v=B(C.Clr.v)}else{v=C.Opct.v.val*(255/100);
if(v<x)x=v}G[O].push([v,C.Lctn.v/4096,C.Mdpn.v/100])}G.push(x>254);return G}function B(K){var f,d=K.classID;
if(d=="RGBC"){if(K.Rd)f={l:K.Rd.v,I:K.Grn.v,c:K.Bl.v};else f={l:K.redFloat.v*255,I:K.greenFloat.v*255,c:K.blueFloat.v*255};
f.l=Math.max(f.l,0);f.I=Math.max(f.I,0);f.c=Math.max(f.c,0)}else if(d=="HSBC"){f=T.mj(K.H.v.val/360,K.Strt.v/100,K.Brgh.v/100);
f.l*=255;f.I*=255;f.c*=255}else if(d=="CMYC"){var L=K.Cyn.v,G=K.Mgnt.v,x=K.Ylw.v,O=K.Blck.v,v=[L/100,G/100,x/100,O/100],C=T.DQ(v);
f={l:C[0]*255,I:C[1]*255,c:C[2]*255}}else if(d=="Grsc")f={l:255-K.Gry.v,I:255-K.Gry.v,c:255-K.Gry.v};
else if(d=="LbCl"){f=T.Ka(K.Lmnc.v,K.A.v,K.B.v)}else if(d=="BkCl")f={l:0,I:0,c:0};else console.log(K);
if(isNaN(f.l))f.l=f.I=f.c=0;return f}function A(K,f,d,L,G,x){if(x==null)x="Gcls";var O;if(K.Clrs){O=D(K,L,G);
for(var n=0;n<O[0].length;n++){var v=O[0][n][0];if(x=="Lnr"){v.l=255*T.Ec(v.l/255);v.I=255*T.Ec(v.I/255);
v.c=255*T.Ec(v.c/255)}if(x=="Perc"||x=="Smoo"){var C=T.zw(v.l,v.I,v.c);v.l=C.eT*2.55;v.I=127.5+C.x6;
v.c=127.5+C.c}}}var S=K.Clrs?M(K,O,f,d):s(K,f,d);if(K.Clrs&&x!="Gcls"){var j=1/255,w=O[0],u=O[1];for(var n=0;
n<S.length;n+=4){if(x=="Lnr"){S[n]=T.Xg(S[n]);S[n+1]=T.Xg(S[n+1]);S[n+2]=T.Xg(S[n+2])}if(x=="Perc"||x=="Smoo"){var l=S[n]*100,I=(S[n+1]-.5)*255,Q=(S[n+2]-.5)*255,b=T.Ka(l,I,Q);
S[n]=b.l*j;S[n+1]=b.I*j;S[n+2]=b.c*j}if(x=="stripes"){var p=0;while(p<w.length-1&&w[p+1][1]*f<n>>>2)p++;
var b=w[p][0];S[n]=b.l*j;S[n+1]=b.I*j;S[n+2]=b.c*j;p=0;while(p<u.length-1&&u[p+1][1]*f<n>>>2)p++;S[n+3]=u[p][0]*j}}}return S}function s(K,f,d){var L=new Uint32Array(f),G=new Uint8Array(L.buffer);
L.fill(4278190080);var x=[],O=[],v=K.RndS.v,C=K.Smth.v/4096;for(var n=0;n<4;n++){x[n]=~~(K.Mnm.v[n].v*255/100);
O[n]=~~(K.Mxm.v[n].v*255/100)}var S=T.n(f*4),j=T.n(f);for(var w=0;w<3;w++){T.P.aKW(null,f,1,S,[1+Math.round(C*C*C*60),22,v*(2+w)]);
T.bl(S,j,0);T.yR(j,G,w);var u=x[w],l=O[w];for(var n=0;n<f;n++)G[4*n+w]=Math.max(u,Math.min(l,G[4*n+w]))}if(d)for(var n=0;
n<f/2;n++){var I=L[n];L[n]=L[f-1-n];L[f-1-n]=I}return T.EZ(G,32)}function a(K){return{classID:"RGBC",Rd:{t:"doub",v:K.l},Grn:{t:"doub",v:K.I},Bl:{t:"doub",v:K.c}}}function M(K,f,d,L){var G=new Float32Array(d*4),x=1/(d-0);
for(var n=0;n<d;n++){var O=n*4,v=$(K,f,(L?d-1-n:n)*x);G[O]=v[0];G[O+1]=v[1];G[O+2]=v[2];G[O+3]=v[3]}return G}function $(K,f,d){var L=K.Intr.v*(1/4096),G=f[0],x=f[1],O=G.length-1,v=x.length-1,n=-1,C=0,S=0,j=0,w=0;
if(f[2])C=255;else{while(n<v&&x[n+1][1]<=d)n++;if(n==-1){C=x[0][0]}else if(n==v){C=x[n][0]}else{var u=o(x,n,d,L);
C=u*x[n][0]+(1-u)*x[n+1][0]}}n=-1;while(n<O&&G[n+1][1]<=d)n++;if(n==-1){var l=G[0][0];S=l.l;j=l.I;w=l.c}else if(n==O){var l=G[n][0];
S=l.l;j=l.I;w=l.c}else{var I=G[n][0],Q=G[n+1][0],b=o(G,n,d,L);S=Math.min(255,b*I.l+(1-b)*Q.l);j=Math.min(255,b*I.I+(1-b)*Q.I);
w=Math.min(255,b*I.c+(1-b)*Q.c)}return[S*(1/255),j*(1/255),w*(1/255),C*(1/255)]}function U(K,f,d){var L=$(K,f,d),G=~~(.5+L[0]*255),x=~~(.5+L[1]*255),O=~~(.5+L[2]*255),v=~~(.5+L[3]*255);
return v<<24|O<<16|x<<8|G}function o(K,n,f,d){if(K.length==2)d*=.5;var L=K[n][1],G=K[n+1][1],x=L+K[n+1][2]*(G-L),O;
if(f<x)O=.5*(f-L)/(x-L);else O=.5+.5*(f-x)/(G-x);O=.5+.5*(d*Math.cos(Math.PI*O)+(1-d)*(1-2*O));return O}function t(K,f,d){var L=.5*d.T,G=L*(K/f),x=Math.sqrt(L*L+G*G),O=.5*d.s,v=O*(f/K),C=Math.sqrt(O*O+v*v);
return Math.min(x,C)}function c(K,f){var d=Math.PI*K.Angl.v.val/180,L=K.Scl.v.val/100,G=0,x=0;if(K.Ofst){var O=K.Ofst.v;
G=O.Hrzn.v.val/100;x=O.Vrtc.v.val/100}var v=Math.cos(d),C=-Math.sin(d),S=t(v,C,f),j=S*L,w=f.x+f.s/2+G*f.s,u=f.y+f.T/2+x*f.T;
return[new f5(w,u),new f5(w+v*j,u+C*j)]}function H(K,f,d,L){var G=f.x-K.x,x=-(f.y-K.y),O=Math.sqrt(G*G+x*x),v=Math.atan2(x,G),C=Math.cos(v),S=-Math.sin(v),j=t(C,S,d),w=O/j,u=(K.x-d.x-d.s/2)/d.s,l=(K.y-d.y-d.T/2)/d.T;
L.Angl.v.val=180*v/Math.PI;L.Scl.v.val=w*100;var I=L.Ofst.v;I.Hrzn.v.val=u*100;I.Vrtc.v.val=l*100}function F(K,f){for(var n=0;
n<K.length;n++){var d=K[n],L=Math.round(d[0]*4096),G=d[1],x=d[2],O=K[Math.max(0,n-1)][3];if(x==null)x=1;
if(O==null)O=.5;var v=a({l:G[0]*255,I:G[1]*255,c:G[2]*255});f.Clrs.v[n]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:L},Mdpn:{t:"long",v:Math.round(O*100)},Clr:{t:"Objc",v:v},Type:{t:"enum",v:{Clry:"UsrS"}}}};
f.Trns.v[n]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:L},Mdpn:{t:"long",v:Math.round(O*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(x*100)}}}}}}function i(K,f,d){if(f){K=T.G(K);
for(var n=0;n<2;n++){var L=K[n==0?"Clrs":"Trns"].v;for(var G=0;G<L.length;G++)L[G].v.Lctn.v=4096-L[G].v.Lctn.v;
L.reverse()}}var x=[],O=1/255,v=K.Clrs.v,C=K.Trns.v,L=v;if(cW==0||v.length!=C.length){if(cW!=0)console.log("strange gradient");
if(d!=!0)L=v.concat(C);var S=D(K,0,0);for(var n=0;n<L.length;n++){var j=L[n].v,w=j.Lctn.v/4096,u=$(K,S,w);
x.push([w,[u[0],u[1],u[2]],u[3],j.Mdpn.v/100])}x.sort(function(I,Q){return I[0]-Q[0]});for(var n=1;n<x.length;
n++)if(x[n][0]-x[n-1][0]<.001){x.splice(n,1);n--}}else{for(var n=0;n<L.length;n++){var j=v[n].v,l=j.Clr.v,w=j.Lctn.v/4096;
x.push([w,[l.Rd.v*O,l.Grn.v*O,l.Bl.v*O],C[n].v.Opct.v.val/100,v[Math.min(n+1,v.length-1)].v.Mdpn.v/100])}}return x}function X(K,f){function d(K,O){K.addColorStop(O[0],CSS.ao8(O[1],O[2]))}function L(O,v,C,S){var j=Math.log(.5)/Math.log(S),w=Math.log(.5)/Math.log(1-S),u=S>.5?Math.pow(C,j):1-Math.pow(1-C,w),l=1-u,I=O[0],Q=O[1],b=v[1],p=[I+(v[0]-I)*C,[Q[0]*l+b[0]*u,Q[1]*l+b[1]*u,Q[2]*l+b[2]*u],O[2]*l+v[2]*u];
return p}d(K,f[0]);for(var n=1;n<f.length;n++){var G=f[n-1][3];if(G!=.5)for(var x=1;x<20;x++)d(K,L(f[n-1],f[n],x/20,G));
d(K,f[n])}}return{dQ:P,e8:a,z8:B,avd:A,Lv:H,akb:c,afk:X,WL:F,aGs:i,amN:D,PW:U}}();T.aww={};T.aww.eM=function(z,q,e,V,P,D,B,A,s,a,M,$){var U,o,t,c=Date.now(),H=!1,F=B,i=a,X,K,f,d,L=D*255,G=255-s*255,x=1+P*6,O=1+A*6,v=1+$*4,C=(v-1)/7,S=0,j=255-0,w,u,l,I,Q,b,p,k,g,Y,R,m,Z,E=0,N=1,h,j5,r,l8,aP,bS,kR,j1,f6,gx,lC=1+M,g2,dv=T.n(e*V),bv=T.n(e*V),eo=T.n(e*V),aL=T.n(e*V),dh=255/L,eM=255/(255-G);
for(o=0;o<V;o++){for(U=0;U<e;U++){var n=o*e+U,kg=n<<2;h=T.Vq(z[kg],z[kg+1],z[kg+2]);aL[n]=h;if(h<L)dv[n]=255-h*dh;
if(h>G)bv[n]=255-(255-h)*eM}}if(H)console.log("init",Date.now()-c);c=Date.now();if(P*F>0){T.BJ.uR(dv,new kk(0,0,e,V),F,2)}if(A*i>0){T.BJ.uR(bv,new kk(0,0,e,V),i,2)}if(H)console.log("blur",Date.now()-c);
c=Date.now();var jJ=T.n(256),iL=T.n(256);for(var n=0;n<256;n++){var bz=n*(1/255),ks=0;ks=(1-Math.pow(1-bz,x))*255;
jJ[n]=Math.max(0,Math.min(255,~~(ks+.5)));ks=Math.pow(bz,O)*255;iL[n]=Math.max(0,Math.min(255,~~(ks+.5)))}var gr=new Uint8ClampedArray(q.buffer),hg=new Float32Array(32768);
for(var n=0;n<32768;n++){g2=Math.sqrt(n)*(1/128);if(lC>1)g2=(1-g2)*(lC-1)+1;else g2=g2*(lC-1)+1;hg[n]=g2}for(o=0;
o<V;o++){for(U=0;U<e;U++){var n=o*e+U,kg=n<<2,ks=aL[n],ci=dv[n]*(1/255),fK=bv[n]*(1/255);ks=(1-ci)*ks+ci*jJ[~~ks];
ks=(1-fK)*ks+fK*iL[~~ks];h=ks;var jN=z[kg],dD=z[kg+1],eF=z[kg+2];j5=-jN*.168736-dD*.331264+eF*.5;r=jN*.5-dD*.418688-eF*.081312;
g2=hg[~~(.5+j5*j5+r*r)];l8=j5*g2;bS=r*g2;N=1-Math.min(2-(ci+fK),1);j5=N*j5+(1-N)*l8;r=N*r+(1-N)*bS;j1=h+1.402*r;
f6=h-.34414*j5-.71414*r;gx=h+1.772*j5;gr[kg]=~~(.5+j1);gr[kg+1]=~~(.5+f6);gr[kg+2]=~~(.5+gx)}}if(H)console.log("apply masks",Date.now()-c);
c=Date.now()};T.mQ={};T.mQ.Fj=function(z,q,e,V,P){var D=Date.now(),B=!1,c=1,j=0,g=0;if(!q.oq(P)){var A=q.X8(P),s=T.n(A.D()*4);
T.aF(z,q,s,A);z=s;q=A}var a=T.n(q.D());T.KY(e,P,a,q);T.round(a);P=P.HX(q);var M=P.s,$=P.T,U=M*3<$?2:1,o=$*3<M?2:1;
if(P.D()*(U*2+1)*(o*2+1)<q.D()){var A=new kk(P.x-M*U,P.y-$*U,M*(U*2+1),$*(o*2+1)).HX(q),s=T.n(A.D()*4);
T.aF(z,q,s,A);var t=T.n(A.D());T.KY(a,q,t,A);q=A;z=s;a=t}while((q.s+q.T)/2/c>400)c++;var H=z,F=q,i=a,X=Math.floor(F.s/c),K=Math.floor(F.T/c);
z=T.n(X*K*4);T.scale.vu(H,F.s,F.T,z,X,K,1/c);a=T.n(X*K);T.scale.qN(i,F.s,F.T,a,X,K,1/c);T.round(a,1);
if(B)console.log("scale down:",c,X,K);var f=T.KI(a,new kk(0,0,X,K));if(f.a8())return 1;var d=Math.round((f.s+f.T)/2/15);
if(B)console.log(Date.now()-D,"preprocess");D=Date.now();var L=T.n(X*K*4);T.a9k(z,L);var G=Int16Array,x=new G(X*K*24),O=new G(64),v=new G(64),C=new G(64),S=new G(64);
for(var w=3;w<K-4;w++)for(var u=3;u<X-4;u++){var l=w*X+u;if(a[l]==255)continue;if(T.mQ.a6w(L,a,u,w,X,K,O,v,C)!=0)continue;
T.mQ.yU(O,S);var I=j*24;x[I]=u;x[I+1]=w;T.mQ.Yh(O,x,I+4,12);T.mQ.yU(v,S);T.mQ.Yh(v,x,I+16,4);T.mQ.yU(C,S);
T.mQ.Yh(C,x,I+20,4);var Q=x[I+5],b=x[I+6];x[I+5]=x[I+16];x[I+6]=x[I+20];x[I+16]=Q;x[I+20]=b;j++}if(j==0)return 2;
if(B)console.log(Date.now()-D,"FWHT computed");D=Date.now();var p=[];T.mQ.Xn(0,j-1,p,x,new G(2*24));
if(B)console.log(Date.now()-D,"KD tree computed");D=Date.now();var k=new Uint32Array(X*K*4);for(var n=0;
n<j;n++){var Y=n,R=T.mQ.aME(Y,x,p,d);if(R==-1)continue;var m=Y*24,Z=R*24,E=x[m],N=x[m+1],h=x[Z],j5=x[Z+1];
g+=T.mQ.getError(Z,m,x,1e99);var r=h-E,l8=j5-N;k[(K+l8)*2*X+(X+r)]+=1}if(B)console.log(Date.now()-D,"NN found");
D=Date.now();var aP=[],bS=1/(2*X);for(var n=0;n<k.length;n++){if(k[n]>0){var w=Math.floor(n*bS),u=n-w*2*X;
aP.push({x:u-X,y:w-K,u:k[n],lq:-1})}}aP.sort(function(gr,hg){return hg.u-gr.u});var kR=new Int32Array(X*K),j1=[];
for(var n=0;n<X*K;n++){if(a[n]==255){kR[n]=j1.length>>>1;j1.push(n%X,Math.floor(n/X))}else if(z[(n<<2)+3]<200){kR[n]=-2}else{kR[n]=-1}}var f6=T.mQ.ajJ(X,K,aP,kR,j1);
if(f6==null){if(B)console.log("no appropriate labeling");return 3}var gx=f6.C4,top=f6.top;gx=T.mQ.afN(gx,z,X,K,top,kR,j1);
if(B)console.log(Date.now()-D,"optimal labeling found");D=Date.now();var A=P.Y();A.Gm(1,1);A=A.HX(F);
var lC=T.n(A.D()*4),g2=T.n(A.D());T.aF(H,F,lC,A);var dv=F.s,bv=F.T;for(var w=0;w<bv;w++)for(var u=0;
u<dv;u++){if(i[w*dv+u]==0)continue;var eo=Math.min(Math.floor(u/c),X-1),aL=Math.min(Math.floor(w/c),K-1),dh=kR[aL*X+eo];
if(dh==-1)continue;var eM=gx[dh],kg=top[eM],jJ=u+kg.x*c,iL=w+kg.y*c,bz=iL*dv+jJ<<2,ks=(w-A.y+F.y)*A.s+(u-A.x+F.x)<<2;
lC[ks]=H[bz];lC[ks+1]=H[bz+1];lC[ks+2]=H[bz+2];lC[ks+3]=H[bz+3];lC[ks+3]=H[bz+3];g2[ks>>2]=eM+1}if(B)console.log(Date.now()-D,"copied back");
D=Date.now();T.Aj.Fj(lC,g2,A,null,1e3);if(B)console.log(Date.now()-D,"poisson smooth");D=Date.now();
T.aF(lC,A,V,P);return 0};T.mQ.aqd=function(z,q,e,V,P,D){return T.mQ.rO(z+P.x,q+P.y,e,V,D)?0:1e9};T.mQ.afN=function(z,q,e,V,top,P,D){var B=Date.now(),A=D.length>>>1,s=[-1,0,0,-1,1,0,0,1],a=1e99,M=[],$=[],U=2*(A*2*3+A*2),o=null,t=0,c=0,H=0,F=1e99;
while(!0&&Date.now()<B+12e3){H++;var i=null,X=a;for(var K=0;K<top.length;K++){var f=top[K],d=0,L=A+2,G=0;
for(var n=0;n<A;n++){var x=D[n*2],O=D[n*2+1],v=top[z[n]],C=T.mQ.aqd(x,O,e,V,f,P),S=z[n]==K?1e9:T.mQ.aqd(x,O,e,V,v,P);
for(var hE=0;hE<4;hE++){if(hE==0&&x==0||hE==1&&O==0||hE==2&&x==e-1||hE==3&&O==V-1)continue;var j=s[2*hE],w=s[2*hE+1],u=x+j,l=O+w,I=P[l*e+u];
if(I==-2){}else if(I==-1){C+=3*T.mQ.O_(u+f.x,l+f.y,u,l,e,V,q,P);C+=2*T.mQ.O_(u+f.x+j,l+f.y+w,u+j,l+w,e,V,q,P);
S+=3*T.mQ.O_(u+v.x,l+v.y,u,l,e,V,q,P);S+=2*T.mQ.O_(u+v.x+j,l+v.y+w,u+j,l+w,e,V,q,P)}else if(hE>1){if(z[n]==z[I]){var Q=0;
Q+=T.mQ.O_(x+v.x,O+v.y,x+f.x,O+f.y,e,V,q,P);Q+=T.mQ.O_(u+v.x,l+v.y,u+f.x,l+f.y,e,V,q,P);M[d]=n;M[d+1]=I;
$[d]=Q;$[d+1]=Q;d+=2}else{var b=top[z[I]],p=L,k=0,g=0,Y=0;L++;k+=T.mQ.O_(x+v.x,O+v.y,x+f.x,O+f.y,e,V,q,P);
k+=T.mQ.O_(u+v.x,l+v.y,u+f.x,l+f.y,e,V,q,P);g+=T.mQ.O_(x+b.x,O+b.y,x+f.x,O+f.y,e,V,q,P);g+=T.mQ.O_(u+b.x,l+b.y,u+f.x,l+f.y,e,V,q,P);
Y+=T.mQ.O_(x+b.x,O+b.y,x+v.x,O+v.y,e,V,q,P);Y+=T.mQ.O_(u+b.x,l+b.y,u+v.x,l+v.y,e,V,q,P);M[d]=n;M[d+1]=p;
$[d]=k;$[d+1]=k;d+=2;M[d]=I;M[d+1]=p;$[d]=g;$[d+1]=g;d+=2;M[d]=p;M[d+1]=A+1;$[d]=Y;$[d+1]=0;d+=2}}}M[d]=A;
M[d+1]=n;$[d]=C;$[d+1]=0;d+=2;M[d]=n;M[d+1]=A+1;$[d]=S;$[d+1]=0;d+=2;G+=Math.min(C,S)}if(G>X)continue;
var R=T.v0.Xd(L,d,A,A+1,M,$,X);if(R.bv<X){X=R.bv;var m=z.slice(0);T.mQ.aKQ(m,d,M,R.ac_,K,A);i=m}}if(X*1>=a){break}a=X;
z=i;if((H&3)==0){if(X*1.03>=F)break;F=X}if((H&3)==0){var Z=0*top.length;for(var n=0;n<top.length&&top.length>Z;
n++){if(z.indexOf(n)!=-1)continue;top.splice(n,1);for(var I=0;I<z.length;I++)if(z[I]>n)z[I]--;n--}}}return z};
T.mQ.aKQ=function(z,q,e,V,P,D){for(var n=0;n<V.length;n++){var B=V[n]<<1,A=0,s=0;if(B<q){A=e[B];s=e[B+1]}else{s=e[B];
A=e[B+1]}if(A==D&&z[s]!=P)z[s]=P}};T.mQ.ab3=function(top,z,q,e,V,P,D,B,A){for(var n=0;n<q.length;n++){var s=q[n],a=!0;
if(B!=null&&!T.mQ.rO(B+s.x,A+s.y,P,D,e))continue;if(s.lq==-1)s.lq=T.mQ.aeh(s,e,V,P,D);if(s.lq<=0)continue;
for(var M=0;M<top.length;M++){var $=top[M],U=s.x-$.x,o=s.y-$.y;if(U*U+o*o<z){a=!1;break}}if(a)return s}return null};
T.mQ.aeh=function(z,q,e,V,P){var D=0;for(var n=0;n<e.length;n+=2){var B=e[n]+z.x,A=e[n+1]+z.y;if(T.mQ.rO(B,A,V,P,q))D++}return D/(e.length>>1)};
T.mQ.ajJ=function(z,q,e,V,P){var D=P.length>>>1,top=[];for(var n=0;n<60;n++){var B=T.mQ.ab3(top,25,e,V,P,z,q);
if(B==null)break;else top.push(B)}if(top.length==0)return null;var A=[];for(var n=0;n<D;n++){var s=P[n*2],a=P[n*2+1],M=-1,$=0;
while(!0){$++;var U=Math.random();M=Math.floor(U*.99999*top.length);var o=top[M],t=s+o.x,c=a+o.y;if(T.mQ.rO(t,c,z,q,V))break;
if($>1e3){var B;B=T.mQ.ab3(top,0,e,V,P,z,q,s,a);if(B==null)for(var H=0;H<4;H++){var F,i,X=0;while(!0){F=~~(Math.random()*z);
i=~~(Math.random()*q);if(T.mQ.rO(F,i,z,q,V))break;X++;if(X>500)throw"e"}B={x:F-s,y:i-a,u:1,lq:-1};e.push(B);
top.push(B)}else top.push(B);$=0}}A.push(M)}return{top:top,C4:A}};T.mQ.O_=function(z,q,e,V,P,D,B,A){if(z==e&&q==V)return 0;
if(z<0||q<0||z>=P||q>=D||e<0||V<0||e>=P||V>=D||A[q*P+z]!=-1||A[V*P+e]!=-1)return 1e7;var s=q*P+z<<2,a=V*P+e<<2,M=B[s]-B[a],$=B[s+1]-B[a+1],U=B[s+2]-B[a+2];
return 1+(M*M+$*$+U*U)};T.mQ.rO=function(z,q,e,V,P){return z>=0&&z<e&&q>=0&&q<V&&P[q*e+z]==-1};T.mQ.aME=function(z,q,e,V){var P=24*z,D=q[P],B=q[P+1],A=V*V,s=0,U=1e9;
while(e[s]!=99)if(q[P+e[s]]<e[s+1])s=e[s+2];else s=e[s+3];var a=e[s+1],M=e[s+2],$=-1;for(var n=a;n<=M;
n++){var s=n,o=s*24,t=q[o],c=q[o+1];if((t-D)*(t-D)+(c-B)*(c-B)<A)continue;var H=T.mQ.getError(o,P,q,U);
if(H<U){U=H;$=s}}return $};T.mQ.getError=function(z,q,e,V){var P=0;for(var D=4;D<24;D+=4){var B=e[q+D]-e[z+D],A=e[q+D+1]-e[z+D+1],s=e[q+D+2]-e[z+D+2],a=e[q+D+3]-e[z+D+3];
P+=B*B+A*A+s*s+a*a;if(P>=V)return P+1}return P};T.mQ.Xn=function(z,q,e,V,P){var D=16,U=0;if(q-z<=D){e.push(99,z,q);
return}T.mQ.mB(z,q,V,P);var B=-1,A=-1;for(var n=4;n<24;n++){var s=P[2*n+1]-P[2*n];if(s>A){A=s;B=n}}var a=z+q>>1,M=T.mQ.a3S(a,z,q,V,B),$=-1;
for(var n=z;n<=q;n++)if(V[24*n+B]==M){if($==-1)$=n;U=n}if(z+8<$&&$-z>q-U)a=$;else if(U+1<q-8)a=U+1;else if(q-z<64){e.push(99,z,q);
return}else a=a;var o=e.length;e.push(B,M,0,0);e[o+2]=o+4;T.mQ.Xn(z,a-1,e,V,P);e[o+3]=e.length;T.mQ.Xn(a,q,e,V,P)};
T.mQ.mB=function(z,q,e,V){for(var n=0;n<48;n+=4){V[n]=3e4;V[n+1]=-3e4;V[n+2]=3e4;V[n+3]=-3e4}for(var n=z;
n<=q;n++){var P=n*24;for(var D=0;D<24;D++){var B=e[P+D],A=V[D<<1],s=V[(D<<1)+1];if(B<A)V[D<<1]=B;if(B>s)V[(D<<1)+1]=B}}};
T.mQ.u3=function(z,q,e){var V=0,n=0;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;
n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;
n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;
n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;
n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;
n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;
n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;
n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;
n++;V=e[z+n];e[z+n]=e[q+n];e[q+n]=V;n++};T.mQ.dp=function(z,q,e,V){var P=e+V>>>1,D=z[24*P+q];while(e<=V){while(z[24*e+q]<D)e++;
while(z[24*V+q]>D)V--;if(e<=V){if(z[24*e+q]!=z[24*V+q])T.mQ.u3(e*24,V*24,z);e++;V--}}return e};T.mQ.a3S=function(z,q,e,V,P){var D=0;
while(q!=e){D=T.mQ.dp(V,P,q,e);if(z<D)e=D-1;else q=D}return V[z*24+P]};T.mQ.Yh=function(z,q,e,V){for(var n=0;
n<V;n++)q[e+n]=z[n]};T.mQ.a6w=function(z,q,e,V,P,D,B,A,s){var a=(V-3)*P+(e-3),M=a<<2;for(var $=0;$<8;
$++){if(q[a]+q[a+1]+q[a+2]+q[a+3]+q[a+4]+q[a+5]+q[a+6]+q[a+7]!=0||z[M+3]<200||z[M+7]<200||z[M+11]<200||z[M+15]<200||z[M+19]<200||z[M+23]<200||z[M+27]<200||z[M+31]<200)return 1;
var n=$<<3;B[n+0]=z[M+0];A[n+0]=z[M+1];s[n+0]=z[M+2];B[n+1]=z[M+4];A[n+1]=z[M+5];s[n+1]=z[M+6];B[n+2]=z[M+8];
A[n+2]=z[M+9];s[n+2]=z[M+10];B[n+3]=z[M+12];A[n+3]=z[M+13];s[n+3]=z[M+14];B[n+4]=z[M+16];A[n+4]=z[M+17];
s[n+4]=z[M+18];B[n+5]=z[M+20];A[n+5]=z[M+21];s[n+5]=z[M+22];B[n+6]=z[M+24];A[n+6]=z[M+25];s[n+6]=z[M+26];
B[n+7]=z[M+28];A[n+7]=z[M+29];s[n+7]=z[M+30];M+=P<<2;a+=P}return 0};T.mQ.yU=function(z,q){q[0]=z[32]+z[0];
q[1]=z[33]+z[1];q[2]=z[34]+z[2];q[3]=z[35]+z[3];q[4]=z[36]+z[4];q[5]=z[37]+z[5];q[6]=z[38]+z[6];q[7]=z[39]+z[7];
q[8]=z[40]+z[8];q[9]=z[41]+z[9];q[10]=z[42]+z[10];q[11]=z[43]+z[11];q[12]=z[44]+z[12];q[13]=z[45]+z[13];
q[14]=z[46]+z[14];q[15]=z[47]+z[15];q[16]=z[48]+z[16];q[17]=z[49]+z[17];q[18]=z[50]+z[18];q[19]=z[51]+z[19];
q[20]=z[52]+z[20];q[21]=z[53]+z[21];q[22]=z[54]+z[22];q[23]=z[55]+z[23];q[24]=z[56]+z[24];q[25]=z[57]+z[25];
q[26]=z[58]+z[26];q[27]=z[59]+z[27];q[28]=z[60]+z[28];q[29]=z[61]+z[29];q[30]=z[62]+z[30];q[31]=z[63]+z[31];
q[32]=z[0]-z[32];q[33]=z[1]-z[33];q[34]=z[2]-z[34];q[35]=z[3]-z[35];q[36]=z[4]-z[36];q[37]=z[5]-z[37];
q[38]=z[6]-z[38];q[39]=z[7]-z[39];q[40]=z[8]-z[40];q[41]=z[9]-z[41];q[42]=z[10]-z[42];q[43]=z[11]-z[43];
q[44]=z[12]-z[44];q[45]=z[13]-z[45];q[46]=z[14]-z[46];q[47]=z[15]-z[47];q[48]=z[16]-z[48];q[49]=z[17]-z[49];
q[50]=z[18]-z[50];q[51]=z[19]-z[51];q[52]=z[20]-z[52];q[53]=z[21]-z[53];q[54]=z[22]-z[54];q[55]=z[23]-z[55];
q[56]=z[24]-z[56];q[57]=z[25]-z[57];q[58]=z[26]-z[58];q[59]=z[27]-z[59];q[60]=z[28]-z[60];q[61]=z[29]-z[61];
q[62]=z[30]-z[62];q[63]=z[31]-z[63];z[0]=q[16]+q[0];z[1]=q[17]+q[1];z[2]=q[18]+q[2];z[3]=q[19]+q[3];
z[4]=q[20]+q[4];z[5]=q[21]+q[5];z[6]=q[22]+q[6];z[7]=q[23]+q[7];z[8]=q[24]+q[8];z[9]=q[25]+q[9];z[10]=q[26]+q[10];
z[11]=q[27]+q[11];z[12]=q[28]+q[12];z[13]=q[29]+q[13];z[14]=q[30]+q[14];z[15]=q[31]+q[15];z[16]=q[0]-q[16];
z[17]=q[1]-q[17];z[18]=q[2]-q[18];z[19]=q[3]-q[19];z[20]=q[4]-q[20];z[21]=q[5]-q[21];z[22]=q[6]-q[22];
z[23]=q[7]-q[23];z[24]=q[8]-q[24];z[25]=q[9]-q[25];z[26]=q[10]-q[26];z[27]=q[11]-q[27];z[28]=q[12]-q[28];
z[29]=q[13]-q[29];z[30]=q[14]-q[30];z[31]=q[15]-q[31];q[0]=z[8]+z[0];q[1]=z[9]+z[1];q[2]=z[10]+z[2];
q[3]=z[11]+z[3];q[4]=z[12]+z[4];q[5]=z[13]+z[5];q[6]=z[14]+z[6];q[7]=z[15]+z[7];q[8]=z[0]-z[8];q[9]=z[1]-z[9];
q[10]=z[2]-z[10];q[11]=z[3]-z[11];q[12]=z[4]-z[12];q[13]=z[5]-z[13];q[14]=z[6]-z[14];q[15]=z[7]-z[15];
z[0]=q[4]+q[0];z[1]=q[5]+q[1];z[2]=q[6]+q[2];z[3]=q[7]+q[3];z[4]=q[0]-q[4];z[5]=q[1]-q[5];z[6]=q[2]-q[6];
z[7]=q[3]-q[7];z[8]=q[12]+q[8];z[9]=q[13]+q[9];z[10]=q[14]+q[10];z[11]=q[15]+q[11];z[12]=q[8]-q[12];
z[13]=q[9]-q[13];z[14]=q[10]-q[14];z[15]=q[11]-q[15];q[0]=z[2]+z[0];q[1]=z[3]+z[1];q[2]=z[0]-z[2];q[3]=z[1]-z[3];
q[4]=z[6]+z[4];q[5]=z[7]+z[5];q[6]=z[4]-z[6];q[7]=z[5]-z[7];q[8]=z[10]+z[8];q[9]=z[11]+z[9];q[10]=z[8]-z[10];
q[11]=z[9]-z[11];q[12]=z[14]+z[12];q[13]=z[15]+z[13];q[14]=z[12]-z[14];q[15]=z[13]-z[15];z[0]=q[1]+q[0];
z[1]=q[0]-q[1];z[2]=q[3]+q[2];z[3]=q[2]-q[3];z[4]=q[5]+q[4];z[5]=q[4]-q[5];z[6]=q[7]+q[6];z[7]=q[6]-q[7];
z[8]=q[9]+q[8];z[9]=q[8]-q[9];z[10]=q[11]+q[10];z[11]=q[10]-q[11];z[12]=q[13]+q[12];z[13]=q[12]-q[13];
z[14]=q[15]+q[14];z[15]=q[14]-q[15]};T.mQ.asf=function(){var z="",hE=64,q="v",e="t",V="a",P=5,n,D,B;
for(n=hE>>1;n>0;n>>=1,P--){for(D=0;D<hE;D++){B=(D>>P&1)!=0;if(B){z+=e+"["+D+"] = "+q+"["+(-n+D)+"] - "+q+"["+D+"];  "}else{z+=e+"["+D+"] = "+q+"["+(n+D)+"] + "+q+"["+D+"];  "}}V=q;
q=e;e=V;z+="\n"}console.log(z)};T.mQ.aaX=function(hE,z,q){var e=z,V=q,P=e,D=0,n,A,s;while(hE>>D!=2)D++;
var B=D;for(n=hE>>1;n>0;n>>=1,D--){for(A=0;A<hE;A++){s=(A>>D&1)!=0;if(s)V[A]=e[-n+A]-e[A];else V[A]=e[n+A]+e[A]}P=e;
e=V;V=P}if((B&1)==1)for(n=0;n<hE;n++)q[n]=e[n]};T.kB={};T.kB.mu=function(z,q,e,V,P,D,B,A,s){var a=Date.now(),M=new Uint32Array(z.buffer),$=new Uint32Array(q.buffer),U=B/e,o=A/V,t=1/U,c=1/o,H=new Float64Array(2),F=3,i=1/F,X=1/(F*F),K=0,f=0,d=e,L=V;
if(P){K=P.x;f=P.y;d=P.s;L=P.T}for(var G=0;G<L;G++)for(var x=0;x<d;x++){var O=K+x,v=f+G,n=v*e+O,C=n<<1,S=n<<2;
T.kB.aPF(D,B,A,(O+.5)*U,(v+.5)*o,H);var j=H[0]*t,w=H[1]*c;if(j==0&&w==0)$[n]=M[n];else{T.O.Yw(O+j+.5,v+w+.5,M,e,V,$,n,s)}}};
T.kB.aPF=function(z,q,e,V,P,D){V-=.499999;P-=.499999;var B=~~V,A=~~P,s=V-B,a=P-A,M=(1-a)*(1-s),$=(1-a)*s,U=a*(1-s),o=a*s,t=B<q-1?B+1:B,c=A<e-1?A+1:A,H=A*q+B<<1,F=A*q+t<<1,i=c*q+B<<1,X=c*q+t<<1;
D[0]=M*z[H]+$*z[F]+U*z[i]+o*z[X];D[1]=M*z[H+1]+$*z[F+1]+U*z[i+1]+o*z[X+1]};T.kB.amP=function(z,q,e,V,P){var D=1/z,B=[-1,1,-z,z],A=V.length;
for(var s=0;s<A;s++){var n=V[s],a=n<<1,M=s<<1,$=~~(n*D),U=n-z*$,o=e[a],t=e[a+1],c=0,H=0;if(U!=0&&U!=z-1){var F=n-1<<1,i=n+1<<1,X=e[F],K=e[i],f=e[F+1],d=e[i+1],L=o-(X+K)*.5,G=t-(f+d)*.5;
c-=L*P;H-=G*P}if($!=0&&$!=q-1){var F=n-z<<1,i=n+z<<1,X=e[F],K=e[i],f=e[F+1],d=e[i+1],L=o-(X+K)*.5,G=t-(f+d)*.5;
c-=L*P;H-=G*P}e[a]=o+c;e[a+1]=t+H}};T.kB.aIL=function(z,q){var e=z+","+q;if(T.kB.avq==e)return T.kB.acy;
var V=T.kB.acy=[];T.kB.avq=e;for(var n=0;n<=1e3;n++){var P=n*.001,D=Math.sqrt(P),B=Math.exp(-4*D),A=.96*(1-D*D),s=q*((1-z)*B+z*A);
V[n]=s}return V};T.kB.avq="";T.kB.acy=[];T.kB.aCP=function(z,q,e,V,P,D,B,A,s,a,M,$,U){var o=Math.max(0,Math.floor(P-B-1)),t=Math.min(q,Math.ceil(P+B+1)),c=Math.max(0,Math.floor(D-B-1)),H=Math.min(e,Math.ceil(D+B+1)),F=2*q,i=B*B,X=1/B,K=0;
if(U&&(V==3||V==6))s=-s;var f=T.kB.aIL(A,s);for(var d=c;d<H;d++)for(var L=o;L<t;L++){var n=d*q+L,G=n<<1,x=(P-L)*X,O=(D-d)*X,v=x*x+O*O;
if(v<1){$[K]=n;var C=f[~~(v*1e3)];if(V==1){z[G]=z[G]*(1-C*.05);z[G+1]=z[G+1]*(1-C*.05)}else{var S=0,j=0,l,I,Q,b;
if(V==0){S=a*C;j=M*C}else if(V==2){}else if(V==3){S=C*O;j=-C*x}else if(V==4){S=C*x;j=C*O}else if(V==5){S=-C*x;
j=-C*O}else if(V==6){S=M*C;j=-a*C}var w=z[G],u=z[G+1];if(L==0||L!=q-1&&S<0){l=1+z[G+2]-w;Q=z[G+3]-u}else{l=w-z[G-2]+1;
Q=u-z[G-1]}if(d==0||d!=e-1&&j<0){I=z[G+F]-w;b=1+z[G+F+1]-u}else{I=w-z[G-F];b=u-z[G-F+1]+1}z[G]=-(l*S+I*j-w);
z[G+1]=-(Q*S+b*j-u)}K++}}};T.kB.ah8=function(z){var q=z[0],e=z[0],V=z[1],P=z[1];for(var n=0;n<z.length;
n+=2){var D=z[n],B=z[n+1];if(D<q)q=D;else if(D>e)e=D;if(B<V)V=B;else if(B>P)P=B}return[q,V,e,P]};T.av9=function(z,q,e,V,P){function D(h,j5,r,l8){return Math.sqrt((h-r)*(h-r)+(j5-l8)*(j5-l8))}function B(h,j5){return h>=0&&h<q&&j5>=0&&j5<e}function A(h){if(h<0)return 0;
if(h>=q)return q-1;return h}function s(h){if(h<0)return 0;if(h>=e)return e-1;return h}function a(n,h){var j5=h[3]*(1/255),r=V[n]+h[0]*j5;
if(r>255)r=255;V[n]=r;r=V[n+1]+h[1]*j5;if(r>255)r=255;V[n+1]=r;r=V[n+2]+h[2]*j5;if(r>255)r=255;V[n+2]=r}function M(h,j5,r){if(!p(h,j5))return;
if(r[3]<0)r[3]=0;a((j5*q+h)*4,r)}function $(h){var j5=h.slice(0,3);j5[3]=0;return j5}var U=q/800;function o(h){return Math.round(h*U)}function t(){for(var n=0;
n<=300;n++){g[n]=c(n)}}function c(e){var h=.8,j5=.2,r=h*j5,l8=e/60%2-1,aP=r*(1-l8*l8),bS=j5-r,kR;if(e<60){kR=[r+bS,aP,0]}else if(e<120){kR=[aP,r,0]}else if(e<180){kR=[0,r,aP]}else if(e<240){kR=[0,aP,r]}else if(e<300){kR=[aP,0,r]}else{kR=[r,0,aP]}return[(kR[0]+bS)*255,(kR[1]+bS)*255,(kR[2]+bS)*255]}function H(e){return g[~~e]}function F(h){return 1-i(h)}function i(h){return h-~~h}function X(h,j5,r,l8){Q(h,j5,r,0,j5+1,1,l8)}function K(h,j5,r,l8,aP,bS){Q(h,j5,r,0,l8,1,aP,bS)}function f(h){for(var n=0;
n<V.length;n+=4){a(n,h)}}function d(h,j5,r,l8,aP,bS,kR,j1){L(h,j5,r,l8,aP,1,bS,kR,j1)}function L(h,j5,r,l8,aP,bS,kR,j1,f6){if(bS==null)bS=.5;
if(kR==null)kR=0;if(j1==null)j1=0;if(f6==null)f6=!1;var gx=h.x,lC=h.y,g2=r.slice(0),dv=~~(r[3]*R);l8=l8*R;
if(!f6){j5=b(j5);aP=b(aP);kR=b(kR);j1=b(j1)}var bv=A(gx-j5),eo=A(gx+j5);for(var aL=bv;aL<=eo;aL++){var dh=aL-gx,eM=Math.floor(Math.sqrt(j5*j5-dh*dh)),kg=s(lC-eM),jJ=s(lC);
for(var iL=kg;iL<=jJ;iL++){var bz=D(aL,iL,gx,lC);if(bz>j5||bz<=j5-aP)break;var ks=(bz-j5+aP)/aP;g2[3]=dv-l8*(bS==1?ks:Math.pow(ks,bS));
a((iL*q+aL)*4,g2)}kg=s(lC+eM);for(var iL=kg;iL>jJ;iL--){var bz=D(aL,iL,gx,lC);if(bz>j5||bz<=j5-aP)break;
var ks=(bz-j5+aP)/aP;g2[3]=dv-l8*(bS==1?ks:Math.pow(ks,bS));a((iL*q+aL)*4,g2)}}if(kR>0){Q(h,j5+kR,g2,g2[3],kR,1,0,0,!0)}if(j1>0){Q(h,j5-aP,k(r),-r[3],j1,1,0,0,!0)}}function G(h,j5,r,l8,aP,bS){Q(h,j5,r,r[3],j5+1,1,l8,aP,bS)}function x(h,j5,r,l8,aP){if(aP==null)aP=!1;
var bS=h.x,kR=h.y;l8*=R;if(!aP){j5=b(j5);r=b(r)}var j1=A(bS-j5),f6=A(bS+j5);for(var gx=j1;gx<f6;gx++){var lC=gx-bS,g2=~~Math.sqrt(j5*j5-lC*lC),dv=s(kR-g2),bv=s(kR);
for(var eo=dv;eo<=bv;eo++){var aL=D(gx,eo,bS,kR);if(aL>j5||aL<=j5-r)break;var dh=(j5-aL)/r,eM=H(300*dh);
eM[3]=l8;a((eo*q+gx)*4,eM)}dv=s(kR+g2);for(var eo=dv;eo>bv;eo--){var aL=D(gx,eo,bS,kR);if(aL>j5||aL<=j5-r)break;
var dh=(j5-aL)/r,eM=H(300*dh);eM[3]=l8;a((eo*q+gx)*4,eM)}}}function O(Y,h){var j5=Y.kb,r=Y.Ya,l8=h.slice(0),aP=h[3]*R,bS=Math.abs(r.y-j5.y)>Math.abs(r.x-j5.x);
if(bS){var kR=j5.x;j5.x=j5.y;j5.y=kR;kR=r.x;r.x=r.y;r.y=kR}if(j5.x>r.x){var kR=j5;j5=r;r=kR}var j1=r.x-j5.x,f6=r.y-j5.y,gx=j1==0?1:f6/j1,lC=Math.round(j5.x),g2=j5.y+gx*(lC-j5.x),dv=F(j5.x+.5),bv=lC,eo=~~g2;
if(bS){l8[3]=aP*F(g2)*dv;M(eo,bv,l8);l8[3]=aP*i(g2)*dv;M(eo+1,bv,l8)}else{l8[3]=aP*F(g2)*dv;M(bv,eo,l8);
l8[3]=aP*i(g2)*dv;M(bv,eo+1,l8)}var aL=g2-gx;lC=Math.round(r.x);g2=r.y+gx*(lC-r.x);dv=i(r.x+.5);var dh=lC,eM=~~g2;
if(bS){l8[3]=aP*F(g2)*dv;M(eM,dh,l8);l8[3]=aP*i(g2)*dv;M(eM+1,dh,l8)}else{l8[3]=aP*F(g2)*dv;M(dh,eM,l8);
l8[3]=aP*i(g2)*dv;M(dh,eM+1,l8)}if(bS){for(var kg=bv+1;kg<=dh-1;kg++){l8[3]=aP*F(aL);M(~~aL,kg,l8);l8[3]=aP*i(aL);
M(~~aL+1,kg,l8);aL+=gx}}else{for(var kg=bv+1;kg<=dh-1;kg++){l8[3]=aP*F(aL);M(kg,~~aL,l8);l8[3]=aP*i(aL);
M(kg,~~aL+1,l8);aL+=gx}}}function v(h,j5,r,l8){for(var n=0;n<4;n++){var aP=h.Yb(j5+1.3*n,r);O(aP,l8,1)}}function f5(h,j5){this.x=Math.round(h);
this.y=Math.round(j5)}var C=Math.PI/180;f5.prototype.Yb=function(h,j5){h=h*C;var r=this.x+j5*Math.cos(h),l8=this.y+j5*Math.sin(h);
return new S(this.x,this.y,r,l8)};f5.prototype.a0S=function(h,j5){h=h*C;var r=this.s$+j5*Math.cos(h),l8=this.$l+j5*Math.sin(h);
return new f5(r,l8)};function S(h,j5,r,l8){this.kb=new f5(h,j5);this.Ya=new f5(r,l8)}S.prototype.i_=function(h){var j5=h*this.kb.x+(1-h)*this.Ya.x,r=h*this.kb.y+(1-h)*this.Ya.y;
return new f5(j5,r)};var j=d,w=G,u=X,l=K,I=x,Q=L,b=o,p=B,k=$,g=[];t();for(var n=0;n<z.length;n++){V[n]=z[n]}var Y=new S(q*P[2],e*P[3],q/2,e/2),R=P[1],m=[];
m[0]=function Z(){var h=[80,40,15,60],r=0,l8=0;u(Y.i_(1.4),260,h,10);u(Y.i_(1),100,[240,50,50,30],30);
w(Y.i_(1),60,[255,40,0,40]);var j5=[255,255,255,255];Q(Y.i_(1),70,j5,j5[3],58,.5);u(Y.i_(1),12,j5);j5[3]=40;
j(Y.i_(1),150,j5,j5[3],150);for(var n=0;n<40;n++){r+=Math.random()*25;l8=Math.random()*b(300)+b(100);
var aP=Y.i_(1).Yb(r,l8);O(Y.i_(1).Yb(r,l8),[110,110,110,30])}w(Y.i_(1),130,[255,255,255,8]);var bS=[170,30,23,70];
l(Y.i_(1),70,bS,1,3,3);var kR=[60,60,130,40];u(Y.i_(.47),44,kR,5);u(Y.i_(.43),22,kR,3);kR[3]=16;u(Y.i_(.53),15,kR,2);
var j1=[138,94,42,100];u(Y.i_(.2),16,j1,2);var f6=[130,255,170,180];w(Y.i_(0),4,f6);w(Y.i_(-.25),5,f6);
j1=[150,90,0,50];j(Y.i_(-.45),55,k(j1),-j1[3],40,2);u(Y.i_(-.42),35,j1,2);u(Y.i_(-.5),15,j1,2);I(Y.i_(-1.28),145,11,70);
var gx=H(0);gx[3]=50;j(Y.i_(-1.28),149,gx,gx[3],4);gx=H(300);gx[3]=50;j(Y.i_(-1.28),155-1,k(gx),-gx[3],3);
var lC=[130,130,10,50];l(Y.i_(-1),73,lC,3,2);var g2=[40,130,70,40];j(Y.i_(-1),70,k(g2),-g2[3],35);g2=[40,170,60,50];
u(Y.i_(-.7),25,g2,4);var g2=[70,110,50,60];j(Y.i_(1.3),30,k(g2),-g2[3],11,3);kR=[0,50,210,80];w(Y.i_(-.72),20,kR)};
m[1]=function E(){w(Y.i_(1),150,[240,70,70,60]);u(Y.i_(1),100,[200,60,60,40],30);var h=[255,255,255,255],j5=0,r=0;
Q(Y.i_(1),75,h,h[3],63);u(Y.i_(1),12,h);w(Y.i_(1),270,[200,200,200,20],10);for(var n=0;n<10;n++){j5+=10+Math.random()*40;
r=Math.random()*b(250)+b(80);var l8=Y.i_(1).Yb(j5,r);O(l8,[110,110,110,35])}j5=5;r=100;for(var n=0;n<12;
n++){j5+=30;v(Y.i_(1),j5,r,[90,90,90,40])}var aP=[150,40,23,100];l(Y.i_(1),70,aP,1,3,3);var bS=[30,100,60,40];
w(Y.i_(-.9),180,[255,255,255,20]);u(Y.i_(-.9),140,bS,15);var kR=[170,80,25,15];l(Y.i_(-.9),120,kR,1,4,4);
var j1=[110,240,190,200];w(Y.i_(-.6),3,j1);j1[3]=100;w(Y.i_(-.6),7,j1);var f6=[230,120,40,85];w(Y.i_(-.73),9,f6);
var gx=[60,60,190,50];u(Y.i_(.3),28,gx,6);gx[3]=25;u(Y.i_(.34),20,gx,3)};m[2]=function N(){var h=[255,255,255,255],r=0,l8=0;
u(Y.i_(1),13,h);Q(Y.i_(1),150,h,h[3],137);var j5=[120,80,35,20];u(Y.i_(1.4),260,j5,10);for(var n=0;n<40;
n++){r+=5+Math.random()*30;l8=Math.random()*b(300);O(Y.i_(1).Yb(r,l8),[110,110,110,20])}var aP=[10,30,255,30];
u(Y.i_(1),70,aP,50);var bS=[15,90,170,15];u(Y.i_(1.5),60,bS);var kR=[220,220,20,50];u(Y.i_(-1.15),8,kR,2);
var h=[255,255,255,40];w(Y.i_(-1.18),6,h);w(Y.i_(-1.18),4,h);kR=[110,110,10,8];j(Y.i_(-1.2),32,k(kR),-kR[3],20,3);
var j1=[5,0,16,255];for(var n=0;n<4;n++){u(Y.i_(-1.36),10,j1,3)}var f6=[90,200,150,20],gx=f6.slice(0);
gx[3]*=2;u(Y.i_(-1.32),7,gx,3);u(Y.i_(-1.36),7,gx,3);u(Y.i_(-1.4),7,gx,3);var h=[230,230,230,100];w(Y.i_(-1.36),2,h);
h[3]=3;u(Y.i_(-.55),10,h);kR=[120,100,10,18];u(Y.i_(-.55),160,kR,8);u(Y.i_(-.55),80,kR,4);f6[3]=3;gx[3]=6;
j(Y.i_(-.49),13,k(gx),-gx[3],13,2);j(Y.i_(-.55),13,k(gx),-gx[3],13,2);f6[3]=20;u(Y.i_(.15),25,f6,3);
kR[3]=100;w(Y.i_(-.52),3,kR);kR=[200,200,50,40];u(Y.i_(.27),1,kR,4);var lC=[150,40,23,30];j(Y.i_(1),80,k(lC),-lC[3],2,1)};
return m[P[0]]()};T.Hn={};T.Hn.TL=function(z){var q=z.length,hE=z[0].length,e=new Array(hE);for(var n=0;
n<hE;n++)e[n]=new Array(q);for(var n=0;n<hE;n++)for(var V=0;V<q;V++)e[n][V]=z[V][n];return e};T.Hn.SV=function(z,q){var e=z.length,hE=z[0].length,V=new Array(e);
for(var n=0;n<e;n++)V[n]=new Array(hE);for(var n=0;n<e;n++)for(var P=0;P<hE;P++)V[n][P]=z[n][P]-q[n][P];
return V};T.Hn.add=function(z,q){var e=z.length,hE=z[0].length,V=new Array(e);for(var n=0;n<e;n++)V[n]=new Array(hE);
for(var n=0;n<e;n++)for(var P=0;P<hE;P++)V[n][P]=z[n][P]+q[n][P];return V};T.Hn.multiply=function(z,q){var e=z.length,V=z[0].length,hE=q[0].length;
if(V!=q.length)throw"e";var P=new Array(e);for(var n=0;n<e;n++)P[n]=new Array(hE);if((V&1)!=0)for(var n=0;
n<e;n++){var D=z[n],B=P[n];for(var A=0;A<hE;A++){var s=0;for(var a=0;a<V;a++)s+=D[a]*q[a][A];B[A]=s}}else for(var n=0;
n<e;n++){var D=z[n],B=P[n];for(var A=0;A<hE;A++){var s=0;for(var a=0;a<V;a+=2)s+=D[a]*q[a][A]+D[a+1]*q[a+1][A];
B[A]=s}}return P};T.Hn.bP=function(z,q){var e=z.length,hE=z[0].length,V=new Array(e);for(var n=0;n<e;
n++){var P=0;for(var D=0;D<hE;D++)P+=z[n][D]*q[D];V[n]=P}return V};T.Hn.H1=function(z,q){var e=[];for(var n=0;
n<z;n++){e.push([]);for(var V=0;V<q;V++)e[n].push(0)}return e};T.Hn.aeH=function(z){for(var n=0;n<z.length;
n++)console.log(JSON.stringify(z[n]))};T.Hn.am$=function(z){var q=[];for(var n=0;n<z.length;n++)q.push(z[n].join(","));
return"["+q.join(";")+"]"};T.Hn.Xd=function(z,q){var e=z.length;for(var V=0;V<e;V++){var P=0,D=Number.NEGATIVE_INFINITY;
for(var n=V;n<e;n++)if(Math.abs(z[n][V])>D){P=n;D=Math.abs(z[n][V])}T.Hn.ajc(z,V,P);for(var n=V+1;n<e;
n++){if(z[V][V]==0)return 1;var B=z[n][V]/z[V][V];for(var A=V;A<e+1;A++)z[n][A]-=z[V][A]*B}}for(var n=e-1;
n>=0;n--){if(z[n][n]==0)return 1;var s=z[n][e]/z[n][n];q[n]=s;for(var A=n-1;A>=0;A--){z[A][e]-=z[A][n]*s;
z[A][n]=0}}return 0};T.Hn.ajc=function(z,q,e){var V=z[q];z[q]=z[e];z[e]=V};T.Hn.a56=function(z){var q=z.length,e=T.Hn.H1(q,q);
for(var n=0;n<q;n++)e[n][n]=z[n];return e};T.Hn.az0=function(z){var q=z.length,e=z[0].length,V=new Array(q);
for(var n=0;n<q;n++){V[n]=0;for(var P=0;P<e;P++)V[n]+=z[n][P];V[n]/=e}return V};T.Hn.hO=function(z){var q=0;
for(var n=0;n<z.length;n++)q+=z[n]*z[n];return Math.sqrt(q)};T.DB={};T.DB.Mz=function(z){var q=~~(z+.5);
return q<0?0:q>255?255:q};T.DB.mK=function(z,q,e){function V(s){return Math.max(0,Math.min(1,s))}var P=z.l.length;
for(var n=0;n<P;n++){var D=z.l[n],B=z.I[n],A=z.c[n];q.l[n]=V(e[0]*D+e[1]*B+e[2]*A+e[3]);q.I[n]=V(e[4]*D+e[5]*B+e[6]*A+e[7]);
q.c[n]=V(e[8]*D+e[9]*B+e[10]*A+e[11])}};T.DB.a0q=function(z,q,e){var V=T.Gx(z),P=V==8?255:V==16?65535:1,D=1/P,B=z.length;
function A($){return Math.max(0,Math.min(1,$))}for(var n=0;n<B;n+=4){var s=z[n]*D,a=z[n+1]*D,M=z[n+2]*D;
q[n]=P*A(e[0]*s+e[1]*a+e[2]*M+e[3]);q[n+1]=P*A(e[4]*s+e[5]*a+e[6]*M+e[7]);q[n+2]=P*A(e[8]*s+e[9]*a+e[10]*M+e[11])}};
T.DB.a35=function(z){var q=z[0]+z[1]+z[2],e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];if(q==1){var V=z.indexOf(1);
e[V]=e[V+4]=e[V+8]=1}else{e[0]=z[0];e[5]=z[1];e[10]=z[2]}return e};T.DB.Kf=function(z,q,e){return[1,0,0,z,0,1,0,q,0,0,1,e,0,0,0,1]};
T.DB.pK=function(z,q,e){return[z,0,0,0,0,q,0,0,0,0,e,0,0,0,0,1]};T.DB.aNB=function(z){return[z[0],z[1],z[2],z[4],z[5],z[6],z[8],z[9],z[10]]};
T.DB.Su=function(z){return[z[0],z[1],z[2],0,z[3],z[4],z[5],0,z[6],z[7],z[8],0,0,0,0,1]};T.DB.kF=function(z,q){return[z[0]*q[0]+z[1]*q[1]+z[2]*q[2]+z[3]*q[3],z[4]*q[0]+z[5]*q[1]+z[6]*q[2]+z[7]*q[3],z[8]*q[0]+z[9]*q[1]+z[10]*q[2]+z[11]*q[3],z[12]*q[0]+z[13]*q[1]+z[14]*q[2]+z[15]*q[3]]};
T.DB.TL=function(z){var q=[];q[0]=z[0];q[1]=z[4];q[2]=z[8];q[3]=z[12];q[4]=z[1];q[5]=z[5];q[6]=z[9];
q[7]=z[13];q[8]=z[2];q[9]=z[6];q[10]=z[10];q[11]=z[14];q[12]=z[3];q[13]=z[7];q[14]=z[11];q[15]=z[15];
return q};T.DB.add=function(z,q){var e=z.slice(0);for(var n=0;n<16;n++)e[n]+=q[n];return e};T.DB.multiply=function(z,q){var e=[];
e[0]=z[0]*q[0]+z[1]*q[4]+z[2]*q[8]+z[3]*q[12];e[1]=z[0]*q[1]+z[1]*q[5]+z[2]*q[9]+z[3]*q[13];e[2]=z[0]*q[2]+z[1]*q[6]+z[2]*q[10]+z[3]*q[14];
e[3]=z[0]*q[3]+z[1]*q[7]+z[2]*q[11]+z[3]*q[15];e[4]=z[4]*q[0]+z[5]*q[4]+z[6]*q[8]+z[7]*q[12];e[5]=z[4]*q[1]+z[5]*q[5]+z[6]*q[9]+z[7]*q[13];
e[6]=z[4]*q[2]+z[5]*q[6]+z[6]*q[10]+z[7]*q[14];e[7]=z[4]*q[3]+z[5]*q[7]+z[6]*q[11]+z[7]*q[15];e[8]=z[8]*q[0]+z[9]*q[4]+z[10]*q[8]+z[11]*q[12];
e[9]=z[8]*q[1]+z[9]*q[5]+z[10]*q[9]+z[11]*q[13];e[10]=z[8]*q[2]+z[9]*q[6]+z[10]*q[10]+z[11]*q[14];e[11]=z[8]*q[3]+z[9]*q[7]+z[10]*q[11]+z[11]*q[15];
e[12]=z[12]*q[0]+z[13]*q[4]+z[14]*q[8]+z[15]*q[12];e[13]=z[12]*q[1]+z[13]*q[5]+z[14]*q[9]+z[15]*q[13];
e[14]=z[12]*q[2]+z[13]*q[6]+z[14]*q[10]+z[15]*q[14];e[15]=z[12]*q[3]+z[13]*q[7]+z[14]*q[11]+z[15]*q[15];
return e};T.DB.TG=function(z){var q=[];q[0]=z[5]*z[10]*z[15]-z[5]*z[14]*z[11]-z[6]*z[9]*z[15]+z[6]*z[13]*z[11]+z[7]*z[9]*z[14]-z[7]*z[13]*z[10];
q[1]=-z[1]*z[10]*z[15]+z[1]*z[14]*z[11]+z[2]*z[9]*z[15]-z[2]*z[13]*z[11]-z[3]*z[9]*z[14]+z[3]*z[13]*z[10];
q[2]=z[1]*z[6]*z[15]-z[1]*z[14]*z[7]-z[2]*z[5]*z[15]+z[2]*z[13]*z[7]+z[3]*z[5]*z[14]-z[3]*z[13]*z[6];
q[3]=-z[1]*z[6]*z[11]+z[1]*z[10]*z[7]+z[2]*z[5]*z[11]-z[2]*z[9]*z[7]-z[3]*z[5]*z[10]+z[3]*z[9]*z[6];
q[4]=-z[4]*z[10]*z[15]+z[4]*z[14]*z[11]+z[6]*z[8]*z[15]-z[6]*z[12]*z[11]-z[7]*z[8]*z[14]+z[7]*z[12]*z[10];
q[5]=z[0]*z[10]*z[15]-z[0]*z[14]*z[11]-z[2]*z[8]*z[15]+z[2]*z[12]*z[11]+z[3]*z[8]*z[14]-z[3]*z[12]*z[10];
q[6]=-z[0]*z[6]*z[15]+z[0]*z[14]*z[7]+z[2]*z[4]*z[15]-z[2]*z[12]*z[7]-z[3]*z[4]*z[14]+z[3]*z[12]*z[6];
q[7]=z[0]*z[6]*z[11]-z[0]*z[10]*z[7]-z[2]*z[4]*z[11]+z[2]*z[8]*z[7]+z[3]*z[4]*z[10]-z[3]*z[8]*z[6];q[8]=z[4]*z[9]*z[15]-z[4]*z[13]*z[11]-z[5]*z[8]*z[15]+z[5]*z[12]*z[11]+z[7]*z[8]*z[13]-z[7]*z[12]*z[9];
q[9]=-z[0]*z[9]*z[15]+z[0]*z[13]*z[11]+z[1]*z[8]*z[15]-z[1]*z[12]*z[11]-z[3]*z[8]*z[13]+z[3]*z[12]*z[9];
q[10]=z[0]*z[5]*z[15]-z[0]*z[13]*z[7]-z[1]*z[4]*z[15]+z[1]*z[12]*z[7]+z[3]*z[4]*z[13]-z[3]*z[12]*z[5];
q[11]=-z[0]*z[5]*z[11]+z[0]*z[9]*z[7]+z[1]*z[4]*z[11]-z[1]*z[8]*z[7]-z[3]*z[4]*z[9]+z[3]*z[8]*z[5];q[12]=-z[4]*z[9]*z[14]+z[4]*z[13]*z[10]+z[5]*z[8]*z[14]-z[5]*z[12]*z[10]-z[6]*z[8]*z[13]+z[6]*z[12]*z[9];
q[13]=z[0]*z[9]*z[14]-z[0]*z[13]*z[10]-z[1]*z[8]*z[14]+z[1]*z[12]*z[10]+z[2]*z[8]*z[13]-z[2]*z[12]*z[9];
q[14]=-z[0]*z[5]*z[14]+z[0]*z[13]*z[6]+z[1]*z[4]*z[14]-z[1]*z[12]*z[6]-z[2]*z[4]*z[13]+z[2]*z[12]*z[5];
q[15]=z[0]*z[5]*z[10]-z[0]*z[9]*z[6]-z[1]*z[4]*z[10]+z[1]*z[8]*z[6]+z[2]*z[4]*z[9]-z[2]*z[8]*z[5];var e=z[0]*q[0]+z[1]*q[4]+z[2]*q[8]+z[3]*q[12];
for(var n=0;n<16;n++)q[n]/=e;return q};T.DB.aP5=function(z){var q=[],e=z[5]*z[10]*z[15]-z[5]*z[14]*z[11]-z[6]*z[9]*z[15]+z[6]*z[13]*z[11]+z[7]*z[9]*z[14]-z[7]*z[13]*z[10],V=-z[4]*z[10]*z[15]+z[4]*z[14]*z[11]+z[6]*z[8]*z[15]-z[6]*z[12]*z[11]-z[7]*z[8]*z[14]+z[7]*z[12]*z[10],P=z[4]*z[9]*z[15]-z[4]*z[13]*z[11]-z[5]*z[8]*z[15]+z[5]*z[12]*z[11]+z[7]*z[8]*z[13]-z[7]*z[12]*z[9],D=-z[4]*z[9]*z[14]+z[4]*z[13]*z[10]+z[5]*z[8]*z[14]-z[5]*z[12]*z[10]-z[6]*z[8]*z[13]+z[6]*z[12]*z[9];
return z[0]*e+z[1]*V+z[2]*P+z[3]*D};T.DB.tX=function(z,q,e,V){var P=Math.sin(V),D=Math.cos(V),B=1/Math.sqrt(z*z+q*q+e*e);
z*=B;q*=B;e*=B;return T.DB.Su([z*z*(1-D)+D,z*q*(1-D)-e*P,z*e*(1-D)+q*P,z*q*(1-D)+e*P,q*q*(1-D)+D,q*e*(1-D)-z*P,z*e*(1-D)-q*P,q*e*(1-D)+z*P,e*e*(1-D)+D])};
T.DB.vs=T.DB.Su([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
T.DB.aMT=T.DB.Su([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
T.DB.ah2=T.DB.Su([1.3459433,-.2556075,-.0511118,-.5445989,1.5081673,.0205351,0,0,1.2118128]);T.DB.aM0=T.DB.Su([2.1861968,-.8165993,-.3530805,-.8443876,1.7943237,.024049,.0479222,-.1018347,1.2792565]);
T.DB.a4d=T.DB.TG(T.DB.vs);T.v0={};T.v0.I0=new Uint32Array(1);T.v0.aiI=function(z,q,e,V,P,D){var B=new Uint32Array(z),A=0,s=T.v0.I0;
if(s.length<q*4)T.v0.I0=s=new Uint32Array(q*4);var a=new Float64Array(s.buffer);for(var n=0;n<q;n+=2){var M=P[n],$=P[n+1],U=D[n],o=D[n+1];
s[A]=$;a[A+2>>1]=U;s[A+1]=B[M];B[M]=A+1;A+=4;s[A]=M;a[A+2>>1]=o;s[A+1]=B[$];B[$]=A+1;A+=4}return{Mx:s,afg:a,a3t:B}};
T.v0.Xd=function(z,q,e,V,P,D,B){var A=1,s=T.v0.aiI(z,q,e,V,P,D),a=s.Mx,M=s.afg,$=s.a3t,U=new Uint32Array(z),o=new T.v0.iC(z),c=1,K=0;
o.push(e);o.push(V);var t=new T.v0.iC(z),H=new Uint8Array(z),F=new Uint32Array(z);H[e]=1;H[V]=2;var i=new Uint32Array(z),X=new Uint32Array(z);
X[e]=X[V]=0;i[e]=i[V]=1;while(!0){var f=-1,C=0,u=1e30;while(!o.So()&&f==-1){var d=o.top(),L=H[d],G=$[d]-1;
while(G!=-1){var x=a[G],O=H[x],v=G^L-1<<2;if(M[v+2>>1]!=0){if(O==0){T.v0.mO(d,G,x,H,F,X,i);o.push(x)}else if(O==L&&i[x]<=i[d]&&X[x]>X[d])T.v0.mO(d,G,x,H,F,X,i);
else if(O!=L){f=v}}G=a[G+1]-1}if(f!=-1)break;o.pop()}if(f==-1){break}c++;var S=f;while(S!=-1){U[C]=S;
C++;S=F[a[S^4]]-1}var j=C>>1;for(var n=0;n<j;n++){var w=U[n];U[n]=U[C-n-1];U[C-n-1]=w}S=F[a[f]]-1;while(S!=-1){U[C]=S^4;
C++;S=F[a[S^4]]-1}for(var n=0;n<C;n++)u=Math.min(u,M[U[n]+2>>1]);K+=u;if(K>=B)return{ac_:null,bv:K};
for(var n=0;n<C;n++){var l=U[n],I=l^4,d=a[I],x=a[l];M[l+2>>1]-=u;M[I+2>>1]+=u;if(M[l+2>>1]==0&&H[d]==H[x]){if(H[d]==1){F[x]=0;
t.push(x)}if(H[d]==2){F[d]=0;t.push(d)}}}while(!t.So()){var d=t.pop(),L=H[d],G=$[d]-1,Q=L==1?4:0,b=0,p=0,k=1e9;
while(G!=-1){var x=a[G],g=G^4,v=G^Q;if(H[x]==L&&M[v+2>>1]>0&&T.v0.a1g(x,e,V,F,a,c,i,X)+1<k){b=x;p=g;
k=X[x]+1}G=a[G+1]-1}if(p!=0){T.v0.mO(b,p,d,H,F,X,i);continue}G=$[d]-1;while(G!=-1){var x=a[G],v=G^Q;
if(H[x]==L){if(M[v+2>>1]>0){o.push(x)}if(F[x]==G+1){F[x]=0;t.push(x)}}G=a[G+1]-1}H[d]=0;o.remove(d)}}var Y=[];
for(var n=0;n<q;n+=2){var d=P[n],x=P[n+1];if(H[d]==1&&H[x]!=1){Y.push(n>>1)}if(H[x]==1&&H[d]!=1){Y.push(q+n>>1)}}return{ac_:Y,bv:K}};
T.v0.mO=function(z,q,e,V,P,D,B){V[e]=V[z];P[e]=q+1;D[e]=D[z]+1;B[e]=B[z]};T.v0.a1g=function(z,q,e,V,P,D,B,A){var s=z,a=V[z]-1,M=0;
while(a!=-1&&B[z]!=D){z=P[a^4];a=V[z]-1;M++}if(a==-1&&z!=q&&z!=e)return 1e9;var $=A[z]+M;M=0;a=V[s]-1;
while(s!=z){A[s]=$-M;M++;B[s]=D;s=P[a^4];a=V[s]-1}return $};T.v0.azN=function(z,q,e,V,P,D){var B=T.v0.aiI(z,q,e,V,P,D),A=B.Mx,s=B.afg,a=B.a3t,M=0,$=0,U=new Uint32Array(z*2),o=new T.v0.aks(z),t=0;
while(!0){o.reset();o.push(e);for(var n=0;n<z;n++)U[n<<1]=0;while(!o.So()){var c=o.pop(),H=a[c]-1;while(H!=-1){t=A[H];
if(U[t<<1]==0&&s[H+2>>1]>0&&t!=e){U[t<<1]=c+1;U[(t<<1)+1]=H;o.push(t)}H=A[H+1]-1}if(U[V<<1]!=0){break}}if(U[V<<1]==0){break}var F=1e30;
t=V;while(!0){var i=U[t<<1]-1;if(i==-1)break;var X=U[(t<<1)+1];F=Math.min(F,s[X+2>>1]);t=i}t=V;while(!0){var i=U[t<<1]-1;
if(i==-1)break;var X=U[(t<<1)+1],K=X^4;s[X+2>>1]-=F;s[K+2>>1]+=F;t=i}M+=F}var f=[];for(var n=0;n<q;n+=2){var i=P[n],t=P[n+1];
if((U[i<<1]!=0||i==e)&&U[t<<1]==0&&t!=e){f.push(n>>1)}if((U[t<<1]!=0||t==e)&&U[i<<1]==0&&i!=e){f.push(q+n>>1)}}return{ac_:f,bv:M}};
T.v0.aks=function(z){z|=z>>1;z|=z>>2;z|=z>>4;z|=z>>8;z|=z>>16;this.A_=new Uint32Array(z+1);this.Li=z;
this.gD=0;this.AY=0};T.v0.aks.prototype={push:function(z){var q=this.AY;this.A_[q]=z;this.AY=q+1&this.Li},pop:function(){var z=this.gD,q=this.A_[z];
this.gD=z+1&this.Li;return q},So:function(){return this.gD==this.AY},reset:function(){this.gD=0;this.AY=0}};
T.v0.iC=function(z){z|=z>>1;z|=z>>2;z|=z>>4;z|=z>>8;z|=z>>16;this.A_=new Uint32Array(z+1);this.fl=new Uint32Array(z+1);
this.Li=z;this.gD=0;this.AY=0};T.v0.iC.prototype={top:function(){return this.A_[this.gD]},az8:function(){return this.A_[this.AY]},push:function(z){if(this.fl[z]!=0)return;
this.fl[z]=this.AY+1;var q=this.AY;this.A_[q]=z;this.AY=q+1&this.Li},pop:function(){var z=this.gD,q=this.A_[z];
this.fl[q]=0;this.gD=z+1&this.Li;return q},So:function(){return this.gD==this.AY},remove:function(z){var q=this.fl[z]-1;
if(q==-1)return;this.fl[z]=0;if(q==this.gD){this.pop();return}var e=this.pop();this.A_[q]=e;this.fl[e]=q+1},J0:function(n){return n+this.Li+1&this.Li}};
T.v0.a9j=function(z,q,e){var V=T.v0.dp(z,q,e);if(q<V-1)T.v0.a9j(z,q,V-1);if(V<e)T.v0.a9j(z,V,e)};T.v0.dp=function(z,q,e){var V=z[q+e>>>1];
while(q<=e){while(z[q]<V)q++;while(z[e]>V)e--;if(q<=e){T.v0.u3(z,q,e);q++;e--}}return q};T.v0.u3=function(z,q,e){var V=z[q];
z[q]=z[e];z[e]=V};T.JH=function(){var z,q;function e(B,A,hE){var s=hE-1,a=A+hE;z[hE-2]=B[a-2];q[0]=B[a-1];
var M=Math.max;for(var n=1;n<s;n++){z[hE-2-n]=M(z[hE-1-n],B[a-2-n]);q[n]=M(q[n-1],B[a-1+n])}for(var n=0;
n<s;n++)B[A+n]=M(z[n],q[n])}function V(B,A,hE){var s=hE-1,a=Math.ceil(A/s)*s;for(var M=0;M<a;M+=s)e(B,M,hE)}function P(B,A,s,a,hE,M){A.set(B);
if(hE==1)return;z=T.n(hE-1);q=T.n(hE-1);var $=hE>>>1,U=T.n(Math.ceil(Math.max(s,a)/(hE-1))*(hE-1)+(hE-2)),o=new Uint8Array(U.buffer,0,s);
if(!M)T.TG(A);for(var t=0;t<a;t++){U.fill(0);U.set(new Uint8Array(A.buffer,t*s,s),$);V(U,s,hE);A.set(o,t*s)}for(var c=0;
c<s;c++){U.fill(0);for(var t=0;t<a;t++)U[t+$]=A[t*s+c];V(U,a,hE);for(var t=0;t<a;t++)A[t*s+c]=U[t]}if(!M)T.TG(A)}function D(B,A,s,a,hE,M){var $=T.n(s*a);
for(var U=0;U<4;U++){T.bl(B,$,U);if(U==3)T.TG($);P($,$,s,a,hE,M);if(U==3)T.TG($);T.yR($,A,U)}}return{eM:P,aHe:D}}();
T.w0={};T.w0.WV=function(z){for(var n=0;n<z.length;n++)T.w0.Oi(z,n)};T.w0.Oi=function(z,n){z[n].v.keyShapeInvalidated={t:"bool",v:!0}};
T.w0.apo=function(z){for(var n=0;n<z.length;n++)z[n].v.keyOriginIndex.v=n};T.w0.hz=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
T.w0.J_=function(z,q,e){z=z.v;var V={Rctn:2,Ln:4,Elps:5},P=V[z.classID],D=z.topLeft?T.w0.asU(z):null,B=null,A=0,s=[!1,!1,0,0,0];
if(P==4){var a=z.Strt.v,M=z.End.v;B=[a.Hrzn.v.val,a.Vrtc.v.val,M.Hrzn.v.val,M.Vrtc.v.val];A=z.Wdth.v.val;
for(var n=0;n<2;n++){var $=z[n==0?"StrA":"EndA"];if($==null)continue;$=$.v;s[n]=$.On.v;s[2]=$.Wdth.v;
s[3]=$.Lngt.v;s[4]=$.Cncv.v.val}}if(P==null)return null;return T.w0.DA(P,P==4?null:T.w0.cT(z,q,e),D,B,A,s)};
T.w0.Tk=function(z,q,e,V,P,D,B){var A={classID:z,unitValueQuadVersion:{t:"long",v:1}};if(q)T.w0.K2(A,["Left","Top","Rght","Btom"],q);
if(e)T.w0.K2(A,["topLeft","topRight","bottomRight","bottomLeft"],e);if(z=="Ln"){A.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:V[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:V[1]}}}},A.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:V[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:V[3]}}}},A.Wdth={t:"UntF",v:{type:"#Pxl",val:P}};
for(var n=0;n<2;n++){var s=n==0?"StrA":"EndA";A[s]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:B[n]},Wdth:{t:"doub",v:B[2]},Lngt:{t:"doub",v:B[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:B[4]}}}}}}if(D)A.Nm={t:"TEXT",v:D};
return{t:"Objc",v:A}};T.w0.aD0=function(z,q){var e=T.w0.bb(z),V=z[2]-z[0],P=z[3]-z[1],D=Math.sqrt(V*V+P*P),B=[0,0,D,0,D,q,0,q],A=new e5;
A.rotate(-e);A.translate(z[0],z[1]);T.R.v(B,A,B);return B};T.w0.DA=function(z,q,e,V,P,D){var B=T.w0.hz(),A=B.v,s;
delete A.keyShapeInvalidated;A.keyOriginType={t:"long",v:z};A.keyOriginResolution={t:"doub",v:75};if(z==4){A.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:V[0]},Vrtc:{t:"doub",v:V[1]}}};
A.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:V[2]},Vrtc:{t:"doub",v:V[3]}}};s=T.w0.aD0(V,P);
var a=T.R.mB(s);q=[a.x,a.y,a.x+a.s,a.y+a.T];A.keyOriginLineWeight={t:"doub",v:P};if(D)T.w0.a67(A,D)}else s=[q[0],q[1],q[2],q[1],q[2],q[3],q[0],q[3]];
A.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};T.w0.ql(A,"keyOriginBoxCorners",s);var M={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
A.keyOriginShapeBBox={t:"Objc",v:M};T.w0.abe(A,q);if(e!=null){var $={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
A.keyOriginRRectRadii={t:"Objc",v:$};T.w0.lm(A,e)}return B};T.w0.v=function(z,q,e,V){var P=T.O.a1t(q),D=T.O.ar_(q),B=T.O.uV(q),A=B.x6*B.at-B.c*B.I$;
for(var n=0;n<z.length;n++){var s=z[n].v;if(!T.w0.GI(s))continue;if(e.length!=0&&e.indexOf(n)==-1)continue;
var a=s.keyOriginType.v,M=q;if(A<0&&a==2){var $=T.w0.wt(s),U=0;U=$[0];$[0]=$[1];$[1]=U;U=$[2];$[2]=$[3];
$[3]=U;T.w0.lm(s,$);var o=T.w0.M6(s,"keyOriginBoxCorners"),t=T.R.mB(o),c=t.x+t.s/2,H=new e5;H.translate(-c,0);
H.scale(-1,1);H.translate(c,0);M=T.O.yW(M,T.O.Ak(H))}var F=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var i=0;i<F.length;i++){var o=T.w0.M6(s,F[i]);if(o==null)continue;T.O.v(M,o);T.w0.ql(s,F[i],o);var t=T.R.mB(o);
T.w0.abe(s,[t.x,t.y,t.x+t.s,t.y+t.T]);var X=new e5;X.rotate(-T.w0.bb(o));var K={classID:"Trnf"};s.Trnf={t:"Objc",v:K};
var f="xx xy yx yy tx ty".split(" "),d=[X.x6,X.c,X.I$,X.at,X.yK,X.ww];for(var L=0;L<6;L++)K[f[L]]={t:"doub",v:d[L]}}if(a==2&&V){var $=T.w0.wt(s);
for(var i=0;i<4;i++)$[i]=Math.round($[i]*q[0]);T.w0.lm(s,$)}var o=T.w0.M6(s,"keyOriginBoxCorners"),G=o[2]-o[0],x=o[3]-o[1],O=Math.sqrt(G*G+x*x);
G/=O;x/=O;var v=o[6]-o[0],C=o[7]-o[1],S=Math.sqrt(v*v+C*C);v/=S;C/=S;if(a==4){var j=B.vx();s.keyOriginLineWeight.v*=j;
var w=T.w0.c2(s);T.O.v(q,w);T.w0.aDY(s,w);var u=T.w0.aGZ(s);u[2]*=j;u[3]*=j;T.w0.a67(s,u)}var l=G*v+x*C;
if(Math.abs(l)>.001){T.w0.Oi(z,n)}}};T.w0.GI=function(z){var q=z.keyShapeInvalidated,e=z.keyOriginType;
return(q==null||!q.v)&&e!=null&&e.v!=9};T.w0.aMa=function(z){var q=z.keyOriginType.v,e=T.w0.Is(z),V=e[0],P=e[1],D=e[2],B=e[3],A=new e5,s=z.keyOriginPolyCornerRadius,o;
s=s?s.v:0;var a=T.w0.M6(z,q==7||q==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),M=T.w0.B1(a),$=M[2],U=M[3];
V=-$/2;D=$/2;P=-U/2;B=U/2;A.rotate(-T.w0.bb(a));A.yK=M[0];A.ww=M[1];if(q==1||q==2){var t=q==1?0:T.w0.wt(z);
o=T.S.nU.Rect(V,P,D-V,B-P,t)}else if(q==4){var c=T.w0.c2(z),H=T.w0.aGZ(z);A=new e5;if(H==null)o=T.S.nU.l1(c[0],c[1],c[2],c[3],z.keyOriginLineWeight.v);
else o=T.S.nU.G1(c[0],c[1],c[2],c[3],z.keyOriginLineWeight.v,H)}else if(q==5){o=T.S.nU.f4(V,P,D-V,B-P)}else if(q==7||q==8){var F=q==7?3:z.keyOriginPolySides.v;
o=T.S.nU.Bf(0,0,100,Math.PI/F-Math.PI/2,F,s,D,B)}T.S.Z8(o,A);return o};T.w0.BS=function(z,q){var e=q.B;
for(var n=0;n<z.length;n++){var V=z[n].v;if(!T.w0.GI(V))continue;var P=T.w0.aMa(V),D=T.S.ha(e,n),B=T.S.Ua(e,n);
P[2].xq=e[D].xq;var A=e;e=e.slice(0,D);for(var s=2;s<P.length;s++)e.push(P[s]);for(var s=D+B;s<A.length;
s++)e.push(A[s])}q.B=e;q.Ug=!0};T.w0.AX=function(z){var q=1e9,e=-q,V=1e9,P=-V,D=[],B=z.Kn(),A=B[0],s=B[1];
for(var a=0;a<s.length;a++){var M=A[s[a]],$=M.add.vogk;if($==null)continue;var U=M.add.vmsk.j;for(var o=0;
o<$.length;o++){if(s.length==1&&U.length!=0&&U.indexOf(o)==-1)continue;var t=$[o].v,c=T.w0.af0(t);if(c){D.push(c);
var H=c[1];q=Math.min(q,H[0]);V=Math.min(V,H[1]);e=Math.max(e,H[2]);P=Math.max(P,H[3])}}}return D.length==1?D[0]:[0,q<e?[q,V,e,P]:null,0]};
T.w0.af0=function(z){if(!T.w0.GI(z))return;var q=z.keyOriginType.v,V=0;if(q==9)return;var e=T.w0.Is(z),P=T.w0.M6(z,"keyOriginBoxCorners");
if(P){var D=T.w0.B1(P),B=D[2],A=D[3];e[2]=e[0]+B;e[3]=e[1]+A;V=T.w0.bb(P)}var s=[q,e,V],a=z.keyOriginPolyCornerRadius;
if(q==2)s.push(T.w0.wt(z));if(q==7||q==8)s.push(a?a.v:0);if(q==8)s.push(z.keyOriginPolySides.v);return s};
T.w0.acs=function(z,q,e){for(var n=0;n<z.length;n++){if(q.indexOf(n)==-1)continue;var V=z[n].v,P=T.w0.af0(V);
if(P){var D=P[0],B=T.w0.M6(V,D==7||D==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),A=T.w0.B1(B);
console.log(D);if(D==2){var s=[],a=[];for(var M=0;M<4;M++){var $=P[2]+(M+.5)*Math.PI/2,U=Math.max(P[3][M]*Math.sqrt(2),20/e.C7),o=B[2*M]+Math.cos($)*U,t=B[2*M+1]+Math.sin($)*U;
a.push(o,t);s.push(B[2*M],B[2*M+1])}return[n,a,s,B,A.slice(0,2)]}if(D==5){return[n,null,null,B,A.slice(0,2)]}if(D==8){var $=P[2]-Math.PI/2,c=A[3]*.5,U=c-Math.max(P[3],20/e.C7),H=Math.sin($),F=Math.cos($);
return[n,[A[0]+F*U,A[1]+H*U],[A[0]+F*c,A[1]+H*c],B,A.slice(0,2)]}}}return null};T.w0.bb=function(z){var q=z[2]-z[0],e=z[3]-z[1];
return-Math.atan2(-e,q)};T.w0.ayB=function(z){var q=T.w0.Is(z);return T.w0.bb(q)};T.w0.aNf=function(z,q,e){var V=T.w0.AX(z),P=-1;
for(var n=0;n<q.length;n++)if(JSON.stringify(q[n])!=JSON.stringify(V[n]))P=n;if(P==1||P==2){}var D=z.Kn(),B=D[0],A=D[1];
for(var s=0;s<A.length;s++){var a=B[A[s]],M=a.add.vogk;if(M==null)continue;var $=a.add.vmsk.j;for(var U=0;
U<M.length;U++){var o=M[U].v;if(!T.w0.GI(o))continue;if(A.length==1&&$.length!=0&&$.indexOf(U)==-1)continue;
var t=o.keyOriginType.v;if(P==1||P==2){T.w0.v(M,T.w0.abv(P,o,V,q),$,!1);break}if(P==3)if(t==2)T.w0.lm(o,q[3]);
else o.keyOriginPolyCornerRadius={t:"doub",v:q[3]};if(P==4)o.keyOriginPolySides.v=q[4];if(e)T.w0.Oi(M,U)}}};
T.w0.abv=function(z,q,e,V){var P=V[1],D=e[1],B=(P[2]-P[0])/(D[2]-D[0]),A=(P[3]-P[1])/(D[3]-D[1]),s=new e5;
if(z==1){if(Math.max(Math.abs(B-1),Math.abs(A-1))>1e-8){var a=P[0],M=P[1];if(V[0]!=0){var $=T.w0.M6(q,"keyOriginBoxCorners");
a=$[0];M=$[1]}s.translate(-a,-M);s.rotate(V[2]);s.scale(B,A);s.rotate(-V[2]);s.translate(a,M)}else{s.translate(-D[0],-D[1]);
s.translate(P[0],P[1])}}else{if(V[0]!=0)P=T.w0.Is(q);var a=(P[0]+P[2])/2,M=(P[1]+P[3])/2;s.translate(-a,-M);
if(e[0]!=0)s.rotate(e[2]);s.rotate(-V[2]);s.translate(a,M)}return T.O.Ak(s)};T.w0.B1=function(z){var q=z[0],e=z[1],V=z[2],P=z[3],D=z[4],B=z[5],A=z[6],s=z[7],a=V-q,M=P-e,$=Math.sqrt(a*a+M*M),a=D-V,M=B-P,U=Math.sqrt(a*a+M*M);
return[(q+D)/2,(e+B)/2,$,U]};T.w0.M6=function(z,q){var e=z[q];if(e==null)return null;var V=[];e=e.v;
for(var P=0;P<4;P++){var D=e["rectangleCorner"+["A","B","C","D"][P]].v;V.push(D.Hrzn.v,D.Vrtc.v)}return V};
T.w0.ql=function(z,q,e){var V=z[q];if(V==null)return null;V=V.v;for(var P=0;P<4;P++){var D="rectangleCorner"+["A","B","C","D"][P];
V[D]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:e[2*P]},Vrtc:{t:"doub",v:e[2*P+1]}}}}};T.w0.Is=function(z){return T.w0.cT(z.keyOriginShapeBBox.v)};
T.w0.cT=function(z,q,e){var V=z.classID,P=z.Left.v,D=z.Rght.v,B=z.Top.v,A=z.Btom.v,s=P.type;if(P.val!=null){P=P.val;
D=D.val;B=B.val;A=A.val}if(s=="#Prc"&&q){P*=q/100;D*=q/100;B*=e/100;A*=e/100}return[P,B,D,A]};T.w0.$i=function(z,q,e){var V=T.w0.cT(z,q,e);
return new kk(V[0],V[1],V[2]-V[0],V[3]-V[1])};T.w0.abe=function(z,q){T.w0.K2(z.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],q)};
T.w0.wt=function(z){var q=z.keyOriginRRectRadii;if(q==null)return[0,0,0,0];return T.w0.asU(q.v)};T.w0.asU=function(z){var q=[],e=["topLeft","topRight","bottomRight","bottomLeft"];
for(var V=0;V<4;V++)q.push(z[e[V]].v.val);return q};T.w0.lm=function(z,q){T.w0.K2(z.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],q)};
T.w0.K2=function(z,q,e){var V=z.classID;if(V=="unitRect"||V=="radii"||V=="Rctn"){for(var n=0;n<4;n++)if(e[n]!=null)z[q[n]]={t:"UntF",v:{type:"#Pxl",val:e[n]}}}else{for(var n=0;
n<4;n++)if(e[n]!=null)z[q[n]]={t:"doub",v:e[n]}}};T.w0.c2=function(z){var q=z.keyOriginLineStart.v,e=z.keyOriginLineEnd.v;
return[q.Hrzn.v,q.Vrtc.v,e.Hrzn.v,e.Vrtc.v]};T.w0.aDY=function(z,q){var e=z.keyOriginLineStart.v,V=z.keyOriginLineEnd.v;
e.Hrzn.v=q[0];e.Vrtc.v=q[1];V.Hrzn.v=q[2];V.Vrtc.v=q[3]};T.w0.aGZ=function(z){var q=[],e=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var n=0;n<5;n++){var V=z["keyOriginLineArr"+e[n]];if(V==null)return null;q[n]=V.v}return q};T.w0.a67=function(z,q){z.keyOriginLineArrowSt={t:"bool",v:q[0]};
z.keyOriginLineArrowEnd={t:"bool",v:q[1]};z.keyOriginLineArrWdth={t:"doub",v:q[2]};z.keyOriginLineArrLngth={t:"doub",v:q[3]};
z.keyOriginLineArrConc={t:"long",v:q[4]}};T.w0.ajn=function(z){function q(K,f){return Math.abs(K-f)<.5}function e(K,f){return q(K.x,f.x)&&q(K.y,f.y)}function V(K,f,d,L,G,x,O){for(var n=0;
n<O;n++){var v=K[f+(d+n)%O],C=L[G+(x+n)%O];if(!(e(v.O0,C.O0)&&e(v.li,C.li)&&e(v.kS,C.kS)))return!1}return!0}var P=[];
for(var D=0;D<z.length;D++){var B=z[D],s=null;if(B.e!=0&&B.e!=3||B.xq==-1)continue;var A=D;if(B.length==4||B.length==8){var a=T.S.a8B(z.slice(0,2).concat(z.slice(A,A+B.length+1)));
A=2;if(B.length==4){var M=T.S.iG(a,A+1,4),$=M.x,U=M.y,o=$+M.s,t=U+M.T;if(M.D()>4){if(T.S.$u(a.slice(A-2,A+5)))s=T.w0.DA(2,[$,U,o,t],[0,0,0,0]);
else{var c=-1;for(var n=0;n<4;n++)if(q(a[A+1+n].O0.y,t))c=n;if(c!=-1){var H=T.S.nU.f4($,U,o-$,t-U),F=V(a,A+1,c,H,3,0,4);
if(F)s=T.w0.DA(5,[$,U,o,t])}}}}if(B.length==8){var M=T.S.iG(a,A+1,8),$=M.x,U=M.y,o=$+M.s,t=U+M.T;if(M.D()>4){var c=-1;
for(var n=0;n<8;n++)if(q(a[A+1+(n+1&7)].O0.y,U)&&q(a[A+1+(n+2&7)].O0.y,U))c=n;if(c!=-1){var i=Math.abs(a[A+1+c].O0.y-U),X=[i,i,i,i];
if(i>.5){var H=T.S.nU.Rect($,U,o-$,t-U,X),F=V(a,A+1,c,H,3,0,8);if(F)s=T.w0.DA(2,[$,U,o,t],X)}}}}if(z[D+B.length+1]&&z[D+B.length+1].xq==-1)s=0}P.push(s?s:T.w0.hz())}return P};
T.R={};T.R.Y=function(z){return{_:z._.slice(0),J:z.J.slice(0)}};T.R.apE=function(z){if(z.length<6)return!0;
var q=z.length-4;for(var n=0;n<q;n+=2)if(!T.R.kI(z[n],z[n+1],z[n+2],z[n+3],z[n+4],z[n+5]))return!1;if(!T.R.kI(z[q],z[q+1],z[q+2],z[q+3],z[0],z[1]))return!1;
if(!T.R.kI(z[q+2],z[q+3],z[0],z[1],z[2],z[3]))return!1;return!0};T.R.kI=function(z,q,e,V,P,D){return(q-V)*(P-e)+(e-z)*(D-V)>=0};
T.R.amc=function(z,q){function e(k,g,G){var d=g[0]-k[0],L=g[1]-k[1],Y=T.R.WM(G[0],G[1],-L,d,k[0],k[1],d,L);
return[G[0]-L*Y,G[1]+d*Y]}function V(k,g){var d=k[0]-g[0],L=k[1]-g[1];return Math.sqrt(d*d+L*L)}z=T.R.arL(z);
var P=[0,0,0,0],D=z.length,B=[0,0,0,0],A=Math.PI/2,s=Math.atan2(-1,0),o=1e9,t,c=0;function a(){for(var n=0;
n<4;n++){var F=P[n],i=(F+2)%D,k=z[i]-z[F],g=z[i+1]-z[F+1],Y=Math.atan2(g,k),R=s+n*A;if(Y<R)R-=2*Math.PI;
B[n]=Y-R}}for(var n=0;n<D;n+=2){var M=z[n],$=z[n+1];if(M<z[P[0]])P[0]=n;if($<z[P[1]+1])P[1]=n;if(M>z[P[2]])P[2]=n;
if($>z[P[3]+1])P[3]=n}a();var U=T.R.mB(z).D();while(c<D/2){var H=0;for(var n=0;n<4;n++)if(B[n]<B[H])H=n;
var F=P[H],i=(F+2)%D,X=P[H+2&3],K=P[H+3&3],f=P[H+1&3],M=z[F],d=z[i]-M,$=z[F+1],L=z[i+1]-$,G=z.slice(F,F+2),x=z.slice(i,i+2),O=z.slice(X,X+2),v=z.slice(K,K+2),C=z.slice(f,f+2),S=e(G,x,O),j=e(v,[v[0]-L,v[1]+d],C),w=V(S,O),u=V(j,C);
if(u*w<o){o=u*w;var l=e(G,x,v);t=[l[0],l[1],d,L,u,w]}s+=B[H];P[H]=i;a();c++}var M=t[0],$=t[1],d=t[2],L=t[3],u=t[4],w=t[5],I=Math.sqrt(d*d+L*L);
d/=I;L/=I;var Q=M+d*u,b=$+L*u,p=[M,$,Q,b,Q-L*w,b+d*w,M-L*w,$+d*w];while(p[0]>p[2]||Math.abs((p[3]-p[1])/(p[2]-p[0]))>1){p.push(p.shift(),p.shift())}return p};
T.R.arL=function(z){var q=0;for(var n=0;n<z.length;n+=2)if(z[n]<z[q])q=n;var e=[q];while(!0){var V=e[e.length-1],P=z[V],D=z[V+1],B=e.length==1?e[0]:e[e.length-2],A=z[B],s=z[B+1],U=0,o=1e9,t=0;
if(e.length==1)s+=20;var a=A-P,M=s-D,$=Math.sqrt(a*a+M*M);a/=$;M/=$;for(var n=0;n<z.length;n+=2){if(n==B||n==V)continue;
var c=z[n],H=z[n+1],F=c-P,i=H-D,X=Math.sqrt(F*F+i*i);F/=X;i/=X;var K=a*F+M*i;if(K<o||K==o&&X>t){o=K;
U=n;t=X}}if(U==e[0])break;e.push(U)}var f=[];for(var n=0;n<e.length;n++)f.push(z[e[n]],z[e[n]+1]);return f};
T.R.xU=function(z){var q={},e=0,V={M:2,L:2,Q:4,C:6},P="",D="",B={J:[],_:[]};for(var n=0;n<z._.length;
n++){var A=z._[n];if(A[0]=="#")P=A;else if(A[0]=="X"){var s=P+D;if(q[s]==null)q[s]={J:[],_:[]};T.R.concat(q[s],B);
P="";D="";B={J:[],_:[]}}else if(A[0]=="O"&&A[1]=="-")D=A;else if(A=="OX"){if(D!="")D+="-1"}else{B._.push(A);
var a=V[A];if(a==null)a=0;for(var M=0;M<a;M++)B.J.push(z.J[e+M]);e+=a}}return q};T.R.aGK=function(z,q,e){var V=z[q]-z[e-2],P=z[q+1]-z[e-1];
return V*V+P*P<1e-4};T.R.zj=function(z){var q=[],e=z.J,V=z._.length-1;for(var P=0;P<V;P++){var n=P*6,D=e[n+6]-e[n+0],B=e[n+7]-e[n+1],A=Math.ceil(Math.sqrt(D*D+B*B));
for(var s=0;s<A;s++){var a=s/A,M=1-a,$=M*M*M*e[n+0]+3*M*M*a*e[n+2]+3*M*a*a*e[n+4]+a*a*a*e[n+6],U=M*M*M*e[n+1]+3*M*M*a*e[n+3]+3*M*a*a*e[n+5]+a*a*a*e[n+7];
q.push($,U)}}return q};T.R.XI=function(z,q,e){z=T.R.VW(z);var V=z.J,P=z._,D=0,B="",A=0,s=0,D=0,$=null;
for(var n=0;n<P.length;n++){var a=P[n];if(a=="M"){A=V[D];s=V[D+1];D+=2;B=a}if(a=="C"){if(B=="Z"){P.splice(n,0,"M");
V.splice(D,0,A,s);n--;continue}D+=6;B=a}if(a=="Z"){B=a}}var M=[];D=0;for(var n=0;n<P.length;n++){var a=P[n];
if(a=="M"){$={ff:D,Z7:0,qi:!1};M.push($);D+=2}if(a=="C"){$.Z7++;D+=6}if(a=="Z"&&$!=null){$.qi=!0}}var U=[];
for(var n=0;n<M.length;n++)if(M[n].Z7!=0)U.push(M[n]);M=U;for(var n=0;n<M.length;n++){var o=M[n],t=o.ff,c=t+2+o.Z7*6,F=0;
o.sI=T.R.mB(V,t,c);var H=T.R.aGK(V,t,c);for(var i=0;i<o.Z7;i++){var X=t+i*6,K=X+6;F+=(V[K]-V[X])*(V[K+1]+V[X+1])}if(o.Z7==2){var f=function(E,N,h){var j5=1-h;
return j5*j5*j5*E[N]+3*j5*j5*h*E[N+2]+3*j5*h*h*E[N+4]+h*h*h*E[N+6]},d=V[t],L=V[t+1],G=V[t+6],x=V[t+7],O=V[t+6],v=V[t+7],C=f(V,t,.5),S=f(V,t+1,.5),j=f(V,t+6,.5),w=f(V,t+7,.5);
F=(C-d)*(S-L)+(G-C)*(x-S)+(j-G)*(w-x)+(O-j)*(v-w)}if(!H)F+=(V[t]-V[c-2])*(V[t+1]+V[c-1]);o.kq=F<=0}for(var n=0;
n<M.length-1;n++)for(var X=n+1;X<M.length;X++){var u=M[n],l=M[X];if(l.sI.oq(u.sI)){M[n]=l;M[X]=u}}var I=M.length==0?!0:M[0].kq,Q=[{e:6},{e:8,all:0}];
for(var n=0;n<M.length;n++){var o=M[n],t=o.ff,c=t+2+o.Z7*6,H=T.R.aGK(V,t,c);if(o.Z7==1)H=!1;var b=o.qi||H?0:3,p=o.kq==I&&!q?1:0;
if(!q&&n!=0){if(M[n-1].sI.oq(o.sI)&&M[n-1].kq!=o.kq)p=0;for(var X=0;X<M.length;X++)if(X!=n&&M[X].sI.oq(o.sI))p=0}Q.push({e:b,length:o.Z7+(H?0:1),xq:e?0:p,HO:2});
for(var X=0;X<o.Z7;X++){var D=t+X*6,k=new f5(V[D],V[D+1]),g=new f5(V[D+2],V[D+3]),Y;if(X==0){if(H){Y=new f5(V[c-4],V[c-3]);
if(f5.h5(Y,k)<1e-5)Y=k.Y()}else Y=k.Y()}else Y=new f5(V[D-2],V[D-1]);Q.push({e:b+2,li:Y,O0:k,kS:g})}if(!H){var R=new f5(V[c-2],V[c-1]);
Q.push({e:b+2,li:new f5(V[c-4],V[c-3]),O0:R,kS:R.Y()})}}for(var X=0;X<Q.length;X++){var m=Q[X];if(m.e>5||m.e==0||m.e==3)continue;
var Z=m.li.bs(m.O0)||m.kS.bs(m.kS);if(!Z){var u=m.li.x*(m.O0.y-m.kS.y)+m.O0.x*(m.kS.y-m.li.y)+m.kS.x*(m.li.y-m.O0.y);
if(Math.abs(u)<1e-6)Z=!0}if(Z)m.e--}return Q};T.R.W2=function(z,q){var e=T.S.S2(z),V=[];for(var n=2;
n<z.length;n++){var P=z[n].xq;if(P!=null){if(P==2||P==0||P==3||P==-1)V.push(P)}}var D=V.length!=0;if((D||q)&&1<e){console.log(D,q,e,"merge");
if(z.length<5e3&&e<30)z=T.S.A4(z);else alert("Too complex shapes, skipping the merging step.")}var B=T.R.EP(z);
return{tT:B,Ds:e==1?z[2].HO==2?0:1:D?1:0}};T.R.EP=function(){function z(V,P,D,B){if(B!=2&&V.kS.bs(V.O0)&&P.li.bs(P.O0)){D.J.push(P.O0.x,P.O0.y);
D._.push("L")}else{var A=V.O0,s=V.kS,a=P.li,M=P.O0,$=3/2*s.x-1/2*A.x,U=3/2*s.y-1/2*A.y,o=3/2*a.x-1/2*M.x,t=3/2*a.y-1/2*M.y,c=o-$,H=t-U;
if(B==0&&c*c+H*H<.001){D.J.push(($+o)*.5,(U+t)*.5,M.x,M.y);D._.push("Q")}else{D.J.push(s.x,s.y,a.x,a.y,M.x,M.y);
D._.push("C")}}}function q(V,P,n,D,B,A){var s=P[n];V.J.push(s.O0.x,s.O0.y);V._.push("M");for(var a=n;
a<n+D-1;a++)z(P[a],P[a+1],V,A);if(!B)z(P[a],P[n],V,A)}function e(V,P){if(P==null)P=0;var D={J:[],_:[]};
for(var n=0;n<V.length;n++){if(V[n].e>5)continue;var B=V[n].length;if(B==0)continue;if(n==V.length-1)break;
var A=V[n].e==3;q(D,V,n+1,B,A,P);if(!A)D._.push("Z");n+=B}return D}return e}();T.R.aqg=function(z){var q=z.J,e=[],V,P=0;
for(var n=0;n<z._.length;n++){var D=z._[n];if(D=="C"){V.push(q[P++],q[P++],q[P++],q[P++],q[P++],q[P++])}else if(D=="Z"){}else{V=[];
if(D!="M"){V.push(D);n++}V.push(q[P++],q[P++]);e.push(V)}}return e};T.R.NV=function(z,q,e,V,P){if(V==null)V=1e9;
if(P==null)P=-1;var D=1e9,B=0;for(var n=0;n<z.length;n+=2){if(n>>>1==P)continue;var A=q-z[n],s=e-z[n+1],a=A*A+s*s;
if(a<D){D=a;B=n>>>1}}return D<V*V?B:-1};T.R.al9=function(z,q,e,V){for(var n=0;n<z.length;n+=2){var P=z[n],D=z[n+1],B=q[n],A=q[n+1];
e[n]=P+(B-P)*V;e[n+1]=D+(A-D)*V}};T.R.v=function(z,q,e){for(var n=0;n<z.length;n+=2){var V=z[n],P=z[n+1];
e[n]=V*q.x6+P*q.I$+q.yK;e[n+1]=V*q.c+P*q.at+q.ww}};T.R.mB=function(z,q,e){if(q==null)q=0;if(e==null)e=z.length;
var V=99999999999,P=-V,D=99999999999,B=-D;for(var n=q;n<e;n+=2){var A=z[n],s=z[n+1];V=Math.min(V,A);
D=Math.min(D,s);P=Math.max(P,A);B=Math.max(B,s)}return new kk(V,D,P-V,B-D)};T.R.ayk=function(z,q){var e=Math.max(q.x,Math.min(q.x+q.s,z.x)),V=Math.max(q.y,Math.min(q.y+q.T,z.y)),P=z.x-e,D=z.y-V;
return Math.sqrt(P*P+D*D)};T.R.JY=function(z,q){var e=Math.floor,V=Math.ceil;if(q){e=Math.ceil;V=Math.floor}var P=e(z.x),D=V(z.x+z.s),B=e(z.y),A=V(z.y+z.T);
return new kk(P,B,D-P,A-B)};T.R.b_=function(z,q){var e=T.R.mB(z);if(q)e.Gm(-1e-9,-1e-9);return T.R.JY(e)};
T.R.iR=function(z,q){var e=z.x,V=z.y,P=z.x+z.s,D=z.y+z.T,B=[e,V,P,V,P,D,e,D];if(q){var A=q.Y();A.TG();
T.R.v(B,A,B)}return{_:["M","L","L","L","Z"],J:B}};T.R.concat=function(z,q,e){if(e==null)e=new e5;var V=q.J,P=q._;
for(var n=0;n<V.length;n+=2){var D=V[n],B=V[n+1];z.J.push(D*e.x6+B*e.I$+e.yK);z.J.push(D*e.c+B*e.at+e.ww)}for(var n=0;
n<P.length;n++)z._.push(P[n])};T.R.reverse=function(z){var q=z._.slice(1),e=q.pop();if(e!="Z")q.push(e);
q.reverse();q=["M"].concat(q);if(e=="Z")q.push("Z");var V=[],P=z.J.length;for(var D=0;D<P;D+=2){V[D]=z.J[P-2-D];
V[D+1]=z.J[P-2-D+1]}return{J:V,_:q}};T.R.auY=function(z,q,e,V,P){function D(U,o,t){return new f5(U.x*(1-t)+o.x*t,U.y*(1-t)+o.y*t)}var B=D(z,q,P),A=D(e,V,P),s=D(q,e,P),a=D(B,s,P),M=D(s,A,P),$=D(a,M,P);
return[B,a,$,M,A]};T.R.VW=function(z){var q=z.J,e=[],V=[],P=0,D=0,B=0,A=0,s=0,a=0,M=0,$=0,U=0,o=0,t=0;
for(var n=0;n<z._.length;n++){var c=z._[n];if(c=="M"){D=q[P];B=q[P+1];P+=2;V.push(c);e.push(D,B);o=D;
t=B}else if(c=="C"){A=q[P];s=q[P+1];a=q[P+2];M=q[P+3];$=q[P+4];U=q[P+5];P+=6;V.push(c);e.push(A,s,a,M,$,U);
D=$;B=U}else if(c=="Q"){A=q[P];s=q[P+1];a=q[P+2];M=q[P+3];P+=4;var H=A-D,F=s-B,i=a-A,X=M-s;V.push("C");
e.push(D+2/3*H,B+2/3*F,A+1/3*i,s+1/3*X,a,M);D=a;B=M}else if(c=="L"){A=q[P];s=q[P+1];P+=2;if(A!=D||s!=B){V.push("C");
e.push(D,B,A,s,A,s);D=A;B=s}}else{if(c=="Z"){D=o;B=t}V.push(c)}}return{_:V,J:e}};T.R.awj=function(z){var q=z.J,e=[],V=[],P=0;
for(var n=0;n<z._.length;n++){var D=z._[n];if(D=="Q"){var B=q[P-2],A=q[P-1],s=q[P],a=q[P+1],M=q[P+2],$=q[P+3];
P+=4;var U=s-B,o=a-A,t=M-s,c=$-a;V.push("C");e.push(B+2/3*U,A+2/3*o,s+1/3*t,a+1/3*c,M,$)}else{var H=0;
if(D=="M"||D=="L")H=2;else if(D=="C")H=6;for(var F=0;F<H;F++)e.push(q[P+F]);P+=H;V.push(D)}}return{_:V,J:e}};
T.R.V9=function(z,q){var e=z.J,V=[],P=[],D=0,B=0,A=0,s=0,a=0,M=0,$=0,U=0,o=0;for(var n=0;n<z._.length;
n++){var t=z._[n];if(t=="M"){B=e[D];A=e[D+1];D+=2;P.push(t);V.push(B,A)}else if(t=="C"){s=e[D];a=e[D+1];
M=e[D+2];$=e[D+3];U=e[D+4];o=e[D+5];D+=6;T.R.AP(B,A,s,a,M,$,U,o,q,P,V,0);B=U;A=o}else P.push(t)}return{_:P,J:V}};
T.R.AP=function(z,q,e,V,P,D,B,A,s,a,M,$){var U=Math.sqrt((B-z)*(B-z)+(A-q)*(A-q)),o=Math.sqrt((B-P)*(B-P)+(A-D)*(A-D))+Math.sqrt((P-e)*(P-e)+(D-V)*(D-V))+Math.sqrt((e-z)*(e-z)+(V-q)*(V-q)),t=(U+o)/2;
if(t<=s){a.push("C");M.push(e,V,P,D,B,A)}else{var c=0,H=0,F=0,i=0,X=0,K=0,f=0,d=0,L=0,G=0,x=0,O=0,v=0;
H=(z+e)/2;F=(q+V)/2;i=(e+P)/2;X=(V+D)/2;K=(P+B)/2;f=(D+A)/2;d=(H+i)/2;L=(F+X)/2;G=(i+K)/2;x=(X+f)/2;
O=(d+G)/2;v=(L+x)/2;T.R.AP(z,q,H,F,d,L,O,v,s,a,M,$+1);T.R.AP(O,v,G,x,K,f,B,A,s,a,M,$+1)}};T.R._J=function(z,q,e,V,P){var D=Date.now(),B=T.R.akA(z,q,e);
if(P){console.log("trace polygons",Date.now()-D);D=Date.now()}var A=[];for(var n=0;n<B.length;n++){var s=B[n],a=s[0],M=["M"],$=z[a[1]*q+a[0]];
if(a.length>8)a=T.R.abu(a,V,s[1]);if(a.length<=4)continue;for(var U=2;U<a.length;U+=2)M.push("L");M.push("Z");
A.push({path:{J:a,_:M},color:$,parent:-1,sI:T.R.mB(a)})}if(P){console.log("simplify polygons",Date.now()-D);
D=Date.now()}for(var n=1;n<A.length;n++){var o=A[n],t=o.path.J,c=t[0],H=t[1],F=t[2],i=t[3],X=F-c,K=i-H,f=c+.5*X-.001*K,d=H+.5*K+.001*X;
for(var U=n-1;U>=0;U--){var L=A[U];if(!L.sI.oq(o.sI))continue;if(!jL.Sg(L.path.J,f,d))continue;o.parent=U;
break}}if(P){console.log("checking parents",Date.now()-D);D=Date.now()}return A};T.R.akA=function(z,q,e){var V=q*e,P=new Uint16Array(q*e),B=0;
for(var n=0;n<V;n++)P[n]=z[n];var D=new Uint8Array(q*e);D[1*q+1]=D[(e-1)*q+1]=D[1*q+q-1]=D[(e-1)*q+q-1]=1;
for(var A=1;A<e;A++)for(var s=1;s<q;s++){var n=A*q+s,a=P[n-q-1],M=P[n-q],$=P[n-1],U=P[n],o=a==U&&M==$&&a!=M,t=0;
if(U<$){B=U;U=$;$=B}if($<M){B=$;$=M;M=B}if(M<a){B=M;M=a;a=B}if(U<$){B=U;U=$;$=B}if($<M){B=$;$=M;M=B}if(U<$){B=U;
U=$;$=B}if(a!=M)t++;if(M!=$)t++;if($!=U)t++;if(U!=a)t++;if(t>=3||o)D[n]=1}var c=[];for(var A=1;A<e;A++)for(var s=1;
s<q;s++){var n=A*q+s;if(P[n]!=P[n-1]){var H=T.R.aCE(P,q,e,s,A),F=[];for(var i=0;i<H.length;i+=2)if(D[H[i+1]*q+H[i]]==1)F.push(i>>>1);
c.push([H,F]);T.R.Bv(P,q,e,s,A)}}return c};T.R.Bv=function(z,q,e,V,P){var D=[P*q+V],B=z[P*q+V];z[P*q+V]=65535;
while(D.length!=0){var n=D.pop();z[n]=0;if(z[n+q]==B){D.push(n+q);z[n+q]=65535}if(z[n-q]==B){D.push(n-q);
z[n-q]=65535}if(z[n-1]==B){D.push(n-1);z[n-1]=65535}if(z[n+1]==B){D.push(n+1);z[n+1]=65535}}};T.R.aCE=function(z,q,e,V,P){var D=[0,-1,1,0,0,1,-1,0],M=1;
function B(U,o,M){var n=a*q+s,t=0;if(M==0)t=n-q;else if(M==1)t=n;else if(M==2)t=n-1;else if(M==3)t=n-q-1;
return z[t]}var A=[],s=V,a=P,$=B(s,a,M);do{A.push(s,a);s+=D[M*2];a+=D[M*2+1];if(B(s,a,M)!=$)M=M+1&3;
else if(B(s,a,M+3&3)!=$)M=M;else if(B(s,a,M+2&3)!=$)M=M+3&3}while(s!=V||a!=P);return A};T.R.abu=function(z,q,e){if(q==null||q==0)return z;
var V=z.length-2;if(e&&e.length!=0){var P=e[0]*2,D=e[e.length-1]*2,B=P==0?V:P-2,A=z.slice(D);for(var n=0;
n<P;n++)A.push(z[n]);if(P==D)A.push(.9*z[P]+.1*z[B],.9*z[P+1]+.1*z[B+1]);else A.push(z[P],z[P+1]);A=T.R.zR(A,q);
A.pop();A.pop();for(var n=0;n<e.length-1;n++){var s=z.slice(e[n]*2,e[n+1]*2+2);s=T.R.zR(s,q);for(var a=0;
a<s.length-2;a++)A.push(s[a])}return A}var M=z.slice(0);M.push(.9*z[0]+.1*z[V],.9*z[1]+.1*z[V+1]);M=T.R.zR(M,q);
M.pop();M.pop();return M};T.R.zR=function(z,q){var e=z.length-2,V=z[0],P=z[1],D=z[e],B=z[e+1],A=D-V,s=B-P,a=1/Math.sqrt(A*A+s*s),M=D*P-B*V,$=-1,U=-1,o=0;
for(var n=2;n<e;n+=2){var t=z[n],c=z[n+1],H=c*c*1e6+t*t,F=Math.abs(s*t-A*c+M)*a;if(F>U||F==U&&H>o){U=F;
$=n;o=H}}if(U<q)return[V,P,D,B];var i=T.R.zR(z.slice(0,$+2),q),X=T.R.zR(z.slice($),q);for(var n=2;n<X.length;
n++)i.push(X[n]);return i};T.R.aiV=function(){var z=function(V,P,D,B,A,s){return(P-B)*(A-D)+(D-V)*(s-B)>=0},q=function(V,P,D,B,A,s,a,M){var $=a-D,U=M-B,o=A-D,t=s-B,c=V-D,H=P-B,F=$*$+U*U,i=$*o+U*t,X=$*c+U*H,K=o*o+t*t,f=o*c+t*H,d=1/(F*K-i*i),L=(K*X-i*f)*d,G=(F*f-i*X)*d;
return L>=0&&G>=0&&L+G<1},e=function(V){var hE=V.length>>>1,n=0;if(hE<3)return[];var P=[],D=[];for(var n=0;
n<hE;n++)D.push(n);var B=hE;while(B>3){var A=D[(n+0)%B],s=D[(n+1)%B],a=D[(n+2)%B],M=V[2*A],$=V[2*A+1],U=V[2*s],o=V[2*s+1],t=V[2*a],c=V[2*a+1],H=!1;
if(z(M,$,U,o,t,c)){H=!0;for(var F=0;F<B;F++){var i=D[F];if(i==A||i==s||i==a)continue;if(q(V[2*i],V[2*i+1],M,$,U,o,t,c)){H=!1;
break}}}if(H){P.push(A,s,a);D.splice((n+1)%B,1);B--;n=0}else if(n++>3*B)break}P.push(D[0],D[1],D[2]);
return P};return e}();T.R.ajW=function(z,q){var e={},V={_:[],J:[]};for(var n=0;n<q.length;n+=3){var P=q[n]*2,D=q[n+1]*2,B=q[n+2]*2;
T.R.pZ(z,P,D,V,e);T.R.pZ(z,P,B,V,e);T.R.pZ(z,D,B,V,e)}return V};T.R.pZ=function(z,q,e,V,P){if(q>e){var D=e;
e=q;q=D}if(P[q+","+e])return;P[q+","+e]=!0;V._.push("M","L");V.J.push(z[q],z[q+1],z[e],z[e+1])};T.R.apz=function(z,q){var e=[],V=z.length;
for(var n=0;n<V;n+=2){var P=z[n],D=z[n+1],B=z[(n+2)%V],A=z[(n+3)%V];if(A<D){var s=D;D=A;A=s}if(D<q&&q<A){var a=(q-D)/(A-D);
e.push(P+a*(B-P))}}e.sort(function(M,$){return M-$});return e};T.R.ahe=function(z,q,e,V,P,D,B){var A=z-e,s=q-V,a=P-e,M=D-V,$=1/Math.sqrt(A*A+s*s),U=1/Math.sqrt(a*a+M*M),o=A*$,t=s*$,c=a*U,H=M*U,F=t*B,i=-o*B,X=-H*B,K=c*B,f=T.R.WM(F,i,o,t,X,K,c,H),d=F+o*f,L=i+t*f,f=T.R.WM(0,0,o,t,d,L,-t,o),G=o*f,x=t*f;
return[Math.sqrt(G*G+x*x),o,t,c,H]};T.R.azU=function(z,q,e,V,P,D,B){var A=T.R.ahe(z,q,e,V,P,D,B),s=A[0],a=A[1],M=A[2],$=A[3],U=A[4],o=Math.atan2(a*U-M*$,a*$+M*U);
if(o<0){o=o*-1}var t=Math.PI-o,c=4/3*Math.tan(t/4),H=e+s*a,F=V+s*M,i=e+s*$,X=V+s*U,K=H+c*B*-a,f=F+c*B*-M,d=i+c*B*-$,L=X+c*B*-U;
return[0,0,H,F,K,f,d,L,i,X]};T.R.WM=function(z,q,e,V,P,D,B,A){var s=B*(q-D)-A*(z-P),a=A*e-B*V;if(a==0)return 0;
return s/a};T.R.WQ=function(z,q,e,V,P,D){return z*(V-D)+e*(D-q)+P*(q-V)};T.R.aGu=function(z){function q(w,u,l,I,Q,b,p,k,g){var Y=T.R.WM(w,u,l,I,Q,b,p,k);
g.push(w+l*Y,u+I*Y)}var e=[],V=z.length,P=[];for(var n=0;n<V;n+=2){var D=n==0?V-2:n-2,B=n==V-2?0:n+2,A=z[n],s=z[n+1],a=A-z[D],M=s-z[D+1],$=z[B]-A,U=z[B+1]-s,o=Math.sqrt(a*a+M*M),t=Math.sqrt($*$+U*U);
P.push(t);var c=o/(o+t),H=A-a*.5,F=s-M*.5,i=A+$*.5,X=s+U*.5,K=(z[B]+z[D])*.5,f=(z[B+1]+z[D+1])*.5,d=H+c*(i-H),L=F+c*(X-F),x=A-d,O=s-L,v=($*-a+U*-M)/(o*t),C=(c-.5)*7,S=1+C*c,j=1-C*(1-c);
e.push(H+x*S,F+O*S,i+x*j,X+O*j)}return e};T.Aj=function(){};T.Aj.Fj=function(z,q,e,V,P){var D=e.s,B=e.T,A=D*B,s=new Int32Array(A),hE=0;
for(var n=0;n<A;n++)if(q[n]!=0){s[n]=hE;hE++}else if(z[(n<<2)+3]<200){s[n]=-2}else s[n]=-1;if(hE==0)return;
var a=new T.WJ(hE,hE),M=new Array(3*hE),$=new Array(3*hE);for(var n=0;n<$.length;n++)$[n]=M[n]=0;var U=1/255,o=[-D,-1,1,D],t=[],c=[];
for(var H=0;H<B;H++)for(var F=0;F<D;F++){var i=H*D+F,X=i<<2,n=s[i],K=n*3,f=0,d=0,L=0;if(n==-1||n==-2)continue;
for(var G=0;G<4;G++){if(G==2){d=L;t[L]=0;c[L]=n;L++}var x=i+o[G],O=x<<2,v=s[x];if(G==0&&H==0||G==1&&F==0||G==2&&F==D-1||G==3&&H==B-1||v==-2)continue;
f++;if(v==-1){M[K+0]+=z[O+0];M[K+1]+=z[O+1];M[K+2]+=z[O+2]}else{t[L]=-1;c[L]=v;L++;if(q[i]==q[x]){M[K+0]+=z[X+0]-z[O+0];
M[K+1]+=z[X+1]-z[O+1];M[K+2]+=z[X+2]-z[O+2]}}}t[d]=f;a.FP(t,c,L)}for(var n=0;n<A;n++)if(s[n]!=-1){var C=n<<2,S=s[n],j=S*3;
$[j]=z[C+0];$[j+1]=z[C+1];$[j+2]=z[C+2]}var w=Date.now();a.aCJ($,M,V,P);console.log(Date.now()-w);for(var n=0;
n<A;n++){var S=s[n],u=S*3,C=n<<2;if(S==-1||z[C+3]!=255)continue;z[C+0]=~~(.5+Math.max(0,Math.min(255,$[u+0])));
z[C+1]=~~(.5+Math.max(0,Math.min(255,$[u+1])));z[C+2]=~~(.5+Math.max(0,Math.min(255,$[u+2])))}};T.V={};
T.V.aF6=function(z,q){var e=[z],V=[];for(var n=0;n<q.length;n++){var P=q[n],D=!1;for(var B=n+1;B<q.length;
B++){var A=q[B];if(A[0]<=P[0]&&A[1]<=P[1]&&P[2]<=A[2]&&P[3]<=A[3]){D=!0;break}}if(!D)V.push(P)}q=V;for(var n=0;
n<q.length;n++){var P=q[n];for(var B=0;B<e.length;B++){var A=e[B],s=Math.max(P[0],A[0]),a=Math.min(P[2],A[2]),M=Math.max(P[1],A[1]),$=Math.min(P[3],A[3]);
if(s<a&&M<$){var U=[];if(A[1]<P[1]){var o=A.slice(0);o[3]=P[1];U.push(o)}if(A[0]<P[0]){var t=A.slice(0);
t[1]=M;t[2]=P[0];U.push(t)}if(P[2]<A[2]){var c=A.slice(0);c[1]=M;c[0]=P[2];U.push(c)}if(P[3]<A[3]){var H=[s,$,a,A[3]];
U.push(H)}if(U.length!=0){e[B]=U[0];for(var F=1;F<U.length;F++)e.push(U[F])}}}e.push(P);e=T.V.a6y(e)}e.sort(function(P,A){return P[1]!=A[1]?P[1]-A[1]:P[0]-A[0]});
for(var n=1;n<e.length;n++){var P=e[n-1],A=e[n];if(P[0]==A[0]&&P[1]==A[1]&&P[2]==A[2]&&P[3]==A[3]){e.splice(P[4]==null?n-1:n,1);
n--}}return e};T.V.a6y=function(z){z=z.slice(0);for(var n=0;n<z.length;n++){var q=z[n],e=null;if(q[4]!=null)continue;
for(var V=0;V<z.length;V++){var P=z[V];if(n==V||P[4]!=null)continue;var D=q[0]==P[0],B=q[1]==P[1],A=q[2]==P[2],s=q[3]==P[3];
if(B&&s&&(q[2]==P[0]||q[0]==P[2])){e=[Math.min(q[0],P[0]),q[1],Math.max(q[2],P[2]),q[3]]}if(D&&A&&(q[3]==P[1]||q[1]==P[3])){e=[q[0],Math.min(q[1],P[1]),q[2],Math.max(q[3],P[3])]}if(e){z[n]=e;
z.splice(V,1);break}}if(e){n--}}return z};T.V.d4=function(z){var q=new kk;for(var n=0;n<z.length;n++)q=q.X8(z[n]);
return q};T.V.afX=function(z,q){var e=T.V.d4,V=new UnionFind(z.length),d=1e3,L=1e3;for(var n=0;n<z.length;
n++)for(var P=n+1;P<z.length;P++){if(!q)continue;var D=z[n],B=z[P],$=1e9,U=1e9;if(D.Je(B)){V.link(n,P);
continue}var A=D.x+D.s,s=D.y+D.T,a=B.x+B.s,M=B.y+B.T;if((A<B.x||a<D.x)&&(s<B.y||M<D.y))continue;if(!(s<B.y||M<D.y))$=Math.min(Math.abs(A-B.x),Math.abs(D.x-a));
if(!(A<B.x||a<D.x))U=Math.min(Math.abs(s-B.y),Math.abs(D.y-M));var o=Math.min($,U),t=Math.min(D.s,D.T,B.s,B.T);
if(o<.3*t)V.link(n,P)}var c=[],H={};for(var n=0;n<z.length;n++){var F=V.find(n),i=z[n];if(H[F]==null){H[F]=c.length;
c.push([])}c[H[F]].push(i)}var X=[],K=[];for(var n=0;n<c.length;n++){X.push(e(c[n]));var f=e(c[n]);f.J0=n;
K.push(f)}K.sort(function(l,I){return Math.max(I.T,I.s)-Math.max(l.T,l.s)});var G=new NETXUS.RectanglePacker(d,L);
while(!0){var x=!1;G.reset(d,L);for(var n=0;n<K.length;n++){var O=G.findCoords(K[n].s,K[n].T);if(O){K[n].x=O.x;
K[n].y=O.y}else{d=Math.floor(d*1.1);L=Math.floor(L*1.1);x=!0;break}}if(x)continue;break}for(var n=0;
n<c.length;n++){var v=K[n],C=v.J0,S=X[C],j=c[C],w=v.x-S.x,u=v.y-S.y;for(var P=0;P<j.length;P++)j[P].offset(w,u)}};
T.V.aqV=function(z){var q=[],e=[],V=function(f,d){return f-d};for(var n=0;n<z.length;n++){var P=z[n];
if(q.indexOf(P[0])==-1)q.push(P[0]);if(q.indexOf(P[2])==-1)q.push(P[2]);if(e.indexOf(P[1])==-1)e.push(P[1]);
if(e.indexOf(P[3])==-1)e.push(P[3])}q.sort(V);e.sort(V);q.push(q[q.length-1]+1);e.push(e[e.length-1]+1);
var D=[],B=q.length-1,A=e.length-1;for(var s=0;s<A;s++){var a=[];D.push(a);for(var M=0;M<B;M++){var $=q[M],U=q[M+1],o=e[s],t=e[s+1],c=($+U)/2,H=(o+t)/2,F=-1,i=-1;
for(var n=0;n<z.length;n++){var P=z[n];if(P[0]==$&&P[1]==o)F=n;if(P[0]<c&&c<P[2]&&P[1]<H&&H<P[3])i=n}if(F!=-1){var P=z[F],X=1,K=1;
while(q[M+X]<P[2])X++;while(e[s+K]<P[3])K++;a.push([F,P[2]-P[0],P[3]-P[1],X,K])}else if(i!=-1)continue;
else a.push([-1,U-$,t-o,1,1])}}return[q.pop(),e.pop(),D]};T.V.a1M=function(z,q,e,V){var P=T.V.aqV(z),D=["<table id=\"Table_01\" width=\""+P[0]+"\" height=\""+P[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],B=P[2];
for(var n=0;n<B.length;n++){var A=B[n];D.push("\t<tr>");for(var s=0;s<A.length;s++){var a=A[s],M=null,$="",U="",o=a[3],t=a[4],F="";
if(a[0]!=-1){var c=a[0],H=z[c];if(H.length==5){M=e[H[4]].v;$=M.url.v}U="src=\""+q[c]+"\"";if(H[4]==null&&V==2)U=""}if(o!=1)F+=" colspan=\""+o+"\"";
if(t!=1)F+=" rowspan=\""+t+"\"";D.push("\t\t<td"+F+">");if($!="")D.push("\t\t\t<a href=\""+$+"\" target=\""+M.null.v+"\">");
D.push(($==""?"":"\t")+"\t\t\t<img "+U+" width=\""+a[1]+"\" height=\""+a[2]+"\" alt=\""+(M?M.altTag.v:"")+"\"></td>"+($==""?"":"</a>"))}if(n==B.length-1){D.pop();
D.pop();D.push("\t\t<td></td>")}D.push("\t</tr>")}D.push("</table>");return D.join("\n")};T.tR=function(){};
T.tR._l=Math.floor(16*window.devicePixelRatio);T.tR.qO={};T.tR.MZ=0;T.tR.k6=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
T.tR.wZ=["px","in","cm","mm","%"];T.tR.rp=function(z,q,e,V){var P=[1,q,q/2.54,q/25.4,e/100][V];return z*P};
T.tR.a5=function(z,q,e,V){var P=[1,q,q/2.54,q/25.4,e/100][V];return z/P};T.tR.Xw=function(z,q,e,V,P){var D=e.Y8.oZ,B=[1,q,q/2.54,q/25.4,V/100][D],A=[2,3,2,1,2][D];
z=z/B;var s=Math.round(z),a=D==0&&Math.abs(z-s)<1e-6?s+"":z.toFixed(A);if(P)a+=" "+T.tR.wZ[D];return a};
T.tR.a6d=function(z,q,e,V){var P=e.Y8.oZ,D=[1,q,q/2.54,q/25.4,V/100][P];z=parseFloat(z)*D;return z};
T.tR.ay4=function(z,q){var e=z+","+q;if(T.tR.qO.clr==e)return;var V=Math.round(T.tR._l*.5);T.tR.MZ=V;
var P=T.Hx(V,V);P.save();P.font=V*1.5+"px monospace";var D="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var n=0;
n<D.length;n++){P.fillStyle="#"+T.R0(q);P.fillRect(0,0,V,V);P.fillStyle="#"+T.R0(z);P.fillText(D[n],0,V);
T.tR.qO[D[n]]=new Uint8Array(P.getImageData(0,0,V,V).data.buffer)}T.tR.qO.clr=e;P.restore()};T.tR.ac1=function(z,q,e,V){var P=0,D=0,B=4*T.tR._l;
for(var n=9;n>=0;n--){var A=Math.pow(10,n);if(5*A*z<=B){P=5*A;D=10;break}if(2*A*z<=B){P=2*A;D=4;break}if(1*A*z<=B){P=1*A;
D=V;break}}if(P==0){P=1;D=V}var s=Math.ceil(P*z),a=T.n(s*T.tR._l*4);T.FH(a,4278190080|e);for(var n=0;
n<T.tR._l;n++)T.tR.YV(a,4*n*s,q);for(var n=0;n<s;n++)T.tR.YV(a,4*((T.tR._l-1)*s+n),q);if(P==2)D=2;if(P==5)D=5;
if(P>1||P==1&&s>20)for(var n=1;n<D;n++)T.tR.akE(a,n*(s/D),s,(n&1)==1?.8:.7,q);return{Nm:a,step:P}};T.tR.akE=function(z,q,e,V,P){var q=Math.round(q);
for(var D=Math.round(T.tR._l*V);D<T.tR._l-1;D++)T.tR.YV(z,4*(D*e+q),P)};T.tR.YV=function(z,q,e){z[q+0]=e>>16&255;
z[q+1]=e>>8&255;z[q+2]=e&255};T.tR.a5N=function(z,q,e,V,P,D,B,A){var s=z.bX.s,a=z.bX.T,M=T.tR._l,$=q&255,U=q>>8&255,t=q>>16&255;
q=Math.round($*.6)<<16|Math.round(U*.6)<<8|Math.round(t*.6);T.tR.ay4(Math.round($*.8)<<16|Math.round(U*.8)<<8|Math.round(t*.8),e);
var c=z.C7,H=z.g,F=z.gV;for(var i=0;i<2;i++){var X=i==0?D:B;z.C7=X[0];z.g=X[1];z.gV=0;var K=this.ac1(z.C7,q,e,A),f=z.UK(0,0),d=z.UK(s,a),L=Math.floor(f.x/K.step)*K.step,G=Math.ceil(d.x/K.step)*K.step,x=Math.floor(f.y/K.step)*K.step,O=Math.ceil(d.y/K.step)*K.step,v=z.Gb(L,x),C=z.Gb(G,x),S=K.step*z.C7,j=Math.ceil(S);
if(i==1){var w=K.Nm;K.Nm=T.n(w.length*4);T.O.TL(w,K.Nm,j,M)}var u=i==0?z.Xm.data:z.H$.data,l=new kk(0,0,[s,M][i],[M,a][i]),I=new kk(0,0,[j,M][i],[M,j][i]),Q=new kk([0,Math.round(M*.2)][i],[Math.round(M*.08),0][i],T.tR.MZ,T.tR.MZ),b=(i==0?G-L:O-x)/K.step;
for(var n=0;n<b;n++){if(i==0)I.x=Math.round(v.x+n*S);else I.y=Math.round(v.y+n*S);T.aF(K.Nm,I,u,l,I);
var p=(i==0?L+n*K.step:Math.abs(x+n*K.step)).toString(10);for(var k=0;k<p.length;k++){if(i==0)Q.x=I.x+3+k*Math.round(T.tR.MZ*.8);
else Q.y=I.y+3+k*Math.round(T.tR.MZ*1.15);var g=T.tR.qO[p[k]];T.aF(g,Q,u,l,Q)}}}z.C7=c;z.g=H;z.gV=F;
var Y=Math.floor(M*.6),R=new Uint32Array(z.Xm.data.buffer),m=new Uint32Array(z.H$.data.buffer),Z=$<128?4278190080:4294967295;
if(0<V&&V<s)for(var n=0;n<Y;n++)R[n*s+V]=Z;if(0<P&&P<a)for(var n=0;n<Y;n++)m[P*M+n]=Z;var E=4278190080+e;
for(var N=0;N<M;N++)for(var h=0;h<M;h++){R[N*s+h]=E;m[N*M+h]=E}};T.scale={};T.scale.TX=document.createElement("canvas");
T.scale.YI=T.scale.TX.getContext("2d");T.scale._L=function(z,q,e){var V=T.scale.TX,P=T.scale.YI;V.width=q;
V.height=e;var D=new ImageData(new Uint8ClampedArray(z.buffer),q,e);P.putImageData(D,0,0);return P.createPattern(P.canvas,"repeat")};
T.scale.akf=function(z,q,e,V,P,D,B,A,s){var a=T.scale.aGE(z,e,V,P,D,B,A,s);if(q){q.set(T.EZ(a,T.Gx(q)))}return new Uint8Array(a.buffer)};
T.scale.aGE=function(z,q,e,V,P,D,B,A){var s=T.Hx(q,e);s.save();s.beginPath();s.rect(0,0,q,e);s.translate(D,B);
s.scale(V,P);if(A!=null)s.rotate(-A);s.fillStyle=z;s.fill();s.restore();return new Uint8Array(s.getImageData(0,0,q,e).data.buffer)};
T.scale.v=function(z,q,e,V,P){var D=T.Gx(z),B=e.c==0&&e.I$==0,A=P.s,s=P.T,a=T.R.iR(q,e).J,M=T.R.b_(a,B).HX(P),$=M.x,U=M.y,o=$+M.s,t=U+M.T,c=~~q.x,H=~~q.y,F=~~q.s,i=~~q.T;
if(e.x6*(o-1+.5)+e.yK-c>F)o--;if(B&&D==8)for(var X=U;X<t;X++){var K=e.at*(X+.5)+e.ww-H,f=~~K*F;for(var d=$;
d<o;d++){var L=e.x6*(d+.5)+e.yK-c,n=f+~~L;V[X*A+d]=z[n]}}else if(B)for(var X=U;X<t;X++){var K=e.at*(X+.5)+e.ww-H,f=~~K*F;
for(var d=$;d<o;d++){var L=e.x6*(d+.5)+e.yK-c,n=f+~~L;if(D==8)V[X*A+d]=z[n];else if(D==16)V[X*A+d]=z[n]>>>8;
else V[X*A+d]=z[n]*255}}else for(var X=U;X<t;X++)for(var d=$;d<o;d++){var G=d+.5,x=X+.5,L=e.x6*G+e.I$*x+e.yK-c,K=e.c*G+e.at*x+e.ww-H;
if(0<=L&&0<=K&&L<F&&K<i){var n=~~K*F+~~L;if(D==8)V[X*A+d]=z[n];else if(D==16)V[X*A+d]=z[n]>>>8;else V[X*A+d]=z[n]*255}}};
T.scale.qn=function(z,q,e,V,P,D){function B(b){return 255*b}var A=T.Gx(z),s=new Uint32Array(z.buffer),a=new Uint32Array(V.buffer),M=P.s,$=P.T,U=T.R.iR(q,e).J,o=D?P:T.R.b_(U).HX(P),t=o.x,c=o.y,H=t+o.s,F=c+o.T,i=~~q.x,X=~~q.y,K=~~q.s,f=~~q.T;
e=e.Y();e.translate(-i,-X);var d=e.a0(new f5(1,0)).SV(e.a0(new f5(0,0))),L=d.x,G=d.y;for(var x=c;x<F;
x++){var O=e.a0(new f5(t+.5,x+.5)),v=O.x,C=O.y,S=(x-P.y)*M+t-P.x;for(var j=t;j<H;j++){if(D){v=((K<<10)+v)%K;
C=((f<<10)+C)%f}if(0<=v&&0<=C&&v<K&&C<f){if(A==8)a[S]=s[~~C*K+~~v];else{var w=(~~C*K+~~v)*4,u,l,I,Q;
if(A==16){u=z[w]>>>8;l=z[w+1]>>>8;I=z[w+2]>>>8;Q=z[w+3]>>>8}else{u=B(z[w]);l=B(z[w+1]);I=B(z[w+2]);Q=B(z[w+3])}a[S]=Q<<24|I<<16|l<<8|u}}v+=L;
C+=G;S++}}};T.scale.qN=function(z,q,e,V,P,D,B){if(B<1)T.scale.arE(z,q,e,V,P,D,Math.round(1/B));else T.scale.alm(z,q,e,V,P,D,B)};
T.scale.vu=function(z,q,e,V,P,D,B,A){if(A)A=A.HX(new kk(0,0,q,e));z=new Uint32Array(z.buffer);V=new Uint32Array(V.buffer);
if(B<1)T.scale.ar4(z,q,e,V,P,D,Math.round(1/B),A);else T.scale.adW(z,q,e,V,P,D,B)};T.scale.alm=function(z,q,e,V,P,D,B){for(var A=0;
A<e;A++)for(var s=0;s<q;s++){var a=z[A*q+s],M=Math.min(B,P-s*B),$=Math.min(B,D-A*B);for(var n=0;n<$;
n++)for(var U=0;U<M;U++)V[(B*A+n)*P+B*s+U]=a}};T.scale.arE=function(z,q,e,V,P,D,B){for(var A=0;A<D;A++)for(var s=0;
s<P;s++){var a=0,M=Math.min(B,q-s*B),$=Math.min(B,e-A*B);for(var n=0;n<$;n++)for(var U=0;U<M;U++)a+=z[(B*A+n)*q+(B*s+U)];
V[A*P+s]=Math.round(a/(M*$))}};T.scale.adW=function(z,q,e,V,P,D,B){for(var A=0;A<e;A++)for(var s=0;s<q;
s++){var a=z[A*q+s],M=Math.min(B,P-s*B),$=Math.min(B,D-A*B);for(var n=0;n<$;n++)for(var U=0;U<M;U++)V[(B*A+n)*P+B*s+U]=a}};
T.scale.ahg=function(z,q,e){return(z>>>e&255)+(q>>>e&255)>>>1};T.scale.xT=function(z,q){var e=T.scale.ahg;
return e(z,q,24)<<24|e(z,q,16)<<16|e(z,q,8)<<8|e(z,q,0)};T.scale.a5l=function(z,q,e,V,P,D){var B=T.Gx(z);
if(B==8){var A=new Uint32Array(z.buffer),s=new Uint32Array(V.buffer);for(var a=0;a<e;a++){for(var M=0;
M<q;M++){var $=a*q+M,U=A[$],o=U,t=U,c=U;if(M<q-1)o=T.scale.xT(U,A[$+1]);if(a<e-1)t=T.scale.xT(U,A[$+q]);
if(M<q-1&&a<e-1)c=T.scale.xT(U,A[$+q+1]);var H=(a*P+M)*2;s[H]=U;s[H+1]=o;s[H+P]=t;s[H+P+1]=c}}if((P&1)==1)for(var a=0;
a<D;a++)s[a*P+P-1]=s[a*P+P-2];var F=P*(D-1);if((D&1)==1)for(var M=0;M<P;M++)s[F+M]=s[F-P+M]}else{var i=T.scale.aNE,X=T.scale.atd;
for(var a=0;a<e;a++){for(var M=0;M<q;M++){var $=a*q+M,H=(a*P+M)*2;i(z,$,V,H);if(M<q-1)X(z,$,$+1,V,H+1);
else i(z,$,V,H+1);if(a<e-1)X(z,$,$+q,V,H+P);else i(z,$,V,H+P);if(M<q-1&&a<e-1)X(z,$,$+q+1,V,H+P+1);else i(z,$,V,H+P+1)}}if((P&1)==1)for(var a=0;
a<D;a++)i(V,a*P+P-2,V,a*P+P-1);var F=P*(D-1);if((D&1)==1)for(var M=0;M<P;M++)i(V,F-P+M,V,F+M)}};T.scale.aNE=function(z,q,e,V){var P=q<<2,D=V<<2;
e[D]=z[P];e[D+1]=z[P+1];e[D+2]=z[P+2];e[D+3]=z[P+3]};T.scale.atd=function(z,q,e,V,P){var D=q<<2,B=e<<2,A=P<<2;
V[A]=(z[D]+z[B])*.5;V[A+1]=(z[D+1]+z[B+1])*.5;V[A+2]=(z[D+2]+z[B+2])*.5;V[A+3]=(z[D+3]+z[B+3])*.5};T.scale.ar4=function(z,q,e,V,P,D,B,A){var s=0,a=P,M=0,$=D;
if(A){s=Math.floor(A.x/B);a=Math.ceil((A.x+A.s)/B);M=Math.floor(A.y/B);$=Math.ceil((A.y+A.T)/B)}for(var U=M;
U<$;U++)for(var o=s;o<a;o++){var t=0,c=0,H=0,F=0,i=Math.min(B,q-o*B),X=Math.min(B,e-U*B);for(var n=0;
n<X;n++)for(var K=0;K<i;K++){var f=z[(B*U+n)*q+B*o+K],d=f>>>24;t+=d;c+=d*(f>>>16&255);H+=d*(f>>>8&255);
F+=d*(f&255)}if(t!=0){var L=1/t;V[U*P+o]=t/(i*X)<<24|c*L<<16|H*L<<8|F*L}else V[U*P+o]=0}};T.h=function(){function z(A,s,n){return(128&A[n-s-1]&A[n-s]&A[n-2]&A[n-1]&A[n+1]&A[n+s-1]&A[n+s])==0}function q(A,s,n){return(128&A[n-s-s]&A[n-s+1]&A[n+2]&A[n+s+1]&A[n+s+s])==0}function e(A,s,n){return(A[n-s]&A[n-1]&A[n+1]&A[n+s]&128)==0}function V(A,n){return(A[n]&128)!=0}function P(A,s,a,M){var n=0,$=a.s,U=a.T;
if(M)for(var o=0;o<U;o++)for(var t=0;t<$;t++){if(V(A,n)&&(t<2||o<2||t>$-3||o>U-3||((A[n-1]&128)==0||s[n-1]!=0)&&z(A,$,n)||q(A,$,n)))s[n]=255;
n++}else for(var o=0;o<U;o++)for(var t=0;t<$;t++){if(V(A,n)&&(t==0||o==0||t==$-1||o==U-1||e(A,$,n)))s[n]=255;
n++}}function D(A,s,a,M,$){var U=a.s,o=a.T,t=new Uint8Array(s.buffer),c=new Uint32Array(s.buffer);if($)for(var H=2;
H<o-2;H++)for(var F=2;F<U-2;F++){var n=H*U+F;if(V(A,n)&&(((A[n-1]&128)==0||c[n-1]!=0)&&z(A,U,n)||q(A,U,n)))c[n]=M[(F+H&4)>>>2]}else for(var H=1;
H<o-1;H++)for(var F=1;F<U-1;F++){var n=H*U+F;if(V(A,n)&&e(A,U,n)){c[n]=M[(F+H&4)>>>2]}}}function B(A,s,a,M,$,U){var o=.2+.8*U,t=a.s,c=a.T,H=$>>>16,F=$>>>8&255,i=$&255,n=0;
$=i<<16|F<<8|H;var X=new Uint8Array(s.buffer),K=new Uint32Array(s.buffer);if(M==1)for(var f=0;f<c;f++)for(var d=0;
d<t;d++,n++){var L=A[n];K[n]=(255-L)*o<<24|$}else for(var f=0;f<c;f++)for(var d=0;d<t;d++,n++){var L=A[n];
K[n]=255<<24|(L<<16|L<<8|L)}}return{aDJ:P,a2O:D,asO:B}}();T.mA={};T.mA.GV=function(z,q,e){var V,P;if(e==0){V=z.V.Y();
P=T.mA.a0B}if(e==1){V=z.V.X8(q.V);P=T.mA.X8}if(e==2){V=q.V.Y();P=T.mA.aH0}if(e==3){V=z.V.HX(q.V);P=T.mA.HX}if(e==4){V=z.V.X8(q.V);
P=T.mA.a0a}if(V.a8())return null;var D=T.Gx(z.o),B=T.n(V.D(),D);T.KY(q.o,q.V,B,V);var A=T.n(V.D(),D);
T.KY(z.o,z.V,A,V);P(A,B,B);var s=T.KI(B,V);if(s.a8())return null;if(!s.bs(V)){var a=T.n(s.D(),D);T.KY(B,V,a,s);
B=a;V=s}return{o:B,V:V}};T.mA.a0B=function(z,q,e){for(var n=0;n<z.length;n++)e[n]=z[n]};T.mA.X8=function(z,q,e){var V=T.K8(T.Gx(z));
for(var n=0;n<z.length;n++)e[n]=Math.min(z[n]+q[n],V)};T.mA.aH0=function(z,q,e){for(var n=0;n<z.length;
n++)e[n]=Math.max(q[n]-z[n],0)};T.mA.HX=function(z,q,e){var V=T.K8(T.Gx(z)),P=1/V;for(var n=0;n<z.length;
n++)e[n]=z[n]*q[n]*P};T.mA.a0a=function(z,q,e){var V=T.K8(T.Gx(z)),P=1/V;for(var n=0;n<z.length;n++)e[n]=Math.min(z[n]+q[n],V)-z[n]*q[n]*P};
T.WJ=function(z,q){this.m=[];this.$H=[0];this.j0=[];this.su=[];this.xg=[0];this.QK=[];this._4=[];this.rows=z;
this.cols=q};T.WJ.prototype.Y=function(){var z=this,q=z.rows,e=z.cols,V=new T.WJ(q,e);V.m=z.m.slice(0);
V.$H=z.$H.slice(0);V.j0=z.j0.slice(0);V.su=z.su.slice(0);V.xg=z.xg.slice(0);V.QK=z.QK.slice(0);V._4=z._4.slice(0);
return V};T.WJ.prototype.FP=function(z,q,e){var V=this.$H.length-1;for(var n=0;n<e;n++){var P=z[n],D=q[n];
this.m.push(P);this.j0.push(D);if(D==V){this._4.push(P==0?0:1/P)}else{this.su.push(P);this.QK.push(D)}}this.$H.push(this.m.length);
this.xg.push(this.su.length)};T.WJ.prototype.bP=function(z,q){var e=this,V=e.rows,P=e.m,D=e.j0;if(q==null)q=new Array(V);
for(var n=0;n<V;n++){var B=e.$H[n],A=e.$H[n+1],s=0;while((A-B&3)!=0){s+=P[B]*z[D[B]];B++}for(var a=B;
a<A;a+=4)s+=P[a]*z[D[a]]+P[a+1]*z[D[a+1]]+P[a+2]*z[D[a+2]]+P[a+3]*z[D[a+3]];q[n]=s}return q};T.WJ.prototype.multiply=function(z){return this.KS(z.TL())};
T.WJ.prototype.KS=function(z){var q=this,e=q.rows,V=q.cols,P=z.rows,D=new T.WJ(e,P),B=q.j0,A=z.j0;for(var n=0;
n<e;n++){var s=[],a=[],M=q.$H[n],$=q.$H[n+1];for(var U=0;U<P;U++){var o=z.$H[U],t=z.$H[U+1],c=0,H=M,F=o;
while(H<$&&F<t){var i=Math.max(B[H],A[F]);while(H<$&&B[H]<i)H++;while(F<t&&A[F]<i)F++;if(H<$&&F<t&&B[H]==A[F])c+=q.m[H++]*z.m[F++]}if(c!=0){s.push(c);
a.push(U)}}D.FP(s,a,s.length)}return D};T.WJ.prototype.TL=function(){var z=this.rows,q=this.cols,e=[];
for(var n=0;n<q;n++)e.push([[],[]]);var V=this.m,P=this.$H,D=this.j0;for(var n=0;n<z;n++){var B=P[n],A=P[n+1];
for(var s=B;s<A;s++){var a=e[D[s]];a[0].push(V[s]);a[1].push(n)}}var M=new T.WJ(q,z);for(var n=0;n<q;
n++)M.FP(e[n][0],e[n][1],e[n][1].length);return M};T.WJ.prototype.aPb=function(){var z=this.rows,q=this.cols,e=new Array(z),V=this.m,P=this.$H,D=this.j0;
for(var n=0;n<z;n++){var B=e[n]=new Array(q);for(var A=0;A<q;A++)B[A]=0;var s=P[n],a=P[n+1];for(var M=s;
M<a;M++)B[D[M]]=V[M]}return e};T.WJ.prototype.Fp=function(z,q,e,V,P){function D(L,q,G,x){var O=L.length;
for(var n=0;n<O;n++)x[n]=L[n]-q[n]*G}function B(L,q,G,x){var O=L.length,v=0;while((O-v&3)!=0){x[v]=L[v]+q[v]*G;
v++}for(var n=v;n<O;n+=4){x[n]=L[n]+q[n]*G;x[n+1]=L[n+1]+q[n+1]*G;x[n+2]=L[n+2]+q[n+2]*G;x[n+3]=L[n+3]+q[n+3]*G}}function A(L,q,G){var x=L.length;
for(var n=0;n<x;n++)G[n]=L[n]*q[n]}function s(L,q){var G=L.length,x=0,O=0;while((G-x&3)!=0){O+=L[x]*q[x];
x++}for(var n=x;n<G;n+=4)O+=L[n]*q[n]+L[n+1]*q[n+1]+L[n+2]*q[n+2]+L[n+3]*q[n+3];return O}var a=V!=null?2:1,M=Date.now(),$=0,U=this,o=z.slice(0),t=z.slice(0);
U.bP(z,t);D(q,t,1,o);var c=this._4;if(a==0){c=o.slice(0);c.fill(1)}var H=o.slice(0);A(c,o,H);var F=H.slice(0),i=s(o,H);
while(!0){U.bP(F,t);var X=i/s(F,t);B(z,F,X,z);D(o,t,X,o);if(($&7)==0&&Math.sqrt(s(o,o))<e)break;if(a<=1)A(c,o,H);
else{var K=o.slice(0);V.azh(K,o);P.agY(H,K)}var f=s(o,H),d=f/i;B(H,F,d,F);i=f;$++}};T.WJ.prototype.ait=function(z,q,e,V){var P=Date.now(),D=1.96,A=0;
if(e==null)e=5e-6;if(V==null)V=1e9;var B=1-D,hE=this.rows,s=this.su,a=this.xg,M=this.QK,$=this._4;while(!0){var U=0;
for(var n=0;n<hE;n++){var o=q[n],t=a[n],c=a[n+1];if(c-t==4)o-=s[t]*z[M[t]]+s[t+1]*z[M[t+1]]+s[t+2]*z[M[t+2]]+s[t+3]*z[M[t+3]];
else for(var H=t;H<c;H++)o-=s[H]*z[M[H]];var F=z[n]*B+$[n]*o*D,i=F-z[n];U+=i*i;z[n]=F}if(U/hE<e||Date.now()>P+V)break}};
T.WJ.prototype.aCJ=function(z,q,e,V){var P=Date.now(),D=1.96,A=0;if(e==null)e=5e-5;if(V==null)V=1e9;
var B=1-D,hE=this.rows,s=this.su,a=this.xg,M=this.QK,$=this._4;while(!0){var U=0;for(var n=0;n<hE;n++){var o=n*3,t=q[o],c=q[o+1],H=q[o+2],F=a[n],i=a[n+1];
for(var X=F;X<i;X++){var K=s[X],f=M[X]*3;t-=K*z[f+0];c-=K*z[f+1];H-=K*z[f+2]}var d=$[n]*D,L=z[o+0]*B+t*d,G=z[o+1]*B+c*d,x=z[o+2]*B+H*d,O=L-z[o+0],v=G-z[o+1],C=x-z[o+2];
U+=.4*O*O+.5*v*v+.1*C*C;z[o+0]=L;z[o+1]=G;z[o+2]=x}if(U/hE<e||Date.now()>P+V)break}};T.JQ={};T.JQ.Az=function(z,q,e){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:z},Vrtc:{t:"doub",v:q},Cnty:{t:"bool",v:e}}}};
T.JQ.v=function(z,q){for(var n=0;n<z.length;n++){var e=z[n].v,V=q.a0(new f5(e.Hrzn.v,e.Vrtc.v));e.Hrzn.v=Math.round(V.x);
e.Vrtc.v=Math.round(V.y)}};T.JQ.aOt=function(z,q,e){var hE=z.length-1,V=T.Hn.H1(hE+1,hE+2);for(var n=1;
n<hE;n++){V[n][n-1]=1/(z[n]-z[n-1]);V[n][n]=2*(1/(z[n]-z[n-1])+1/(z[n+1]-z[n]));V[n][n+1]=1/(z[n+1]-z[n]);
V[n][hE+1]=3*((q[n]-q[n-1])/((z[n]-z[n-1])*(z[n]-z[n-1]))+(q[n+1]-q[n])/((z[n+1]-z[n])*(z[n+1]-z[n])))}V[0][0]=2/(z[1]-z[0]);
V[0][1]=1/(z[1]-z[0]);V[0][hE+1]=3*(q[1]-q[0])/((z[1]-z[0])*(z[1]-z[0]));V[hE][hE-1]=1/(z[hE]-z[hE-1]);
V[hE][hE]=2/(z[hE]-z[hE-1]);V[hE][hE+1]=3*(q[hE]-q[hE-1])/((z[hE]-z[hE-1])*(z[hE]-z[hE-1]));T.Hn.Xd(V,e)};
T.JQ.aob=function(z,q,e,V){if(z<=q[0])return e[0];if(z>=q[q.length-1])return e[q.length-1];var n=1;while(q[n]<z)n++;
var P=q[n],D=q[n-1],B=e[n],A=e[n-1],s=(z-D)/(P-D),a=V[n-1]*(P-D)-(B-A),M=-V[n]*(P-D)+(B-A),$=(1-s)*A+s*B+s*(1-s)*(a*(1-s)+M*s);
return $};T.JQ.ais=function(z,q,e,V){var P={p_:[z[0]],dF:[q[0]],Y2:[]};V[0]=P;for(var n=1;n<z.length-1;
n++){P.p_.push(z[n]);P.dF.push(q[n]);if(e[n]==!1){T.JQ.aOt(P.p_,P.dF,P.Y2);P={p_:[z[n]],dF:[q[n]],Y2:[]}}V[n]=P}P.p_.push(z[n]);
P.dF.push(q[n]);T.JQ.aOt(P.p_,P.dF,P.Y2);V[n]=P};T.JQ.aDL=function(z,q,e,V){if(z<=q[0])return e[0];if(z>=q[q.length-1])return e[q.length-1];
var n=1;while(q[n]<z)n++;var P=V[n-1];return T.JQ.aob(z,P.p_,P.dF,P.Y2)};T.JQ.aP8=function(z){var q={p_:[],dF:[],afe:[]};
for(var n=0;n<z.length;n++){q.p_[n]=z[n].v.Hrzn.v;q.dF[n]=z[n].v.Vrtc.v;q.afe[n]=z[n].v.Cnty?z[n].v.Cnty.v:!0}return q};
T.JQ.YN=function(z,hE,q){var e=0,V=255;if(q){e=-1e9;V=1e9}var P=T.JQ.aP8(z),D=[];T.JQ.ais(P.p_,P.dF,P.afe,D);
var B=new Float32Array(hE);for(var n=0;n<hE;n++)B[n]=1/255*Math.max(e,Math.min(V,T.JQ.aDL(n*(255/(hE-1)),P.p_,P.dF,D)));
return B};T.JQ.acV=function(z,hE,q){var e=Math.round(z.length/20),V=hE-z.length,P=q?(z[e]-z[0])/e:0,D=q?z[0]-V*P:z[z.length-1],B=new Float32Array(hE);
B.set(z,q?V:0);for(var n=0;n<V;n++)B[n+(q?0:V)]=D+n*P;return B};T.JQ.aez=function(z,hE,q,e){if(e==null)e=8;
var V=T.JQ.YN(z,hE,!1),P;if(e==8){P=new Uint8Array(hE);for(var n=0;n<hE;n++)P[n]=~~(.5+255*V[n])}if(e==16){P=new Uint16Array(hE);
for(var n=0;n<hE;n++)P[n]=~~(.5+65535*V[n])}if(e==32)P=V;if(q&&P[0]!=0){var D=Math.ceil(hE/12);for(var n=0;
n<D;n++)P[n]*=n/D}return P};T.JQ.aGN=function(z,q){var e=new Uint8Array(z.length);for(var n=0;n<z.length;
n++)e[n]=q[z[n]];return e};T.JQ.arO=function(z,q){var e=q.length,V=new Float32Array(e);for(var n=0;n<e;
n++)V[n]=q[~~(z[n]*(e-1))];return V};T.JQ.sZ=function(z,q,e){var V=document.createElement("canvas");
V.width=q;V.height=e;var P=V.getContext("2d"),D=T.JQ.aez(z,256);P.scale(q/255,e/255);P.fillStyle="#fff";
P.fillRect(0,0,255,255);P.fillStyle="#333";P.beginPath();P.moveTo(0,255);for(var n=0;n<D.length;n++)P.lineTo(n,255-D[n]);
P.lineTo(255,255);P.closePath();P.fill();return V.toDataURL()};T.style={};T.style.stroke=function(z,q,e,V){var P=e.s,D=e.T,B=T.style.lR(z,P,D);
T.style.t9(q,e,B,e,V)};T.style.t9=function(z,q,e,V,P){var D=T.K8(T.Gx(z)),B=q.HX(V),A=B.s,s=B.T;P+=.5;
var a=B.x-q.x,M=B.y-q.y,$=q.s,U=B.x-V.x,o=B.y-V.y,t=V.s;for(var c=0;c<s;c++){var H=(c+o)*t+U,F=(c+M)*$+a;
for(var i=0;i<A;i++){var X=Math.max(0,Math.min(1,P-e[H+i]));z[F+i]=D==1?X:Math.round(X*D)}}};T.style.agi=function(z,q,e,V){for(var P=0;
P<e;P++)for(var D=0;D<q;D++){var B=P*q+D,A=0,s=0,a=z[B];if(D==0||P==0){A=z[B+1]-a;s=z[B+q]-a}else if(D==e-1||P==q-1){A=a-z[B-1];
s=a-z[B-q]}else{A=z[B+1]-z[B-1];s=z[B+q]-z[B-q]}if(A!=0||s!=0){var M=1/Math.sqrt(A*A+s*s);A*=M;s*=M}V[B+B]=A;
V[B+B+1]=s}};T.style.lR=function(z,q,e){z=T.EZ(z,8);var V=q*e,P=new ArrayBuffer((V+q*4)*4),D=new Float32Array(P,0,V),B=new Uint16Array(P,0,V<<1),A=new Int32Array(P,V*4,q),s=new Int32Array(P,(V+q)*4,q),a=new Int32Array(P,(V+q*2)*4,q),M=new Int32Array(P,(V+q*3)*4,q),$=1/255;
for(let n=0;n<q;++n){let U=-e-q,o=0,t=n,c=0;for(;c<e;++c,t+=q){if(z[t]>128)U=c,o=z[t];B[t<<1]=c-U;B[(t<<1)+1]=o}U=B[t+=t-q-q],o=B[t+1];
for(;c>1;--c){if(B[t-=q+q]>U)B[t]=++U,B[t+1]=o;else U=B[t],o=B[t+1]}}for(let H=0;H<V;H+=q){var F=H+q,i=B[H<<1]*B[H<<1],X=0;
let K=A[0]=H,f=s[0]=H,d=i,L=d;for(let t=H+1;t<F;++t){var G=B[t<<1]*B[t<<1];while(X&&L>(f-t)*(f-t)+G){f=s[--X],K=A[X],d=B[K<<1]*B[K<<1],L=(f-K)*(f-K)+d}if(X||L<=(f-t)*(f-t)+G){var x=t-K,O=H+Math.floor((x*(t+K-H-H)+G-d)/(x<<1))+1;
if(O<F){f=s[++X]=O,K=A[X]=t,d=G,L=(f-K)*(f-K)+d}}else f=H,K=A[0]=t,d=G,L=(f-K)*(f-K)+d}for(let n=0;n<X;
++n){var v=A[n]<<1;a[n]=B[v]*B[v];M[n]=B[v+1]}let C=.5-B[(A[X]<<1)+1]*$;for(let t=F-1;t>=H;--t){D[t]=Math.max(0,Math.sqrt((t-K)*(t-K)+d)+C);
if(X&&t==f){f=s[--X],K=A[X],d=a[X],C=.5-M[X]*$}}}return D};T.style.aA5=function(z,q,e){var V=new Float64Array(q*e),P=0,D=q*e;
for(var n=0;n<D;n++)P|=z[n];if(P==0){V.fill(1e9);return}var B=T.style.jt(z,q,e);for(var A=0;A<e;A++)for(var s=0;
s<q;s++){var n=A*q+s,a=B[n*2],M=B[n*2+1];if(a==0&&M==0){V[n]=0;continue}var $=Math.sqrt(a*a+M*M),U=z[(A+M)*q+s+a]*(1/255);
V[n]=$+.5-U}return V};T.style.aeA=function(z,q,e){return(.5-e)*z};T.style.jt=function(z,q,e,V){var P=new Int16Array(q*e*2);
T.style.a3J(z,P,q,e,128);return P};T.style.a3J=function(z,q,e,V,P){var D=new Int32Array(e*V);T.style.aOc(z,D,e,V,P);
T.style.aic(D,q,e,V)};T.style.aOc=function(z,q,e,V,P){var D=new Int32Array(V);for(var B=0;B<e;B++){var A=e+V;
for(var s=V-1;s>=0;s--){if(z[s*e+B]>P)A=0;else A++;D[s]=A}A=e+V;for(var s=0;s<V;s++){if(z[s*e+B]>P)A=0;
else A++;q[s*e+B]=A<D[s]?-A:D[s]}}};T.style.aic=function(z,q,e,V){var P=(e+V)*(e+V),D=new Float64Array(e),B=new Uint16Array(e);
for(var A=0;A<V;A++){var s=A*e,a=0;B[0]=0;D[0]=-P;D[1]=+P;for(var M=1;M<e;M++){var $=z[M+s]*z[M+s]+M*M,U=($-(z[B[a]+s]*z[B[a]+s]+B[a]*B[a]))/(2*M-2*B[a]);
while(U<=D[a]){a--;U=($-(z[B[a]+s]*z[B[a]+s]+B[a]*B[a]))/(2*M-2*B[a])}a++;B[a]=M;D[a]=U;D[a+1]=P}a=0;
for(var M=0;M<e;M++){while(D[a+1]<M)a++;var o=B[a]-M,t=z[B[a]+s],n=A*e+M<<1;q[n]=o;q[n+1]=t}}};T.rR={};
T.rR.I9=function(z,q,e){var V=z.canvas;if(V.width!=q||V.height!=e){V.width=q;V.height=e}};T.rR.Xh=function(z,q,e,V,P,D){var B=T.Gx(P.o),A=B==8?255:B==16?65535:1,s=1/A;
T.rR.I9(z,q,e);if(D==null)D=!1;var a=P.o,M=P.V,$=!P.isEnabled;if(q*e==0)return;var U=new ImageData(q,e),o=U.data,t=1/q,c=1/e,H=P.color/255;
for(var n=0;n<e;n++)for(var F=0;F<q;F++){var i=(n*q+F)*4,X=Math.round(V.x+F*t*V.s),K=Math.round(V.y+n*c*V.T),f=0;
if(X<M.x||X>=M.x+M.s||K<M.y||K>=M.y+M.T)f=H;else f=a[(K-M.y)*M.s+(X-M.x)]*s;f=255-P.uI+f*P.uI;if(D)f=170+Math.round(.4*(f-170));
o[i]=f;o[i+1]=f;o[i+2]=f;o[i+3]=255}z.putImageData(U,0,0);if($)T.rR.a73(z,q,e)};T.rR.abz={};T.rR.aDl=function(z,q,e,V){var P,D,B;
P=Math.ceil(Math.max(q,e)*.35);D=q-P;B=e-P;var A=V.generativeDocInfo,s=P+"-"+(A?1:0),a=T.rR.abz[s];if(a==null){var M=T.Hx(P,P),$=Math.round(P*.27),U=M.lineWidth=Math.max(1,Math.round(P*.12)),o=U/2;
if(A){M.fillStyle="black";M.fillRect(0,0,P,P);M.beginPath();for(var t=0;t<1;t++)for(var n=0;n<10;n++){var c=-Math.PI/2+n*2*Math.PI/10,H=((n&1)==0?1:.4)*P*.52,F=.5,i=.52;
F=P*F+Math.cos(c)*H;i=P*i+Math.sin(c)*H;if(n==0)M.moveTo(F,i);else M.lineTo(F,i)}M.closePath();M.fillStyle="white";
M.fill()}else{M.fillStyle="#eeeeee";M.fillRect(0,0,P,P);M.strokeRect(1+o,1+o,P-U-2,P-U-2);M.strokeRect($+o,$+o,P-$-$-U,P-$-$-U)}a=T.rR.abz[s]=M.getImageData(0,0,P,P)}z.putImageData(a,D,B)};
T.rR.adp=[];T.rR.aw5=function(z,q,e){var V,P,D;V=Math.ceil(Math.max(q,e)*.35);P=q-V;D=e-V;var B=T.rR.adp[V];
if(B==null){var A=T.Hx(V,V);A.fillStyle="#eeeeee";A.fillRect(0,0,V,V);A.lineWidth=1;A.strokeRect(2.5,2.5,V-5,V-5);
var s=new ImageData(3,3),a=s.data;T.FH(a,4278190080);a[4*4]=a[4*4+1]=a[4*4+2]=238;A.putImageData(s,1,1);
A.putImageData(s,V-4,1);A.putImageData(s,1,V-4);A.putImageData(s,V-4,V-4);B=T.rR.adp[V]=A.getImageData(0,0,V,V)}z.putImageData(B,P,D)};
T.rR.akN=function(z,q,e,V,P,D){T.rR.I9(z,q,e);var B=q/V.s;if(q*e==0)return;z.fillStyle="#999999";z.setTransform(1,0,0,1,0,0);
z.clearRect(0,0,q,e);z.save();var A=T.rR.aMB;if(A==null)A=T.rR.aMB=az.Y1.g1(!0,!0);A.strokeStyleLineWidth.v.val=1/B;
z.fillStyle="#ffffff";z.scale(B,B);T.S.Ct(P.B,z,0,0);T.S.Ct(P.B,z,0,0,A);z.restore();if(D){z.save();
var s=q*.4,a=e*.4;z.fillRect(q-s,e-a,s,a);z.beginPath();z.moveTo(q-s/2,e-a);z.lineTo(q-s/2,e);z.setLineDash([3,3]);
z.stroke();z.restore()}};T.rR.alG=function(z,q,e,V,P){T.rR.I9(z,q,e);if(q*e==0)return;z.setTransform(1,0,0,1,0,0);
z.fillStyle="white";z.fillRect(0,0,q,e);var D=P.H,B;if(D.add.SoLd)B=W.On.a3(D.add.SoLd.nonAffineTransform);
else if(D.add.vmsk)B=D.add.vmsk.UD();else if(D.add.TySh){if(D.J3.NY==null)return;B=T.R.iR(D.J3.NY).J;
T.R.v(B,D.add.TySh.v,B)}else return;var A=T.R.mB(B),s=Math.min(q/A.s,e/A.T),a=A.s*s,M=A.T*s;z.translate(-A.x*s+(q-a)*.5,-A.y*s+(e-M)*.5);
z.scale(s,s);P.gz(V,z,null,null)};T.rR.acf=null;T.rR.rb=function(z,q,e,V,P,D,B,A,s){T.rR.I9(z,q,e);if(q*e==0)return;
var a=Math.max(q,e),M=T.rR.acf;if(M==null||M.width<a||M.height<a){T.rR.acf=M=new ImageData(a,a)}a=M.width;
var $=M.data,U=V.s/q,o=V.T/e,t=D.x,c=D.x+D.s,H=D.y,F=D.y+D.T,i=T.Gx(P)-8;for(var n=0;n<e;n++)for(var X=0;
X<q;X++){var K=n*a+X,f=K*4,d=~~(V.x+X*U),L=~~(V.y+n*o),G=T.anc(n,X,2);if(d<t||d>=c||L<H||L>=F||s){$[f]=G;
$[f+1]=G;$[f+2]=G;$[f+3]=255}else{var x=(L-D.y)*D.s+(d-D.x)<<2;if(i!=24){var O=(P[x+3]>>>i)*(1/255);
$[f]=(P[x+0]>>>i)*O+G*(1-O);$[f+1]=(P[x+1]>>>i)*O+G*(1-O);$[f+2]=(P[x+2]>>>i)*O+G*(1-O)}else{var O=P[x+3];
$[f]=P[x+0]*O*255+G*(1-O);$[f+1]=P[x+1]*O*255+G*(1-O);$[f+2]=P[x+2]*O*255+G*(1-O)}$[f+3]=255}}if(A!=null)for(var n=0;
n<$.length;n+=4)$[n]=$[n+1]=$[n+2]=$[n+A];z.putImageData(M,0,0);if(B)T.rR.a73(z,q,e)};T.rR.asR=function(z,q,e,V){T.rR.I9(z,q,e);
z.fillStyle=T.rR.z8(V.Clr.v);z.fillRect(0,0,q,e);T.rR.gj(z,q,e)};T.rR.f$=null;T.rR.ad1=function(z,q,e,V){T.rR.I9(z,q,e);
var P=z.canvas.width,D=z.canvas.height,B=T.rR.f$;if(B==null||B.width!=P||B.height!=D){z.fillStyle="#ffffff";
z.fillRect(0,0,q,e);z.fillStyle="#000000";z.font=""+e*.7+"px serif";z.fillText("T",(q-e*.43)/2,e*.75);
z.fillText("T",(q-e*.43)/2,e*.75);T.rR.f$=z.getImageData(0,0,P,D)}else z.putImageData(B,0,0)};T.rR.auO=function(z,q,e){T.rR.I9(z,q,e);
z.clearRect(0,0,q,e);z.font=e*.7+"px serif";z.fillText(":(",(q-e*.43)/2,e*.7)};T.rR.aEi=function(z,q,e,V){T.rR.I9(z,q,e);
var P=aM.get(V),D=z.canvas.width,B=T.rR.aAm[D+P];if(B==null){var A=PIMG["adj/"+P],s=hZ.cC(A),a=UPNG.decode(s.buffer),M=new Uint8Array(UPNG.toRGBA8(a)[0]),$=new kk(0,0,160,160),U=0,o=D-U*2,t=W.On.tU([M,$],new e5(o/160,0,0,o/160,0,0)),c=new kk(0,0,D,D),H=T.n(c.D()*4);
T.w.Mt("norm",t.buffer,t.V,H,c,t.V,1);B=T.rR.aAm[D+P]=new ImageData(new Uint8ClampedArray(H.buffer),D,D)}z.putImageData(B,0,0)};
T.rR.aAm={};T.rR.aG8=function(z,q,e,V){T.rR.I9(z,q,e);var P=z.canvas.width,D=z.canvas.height,B=z.getImageData(0,0,P,D);
T.Yf.dQ(V.Grad.v,new Uint8Array(B.data.buffer),new kk(0,0,P,D),[1/P,0,0,1/D],P/2,D/2,!1,0,16711680,65280);
z.putImageData(B,0,0);T.rR.gj(z,q,e)};T.rR.aDU=function(z,q,e,V,P){T.rR.I9(z,q,e);var D=z,B=hB.i6(V.Ptrn.v,P.add.Patt);
if(B==null)return;var A=B.dE[1];T.rR.rb(z,q,e,A,B.dE[0],A,!1);T.rR.gj(D,q,e)};T.rR.a73=function(z,q,e){z.strokeStyle="#bb0000";
z.lineWidth=3;z.beginPath();z.moveTo(q*.15,e*.15);z.lineTo(q*.85,e*.85);z.moveTo(q*.85,e*.15);z.lineTo(q*.15,e*.85);
z.closePath();z.stroke()};T.rR.gj=function(z,q,e){z.fillStyle="#eeeeee";z.fillRect(0,e*.75,q,e*.25);
z.beginPath();z.moveTo(0,e*.75);z.lineTo(q,e*.75);z.moveTo(q*.1,e*.875);z.lineTo(q*.9,e*.875);z.moveTo(q*.65,e*.825);
z.lineTo(q*.65,e*.95);z.closePath();z.stroke()};T.rR.z8=function(z){var q=T.Yf.z8(z),e=Math.round(q.l)<<16|Math.round(q.I)<<8|Math.round(q.c);
return"#"+T.R0(e)};T.S={};T.S.Jc=function(z,q,e){var V=[],P=-1;for(var n=0;n<z.length;n++){var D=z[n];
if((D.e==0||D.e==3)&&D.xq!=-1)P++;if(D.e>5||D.e==0||D.e==3)continue;if(q!=null&&q.indexOf(P)==-1)continue;
if(e!=null&&e.indexOf(n)==-1)continue;V.push(D.li.x);V.push(D.li.y);V.push(D.O0.x);V.push(D.O0.y);V.push(D.kS.x);
V.push(D.kS.y)}return V};T.S.yb=function(z,q,e,V){var P=0,D=-1;for(var n=0;n<q.length;n++){var B=q[n];
if((B.e==0||B.e==3)&&B.xq!=-1)D++;if(B.e>5||B.e==0||B.e==3)continue;if(e!=null&&e.indexOf(D)==-1)continue;
if(V!=null&&V.indexOf(n)==-1)continue;B.li.mX(z[P],z[P+1]);B.O0.mX(z[P+2],z[P+3]);B.kS.mX(z[P+4],z[P+5]);
P+=6}};T.S.Z8=function(z,q,e,V){var P=T.S.Jc(z,e,V);T.R.v(P,q,P);T.S.yb(P,z,e,V)};T.S.aN1=function(z,q,e,V){var P=T.S.Jc(z,e,V);
T.O.v(q,P);T.S.yb(P,z,e,V)};T.S.aES=function(z,q,e,V){if(V==null){var P=T.S.a7y(z,40,e);for(var n=0;
n<P.length;n++)z[n]=P[n]}var D=T.S.Jc(z,e,V);T.BQ.v(q,D,T.R.mB(D));T.S.yb(D,z,e,V)};T.S.a7y=function(z,q,e){var V=[],P=-1;
for(var n=0;n<z.length;n++){var D=z[n],B=D.length;if(D.e>5){V.push(T.G(D));continue}D=T.G(D);V.push(D);
if(D.xq!=-1)P++;if(e&&e.indexOf(P)==-1){V=V.concat(z.slice(n+1,n+1+B))}else{var A=T.S.azY(z,n+1,B);A=T.R.V9(A,q);
var s=T.S.atC(A);D.length=s.length;for(var a=0;a<s.length;a++)V.push(s[a])}n+=B}return V};T.S.azY=function(z,q,e){var V={_:["M"],J:[]},P=z[q],D=z[q+e-1];
V.J.push(P.O0.x,P.O0.y);for(var n=1;n<e;n++){var B=z[q+n-1],A=z[q+n];V._.push("C");V.J.push(B.kS.x,B.kS.y,A.li.x,A.li.y,A.O0.x,A.O0.y)}V._.push("C");
V.J.push(D.kS.x,D.kS.y,P.li.x,P.li.y,P.O0.x,P.O0.y);return V};T.S.atC=function(z){var q=[],e=z._,V=z.J,P=0,hE=V.length;
q.push({e:2,li:new f5(V[hE-4],V[hE-3]),O0:new f5(V[0],V[1]),kS:new f5(V[2],V[3])});for(var n=0;n<e.length-2;
n++){var D=n*6+4;q.push({e:2,li:new f5(V[D],V[D+1]),O0:new f5(V[D+2],V[D+3]),kS:new f5(V[D+4],V[D+5])})}return q};
T.S.ai9=function(z){for(var n=0;n<z.length;n++){if(z[n].e>5)continue;var q=z[n].length;if(!(q==4||q==6||q==8)){n+=q;
continue}for(var e=0;e<q;e++){var V=z[n+1+e],P=z[n+1+(e+1)%q],D=Math.min(V.O0.x,P.O0.x),B=Math.min(V.O0.y,P.O0.y),A=0,s=0;
if(V.O0.x<P.O0.x){A=V.O0.y-B;s=A-(P.O0.x-D)}else{A=P.O0.y-B;s=A-(V.O0.x-D)}if(Math.abs(s)<.2*A)return A}}return-1};
T.S.O5=function(z,q,e){function V(U,o){var t=Math.min(U.x,o.x),c=Math.min(U.y,o.y),H=Math.max(U.x+U.s,o.x+o.s),F=Math.max(U.y+U.T,o.y+o.T);
return new kk(t,c,H-t,F-c)}var P=null,D=-1,B=!T.S.sK(z);for(var n=0;n<z.length;n++){var A=z[n];if(A.e>5)continue;
if((A.e==0||A.e==3)&&A.xq!=-1)D++;if(q!=null&&q.indexOf(D)==-1)continue;if(n==z.length-1)break;var s=A.e==3,a=A.length,M=A.xq,$=T.S.iG(z,n+1,a,s);
if(P==null)P=$;else if(e)P=V(P,$);else if(B){if(q!=null||M==0||M==-1||M==2)P=V(P,$);else if(M==1)P=P;
else if(M==3){P=$;B=!1}}else{if(q!=null||M==0||M==-1||M==1)P=V(P,$);else if(M==2)P=P;else if(M==3)P=P.HX($)}n+=a}if(P==null||P.s<0||P.T<0)P=new kk(0,0,0,0);
return P};T.S.aKS=new Float64Array(4);T.S.iG=function(z,n,q,e){var V=T.S.aKS;V[0]=1e30;V[1]=1e30;V[2]=-1e30;
V[3]=-1e30;var P=z[n+q-1];if(!e)T.S.abg(P.O0.x,P.O0.y,P.kS.x,P.kS.y,z[n].li.x,z[n].li.y,z[n].O0.x,z[n].O0.y,V);
for(var D=n;D<n+q-1;D++){var B=z[D],A=z[D+1];T.S.abg(B.O0.x,B.O0.y,B.kS.x,B.kS.y,A.li.x,A.li.y,A.O0.x,A.O0.y,V)}return new kk(V[0],V[1],V[2]-V[0],V[3]-V[1])};
T.S.abg=function(z,q,e,V,P,D,B,A,s){if(z==e&&q==V&&P==B&&D==A){s[0]=Math.min(s[0],Math.min(z,B));s[1]=Math.min(s[1],Math.min(q,A));
s[2]=Math.max(s[2],Math.max(z,B));s[3]=Math.max(s[3],Math.max(q,A));return}var a=z,M=q,$=z,U=q,o=40,t=1/(o-1);
for(var c=0;c<o;c++){var H=c*t,F=1-H,i=F*F*F,X=3*F*F*H,K=3*F*H*H,f=H*H*H,d=i*z+X*e+K*P+f*B,L=i*q+X*V+K*D+f*A;
if(d<a)a=d;else if(d>$)$=d;if(L<M)M=L;else if(L>U)U=L}if(a<s[0])s[0]=a;if(M<s[1])s[1]=M;if($>s[2])s[2]=$;
if(U>s[3])s[3]=U};T.S.a7p=function(z,q){var e=z.length-3,V=q%e,P=Math.floor(V);if(q<0||P>=e)return null;
var D=z[3+P],B=z[3+(P+1)%e],A=D.O0,s=D.kS,a=B.li,M=B.O0,$=V-P,o=1-$,t=o*o*o*A.x+3*o*o*$*s.x+3*o*$*$*a.x+$*$*$*M.x,H=o*o*o*A.y+3*o*o*$*s.y+3*o*$*$*a.y+$*$*$*M.y;
return new f5(t,H)};T.S.Kg=function(z,q){var e=T.R.W2(z),V=e.tT;e.tT=Typr.U.pathToSVG({crds:V.J,cmds:V._},q==null?2:q);
return e};T.S.axm=function(z){var q=[],e=z.J,V=0,P=0,D=0,B=0,A=0,s=!0;for(var n=0;n<z._.length;n++){var a=z._[n];
if(a=="M"){if(!s&&(P!=B||D!=A))q.push(["L",[P,D],[B,A]]);B=P=e[V];A=D=e[V+1];V+=2;s=!1}else if(a=="L"){q.push(["L",[P,D],[e[V],e[V+1]]]);
P=e[V];D=e[V+1];V+=2}else if(a=="Q"){q.push(["Q",[P,D],[e[V],e[V+1]],[e[V+2],e[V+3]]]);P=e[V+2];D=e[V+3];
V+=4}else if(a=="C"){q.push(["C",[P,D],[e[V],e[V+1]],[e[V+2],e[V+3]],[e[V+4],e[V+5]]]);P=e[V+4];D=e[V+5];
V+=6}else if(a=="Z"){}else throw a}if(!s&&(P!=B||D!=A))q.push(["L",[P,D],[B,A]]);return q};T.S.A4=function(z){var q=Date.now(),e;
T.S.mw();var V=T.S.oy(z),P=[];for(var n=0;n<V.length;n++){var D=V[n][0],B=V[n][1];if(Math.abs(D.area)<1e-5)P.push(D);
else if(e==null)e=D;else{if(!D.closed)D.closed=!0;e=e[B](D);e.remove()}}if(e==null)e=new paper.CompoundPath(P);
else{if(e.segments)e=new paper.CompoundPath(e);for(var n=0;n<P.length;n++){e.addChild(P[n])}}var A=z.slice(0,2);
A=A.concat(T.S.aJ(e));T.S.mb(V);T.S.mb([[e]]);if(A[2])A[2].xq=1;for(var n=3;n<A.length;n++)if(A[n].xq!=null)A[n].xq=-1;
return A};T.S.mw=function(){if(T.S.ay8==null){var z=document.createElement("canvas");paper.setup(z);
T.S.ay8=!0}};T.S.a5d=function(z,q){T.S.mw();var e=[],V=T.S.oy(z),P=new paper.Path.Rectangle(new paper.Rectangle(q.x,q.y,q.s,q.T));
P.remove();P.fillColor=new paper.Color(1,0,0);for(var n=0;n<V.length;n++){if(P.intersects(V[n][0])||P.contains(V[n][0].children[0].segments[0].point))e.push(n)}T.S.mb(V);
return e};T.S.U8=function(z,q,e,V,P){T.S.mw();var D=e?{curves:!0,tolerance:V}:null,B=new paper.Point(q.x,q.y),A=T.S.oy(z,P);
T.S.mb(A);for(var n=A.length-1;n>=0;n--){var s=A[n][0],a=s.hitTest(B,D);if(a!=null)return{XW:n,b3:e?a.location.index:null,mZ:e?a.location.time:0}}return{XW:-1}};
T.S.W4=function(z,q,e,V){var P=[[],[],[]];for(var n=0;n<z.length;n++){var D=z[n];if(D.e>5||D.e==0||D.e==3)continue;
var B=q.vG(D.O0),A=q.vG(D.li),s=q.vG(D.kS);if(e&&e.indexOf(n)==-1){if(V){if(e.indexOf(n-1)==-1)A=!1;
if(e.indexOf(n+1)==-1)s=!1}else A=s=!1}if(B)P[0].push(n);if(A)P[1].push(n);if(s)P[2].push(n)}P[3]=P[0].length+P[1].length+P[2].length;
return P};T.S.a74=function(z,q,e){var V=z[q];for(var P=q+1;P<e;P++)z[P-1]=z[P];z[e-1]=V};T.S.asS=function(z,q,e,V){var n,P,D,B=0;
z=z.slice(0);q.sort(function(t,c){return t-c});D=-1;for(n=2;n<z.length;){var A=z[n],s=A.length;if(A.xq!=-1)D++;
var a=B;while(a<q.length&&q[a]<n+1+s)a++;if(B!=a){var M=q.slice(B,a);B=a;for(P=0;P<s;P++)if(M.indexOf(n+1+P)!=-1)z[n+1+P]=null;
if(A.e==0){var $=M[0]-(n+1);while($!=0){T.S.a74(z,n+1,n+1+s);$--}}var U=A;U.length=0;P=0;while(P<s&&z[n+1+P]==null)P++;
while(P<s){var o=z[n+1+P];if(o!=null)U.length++;else if(P<s+1&&z[n+1+P+1]&&V){U=z[n+1+P]={e:0,xq:-1,length:0,yL:0,xr:0,HO:1}}P++}if(V)for(P=-1;
P<s;P++)if(z[n+1+P]&&z[n+1+P].e<3)z[n+1+P].e+=3;T.w0.Oi(e,D)}n+=1+s}for(n=0;n<z.length;n++)if(z[n]==null){z.splice(n,1);
n--}D=0;for(n=2;n<z.length;n++){var A=z[n];if(A.length==0){if(z[n+1]&&z[n+1].xq==-1)z[n+1].xq=A.xq;else if(A.xq!=-1)e.splice(D,1);
z.splice(n,1);n--}else if(A.length!=null&&A.xq!=-1)D++}return z};T.S.aNe=function(z,q){for(var n=0;n<z.length;
n++){var e=z[n];if(e.e==0||e.e==3){e.xq=n==2||q?0:-1;e.HO=q?1:2}}};T.S.a5a=function(z,q){var e=z.slice(0,2),V=-1;
for(var n=2;n<z.length;n++){if((z[n].e==0||z[n].e==3)&&z[n].xq!=-1)V++;if(q.indexOf(V)==-1)e.push(z[n])}return e};
T.S.aqq=function(z,q){var e=z.slice(0,2),V=-1;for(var n=2;n<z.length;n++){if((z[n].e==0||z[n].e==3)&&z[n].xq!=-1)V++;
if(q.indexOf(V)!=-1)e.push(z[n])}return e};T.S.ayO=function(z){var q=0;for(var n=0;n<z.length;n++)if(z[n].e==0||z[n].e==3)q=n;
return z[q]};T.S.S2=function(z,q){var e=-1;for(var n=0;n<z.length;n++)if((z[n].e==0||z[n].e==3)&&(q||z[n].xq!=-1))e++;
return e+1};T.S.ha=function(z,q,e){var V=-1;for(var n=0;n<z.length;n++)if((z[n].e==0||z[n].e==3)&&(e||z[n].xq!=-1)){V++;
if(V==q)return n}return-1};T.S.HG=function(z,q,e){var V=-1;for(var n=0;n<z.length;n++)if((z[n].e==0||z[n].e==3)&&(e||z[n].xq!=-1)){if(n>=q)return V;
V++}return V};T.S.Ua=function(z,q){var e=-1,V=0;for(var n=0;n<z.length;n++){if((z[n].e==0||z[n].e==3)&&z[n].xq!=-1)e++;
if(e==q)V++}return V};T.S.aMA=function(z){var q=180;for(var n=0;n<z.length;n++){if(z[n].e!=0&&z[n].e!=3)continue;
var e=z[n].length;if(e<3)continue;for(var V=0;V<e;V++){var P=z[n+1+(V-1+e)%e],D=z[n+1+V],B=z[n+1+(V+1)%e],A=D.O0,s=D.li.bs(A)?P.kS:D.li,a=D.kS.bs(A)?B.li:D.kS;
if(A.bs(s)||A.bs(a))continue;var M=s.x-A.x,$=s.y-A.y,U=a.x-A.x,o=a.y-A.y,s=Math.atan2(s.y-A.y,s.x-A.x)*180/Math.PI,a=Math.atan2(a.y-A.y,a.x-A.x)*180/Math.PI,t=Math.abs(a-s)%360,c=t>180?360-t:t;
if(c<q)q=c}}return q*Math.PI/180};T.S.aJ=function(z){var q=z.segments?[z]:z.children,e=[];for(var n=0;
n<q.length;n++){var V=q[n],P=V.segments,D=V.closed?0:3,B=e.length,A=null;if(P.length<=1)continue;e.push({e:D,length:P.length,xq:0,HO:2});
for(var s=0;s<P.length;s++){var a=P[s],M=new f5(a.handleIn.x,a.handleIn.y),$=new f5(a.handleOut.x,a.handleOut.y),U=new f5(a.point.x,a.point.y),o={e:D+1,li:U.add(M),O0:U,kS:U.add($)};
if(A==null)A=o;e.push(o);if(s+1==P.length&&f5.h5(A.O0,o.O0)<1e-5){e.pop();e[B].length--;A.li=o.li;if(D==3)for(var t=B;
t<e.length;t++)e[t].e-=3}}}return e};T.S.oy=function(z,q){T.S.mw();var e=[],V,P=new paper.Color(1,0,0),D=1;
function B(H,M){H.remove();H.closed=!M;H.fillRule=D==2?"nonzero":"evenodd"}for(var n=0;n<z.length;n++){if(5<z[n].e)continue;
var A=z[n].length,s;if(n==z.length-1)break;var M=z[n].e==3;if(n==2){if(!T.S.nB(z))s="subtract";else s="unite"}else{if(z[n].xq==0)s="exclude";
if(z[n].xq==1)s="unite";if(z[n].xq==2)s="subtract";if(z[n].xq==3)s="intersect"}if(q||z[n].xq!=-1){D=z[n].HO;
V=new paper.CompoundPath;e.push([V,s]);V.fillRule=D==2?"nonzero":"evenodd";V.fillColor=P}var $=[];for(var U=0;
U<A;U++){var o=z[n+1+U],t=o.li.SV(o.O0),c=o.kS.SV(o.O0);$.push([[o.O0.x,o.O0.y],[t.x,t.y],[c.x,c.y]])}var H=new paper.Path($);
B(H,M);V.addChild(H);n+=A}return e};T.S.mb=function(z){for(var n=0;n<z.length;n++)z[n][0].remove()};
T.S.hc=function(z){for(var n=0;n<z.length;n++){var q=z[n];if(q.O0==null)continue;if(!q.O0.bs(q.li)||!q.O0.bs(q.kS))return!1}return!0};
T.S.ax5=function(z){if(z.length<=5)return 0;var q=0,e=z.length-3-1;for(var n=0;n<e;n++){var V=z[3+n],P=z[3+n+1];
if(V.e==0||P.e==0)return 0;q+=(P.O0.x-V.O0.x)*(V.O0.y+P.O0.y)}q+=(z[3].O0.x-z[3+e].O0.x)*(z[3+e].O0.y+z[3+1].O0.y);
return-q*.5};T.S.sK=function(z){var q=z[2],e=!1;if(z.length==2)e=z[1].all==0;else if(z[1].all==1){if(q.xq==1||q.xq==3)e=!0;
else e=!1}else{if(q.xq==1||q.xq==3||q.xq==0)e=!0;else e=!1}return e};T.S.nB=function(z){var q=T.S.sK(z);
for(var n=3;n<z.length;n++)if(z[n].xq==3)q=!0;return q};T.S.aKL=0;T.S.aK4=0;T.S.ahh=0;T.S.a05=function(z,q,e,V){if(e.a8())return;
var P=e.D(),F=16384;T.S.aKL+=P;if(P>T.S.aK4){T.S.aK4=P}var D=e.s,B=e.T;if(V==null&&T.S.hc(z)&&z[2]&&z[2].xq!=2){var A=!0;
for(var n=2;n<z.length;)if(z[n].length==2)n+=3;else{A=!1;break}if(A){return}if(T.S.$u(z)){q.fill(255);
var s=T.S.O5(z);if(s.D()!=P){var a=1-(s.x-e.x),M=1-(s.y-e.y),$=1-(e.x+e.s-(s.x+s.s)),U=1-(e.y+e.T-(s.y+s.T)),o=~~(a*255),t=~~($*255),c=~~(M*255),H=~~(U*255);
q.fill(c,0,D);q[0]=~~(a*M*255);q[D-1]=~~($*M*255);for(var n=D;n<P;n+=D){q[n]=o;q[n+D-1]=t}q.fill(H,(B-1)*D,B*D);
q[P-D]=~~(a*U*255);q[P-1]=~~($*U*255)}return}}var i=Math.ceil(D/F),X=Math.ceil(B/F),K=Math.ceil(D/i),f=Math.ceil(B/X),d=Date.now();
for(var L=0;L<X;L++)for(var G=0;G<i;G++){var x=G*K,O=L*f,v=K,C=f,S=T.Hx(v,C);if(!T.S.sK(z))S.fillRect(0,0,v,C);
T.S.Ct(z,S,-e.x-x,-e.y-O,V);var j=new Uint8Array(S.getImageData(0,0,v,C).data.buffer);if(v==D&&C==B)T.bl(j,q,3);
else T.mr(j,new kk(x,O,v,C),q,new kk(0,0,D,B))}};T.S.aeZ=function(z){var q=!1,e=!1,V=0,P=!1;for(var n=0;
n<z.length;n++){var D=z[n].xq;if(D!=null){V++;if(D==-1)q=!0;if(D==1||D==2||D==3)e=!0;if(z[n].e==0)P=!0}}if(!q&&V<20&&P&&e)z=T.S.A4(z);
return z};T.S.Ct=function(z,q,e,V,P,D){if(P!=null){z=T.S.aeZ(z)}var B=1;for(var n=0;n<z.length;n++){if(5<z[n].e)continue;
var A=z[n].length;if(A==0)continue;if(n==z.length-1)break;var s=z[n].e==3,a=z[n].xq;if(a!=-1){q.beginPath();
if(P)T.S.KG(az.Y1.wp(P),q);else{B=z[n].HO;if(a==3&&n==2)a=1;var M=["xor","source-over","destination-out","source-in"][a];
q.globalCompositeOperation=M}}T.S.aEV(q,z,n+1,A,e,V,s);if(s){}else q.closePath();if(z[n+1+A]==null||z[n+1+A].xq!=-1){if(P){if(D)q.clip();
q.stroke()}else q.fill(B==2?"nonzero":"evenodd")}n+=A}q.globalCompositeOperation="source-over";q.setLineDash([])};
T.S.KG=function(z,q){var e=z.e6;q.setLineDash(z.Nn);q.lineCap=["butt","round","square"][z.vZ];q.lineJoin=["miter","round","bevel"][z.o3];
q.lineWidth=z.i4==1?e:e*2;q.miterLimit=z.E5};T.S.aEV=function(z,q,n,e,V,P,D){var B=q[n],A=null;z.moveTo(B.O0.x+V,B.O0.y+P);
for(var s=n;s<n+e-1;s++){B=q[s];A=q[s+1];if(B.O0.bs(B.kS)&&A.li.bs(A.O0))z.lineTo(A.O0.x+V,A.O0.y+P);
else z.bezierCurveTo(B.kS.x+V,B.kS.y+P,A.li.x+V,A.li.y+P,A.O0.x+V,A.O0.y+P)}if(!D){B=q[s];A=q[n];if(B.O0.bs(B.kS)&&A.li.bs(A.O0))z.lineTo(A.O0.x+V,A.O0.y+P);
else z.bezierCurveTo(B.kS.x+V,B.kS.y+P,A.li.x+V,A.li.y+P,A.O0.x+V,A.O0.y+P)}};T.S.ap$=function(z,q){var e=[],V=q?4:1;
for(var n=0;n<z.length;n+=2){var P=new f5(z[n],z[n+1]);e.push({e:V,li:P.Y(),O0:P.Y(),kS:P.Y()})}return e};
T.S.ag2=function(z,q,e){var V=(1-(e!=null?e:25)*.01)*10;if(V>0){for(var n=0;n<q.length;n++){var P=q[n],D=T.S.ha(z,P),B=T.S.Ua(z,P),A=z.slice(D,D+B);
T.S.mw();var s=new paper.Path;s.remove();s.closed=!0;for(var a=1;a<A.length;a++)s.add(new paper.Point(A[a].O0.x,A[a].O0.y));
var M=s.simplify(V);if(M)z.splice(D,B,...T.S.aJ(s))}}return z};T.S.YR=function(z,q,e){var V=T.R.mB(z),P=Math.sqrt(Math.sqrt(V.D()))*.2,D=.2;
z=z.slice(0);var B=z.length,A=q?0:2;for(var s=0;s<5;s++)for(var n=A;n<z.length-A;n+=2){var a=(n-2+B)%B,M=(n+2)%B,$=z[n],U=z[n+1],o=(z[a]+z[M])*.5,t=(z[a+1]+z[M+1])*.5;
z[n]=$+(o-$)*D;z[n+1]=U+(t-U)*D}if(e)return T.S.nU.F0(z,null,!q);T.S.mw();var c=new paper.Path;c.remove();
c.closed=q;for(var n=0;n<z.length;n+=2)c.add(new paper.Point(z[n],z[n+1]));c.simplify(P);var H=[{e:6},{e:8,all:0}];
H=H.concat(T.S.aJ(c));return H};T.S.h2=function(z,q,e){var V=z[q].length,P=z[q].e,D=0,B=z.slice(q+1,q+1+V);
for(var n=0;n<V;n++){var A=e[(n-1+V)%V],s=e[(n+1+V)%V],a=e[n];if(a!=0){var M=B[(n-1+V)%V].O0,$=B[(n+0+V)%V].O0,U=B[(n+1+V)%V].O0,o=f5.h5($,M),t=f5.h5($,U),c=T.R.ahe(M.x,M.y,$.x,$.y,U.x,U.y,a)[0],H=Math.min(c,A==0?o:o/2,s==0?t:t/2);
a*=H/c;var F=T.R.azU(M.x,M.y,$.x,$.y,U.x,U.y,a),i={e:P+1,li:new f5(F[2],F[3]),O0:new f5(F[2],F[3]),kS:new f5(F[4],F[5])},X={e:P+1,li:new f5(F[6],F[7]),O0:new f5(F[8],F[9]),kS:new f5(F[8],F[9])};
z.splice(q+D+1,1,i,X);D++;z[q].length++}D++}};T.S.hc=function(z){for(var n=0;n<z.length;n++){var q=z[n],e=q.e;
if(e==1||e==2||e==4||e==5)if(!q.O0.bs(q.li)||!q.O0.bs(q.kS))return!1}return!0};T.S.$u=function(z){if(z.length!=7||z[2].length!=4||!T.S.hc(z))return!1;
for(var n=0;n<4;n++){var q=!0;for(var e=0;e<4;e++){var V=z[3+(n+e&3)],P=z[3+(n+e+1&3)];if(V.O0.x!=P.O0.x&&V.O0.y!=P.O0.y)q=!1}if(q)return!0}return!1};
T.S.aHb=function(z){if(z.length<6)return 0;var q=z.length-2,e=0;for(var n=0;n<q;n+=2)e+=(z[n+2]-z[n])*(z[n+1]+z[n+3]);
e+=(z[0]-z[q])*(z[q+1]+z[1]);return-e*.5};T.S.a8B=function(z){z=lK.cI.QD(z);var q=T.S.S2(z);for(var e=0;
e<q;e++){var V=T.S.ha(z,e)+1,P=z[V-1].length,D=[];for(var n=0;n<P;n++){var B=z[V+n].O0;D.push(B.x,B.y)}var A=T.S.aHb(D);
if(A<0)T.S.uK(z,V-1)}return z};T.S.uK=function(z,q){var e=q+1,V=z[q].length,P=[];for(var n=0;n<V;n++){var D=z[e+n],B=D.li;
D.li=D.kS;D.kS=B;P.push(D)}for(var n=0;n<V;n++)z[e+n]=P[V-1-n]};T.S.nU={};T.S.nU.F0=function(z,q,e){var V=[{e:6},{e:8,all:0}],P=null;
V.push({e:e?3:0,xq:1,length:0,yL:0,xr:0,HO:1});if(q==0||q==null)P=null;else if(q instanceof Array)P=q;
else{P=[];for(var n=0;n<z.length;n+=2)P.push(q)}V=V.concat(T.S.ap$(z,e));V[2].length=V.length-3;if(P){T.S.h2(V,2,P);
V.push(V[3]);V.splice(3,1)}return V};T.S.nU.auX=function(z,q,e,V,P){var D=[],B=[],A=.553,s=1,a=-1;D.push({e:1,li:new f5(0,A),O0:new f5(0,0),kS:new f5(0,-A)});
P+=2;for(var n=0;n<P;n++){var M={e:1};if(n==0){M.O0=new f5(1,-1);M.li=new f5(1-A,-1);M.kS=new f5(1+A,-1)}else{var $=-(n+2)*Math.PI/2,U=1+((n&1)==1?n-1:n),o=Math.sin($),t=Math.cos($);
s+=U*(o-t);a+=U*(t+o);M.O0=new f5(s,a);M.li=new f5(s+U*t*A,a-U*o*A);if((n&1)==1)U+=2;M.kS=new f5(s-U*t*A,a+U*o*A)}var c={e:1,li:new f5(-M.kS.x,-M.kS.y),O0:new f5(-M.O0.x,-M.O0.y),kS:new f5(-M.li.x,-M.li.y)};
D.push(M);if(n<P-2)B.push(c)}B.reverse();D=D.concat(B);var H=[{e:6},{e:8,all:0}];H.push({e:0,xq:1,length:D.length,yL:0,xr:0,HO:1});
H=H.concat(D);var F=new e5(e/P,0,0,e/P,0,0);F.rotate(V);F.translate(z,q);T.S.Z8(H,F);return H};T.S.nU.Rect=function(z,q,e,V,P){var D=[z,q,z+e,q,z+e,q+V,z,q+V];
return T.S.nU.F0(D,P)};T.S.nU.Bf=function(z,q,e,V,P,D,B,A){var s=[],a=2*Math.PI/P;for(var n=0;n<P;n++)s.push(Math.cos(n*a-V),Math.sin(n*a-V));
if(B!=null){var M=T.R.mB(s),$=M.s,U=M.T,o=B/($/2),t=A/(U/2);for(var n=0;n<s.length;n+=2){s[n]=(s[n]-(M.x+$/2))*o;
s[n+1]=(s[n+1]-(M.y+U/2))*t}e=1}var c=new e5(e,0,0,e,0,0);c.translate(z,q);T.R.v(s,c,s);return T.S.nU.F0(s,D)};
T.S.nU.aqw=function(z,q,e,V,P,D,B){var A=e-z,s=V-q,a=(A-B*(D+1))/D,M=(s-B*(P+1))/P,$={_:[],J:[]};function U(t,o,c,H){$._.push("M","L","L","L","Z");
$.J.push(t,o,t+c,o,t+c,o+H,t,o+H)}U(z,q,A,s);for(var o=0;o<P;o++)for(var t=0;t<D;t++)U(z+B+t*(a+B),q+B+o*(M+B),a,M);
return T.R.XI($)};T.S.nU.q$=function(z,q,e,V,P,D,B){var A=[],s=Math.PI/P;for(var n=0;n<P*2;n++){var a=(n&1)==0?1:B;
A.push(a*Math.cos(n*s),a*Math.sin(n*s))}var M=new e5(e,0,0,e,0,0);M.rotate(V);M.translate(z,q);T.R.v(A,M,A);
return T.S.nU.F0(A,D)};T.S.nU.l1=function(z,q,e,V,P){return T.S.nU.pb(0,z,q,e,V,P)};T.S.nU.afK=function(z,q,e,V,P,D){return T.S.nU.pb(1,z,q,e,V,P,D)};
T.S.nU.G1=function(z,q,e,V,P,D){return T.S.nU.pb(2,z,q,e,V,P,D)};T.S.nU.pb=function(z,q,e,V,P,D,B){var A=Math.sqrt((V-q)*(V-q)+(P-e)*(P-e)),s;
D/=2;if(z==0)s=[-D,0,D,0,D,A,-D,A];if(z==1){var a=D*2*B*1.3/1.5,M=D*B;s=[-D,0,D,0,D,A-a,M,A-a,0,A,-M,A-a,-D,A-a]}if(z==2){var a=B[3],M=B[2]/2,$=a*(2/3)*B[4]/100,U=a-$,o=a;
s=[];if(B[0])s.push(-D,U,-M,o,0,0,M,o,D,U);else if(D==0)s.push(0,0);else s.push(-D,0,D,0);if(B[1])s.push(D,A-U,M,A-o,0,A,-M,A-o,-D,A-U);
else if(D==0)s.push(0,A);else s.push(D,A,-D,A)}var t=new e5(1,0,0,1,0,0);t.rotate(Math.atan2(-P+e,V-q)+Math.PI/2);
t.translate(q,e);T.R.v(s,t,s);return T.S.nU.F0(s,0)};T.S.nU.f4=function(z,q,e,V){var P=[{e:6},{e:8,all:0}],$=.553;
P.push({e:0,xq:1,length:4,yL:0,xr:0,HO:1});var D=z,B=q,A=z+e,s=q+V,z=(D+A)/2,q=(B+s)/2,a=(D-A)/2,M=(B-s)/2;
P.push({e:1,li:new f5(z-$*a,q-M),O0:new f5(z,q-M),kS:new f5(z+$*a,q-M)});P.push({e:1,li:new f5(z+a,q-$*M),O0:new f5(z+a,q),kS:new f5(z+a,q+$*M)});
P.push({e:1,li:new f5(z+$*a,q+M),O0:new f5(z,q+M),kS:new f5(z-$*a,q+M)});P.push({e:1,li:new f5(z-a,q+$*M),O0:new f5(z-a,q),kS:new f5(z-a,q-$*M)});
return P};T.S.nU.anp=function(z,q,e,V,P){var D=[{e:6},{e:8,all:0}];D.push({e:3,xq:1,length:5,yL:0,xr:0,HO:1});
var B=(P-V)/4;for(var n=0;n<5;n++){var A=n*B,s=Math.cos(A),a=Math.sin(A),M=.553*(B/(Math.PI/2)),$=a*M,U=-s*M,o=new f5(s,a);
D.push({e:4,li:n==0?o.Y():new f5(s+$,a+U),O0:o,kS:n==4?o.Y():new f5(s-$,a-U)})}var t=new e5;t.rotate(-V);
t.scale(e,e);t.translate(z,q);T.S.Z8(D,t);return D};T.OL={};T.OL.e={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
T.OL.akT={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
T.OL.nD=function(z){var q=z.warpStyle.v.warpStyle;if(q=="warpNone")return!0;else if(q=="warpCylinder")return!1;
else if(q=="warpCustom"){var e=!1,V=T.OL.anH(z);for(var n=0;n<4;n++)for(var P=0;P<4;P++){var D=V[n*2]-V[(P*4+n)*2],B=V[n*4*2+1]-V[(n*4+P)*2+1];
if(D*D>1||B*B>1)e=!0}return!e}else return z.warpValue.v==0&&z.warpPerspective.v==0&&z.warpPerspectiveOther.v==0};
T.OL.a44=function(z){var q=T.G(z);q.v.classID="quiltWarp";q.v.deformNumRows={t:"long",v:4};q.v.deformNumCols={t:"long",v:4};
if(q.v.customEnvelopeWarp)T.OL.aen(q.v,[[0,1],[0,1]]);return q};T.OL.a0D=function(z){var q;if(T.OL.kV(z.v)==16)q=T.G(z);
else q={t:"Objc",v:T.OL.n(T.OL.$i(z.v))};q.v.classID="warp";delete q.v.deformNumRows;delete q.v.deformNumCols;
var e=q.v.customEnvelopeWarp;if(e){delete e.v.quiltSliceX;delete e.v.quiltSliceY}return q};T.OL.kV=function(z){return z.deformNumRows.v*z.deformNumCols.v};
T.OL.n=function(z){var q={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(z){q.classID="quiltWarp";q.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:z.y}},Left:{t:"UntF",v:{type:"#Pxl",val:z.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:z.y+z.T}},Rght:{t:"UntF",v:{type:"#Pxl",val:z.x+z.s}}}};
q.uOrder={t:"long",v:4};q.vOrder={t:"long",v:4};q.deformNumRows={t:"long",v:4};q.deformNumCols={t:"long",v:4}}return q};
T.OL.aFM=function(z,q,e){for(var n=0;n<z.length;n+=2){var V=z[n],P=z[n+1],D=(1-q)/2,B=1-D,A=D+V*(B-D);
P=.5+(P-.5)*A*2;var s=(1-e)/2,a=1-s,M=s+P*(a-s);V=.5+(V-.5)*M*2;z[n]=V;z[n+1]=P}};T.OL.b1=function(z,q){return{id:z,type:"UnFl",uID:"#Pxl",arr:q}};
T.OL.aen=function(z,q){var e=T.OL.$i(z);function V(D,B){D=D.slice(0);var A=D.length,n;for(n=0;n<A;n++)D[n]*=B;
D[0]-=.6;D[A-1]+=.6;return D}var P=z.customEnvelopeWarp.v;P.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[T.OL.b1("quiltSliceX",V(q[0],e.s))]}};
P.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[T.OL.b1("quiltSliceY",V(q[1],e.T))]}}};T.OL.a63=function(z){var q=T.OL.$i(z);
function e(B,A){B=B.slice(0);var D=B.length,n,s=1e9,a=-s;for(n=0;n<D;n++){if(B[n]<s)s=B[n];if(B[n]>a)a=B[n]}for(n=0;
n<D;n++)B[n]=(B[n]-s)/(a-s);B[0]=0;B[D-1]=1;return B}var V=z.customEnvelopeWarp.v,P=[],D=["X","Y"];for(var n=0;
n<2;n++)P.push(e(V["quiltSlice"+(n==0?"X":"Y")].v.arr[0].arr.slice(0),n==0?q.s:q.T));return P};T.OL.alq=function(z,q){var e=[],V=[];
for(var n=0;n<q.length;n+=2){e.push(q[n]);V.push(q[n+1])}z.customEnvelopeWarp.v.meshPoints.v.arr=[T.OL.b1("Hrzn",e),T.OL.b1("Vrtc",V)]};
T.OL.anH=function(z){var q=[],e=z.customEnvelopeWarp.v.meshPoints.v.arr,V=e[0].arr,P=e[1].arr;for(var n=0;
n<V.length;n++)q.push(V[n],P[n]);return q};T.OL.GZ=function(z,q){var e,V=z.warpStyle.v.warpStyle;if(V=="warpCustom")e=[z.deformNumCols.v,z.deformNumRows.v,T.OL.a63(z),T.OL.anH(z)];
else{if(q==null)q=T.OL.$i(z);if(q.a8())q.s=q.T=1;if(V=="warpCylinder"){var P=W.On.a3(z.warpValues);e=T.OL.OL(V,P)}else{var D="warpPerspective";
e=T.OL.OL(V,z.warpValue.v/100,z.warpRotate.v.Ornt=="Hrzn",z[D].v/100,z[D+"Other"].v/100,q.s/q.T)}T.OL.aKY(e[3],q)}return e};
T.OL.aKY=function(z,q){for(var n=0;n<z.length;n+=2){z[n]=q.x+z[n]*q.s;z[n+1]=q.y+z[n+1]*q.T}};T.OL.apw=function(z){var q=Math.sin(z*Math.PI/2),e=Math.pow(z,1/3.5),V=(1-z)*q+z*e;
V=Math.pow(V,1.045);var P=.1725+.0573*V,D=1-(.96*q+.04*e);D=Math.pow(D,1.27);var B=1/129+(.167684-1/129)*D;
return[P,B]};T.OL.qj=function(z,q){z.warpStyle.v.warpStyle="warpCustom";z.deformNumCols.v=q[0];z.deformNumRows.v=q[1];
var e="customEnvelopeWarp";if(z[e]==null)z[e]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
T.OL.aen(z,q[2]);T.OL.alq(z,q[3])};T.OL.$i=function(z){var q=z.bounds.v,e=q.Left.v.val,V=q.Rght.v.val,P=q.Top.v.val,D=q.Btom.v.val;
if(e==null){e=q.Left.v,V=q.Rght.v;P=q.Top.v,D=q.Btom.v}return new kk(e,P,V-e,D-P)};T.OL.OL=function(z,q,e,V,P,D){if(z=="warpCylinder"){var B=q,A=B[0],s=B[1],a=B[2],M=B[3],$=B[4],U=B[5],o=B[6],t=[];
for(var c=0;c<4;c++)for(var H=0;H<13;H++)t.push(H/12,c/3);var F=a-A,i=s-M,X=$*.5*(F/i),K=U*.5*(F/i),f=T.OL.apw(o),d=[0,0,0,0,0,f[0],.5],L=[0,0,0,0,X*.42,X,X],G=[0,0,0,0,K*.42,K,K];
for(var c=0;c<4;c++)for(var H=0;H<7;H++){var n=c*13+H;t[n*2]=d[H];var x=L[H],O=1+G[H],v=c/3;t[n*2+1]=x*(1-v)+O*v}for(var c=0;
c<4;c++)for(var H=0;H<6;H++){var n=c*13+H,C=c*13+12-H;t[C*2]=1-t[n*2];t[C*2+1]=t[n*2+1]}var v=f[1];return[13,4,[[0,v,.5,1-v,1],[0,1]],t]}var S=T.BQ.n(0,0,1,1);
if(z!="warpNone"){if(!e)D=1/D;T.OL.aak(S,z,q,V,P,D);var j=S.slice(0);if(!e)for(var c=0;c<4;c++)for(var H=0;
H<4;H++){S[(c*4+H)*2]=j[(H*4+c)*2+1];S[(c*4+H)*2+1]=j[(H*4+c)*2]}if(q==0)T.OL.aFM(S,V,P);else{var w=new e5;
w.translate(-.5,-.5);T.R.v(S,w,S);T.OL.aLB(S,P,V);w.TG();T.R.v(S,w,S)}}return[4,4,[[0,1],[0,1]],S]};
T.OL.aak=function(z,q,e,V,P,D){var B=new kk(0,0,D,1);for(var n=0;n<z.length;n+=2)z[n]*=D;for(var n=0;
n<4;n++){for(var A=0;A<4;A++){var s=2*(4*n+A),a=z[s]-B.x,M=z[s+1]-B.y,$=a,U=M;if(e!=0){var o=B.s/2,t=B.T/2;
$-=o;U-=t;var c=$,H=$,F=-t,i=t,X=Math.abs(e),K=Math.tan((1-X)*Math.PI/2),f=Math.sqrt(K*K+1),d=Math.atan2(1,K),L=$/o*d,G=o*f,x=o*f+B.T,O=Math.cos(d),v=Math.sin(d),C=T.OL.aoZ(O,v),S=T.OL.aId(O,v),j=-K*o+C*G;
if(q=="warpArc"){c=Math.sin(L)*x;F=K*o-Math.cos(d)*x+t;H=Math.sin(L)*G;i=K*o-Math.cos(d)*G+t;if(A==1||A==2){c=A==1?-S*x:S*x;
H=A==1?-S*G:S*G;F=K*o+t-C*x;i=K*o+t-C*G}if(e<0){var w=c;c=H;H=w;w=F;F=-i;i=-w}}if(q=="warpArcLower"){if(A==1||A==2){H=A==1?-S*G:S*G;
i=e<0?t-j:t+j}}if(q=="warpArcUpper"||q=="warpArch"||q=="warpBulge"){if(A==1||A==2){c=A==1?-S*G:S*G;F=e<0?-t+j:-t-j}if(q=="warpArch"){H=c;
i=F+2*t}if(q=="warpBulge"){H=c;i=-F}}if(q=="warpFish"||q=="warpFlag"||q=="warpWave"){var u=A;if(q=="warpFlag")u=3-A;
if(u==1){F-=e*4*t;i+=e*4*t}if(u==2){F+=e*4*t;i-=e*4*t}if(q=="warpFlag"||q=="warpWave")F=i-2*t}if(q=="warpRise"){if(A<2)F=-t+e*t*4;
i=F+2*t}var l=(U+t)/B.T;$=c+l*(H-c);U=F+l*(i-F);if(q=="warpWave"){if(n==0)U=-t;if(n==3)U=t;if(n==1||n==2)U=2*t*(n/3-.5)*(1/3)+U*(2/3)}if(q=="warpFisheye"){if((n==1||n==2)&&(A==1||A==2)){$=$+4*$*e;
U=U+4*U*e}}if(q=="warpInflate"){var I=2/3;if((n==1||n==2)&&(A==1||A==2)){$=$+.5*$*e;U=U+.5*U*e}else if(n==1||n==2)$=$+I*$*e;
else if(A==1||A==2)U=U+I*U*e}if(q=="warpSqueeze"){var I=2/3;if((n==1||n==2)&&(A==1||A==2)){if(e>0)$=$-I*$*e;
else U=U+I*U*e}else if(n==1||n==2)$=$-I*$*e;else if(A==1||A==2)U=U+I*U*e}if(q=="warpTwist"){if((n==1||n==2)&&(A==1||A==2)){var Q=e*Math.PI/2,f=1+Math.abs(e)*2,b=$*Math.cos(Q)-U*Math.sin(Q),p=$*Math.sin(Q)+U*Math.cos(Q);
$=b*f;U=p*f}}if(q=="warpShellLower"||q=="warpShellUpper"){if(q=="warpShellUpper"){n=3-n;U=-U}if(n>2||n==2&&(A==0||A==3)){if(e>0){var k=G+n/3*2*t;
$=Math.sin(L)*k;U=-K*o-t+Math.cos(L)*k;if(A==1||A==2){$=A==1?-S*k:S*k;U=-K*o-t+C*k}}else{if((A==1||A==2)&&n==3){$=A==1?-S*G:S*G;
U=K*o-C*G+t}else if(n==2){U=t-t*(2/3)*Math.cos(L);$=$+t*(2/3)*Math.sin(L)}}}if(q=="warpShellUpper"){n=3-n;
U=-U}}$+=o;U+=t}a=$,M=U;z[s]=a+B.x;z[s+1]=M+B.y}}for(var n=0;n<z.length;n+=2)z[n]/=D};T.OL.aLB=function(z,q,e){var V=[];
for(var P=0;P<4;P++)V.push(1-e+P/3*2*e);var D=[];for(var P=0;P<4;P++)D.push(1-q+P/3*2*q);var B=[0,0,0,0],A=[0,0,0,0];
for(var n=0;n<4;n++)for(var P=0;P<4;P++){var s=2*(4*n+P),a=z[s],M=z[s+1];B[P]+=a/4;A[P]+=M/4}for(var n=0;
n<4;n++)for(var P=0;P<4;P++){var $=V[P],s=2*(4*n+P),a=z[s],M=z[s+1],U=B[P],o=A[P];z[s]=U+$*(a-U);z[s+1]=o+$*(M-o)}var t=z.slice(0);
for(var n=0;n<4;n++)for(var P=1;P<3;P++){var s=2*(4*n+P),a=z[s],M=z[s+1],c=s+(P==1?-2:2),H=z[c],F=z[c+1];
z[s]=a-H;z[s+1]=M-F}var i=z[0],X=z[1],K=z[8],f=z[9],d=z[16],L=z[17],G=z[24],x=z[25],O=z[6],v=z[7],C=z[14],S=z[15],j=z[22],w=z[23],u=z[30],l=z[31],I=O-i,Q=v-X,b=C-K,p=S-f,k=j-d,g=w-L,Y=u-G,R=l-x;
for(var n=0;n<4;n++){var m=2*n*4,Z=0,E=0,N=n==1?.33:.66,h=1-N;if(n==0){Z=I;E=Q}if(n==1){Z=h*I+N*-Y;E=h*Q+N*-R}if(n==2){Z=h*I+N*-Y;
E=h*Q+N*-R}if(n==3){Z=-Y;E=-R}z[m]=z[m]+Z/2;z[m+1]=z[m+1]+E/2;z[m+6]=z[m+6]-Z/2;z[m+7]=z[m+7]-E/2}for(var n=0;
n<4;n++)for(var P=1;P<3;P++){var s=2*(4*n+P),a=z[s],M=z[s+1],c=s+(P==1?-2:2),H=z[c],F=z[c+1],$=2*n/3;
z[s]=H+$*a;z[s+1]=F+$*M}for(var n=1;n<3;n++)for(var P=1;P<3;P++){var s=2*(4*n+P),a=z[s],M=z[s+1],j5=n==1?-8:-16,r=n==1?16:8,l8=z[s+j5],aP=z[s+j5+1],bS=z[s+r],kR=z[s+r+1],$=n/3;
a=(1-$)*l8+$*bS;M=(1-$)*aP+$*kR;z[s]=a;z[s+1]=M}T.R.al9(t,z,z,q)};T.OL.aoZ=function(z,q){return(4-z)*(1/3)};
T.OL.aId=function(z,q){return(1-z)*(3-z)/(3*q)};T.O8=function(){function z(e){var V=e.quads.v,P=[];for(var n=0;
n<V.length;n++){var D=V[n].v.indices.v;for(var B=0;B<4;B++)P.push(D[B].v)}var A=[],s=[];for(var a=0;
a<2;a++){var M=a==0?A:s,$=e[a==0?"vertices":"warpedVertices"].v;for(var n=0;n<$.length;n++){var U=$[n].v;
M.push(U.Hrzn.v.val,U.Vrtc.v.val)}}var o=e.referenceRect.v,t=o.Left.v.val,c=o.Rght.v.val,H=o.Top.v.val,F=o.Btom.v.val,i=[];
for(var X=0;X<4;X++)i.push(e["PuX"+X].v,e["PuY"+X].v);return{Ej:A,Hr:s,J0:P,aaU:new kk(t,H,c-t,F-H),Ml:e.Md.v.perspectiveWarpMode=="warp"?1:0,tK:i}}function q(e,V){var P=V.quads.v=[],D=e.J0;
for(var n=0;n<D.length;n+=4){var B=[],A={t:"Objc",v:{classID:"perspectiveWarpQuad",indices:{t:"VlLs",v:B}}};
P.push(A);for(var s=0;s<4;s++)B.push({t:"long",v:D[n+s]})}for(var a=0;a<2;a++){var M=a==0?e.Ej:e.Hr,$=V[a==0?"vertices":"warpedVertices"].v;
while($.length!=0)$.pop();for(var n=0;n<M.length;n+=2){var U={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:M[n]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:M[n+1]}}}};
$.push(U)}}var o=e.tK;for(var t=0;t<4;t++){V["PuX"+t].v=o[t*2];V["PuY"+t].v=o[t*2+1]}V.Md.v.perspectiveWarpMode=e.Ml==0?"layout":"warp"}return{aLG:z,GF:q}}();
var eZ={};eZ.a88={x:.34567,y:.3585};eZ.apM=[{l:0,As:.18006,YY:.26352,L:-.24341},{l:10,As:.18066,YY:.26589,L:-.25479},{l:20,As:.18133,YY:.26846,L:-.26876},{l:30,As:.18208,YY:.27119,L:-.28539},{l:40,As:.18293,YY:.27407,L:-.3047},{l:50,As:.18388,YY:.27709,L:-.32675},{l:60,As:.18494,YY:.28021,L:-.35156},{l:70,As:.18611,YY:.28342,L:-.37915},{l:80,As:.1874,YY:.28668,L:-.40955},{l:90,As:.1888,YY:.28997,L:-.44278},{l:100,As:.19032,YY:.29326,L:-.47888},{l:125,As:.19462,YY:.30141,L:-.58204},{l:150,As:.19962,YY:.30921,L:-.70471},{l:175,As:.20525,YY:.31647,L:-.84901},{l:200,As:.21142,YY:.32312,L:-1.0182},{l:225,As:.21807,YY:.32909,L:-1.2168},{l:250,As:.22511,YY:.33439,L:-1.4512},{l:275,As:.23247,YY:.33904,L:-1.7298},{l:300,As:.2401,YY:.34308,L:-2.0637},{l:325,As:.24792,YY:.34655,L:-2.4681},{l:350,As:.25591,YY:.34951,L:-2.9641},{l:375,As:.264,YY:.352,L:-3.5814},{l:400,As:.27218,YY:.35407,L:-4.3633},{l:425,As:.28039,YY:.35577,L:-5.3762},{l:450,As:.28863,YY:.35714,L:-6.7262},{l:475,As:.29685,YY:.35823,L:-8.5955},{l:500,As:.30505,YY:.35907,L:-11.324},{l:525,As:.3132,YY:.35968,L:-15.628},{l:550,As:.32129,YY:.36011,L:-23.325},{l:575,As:.32931,YY:.36038,L:-40.77},{l:600,As:.33724,YY:.36051,L:-116.45}];
eZ.af7=function(z){var q=eZ.apM,e=2*z.x/(1.5-z.x+6*z.y),V=3*z.y/(1.5-z.x+6*z.y),P=0,D=0,B=0;for(;B<31;
B++){P=V-q[B].YY-q[B].L*(e-q[B].As);if(B>0&&P<0){break}D=P}while(B>=q.length)B--;P/=Math.sqrt(1+q[B].L*q[B].L);
D/=Math.sqrt(1+q[B-1].L*q[B-1].L);var A=D/(D-P),s=1e6/((q[B].l-q[B-1].l)*A+q[B-1].l),a=e-((q[B].As-q[B-1].As)*A+q[B-1].As),M=V-((q[B].YY-q[B-1].YY)*A+q[B-1].YY),$=Math.sqrt(1+q[B].L*q[B].L),U=1/$,o=q[B].L/$,t=Math.sqrt(1+q[B-1].L*q[B-1].L),c=1/t,H=q[B-1].L/t,F=(U-c)*A+c,i=(o-H)*A+H,X=Math.sqrt(F*F+i*i);
F/=X;i/=X;var K=(a*F+M*i)*-3e3;return{iL:s,s3:K}};eZ.wc=function(z,q){var e=eZ.apM,V=1e6/z,P=1;for(;
P<31;P++){if(V<e[P].l){break}}var D=(e[P].l-V)/(e[P].l-e[P-1].l),B=(e[P-1].As-e[P].As)*D+e[P].As,A=(e[P-1].YY-e[P].YY)*D+e[P].YY,s=Math.sqrt(1+e[P].L*e[P].L),a=1/s,M=e[P].L/s,$=Math.sqrt(1+e[P-1].L*e[P-1].L),U=1/$,o=e[P-1].L/$,t=(U-a)*D+a,c=(o-M)*D+M,H=Math.sqrt(t*t+c*c);
t/=H;c/=H;B+=t*q/-3e3;A+=c*q/-3e3;return{x:1.5*B/(B-4*A+2),y:A/(B-4*A+2)}};eZ.apy=function(z){var q=z[0]+z[1]+z[2];
return{x:z[0]/q,y:z[1]/q}};eZ.qQ=function(z){return{x:z.x/z.y,y:1,ea:(1-z.x-z.y)/z.y}};eZ.aot=function(z,q){var e=T.DB.Su([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),V=[z.x,z.y,z.ea,0],P=[q.x,q.y,q.ea,0];
V=T.DB.kF(e,V);P=T.DB.kF(e,P);var D=P[0]/V[0],B=P[1]/V[1],A=P[2]/V[2],s=T.DB.Su([D,0,0,0,B,0,0,0,A]),a=T.DB.TG(e);
return T.DB.multiply(T.DB.multiply(a,s),e)};T.Z$={};T.Z$.azQ=function(z,q,e,V,P,D,B,A,s,a){for(var M=0;
M<A;M++)for(var $=0;$<B;$++){var U=3*(M*B+$),o=M+D,t=$+P,c=z[o*q+t];V[U]=c;V[U+1]=c;V[U+2]=c}};T.Z$.qN=function(z,q,e,V,P,D,B,A,s,a){var M=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],$=1/s,U=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],o=new Uint32Array(6);
for(var t=0;t<A;t++){for(var c=0;c<B;c++){var H=3*(t*B+c),F=t+D,i=c+P;o[0]=0;o[1]=0;o[2]=0;o[3]=0;o[4]=0;
o[5]=0;for(var n=0;n<16;n+=2){var X=i+U[n],K=F+U[n+1],f=X-s*~~(X*$),d=K-s*~~(K*$),L=a[d*s+f];o[L]+=z[K*q+X];
o[L+3]++}var X=i,K=F,f=X-s*~~(X*$),d=K-s*~~(K*$),L=a[d*s+f];o[L]=z[F*q+i];o[L+3]=1;V[H]=o[0]*M[o[3]];
V[H+1]=o[1]*M[o[4]];V[H+2]=o[2]*M[o[5]]}}};T.Z$.as9=function(z,q,e,V,P,D,B,A,s,a){var M,$,U,o,t,c,H=new Float32Array(8);
function F(U,o){return(U&1)*2+(o&1)}for(M=0;M<e;M++)for($=0;$<q;$++){if($==V&&M>=V&&M<e-V)$=q-V;H.fill(0);
for(U=M-1;U!=M+2;U++)for(o=$-1;o!=$+2;o++)if(0<=o&&0<=U&&U<e&&o<q){t=P[F(U,o)];var i=z[(U*q+o)*3+t]=D[(U+a)*B+o+s];
H[t]+=i;H[t+4]++}t=P[F(M,$)];for(var c=0;c<3;c++)if(c!=t&&H[c+4])z[(M*q+$)*3+c]=H[c]/H[c+4]}};T.Z$.Yw=function(){var z,q,e;
function V(s,n){z[s]=q[n];z[s+1]=q[n-e]+q[n-1]+q[n+1]+q[n+e]>>>2;z[s+2]=q[n-e-1]+q[n-e+1]+q[n+e-1]+q[n+e+1]>>>2}function P(s,n){z[s]=q[n-1]+q[n+1]>>>1;
z[s+1]=q[n];z[s+2]=q[n-e]+q[n+e]>>>1}function D(s,n){z[s]=q[n-e]+q[n+e]>>>1;z[s+1]=q[n];z[s+2]=q[n-1]+q[n+1]>>>1}function B(s,n){z[s]=q[n-e-1]+q[n-e+1]+q[n+e-1]+q[n+e+1]>>>2;
z[s+1]=q[n-e]+q[n-1]+q[n+1]+q[n+e]>>>2;z[s+2]=q[n]}function A(s,a,M,$,U,o,t,c,H){z=$;q=s;e=a;var F=0,i=t,X=0,K=c,f=U>0&&o>0&&e-U>t&&M-o>c,d=[[0,1,1,2],[1,0,2,1],[2,1,1,0],[1,2,0,1]][H];
if(!f){F++;i--;X++;K--;H=[2,3,0,1][H]}var L=Date.now();for(var G=X;G<K;G+=2){var x=(G+o)*e+U;if(H==0)for(var O=F;
O<i;O+=2){var v=x+O,C=(G*t+O)*3;V(C,v);P(C+3,v+1);D(C+3*t,v+e);B(C+3*t+3,v+e+1)}else if(H==1)for(var O=F;
O<i;O+=2){var v=x+O,C=(G*t+O)*3;P(C,v);V(C+3,v+1);B(C+3*t,v+e);D(C+3*t+3,v+e+1)}else if(H==2)for(var O=F;
O<i;O+=2){var v=x+O,C=(G*t+O)*3;B(C,v);D(C+3,v+1);P(C+3*t,v+e);V(C+3*t+3,v+e+1)}else if(H==3)for(var O=F;
O<i;O+=2){var v=x+O,C=(G*t+O)*3;D(C,v);B(C+3,v+1);V(C+3*t,v+e);P(C+3*t+3,v+e+1)}}if(!f)T.Z$.as9(z,t,c,1,d,s,e,M,U,o);
console.log(Date.now()-L);L=Date.now()}return A}();T.Z$.aCd=function(){function z(A,n,s){return A[n-s-s]+A[n-2]+A[n+2]+A[n+s+s]}function q(A,n,s){return 2*(2*A[n-s]+2*A[n-1]+4*A[n]+2*A[n+1]+2*A[n+s]-z(A,n,s))}function e(A,n,s){return A[n-s-1]+A[n-s+1]+A[n+s-1]+A[n+s+1]}function V(A,n,s){return A[n-s-s]+A[n+s+s]-2*(A[n-2]+A[n+2])+8*(A[n-1]+A[n+1])}function P(A,n,s){return A[n-1-1]+A[n+1+1]-2*(A[n-2*s]+A[n+2*s])+8*(A[n-s]+A[n+s])}function D(A,n,s){return-3*(A[n-s-s]+A[n-2]+A[n+2]+A[n+s+s])+4*(A[n-s-1]+A[n-s+1]+A[n+s-1]+A[n+s+1])+12*A[n]}function B(A,s,a,M,$,U,o,t,c){var H=2,F=o-2,i=2,X=t-2,K=[[0,1,1,2],[1,0,2,1],[2,1,1,0],[1,2,0,1]][c],f=0;
if(c==1){H++;F--}if(c==2){H++;i++;F--;X--}if(c==3){i++;X--}for(var d=i;d<X;d+=2){for(var L=H;L<F;L+=2){var G=3*(d*o+L),x=(d+U)*s+L+$;
M[G+0]=A[x];M[G+1]=q(A,x,s)>>4;M[G+2]=D(A,x,s)>>4;M[G+3+1]=A[x+1];f=10*A[x+1]-2*e(A,x+1,s);M[G+3+0]=f+V(A,x+1,s)>>4;
M[G+3+2]=f+P(A,x+1,s)>>4;G+=3*o;x+=s;M[G+1]=A[x];f=10*A[x]-2*e(A,x,s);M[G+0]=f+P(A,x,s)>>4;M[G+2]=f+V(A,x,s)>>4;
M[G+3+0]=D(A,x+1,s)>>4;M[G+3+1]=q(A,x+1,s)>>4;M[G+3+2]=A[x+1]}}T.Z$.as9(M,o,t,Math.max(H,i),K,A,s,a,$,U)}return B}();
T.raw={};T.raw.acT=function(z){var q=Date.now(),e=z.width,V=z.height,P=0,D=0,B=e,A=V;if(z.t50829){var s=z.t50829;
P=s[1];D=s[0];B=s[3];A=s[2]}if(z.t50720&&z.t50720[0]*1.5>e){if(z.t50719){var a=z.t50719;P+=a[0]>>1<<1;
D+=a[1]>>1<<1}if(z.t50720){var M=z.t50720;B=P+(M[0]&65534);A=D+(M[1]&65534)}}var $=B-P,U=A-D,o=T.raw.amU(z),t=z.t33422,c=z.t33421;
if(c){var M=c[0],H=t.slice(0);for(var F=0;F<M;F++)for(var i=0;i<M;i++){var X=(i+(P&1))%M,K=(F+(D&1))%M;
H[F*M+i]=t[K*M+X]}t=H}if(z.t277[0]==1&&t)T.raw.aex(o,e,V,z,t);T.raw.Tx(2,z,o,e,V);var f=new Float32Array($*U*3);
if(z.t277[0]==1){if(c==null){T.Z$.azQ(o,e,V,f,P,D,$,U)}else if(c.length!=2||c[0]!=2||c[1]!=2){console.log("Unknown CFA pattern size",c);
T.Z$.qN(o,e,V,f,P,D,$,U,c[0],t)}else{var d=z.t33422.join(","),L=0;if(d=="0,1,1,2")L=0;else if(d=="1,0,2,1")L=1;
else if(d=="2,1,1,0")L=2;else if(d=="1,2,0,1")L=3;else throw"Unknown CFA pattern "+d;if(($&1)!=0||(U&1)!=0)throw"e";
var q=Date.now(),G=z.t50728;if(G==null)G=[1,1,1];G=G.slice(0);for(var n=0;n<3;n++)G[n]=Math.max(G[n],.5);
var x=1/G[t[0]],O=1/G[t[1]],v=1/G[t[2]],C=1/G[t[3]];for(var F=0;F<V;F+=2)for(var i=0;i<e;i+=2){var n=F*e+i;
o[n]*=x;o[n+1]*=O;o[n+e]*=v;o[n+e+1]*=C}T.Z$.aCd(o,e,V,f,P,D,$,U,L);for(var F=0;F<U;F++)for(var i=0;
i<$;i++){var S=3*(F*$+i);f[S]*=G[0];f[S+1]*=G[1];f[S+2]*=G[2]}}}else{for(var F=0;F<U;F++)for(var i=0;
i<$;i++){var j=((F+D)*e+i+P)*3,S=(F*$+i)*3;f[S+0]=o[j+0];f[S+1]=o[j+1];f[S+2]=o[j+2]}}var w=f,u=f.length,l=T.raw.Es(z),I=1/l;
for(var n=0;n<u;n+=3){f[n]=w[n]*I;f[n+1]=w[n+1]*I;f[n+2]=w[n+2]*I}T.raw.Tx(3,z,f,$,U);var Q=z.ta,b=$,p=U;
if(Q==1||Q==9){}else{var k=T.raw.acZ(Q,$,U),S=0;b=k[0];p=k[1];var g=f.slice(0);for(var F=0;F<p;F++)for(var i=0;
i<b;i++){var Y=k[2]*i+k[3]*F+k[4],R=k[5]*i+k[6]*F+k[7],j=(R*$+Y)*3;f[S]=g[j];f[S+1]=g[j+1];f[S+2]=g[j+2];
S+=3}}return{Dm:f,ayP:b,akz:p}};T.raw.acZ=function(z,q,e){var V=q,P=e;if(!1){}else if(z==0)return[e,q,0,-1,q-1,1,0,0];
else if(z==2)return[q,e,-1,0,q-1,0,1,0];else if(z==3)return[q,e,-1,0,q-1,0,-1,e-1];else if(z==4)return[q,e,1,0,0,0,-1,e-1];
else if(z==5)return[e,q,0,1,0,1,0,0];else if(z==6)return[e,q,0,1,0,-1,0,e-1];else if(z==7)return[e,q,0,-1,q-1,-1,0,e-1];
else if(z==8)return[e,q,0,-1,q-1,1,0,0];else throw"unknown orientation "+z};T.raw.aex=function(z,q,e,V,P){var D=Date.now(),o=0;
if(T.raw.Es(V)>4e4){for(var n=0;n<z.length;n++)z[n]>>=1;var B=["t50714","t50715","t50712","t50717"];
for(var n=0;n<B.length;n++){var A=V[B[n]];if(A)for(var s=0;s<A.length;s++)A[s]>>>=1}console.log("remapping to lower bit depth")}var a=~~Math.sqrt(P.length),M=~~(.987*T.raw.Es(V)),$=V.t50728;
if($==null||$[0]==0)$=[1,1,1];var D=Date.now(),U=[];for(var t=1;t<e-1;t++)for(var c=1;c<q-1;c++){var n=t*q+c;
if(M<z[n])U.push(n);o=Math.max(o,z[n])}if(U.length==0)return;var H=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],F=[];
for(var t=0;t<a;t++)for(var c=0;c<a;c++){var n=t*a+c,i=F[t*a+c]=[0,0,0];for(var s=0;s<18;s+=2){var X=(a+c+H[s])%a,K=(a+t+H[s+1])%a,f=P[K*a+X];
i[f]=H[s+1]*q+H[s]}}var d=$[1]/$[0],L=$[1]/$[2],G=new Float32Array(131072);for(var n=0;n<131072;n++)G[n]=Math.pow(n,1/3);
var x=z.slice(0);for(var O=0;O<U.length;O++){var n=U[O],t=~~(n/q),c=n-t*q,v=t%a*a+c%a,C=P[v];if(C==1){var S=G[~~(z[n+F[v][0]]*d+.5)],j=G[~~(z[n+F[v][2]]*L+.5)],w=(S+j)*.5,u=Math.min(65535,~~(w*w*w));
if(u>x[n])x[n]=u}}z.set(x)};T.raw.aDN=function(z,q,e,V,P,D,B){var A=Math.max(D[0],D[1],D[2]);D=[D[0]/A,D[1]/A,D[2]/A];
console.log(D);var s=new Uint32Array(z.length);for(var a=0;a<e;a++){}for(var M=0;M<q;M++){T.raw.aci(z,s,q,e,1,1,M,P,B,D,0);
T.raw.aci(z,s,q,e,1,-1,M,P,B,D,1)}z.set(s)};T.raw.aci=function(z,q,e,V,P,D,B,A,s,a,M){var $=1,U=1,o=(P==0?e:V)-1;
if(D==-1){U=o-1;o=0}for(var n=U;n!=o;n+=D){var t=n,c=B;if(P==1){t=B;c=n}var H=c*e+t,F=s,i=s,X=P==0?1:e,K=P==0?e:1,f=z[H],d=z[H+D*X];
if(f<F&&d<i&&3<f&&3<d){var L=1;if(n&1)L=f/d;else L=d/f;$=(3*$+L)*.25}if(F<=f&&A[(c&1)*2+(t&1)]==1){var G=0;
if(d<i){if(n&1)G=d*$;else G=d/$}else{if($<1){if(n&1)G=f;else G=d/$}else{if(n&1)G=d*$;else G=f}}if(M==0)q[H]=G;
else if(M==1)q[H]=Math.min(65535,(q[H]+G)/2);else q[H]+=G}else q[H]=f}};T.raw.sC=function(z,q,e,V,P){var D=eZ.wc(V[0],V[1]),B=T.raw.afI(e,D),A=[T.DB.vs,T.DB.aMT,T.DB.ah2,T.DB.aM0][P],s=T.DB.multiply(A,B),a=Math.pow(2,V[2]+(e.t50730?e.t50730[0]:0));
s=T.DB.multiply(s,T.DB.pK(a,a,a));var M=T.raw.sC.adq[P];if(M==null){M=T.raw.sC.adq[P]=new Float32Array(5e3);
var $=1/[2.4,2.1992,1.8,2.4][P];if(P==0||P==3)for(var n=0;n<5e3;n++)M[n]=T.Xg(n*(1/4e3));else for(var n=0;
n<5e3;n++)M[n]=Math.pow(n*(1/4e3),$)}var U=z.length;for(var n=0;n<U;n+=4){var o=z[n],t=z[n+1],c=z[n+2],H=s[0]*o+s[1]*t+s[2]*c,F=s[4]*o+s[5]*t+s[6]*c,i=s[8]*o+s[9]*t+s[10]*c;
if(H<0)H=0;else if(H>1)H=1;if(F<0)F=0;else if(F>1)F=1;if(i<0)i=0;else if(i>1)i=1;q[n]=M[~~(H*4e3)];q[n+1]=M[~~(F*4e3)];
q[n+2]=M[~~(i*4e3)]}};T.raw.sC.adq=[];T.raw.amU=function(z){var q=z.width,e=z.height,V=q*e*z.t277,P=new Uint16Array(V),D=null,B=0;
T.raw.aOI(z,P);T.raw.Tx(1,z,P,q,e);if(z.t50712){D=z.t50712;B=D.length-1;if(D[B]>65535)throw"too big values"}var A=T.raw.aJj(z),s=T.raw.anX(z);
if(D==null)for(var n=0;n<V;n++)P[n]=Math.max(0,P[n]-A);else for(var n=0;n<V;n++){var a=P[n];if(a>B)a=B;
a=D[a];P[n]=Math.max(0,a-A)}return P};T.raw.aJj=function(z){var q=z.t50714,e=q?q[0]:0,V=z.t50715,P=z.t50716;
if(V)e+=V[0][0]/V[0][1];if(P)e+=P[0][0]/P[0][1];return Math.round(e)};T.raw.anX=function(z){var q=null,e=0;
if(z.t50712){q=z.t50712;e=q.length-1}var V=z.t50717?z.t50717[0]:(1<<z.t258[0])-1;if(q)V=Math.min(V,q[e]);
if(V==1)V=32767;return V};T.raw.Es=function(z){var q=T.raw.aJj(z),e=T.raw.anX(z);return e-q};T.raw.aOI=function(z,q){var e=q.length,V=z.data,P=z.t258[0],B=null;
if(P!=32&&P!=16&&P!=14&&P!=12&&P!=10&&P!=8)throw"Unsupported Bits Per Sample:"+P;P=Math.round(V.length*8/e);
if(z.t272&&z.t272[0]=="COOLPIX B700")for(var n=0;n<V.length;n+=4){var D=V[n];V[n]=V[n+3];V[n+3]=D;var D=V[n+1];
V[n+1]=V[n+2];V[n+2]=D}if(P==16&&z.isLE){T.Yh(V,q);return}for(var n=0;n<e;n+=2){var A=0,s=0,a=0;if(P==32){if(B==null)B=new Float32Array(V.buffer);
s=~~(B[n]*32767);a=~~(B[n+1]*32767)}else if(P==16){A=n<<1;s=V[A]<<8|V[A+1];a=V[A+2]<<8|V[A+3]}else if(P==14){var M=n*14,$=M>>>3,U=V[$]<<24|V[$+1]<<16|V[$+2]<<8|V[$+3];
if((M&7)==0){s=U>>>18;a=U>>>4&16383}else{s=U>>>14&16383;a=U&16383}}else if(P==12){A=n+(n>>>1);s=V[A]<<4|V[A+1]>>4;
a=(V[A+1]&15)<<8|V[A+2]}else if(P==10){var M=n*10,$=M>>>3;if((M&7)==0){s=(V[$]<<2|V[$+1]>>6)&1023;a=(V[$+1]<<4|V[$+2]>>4)&1023}else{s=(V[$]<<6|V[$+1]>>2)&1023;
a=(V[$+1]<<8|V[$+2]>>0)&1023}}else if(P==8){A=n;s=V[A];a=V[A+1]}q[n]=s;q[n+1]=a}};T.raw.a9B=function(z,q,e,V,P,D,B){var A=z-.499999,s=q-.499999,a=~~A,M=~~s,$=A-a,U=s-M,o=(1-U)*(1-$),t=(1-U)*$,c=U*(1-$),H=U*$,F=(M*V+a)*3,i=((M+1)*V+a)*3,X=o*e[F]+t*e[F+3]+c*e[i]+H*e[i+3],K=o*e[F+1]+t*e[F+4]+c*e[i+1]+H*e[i+4],f=o*e[F+2]+t*e[F+5]+c*e[i+2]+H*e[i+5];
D[B]=X;D[B+1]=K;D[B+2]=f};T.raw.Tx=function(z,q,e,V,P){var D=q["t"+[51008,51009,51022][z-1]],M=0;if(D==null)return;
var B=V*P,A=y.vQ,s=y.my,a=new Uint8Array(D),jZ=y.vQ(a,M);M+=4;for(var $=0;$<jZ;$++){var U=A(a,M);M+=4;
var o=A(a,M);M+=4;var t=A(a,M);M+=4;var c=A(a,M);M+=4;if(!1){}else if(U==1&&z==3){var H=M,F=A(a,H);H+=4;
var i=s(a,H);H+=8;var X=s(a,H);H+=8;var K=s(a,H);H+=8;var f=s(a,H);H+=8;var d=s(a,H);H+=8;var L=s(a,H);
H+=8;H+=(F-1)*8*6;var G=s(a,H);H+=8;var x=s(a,H);H+=8;var O=G*V,v=x*P,C=Math.max(O,V-O),S=Math.max(v,P-v),j=Math.sqrt(C*C+S*S),w=1/j,u=e.slice(0);
for(var l=0;l<P;l++)for(var I=0;I<V;I++){var Q=(I+.5-O)*w,b=(l+.5-v)*w,p=Q*Q+b*b,k=i+X*p+K*(p*p)+f*(p*p)*p,g=d*(2*Q*b)+L*(p+2*Q*Q),Y=L*(2*Q*b)+d*(p+2*b*b),R=Math.min(O+j*(k*Q+g),V-1),m=Math.min(v+j*(k*b+Y),P-1),Z=(l*V+I)*3;
T.raw.a9B(R,m,u,V,P,e,Z)}}else if(U==3&&z==3){var H=M,E=s(a,H);H+=8;var N=s(a,H);H+=8;var h=s(a,H);H+=8;
var j5=s(a,H);H+=8;var r=s(a,H);H+=8;var G=s(a,H);H+=8;var x=s(a,H);H+=8;var O=G*V,v=x*P,C=Math.max(O,V-O),S=Math.max(v,P-v),j=Math.sqrt(C*C+S*S),w=1/j;
for(var l=0;l<P;l++)for(var I=0;I<V;I++){var Q=(I+.5-O)*w,b=(l+.5-v)*w,p=Q*Q+b*b,l8=1+(E+(N+(h+(j5+r*p)*p)*p)*p)*p,Z=(l*V+I)*3;
e[Z]=l8*e[Z];e[Z+1]=l8*e[Z+1];e[Z+2]=l8*e[Z+2]}}else if(U==4&&z==1){var H=M,aP=A(a,H);H+=4;var bS=A(a,H);
H+=4;for(var n=0;n<B;n++)if(e[n]==aP)e[n]=e[n-2]+e[n+2]>>1}else if(U==5&&z==1){var H=M,kR=A(a,H);H+=4;
var j1=A(a,H);H+=4;var f6=A(a,H);H+=4;for(var n=0;n<j1;n++){var gx=A(a,H);H+=4;var lC=A(a,H);H+=4;var n=gx*V+lC;
e[n]=e[n-2]+e[n+2]>>1}}else if(U==7&&z==1){var H=M,g2=y.Tb(a,H);H+=16;var dv=A(a,H);H+=4;var bv=A(a,H);
H+=4;var eo=A(a,H),aL=A(a,H+4);H+=8;var dh=A(a,H);H+=4;var eM=new Uint16Array(dh);for(var n=0;n<dh;n++)eM[n]=y.mU(a,H+2*n);
var kg=g2.s,jJ=g2.T;for(var l=0;l<jJ;l+=eo)for(var I=0;I<kg;I+=aL){var n=(g2.y+l)*V+(g2.x+I);e[n]=eM[e[n]]}}else if(U==8&&z==2){var H=M,g2=y.Tb(a,H);
H+=16;var dv=A(a,H);H+=4;var bv=A(a,H);H+=4;var eo=A(a,H),aL=A(a,H+4);H+=8;var iL=A(a,H);H+=4;var bz=[];
for(var n=0;n<=iL;n++)bz[n]=y.my(a,H+n*8);var ks=g2.x,gr=g2.x+g2.s,hg=g2.y,ci=g2.y+g2.T,fK=q.t50717[0],jN=1/fK;
for(var dD=0;dD<bv;dD++)for(var l=hg;l<ci;l+=eo){var Z=3*l*V+dv+dD;for(var I=ks;I<gr;I+=aL){var n=Z+3*I,eF=e[n]*jN,io=bz[iL];
for(var la=iL;la>0;la--)io=io*eF+bz[la-1];e[n]=Math.max(0,Math.min(65535,~~(io*fK)))}}}else if(U==9&&(z==2||z==3)){var H=M,g2=y.Tb(a,H),a7=!0;
H+=16;var dv=A(a,H);H+=4;var bv=A(a,H);H+=4;var eo=A(a,H),aL=A(a,H+4);H+=8;var e9=A(a,H),gM=A(a,H+4);
H+=8;var j7=s(a,H),cI=s(a,H+8);H+=16;var dL=s(a,H),cf=s(a,H+8);H+=16;var jA=A(a,H);H+=4;var gI=e9*gM*jA,fM=new Float32Array(gI);
for(var la=0;la<gI;la++)fM[la]=y.ad(a,H+la*4);for(var la=0;la<gI;la++)if(fM[la]!=1)a7=!1;if(z==2&&jA!=1)throw"e";
if(z==3&&jA!=3)throw"e";if(!a7){var kg=Math.min(g2.s,V-g2.x),jJ=Math.min(g2.T,P-g2.y),k6=.9999*(gM-1)/kg,fv=.9999*(e9-1)/jJ;
for(var l=0;l<jJ;l+=eo)for(var I=0;I<kg;I+=aL){var n=(g2.y+l)*V+(g2.x+I),fq=I*k6,cu=l*fv,ac=Math.floor(fq),hN=Math.floor(cu),cQ=fq-ac,d_=cu-hN,Z=hN*gM+ac;
if(z==2){var cK=fM[Z]*(1-cQ)+fM[Z+1]*cQ,cc=fM[Z+gM]*(1-cQ)+fM[Z+1+gM]*cQ,aH=cK*(1-d_)+cc*d_;e[n]=Math.max(0,Math.min(65535,~~(e[n]*aH+.5)))}if(z==3){for(var jj=0;
jj<3;jj++){var iG=Z*3+jj,cK=fM[iG]*(1-cQ)+fM[iG+3]*cQ,cc=fM[iG+gM*3]*(1-cQ)+fM[iG+3+gM*3]*cQ,aH=cK*(1-d_)+cc*d_;
e[3*n+jj]=e[3*n+jj]*aH}}}}}else console.log("Unknown opcode "+U+" in OpcodeList"+z+". Length: "+c);M+=c}};
T.raw.afI=function(z,q){var e=eZ.qQ(q),V=T.raw.axu(z,q),P=T.DB.TG(V),D=eZ.aot(e,eZ.qQ(eZ.a88)),B=T.DB.multiply(D,P);
return B};T.raw.amh=function(z){var q=z.t50728,e=z.t50729,D=1;if(e)return{x:e[0][0]/e[0][1],y:e[1][0]/e[1][1]};
if(q==null||q[0]==0)q=[1,1,1];var V=q.slice(0);V.push(0);var P={x:.34567,y:.3585};do{var B=T.DB.TG(T.raw.axu(z,P)),A=T.DB.kF(B,V),s=eZ.apy(A);
D=Math.abs(P.x-s.x)+Math.abs(P.y-s.y);P=s}while(D>1e-7);return P};T.raw.axu=function(z,q){var e=eZ.af7(q),V=T.raw.aAV,P=z.t50778?z.t50778[0]:0,D=z.t50779?z.t50779[0]:0,B=z.t50723,A=z.t50724;
if(B&&B.length==3)B=null;if(A&&A.length==3)A=null;var s=V(z.t50721,z.t50722,P,D,e.iL),a=V(B,A,P,D,e.iL);
s=s||[1,0,0,0,1,0,0,0,1];a=a||[1,0,0,0,1,0,0,0,1];var M=z.t50727?[z.t50727[0],0,0,0,z.t50727[1],0,0,0,z.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return T.DB.multiply(T.DB.Su(M),T.DB.multiply(T.DB.Su(a),T.DB.Su(s)))};T.raw.aAV=function(z,q,e,V,P){if(!z&&!q){return null}else if(z&&!q){return z}else if(P<e){return z}else if(P>V){return q}else{var D=(1/P-1/V)/(1/e-1/V),B=1-D,A=[];
for(var n=0;n<9;n++)A[n]=z[n]*D+q[n]*B;return A}};T.raw.hO={};T.raw.SU=function(z){z*=8;var q=[8,10,12,14,16];
for(var e in CAMS){var V=CAMS[e];if(V.length==4)continue;var P=V[4],D=V[5];for(var n=0;n<q.length;n++)if(P*D*q[n]==z)return[e,q[n]]}var B=[[4e3,3e3]];
for(var n=0;n<B.length;n++){var V=B[n],P=V[0],D=V[1];for(var n=0;n<q.length;n++)if(P*D*q[n]==z)return[V,q[n]]}return null};
T.raw.a9z=function(z){var z=new Uint8Array(z);for(var n=0;n<z.length;n+=2){var q=z[n];z[n]=z[n+1];z[n+1]=q}var e=T.raw.SU(z.length),V=CAMS[e[0]];
if(V==null)V=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,e[0][0],e[0][1]];var P=V[4],D=V[5],B=Math.max(V[2],116),A={data:z,ta:1,width:P,height:D,t256:[P],t257:[D],t258:[e[1]],t277:[1],t33421:[2,2],t33422:T.raw.xw[V[1]],t50706:[1,2,0,0],t50714:[B,B,B,B],t50717:[V[3]],t50721:V[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var n=0;n<9;n++)A.t50721[n]/=1e4;return A};T.raw.aGD=function(z){if(z==null||z.length==0||typeof z[0]=="number")return z;
var q=[];for(var n=0;n<z.length;n++)q[n]=z[n][1]==0?0:z[n][0]/z[n][1];return q};T.raw.xw=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
T.raw.normalize=function(z,q){if(z.t259&&z.t259[0]==52546)alert("JPEG XL compression is not supported yet.",4e3);
if(z.t50706!=null||z.t271[0].startsWith("Hasselblad")){var e=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var n=0;n<e.length;n++)if(z["t"+e[n]]!=null)z["t"+e[n]]=T.raw.aGD(z["t"+e[n]]);if(z.t271&&z.t271[0].startsWith("Hasselblad")){z.t50706=[1,2,0,0];
z.t33422=T.raw.xw[1];z.t50723=[1,0,0,0,1,0,0,0,1];z.t50778=[17];if(!z.isLE)for(var n=0;n<z.data.length;
n+=2){var V=z.data[n];z.data[n]=z.data[n+1];z.data[n+1]=V}}if(z.t272&&z.t272[0]=="HERO10 Black"){z.t50728=[.469725,1,.739884];
if(!z.t305[0].startsWith("Adobe")){var P=new Uint16Array(z.data.buffer);for(var n=0;n<P.length;n++)P[n]>>>=2}}return}var D=z.t258[0],B=z.exifIFD,q=new Uint8Array(q);
z.t50706=[1,2,0,0];var A=z.t271[0].trim(),s=z.t272[0].trim();if(z.t50708==null)z.t50708=[A+" "+s];var a=(A+":"+s).toLowerCase().trim(),M=CAMS[a];
if(a=="panasonic:dmc-lx2")M[3]=1<<16;if(M==null){alert("Unknown camera:"+a);if(a.startsWith("canon"))M=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(M!=null){var $=M[2],U=M[3];
if($!=0)z.t50714=[$,$,$,$];if(U!=0)z.t50717=[U];z.t50721=M[0].slice(0);for(var n=0;n<9;n++)z.t50721[n]=z.t50721[n]*(1/1e4)}z.t50723=[1,0,0,0,1,0,0,0,1];
if(z.t50728==null)z.t50728=[.35,1,.6];z.t50778=[17];if(A.startsWith("OLYMPUS")||A.startsWith("OM Digital Solutions")){z.t33422=[2,1,1,0];
var o=B.t41730,F;if(o)z.t33422=[o[4],o[5],o[6],o[7]];var t=z.t50341;if(t==null)t=B.t36864;var c=T.raw.al8(t.buffer,z);
z.data=new Uint8Array(c.buffer);if((z.height&1)==1)z.t50829=[0,0,z.height-1,z.width];var H=B.makerNote,i=H.t8256;
if(i)F=i.t256;else F=H.t12288.t256;if(F)z.t50728=[256/F[0],1,256/F[1]]}else if(z.t271[0].startsWith("SONY")){var X=UTIF["_bin"+(z.isLE?"LE":"BE")],K=z.t28688,v;
if(JSON.stringify(K)!="[8000,10400,12900,14100]")console.log(K);if(K&&K.join("")!="0000"){var f=[0,0,0,0,0,4095],d=new Uint16Array(16385);
for(var n=0;n<4;n++){var L=K[n]>>>2;f[n+1]=L;if(L>4095)throw"e"}for(var n=0;n<16385;n++)d[n]=n;for(var n=0;
n<5;n++)for(var G=f[n]+1;G<=f[n+1];G++)d[G]=d[G-1]+(1<<n);var x=q.length*8<z.width*z.height*D;if(x)z.t50712=d}else console.log("no curve");
var O=z.dngPrvt;if(O){var C=O.t29184[0],S=O.t29185[0],j=(z.isLE?y.iM:y.vQ)(O.t29217,0),w=new Uint32Array(q.slice(C,C+(S&4294967292)).buffer),u=new Uint32Array(S>>>2);
T.raw.ae7(w,u,S>>>2,j);var l=new Uint8Array(C+S);l.set(new Uint8Array(u.buffer),C);var I=[];UTIF._readIFD(X,l,C,I,0,!1);
var Q=I.pop(),b=Q.t29458;z.t50728=[b[1]/b[0],1,b[1]/b[3]];z.t50730=[.5];var p=Q.t29891;z.t50829=[p[1],p[0],p[3],p[2]];
if(Q.t29456)z.t50714=Q.t29456}else if(B.makerNote&&B.makerNote.t8208){var v=B.makerNote,k=v.t8208,g=k.length,Y=0,R=new Uint8Array(256);
for(var n=249;n<256;n++)R[n]=n;for(var n=0;n<249;n++)R[n*n*n%249]=n;for(var n=0;n<g;n++)k[n]=R[k[n]];
if(g==6604)Y=612;else throw"e";var b=[];for(var n=0;n<3;n++)b.push(y.dG(k,Y+n*2));console.log(b);z.t50728=[b[1]/b[0],1,b[1]/b[2]]}else console.log("no white balance");
if(z.width*z.height*1.5==z.t279[0]){$=$>>>2;z.t50714=[$,$,$,$];z.t50717=[M[3]>>>2]}}else if(z.t271[0].startsWith("Canon")){var q=z.data,m=q.slice(0),Z=z.t50752,E=[],h=0;
if(Z==null||Z[0]==0&&Z[1]==0)E.push(z.width);else{for(var n=0;n<Z[0];n++)E.push(Z[1]);E.push(Z[2])}var N=z.width*2,j5=z.t50885&&z.t50885[0]==4;
if(!j5)for(var r=0;r<E.length;r++){var l8=E[r],aP=2*h,bS=2*l8;for(var kR=0;kR<z.height;kR+=2){var j1=kR*N+aP,f6=z.height*aP+kR*bS;
for(var n=0;n<bS;n++){q[j1+n]=m[f6+n];q[j1+n+N]=m[f6+n+bS]}}h+=l8}else{var gx=new Uint16Array(m.buffer),lC=new Uint16Array(q.buffer);
function g2(bv,eo){lC[eo*3+0]=gx[bv*3+0];lC[eo*3+1]=gx[bv*3+1];lC[eo*3+2]=gx[bv*3+2]}var dv=(Z[0]*Z[1]+Z[2])/z.width;
for(var r=0;r<E.length;r++){var l8=Math.round(E[r]/dv);for(var kR=0;kR<z.height;kR++){var bv=z.height*h+(dv==3?(kR>>>3)*8+[0,4,1,5,2,6,3,7][kR&7]:kR)*l8,eo=kR*z.width+h;
for(var aL=0;aL<l8;aL++)g2(bv+aL,eo+aL)}h+=l8}var dh=new Uint16Array(q.buffer),eM=new Uint16Array(1),kg=new Int16Array(eM.buffer);
for(var n=0;n<dh.length;n+=3){var jJ=dh[n],iL=dh[n+1],bz=dh[n+2];eM[0]=iL<<2;iL=kg[0]>>2;eM[0]=bz<<2;
bz=kg[0]>>2;dh[n+0]=Math.max(0,bz+jJ);dh[n+1]=Math.max(0,(jJ<<12)-iL*778-(bz<<11)>>12);dh[n+2]=Math.max(0,iL+jJ)}}var v=B.makerNote,bv=v.t224;
if(bv){var C=z.t50719=[bv[5],bv[6]],ks=z.t50720=[bv[7]+1-bv[5],bv[8]+1-bv[6]],gr=v.t154;if(gr){C[0]+=gr[3];
C[1]+=gr[4];ks[0]=gr[1];ks[1]=gr[2]}}if(v.t16385){var hg=v.t16385,ci=hg.length,eF=1;if(hg instanceof Array)hg=new Uint16Array(hg);
if(hg instanceof Uint8Array)hg=new Int16Array(hg.slice(0).buffer);var fK=hg[0];if(ci==1273||ci==1275)fK=66;
var jN=[[null,null,null],[63,196,null],[63,231,null],[63,231,null],[63,231,696],[63,231,696],[63,231,719],[63,231,719],[null,null,null],[63,231,723],[63,504,508],[63,728,732],[63,326,782],[63,326,782],[63,326,560],[63,326,782],[71,329,796],[71,329,796],[71,329,796],[71,329,796]];
jN[-3]=[71,264,662];jN[-4]=[71,333,1385];jN[66]=[63,251,483];jN[32]=[85,343,810];jN[33]=[85,343,810];
jN[34]=[105,363,640];jN[48]=[105,363,640];var dD=jN[fK];if(dD==null){if(ci==582)dD=[25,166,null];if(ci==653)dD=[34,286,null]}var io=z.t272?z.t272[0]:"";
if(io=="Canon EOS DIGITAL REBEL XS"||io=="Canon EOS 1000D")eF=.25;var Y=dD[0],la=dD[1],e9=dD[2];if(Y)z.t50728=[hg[Y+1]/hg[Y],1,hg[Y+1]/hg[Y+3]];
if(la)z.t50714=[hg[la]*eF,hg[la]*eF,hg[la]*eF,hg[la]*eF];if(e9)z.t50717=[hg[e9]*eF];if(io=="Canon PowerShot SX50 HS")z.t50717=[3965]}else{z.t50728=[.4,1,.6]}if(j5){z.t277=[3];
z.t50728=[1,1,1];z.t50714=[0,0,0,0]}}else if(z.t271[0].startsWith("NIKON")){var v=B.makerNote,gM=z.isLE?y.dG:y.ab,gI=0,fM=0,ac,jj=0;
if(v.t61){var j7=v.t61,cI=[];for(var n=0;n<4;n++)cI[n]=j7[n]/Math.pow(2,14-D);z.t50714=cI}if(v.t3585){var dL=v.t3585,n=0,C=22;
while(C<dL.length&&n!=-4){var cf=y.iM(dL,C);C+=4;C+=14;n=y.iM(dL,C)-4;C+=4;if(cf==1990472198){if(dL[C]!=0)throw"Flip"}if(cf==1990472199){var jA=y.dG(dL,C);
if(jA==0)z.ta=1;else if(jA==270)z.ta=8;else throw"e "+jA}C+=n}}if(v.t183){var a7=v.t183,ks=[];for(var n=0;
n<6;n++)ks.push(gM(a7,16+n*2));gI=ks[0];fM=ks[1]}if(v.t3614){var k6=v.t3614;gI=y.iM(k6,8);fM=y.iM(k6,12)}if(gI!=0&&Math.max(gI,fM)<Math.max(z.width,z.height)){if(gI<fM){var V=gI;
gI=fM;fM=V}var aL=z.width-gI>>>1,kR=z.height-fM>>>1;z.t50829=[kR,aL,kR+fM,aL+gI]}else z.t50829=[8,8,z.height-8,z.width-56];
var fv=v.t69;if(fv){var fq=fv[1];if((fq&1)==1)fq--;var cu=fv[0];if((cu&1)==1)cu--;z.t50829=[fq,cu,fq+fv[3],cu+fv[2]]}if(v.t12){var hN=T.raw.aGD(v.t12);
ac=[1/hN[0],1,1/hN[1]]}else if(v.t151){var cQ=T.raw.aGm(v,151),d_=cQ[0],hp=cQ[1],cK=cQ[2];if(d_=="0100"&&hp>=80){var cc=[];
for(var n=0;n<4;n++)cc.push(gM(cK,68+n*2));ac=[cc[3]/cc[0],1,cc[3]/cc[1]]}else if(d_=="0102"){var cc=[];
for(var n=0;n<4;n++)cc.push(gM(cK,6+n*2));ac=[cc[1]/cc[0],1,cc[1]/cc[3]]}else if(d_=="0103"&&hp>=26){var cc=[];
for(var n=0;n<4;n++)cc.push(gM(cK,16+n*2));ac=[cc[1]/cc[0],1,cc[3]/cc[2]]}else if(d_=="0204"&&hp>=564||d_=="0205"&&hp>=284){var C=d_=="0204"?6:14,cc=[];
for(var n=0;n<4;n++)cc.push(gM(cK,C+n*2));ac=[cc[1]/cc[0],1,cc[1]/cc[3]]}else throw"e"}else console.log("no white balance info");
if(s=="NIKON D1")ac=[1,1,1];if(ac)z.t50728=ac;var aH=v.t150?v.t150:v.t140;if(aH){var iG=aH[jj++],hc=aH[jj++],fZ;
if(iG==73||hc==88)jj+=2110;jj+=8;var kD=1<<D&32767,l2=gM(aH,jj);jj+=2;var d=[];if(l2>1)fZ=Math.floor(kD/(l2-1));
if(iG==68&&hc==32&&fZ>0){for(n=0;n<l2;n++){d[n*fZ]=gM(aH,jj);jj+=2}for(n=0;n<kD;n++)d[n]=Math.floor((d[n-n%fZ]*(fZ-n%fZ)+d[n-n%fZ+fZ]*(n%fZ))/fZ)}else if(iG!=70&&l2<=16385){kD=l2;
for(var n=0;n<l2;n++)d[n]=gM(aH,jj+2*n);jj+=2*l2}var s=z.t272[0];if(d.length!=0)z.t50712=new Uint16Array(d);
if(z.t258[0]==14&&z.t50717&&z.t50717[0]<1e4){console.log("fixing white");z.t50717[0]*=4}}}else if(A.startsWith("FujiFilm")){}else if(A.startsWith("Panasonic")){if(z.t277==null)z.t277=[1]}else alert("Unknown camera "+A)};
T.raw.ae7=function(z,q,e,V){if(0==e)return;var P=new Uint32Array(128),D=new Uint8Array(P.buffer),B=127,A=0,s=0;
for(var B=0;B<4;B++)P[B]=V=(V*15625>>>0)*3125+1>>>0;P[3]=P[3]<<1|(P[0]^P[2])>>>31;for(var B=4;B<127;
B++)P[B]=(P[B-4]^P[B-2])<<1|(P[B-3]^P[B-1])>>>31;for(var B=0;B<127;B++)P[B]=y.vQ(D,B*4);for(;e>0;e--){P[B&127]=P[B+1&127]^P[B+1+64&127];
var a=P[B&127],M=z[A];M^=a;q[s]=M;A++;s++;B++}};T.raw.a3D=function(z,q){var e=y.JU(q,0,4),V=T.raw.apW;
for(var n=0;n<V.length;n++)if(V[n][0]==z&&e.startsWith(V[n][1])&&(V[n][2]==0||V[n][2]==q.length))return V[n];
throw"e"};T.raw.aBO=function(z){if(z.t29==null)return[];var q=T.raw.a76,e=T.raw.aIr,V=z.t29[0],P=0,B=0;
for(var n=0;n<V.length;n++){var D=V.charCodeAt(n);P=P*10+(48<=D&&D<=57?D-48:D%10)}var hp=z.t167[0];for(var n=0;
n<4;n++)B^=hp>>>(n<<3)&255;var A=q[P&255],s=e[B&255];return[A,s,96]};T.raw.aGm=function(z,q){var e=z["t"+q],hp=e.length,V=T.raw.a3D(q,e),P=y.JU(e,0,4),D,B=V[4];
if(B==null)D=e.slice(4);else{D=new Uint8Array(hp-B);var A=T.raw.aBO(z),s=A[0],a=A[1],M=A[2];for(var n=0;
n<D.length;n++){a=a+s*M++&255;D[n]=e[B++]^a}}return[P,hp,D]};T.raw.al8=function(z,q){var e=q.t271[0],V=q.t272[0],P=q.t256[0],D=q.t257[0],B=q.t258[0],A=q.t273[0],s=A,a=new Uint8Array(z),M,$=P-4,U=D,o=a.length-A,H=0,F=0;
function t(){var d=new Uint16Array(4096),hE=0;d[hE]=3084;for(var n=12;n--;)for(var L=0;L<2048>>n;L++)d[++hE]=n+1<<8|n;
return d}function c(){return a[s++]}function i(d,L){var G;if(d>25)return 0;if(d==0||F<0)return 0;if(d<0){H=0;
F=0;return 0}while(F<d){G=c();if(G==null)break;H=(H<<8)+(255&G);F+=8}G=F==0?0:H<<32-F>>>32-d;if(L){F-=L[G]>>8;
G=255&L[G]}else F-=d;return G}function X(){var d=t();s+=7;i(-1);for(var L=0;L<U;L++){var G=[new Int32Array(3),new Int32Array(3)];
for(var x=0;x<P;x++){var O=G[x&1],n=2*(O[2]<3),v;for(v=2+n;(65535&O[0])>>v+n;v++);var C=i(3),S=C&3;C=C<<29>>31;
var j=i(12,d);if(j==12)j=i(16-v)>>>1;var w=i(v);O[0]=j<<v|w;var u=(O[0]^C)+O[1];O[1]=u*3+O[1]>>5;O[2]=O[0]>16?0:O[2]+1;
if(x>=$)continue;var l=M[L*P+x-2],hE=M[(L-2)*P+x],I=M[(L-2)*P+x-2];M[L*P+x]=(L<2&&x<2?0:L<2?l:x<2?hE:l<I&&I<hE||hE<I&&I<l?Math.abs(l-I)>32||Math.abs(hE-I)>32?l+hE-I:l+hE>>1:Math.abs(l-I)>Math.abs(hE-I)?l:hE)+(u<<2|S)}}}function K(){var d=P*B/8,L=D+1>>1,x=0,O=0;
d+=d&6>>7;var G=d*8-P*B;for(var v=0;v<D;v++){var C=v%L*2+~~(v/L);if(C==1){x=0;s=A-(-L*d&-2048)}for(var S=0;
S<P;S++){for(x-=B;x<0;x+=8){O<<=8;for(var n=0;n<8;n+=8)O|=c()<<n}var j=O<<64-B-x>>>64-B;M[C*P+S]=j}x-=G}}function f(){var d=!e.startsWith("OLYMPUS")||!e.startsWith("OM Digi")||!e.toLowerCase().startsWith("clauss")&&!V.toLowerCase().startsWith("pix 5oo");
return d&&o<P*D*(B/8)}if(f()){M=new Uint16Array($*U);X()}else if(P*D*2==q.data.length){M=new Uint16Array(q.data.buffer)}else{M=new Uint16Array(P*D);
K()}return M};T.raw.apW=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
T.raw.a76=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
T.raw.aIr=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
T.q6={};T.q6.q6=function(z,q,e,V,P){if(V==null)V=3;if(P==null)P=!0;var D=z.s,B=z.T,A=1/D,s=D*B,a=Date.now(),M=!1,$=T.q6.awz(e,D,B,255,128),U=T.q6.awz(e,D,B,0,128),N=0;
if(M)console.log("extract contours",Date.now()-a);a=Date.now();var o=function(eF,io){var la=eF<<2,e9=io<<2;
return q[la]+q[la+1]+q[la+2]-(q[e9]+q[e9+1]+q[e9+2])};$.sort(o);U.sort(o);var t=T.n(s),c=T.n(s),H=[],F=new Uint32Array(D*B);
F.fill(4294967295);for(var n=0;n<s;n++)if(e[n]==0)c[n]=255;else if(e[n]==255)t[n]=255;else{F[n]=H.length;
H.push(n)}var i=$.length,X=U.length,K=H.length;function f(eF,io,la,e9){var gM=eF.length,j7=new Array(gM*2);
for(var n=0;n<gM;n++){var l=eF[n],I=~~(l*e9),Q=l-I*la,fK=l<<2;j7[n*2]=Q<<16|I;j7[n*2+1]=io[fK]<<16|io[fK+1]<<8|io[fK+2]}return j7}var d=f($,q,D,A),L=f(U,q,D,A),G=f(H,q,D,A);
if(M)console.log("Itemize",Date.now()-a,"Unknown:",K,i,X);a=Date.now();var x=T.style.jt(t,D,B,!0),O=T.style.jt(c,D,B,!0),v=new Array(K),C=new Array(K),S=new Array(K),j=new Array(K),w=new Array(K);
if(M)console.log("Dist transform",Date.now()-a);a=Date.now();var u=T.q6.bv;for(var n=0;n<K;n++){var l=H[n],I=~~(l*A),Q=l-I*D,b=x[l<<1],p=x[(l<<1)+1],k=Math.sqrt(b*b+p*p),g=O[l<<1],Y=O[(l<<1)+1],R=Math.sqrt(g*g+Y*Y);
v[n]=1/k;C[n]=1/R;var m=Math.floor(T.w.sG(l*17)*i),Z=Math.floor(T.w.sG(l*19)*X);S[n]=m;j[n]=Z;w[n]=u(G[n*2],G[n*2+1],d[m*2],d[m*2+1],L[Z*2],L[Z*2+1],v[n],C[n],1e9)}var E=[-D-1,-D,-D+1,-1,1,D-1,D,D+1];
while(Math.floor(Math.max(i,X)*Math.pow(.5,N))>1)N++;for(var h=0;h<V;h++){var j5=0;for(var n=0;n<K;n++){var l=H[n],I=~~(l*A),Q=l-I*D,r=v[n],l8=C[n],aP=G[n*2],bS=G[n*2+1],kR=w[n],m=S[n],Z=j[n],dv=1;
if(I!=0&&Q!=0&&Q!=D-1&&I!=B-1)for(var j1=0;j1<8;j1++){var f6=F[l+E[j1]];if(f6==4294967295)continue;var gx=S[f6],lC=j[f6];
if(gx==m&&lC==Z)continue;var g2=u(aP,bS,d[gx*2],d[gx*2+1],L[lC*2],L[lC*2+1],r,l8,kR);if(g2<kR){kR=g2;
m=gx;Z=lC}}for(var bv=0;bv<N;bv++){var eo=~~(i*dv),aL=~~(X*dv);dv*=.5;var dh=T.w.sG(l+h*17+bv*31),eM=T.w.sG(l+h*29+bv*63),kg=Math.max(0,m-eo),jJ=Math.min(m+eo,i-1),iL=Math.max(0,Z-aL),bz=Math.min(Z+aL,X-1),gx=kg+~~(dh*(jJ-kg)),lC=iL+~~(eM*(bz-iL)),g2=u(aP,bS,d[gx*2],d[gx*2+1],L[lC*2],L[lC*2+1],r,l8,kR);
if(g2<kR){kR=g2;m=gx;Z=lC}}w[n]=kR;S[n]=m;j[n]=Z;j5+=kR}}if(M)console.log(j5);if(M)console.log("iterations",Date.now()-a);
a=Date.now();var ks=e.slice(0);for(var n=0;n<K;n++){var gr=T.q6.alpha(G[n*2+1],d[S[n]*2+1],L[j[n]*2+1]);
ks[H[n]]=~~(.5+255*gr)}ks=T.S4.asA(ks,q,new kk(0,0,D,B),16,.01*.01);if(M)console.log("guided filter",Date.now()-a);
a=Date.now();if(P)for(var n=0;n<s;n++)if(e[n]==255||e[n]==0)ks[n]=e[n];var hg=q.slice(0);for(var n=0;
n<K;n++){var ci=H[n],m=$[S[n]],kR=w[n],fK=ci<<2,jN=ks[ci],dD=(jN>=250?ci:m)<<2;hg[fK]=q[dD];hg[fK+1]=q[dD+1];
hg[fK+2]=q[dD+2]}T.yR(ks,hg,3);if(M)console.log(Date.now()-a);a=Date.now();return hg};T.q6.bv=function(z,q,e,V,P,D,B,A,s){var M=z>>>16,$=z&65535,U=M-(e>>>16),o=$-(e&65535),t=M-(P>>>16),c=$-(P&65535),H=Math.sqrt(U*U+o*o)*B,F=Math.sqrt(t*t+c*c)*A;
if(H+F>=s)return 1e9;var i=T.q6.aLU(q,V,D);return i+H+F};T.q6.aLU=function(z,q,e){var V=z>>>16,P=z>>>8&255,D=z&255,B=q>>>16,A=q>>>8&255,s=q&255,M=e>>>16,$=e>>>8&255,U=e&255,t=T.q6.alpha(z,q,e),c=V-(t*B+(1-t)*M),H=P-(t*A+(1-t)*$),F=D-(t*s+(1-t)*U);
return Math.sqrt(c*c+H*H+F*F)};T.q6.alpha=function(z,q,e){var V=z>>>16,P=z>>>8&255,D=z&255,B=q>>>16,A=q>>>8&255,s=q&255,M=e>>>16,$=e>>>8&255,U=e&255,t=B-M,c=A-$,H=s-U,F=V-M,i=P-$,X=D-U,K=t*t+c*c+H*H,f=K==0?.5:(F*t+i*c+X*H)/K;
return Math.max(0,Math.min(1,f))};T.q6.a6q=function(z){};T.q6.awz=function(z,q,e,V,P){var D=[],B=q-1,A=e-1;
for(var s=1;s<A;s++)for(var a=1;a<B;a++){var n=s*q+a;if(z[n]==V&&(z[n-q-1]==P||z[n-q]==P||z[n-q+1]==P||(z[n-1]==P||z[n+1]==P)||(z[n+q-1]==P||z[n+q]==P||z[n+q+1]==P)))D.push(n)}return D};
T.S4={};T.S4.aDw=function(z,q,e,V,P){var D=e.s,B=e.T,A=D*B,s=T.S4.apD,a=T.n(A*4),M;a.fill(255);var $=e,U=z,o=q,t=V;
T.yR(z,a,0);M=T.W6(a,e);M=T.W6(M.Dm,M.V);$=M.V;t=V>>>2;console.log($,t);U=T.n($.D());T.bl(M.Dm,U,0);
T.yR(q,a,0);M=T.W6(a,e);M=T.W6(M.Dm,M.V);o=T.n($.D());T.bl(M.Dm,o,0);var c=T.S4.aAj(U,o,$,t,P),H=c[0],F=c[1],i=new kk(0,0,$.s*2,$.T*2);
H=s(H,$,i,!0);H=s(H,i,e,!0);F=s(F,$,i,!0);F=s(F,i,e,!0);var X=T.n(A);for(var n=0;n<A;n++)X[n]=Math.max(0,Math.min(255,Math.floor(.5+(H[n]*q[n]+255*F[n]))));
return X};T.S4.BJ=function(z,q,e,V){q.set(z);T.BJ.a7F(q,e,V)};T.S4.apD=function(z,q,e,V){var P=e.s,D=e.T,B=q.s,A=q.T,s=T.S4.Yw,a=new Float32Array(P*D);
for(var M=0;M<A;M++){var $=(M+M)*P;for(var U=0;U<B;U++){if(!0||U==0||M==0||U==B-1||M==A-1)a[$]=a[$+1]=a[$+P]=a[$+P+1]=z[M*B+U];
else{a[$]=s(U+.25,M+.25,z,B,A);a[$+1]=s(U+.75,M+.25,z,B,A);a[$+P]=s(U+.25,M+.75,z,B,A);a[$+P+1]=s(U+.75,M+.75,z,B,A)}$+=2}}return a};
T.S4.Yw=function(z,q,e,V,P){z-=.499999;q-=.499999;var D=Math.floor(z),B=Math.floor(q),A=B*V+D,s=z-D,a=q-B,M=(1-a)*(1-s),$=(1-a)*s,U=a*(1-s),o=a*s;
if(e[A]==null||e[A+V+1]==null){console.log(z,q,V,P);throw"e"}return M*e[A+0]+$*e[A+1]+U*e[A+V+0]+o*e[A+V+1]};
T.S4.aAj=function(z,q,e,V,P){var D=e.s,B=e.T,A=D*B,s=T.S4.a3c,a=T.S4.n,M=T.S4.BJ,$=T.S4.Vs,q=s(q,A),z=s(z,A),U=a(A);
M(q,U,e,V);var o=a(A);M(z,o,e,V);var t=a(A);$(q,q,t);M(t,t,e,V);var c=a(A);$(q,z,c);M(c,c,e,V);var H=a(A),F=a(A);
for(var n=0;n<A;n++){var i=U[n],X=o[n],K=t[n]-i*i,f=c[n]-i*X,d=f/(K+P),L=X-d*i;H[n]=d;F[n]=L}var G=a(A);
M(H,G,e,V);var x=a(A);M(F,x,e,V);return[G,x]};T.S4.asA=function(z,q,e,V,P){var D=e.s,B=e.T,A=D*B,s=T.S4.apD,a=Date.now(),M=!1,$=e,U=z,o=q,t=V;
$=new kk(0,0,D>>>2,B>>>2);t=V>>>2;U=T.S4.axW(z,D,B);o=T.S4.ayQ(q,D,B);if(M)console.log(Date.now()-a);
a=Date.now();var c=T.S4.ag5(U,o,$,t,P),H=c[0],F=c[1],i=c[2],X=c[3];if(M)console.log(Date.now()-a);a=Date.now();
var K=T.n(A);for(var f=0;f<B;f++)for(var d=0;d<D;d++){var n=f*D+d,L=(f>>>2)*(D>>>2)+(d>>>2),G=n<<2,x=H[L]*q[G]+F[L]*q[G+1]+i[L]*q[G+2]+X[L]*255;
K[n]=Math.max(0,Math.min(255,~~(.5+x)))}if(M)console.log(Date.now()-a);a=Date.now();return K};T.S4.axW=function(z,q,e){var V=q>>>2,P=e>>>2,D=T.n(V*P);
for(var B=0;B<P;B++)for(var A=0;A<V;A++)D[B*V+A]=z[B*q+A<<2];return D};T.S4.ayQ=function(z,q,e){var V=q>>>2,P=e>>>2,D=T.n(V*P*4);
for(var B=0;B<P;B++)for(var A=0;A<V;A++){var s=B*V+A<<2,a=B*q+A<<4;D[s]=z[a];D[s+1]=z[a+1];D[s+2]=z[a+2];
D[s+3]=z[a+3]}return D};T.S4.ag5=function(z,q,e,V,P){var D=e.s,B=e.T,A=D*B,s=T.S4.a3c,a=T.S4.n,M=T.S4.BJ,$=T.S4.Vs,z=s(z,A),U=new T.ZU(D*B);
T.B9(q,U);var q=[s(U.l,A),s(U.I,A),s(U.c,A)],o=T.S4.aHN(z,q,e,V,P),t=a(A);M(z,t,e,V);var c=a(A);$(q[0],z,c);
M(c,c,e,V);var H=a(A);$(q[1],z,H);M(H,H,e,V);var F=a(A);$(q[2],z,F);M(F,F,e,V);var i=a(A),X=a(A),K=a(A),f=a(A);
for(var n=0;n<A;n++){var d=t[n],L=o.abB[n],G=o.azD[n],x=o.aCZ[n],O=c[n]-L*d,v=H[n]-G*d,C=F[n]-x*d;i[n]=o.aoy[n]*O+o.a22[n]*v+o.aAR[n]*C;
X[n]=o.a22[n]*O+o.aFZ[n]*v+o.aAb[n]*C;K[n]=o.aAR[n]*O+o.aAb[n]*v+o.aGR[n]*C;f[n]=d-i[n]*L-X[n]*G-K[n]*x}M(i,i,e,V);
M(X,X,e,V);M(K,K,e,V);M(f,f,e,V);return[i,X,K,f]};T.S4.aHN=function(z,q,e,V,P){var D=e.s,B=e.T,A=D*B,s=T.S4.n,a=T.S4.BJ,M=T.S4.Vs,$={};
$.abB=s(A);a(q[0],$.abB,e,V);$.azD=s(A);a(q[1],$.azD,e,V);$.aCZ=s(A);a(q[2],$.aCZ,e,V);var U=s(A);M(q[0],q[0],U);
a(U,U,e,V);var o=s(A);M(q[0],q[1],o);a(o,o,e,V);var t=s(A);M(q[0],q[2],t);a(t,t,e,V);var c=s(A);M(q[1],q[1],c);
a(c,c,e,V);var H=s(A);M(q[1],q[2],H);a(H,H,e,V);var F=s(A);M(q[2],q[2],F);a(F,F,e,V);$.aoy=U;$.a22=o;
$.aAR=t;$.aFZ=c;$.aAb=H;$.aGR=F;for(var n=0;n<A;n++){var i=$.abB[n],X=$.azD[n],K=$.aCZ[n],f=U[n]-i*i+P,d=o[n]-i*X,L=t[n]-i*K,G=c[n]-X*X+P,x=H[n]-X*K,O=F[n]-K*K+P,v=G*O-x*x,C=x*L-d*O,S=d*x-G*L,j=f*O-L*L,w=L*d-f*x,u=f*G-d*d,l=v*f+C*d+S*L,I=1/l;
$.aoy[n]=v*I;$.a22[n]=C*I;$.aAR[n]=S*I;$.aFZ[n]=j*I;$.aAb[n]=w*I;$.aGR[n]=u*I}return $};T.S4.n=function(z){return new Float32Array(z)};
T.S4.a3c=function(z,q){var e=new Float32Array(q);for(var n=0;n<q;n++)e[n]=z[n]*(1/255);return e};T.S4.Vs=function(z,q,e){for(var n=0;
n<z.length;n++)e[n]=z[n]*q[n]};T.cE={};T.cE.OM=function(z,q,e,V){var P=z[q]-e[V],D=z[q+1]-e[V+1],B=z[q+2]-e[V+2];
return Math.sqrt(P*P+D*D+B*B)*(1/441.7)};T.cE.getSelection=function(z,q,e){var V=q*e,P=T.n(V),D=!1,B=Math.round(e*.7),A=1,s=new Uint32Array(12),a=T.n(12);
for(var M=0;M<B;M++)for(var $=0;$<q;$++){if($<A||M<A||$>q-A-1||M>e-A-1){var n=M*q+$,U=n<<2,o=0;if(M<A)o=4;
else if($>q-A-1)o=8;s[o]+=z[U];s[o+1]+=z[U+1];s[o+2]+=z[U+2];s[o+3]++;P[n]=255}}for(var n=0;n<12;n+=4)for(var t=0;
t<3;t++)a[n+t]=s[n+t]/s[n+3];var c=new Float32Array(V);for(var n=0;n<V;n++){var U=n*4,H=T.cE.OM(z,U,a,0),F=T.cE.OM(z,U,a,4),i=T.cE.OM(z,U,a,8),X=Math.max(H,Math.max(F,i));
c[n]=H+F+i-X}T.cE.KH(c);var K=Date.now(),f=new Float32Array(V),d=[],L=T.n(V);for(var n=0;n<3;n++){T.bl(z,L,n);
var G=new Uint16Array(V);d.push(G);T.cE.anq(L,P,q,e,G)}if(D)console.log("MBD",Date.now()-K);K=Date.now();
for(var n=0;n<V;n++)f[n]=d[0][n]+d[1][n]+d[2][n];T.cE.KH(f);for(var n=0;n<V;n++)f[n]+=.4*c[n];var x=q>>>1,B=e>>>1,O=1/Math.sqrt(x*x+B*B);
for(var M=0;M<e;M++)for(var $=0;$<q;$++){var v=$-x,C=M-B,S=1-Math.sqrt(v*v+C*C)*O;f[M*q+$]*=S}if(D)console.log("Centeredness",Date.now()-K);
K=Date.now();for(var n=0;n<V;n++)P[n]=f[n]*255;var j=Math.round(q/120),w=Math.round(j*.8);if(D)console.log(j,w);
T.JH.eM(P,P,q,e,j+j+1,!1);if(D)console.log("erosion",Date.now()-K);K=Date.now();for(var n=0;n<V;n++)f[n]=P[n];
T.cE.KH(f);var u=T.n(256);for(var n=0;n<256;n++)u[n]=256/(1+Math.exp(-20*(n/255-.5)));for(var n=0;n<V;
n++){var l=~~(f[n]*255+.5);P[n]=u[l]}if(D)console.log("Simoid",Date.now()-K);K=Date.now();return P};
T.cE.KH=function(z){var q=z.length,e=0;for(var n=0;n<q;n++)e=Math.max(e,z[n]);var V=1/e;for(var n=0;
n<q;n++)z[n]=z[n]*V};T.cE.anq=function(z,q,e,V,P){var D=e*V,B=z.slice(0),A=z.slice(0);for(var n=0;n<D;
n++)P[n]=q[n]==255?0:65535;T.cE.aCI(z,A,B,P,e,V);T.cE.aAN(z,A,B,P,e,V);T.cE.aCI(z,A,B,P,e,V);T.cE.aAN(z,A,B,P,e,V);
return P};T.cE.aCI=function(z,q,e,V,P,D){for(var B=1;B<P;B++)T.cE.Ff(B,-1,z,q,e,V);for(var A=1;A<D;A++){T.cE.Ff(A*P,-P,z,q,e,V);
for(var B=1;B<P;B++){var n=A*P+B;T.cE.Ff(n,-1,z,q,e,V);T.cE.Ff(n,-P,z,q,e,V)}}};T.cE.aAN=function(z,q,e,V,P,D){for(var B=P-2;
B>=0;B--)T.cE.Ff(P*D-P+B,1,z,q,e,V);for(var A=D-2;A>=0;A--){T.cE.Ff(A*P+P-1,P,z,q,e,V);for(var B=P-2;
B>=0;B--){var n=A*P+B;T.cE.Ff(n,1,z,q,e,V);T.cE.Ff(n,P,z,q,e,V)}}};T.cE.Ff=function(n,z,q,e,V,P){var D=n+z,B=q[n],A=e[D],s=V[D];
if(A<B)A=B;else if(B<s)s=B;var a=A-s;if(P[D]!=65535&&a<P[n]){P[n]=a;e[n]=A;V[n]=s}};T.f_={};T.f_.filter=function(z,q,e,V){var P=q.s,D=q.T,B=P*D,A=V[0],s=V[1],a=V[2],M=V[3],$=V[4],U=V[5],o=V[6],t=Date.now(),c=new Float32Array(P*D*4);
T.f_.aJ_(z,P,D,c);var H=Math.ceil(A*Math.sqrt(-2*Math.log(.1))),F=new ArrayBuffer(B*4),i=new Float32Array(F),X=new Float32Array(B),K=new Float32Array(B);
for(var n=0;n<B;n++){var f=n*4;i[n]=c[f];X[n]=c[f+1];K[n]=c[f+2]}T.BJ.uR(i,q,H*1/2.4,2);T.BJ.uR(X,q,H*1/2.4,2);
T.BJ.uR(K,q,H*1/2.4,2);for(var n=0;n<B;n++){var f=n*4;c[f]=i[n];c[f+1]=X[n];c[f+2]=K[n]}var d=new Uint8Array(F);
for(var n=0;n<B;n++){var f=n*4,L=n*4,i=c[f],X=c[f+1],K=c[f+2],G=Math.sqrt((i-K)*(i-K)+4*X*X),x=(i+K+G)*.5,O=(i+K-G)*.5,v=O-K,C=X,S=v*v+C*C;
if(S!=0){var j=Math.sqrt(S),w=1/j;v*=w;C*=w}d[L]=128+127*v;d[L+1]=128+127*C}var u=1.3*s+2,l=M*(2/10),I=z.slice();
if(ee.$x){var Q=new Float32Array([1/P,1/D]),b=ee.xu(0,P,D);b.set(I);var p=ee.xu(1,P,D);p.set(d);ee.k$(b,q);
if($){b.Nd(q);ee.filter.ej({e:ee.filter.aq$,Wk:Q,aEW:1/a,anh:l},b.kn)}b.Nd(q);ee.filter.ej({e:ee.filter.EK,tE:p.nj,Wk:Q,Vn:u,ahH:2},b.kn);
if($){b.Nd(q);ee.filter.ej({e:ee.filter.agJ,Wk:Q,aKm:new Float32Array(o),aLF:U},b.kn)}b.get(e)}else{if($)T.f_.akJ(1/a,l,I,P,D);
T.f_.EK(I,e,d,P,D,u);if($)T.f_.aNF(P,D,e,o,U)}var k=B*4;for(var n=3;n<k;n+=4)e[n]=z[n]};T.f_.EK=function(z,q,e,V,P,D){var B=Math.ceil(2*D),A=-1/(2*D*D),s=[],a=1;
for(var n=0;n<B+20;n++)s[n]=Math.exp(n*n*A);var M=[0,0,0,0];for(var $=0;$<P;$++){for(var U=0;U<V;U++){var o=$*V+U,t=o*4,c=1,H=z[t],F=z[t+1],i=z[t+2],X=z[t+3],K=(e[t]-128)*(1/127),f=(e[t+1]-128)*(1/127),d=K,L=f,G=U==0?.51:.49,x=$==0?.51:.49;
for(var n=0;n<2;n++){var O=U+G,v=$+x,C=0;while(C<B){if(O<.5||V-.5<O||v<.5||P-.5<v)break;var S=~~O,j=~~v,w=j*V+S,u=w*4,l=(e[u]-128)*(1/127),I=(e[u+1]-128)*(1/127);
if(l*d+I*L<0){l=-l;I=-I}d=l;L=I;O+=a*l;v+=a*I;if(O<.5||V-.5<O||v<.5||P-.5<v)break;var Q=~~O,b=~~v,p=b*V+Q<<2;
C+=a;var k=s[~~C];T.O.a2U(O,v,z,V,P,M);H+=M[0]*k;F+=M[1]*k;i+=M[2]*k;X+=M[3]*k;c+=k}d=-K;L=-f}var g=1/c;
q[t]=~~(.5+H*g);q[t+1]=~~(.5+F*g);q[t+2]=~~(.5+i*g);q[t+3]=~~(.5+X*g)}}};T.f_.aNF=function(z,q,e,V,P){for(var D=0;
D<q;D++)for(var B=0;B<z;B++){var A=D*z+B<<2,s=1+T.f_.aKj(B,D,e,z,q,V)*P;e[A]=Math.max(0,Math.min(255,e[A]*s));
e[A+1]=Math.max(0,Math.min(255,e[A+1]*s));e[A+2]=Math.max(0,Math.min(255,e[A+2]*s))}};T.f_.aKj=function(z,q,e,V,P,D){var B=e[(q*V+Math.max(0,z-1))*4+3],A=e[(q*V+Math.min(V-1,z+1))*4+3],s=e[(Math.max(0,q-1)*V+z)*4+3],a=e[(Math.min(P-1,q+1)*V+z)*4+3],M=.7,$=(A-B)*(1/255),U=.7,o=(a-s)*(1/255),t=-$*U,c=-M*o,H=M*U,F=Math.sqrt(t*t+c*c+H*H),i=1/F,X=t*i,K=c*i,f=H*i,d=D[0]*X+D[1]*K+D[2]*f;
return d};T.f_.akJ=function(z,q,e,V,P){function D(A,a,M){return Math.max(a,Math.min(M,A))}for(var B=0;
B<P;B++)for(var A=0;A<V;A++){var s=T.f_.aoz(A+.5,B+.5,z,q);e[(B*V+A)*4+3]=Math.max(0,Math.min(255,s*255))}};
T.f_.aoz=function(z,q,e,V){function P(L,G,x){return(1-x)*L+x*G}var D=(z+613)*e,B=(q+117)*e,A=~~D,s=~~B,a=D-A,M=B-s,$=Math.sin(11),U=Math.cos(A)*$,o=Math.cos(A+1)*$,t=Math.cos(s)*$,c=Math.cos(s+1)*$,hE=T.f_.hash(U,t),H=T.f_.hash(o,t),F=T.f_.hash(U,c),i=T.f_.hash(o,c),X=P(hE,H,a),K=P(F,i,a),f=P(X,K,M);
f=f<.5?0:1;var d=f+V*T.f_.hash(Math.cos(D)*$,Math.cos(B)*$);return d*(1/3)};T.f_.hash=function(z,q){var e=Math.sin(z*11.697096+q*73.32456)*12157.47691;
return e-Math.floor(e)};T.f_.aJ_=function(z,q,e,V){var P=[-1,0,1,-2,0,2,-1,0,1],D=[-1,-2,-1,0,0,0,1,2,1],B=q-1,A=e-1,s=q*4;
for(var a=1;a<A;a++)for(var M=1;M<B;M++){var n=a*q+M,$=n*4,U=T.f_.R_(z,$,s,P),o=T.f_.R_(z,$,s,D),t=T.f_.R_(z,$+1,s,P),c=T.f_.R_(z,$+1,s,D),H=T.f_.R_(z,$+2,s,P),F=T.f_.R_(z,$+2,s,D);
V[$]=U*U+t*t+H*H;V[$+1]=U*o+t*c+H*F;V[$+2]=o*o+c*c+F*F}T.f_.a0U(V,q,e)};T.f_.R_=function(z,q,e,V){return z[q-e-4]*V[0]+z[q-e]*V[1]+z[q-e+4]*V[2]+z[q-4]*V[3]+z[q]*V[4]+z[q+4]*V[5]+z[q+e-4]*V[6]+z[q+e]*V[7]+z[q+e+4]*V[8]};
T.f_.a0U=function(z,q,e){function V(s,n,a){var M=n*4,$=a*4;s[$]=s[M];s[$+1]=s[M+1];s[$+2]=s[M+2]}var P=q-1,D=e-1;
V(z,q+1,0);V(z,2*q-2,q-1);for(var B=1;B<P;B++)V(z,q+B,B);for(var A=1;A<D;A++){V(z,A*q+1,A*q);V(z,A*q+q-2,A*q+q-1)}for(var B=1;
B<P;B++)V(z,(e-2)*q+B,(e-1)*q+B);V(z,(A-2)*q+1,(A-1)*q);V(z,(A-1)*q-2,A*q-1)};T.Ze=function(){function z(a,M,$,U){var o=new Float32Array(a*a),t=a/2;
for(var c=0;c<a;c++)for(var H=0;H<a;H++){var F=H+$-t,i=c+U-t;o[c*a+H]=Math.max(0,Math.min(1,M+.5-Math.sqrt(F*F+i*i)))}return o}var q=[],V=null;
function e(a,M,$,U){var o=Math.floor(M*10),t=q[o],c=a*8,H=c>>>1;if(t==null){t=q[o]=[];var F=new kk(0,0,c,c),i=a/2/(1+.2*M),X=Math.floor(a*o*.1);
for(var K=0;K<2;K++)for(var f=0;f<2;f++){var d=z(c,i,.25+f*.5,.25+K*.5),L=0;T.BJ.uR(d,F,X);while(d[c*H+L]<.005)L++;
if(L!=0)L--;var G=2*(H-L),x=new kk(L,L,G,G),O=new Float32Array(G*G);for(var v=0;v<G;v++)for(var C=0;
C<G;C++)O[v*G+C]=d[(L+v)*c+L+C];t.push([O,x])}}var S=Math.floor($),j=Math.floor(U),w=$-S,u=U-j,l=w<.5?1:0,I=u<.5?1:0;
t=t[I*2+l];var x=t[1].Y();x.x+=S-H;x.y+=j-H;return[t[0],x]}function P(a,M,$){if(V==null){V=new Uint8Array(4e4);
for(var n=0;n<4e4;n++)V[n]=Math.min(255,~~(.5+255*T.Ec(n*(1/255))))}var U=a.length;for(var n=0;n<U;n++){var o=a[n],t=~~(255*o);
M[n]=V[t]<<24|$}}function D(a,M,$,U,o){var t=M.HX(U),c=Math.max(0,t.x-M.x),H=Math.max(0,t.x-U.x),F=Math.max(0,t.y-M.y),i=Math.max(0,t.y-U.y),X=t.s,K=t.T;
for(var n=0;n<K;n++){var f=(F+n)*M.s+c,d=(i+n)*U.s+H;for(var L=0;L<X;L++){$[d+L]+=o*a[f+L]}}}var B=-1;
function A(a,M,$,U,o){var t=Math.round(U[1]*M*$*.01),c=U[2],H=U[3],F=U[4],i=U[5],X=U[6],K=U[7],f=U[8],d=U[9],L=U[10]?U[10]:1,k=!1;
if(c!=B){q=[];B=c}var G=Date.now(),x=new kk(0,0,M,$),O=new s(U[0]);if(o)a.fill(0);var v=new Float32Array(o?a.buffer:M*$);
for(var n=0;n<t;n++){var C=O.get()*M,S=O.get()*$,j=O.get()*H,w=O.get()*c*4,u=(O.get()+X)*Math.PI*2,l=O.get()*c*4,I=(O.get()+2*X)*Math.PI*2;
C+=d*(w*Math.cos(u)+l*Math.cos(I));S+=d*(w*Math.sin(u)+l*Math.sin(I));if(f)S=S+X*$*L;var Q=e(c,j,C,S%$),b=F,p=O.get();
if(K)b=.5+.5*F*(.5+.5*Math.sin((2*X+p)*2*Math.PI));D(Q[0],Q[1],v,x,b)}if(k)console.log(Date.now()-G,"add floats");
G=Date.now();var g=new Uint8Array(v.buffer);P(v,new Uint32Array(g.buffer),i.c<<16|i.I<<8|i.l);if(k)console.log(Date.now()-G,"toInt");
G=Date.now();if(!o){T.w.Mt("scrn",g,x,a,x,x,1);if(k)console.log(Date.now()-G,"blendOver")}}function s(a){this.ok=123456789;
this.sx=987654321;this.Eo=4294967295;this.vW(a)}s.prototype.vW=function(n){this.ok=123456789+n&this.Eo;
this.sx=987654321-n&this.Eo};s.prototype.get=function(){this.sx=36969*(this.sx&65535)+(this.sx>>16)&this.Eo;
this.ok=18e3*(this.ok&65535)+(this.ok>>16)&this.Eo;var a=(this.sx<<16)+(this.ok&65535)>>>0;a/=4294967296;
return a};return{fV:A}}();T.Vk={};T.Vk.Bu=function(z,q,e,V){var P=z[q*2],D=z[q*2+1],B=z[e*2],A=z[e*2+1],s=z[V*2],a=z[V*2+1];
return P*A+B*a+s*D-s*A-B*D-P*a};T.Vk.a87=function(z,q){var e=[],V=[],P=[],D={};for(var n=0;n<q.length;
n+=3){var B=~~(n*(1/3)),A=q[n+0],s=q[n+1],a=q[n+2],M=T.Vk.Bu(z,A,s,a);if(M>0){var $=s;s=a;a=$}var U=D[a+"-"+s],o=D[s+"-"+A],t=D[A+"-"+a],H=[a,U,B,null],F=[s,o,B,H],X=[A,t,B,F];
H[3]=X;if(U)U[1]=H;if(o)o[1]=F;if(t)t[1]=X;D[a+"-"+A]=X;D[A+"-"+s]=F;D[s+"-"+a]=H;e[A]=F;P[n]=F;e[s]=H;
P[n+1]=H;e[a]=X;P[n+2]=X;V[B]=F}return{m3:e,Yp:V,gM:P}};T.Vk.aIE=function(z){var q=[],e=z.Yp;for(var n=0;
n<e.length;n++){var V=e[n];q.push(V[0]);V=V[3];q.push(V[0]);V=V[3];q.push(V[0])}return q};T.Vk.avK=function(z,q,e,V){var P=z[q*2],D=z[q*2+1],B=z[e*2],A=z[e*2+1],s=z[V*2],a=z[V*2+1],M=B-P,$=A-D,U=s-P,o=a-D,t=M*(P+B)+$*(D+A),c=U*(P+s)+o*(D+a),H=2*(M*(a-A)-$*(s-B));
if(Math.abs(H)<1e-5){var F=Math.min(P,B,s),i=Math.min(D,A,a),X=(Math.max(P,B,s)-F)*.5,K=(Math.max(D,A,a)-i)*.5;
return[F+X,i+K,X*X+K*K,1]}var f=(o*t-$*c)/H,d=(M*c-U*t)/H,X=f-P,K=d-D;return[f,d,X*X+K*K,0]};T.Vk.ayE=function(z,q,e){var V=e[1],P=e[3],D=P[3],B=V[3],A=B[3],s=e[2],a=V[2],M=e[0],$=V[0],U=P[0],o=B[0],t=T.Vk.avK(z,$,o,U),c=z[M*2]-t[0],H=z[M*2+1]-t[1],F=c*c+H*H>t[2]&&t[3]==0&&T.Vk.Bu(z,o,M,U)<0&&T.Vk.Bu(z,U,$,o)<0;
if(F){e[0]=U;V[0]=o;e[3]=D;D[3]=B;B[3]=e;V[3]=A;A[3]=P;P[3]=V;P[2]=a;B[2]=s;q.Yp[a]=A;q.Yp[s]=D;q.m3[$]=B;
q.m3[M]=P}return F};T.Vk.aEv=function(z,q,e){var V=z[q*2]-z[e*2],P=z[q*2+1]-z[e*2+1];return Math.sqrt(V*V+P*P)};
T.Vk.ajT=function(z,q,e){var V=e[1],P=e[3],D=P[3],B,A,s=e[2],a,M=e[0],$=D[0],U=P[0],o;if(V){B=V[3];A=B[3];
a=V[2];o=B[0]}var t=z.length>>>1;z[2*t]=(z[2*$]+z[2*M])*.5;z[2*t+1]=(z[2*$+1]+z[2*M+1])*.5;if(!0){var c=s,H=e,F=q.Yp.length,i=[t,null,c,H],X=[U,i,F,D];
i[1]=X;var K=[t,null,F,X];P[3]=i;D[3]=K;D[2]=F;q.Yp[c]=P;q.Yp[F]=K;q.m3[M]=P;q.m3[U]=D;q.gM.push(i,X,K)}if(V){var f=a,d=V,L=F+1;
K[1]=d,d[1]=K;var G=[t,null,f,d],x=[o,G,L,A];G[1]=x;var O=[t,H,L,x];H[1]=O;B[3]=G;A[3]=O;A[2]=L;q.Yp[f]=B;
q.Yp[L]=A;q.m3[$]=B;q.m3[o]=A;q.gM.push(G,x,O)}q.m3[t]=H};T.Vk.alc=function(z,q){var e=0;while(!0){var V=e;
for(var n=0;n<q.gM.length;n++){var P=q.gM[n];if(P[1]==null)continue;var D=T.Vk.ayE(z,q,P);if(D){e++;
break}}if(V==e)break}return e!=0};T.Vk.a4_=function(z,q,e,V){var P=0;for(var n=0;n<V;n++){var D=null,B=0;
for(var A=0;A<q.gM.length;A++){var s=q.gM[A],a=T.Vk.aEv(z,s[0],s[3][3][0])*(s[1]?1:2);if(a>B){D=s;B=a}}if(B>e){T.Vk.ajT(z,q,D);
P++}}return P!=0};T.Vk.atn=function(z,q){var e=[],U=0;for(var n=0;n<z.length;n++)e.push(0);for(var n=0;
n<q.gM.length;n++){var V=q.gM[n],P=V[0],D=V[3][3][0],B=z[P*2],A=z[P*2+1],s=z[D*2],a=z[D*2+1],M=B-s,$=A-a;
e[P*2]+=-M;e[P*2+1]+=-$;e[D*2]+=M;e[D*2+1]+=$}for(var n=0;n<z.length;n+=2){var o=n>>>1,t=q.m3[o],V=t,c=!0;
do{if(V[1]==null){c=!1;break}V=V[1][3]}while(V!=t);if(c){var H=.02;z[n]+=H*e[n];z[n+1]+=H*e[n+1];U+=H*(e[n]*e[n]+e[n+1]*e[n+1])}}return U};
T.Vk.aaz=function(z,q,e){var V=T.R.mB(z),P=T.Vk.a87(z,q);T.Vk.alc(z,P);for(var D=0;D<300;D++){var B=!1,A=!1;
B=T.Vk.a4_(z,P,e,5);if(B)A=T.Vk.alc(z,P);var s=T.Vk.atn(z,P);if(!B&&!A&&s<1e-4){break}}return T.Vk.aIE(P)};
T.L0={};T.L0.aF4=function(z){var q=z.uP,e=z.uZ,V=z.Vt,P=z.ab7,D=z.kW,B=z.Hr,A=z.Pn,s=T.Hn.bP,i,X,K=0;
function a(hE){var j5=new Array(hE);for(var n=0;n<hE;n++)j5[n]=0;return j5}var M=e.length>>>1,$=a(q.auG*2),U=a(q.auG),o=a(q.auG),t=Date.now();
for(var n=0;n<z._V.length;n++){var c=q.aeQ+n,H=q.xL*(B[n*2]+A[n*2]),F=q.xL*(B[n*2+1]+A[n*2+1]);$[c*2]=H;
$[c*2+1]=F;U[c]=H;o[c]=F}q.acU.Fp(P,q.aif.bP($),.01,i,X);for(var n=0;n<q.atL.gM.length;n++){var f=q.atL.gM[n],d=f[3][3][0],L=f[0],G=f[3][0],x=f[1]?f[1][3][0]:G;
if(f[1]&&d>L)continue;var O=e[d*2],v=e[d*2+1],C=e[L*2],S=e[L*2+1],j=P[d*2],w=P[d*2+1],u=P[L*2],l=P[L*2+1],I=P[G*2],Q=P[G*2+1],b=P[x*2],p=P[x*2+1],k=[j,w,u,l,I,Q];
if(f[1])k.push(b,p);var g=s(q.aK_[K],k),Y=g[0],R=g[1],m=1/Math.sqrt(Y*Y+R*R);Y*=m;R*=m;var Z=C-O,E=S-v;
U[K]=Y*Z+R*E;o[K]=-R*Z+Y*E;K++}var N=new Array(M),h=new Array(M);for(var n=0;n<M;n++){N[n]=D[n*2];h[n]=D[n*2+1]}q.a7S.Fp(N,q.ace.bP(U),.5);
q.a7S.Fp(h,q.ace.bP(o),.5);for(var n=0;n<M;n++){D[n*2]=N[n];D[n*2+1]=h[n]}};T.L0.a2V=function(z){var q=z.uZ,e=z.Vt,V=z._V,P=T.Hn.multiply,D=Date.now(),B=T.Vk.a87(q,e),A=q.length>>>1,s=0,t=0,R=1e3;
for(var n=0;n<B.gM.length;n++)s+=B.gM[n][1]?.5:1;var a=s+V.length,M=[],$=new T.WJ(a*2,A*2),U=new T.WJ(a,A),o=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],c=[],H=[];
for(var n=0;n<B.gM.length;n++){var F=B.gM[n],i=F[3][3][0],X=F[0],K=F[3][0],f=F[1]?F[1][3][0]:K;if(F[1]&&i>X)continue;
var d=q[i*2],L=q[i*2+1],G=q[X*2],x=q[X*2+1],O=q[K*2],v=q[K*2+1],C=q[f*2],S=q[f*2+1],j=[[d,L,1,0],[L,-d,0,1],[G,x,1,0],[x,-G,0,1],[O,v,1,0],[v,-O,0,1]];
if(F[1])j.push([C,S,1,0],[S,-C,0,1]);var w=T.Hn.TL(j),u=P(linear.invert(P(w,j)),w);u.pop();u.pop();M.push(u);
var l=G-d,I=x-L,Q=o[F[1]?1:0];Q=T.Hn.SV(Q,P([[l,I],[I,-l]],u));var b=[i*2,i*2+1,X*2,X*2+1,K*2,K*2+1,f*2,f*2+1],p=F[1]?8:6,k=[];
for(var g=0;g<p;g++)k.push([b[g],Q[0][g],Q[1][g]]);k.sort(function(j5,r){return j5[0]-r[0]});for(var Y=0;
Y<2;Y++){for(var g=0;g<p;g++){c[g]=k[g][0];H[g]=k[g][1+Y]}$.FP(H,c,p)}if(i<X)U.FP([-1,1],[i,X],2);else U.FP([1,-1],[X,i],2);
t++}for(var n=0;n<V.length;n++){var m=V[n];$.FP([R],[m*2],1);$.FP([R],[m*2+1],1);U.FP([R],[m],1)}var Z=$.TL(),E=Z.KS(Z),N=U.TL(),h=N.KS(N);
return{aeQ:s,auG:a,aif:Z,acU:E,ace:N,a7S:h,atL:B,aK_:M,xL:R}};T.L0.atX=function(z,q,e,V,P){var D=new kk(0,0,q,e),B=T.n(D.D());
T.bl(z,B,3);T.round(B,70);var A=T.KI(B,D),s=[.1,.065,.035][V]*Math.max(A.s,A.T),a=P+1,M=q+a*2,$=e+a*2,U=new kk(-a,-a,M,$),o=T.n(U.D());
T.KY(B,D,o,U);var t=o.slice(0);for(var c=0;c<P;c++){for(var H=1;H<$-1;H++){for(var F=1;F<M-1;F++){var n=H*M+F;
t[n]=o[n-M]|o[n-1]|o[n]|o[n+1]|o[n+M]}}var i=t;t=o;o=i}var X=jL.UW(o,M,$,Math.round(A.D()*5e-4)),K=jL.Kn(X),f=new e5(1,0,0,1,-a,-a);
for(var n=0;n<K.length;n++){var d=K[n];T.R.v(d.path.J,f,d.path.J);d.uZ=T.L0.aPG(d.path);d.Vt=T.R.aiV(d.uZ);
d.Vt=T.Vk.aaz(d.uZ,d.Vt,s)}return K};T.L0.aPG=function(z){var q=T.R.zj(z);q=T.R.abu(q,1);var e=[],V=q.length;
for(var n=0;n<V;n+=2){var P=q.pop(),D=q.pop();e.push(D,P)}return e};T.L0.a4R=function(z,q,e,V){function P(G,x,O,v,C){var S=C[G*2]-C[x*2],j=C[G*2+1]-C[x*2+1],w=Math.sqrt(S*S+j*j);
if(O[G].indexOf(x)==-1){O[G].push(x);v[G].push(w)}if(O[x].indexOf(G)==-1){O[x].push(G);v[x].push(w)}}var D=z.length>>>1,B=new Array(D);
if(e.length==0){B.fill(0);return B}var A=new Array(D),s=new Array(D);for(var n=0;n<D;n++){A[n]=[];s[n]=[]}for(var n=0;
n<q.length;n+=3){P(q[n],q[n+1],A,s,z);P(q[n],q[n+2],A,s,z);P(q[n+1],q[n+2],A,s,z)}var a=new Float64Array(D*2),M=new Uint32Array(D*2);
a.fill(1e9);var $=new Uint8Array(D);for(var U=0;U<e.length;U++){$.fill(0);var o=["---",[0,e[U]]];while(o.length!=1){var t=T.GH.oU(o),c=t[0],H=t[1];
if($[H]==1)continue;var F=H<<1;if(c<a[F]){a[F+1]=a[F];M[F+1]=M[F];a[F]=c;M[F]=U}else if(c<a[F+1]){a[F+1]=c;
M[F+1]=U}$[H]=1;var i=A[H],X=s[H];for(var n=0;n<i.length;n++){var K=i[n];if($[K]!=1){T.GH.O6(o,[c+X[n],K])}}}}for(var n=0;
n<D;n++){var F=n<<1,f=a[F],d=a[F+1],L=1/(f+d);B[n]=(1-f*L)*V[M[F]]+(1-d*L)*V[M[F+1]]}return B};T.L0.aBu=function(z){var q={_:[],J:[]},e=[z];
while(e.length!=0){var V=e.pop(),P=V.sI;if(V.atu instanceof Array||V.aMW instanceof Array){q._.push("M","L","L","L","Z");
q.J.push(P[0],P[1],P[2],P[1],P[2],P[3],P[0],P[3])}else e.push(V.atu,V.aMW)}return q};T.L0.lk=function(z,q,e,V,P,D,B,A,s,a,M){var $=Math.round(a.length/3),U=new Array($);
for(var n=0;n<$;n++)U[n]=n;if(s)U.sort(function(t,c){return s[a[t*3]]-s[a[c*3]]});for(var n=0;n<$;n++){var o=U[n]*3;
T.L0.atk(a[o]*2,a[o+1]*2,a[o+2]*2,B,A,z,q,e,V,P,D,M)}};T.L0.atk=function(z,q,e,V,P,D,B,A,s,a,M,$){var U=[z,q,e,1.2,1.2,1.2,0],o=[0,0,0,0],t=P[z],c=P[z+1],H=P[q],F=P[q+1],i=P[e],X=P[e+1],K=T.Gx(D),f=1/T.K8(K),d=H-t,L=F-c,G=i-t,x=X-c,O=d*x-G*L+1e-9,v=1/O,C=Math.max(0,Math.min(B-1,V[z])),S=Math.max(0,Math.min(B-1,V[q])),j=Math.max(0,Math.min(B-1,V[e])),w=Math.max(0,Math.min(A-1,V[z+1])),u=Math.max(0,Math.min(A-1,V[q+1])),l=Math.max(0,Math.min(A-1,V[e+1])),I=t<H?t<i?z:e:H<i?q:e,Q=P[I+1]+.5,b=Math.max(0,Math.floor(Math.min(t,H,i))),p=Math.min(a,Math.ceil(Math.max(t,H,i))),k=Math.max(0,Math.floor(Math.min(c,F,X))),g=Math.min(M,Math.ceil(Math.max(c,F,X))),Y=1e9;
for(var R=k;R<g;R++){var m=R>Q&&Y!=1e9?Y:b;Y=1e9;for(var Z=m;Z<p;Z++){var E=Z+.5-t,N=R+.5-c,h=(E*x-G*N)*v,j5=(d*N-E*L)*v;
if(h>=0&&j5>=0&&h+j5<=1){if(Y==1e9)Y=Z;var r=1-h-j5,l8=C*r+S*h+j*j5,aP=w*r+u*h+l*j5;if($){var bS=Math.floor(.5+aP)*B+Math.floor(.5+l8),kR=bS<<2,j1=R*a+Z<<2;
s[j1]=D[kR];s[j1+1]=D[kR+1];s[j1+2]=D[kR+2];s[j1+3]=D[kR+3]}else{T.O.a2U(l8,aP,D,B,A,o);if(K==8)T.L0.aJs(o,s,R*a+Z<<2);
else T.L0.aLn(o,s,R*a+Z<<2,f)}}else if(Y!=1e9)break}}};T.L0.aJs=function(z,q,e){if(z[3]>250){q[e]=~~(.5+z[0]);
q[e+1]=~~(.5+z[1]);q[e+2]=~~(.5+z[2]);q[e+3]=~~(.5+z[3])}else{var V=q[e],P=q[e+1],D=q[e+2],B=q[e+3],A=1-z[3]*(1/255);
q[e]=~~(.5+z[0]+V*A);q[e+1]=~~(.5+z[1]+P*A);q[e+2]=~~(.5+z[2]+D*A);q[e+3]=~~(.5+z[3]+B*A)}};T.L0.aLn=function(z,q,e,V){var P=q[e],D=q[e+1],B=q[e+2],A=q[e+3],s=1-z[3]*V;
q[e]=z[0]+P*s;q[e+1]=z[1]+D*s;q[e+2]=z[2]+B*s;q[e+3]=z[3]+A*s};T.L0.a4b=function(){var z=function(e,V,P,D){var B=D[0],A=D[1],s=D[2],a=e[B+0],M=e[B+1],$=e[A+0],U=e[A+1],o=e[s+0],t=e[s+1],c=$-a,H=U-M,F=o-a,i=t-M,X=V-a,K=P-M,f=c*i-F*H,d=1/(f+1e-9),L=(X*i-F*K)*d,G=(c*K-X*H)*d;
if(L>=0&&G>=0&&L+G<=1){D[3]=1-L-G;D[4]=L;D[5]=G;return 1}return 0},q=function(e,V,P,D){var B=[0,0,0,0,0,0];
for(var n=0;n<V.length;n+=3){B[0]=V[n]*2;B[1]=V[n+1]*2;B[2]=V[n+2]*2;if(z(e,P,D,B)==1)return!0}return!1};
return{alO:z,aCa:q}}();T.L7={};T.L7.acn=function(z,q,e,V){z=z.slice(0);if(V)for(var n=0;n<z.length;n+=4)z[n+3]=(z[n+3]&254)+(V[n>>>2]<128?0:1);
else for(var n=0;n<z.length;n+=4)z[n+3]=z[n+3]&254;var P=T.n(q*e*4),D=!1;T.O.qN(z,q,e,P,[e,q,0,1,0,1,0,0]);
return[T.L7.La(z,q,e,D),T.L7.La(P,e,q,D)]};T.L7.v=function(z,q){var e=!1,V=z[0],P=z[1],D=V[1],B=V[2],A=V[3],s=q.s,a=q.T;
if(B==s&&A==a)D=D.slice(0);else if(A!=a){var M=T.n(B*a*4);T.L7.aU(P,a,M,e);D=T.n(B*a*4);T.O.qN(M,a,B,D,[B,a,0,1,0,1,0,0]);
if(B!=s){V=T.L7.La(D,B,a,e);D=T.n(s*a*4);T.L7.aU(V,s,D,e)}}else if(B!=s){D=T.n(s*A*4);T.L7.aU(V,s,D,e)}for(var n=0;
n<D.length;n+=4)if(D[n+3]==254)D[n+3]=255;return D};T.L7.La=function(z,q,e,V){var P=Date.now(),D=new Uint16Array(q*e),s=1;
T.L7.aaq(z,q,e,D);for(var B=0;B<e;B++)for(var A=0;A<q;A++){var n=B*q+A;D[n]+=Math.floor((65535-D[n])*(z[n*4+3]&1))}var a=Math.ceil(q/s),M=new Uint32Array(s),$=new Uint32Array(s),a=Math.floor(q/s);
for(var U=0;U<s;U++)$[U]=U<s-1?a:q-(s-1)*a;for(var B=0;B<e;B++){var n=B*q;for(var U=0;U<s;U++){var a=$[U];
for(var A=0;A<a;A++)M[U]+=D[n+A];n+=a}}if(V){console.log(Date.now()-P,"cost");P=Date.now()}var o=new Uint32Array(q),t=new Uint32Array(q),c=new Uint32Array(q*e);
for(var A=0;A<q;A++){c[(e-1)*q+A]=D[(e-1)*q+A]}for(var B=e-2;B>=0;B--){var H=B*q;for(var U=0;U<s;U++){var a=$[U];
c[H]=D[H]+Math.min(c[H+q],c[H+q+1]);for(var A=1;A<a-1;A++){var n=H+A;c[n]=D[n]+Math.min(c[n+q-1],Math.min(c[n+q],c[n+q+1]))}H+=a-1;
c[H]=D[H]+Math.min(c[H+q-1],c[H+q]);H++}}if(V){console.log(Date.now()-P,"Building M");P=Date.now()}function F(v,C){return v<C?v:C}function i(n,v){var C=t[n],S=c[v],j=~~(C*S*1e-4);
return j}var X=new Uint8Array(q*e),K=new Uint32Array(q);for(var n=0;n<q;n++){o[n]=n;t[n]=D[n]}for(var B=1;
B<e;B++){var f=0,H=B*q;for(var U=0;U<s;U++){var a=$[U],n=H;K[f]=i(f,n);var d=K[f]+i(f+1,n+1),L=i(f,n+1)+i(f+1,n);
K[f+1]=F(d,L);for(var A=2;A<a;A++){var n=H+A,G=K[f+A-1]+i(f+A-1,n-1),x=K[f+A-2]+i(f+A-1,n-2)+i(f+A-2,n-1);
K[f+A]=F(G,x)}var A=a-1;while(A>=2){var n=H+A,G=K[f+A-1]+i(f+A-1,n-1),x=K[f+A-2]+i(f+A-1,n-2)+i(f+A-2,n-1);
if(K[f+A]==G){X[n-q]=1;A-=1}else{X[n-q]=0;X[n-q-1]=2;A-=2}}var n=H;if(A==0){X[n-q]=1}else{if(K[f+1]==d){X[n+1-q]=1;
X[n-q]=1}else{X[n+1-q]=0;X[n-q]=2}}H+=a;f+=a}T.L7.acK(B,q,X,D,o,t,!0,P)}if(V){console.log(Date.now()-P,"Matching");
P=Date.now()}var O=D;return[UZIP.adler(z,0,z.length),z,q,e,s,$,M,o,t,X,O]};T.L7.aU=function(z,q,e,V){var P=z.slice(0),D=P.shift(),B=P.shift(),A=P.shift(),s=P.shift(),a=P.shift(),M=P.shift(),$=P.shift(),U=P.shift(),o=P.shift().slice(0),t=P.shift(),c=P.shift(),H=Date.now(),F=Math.abs(A-q),i=Math.floor(F/a),X=new Uint32Array(a),f=0,d=1e9,G=0,x=0,O=0;
for(var K=0;K<a;K++)X[K]=K<a-1?i:F-(a-1)*i;c.fill(0);for(var L=0;L<A;L++){f=Math.max(f,o[L]);d=Math.min(d,o[L])}for(var K=0;
K<a;K++){var v=M[K],i=X[K];for(var C=0;C<i;C++){var S=0,j=1e9;for(var L=0;L<v;L++)if(o[x+L]<j){j=o[x+L];
S=x+L}if(q<A)o[S]=1e9;else o[S]*=1.2;if(O<A/3)G+=j;var w=U[S],u=c[w],l=u<65280?65280:u+1;if(l<65280)throw"e";
for(var I=0;I<s;I++){var n=I*A+w;c[n]=l;w+=t[n]-1}O++}x+=v}if(V){console.log(Date.now()-H,"Removing best seams");
H=Date.now()}function Q(n,p){var k=n<<2,g=p<<2;e[k]=B[g];e[k+1]=B[g+1];e[k+2]=B[g+2];e[k+3]=B[g+3]}for(var I=0;
I<s;I++){var b=0,n=I*A;for(var L=0;L<q;L++,b++){if(q<A){while(c[n+b]==65280)b++;Q(I*q+L,I*A+b)}else{Q(I*q+L,I*A+b);
while(c[n+b]>=65280){c[n+b]--;L++;Q(I*q+L,I*A+b)}}}}if(V){console.log(Date.now()-H,"Shifting image pixels");
H=Date.now()}};T.L7.acK=function(z,q,e,V,P,D){var B=0,n=z*q;while(B<q){if(e[n-q]==1){D[B]=D[B]+V[n];
B++;n++}else{var A=P[B];P[B]=P[B+1];P[B+1]=A;var s=D[B];D[B]=D[B+1]+V[n];D[B+1]=s+V[n+1];B+=2;n+=2}}};
T.L7.aaq=function(z,q,e,V){function P(z,n,s){var $=n<<2,U=s<<2,o=z[$]-z[U],t=z[$+1]-z[U+1],c=z[$+2]-z[U+2];
return Math.abs(o)+Math.abs(t)+Math.abs(c)}for(var D=1;D<q;D++){var B=P(z,D,D-1);V[D-1]+=B;V[D]+=B}for(var A=1;
A<e;A++){var s=A*q,B=P(z,s,s-q);V[s]+=B;V[s-q]+=B;for(var D=1;D<q;D++){var n=A*q+D,a=P(z,n,n-1),M=P(z,n,n-q);
V[n-q]+=M;V[n-1]+=a;V[n]+=M+a}}for(var A=0;A<e;A++){V[A*q]*=2;V[A*q+q-1]*=2}for(var n=0;n<V.length;n++)if(V[n]==0)V[n]=1};
T.pT=function(){function z(){return 1953e6+Math.floor(Math.random()*999999)}function q(j,w){var u=w[0]-j[0],l=w[1]-j[1];
return u*u+l*l}function e(j,w,u,l,I,Q,b,p){var k=u-j,g=l-w,Y=T.R.WM(j,w,k,g,I,Q,b-I,p-Q),R=[j+Y*k,w+Y*g],m=Y>0?[[[j,w],R,!1,0,1],[[I,Q],R,!1,0,5]]:[[[u,l],R,!1,0,1],[[b,p],R,!1,0,5]];
return m}function V(j,w){var u=e(j[0],j[1],j[2],j[3],j[6],j[7],j[4],j[5]),l=e(j[0],j[1],j[6],j[7],j[2],j[3],j[4],j[5]),I=[u,l],Q=[u[0][1],l[0][1]];
for(var n=0;n<2;n++){var b=Q[1-n],p=I[n];if(q(p[0][0],b)<q(p[1][0],b)){var k=p[0];p[0]=p[1];p[1]=k}}var g=[z(),0,-1,0,[0,0],u[0],u[1],l[0],l[1]],Y=f(g,w),R=Y[1][0];
g[3]=R;g[4]=Y[0][R];g[5][3]=g[6][3]=Y[0].indexOf(g[5][1]);g[7][3]=g[8][3]=Y[0].indexOf(g[7][1]);if((g[6][3]+1)%3!=g[7][3]){var k=g[5];
g[5]=g[7];g[7]=k;var k=g[6];g[6]=g[8];g[8]=k}for(var n=0;n<4;n++)g[5+n][4]=[1,5,7,3][n];return g}function P(j){var w=j[5],u=j[8],l=j[6],I=w[0],Q=u[0],b=l[0],p=w[1],k=u[1],g=Q[0],Y=Q[1],R=k[0]-g,m=k[1]-Y,Z=T.R.WM(g,Y,R,m,b[0],b[1],p[0]-b[0],p[1]-b[1]);
return[I[0],I[1],g,Y,g+Z*R,Y+Z*m,b[0],b[1]]}function D(j,w){return j[0]==w[0]&&j[1]==w[1]}function B(j){return{1:0,5:1,7:2,3:3}[j]}function A(j,w,u){var l=w[5+B(j)],I=l[1],Q=l[0][0]-I[0],b=l[0][1]-I[1],p=Math.sqrt(Q*Q+b*b);
Q/=p;b/=p;for(var k=0;k<u.length;k++){var g=u[k];if(g[0]!=w[1]&&g[1]!=w[0])continue;for(var n=0;n<4;
n++){var Y=g[5+n],R=Y[0];if(!D(I,Y[1]))continue;var m=R[0]-I[0],Z=R[1]-I[1];p=Math.sqrt(m*m+Z*Z);m/=p;
Z/=p;var E=m*Q+Z*b;if(Math.abs(E-1)<1e-7)return!0}}return!1}function s(j,w){T.O.v(j,w);return w}function a(j,w){var u=[];
for(var l=0;l<j.length;l++){var I=j[l],Q=I[1];for(var b=0;b<Q.length;b++){if(w&&w[l].indexOf(b)==-1)continue;
var p=Q[b],k=[],g=T.O.AX(P(p),new kk(0,0,1,1));for(var n=1;n<=7;n+=2){k[n]=A(n,p,Q)}if(!k[1]){if(!k[7])u.push([s(g,[0,0]),l,b,0]);
u.push([s(g,[.5,0]),l,b,1])}if(!k[3]){if(!k[1])u.push([s(g,[1,0]),l,b,2]);u.push([s(g,[1,.5]),l,b,3])}if(!k[5]){if(!k[3])u.push([s(g,[1,1]),l,b,4]);
u.push([s(g,[.5,1]),l,b,5])}if(!k[7]){if(!k[5])u.push([s(g,[0,1]),l,b,6]);u.push([s(g,[0,.5]),l,b,7])}}}return u}function M(j){var w=j.length-2,u=0;
for(var n=0;n<w;n+=2)u+=(j[n+2]-j[n])*(j[n+1]+j[n+3]);u+=(j[0]-j[w])*(j[w+1]+j[1]);return-u*.5}function $(j,w,u,l){}function U(j,n){var w=j[n+2&7]-j[n&7],u=j[n+3&7]-j[n+1&7],l=1/Math.sqrt(w*w+u*u);
return[w*l,u*l]}function o(j){var w=j[2];j[2]=j[6];j[6]=w;var w=j[3];j[3]=j[7];j[7]=w}function t(j,w,u,l){if(l==null)l=0;
var I=w[1],Q=P(w),Z=null,E,r,l8,iL,bz,m,ks;if(I==0){if(M(Q)<0)o(Q);var b=6,p=Q[7]+Q[1];for(var n=0;n<6;
n+=2){var k=Q[n+1]+Q[n+3];if(k<p){p=k;b=n}}Q=Q.slice(b).concat(Q.slice(0,b));var g=W.hV.bZ(Q,u[0],u[1]),Y=Math.sqrt(q(Q,Q.slice(2))),R=Math.sqrt(q(Q.slice(4),Q.slice(6))),m=(Y+R)*.5;
return[Q,new kk(0,0,m,m/g)]}for(var n=0;n<j.length&&Z==null;n++){E=j[n][1];for(var N=0;N<E.length&&Z==null;
N++)if(E[N][0]==I)Z=E[N]}var h=t(j,Z,u,l+1),j5=h[0];h=h[1];for(var n=0;n<8;n+=2){var aP=j5[n&7],bS=j5[n+1&7],kR=j5[n+2&7],j1=j5[n+3&7];
for(var N=0;N<8;N+=2){var f6=Q[N],gx=Q[N+1],lC=Q[N+2&7],g2=Q[N+3&7],dv=Math.abs(T.R.WQ(aP,bS,kR,j1,f6,gx))+Math.abs(T.R.WQ(aP,bS,kR,j1,lC,g2));
if(dv<=30){r=N;l8=n}}}var bv=U(j5,l8),eo=U(Q,r),aL=bv[0]-eo[0],dh=bv[1]-eo[1],eM=aL*aL+dh*dh;if(eM<.001){o(Q);
r={0:6,2:4,4:2,6:0}[r]}while(r!=(l8+4&7)){Q.unshift(Q.pop());r=r+1&7}var g=W.hV.bZ(Q,u[0],u[1]),kg=T.O.AX(j5,h);
kg=T.O.TG(kg);var jJ=[Q[r],Q[r+1],Q[r+2&7],Q[r+3&7]];T.O.v(kg,jJ);var gr=T.R.mB(jJ);if(l8==0||l8==4){m=gr.s;
ks=m/g;iL=gr.x;bz=gr.y+(l8==0?-ks:0)}else{ks=gr.T;m=ks*g;bz=gr.y;iL=gr.x+(l8==6?-m:0)}return[Q,new kk(iL,bz,m,ks)]}function c(j,w){function u(R,m,Z,E){var N=s(R,[m,Z]);
N.push(E);return N}var l=[];for(var I=0;I<j.length;I++){var Q=j[I],b=Q[1];for(var p=0;p<b.length;p++){var k=b[p],g=t(j,k,w),Y=g[0],R=T.O.AX(Y,new kk(0,0,1,1));
l.push(u(R,.5,0,1));l.push(u(R,1,.5,3));l.push(u(R,.5,1,5));l.push(u(R,0,.5,7));l.push(u(R,.5,.5,[g?(g[1].s/g[1].T).toFixed(2):""].join(", ")))}}return l}function H(j,w,u,l){var I=[w],Q=[w];
while(!0){var b=[];for(var n=0;n<j.length;n++){var p=j[n],k=!1;for(var g=0;g<I.length;g++){if(p[1]==j[I[g]][0]||p[0]==j[I[g]][1])b.push(n)}}var Y=I.length;
for(var n=0;n<b.length;n++){var R=b[n],p=j[R];if(Q.indexOf(R)!=-1)continue;Q.push(R);var m=t([[10,j]],p,l);
if(m[1].Je(u))I.push(R)}if(Y==I.length)break}return I}function F(j,w,u){var l=u[0],I=u[1],Q=w.x-j[0],b=w.y-j[1],p=T.R.WM(j[0],j[1],Q,b,I[0],I[1],l[0]-I[0],l[1]-I[1]);
return[j[0]+p*Q,j[1]+p*b]}function i(j,w,u){j=T.G(j);var l=j[w[1]][1][w[2]],I=w[3]>=8,Q=w[3]&7;if((Q&1)==0)return j;
var b=B(Q);if(Q==1||Q==7){var p=l[5+b],k=l[5+2-b],g=l[5+(Q==1?3:1)],Y=l[5+(Q==1?1:3)],R=p[1],m=F(R,u,k);
if(!I&&q(m,k[1])<q(Y[0],k[1]))return j;p[0]=k[0]=m;g[0]=F(R,u,g)}else{var g=l[5+b],R=g[1],p=l[5+(Q==3?0:2)],m=F(R,u,p);
if(!I&&q(m,p[1])>q(p[0],p[1]))return j;if(Math.sign(p[1][0]-p[0][0])!=Math.sign(p[1][0]-m[0]))return j;
g[0]=m}return j}function X(j,w,u){var l=w[0]-j[0],I=w[1]-j[1],Q=T.R.WM(u[0],u[1],-I,l,j[0],j[1],l,I);
return[u[0]-I*Q,u[1]+l*Q]}function K(j,w,u){var l=u[0],I=u[1],s=X(j,w,u),Q=s[0],b=s[1],p=X(j,u,w),k=T.R.WM(Q,b,l-Q,I-b,w[0],w[1],p[0]-w[0],p[1]-w[1]);
return[Q+(l-Q)*k,b+(I-b)*k]}function f(j,w){var u=j[5][1],l=j[7][1],I=K(u,l,w),Q=[u,l,I];Q.sort(function(k,g){return k[0]-g[0]});
if(M([Q[0][0],Q[0][1],Q[1][0],Q[1][1],Q[2][0],Q[2][1]])<0){var b=Q[1];Q[1]=Q[2];Q[2]=b}var p=[Q.indexOf(u),Q.indexOf(l),Q.indexOf(I)];
return[Q,p]}function d(j,w,u){j=T.G(j);var l=w[1],I=j[l][1][w[2]],Q=w[3];if((Q&1)!=1)return j;var b=f(I,u),p=b[1][2],k=b[0][p],g=T.G(I);
j[l][1].push(g);g[0]=z();g[1]=I[0];g[2]=-10+Q;g[3]=p;g[4]=k;if(Q==1||Q==5){g[7][3]=g[8][3]=p;g[7][1]=g[8][1]=k;
if(Q==5){g[5][0]=g[7][0]=I[6][0];g[8][0]=P(I).slice(4,6)}}else{g[5][3]=g[6][3]=p;g[5][1]=g[6][1]=k;if(Q==3){g[5][0]=g[7][0]=I[8][0];
g[6][0]=P(I).slice(4,6)}}return j}function L(j,w,u){j=T.G(j);var l=w[1],I=j[l][1][w[2]],Q=I[2]+10,b=Q+4&7,p=Q==1||Q==5,k=I[5+B(p?7:1)][1],g=I[5+B(b)][0],Y=I[5+B(Q)][0];
I[2]=(p?90:0)+(q(g,k)<q(Y,k)?180:0);var R=V(P(I),u);for(var n=5;n<9;n++)I[n]=R[n];return j}function G(j,w,u){var hE=j.length>>1,l,I=j[2*hE-3]-u,Q=j[2*hE-2]-w,b=j[2*hE-1]-u,p=!1,k=0;
for(var n=0;n<hE;n++){l=Q;I=b;Q=j[2*n]-w;b=j[2*n+1]-u;if(I==b)continue;p=b>I}for(var n=0;n<hE;n++){l=Q;
I=b;Q=j[2*n]-w;b=j[2*n+1]-u;if(I<0&&b<0)continue;if(I>0&&b>0)continue;if(l<0&&Q<0)continue;if(I==b&&Math.min(l,Q)<=0)return!0;
if(I==b)continue;var g=l+(Q-l)*-I/(b-I);if(g==0)return!0;if(g>0)k++;if(I==0&&p&&b>I)k--;if(I==0&&!p&&b<I)k--;
p=b>I}return(k&1)==1}function x(j,w,u,l,I){var Q=null;for(var b=0;b<j.length;b++){var p=j[b][1];for(var k=0;
k<p.length;k++){var g=P(p[k]);if(G(g,w,u)||I&&I[0]==b&&I[1]==k&&Q==null){Q=[b,k];if(l){var Y=t(j,p[k],l),R=T.O.AX(Y[0],Y[1]),m=[w,u];
R=T.O.TG(R);T.O.v(R,m);Q.push(m)}}}}return Q}function O(j,w){for(var u=0;u<j.length;u++){var l=j[u][1],I=w[u];
if(I.length==0)continue;var Q=v(l,I);for(var b=0;b<l.length;b++){if(Q.indexOf(l[b][0])!=-1){l.splice(b,1);
b--}}}for(var u=0;u<j.length;u++)if(j[u][1].length==0){j.splice(u,1);u--}return j}function v(j,w){var u=[];
for(var n=0;n<10;n++)for(var l=0;l<j.length;l++){var I=j[l];if(w.indexOf(l)!=-1||u.indexOf(I[1])!=-1)if(u.indexOf(I[0])==-1)u.push(I[0])}return u}function C(j){var w=y.JU(j,0,j.length),u=w.split("\n").slice(1);
function l(){return parseFloat(u.shift())}function I(){var f6=[l(),l()];Q(1);return f6}function Q(hE){for(var n=0;
n<hE;n++)u.shift()}var b=[],p=l();for(var k=0;k<p;k++){var g=l(),Y=l(),R=[];b.push([g,R]);for(var m=0;
m<Y;m++){var Z=l(),E=l(),N=l(),h=l(),j5=I(),r=[Z,E,N,h,j5];R.push(r);for(var n=0;n<4;n++){var l8=I(),aP=I(),bS=l()==1,kR=l(),j1=l();
r.push([l8,aP,bS,kR,j1])}}}return b}function S(j){function w(Y){u.push(Y[0],Y[1],"")}var u=["tNaF203"];
u.push(j.length);for(var l=0;l<j.length;l++){u.push(j[l][0]);var I=j[l][1];u.push(I.length);for(var Q=0;
Q<I.length;Q++){var b=I[Q];u.push(b[0],b[1],b[2],b[3]);w(b[4]);for(var n=0;n<4;n++){var p=b[5+n];w(p[0]);
w(p[1]);u.push(p[2]?1:0,p[3],p[4])}}}var k=u.join("\n"),g=new Uint8Array(k.length);y.Wd(g,0,k);return g}return{iA:C,Ft:S,a8V:P,awE:V,Uv:a,aO3:i,a04:c,aBt:function(j,w){return w&&(w[3]&1)==0&&j[w[1]][1].length==1},aDV:function(j,w){return w&&(w[3]&1)==1},EL:t,a3w:d,an2:L,aFF:O,ux:v,$$:x,Wx:H}}();
T.aI1=function(){var z=0,q=0,V=15,D=256;function e(M,$,U,o,t,c){var H=(t-1)*$,F=c*$;return M[F+o]-M[F+U-1]-M[H+o]+M[H+U-1]}var P=Math.round(V/8),B=[];
function A(M,$){for(var U=0;U<$.length;U++){var o=$[U],t=0,c=0,H=M[o.ac],F=H.Og,i=H.xL,X=H.Hi;for(var K=-V;
K<=V;K++)for(var f=-V;f<=V;f++){var d=f+o.aF$,L=K+o.aDn;if(f*f+K*K>V*V||d<0||L<0||d>=i||L>=i)continue;
var G=F[L*i+d];t+=f*G;c+=K*G}o.Ba=Math.atan2(c,t)}}function s(M,$,U,o,t){var c=~~(M+.5),H=~~($+.5);return e(U,o,c-P,c+P,H-P,H+P)}function a(M,$,U,o,t){z=o;
q=t;if(B.length==0){var c=new T.w.ix(16200817),X=8,K=0;function H(j5){var O=j5[0]-j5[2],v=j5[1]-j5[3];
return O*O+v*v}function F(){var j5=0,r=0;while(j5===0)j5=c.get();while(r===0)r=c.get();return Math.sqrt(-2*Math.log(j5))*Math.cos(2*Math.PI*r)}var i=F,f=[];
while(K!=D){var d=Math.max(-V,Math.min(V,i()*X)),L=Math.max(-V,Math.min(V,i()*X)),G=Math.max(-V,Math.min(V,i()*X)),x=Math.max(-V,Math.min(V,i()*X)),O=d-G,v=L-x,C=Math.sqrt(O*O+v*v);
if(C<3||C>12)continue;B.push(d,L,G,x);K++}}var S=20;for(var j=0;j<$.length;j++){var w=$[j],u=M[w.ac],l=u.awS,U=u.Og,o=u.xL,t=u.Hi,I=w.aF$,Q=w.aDn,b=w.Ba,p=Math.cos(b),k=Math.sin(b),g=new Uint8Array(D>>>3);
w.cj=g;for(var n=0;n<D;n++){var Y=n*4,d=B[Y+0],L=B[Y+1],G=B[Y+2],x=B[Y+3],R=p*d-k*L,m=k*d+p*L,Z=p*G-k*x,E=k*G+p*x,N=s(I+R,Q+m,l,o,t),h=s(I+Z,Q+E,l,o,t);
g[n>>>3]|=(N<h?0:1)<<(n&7)}}}return{aFx:A,aau:a}}();T.aiz=function(){function z(q,e){var V=[[9]],P=Date.now(),D=[];
for(var B=0;B<q.length;B++){var A=q[B],s=A.awS,a=A.xL,M=A.Hi,o=9,X=1,w=24;if(s==null)continue;var $=new Float32Array(a*M),U=new Uint8Array(a*M),t=o>>>1,c=t>>>1,H=Math.round(o/3);
if(H!=o/3)throw"e";var F=1/(o*o),i=1.2*(o/9);for(var K=t+1;K<M-t;K+=X)for(var f=t+1;f<a-t;f+=X){var d=T.MB(s,a,f-c,f+c,K-t,K+t)-3*T.MB(s,a,f-c,f+c,K-t+H,K+t-H),L=T.MB(s,a,f-t,f+t,K-c,K+c)-3*T.MB(s,a,f-t+H,f+t-H,K-c,K+c),G=f-t+1,x=f+t-1,O=K-t+1,v=K+t-1,C=T.MB(s,a,G,f-1,O,K-1)+T.MB(s,a,f+1,x,K+1,v)-T.MB(s,a,f+1,x,O,K-1)-T.MB(s,a,G,f-1,K+1,v),S=(L*d-.9*C*(.9*C))*(F*F);
$[K*a+f]=Math.abs(S);U[K*a+f]=S<0?0:1}var j=a*X;for(var K=w;K<M-w;K+=X)for(var f=w;f<a-w;f+=X){var n=K*a+f,u=$[n];
if(u<16)continue;if($[n-X]>=u||$[n+X]>=u)continue;if($[n-j-X]>=u||$[n-j]>=u||$[n-j+X]>=u)continue;if($[n+j-X]>=u||$[n+j]>=u||$[n+j+X]>=u)continue;
D.push({x:~~(f*A.oB+.5),y:~~(K*A.oB+.5),aF$:f,aDn:K,ac:B,u:u,alQ:U[n],fY:i})}}if(e!=null){D.sort(function(Y,R){return R.u-Y.u});
D=D.slice(0,e)}return D;var l=[];for(var n=0;n<D.length;n++){var I=!0,Q=D[n];for(var b=0;b<D.length;
b++){var p=D[b];if(b!=n&&p.u>Q.u&&(p.ac==Q.ac+1||p.ac==Q.ac-1)){var k=Q.x-p.x,g=Q.y-p.y;if(k*k+g*g<5){I=!1;
break}}}if(I)l.push(Q)}console.log(D.length,l.length);return l}return{a2N:z}}();T.pF={};T.pF.atc=function(z){var q=z.length,e=T.pF.ap5(z,!1),P=0,D=1;
throw"e";var V=[];for(var n=0;n<q;n++)V[n]=T.pF.ax9(e[n]);var B=z[0][1],A=T.pF.match(e[P],e[D],V[D]);
console.log(A.length);var s=Math.max(Math.min(A.length,40),A.length*.54);s=Math.min(s,200);var a=A.slice(0,s),M=T.ZA.aJH(e[P],e[D],a,B.s,B.T),$=T.ZA.ain(M,[0,0,0],1),U=B.s/2,o=B.T/2,t=1/Math.max(U,o);
for(var n=0;n<1;n++){var c=a[n],H=e[P][c[0]],F=e[D][c[1]],i=T.ZA.ayZ($,t*(H.x-U),t*(H.y-o),t*(F.x-U),t*(F.y-o))}var X=T.ZA.afF(M,B),K=[];
for(var n=0;n<2;n++){var f=X[n],d=[f[0][0],f[0][1],f[0][2],f[1][0],f[1][1],f[1][2],f[2][0],f[2][1]],L=W.On.Nv(z[n],null,d);
K.push([L.buffer,L.V])}return[T.pF.a9l(K[0],K[1],e[P],e[D],a,M,X,B)]};T.pF.qH=function(z,q){var e=z.length,V=!1,P=Date.now(),D=T.pF.ap5(z,!1,1e4);
if(V)console.log("Descriptors ready",Date.now()-P);P=Date.now();for(var n=0;n<e;n++){var B=z[n][1];for(var A=0;
A<D[n].length;A++){D[n][A].x+=B.x;D[n][A].y+=B.y}}if(V)console.log("shifted",Date.now()-P);P=Date.now();
var s=[];for(var n=0;n<e;n++)s[n]=T.pF.ax9(D[n]);if(V)console.log("trees built",Date.now()-P);P=Date.now();
var a=[];for(var n=0;n<e-1;n++)for(var A=n+1;A<e;A++){var M=T.pF.match(D[n],D[A],s[A]);if(V)console.log("Matches found",n,A,M.length);
M=M.slice(0,M.length>>>1);if(M.length<10)continue;var $=T.pF.aqe(D[n],D[A],M,2);a.push([n,A,M,$])}a.sort(function(x,O){return O[2].length-x[2].length});
if(V)console.log("Matches found",Date.now()-P);P=Date.now();var U=[],o=new UnionFind(e);for(var n=0;
n<a.length;n++){var t=a[n],c=o.find(t[0]),H=o.find(t[1]);if(c!=H){U.push(t);o.link(c,H)}}var F=[];for(var n=0;
n<e;n++)F[n]=[1,0,0,0,1,0,0,0];var i=[0],X=new Uint8Array(e);X[i[0]]=1;while(i.length!=0){var H=i.pop(),$=F[H],K=[];
for(var n=0;n<U.length;n++){var t=U[n],f=t[0],d=t[1];if(f==H&&X[d]==0){F[d]=T.O.yW($,t[3]);i.push(d);
X[d]=1}if(d==H&&X[f]==0){F[f]=T.O.yW($,T.O.TG(t[3]));i.push(f);X[f]=1}}}if(q==null){var L=[];for(var n=0;
n<e;n++)L.push([F[n][2],n]);L.sort(function(x,O){return x[0]-O[0]});q=L[L.length>>>1][1]}var G=T.O.TG(F[q]);
for(var n=0;n<e;n++)F[n]=T.O.yW(F[n],G);if(V)console.log("Transforms reordered",Date.now()-P);P=Date.now();
return F};T.pF.ap5=function(z,q,e){var V=[],P=!1;for(var n=0;n<z.length;n++){var D=z[n][0],B=z[n][1],A=B.s,s=B.T,a=T.n(B.D());
T.tI(D,a);var M=Date.now(),$=T.pF.aNv(a,B,!0);if(P)console.log("Pyramid built ---------------",Date.now()-M);
M=Date.now();var U=T.aiz.a2N($,e);if(P)console.log("SURF Generation",Date.now()-M);M=Date.now();if(!q){T.aI1.aFx($,U);
if(P)console.log("ORB Orientations",Date.now()-M);M=Date.now();T.aI1.aau($,U,a,A,s);if(P)console.log("ORB Descriptors",Date.now()-M);
M=Date.now()}V.push(U)}return V};T.pF.aNv=function(z,q,e){var V=[],P=[z,q];T.wD(P);if(e){var D=T.axQ(z,q),B=D.V,A=[D.Dm,B];
T.wD(A)}for(var n=0;n<P.length;n++){var s=P[2*n],a=P[2*n+1],M=a.s,$=a.T,U=Math.min(M,$);if(U<30)break;
if(U<1600)V.push({Og:s,xL:M,Hi:$,oB:1<<n,awS:T.xH(s,M,$)});if(!e)continue;var s=A[2*n],a=A[2*n+1],M=a.s,$=a.T,U=Math.min(M,$);
if(U<30)break;if(U<1600)V.push({Og:s,xL:M,Hi:$,oB:(1<<n)*3/2,awS:T.xH(s,M,$)})}return V};T.pF.aqe=function(z,q,e,V){var P=Date.now(),D,B=0,A=0,s=e.length,a=new Float64Array(2);
for(var M=0;M<3e3;M++){var $=~~(Math.random()*s),U=~~(Math.random()*s),o=~~(Math.random()*s),t=~~(Math.random()*s),j=0,w=0;
if($==U||$==o||$==t||U==o||U==t||o==t)continue;var c=e[$],H=e[U],F=e[o],i=e[t],X=z[c[0]],K=q[c[1]],f=z[H[0]],d=q[H[1]],L=z[F[0]],G=q[F[1]],x=z[i[0]],O=q[i[1]],v=[X.x,X.y,f.x,f.y,L.x,L.y,x.x,x.y],C=[K.x,K.y,d.x,d.y,G.x,G.y,O.x,O.y],S=T.O.aCx(v,C);
if(S[0]==0&&S[1]==0&&S[3]==0&&S[4]==0)continue;var u=s-B+2;for(var n=0;n<s&&n-j<u;n++){var l=z[e[n][0]],I=q[e[n][1]];
T.O.xt(I.x,I.y,S,a);var Q=a[0]-l.x,b=a[1]-l.y,p=Q*Q+b*b;if(p<V){j++;w+=p}}if(j>B||j==B&&w<A){D=S;B=j;
A=w}}return D};var jZ=new Uint8Array(256);for(var n=0;n<256;n++){var hp=0,hE=n;while(hE!=0){hE=hE&hE-1;
hp++}jZ[n]=hp}T.pF.as5=function(z,q,e){var V=0,P=z.length;for(var n=0;n<P&&V<e;n++)V+=jZ[z[n]^q[n]];
return V};T.pF.a6K=function(z,q,e,top,V){if(V[e]==1)return;var P=T.pF.as5(z.cj,q.cj,top[0]);if(P<top[0]){if(P<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=P;top[3]=e}else{top[0]=P;top[1]=e}}V[e]=1};T.pF.ax9=function(z){var q=[],e=[],V=[[],[]],P=4;
for(var n=0;n<z.length;n++)(z[n].alQ==0?q:e).push(n);for(var D=0;D<2;D++){var B=new Array(P),A=[],s=D==0?q:e,a=s.length/256,M=[];
for(var $=0;$<32;$++){var U=new Array(256),c=0;for(var o=0;o<256;o++)U[o]=[];for(var o=0;o<s.length;
o++){var t=s[o];U[z[t].cj[$]].push(t)}for(var o=0;o<256;o++)c+=Math.abs(U[o].length-a);M.push([c,$,U])}M.sort(function(H,F){return H[0]-F[0]});
var A=[],B=[];V[D]=[A,B];for(var n=0;n<P;n++){A.push(M[n][1]);B.push(M[n][2])}}return V};T.pF.match=function(z,q,e){var V=[],P=new Uint16Array(q.length);
P.fill(65535);var D=new Uint8Array(q.length),top=new Uint32Array(4),B=[];for(var A=0;A<z.length;A++){var s=z[A],a=s.cj;
top.fill(1e6);D.fill(0);var M=e[s.alQ];for(var $=0;$<M[1].length;$++){var U=M[1][$][a[M[0][$]]];for(var o=0;
o<U.length;o++){var t=U[o];T.pF.a6K(s,q[t],t,top,D)}}if(top[2]<50&&top[2]<top[0]*.5){var c=P[top[3]];
if(c==65535){P[top[3]]=V.length;V.push([A,top[3],top[2]])}else if(top[2]<V[c][2]){V[c]=[A,top[3],top[2]]}}}V.sort(function(H,F){return H[2]-F[2]});
return V};T.pF.aFP=function(z){var q=new kk;for(var n=0;n<z.length;n++)q=q.X8(z[n][1]);var e=T.n(q.D()*4);
for(var n=0;n<z.length;n++)T.w.Mt("norm",z[n][0],z[n][1],e,q,q,1);return[e,q]};T.pF.a9l=function(z,q,e,V,P,D,B,A){var s=z[1].Y(),a=s.Y();
s.x=s.y=0;var M=q[1].Y(),$=M.Y();M.x=M.y=0;M.x=s.s;var U=s.X8(M),o=$.y-a.y,t=T.n(U.D()*4);T.aF(z[0],s,t,U);
T.aF(q[0],new kk(M.x,M.y+o,M.s,M.T),t,U);var c=document.createElement("canvas");c.width=U.s;c.height=U.T;
var H=c.getContext("2d");H.lineWidth=.5;H.putImageData(new ImageData(new Uint8ClampedArray(t.buffer),U.s,U.T),0,0);
if(D){var F=D[0],i=T.Hn.TL(F),X=s.s,K=A.s;for(var n=0;n<P.length;n++){var f=P[n],z=e[f[0]],q=V[f[1]];
H.strokeStyle="#"+"ff0000";H.beginPath();var d=T.ZA.aKu(i,B[0],q,0,K),L=T.ZA.aKu(F,B[1],z,0,K);H.moveTo(-a.x+d[0],-a.y+d[1]);
H.lineTo(-a.x+d[2],-a.y+d[3]);H.moveTo(X-$.x+L[0],-$.y+o+L[1]);H.lineTo(X-$.x+L[2],-$.y+o+L[3]);H.stroke()}}if(P){var G=P.length;
for(var n=0;n<G;n++){var f=P[n],z=e[f[0]],q=V[f[1]];H.strokeStyle="#"+"ffff00"}}var x=new Uint8Array(H.getImageData(0,0,U.s,U.T).data.buffer);
if(!1){for(var O=0;O<2;O++){var v=O==0?e:V,C=O*s.s;for(var n=0;n<v.length;n++){var S=v[n],j=~~S.x,w=~~S.y,u=(w*U.s+j+C)*4;
x[u+1]=x[u+2]=S.aoL*60;x[u+0]=0;x[u+3]=255}}}return[x,U]};T.NO={};T.NO.list=[[[22,4,1],0],[[22,4,0],0],["Dual Axis",0],["Diagonal",0],[[22,5,9],0],[[12,93,5],0],[[12,93,2],0],["Parallel",0],[[19,0,1],1],["Mandala",2]];
T.NO.aHE=["BasicPath","Radial","Mandala","RectangularTile"];T.NO.av=function(z,q){var e=.28*.5,V=[{_:["M","L"],J:[.5,.1,.5,.9]},{_:["M","L"],J:[.1,.5,.9,.5]},{_:["M","L","M","L"],J:[.5,.1,.5,.9,.1,.5,.9,.5]},{_:["M","L"],J:[.1,.1,.9,.9]},{_:["M","C","C"],J:[.5,.1,.4,.2,.4,.4,.5,.5,.6,.6,.6,.8,.5,.9]},{_:["M","C","C","C","C"],J:[.5,.25,.5+e,.25,.75,.5-e,.75,.5,.75,.5+e,.5+e,.75,.5,.75,.5-e,.75,.25,.5+e,.25,.5,.25,.5-e,.5-e,.25,.5,.25]},null,{_:["M","L","M","L"],J:[.35,.1,.35,.9,.65,.1,.65,.9]}],A=.4;
if(V[z])return V[z];if(z==6){var P="m418 377c30 0 16-55-28-48-78 12-76 160 54 166 135 6 204-212 34-302-135-71-303 53-296 214 8 177 170 240 236 243",D=Typr.U.SVGToPath(P);
D={J:D.crds,_:D.cmds};T.R.v(D.J,new e5(1/840,0,0,1/840,0,0),D.J);return D}var B={_:[],J:[]},s=2*Math.PI/q;
for(var n=0;n<q;n++){B._.push("M","L");B.J.push(.5,.5,.5+Math.sin(n*s)*A,.5-Math.cos(n*s)*A)}return B};
T.NO.Zn=function(z,q){var e=Math.PI*.5+Math.atan2(z.y-q.y,q.x-z.x),V=new e5;V.translate(-z.x,-z.y);V.rotate(-e);
V.scale(-1,1);V.rotate(e);V.translate(z.x,z.y);return V};T.NO.ahY=function(z,q,e){var V=[new e5];if(e==null)return V;
var P=e[0],D=e[1],B=e[2];if(P==0){var A=T.S.S2(B,!0),s=T.S.ha(B,0,!0),a=B[s].length;if(A==1){if(a==2){V.push(T.NO.Zn(B[s+1].O0,B[s+2].O0))}else{var M=T.R.EP(B);
M=T.R.VW(M);var $=T.R.zj(M),U=T.R.NV($,z.x,z.y),hE=new f5($[U*2],$[U*2+1]),o=z.x-hE.x,t=z.y-hE.y,c=new f5(hE.x-t,hE.y+o);
V.push(T.NO.Zn(hE,c))}}if(A==2){var H=T.S.ha(B,1,!0),F=B[H].length;if(a==2&&F==2){var i=B[s+1].O0,X=B[s+2].O0,K=B[H+1].O0,f=B[H+2].O0,d=T.R.WM(i.x,i.y,X.x-i.x,X.y-i.y,K.x,K.y,f.x-K.x,f.y-K.y),L=T.NO.Zn(i,X);
V.push(L);var G=T.NO.Zn(K,f);V.push(G);if(0<d&&d<1){L=L.Y();L.concat(G);V.push(L)}}else alert("two curves")}}if(P==1||P==2){V=[];
var x=B[3].O0,O=B[4].O0;for(var n=0;n<D;n++){var v=new e5;v.translate(-x.x,-x.y);v.rotate(n*Math.PI*2/D);
v.translate(x.x,x.y);V.push(v);if(P==2){v=v.Y();v.concat(T.NO.Zn(x,O));V.push(v)}}}if(P==3){V=[];for(var C=-1;
C<2;C++)for(var S=-1;S<2;S++){var v=new e5;v.translate(S*q.s,C*q.T);V.push(v)}}return V};T.stack={};
T.stack.stack=function(z,q,e){var V=z.length,P=q.length;if(V==1){q.set(z[0]);return}if(e=="avrg"||e=="stdv"||e=="summ"||e=="vari"){var D=1/V;
for(var n=0;n<P;n++){var B=0;for(var A=0;A<V;A++)B+=z[A][n];var s=~~(B*D+.5);if(e=="avrg"||(n&3)==3)q[n]=s;
else if(e=="summ")q[n]=255*Math.pow(Math.min(255,B)*(1/255),1/2.4);else{var a=0;for(var A=0;A<V;A++){var M=z[A][n]-s;
a+=M*M}var $=Math.sqrt(a*D)*(1/255);if(e=="stdv")q[n]=255*Math.pow($,1/2.4);else q[n]=255*Math.pow($*$,1/2.4)}}}else if(e=="maxx"){for(var n=0;
n<P;n++){var U=0;for(var A=0;A<V;A++)U=Math.max(U,z[A][n]);q[n]=U}}else if(e=="minn"){for(var n=0;n<P;
n++){var U=255;for(var A=0;A<V;A++)U=Math.min(U,z[A][n]);q[n]=U}}else if(e=="medn"||e=="rang"){var o=function(F,i){return F-i},t=new Array(V),c=0,H=0;
if((V&1)==0){H=V>>>1;c=H-1}else{c=H=V>>>1}for(var n=0;n<P;n++){for(var A=0;A<V;A++)t[A]=z[A][n];t.sort(o);
if(e=="medn")q[n]=t[c]+t[H]>>>1;else q[n]=(n&3)==3?t[V-1]:t[V-1]-t[0]}}else console.log(e)};T.xQ={};
T.xQ.avm=function(z,q,e,V){if(V==0)return;var P=Date.now(),D=new Uint32Array(q*e),B=new Uint8Array(q*e);
while(!0){B.fill(0);D.fill(0);var A=[],s=0;for(var a=0;a<e;a++){for(var M=0;M<q;M++){var n=a*q+M;if(B[n]==0){var $=A.length,U=T.xQ.Bv(z,q,e,M,a,B,D,$);
A.push([$,M,a,U[0],U[1],z[n]]);if(U[0]<V)s++}}}if(s==0)break;var o=A.length,t=new UnionFind(o),c=[];
for(var n=0;n<o;n++)c.push([]);for(var n=0;n<o;n++){var U=A[n],H=U[4],F=0,i=0;if(U[3]>=V)continue;var $=U[0];
for(var X=0;X<H.length;X+=2){var K=D[H[X+1]*q+H[X]],f=A[K];if(f[3]>i){i=f[3];F=K}}if(t.find($)!=t.find(F)){t.link($,F);
c[$].push(F);c[F].push($)}}var d=new Uint32Array(o);d.fill(4294967295);var L=new Uint32Array(o);for(var n=0;
n<o;n++){if(d[n]!=4294967295||c[n].length==0)continue;var G=[n],x=[n],O=n,v=A[n][3];while(x.length!=0){var C=x.pop(),S=c[C];
for(var X=0;X<S.length;X++){var j=S[X];if(G.indexOf(j)==-1){G.push(j);x.push(j);var w=A[j];if(w[3]>v){v=w[3];
O=j}}}}for(var X=0;X<G.length;X++){d[G[X]]=O;var u=A[O];L[G[X]]=z[u[2]*q+u[1]]}}for(var a=0;a<e;a++)for(var M=0;
M<q;M++){var n=a*q+M,l=d[D[n]];if(l!=4294967295)z[n]=L[l]}}};T.xQ.Bv=function(z,q,e,V,P,D,B,A){var s=[V,P],a=z[P*q+V],M=0,$=[];
D[P*q+V]=1;while(s.length!=0){var U=s.pop(),o=s.pop(),n=U*q+o;B[n]=A;M++;if(U!=e-1)if(z[n+q]==a){if(D[n+q]==0){s.push(o,U+1);
D[n+q]=1}}else $.push(o,U+1);if(U!=0)if(z[n-q]==a){if(D[n-q]==0){s.push(o,U-1);D[n-q]=1}}else $.push(o,U-1);
if(o!=q-1)if(z[n+1]==a){if(D[n+1]==0){s.push(o+1,U);D[n+1]=1}}else $.push(o+1,U);if(o!=0)if(z[n-1]==a){if(D[n-1]==0){s.push(o-1,U);
D[n-1]=1}}else $.push(o-1,U)}return[M,$]};T.xQ.aOQ=function(z,q,e){var V=new Uint32Array(q*e);for(var n=0;
n<V.length;n++)V[n]=z[n];var P=[];for(var D=0;D<e;D++){for(var B=0;B<q;B++){var n=D*q+B,A=V[n];if(A<1e3){var s=T.xQ.a7o(V,q,e,B,D,1e3+P.length);
P.push([B,D,A,s,0])}}}for(var n=0;n<V.length;n++)V[n]-=1e3;var a=new Float32Array(q*e);a.fill(q+e);for(var D=0;
D<e;D++)for(var B=0;B<q;B++){var n=D*q+B,A=V[n];if(B==0||D==0||V[n-1]!=A||V[n-q]!=A)a[n]=0;else{var M=Math.min(a[n],a[n-1]+1,a[n-q]+1);
if(V[n-q-1]==A)M=Math.min(M,a[n-q-1]+1.414);a[n]=M}}for(var D=e-1;D>=0;D--)for(var B=q-1;B>=0;B--){var n=D*q+B,A=V[n];
if(B==q-1||D==e-1||V[n+1]!=A||V[n+q]!=A)a[n]=0;else{var M=Math.min(a[n],a[n+1]+1,a[n+q]+1);if(V[n+q+1]==A)M=Math.min(M,a[n+q+1]+1.414);
a[n]=M}}for(var D=0;D<e;D++)for(var B=0;B<q;B++){var n=D*q+B,$=P[V[n]];if(a[n]>$[4]){$[4]=a[n];$[0]=B;
$[1]=D}}return P};T.xQ.a7o=function(z,q,e,V,P,D){var B=[V,P],A=z[P*q+V],s=0;z[P*q+V]=4294967295;while(B.length!=0){var P=B.pop(),V=B.pop(),n=P*q+V;
s++;z[n]=D;if(P<e-1&&z[n+q]==A){B.push(V,P+1);z[n+q]=4294967295}if(P>0&&z[n-q]==A){B.push(V,P-1);z[n-q]=4294967295}if(V>0&&z[n-1]==A){B.push(V-1,P);
z[n-1]=4294967295}if(V<q-1&&z[n+1]==A){B.push(V+1,P);z[n+1]=4294967295}}return s};T.xQ.aAn=function(z,q,e,V,P){var D=T.xQ.aIb(z.buffer,q,e).RM,B=Date.now(),A=[];
for(var n=0;n<D.length;n++){var s=D[n],a=1;for(var M=0;M<a;M++)A.push(s.I$)}var $=new Uint32Array(A),U=UPNG.quantize.getKDtree(new Uint8Array($.buffer),V),o=[q,1,-q,-1,q+1,-q+1,-q-1,q-1,q+q,2,-q-q,-2,q+q-1,q+q+1,q+2,-q+2,-q-q+1,-q-q-1,-q-2,q-2,q+q+2,-q-q+2-q-q-2,q+q-2],t=new Uint8Array(q*e),c=z;
for(var H=0;H<e;H++)for(var F=0;F<q;F++){var n=H*q+F<<2,i=c[n]*(1/255),X=c[n+1]*(1/255),K=c[n+2]*(1/255),f=c[n+3]*(1/255),d=T.xQ.uS(U,i,X,K,f,P);
if(d==null){var L=[],G=0;while(G<20){var x=H*q+F+o[G]<<2,O=c[x]*(1/255),v=c[x+1]*(1/255),C=c[x+2]*(1/255),S=c[x+3]*(1/255),j=T.xQ.uS(U,O,v,C,S,.005);
if(j!=null){if(L.indexOf(j)==-1){L.push(j);j.AJ=1}else j.AJ++}G++}L.sort(function(f,K){return K.AJ-f.AJ});
while(L.length!=0&&L[L.length-1].AJ<3)L.pop();if(L.length==0)d=T.xQ.uS(U,i,X,K,f,100);else if(L.length==1)d=L[0];
else if(L.length==2){var w=L[0],u=L[1],l=w.est.q,I=u.est.q,Q=I[0]-l[0],b=I[1]-l[1],p=I[2]-l[2],k=I[3]-l[3],g=i-l[0],Y=X-l[1],R=K-l[2],m=f-l[3],Z=Q*Q+b*b+p*p+k*k,E=g*g+Y*Y+R*R+m*m,N=(g*Q+Y*b+R*p+m*k)/Z,h=E-N*N*Z;
if(h<.5)d=N<.5?w:u;else{d=T.xQ.uS(U,i,X,K,f,100)}}else{var w=L[0],u=L[1],j5=L[2],l=w.est.q,I=u.est.q,r=j5.est.q,l8=l[0]-r[0],aP=l[1]-r[1],bS=l[2]-r[2],kR=l[3]-r[3],j1=I[0]-r[0],f6=I[1]-r[1],gx=I[2]-r[2],lC=I[3]-r[3],g2=r[0]-i,dv=r[1]-X,bv=r[2]-K,eo=r[3]-f,aL=l8*l8+aP*aP+bS*bS+kR*kR,dh=l8*j1+aP*f6+bS*gx+kR*lC,eM=g2*l8+dv*aP+bv*bS+eo*kR,kg=l8*j1+aP*f6+bS*gx+kR*lC,jJ=j1*j1+f6*f6+gx*gx+lC*lC,iL=g2*j1+dv*f6+bv*gx+eo*lC,bz=1/(dh*kg-aL*jJ),N=(jJ*eM-iL*dh)*bz,ks=(iL*aL-eM*kg)*bz,gr=1-N-ks,hg=Math.max(N,ks,gr);
if(hg==N)d=w;else if(hg==ks)d=u;else d=j5}}t[n>>2]=d.ind}return{Vt:t,RM:U[1]}};T.xQ.aIb=function(z,q,e){var V=[],P={},D=q-1,B=e-1,A=0,s=new Uint32Array(z),a=[-q-1,-q,-q+1,-1,1,q-1,q,q+1,q+q,2,-q-q,-2,q+q-1,q+q+1,q+2,-q+2,-q-q+1,-q-q-1,-q-2,q-2,q+q+2,-q-q+2-q-q-2,q+q-2];
for(var M=1;M<B;M++)for(var $=1;$<D;$++){var U=M*q+$,o=s[U],t=!0;for(var n=0;n<8;n++)t=t&&s[U+a[n]]==o;
if(t){A++;var c=P[o];if(c==null){P[o]=V.length;V.push({I$:o,pm:1})}else V[c].pm++}}return{RM:V,aJn:A}};
T.xQ.uS=function(z,q,e,V,P,D){var B=UPNG.quantize.getNearest(z[0],q,e,V,P);return T.xQ.awg(B,q,e,V,P)<D?B:null};
T.xQ.awg=function(z,q,e,V,P){var D=z.est.q,B=q-D[0],A=e-D[1],s=V-D[2],a=P-D[3];return B*B+A*A+s*s+a*a};
(function(){T.xQ.YR=function(A,s,a,M,$){var U=A.W3,o=s*a,t=A.uJ,c=A.Vt,H=V(M,c,U,o),F=new UnionFind(U),L=0;
for(var i=1;i<a;i++)for(var X=1;X<s;X++){var n=i*s+X,K=c[n],f=0;if((f=c[n-1])!=K&&H[f]==H[K]&&z(t,0,K*6,f*6)<$)F.link(K,f);
if((f=c[n-s])!=K&&H[f]==H[K]&&z(t,0,K*6,f*6)<$)F.link(K,f)}var d=new Uint16Array(U);d.fill(65535);var G=new Uint16Array(U);
for(var n=0;n<U;n++){var x=F.find(n);if(d[x]==65535)d[x]=L++;G[n]=d[x]}var O=new Uint16Array(o);for(var n=0;
n<o;n++)O[n]=G[c[n]];return{Vt:O,W3:L}};T.xQ.akd=function(A,s,a){var M=T.n(s),$=A.length;for(var n=0;
n<$;n++){var U=a[n];if(U==0||U==255){var o=A[n],t=2-(U>>>7),c=M[o]=M[o]|t;if(c==3)return o}}return-1};
function z(A,s,a,M){var $=1/A[a+5],U=1/A[M+5],o=A[a]*$-A[M]*U,t=A[a+1]*$-A[M+1]*U,c=A[a+2]*$-A[M+2]*U,H=A[a+3]*$-A[M+3]*U,F=A[a+4]*$-A[M+4]*U,i=Math.sqrt(o*o+t*t+c*c),X=Math.sqrt(H*H+F*F);
return~~(i+s*X+.5)}function q(A,s){var n=0,a=A.length;while(n!=a&&A[n]!=s)n+=2;return n==a?-1:n}function e(A,n){if(n==A.length-2){A.pop();
A.pop()}else{A[n+1]=A.pop();A[n]=A.pop()}}T.xQ.a24=function(A,s,a,M,$){var U=new Uint32Array($*4400),o=[];
for(var n=0;n<$;n++)o.push([]);for(var t=0;t<a;t++)for(var c=0;c<s;c++){var n=t*s+c,H=n<<2,F=M[n],i=0,X=A[H]>>>4,K=A[H+1]>>>4,f=A[H+2]>>>4;
U[F*4400+(X<<8|K<<4|f)]++;U[F*4400+4096]++;U[F*4400+4100+(X<<4|K)]++;U[F*4400+4360+X]++;if(c!=0&&(i=M[n-1])!=F&&q(o[F],i)==-1){o[F].push(i,0);
o[i].push(F,0)}if(t!=0&&(i=M[n-s])!=F&&q(o[F],i)==-1){o[F].push(i,0);o[i].push(F,0)}}for(var n=0;n<$;
n++){var f=o[n];for(var d=0;d<f.length;d+=2)f[d+1]=B(U,n,f[d])}return[U,o]};function V(A,s,a,M){var $=T.n(a);
for(var n=0;n<M;n++){var U=A[n];if(U==0||U==255)$[s[n]]=2-(U>>>7)}return $}T.xQ.ax3=function(A,s,a,M,$,U,o){var t=s*a,c=o[0],H=o[1],F=new UnionFind(M),i=V($,A,M,t),X=-1,K=!0,f=0;
for(var n=0;n<M;n++)if(i[n]==1){if(X==-1)X=n;else F.link(n,X)}if(X==-1){for(var n=0;n<t;n++)U[n]=$[n]==255?255:0;
return}while(K){while(K){K=!1;for(var n=0;n<M;n++){if(i[n]==0){var d=P(H[n]);if(i[d]==1){i[n]=i[d];K=!0;
F.link(n,d)}}}}K=!0;f=0;while(K){K=!1;for(var n=0;n<M;n++){if(i[n]==0){var d=P(H[n]);if(i[d]==0){var L=n*4400,G=d*4400;
for(var x=0;x<4400;x+=2){c[L+x]+=c[G+x];c[L+x+1]+=c[G+x+1]}D(H,c,n,d);f++;i[d]=3;K=!0;F.link(n,d)}}}}K=f!=0}var O=F.find(X);
for(var n=0;n<M;n++)i[n]=F.find(n)==O?255:0;for(var n=0;n<t;n++){U[n]=i[A[n]]}for(var n=0;n<t;n++){var d=$[n];
if(d==0||d==255)U[n]=d}};function P(A){var s=0,a=0,M=A.length;for(var $=0;$<M;$+=2){var U=A[$+1];if(U>a){a=U;
s=$}}return A[s]}function D(A,s,a,M){var $=A[a],U=A[M];e($,q($,M));e(U,q(U,a));for(var n=0;n<U.length;
n+=2){var o=U[n],t=A[o];e(t,q(t,M));if(q(t,a)==-1){t.push(a,0);$.push(o,0)}}for(var n=0;n<$.length;n+=2){var o=$[n],t=A[o],c=B(s,a,o);
$[n+1]=c;t[q(t,a)+1]=c}}function B(A,s,a){var M=0,$=4096,U=s*4400,o=a*4400;for(var t=0;t<16;t++){if(A[U+4360+t]==0||A[o+4360+t]==0)continue;
for(var c=0;c<16;c++){var H=t<<4|c;if(A[U+4100+H]==0||A[o+4100+H]==0)continue;var F=U+(H<<4),i=o+(H<<4);
for(var n=0;n<16;n++)M+=Math.sqrt(A[F+n]*A[i+n])}}var X=M/Math.sqrt(A[U+$]*A[o+$]);return~~(999.99999*X)}}());
T.xQ.oj=function(){var z,q,e,B=0,A=0;function V(o,t,c){var H=[],F=c,i=c,X=c>>>2;for(var K=0;K<t;K++)for(var f=0;
f<o;f++){var d=~~((f+.5)*F),L=~~((K+.5)*i),G=1e9,x=Math.max(0,d-X),O=Math.min(q,d+X+1),v=Math.max(0,L-X),C=Math.min(e,L+X+1);
for(var S=v;S<C;S++)for(var j=x;j<O;j++){var w=P(j,S);if(w<G){d=j;L=S;G=w}}H.push(d,L)}return H}function P(o,t){var c=(t*q+o)*4,H=q*4,F=D(c-4,c)+D(c,c+4),i=D(c-H,c)+D(c,c+H);
return F+i}function D(o,t){var c=z[o]-z[t],H=z[o+1]-z[t+1],F=z[o+2]-z[t+2];return c*c+H*H+F*F}function s(o,t,c,H){A++;
if(H<B)B=H;o[H].push(t,c)}function a(o){A--;while(o[B].length==0)B++}function M(o,t,c,H,F){var i=(c*q+t)*4,X=H[F+5],K=1/X,f=z[i]*X-H[F],d=z[i+1]*X-H[F+1],L=z[i+2]*X-H[F+2],G=t*X-H[F+3],x=c*X-H[F+4],O=Math.sqrt(f*f+d*d+L*L),v=Math.sqrt(G*G+x*x);
return~~((O+o*v)*K+.5)}function $(o,t,c,H,F){z=o;q=t;e=c;B=0;A=0;var i=q*e,X=Math.round(Math.min(q,e)/(H?H:30));
if(X==0)X=1;var K=(F?F:30)/X,f=Math.floor(q/X),d=Math.floor(e/X),L=new Uint16Array(i);for(var n=0;n<i;
n++)L[n]=65535;var G=V(f,d,X),x=G.length>>>1;if(x>65535)throw x;var O=new Uint32Array(x*6),v=[];for(var n=0;
n<1e3+e;n++)v.push([]);var C=1e3*700/(q*e),S=Math.floor(d*C);S=Math.min(d,Math.max(4,S));S=d;var O=new Uint32Array(x*6);
for(var j=0;j<d;j+=S){var w=Math.min(j+S,d);for(var u=j;u<w;u++)for(var l=0;l<f;l++){var n=u*f+l;s(v,G[n*2+1]<<16|G[n*2],n,0)}var I=Math.min(e,w*X);
if(j+S>=d)I=e;U(O,v,L,K,I)}z=null;return{Vt:L,W3:x,uJ:O,a4T:K}}function U(o,t,c,H,F){while(A!=0){a(t);
var i=t[B].pop(),X=t[B].pop(),K=X>>>16,f=X&65535,n=K*q+f;if(c[n]==null)throw"e";if(c[n]==65535){var d=i*6,L=n<<2;
c[n]=i;o[d]+=z[L];o[d+1]+=z[L+1];o[d+2]+=z[L+2];o[d+3]+=f;o[d+4]+=K;o[d+5]++;if(K!=F-1&&c[n+q]==65535)s(t,K+1<<16|f,i,M(H,f,K+1,o,d));
if(K!=0&&c[n-q]==65535)s(t,K-1<<16|f,i,M(H,f,K-1,o,d));if(f!=0&&c[n-1]==65535)s(t,K<<16|f-1,i,M(H,f-1,K,o,d));
if(f!=q-1&&c[n+1]==65535)s(t,K<<16|f+1,i,M(H,f+1,K,o,d))}}}$.V9=function(o,t,c,H,F,i){z=o;q=t;e=c;var X=H.W3=H.W3+1,K=H.Vt,f=H.uJ,d=H.uJ=new Uint32Array(X*6);
d.set(f,0);var L=K[F[1]*q+F[0]];for(var n=0;n<K.length;n++)if(K[n]==L)K[n]=65535;for(var n=0;n<6;n++)d[L*6+n]=0;
var G=[];for(var n=0;n<1e3+e;n++)G.push([]);for(var n=0;n<F.length;n+=2)s(G,F[n+1]<<16|F[n],L,0);for(var n=0;
n<i.length;n+=2)s(G,i[n+1]<<16|i[n],X-1,0);U(d,G,K,H.a4T,e);z=null};return $}();T.vT={};T.vT.a43=function(){var z=11,q=7,e=z>>>1,hE=q>>>1,V=2,P=2e3/V,D=[],A=null,s="";
function B(M,$,U){var o=(M[$+0]-M[U+0])*(1/255),t=(M[$+1]-M[U+1])*(1/255),c=(M[$+2]-M[U+2])*(1/255),H=(M[$+3]-M[U+3])*(1/255),F=o*o*.125+t*t*.25+c*c*.5+H*H;
return D[~~(F*P)]}function a(M,$,U,o,t,c,H){var F=Date.now(),i=!1,X=T.Gx(M),K=T.K8(X);if(H!=0){var f=M;
M=M.slice(0);T.a9k(M,M);if(i)console.log(Date.now()-F,"to YCbCr");F=Date.now();var d=T.n($*U,X),L=[1,2];
for(var n=0;n<2;n++){T.bl(M,d,L[n]);T.BJ.uR(d,new kk(0,0,$,U),6+Math.round(H*6),1);T.yR(d,M,L[n])}if(i)console.log(Date.now()-F,"blur");
F=Date.now();T.a3f(M,M);if(i)console.log(Date.now()-F,"to RGB");F=Date.now();if(H!=1)for(var n=0;n<M.length;
n+=4){M[n]=H*M[n]+(1-H)*f[n];M[n+1]=H*M[n+1]+(1-H)*f[n+1];M[n+2]=H*M[n+2]+(1-H)*f[n+2]}if(i)console.log(Date.now()-F,"combine with the old");
F=Date.now()}if(t==0){o.set(M);return}var G=T.n($*U,X);T.tI(M,G);var x=T.EZ(G,8),O=UZIP.adler(x,0,$*U);
if(O!=s){var v=T.xH(x,$,U);A=T.n($*U*4);s=O;var C=[1,1/9,1/25,1/49,1/81];for(var S=0;S<U;S++)for(var j=0;
j<$;j++)for(var n=0;n<4;n++){var w=Math.max(1,j-n),u=Math.min($-1,j+n),l=Math.max(1,S-n),I=Math.min(U-1,S+n),Q=T.MB(v,$,w,u,l,I);
A[(S*$+j)*4+n]=Q*C[n]}if(i)console.log(Date.now()-F,O);F=Date.now()}if(ee.$x){var b=ee.xu(0,$,U,X);b.set(M);
var p=ee.xu(1,$,U);p.set(A);var k=ee.xu(2,$,U,X);ee.k$(k);ee.filter.ej({e:ee.filter.ab8,Wk:new Float32Array([1/$,1/U]),ayy:p.nj,anG:t,aL4:c},b.nj);
k.get(o)}else{for(var n=0;n<2e3;n++)D[n]=Math.exp(-(n/2e3)*V*(100+(1-t)*(1-t)*1e4));var g=hE+2;for(var S=g;
S<U-g;S++)for(var j=g;j<$-g;j++){var Y=0,R=0,m=0,Z=0;for(var E=0;E<z;E++)for(var N=0;N<z;N++){var h=j+N-e,j5=S+E-e;
if(h==j&&j5==S||h<g||j5<g||h>=$-g||j5>=U-g)continue;var r=B(A,(S*$+j)*4,(j5*$+h)*4),l8=j5*$+h<<2;Y+=r*M[l8+0];
R+=r*M[l8+1];m+=r*M[l8+2];Z+=r}if(Z==0){continue}var aP=1/Z,bS=(S*$+j)*4;o[bS+0]=(1-c)*aP*Y+c*o[bS+0];
o[bS+1]=(1-c)*aP*R+c*o[bS+1];o[bS+2]=(1-c)*aP*m+c*o[bS+2]}}if(i)console.log(Date.now()-F,"denoise")}return a}();
T.ab$=function(){var z=6,q=z>>>1,e=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],V=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function P(c,H){var F=!1,i=c.length,X=H[0],L=5,x=0,O=0;for(var n=1;n<i;n++)X=X.X8(H[n]);if((X.s&1)!=0)X.s++;
if((X.T&1)!=0)X.T++;var K=X.s,f=X.T,d=Math.max(K,f);while(d>>>L>8&&L<10)L++;var G=1<<L;if(K%G!=0)x=G-K%G;
if(f%G!=0)O=G-f%G;X.Gm(x>>>1,O>>>1);K=X.s;f=X.T;if(K%G!=0||f%G!=0)throw"e";var v=Date.now(),C=[],S=T.n(X.D()),j=[],w=K*f,u=new Float32Array(K*f*2);
for(var n=0;n<i;n++){var l=H[n],I=T.n(l.D());T.tI(c[n],I);S.fill(0);T.KY(I,l,S,X);C.push(S.slice(0));
var Q=l.x-X.x,b=l.y-X.y,p=Q+l.s-2,k=b+l.T;for(var g=0;g<l.T;g++){var Y=(g+b)*K;for(var R=0;R<Q;R++)S[Y+R]=S[Y+Q];
for(var R=p;R<K;R++)S[Y+R]=S[Y+p-1]}for(var R=0;R<K;R++){for(var g=0;g<b;g++)S[g*K+R]=S[b*K+R];for(var g=k;
g<f;g++)S[g*K+R]=S[(k-1)*K+R]}var m=new Float32Array(K*f*2);j.push(m);for(var Z=0;Z<w;Z++)m[Z*2]=S[Z]*(1/255);
s(m,u,K,f,L);D(m,K,f,L)}if(F)console.log("to gray, decompose",Date.now()-v);v=Date.now();var E=T.n(K*f);
for(var g=0;g<f;g++)for(var R=0;R<K;R++){var N=0,h=0,j5=g*K+R<<1;for(var n=0;n<i;n++){var r=j[n],l8=r[j5],aP=r[j5+1],bS=l8*l8+aP*aP;
if(bS>h){h=bS;N=n}}E[j5>>>1]=N}if(F)console.log("max abs value",Date.now()-v);v=Date.now();B(E,K,f,L);
A(E,K,f);if(F)console.log("denoise",Date.now()-v);v=Date.now();var kR=u.slice(0);for(var g=0;g<f;g++)for(var R=0;
R<K;R++){var n=g*K+R,j5=n<<1,j1=j[E[n]];kR[j5]=j1[j5];kR[j5+1]=j1[j5+1]}a(kR,u,K,f,L);if(F)console.log("compose",Date.now()-v);
v=Date.now();for(var Z=0;Z<w;Z++){var bS=kR[Z*2]*255,N=0,h=1e9;for(var n=0;n<i;n++){var f6=Math.abs(C[n][Z]-bS);
if(f6<h){h=f6;N=n}C[n][Z]=0}C[N][Z]=255}if(F)console.log("toRGB",Date.now()-v);v=Date.now();return[C,X]}function D(c,H,F,i){var X=H>>>i,K=F>>>i,f=1e-4;
for(var d=0;d<F;d++)for(var L=0;L<H;L++){if(L<X&&d<K)continue;var G=(d*H+L)*2,x=c[G],O=c[G+1],v=x*x+O*O;
if(v<f)x=O=0;else{var C=(v-f)/v;x*=C;O*=C}c[G]=x;c[G+1]=O}}function B(c,H,F,i){for(var X=0;X<i;X++){var K=H>>>X,f=F>>>X,d=K>>>1,L=f>>>1;
for(var G=0;G<L;G++)for(var x=0;x<d;x++){var O=G*H+d+x,v=(G+L)*H+d+x,C=(G+L)*H+x,S=c[O],j=c[v],w=c[C];
if(S==j==w){}else if(S==j)c[C]=S;else if(j==w)c[O]=j;else if(S==w)c[v]=S}}}function A(c,H,F){for(var i=1;
i<F-1;i++)for(var X=1;X<H-1;X++){var n=i*H+X,K=c[n-H],f=c[n-1],d=c[n],L=c[n+1],G=c[n+H],x=K==f&&K==L||K==L&&L==G||L==G&&f==G||K==f&&G==f;
if(x)c[n]=K==f?K:f==L?f:K;else if(d>K&&d>f&&d>L&&d>G)c[n]=K+f+L+G>>>2;else if(d<K&&d<f&&d<L&&d<G)c[n]=K+f+L+G>>>2}}function s(c,H,F,i,X){for(var n=0;
n<X;n++){var K=F>>>n,f=i>>>n;M(c,H,F,i,K,f)}}function a(c,H,F,i,X){for(var n=X-1;n>=0;n--){var K=F>>n,f=i>>n;
$(c,H,F,i,K,f)}}function M(c,H,F,i,X,K){o(c,H,F,i,X,K,!0);o(H,c,F,i,X,K,!1)}function $(c,H,F,i,X,K){t(c,H,F,i,X,K,!0);
t(H,c,F,i,X,K,!1)}function U(c,H,F,i,X,K){var f=F*i+H<<1;c[f]=X;c[f+1]=K}function o(c,H,F,i,X,K,f){var hp=f?X:K,d=f?K:X,L=d>>>1;
for(var G=0;G<hp;G++){for(var x=0;x<d;x+=2){var O=0,v=0,C=0,S=0,j=x>>>1;for(var w=0;w<6;w++){var u=x+w-3;
if(u<0)u=d+u;if(u>=d)u=u-d;var l=(f?u*F+G:G*F+u)<<1,I=c[l],Q=c[l+1],b=e[w],p=V[w];O+=I*b[0]-Q*b[1];v+=Q*b[0]+I*b[1];
C+=I*p[0]-Q*p[1];S+=Q*p[0]+I*p[1]}if(f){U(H,G,j,F,O,v);U(H,G,j+L,F,C,S)}else{U(H,j,G,F,O,v);U(H,j+L,G,F,C,S)}}}}function t(c,H,F,i,X,K,f){var hp=f?X:K,d=f?K:X,L=d>>>1,G,x,O,v;
for(var C=0;C<hp;C++){for(var S=0;S<d;S++){var j=0,w=0;for(var u=S+3&1;u<6;u+=2){var l=S-u+3>>1;if(l<0)l=L+l;
if(l>=L)l=l-L;if(f){G=C;x=l;O=C;v=l+L}else{x=C;G=l;v=C;O=l+L}var I=x*F+G<<1,Q=v*F+O<<1,b=c[I],p=c[I+1],k=c[Q],g=c[Q+1],Y=e[u],R=V[u];
j+=b*Y[0]+k*R[0];j+=p*Y[1]+g*R[1];w+=p*Y[0]+g*R[0];w-=b*Y[1]+k*R[1]}if(f)U(H,C,S,F,j,w);else U(H,S,C,F,j,w)}}}return{eM:P}}();
T.agT=function(){var z=Math.floor(12e3/8),q,e,V,P;function D($,U,o,t){var c=UPNG.quantize.findNearest,H=[$,new kk(0,0,U,o)],i;
T.Jr(H);var F=Date.now(),X=U+o>>>1;for(var n=X<1e3?2:4;n>=0;n-=2){var K=H[n+1],e=K.s,V=K.T;if(i==null){i=new Uint8Array(e*V);
c(H[n],i,t)}B(H[n],e,V,t,i);if(n!=0){var f=H[n-1],d=f.s,L=f.T,G=new Uint8Array(d*L);for(var x=0;x<L;
x++)for(var O=0;O<d;O++)G[x*d+O]=i[(x>>>1)*e+(O>>>1)];i=G}}return i}function B($,U,o,t,c){q=$;e=U;V=o;
P=t;var H=P.length>>>2,F=[-1,-e,1,e],i=[-1,-e,-e+1,2,e+1,e],X=[-1,-e,1,e+1,e+e,e-1],K=8,f=e+V>>>1,d=1e9;
while(f>512){K>>=1;f>>=1}K=Math.max(1,Math.min(4,K));for(var L=0;L<K;L++){var G=0;for(var x=0;x<V;x++)for(var O=0;
O<e;O++){if(a(c,O,x)<2)continue;var v=x*e+O,C=c[v],S=1e9,j=0,w=O==0||x==0||O>e-3||x>V-3;if(w){S=1e9;
for(var n=0;n<H;n++){c[v]=n;var u=M(c,O,x,2);if(u<S){S=u;j=n}}c[v]=j;if(j==C&&O+1<e&&c[v+1]==C){S=1e9;
for(var n=0;n<H;n++){c[v]=c[v+1]=n;var u=M(c,O,x,2)+M(c,O+1,x,2);if(u<S){S=u;j=n}}c[v]=c[v+1]=j}if(j==C&&x+1<V&&c[v+e]==C){S=1e9;
for(var n=0;n<H;n++){c[v]=c[v+e]=n;var u=M(c,O,x,2)+M(c,O,x+1,2);if(u<S){S=u;j=n}}c[v]=c[v+e]=j}}else{S=1e9;
j=-1;for(var n=0;n<4;n++){var l=c[v+F[n]];if(l==j)continue;c[v]=l;var u=M(c,O,x,2);if(u<S){S=u;j=l}}c[v]=j;
if(j==C&&O+1<e&&c[v+1]==C){S=1e9;j=-1;for(var n=0;n<6;n++){var l=c[v+i[n]];if(l==j)continue;c[v]=c[v+1]=l;
var u=M(c,O,x,2)+M(c,O+1,x,2);if(u<S){S=u;j=l}}c[v]=c[v+1]=j}if(j==C&&x+1<V&&c[v+e]==C){S=1e9;j=-1;for(var n=0;
n<6;n++){var l=c[v+X[n]];if(l==j)continue;c[v]=c[v+e]=l;var u=M(c,O,x,2)+M(c,O,x+1,2);if(u<S){S=u;j=l}}c[v]=c[v+e]=j}}G+=S}}}function A($){var U=0;
for(var o=0;o<V;o++)for(var t=0;t<e;t++)U+=M($,t,o,1);return U/(e*V)}function s($,U,o){var n=o*e+U,t=n*4,c=$[n]*4,H=q[t]-P[c],F=q[t+1]-P[c+1],i=q[t+2]-P[c+2],X=q[t+3]-P[c+3];
return H*H+F*F+i*i+X*X}function a($,U,o){if(U<0||U>=e||o<0||o>=V)throw"e";var n=o*e+U,t=$[n],c=0;if(o>0&&t!=$[n-e])c+=2;
if(U>0&&t!=$[n-1])c+=2;if(U<e-1&&t!=$[n+1])c+=2;if(o<V-1&&t!=$[n+e])c+=2;if(o>0&&U>0&&t!=$[n-e-1])c++;
if(o<V-1&&U>0&&t!=$[n+e-1])c++;if(o>0&&U<e-1&&t!=$[n-e+1])c++;if(o<V-1&&U<e-1&&t!=$[n+e+1])c++;return c}function M($,U,o,t){return s($,U,o)+a($,U,o)*t*z}return D}();
var jL=function(){function z(){this.D=0;this.Z7=0;this.Iw={};this.lw=[];this.SF=1e5;this.Hb=1e5;this.Pt=-1;
this.B$=-1;this.color=0}function q(hE){this.q=hE;this.gT=new Array(hE);this.I$=new Array(hE*6);this.a20=0;
this.Jq=new Array(hE*2);this.alpha=new Array(hE);this.kw=new Array(hE);this.il=new Array(hE)}function e(P,D,B,A){function s(H,F,P,D){return P[D*F+H]}function a(n){var L=P.length;
while(n<L&&P[n]==0)n++;return n<L?n:-1}function M(H,F,L){for(var n=2;n<5;n++){var G=0;for(var x=-n+1;
x<=n-1;x++){G+=s(H+x,F+n-1,P,D)==L?1:-1;G+=s(H+n-1,F+x-1,P,D)==L?1:-1;G+=s(H+x-1,F-n,P,D)==L?1:-1;G+=s(H-n,F+x,P,D)==L?1:-1}if(G>0)return 1;
else if(G<0)return 0}return 0}function $(L,t){var c=new z,H=L,F=t,G=0,x=1,O;c.color=P[t*D+L];c.sign=s(L,t,P,D)==c.color?"+":"-";
while(1){c.lw.push(H,F);if(H>c.Pt)c.Pt=H;if(H<c.SF)c.SF=H;if(F>c.B$)c.B$=F;if(F<c.Hb)c.Hb=F;c.Z7++;H+=G;
F+=x;c.D-=H*x;if(H==L&&F==t)break;var v=s(H+(G+x-1>>1),F+(x-G-1>>1),P,D)==c.color,C=s(H+(G-x-1>>1),F+(x+G-1>>1),P,D)==c.color;
if(C&&!v){if(A.qq=="right"||A.qq=="black"&&c.sign=="+"||A.qq=="white"&&c.sign=="-"||A.qq=="majority"&&M(H,F,c.color)||A.qq=="minority"&&!M(H,F,c.color)){O=G;
G=-x;x=O}else{O=G;G=x;x=-O}}else if(C){O=G;G=-x;x=O}else if(!v){O=G;G=x;x=-O}}return c}var U=0,o=[];
while(!0){var U=a(U);if(U==-1)break;var t=Math.floor(U/D),c=$(U-t*D,t);for(var n=0;n<c.lw.length-2;n+=2){var H=c.lw[n],F=c.lw[n+1],i=F*D+H;
if(H==c.lw[n+2]&&F+1==c.lw[n+3]&&P[i]!=0)jL.fill(i,P,D,0)}if(c.D>A.aay)o.push(c)}for(var n=0;n<o.length;
n++)o[n].parent=-1;var X=Date.now();for(var n=1;n<o.length;n++){var K=o[n];for(var f=n-1;f>=0;f--){var d=o[f];
if(K.SF<d.SF||K.Pt>d.Pt||K.Hb<d.Hb||K.B$>d.B$)continue;if(!jL.Sg(d.lw,K.lw[0]+.5,K.lw[1]+.5))continue;
K.parent=f;break}}return o}function V(P,D){function B(G,x,O,v,C){this.x=G;this.y=x;this.iF=O;this.$M=v;
this.DT=C}function A(G,hE){return(hE+G)%hE}function s(G,x,O,v){return G*v-O*x}function a(G,x,O,v){return G*O+x*v}function M(G,x,O){if(G<=O)return G<=x&&x<O;
else return G<=x||x<O}function $(G,x,O){var v=0;v+=x*G[0]*x;v+=x*G[1]*O;v+=x*G[2];v+=O*G[3]*x;v+=O*G[4]*O;
v+=O*G[5];v+=G[6]*x;v+=G[7]*O;v+=G[8];return v}function U(G,x,O){return x+G*(O-x)}function o(G,x,O,v){var C=Math.sign(O-G),S=-Math.sign(v-x);
return C*(O-G)-S*(v-x)}function t(G,x){return Math.sqrt(G*G+x*x)}function c(G,x,O,v,C){var S=1-G;return S*S*S*x+3*(S*S*G)*O+3*(G*G*S)*v+G*G*G*C}function H(G,x,O,v,C,S,j,w){var u=s(G,x,j,w),l=s(O,v,j,w),I=s(C,S,j,w),Q=u-2*l+I,b=-2*u+2*l,p=u,k=b*b-4*Q*p;
if(Q==0||k<0)return-1;var g=Math.sqrt(k),Y=(-b+g)/(2*Q),R=(-b-g)/(2*Q);if(Y>=0&&Y<=1)return Y;else if(R>=0&&R<=1)return R;
else return-1}function F(L){var n,G,x;L.JR=L.lw[0];L.abj=L.lw[1];L.amL=[];var O=L.amL;O.push(new B(0,0,0,0,0));
for(n=0;n<L.Z7;n++){G=L.lw[n<<1]-L.JR;x=L.lw[(n<<1)+1]-L.abj;O.push(new B(O[n].x+G,O[n].y+x,O[n].iF+G*x,O[n].$M+G*G,O[n].DT+x*x))}}function i(L){var hE=L.Z7,G=L.lw,x,O=new Array(hE),v=new Array(hE),C=new Array(4),S,j,w,u,l,I,Q,b,p,k,g,n,Y,R,m,Z,E,N,h=0;
L.LW=new Array(hE);for(n=hE-1;n>=0;n--){if(G[n<<1]!=G[h<<1]&&G[(n<<1)+1]!=G[(h<<1)+1])h=n+1;v[n]=h}for(n=hE-1;
n>=0;n--){var j5=A(n+1,hE)<<1;C[0]=C[1]=C[2]=C[3]=0;x=(3+3*(G[j5]-G[n<<1])+(G[j5+1]-G[(n<<1)+1]))/2;
C[x]++;S=0;j=0;w=0;u=0;h=v[n];R=n;while(1){g=0;x=(3+3*Math.sign(G[h*2]-G[R*2])+Math.sign(G[h*2+1]-G[R*2+1]))/2;
C[x]++;if(C[0]&&C[1]&&C[2]&&C[3]){O[n]=R;g=1;break}p=G[h*2]-G[n*2];k=G[h*2+1]-G[n*2+1];if(s(S,j,p,k)<0||s(w,u,p,k)>0){break}if(Math.abs(p)<=1&&Math.abs(k)<=1){}else{l=p+(k>=0&&(k>0||p<0)?1:-1);
I=k+(p<=0&&(p<0||k<0)?1:-1);if(s(S,j,l,I)>=0){S=l;j=I}l=p+(k<=0&&(k<0||p<0)?1:-1);I=k+(p>=0&&(p>0||k<0)?1:-1);
if(s(w,u,l,I)<=0){w=l;u=I}}R=h;h=v[R];if(!M(h,n,R)){break}}if(g==0){Q=Math.sign(G[h*2]-G[R*2]);b=Math.sign(G[h*2+1]-G[R*2+1]);
p=G[R*2]-G[n*2];k=G[R*2+1]-G[n*2+1];m=s(S,j,p,k);Z=s(S,j,Q,b);E=s(w,u,p,k);N=s(w,u,Q,b);Y=1e7;if(Z<0){Y=Math.floor(m/-Z)}if(N>0){Y=Math.min(Y,Math.floor(-E/N))}O[n]=A(R+Y,hE)}}Y=O[hE-1];
L.LW[hE-1]=Y;for(n=hE-2;n>=0;n--){if(M(n+1,O[n],Y)){Y=O[n]}L.LW[n]=Y}for(n=hE-1;M(A(n+1,hE),Y,L.LW[n]);
n--){L.LW[n]=Y}}function X(L){function G(L,n,x){var hE=L.Z7,p=L.lw,k=L.amL,g,Y,R,m,Z,v,E,N,b,h,j5,r,l8,aP,bS=0;
if(x>=hE){x-=hE;bS=1}if(bS==0){g=k[x+1].x-k[n].x;Y=k[x+1].y-k[n].y;m=k[x+1].$M-k[n].$M;R=k[x+1].iF-k[n].iF;
Z=k[x+1].DT-k[n].DT;v=x+1-n}else{g=k[x+1].x-k[n].x+k[hE].x;Y=k[x+1].y-k[n].y+k[hE].y;m=k[x+1].$M-k[n].$M+k[hE].$M;
R=k[x+1].iF-k[n].iF+k[hE].iF;Z=k[x+1].DT-k[n].DT+k[hE].DT;v=x+1-n+hE}j5=(p[n<<1]+p[x<<1])/2-p[0];r=(p[(n<<1)+1]+p[(x<<1)+1])/2-p[1];
aP=p[x<<1]-p[n<<1];l8=-(p[(x<<1)+1]-p[(n<<1)+1]);E=(m-2*g*j5)/v+j5*j5;N=(R-g*r-Y*j5)/v+j5*r;b=(Z-2*Y*r)/v+r*r;
h=l8*l8*E+2*l8*aP*N+aP*aP*b;return Math.sqrt(h)}var n,x,O,v,hE=L.Z7,C=new Array(hE+1),S=new Array(hE+1),j=new Array(hE),w=new Array(hE+1),u=new Array(hE+1),l=new Array(hE+1),I,Q,b;
for(n=0;n<hE;n++){b=A(L.LW[A(n-1,hE)]-1,hE);if(b==n){b=A(n+1,hE)}if(b<n){j[n]=hE}else{j[n]=b}}x=1;for(n=0;
n<hE;n++){while(x<=j[n]){w[x]=n;x++}}n=0;for(x=0;n<hE;x++){u[x]=n;n=j[n]}u[x]=hE;O=x;n=hE;for(x=O;x>0;
x--){l[x]=n;n=w[n]}l[0]=0;C[0]=0;for(x=1;x<=O;x++){for(n=l[x];n<=u[x];n++){Q=-1;for(v=u[x-1];v>=w[n];
v--){I=G(L,v,n)+C[v];if(Q<0||I<Q){S[n]=v;Q=I}}C[n]=Q}}L.F=O;L.aae=new Array(O);for(n=hE,x=O-1;n>0;x--){n=S[n];
L.aae[x]=n}}function K(L){function G(L,n,I,j,w,kR){var hE=L.Z7,j1=L.amL,f6=0,b;while(I>=hE){I-=hE;f6+=1}while(n>=hE){n-=hE;
f6-=1}while(I<0){I+=hE;f6-=1}while(n<0){n+=hE;f6+=1}var gx=j1[I+1].x-j1[n].x+f6*j1[hE].x,lC=j1[I+1].y-j1[n].y+f6*j1[hE].y,g2=j1[I+1].$M-j1[n].$M+f6*j1[hE].$M,dv=j1[I+1].iF-j1[n].iF+f6*j1[hE].iF,bv=j1[I+1].DT-j1[n].DT+f6*j1[hE].DT,Q=I+1-n+f6*hE;
j[kR]=gx/Q;j[kR+1]=lC/Q;var eo=(g2-gx*gx/Q)/Q,aL=(dv-gx*lC/Q)/Q,dh=(bv-lC*lC/Q)/Q,eM=(eo+dh+Math.sqrt((eo-dh)*(eo-dh)+4*aL*aL))/2;
eo-=eM;dh-=eM;if(Math.abs(eo)>=Math.abs(dh)){b=Math.sqrt(eo*eo+aL*aL);if(b!=0){w[kR]=-aL/b;w[kR+1]=eo/b}}else{b=Math.sqrt(dh*dh+aL*aL);
if(b!=0){w[kR]=-dh/b;w[kR+1]=aL/b}}if(b==0){w[kR]=w[kR+1]=0}}var x=L.F,O=L.aae,hE=L.Z7,v=L.lw,C=L.JR,S=L.abj,j=new Array(x*2),w=new Array(x*2),u=new Array(x),l=new Array(3),n,I,Q,b,Y,R,m,Z,E,N,h;
L.Iw=new q(x);for(n=0;n<x;n++){I=O[A(n+1,x)];I=A(I-O[n],hE)+O[n];j[n<<1]=0;j[(n<<1)+1]=0;w[n<<1]=0;w[(n<<1)+1]=0;
G(L,O[n],I,j,w,n<<1)}for(n=0;n<x;n++){u[n]=[0,0,0,0,0,0,0,0,0];var p=w[n<<1]*w[n<<1]+w[(n<<1)+1]*w[(n<<1)+1],k=1/p;
if(p!=0){l[0]=w[(n<<1)+1];l[1]=-w[n<<1];l[2]=-l[1]*j[(n<<1)+1]-l[0]*j[n<<1];for(b=0;b<3;b++){u[n][b*3+0]=l[b]*l[0]*k;
u[n][b*3+1]=l[b]*l[1]*k;u[n][b*3+2]=l[b]*l[2]*k}}}var g=[0,0,0,0,0,0,0,0,0];for(n=0;n<x;n++){g[0]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=0;
var j5=v[O[n]<<1]-C,r=v[(O[n]<<1)+1]-S,l8=0,aP=0;I=A(n-1,x);for(b=0;b<9;b+=3){g[b+0]=u[I][b+0]+u[n][b+0];
g[b+1]=u[I][b+1]+u[n][b+1];g[b+2]=u[I][b+2]+u[n][b+2]}while(1){var bS=g[0]*g[4]-g[1]*g[3];if(bS!=0){l8=(-g[2]*g[4]+g[5]*g[0])/bS;
aP=(g[2]*g[3]-g[5]*g[0])/bS;break}if(g[0]>g[4]){l[0]=-g[1];l[1]=g[0]}else if(g[4]){l[0]=-g[4];l[1]=g[3]}else{l[0]=1;
l[1]=0}var p=l[0]*l[0]+l[1]*l[1],k=1/p;l[2]=-l[1]*r-l[0]*j5;for(b=0;b<3;b++){g[b*3+0]+=l[b]*l[0]*k;g[b*3+1]+=l[b]*l[1]*k;
g[b*3+2]+=l[b]*l[2]*k}}Y=Math.abs(l8-j5);R=Math.abs(aP-r);if(Y<=.5&&R<=.5){L.Iw.Jq[n<<1]=l8+C;L.Iw.Jq[(n<<1)+1]=aP+S;
continue}m=$(g,j5,r);E=j5;N=r;if(g[0]!=0){for(h=0;h<2;h++){aP=r-.5+h;l8=-(g[1]*aP+g[2])/g[0];Y=Math.abs(l8-j5);
Z=$(g,l8,aP);if(Y<=.5&&Z<m){m=Z;E=l8;N=aP}}}if(g[4]!=0){for(h=0;h<2;h++){l8=j5-.5+h;aP=-(g[3]*l8+g[5])/g[4];
R=Math.abs(aP-r);Z=$(g,l8,aP);if(R<=.5&&Z<m){m=Z;E=l8;N=aP}}}for(b=0;b<2;b++){for(Q=0;Q<2;Q++){l8=j5-.5+b;
aP=r-.5+Q;Z=$(g,l8,aP);if(Z<m){m=Z;E=l8;N=aP}}}L.Iw.Jq[n<<1]=E+C;L.Iw.Jq[(n<<1)+1]=N+S}}function f(L){var G=L.Iw.q,x=L.Iw,n,O,v,C,S,j,w,u,l;
for(n=0;n<G;n++){O=A(n+1,G);v=A(n+2,G);var I=x.Jq[n<<1],Q=x.Jq[(n<<1)+1],b=x.Jq[v<<1],p=x.Jq[(v<<1)+1],k=x.Jq[O<<1],g=x.Jq[(O<<1)+1],Y=U(.5,b,k),R=U(.5,p,g);
S=o(I,Q,b,p);if(S!=0){C=s(k-I,g-Q,b-I,p-Q)/S;C=Math.abs(C);j=C>1?1-1/C:0;j=j*(1/.75)}else{j=4/3}x.kw[O]=j;
var m=3*O<<1;if(j>=D.ayY){x.gT[O]=0;x.I$[m+0]=x.I$[m+1]=0;x.I$[m+2]=k;x.I$[m+3]=g;x.I$[m+4]=Y;x.I$[m+5]=R}else{if(j<.55){j=.55}else if(j>1){j=1}var Z=.5+.5*j;
x.gT[O]=1;x.I$[m]=U(Z,I,k);x.I$[m+1]=U(Z,Q,g);x.I$[m+2]=U(Z,b,k);x.I$[m+3]=U(Z,p,g);x.I$[m+4]=Y;x.I$[m+5]=R}x.alpha[O]=j;
x.il[O]=.5}x.asy=1}function d(L){function G(){this.Oq=0;this.akq=0;this.aJM=0;this.a0Y=0;this.aEe=0;
this.L=0;this.fY=0;this.alpha=0}function x(L,n,I,jJ,iL,E,N){var v=L.Iw.q,bz=L.Iw.I$,ks=L.Iw.Jq;if(n==I)return 1;
var gr=n,k=A(n+1,v),hg=A(gr+1,v),dv=ks[n<<1],bv=ks[(n<<1)+1],ci=ks[k<<1],fK=ks[(k<<1)+1],jN=E[hg];if(jN==0)return 1;
var dD=t(dv-ci,bv-fK);for(gr=hg;gr!=I;gr=hg){var hg=A(gr+1,v),eF=A(gr+2,v),io=ks[hg<<1],la=ks[(hg<<1)+1],e9=ks[eF<<1],gM=ks[(eF<<1)+1];
if(E[hg]!=jN)return 1;if(Math.sign(s(ci-dv,fK-bv,e9-io,gM-la))!=jN)return 1;if(a(ci-dv,fK-bv,e9-io,gM-la)<dD*t(io-e9,la-gM)*-.999847695156)return 1}var j7=A(n,v)*3+2<<1,cI=A(n+1,v)<<1,dL=A(I,v)<<1,cf=A(I,v)*3+2<<1,kR=bz[j7],j1=bz[j7+1],jA=ks[cI],gI=ks[cI+1],fM=ks[dL],a7=ks[dL+1],k6=bz[cf],fv=bz[cf+1],h=ks[0],j5=ks[1];
j7=I*3+2<<1;var fq=bz[j7],cu=bz[j7+1],g=N[I]-N[n];g-=s(fq-h,cu-j5,fq-h,cu-j5)/2;if(n>=I){g+=N[v]}var ac=jA-kR,hN=gI-j1,cQ=fM-kR,d_=a7-j1,cK=k6-kR,cc=fv-j1,aH=s(ac,hN,cQ,d_),jj=s(ac,hN,cK,cc),iG=s(cQ,d_,cK,cc),hc=aH+iG-jj;
if(jj==aH)return 1;var Z=iG/(iG-hc),m=jj/(jj-aH),kD=jj*Z/2;if(kD==0)return 1;var l2=g/kD,Y=2-Math.sqrt(4-l2/.3);
jJ.akq=U(Z*Y,kR,jA);jJ.aJM=U(Z*Y,j1,gI);jJ.a0Y=U(m*Y,k6,fM);jJ.aEe=U(m*Y,fv,a7);jJ.alpha=Y;jJ.L=Z;jJ.fY=m;
jA=jJ.akq;gI=jJ.aJM;fM=jJ.a0Y;a7=jJ.aEe;jJ.Oq=0;for(gr=A(n+1,v);gr!=I;gr=hg){hg=A(gr+1,v);var fZ=ks[gr<<1],g5=ks[(gr<<1)+1],io=ks[hg<<1],la=ks[(hg<<1)+1];
Z=H(jA-kR,gI-j1,fM-jA,a7-gI,k6-fM,fv-a7,io-fZ,la-g5);if(Z<-.5)return 1;var d4=c(Z,kR,jA,fM,k6),hx=c(Z,j1,gI,a7,fv),dD=t(io-fZ,la-g5);
if(dD==0)return 1;var hJ=s(io-fZ,la-g5,d4-fZ,hx-g5)/dD;if(Math.abs(hJ)>iL)return 1;if(a(io-fZ,la-g5,d4-fZ,hx-g5)<0||a(fZ-io,g5-la,d4-io,hx-la)<0){return 1}jJ.Oq+=hJ*hJ}for(gr=n;
gr!=I;gr=hg){hg=A(gr+1,v);var j7=gr*3+2<<1,cI=hg*3+2<<1,gU=bz[j7],lg=bz[j7+1],gW=bz[cI],iF=bz[cI+1];
Z=H(jA-kR,gI-j1,fM-jA,a7-gI,k6-fM,fv-a7,gW-gU,iF-lg);if(Z<-.5)return 1;var d4=c(Z,kR,jA,fM,k6),hx=c(Z,j1,gI,a7,fv),dD=t(gW-gU,iF-lg);
if(dD==0)return 1;var hJ=s(gW-gU,iF-lg,d4-gU,hx-lg)/dD,aO=s(gW-gU,iF-lg,ks[hg<<1]-gU,ks[(hg<<1)+1]-lg)/dD;
aO*=.75*L.Iw.alpha[hg];if(aO<0){hJ=-hJ;aO=-aO}if(hJ<aO-iL)return 1;if(hJ<aO){jJ.Oq+=(hJ-aO)*(hJ-aO)}}return 0}var O=L.Iw,v=O.q,C=O.Jq,S=new Array(v+1),j=new Array(v+1),w=new Array(v+1),u=new Array(v+1),l,n,I,Q,b=new G,p,k,g,Y,R,m,Z,E=new Array(v),N=new Array(v+1);
for(n=0;n<v;n++){if(O.gT[n]=="CURVE"){var h=C[A(n-1,v)<<1],j5=C[(A(n-1,v)<<1)+1],r=C[n<<1],l8=C[(n<<1)+1],aP=C[A(n+1,v)<<1],bS=C[(A(n+1,v)<<1)+1];
E[n]=Math.sign(s(r-h,l8-j5,aP-r,bS-l8))}else{E[n]=0}}g=0;N[0]=0;var kR=O.Jq[0],j1=O.Jq[1];for(n=0;n<v;
n++){k=A(n+1,v);if(O.gT[k]=="CURVE"){Y=O.alpha[k];var f6=n*3+2<<1,gx=k*3+2<<1,lC=O.I$[f6],g2=O.I$[f6+1],dv=C[k<<1],bv=C[(k<<1)+1],eo=O.I$[gx],aL=O.I$[gx+1];
g+=.3*Y*(4-Y)*s(dv-lC,bv-g2,eo-lC,aL-g2)/2;g+=s(lC-kR,g2-j1,eo-kR,aL-j1)/2}N[n+1]=g}S[0]=-1;j[0]=0;w[0]=0;
for(I=1;I<=v;I++){S[I]=I-1;j[I]=j[I-1];w[I]=w[I-1]+1;for(n=I-2;n>=0;n--){Q=x(L,n,A(I,v),b,D.ao3,E,N);
if(Q){break}if(w[I]>w[n]+1||w[I]==w[n]+1&&j[I]>j[n]+b.Oq){S[I]=n;j[I]=j[n]+b.Oq;w[I]=w[n]+1;u[I]=b;b=new G}}}l=w[v];
R=new q(l);m=new Array(l);Z=new Array(l);I=v;for(n=l-1;n>=0;n--){var dh=A(I,v),eM=n*3+0<<1,kg=dh*3+0<<1;
if(S[I]==I-1){R.gT[n]=O.gT[dh];R.I$[eM]=O.I$[kg];R.I$[eM+1]=O.I$[kg+1];R.I$[eM+2]=O.I$[kg+2];R.I$[eM+3]=O.I$[kg+3];
R.I$[eM+4]=O.I$[kg+4];R.I$[eM+5]=O.I$[kg+5];R.Jq[n<<1]=O.Jq[dh<<1];R.Jq[(n<<1)+1]=O.Jq[(dh<<1)+1];R.alpha[n]=O.alpha[dh];
R.kw[n]=O.kw[dh];R.il[n]=O.il[dh];m[n]=Z[n]=1}else{R.gT[n]="CURVE";R.I$[eM]=u[I].akq;R.I$[eM+1]=u[I].aJM;
R.I$[eM+2]=u[I].a0Y;R.I$[eM+3]=u[I].aEe;R.I$[eM+4]=O.I$[kg+4];R.I$[eM+5]=O.I$[kg+5];R.Jq[n<<1]=U(u[I].fY,O.I$[kg+4],C[dh<<1]);
R.Jq[(n<<1)+1]=U(u[I].fY,O.I$[kg+5],C[(dh<<1)+1]);R.alpha[n]=u[I].alpha;R.kw[n]=u[I].alpha;m[n]=u[I].fY;
Z[n]=u[I].L}I=S[I]}for(n=0;n<l;n++){k=A(n+1,l);R.il[n]=m[n]/(m[n]+Z[k])}R.asy=1;L.Iw=R}for(var n=0;n<P.length;
n++){var L=P[n];F(L);i(L);X(L);K(L);f(L);if(D.akG)d(L)}}return{ahf:e,a98:V}}();jL.UW=function(z,q,e,V){var P={qq:"minority",aay:V,akG:!0,ayY:1,ao3:.2},D=jL.ahf(z,q,e,P);
jL.a98(D,P);return D};jL.Kn=function(z){var q=[];for(var n=0;n<z.length;n++){var e=z[n],V=e.Iw,P=["M"],D=[V.I$[(V.q-1)*6+4],V.I$[(V.q-1)*6+5]];
for(var B=0;B<V.q;B++){var A=B*6;if(V.gT[B]==1){P.push("C");for(var s=0;s<6;s++)D.push(V.I$[A+s])}else if(V.gT[B]==0){P.push("L");
for(var s=2;s<4;s++)D.push(V.I$[A+s])}}P.push("Z");q.push({parent:e.parent,color:e.color,path:{J:D,_:P}})}return q};
jL.Sg=function(z,q,e){var hE=z.length>>1,V,P=z[2*hE-3]-e,D=z[2*hE-2]-q,B=z[2*hE-1]-e,A=B>P,s=0;for(var n=0;
n<hE;n++){V=D;P=B;D=z[2*n]-q;B=z[2*n+1]-e;if(P==B)continue;A=B>P}for(var n=0;n<hE;n++){V=D;P=B;D=z[2*n]-q;
B=z[2*n+1]-e;if(P<0&&B<0)continue;if(P>0&&B>0)continue;if(V<0&&D<0)continue;if(P==B&&Math.min(V,D)<=0)return!0;
if(P==B)continue;var a=V+(D-V)*-P/(B-P);if(a==0)return!0;if(a>0)s++;if(P==0&&A&&B>P)s--;if(P==0&&!A&&B<P)s--;
A=B>P}return(s&1)==1};jL.fill=function(z,q,e,V){var P=q[z],D=[z],B=0;while(B<D.length){var A=D[B];B++;
q[A]=V;if(q[A-e]==P){D.push(A-e);q[A-e]=254}if(q[A-1]==P){D.push(A-1);q[A-1]=254}if(q[A+1]==P){D.push(A+1);
q[A+1]=254}if(q[A+e]==P){D.push(A+e);q[A+e]=254}}};var cU=function(){function z(a){return Math.max(0,Math.min(1,a))}function q(a,M){var $=M<0?-M:M;
if(a>1)a=.99;a=a*.99;var U=Math.pow($/5,.16),o=Math.pow(2,$<1?$:1+($-1)*.8);if(M<0)o=1/o;a=U*(1-Math.pow(1-a,o))+(1-U)*a;
return a}function e(a,M){var $=M/100;a=a*.99;a=$*(.5-.5*Math.cos(a*Math.PI))+(1-$)*a;return a}function V(a,M){var $=M*.01,U=Math.abs($);
if(M<0)a=Math.max(0,-U*.33+a*(1+U*.33));else{var o=.25+.15*U;if(a<.25)a*=o/.25;else a=o+(1-o)*((a-.25)/(1-.25))}return a}function P(a,M){if(M<0)a=a*(1+862e-6*M);
else a=a*(1+.012*M);return a}var D=T.DB.tX(1,1,1,-.3),B=T.DB.TG(D);function A(a,M,$,U,o,t,c,H,F,i){var X=a[$],K=a[$+1],f=a[$+2],d=T.DB.kF(D,[X,K,f,1]);
X=d[0];K=d[1];f=d[2];X=q(X,U);K=q(K,U);f=q(f,U);var d=T.DB.kF(B,[X,K,f,1]);X=d[0];K=d[1];f=d[2];X=z(X);
K=z(K);f=z(f);X=e(X,o);K=e(K,o);f=e(f,o);X=V(X,c);K=V(K,c);f=V(f,c);X=P(X,t);K=P(K,t);f=P(f,t);var L=lm.auL(X,K,f,H);
X=L[0];K=L[1];f=L[2];X=z(X);K=z(K);f=z(f);if(F||i){var G=new Float32Array(4),x=new kk(0,0,1,1);G[0]=X;
G[1]=K;G[2]=f;if(F)aM.vl(F,G,G,x);if(i)aM.vl(i,G,G,x);X=G[0];K=G[1];f=G[2]}M[$]=X;M[$+1]=K;M[$+2]=f}function s(a,M,$,U,o){var t=o.Ex12?o.Ex12.v:0,c=o.Cr12?o.Cr12.v:0,H=o.Wh12?o.Wh12.v:0,F=o.Bk12?o.Bk12.v:0,i=o.Temp?o.Temp.v:0,X=o.Tint?o.Tint.v:0,K=o.Vibr?o.Vibr.v:0,f=o.Strt?o.Strt.v:0,d=lm.AX(i,X),L=null,G=null;
t+=d.ax6;if(K!=0||f!=0)L=aM.LU("vibA",{Strt:o.Strt,vibrance:o.Vibr});if(o.Crv){var x=ak.g1("curv"),O=!1;
for(var v=0;v<4;v++){var C=["Crv","CrvR","CrvG","CrvB"][v];if(o[C]==null)continue;var S=o[C].v,j=[],w=[];
for(var n=0;n<S.length;n+=2){var u=S[n].v,l=S[n+1].v;w.push(u,l);j.push(T.JQ.Az(u,l,!0))}if(w.join("-")=="0-0-255-255")continue;
k8.H5(x,v,j);O=!0}if(O)G=aM.LU("curv",x)}var I=Date.now();if(U!=a)U.set(a);if(t!=0||c!=0||H!=0||F!=0||i!=0||X!=0||L||G){console.log(t,c,H,F,i,X,L);
var Q=17,b=1/(Q-1),p=Q*Q*Q,k=new Array(p*3);for(var g=0;g<Q;g++)for(var Y=0;Y<Q;Y++)for(var R=0;R<Q;
R++){var n=g*Q*Q+Y*Q+R,m=n*3;k[m]=g*b;k[m+1]=Y*b;k[m+2]=R*b}for(var n=0;n<p;n++)A(k,k,n*3,t,c,H,F,d,L,G);
console.log(Date.now()-I,"making LUT");I=Date.now();ICC.U.applyLUT(k,Q,U,U);console.log(Date.now()-I,"applying LUT");
I=Date.now()}var Z=(o.Hi12?o.Hi12.v:0)*.01,E=(o.Sh12?o.Sh12.v:0)*.01;if(Z!=0||E!=0){var I=Date.now(),N=!1,h=T.n(M*$,32),j5=U.length,r=.3,l8=.59,aP=.11;
for(var n=0;n<j5;n+=4){var bS=U[n+0]*r+U[n+1]*l8+U[n+2]*aP;h[n>>2]=bS<.3?E*3*(.3-bS):Z*.7*(bS-.3)}if(N)console.log(0,Date.now()-I);
I=Date.now();T.BJ.uR(h,new kk(0,0,M,$),8);if(N)console.log(1,Date.now()-I);I=Date.now();for(var l=0;
l<$;l++)for(var u=0;u<M;u++){var n=l*M+u,kR=n*4,j1=1+h[n];U[kR]=z(U[kR]*j1);U[kR+1]=z(U[kR+1]*j1);U[kR+2]=z(U[kR+2]*j1)}if(N)console.log(2,Date.now()-I,M,$);
I=Date.now()}var f6=(o.CrTx?o.CrTx.v:0)*.01,gx=(o.Cl12?o.Cl12.v:0)*.01,lC=(o.Dhze?o.Dhze.v:0)*.01;if(f6!=0||gx!=0){var h=T.n(M*$,32);
for(var n=0;n<U.length;n+=4)h[n>>2]=(U[n+0]+U[n+1]+U[n+2])*.333333;var g2=h.slice(0);T.BJ.uR(g2,new kk(0,0,M,$),16);
if(N)console.log(1,Date.now()-I);I=Date.now();for(var l=0;l<$;l++)for(var u=0;u<M;u++){var n=l*M+u,kR=n*4,bS=h[n],dv=g2[n],g=U[kR],Y=U[kR+1],R=U[kR+2],bv=dv+(bS-dv)*(1+f6*.3)-bS;
g=g+bv;Y=Y+bv;R=R+bv;g=g*(1+gx*(bS-dv));Y=Y*(1+gx*(bS-dv));R=R*(1+gx*(bS-dv));U[kR]=z(g);U[kR+1]=z(Y);
U[kR+2]=z(R)}}var eo=M*$;if(lC!=0){var I=Date.now(),aL=T.n(eo),h=T.n(eo),kg=0;for(var n=0;n<eo;n++){var kR=n<<2;
aL[n]=~~(255*Math.min(U[kR],U[kR+1],U[kR+2]));h[n]=~~(255*(U[kR]+U[kR+1]+U[kR+2])*(1/3))}var dh=Math.round(Math.min(M,$)/80),eM=aL.slice(0);
T.JH.eM(eM,aL,M,$,dh);aL=T.S4.aDw(aL,h,new kk(0,0,M,$),Math.round(dh*3),.1);var jJ=-1;for(var n=0;n<eo;
n++)if(aL[n]>jJ){jJ=aL[n];kg=n}var iL=U[kg*4],bz=U[kg*4+1],ks=U[kg*4+2],gr=(iL+bz+ks)/3;for(var n=0;
n<eo;n++){var kR=n*4,hg=aL[n]*(1/255),ci=1-.9*lC*hg,jN=1/Math.max(ci,.1);U[kR]=z((U[kR]-iL)*jN+iL);U[kR+1]=z((U[kR+1]-bz)*jN+bz);
U[kR+2]=z((U[kR+2]-ks)*jN+ks)}}var dD=(o.LNR?o.LNR.v:0)*.01,eF=(o.CNR?o.CNR.v:0)*.01;if(dD+eF!=0)T.vT.a43(U,M,$,U,dD,0,eF)}return s}();
function cP(){}cP.iA=function(z,q){var e=new Uint8Array(z),V=0,P=q.split("/").pop().split(".")[0];function D(H){for(var n=0;
n<H.length;n++)H[n].v.Nm.v=P+"/"+H[n].v.Nm.v.split("/").pop()}var B={Mf:[],yw:[],list:[]},A=y.mU(e,V);
V+=2;if(A<=2){B=cP.apK(e);D(B.list);return B}var s=y.mU(e,V);V+=2;var a=y.JU(e,V,8);V+=8;var M=y.vQ(e,V);
V+=4;if(M>0)B.Mf=cP.arV(e,V,M,s,A);V+=M;var $=y.JU(e,V,8);V+=8;var U=y.vQ(e,V);V+=4;if(U>0)B.yw=gH.TK(e,V,U,!1,P);
V+=U;var o=y.JU(e,V,8);V+=8;var t=y.vQ(e,V);V+=4;if(t>0){var c={};bF.oK(e,c,V+4);B.list=c.Brsh.v}V+=t;
var H=B.list;for(var n=0;n<H.length;n++){ia.hO.check(H[n].v)}D(H);return B};cP.SJ=function(z,q){z.v.Nm.v=q};
cP.apK=function(z){var q={Mf:[],yw:[],list:[]},e=0,V=y.mU(z,e);e+=2;var P=y.mU(z,e);e+=2;for(var n=0;
n<P;n++){var D=y.mU(z,e);e+=2;var B=y.vQ(z,e);e+=4;var A=e;if(D==2){var s={};q.Mf.push(s);var a=y.vQ(z,A);
A+=4;var M=y.mU(z,A);A+=2;if(V==2){var $=y.CK(z,A);A+=4+$.length*2+2}s.id=hq.ky()+"-d71c-11e5-b1ae-a548a96e5f9f";
A++;A+=8;s.TP=y.Tb(z,A);A+=16;var U=y.mU(z,A);A+=2;var o=z[A];A++;var t=cH._k(!1,U,z,s.TP.s,s.TP.T,A,o);
t=T.EZ(t,8);cP.ahO(s,t);var c=ia.ld(s.id),H=c.Brsh.v;H.Dmtr.v.val=s.TP.s;H.Spcn.v.val=M;q.list.push({t:"Objc",v:c})}e+=B}return q};
cP.iO=function(z){var q=new k7,e=0,V=0;y.jK(q,e,6);e+=2;y.jK(q,e,2);e+=2;var P={},D=[],B={},A=[];for(var n=0;
n<z.list.length;n++){var s=z.list[n].v,a=s.Brsh.v;if(a.classID=="sampledBrush")P[a.sampledData.v]=!0;
if(s.Txtr)B[s.Txtr.v.Idnt.v]=!0}for(var n=0;n<z.Mf.length;n++)if(P[z.Mf[n].id])D.push(z.Mf[n]);for(var n=0;
n<z.yw.length;n++)if(B[z.yw[n].id])A.push(z.yw[n]);y.QQ(q,e,"8BIMsamp");e+=8;e+=4;V=e;e=cP.alp(q,e,D);
y.Ri(q,V-4,e-V);y.QQ(q,e,"8BIMpatt");e+=8;e+=4;V=e;e=gH.qx(q,e,A);y.Ri(q,V-4,e-V);var M=T.G(z.list);
for(var n=0;n<M.length;n++)M[n].v.Nm.v=M[n].v.Nm.v.split("/").pop();var $={classID:"null",Brsh:{t:"VlLs",v:M}};
y.QQ(q,e,"8BIMdesc");e+=8;e+=4;V=e;y.Ri(q,e,16);e+=4;e+=bF.u1(q,$,e);y.Ri(q,V-4,e-V);return q.data.slice(0,e).buffer};
cP.arV=function(z,q,e,V,P){var D=y.vQ,B=y.Tb,A=q+e,s=[];while(q<A){var a={};s.push(a);var M=D(z,q);q+=4;
var $=q,U=y.bm(z,q);q+=U.length;a.id=U.FI;if(V==1){q+=9;a.TP=B(z,q);q+=16}else{q+=7;var o=D(z,q);q+=4;
a.TP=B(z,q);q+=16;var t=D(z,q);q+=4;q+=t*4;var c=D(z,q);q+=4;var H=D(z,q);q+=4;var F=B(z,q);q+=16}var i=y.mU(z,q);
q+=2;var X=z[q];q+=1;var K=cH._k(!1,i,z,a.TP.s,a.TP.T,q,X);K=T.EZ(K,8);cP.ahO(a,K);if(M%4!=0)M+=4-M%4;
q=$+M}return s};cP.ahO=function(z,q){var e=z.TP.Y();e.x=e.y=0;z.dE=[q,e]};cP.alp=function(z,q,e){var V=y.Ri,P=y.AR;
for(var n=0;n<e.length;n++){var D=e[n],B=q+4,s=56,M=1;q+=4;y.Qr(z,q,D.id);q+=D.id.length+2;z.iU(q,1);
z.data[q]=1;q+=3;V(z,q,3);q+=4;var A=q;q+=4;P(z,q,D.TP);q+=16;V(z,q,s);q+=4;q+=s*4;V(z,q-4,1);var a=q;
q+=4;V(z,q,8);q+=4;P(z,q,D.TP);q+=16;y.jK(z,q,8);q+=2;z.iU(q,1);z.data[q]=M;q++;var $=D.dE[0];z.iU(q,D.TP.D()*2);
q=cH.t1(!1,$,z.data,D.TP.s,D.TP.T,q,M);z.iU(q,8);q+=8;var U=q-B;V(z,B-4,U);V(z,A,U-49);V(z,a,U-305);
if(U%4!=0)q+=4-U%4}return q};function k8(){}k8.iA=function(z,q){var e=new Uint8Array(z),V=[],P=0,D=y.mU(e,P);
P+=2;if(D!=4){throw"Unknown version of curves: "+D}var B=y.mU(e,P);P+=2;for(var n=0;n<B;n++){var A=k8.aNd(e,P);
P+=2+2*A.length;V.push(A)}if(P!=e.length){var s=y.JU(e,P,4);P+=4;var a=y.mU(e,P);P+=2;var M=y.mU(e,P);
P+=2;if(M!=0)throw"extra curves for channels"}var $=k8.awa(V,0);$.presetKind={t:"long",v:3};$.presetFileName={t:"TEXT",v:q.split("/").pop().split(".")[0]};
return[$]};k8.AC=function(z,q,e,V){var P=V?y.iM:y.vQ,D=q,B=[],A=z[q];q+=3;var s=P(z,q);q+=4;for(var n=0;
n<4;n++){var a=s>>>n&1;if(a){if(A==0){var M=k8.aNd(z,q,V);q+=2+2*M.length}else{var M=k8.a3A(z,q);q+=256}B.push(M)}else B.push(A==0?[0,0,255,255]:k8.asE())}var $=k8.awa(B,A);
return $};k8.awa=function(z,q){var e=ak.g1("curv");for(var n=0;n<4;n++){if(q==0){var V=z[n],P=[];for(var D=0;
D<V.length;D+=2)P.push(T.JQ.Az(V[D],V[D+1],!0));k8.H5(e,n,P)}else k8.H5(e,n,z[n])}return e};k8.A0=function(z,q,e){var V=[];
for(var n=0;n<4;n++){var P=k8.Rg(e,n);if(P.length==256)V.push(P);else{var D=[];for(var B=0;B<P.length;
B++)D.push(P[B].v.Hrzn.v,P[B].v.Vrtc.v);V.push(D)}}var A=q,s=V[0].length==256?1:0;z.iU(q,3);z.data[q]=s;
z.data[q+1]=0;z.data[q+2]=1;q+=3;y.Ri(z,q,15);q+=4;for(var n=0;n<4;n++){var a=V[n];if(s==0){k8.a4p(z,q,a);
q+=2+2*a.length}else{k8.aa8(z,q,a);q+=256}}return q-A};k8.asE=function(){var z=[];for(var n=0;n<256;
n++)z.push(n);return z};k8.H5=function(z,q,e){var V=hG.qo("CrvA",q);if(e.length<256)V.Crv={t:"VlLs",v:e};
else{V.Mpng={t:"VlLs",v:[]};for(var n=0;n<256;n++)V.Mpng.v[n]={t:"long",v:e[n]}}V={t:"Objc",v:V};if(z.Adjs==null)z.Adjs={t:"VlLs",v:[]};
var P=z.Adjs.v,D=hG.MF(P,q);if(D==-1)P.push(V);else P[D]=V};k8.Rg=function(z,q){var e=z.Adjs?z.Adjs.v:[],V=hG.MF(e,q);
if(V==-1){if(e.length==0||e[0].v.Crv)return[T.JQ.Az(0,0,!0),T.JQ.Az(255,255,!0)];if(e[0].v.autoMachineLearning||e[0].v.AuCo)return[T.JQ.Az(0,0,!0),T.JQ.Az(128,160,!0),T.JQ.Az(255,255,!0)];
var P=[];for(var n=0;n<256;n++)P.push(n);return P}var D=e[V].v;if(D.Crv)return D.Crv.v;if(D.Mpng){var P=[];
for(var n=0;n<256;n++)P.push(D.Mpng.v[n].v);return P}return[T.JQ.Az(0,0,!0),T.JQ.Az(255,255,!0)]};k8.aNd=function(z,q,e){var V=e?y.iJ:y.mU,P=[],D=V(z,q);
q+=2;for(var B=0;B<D;B++){var A=V(z,q);q+=2;var s=V(z,q);q+=2;P.push(s,A)}return P};k8.a4p=function(z,q,e){var V=e.length/2;
y.jK(z,q,V);q+=2;for(var P=0;P<V;P++){y.jK(z,q,e[P*2+1]);q+=2;y.jK(z,q,e[P*2+0]);q+=2}};k8.a3A=function(z,q){var e=[];
for(var n=0;n<256;n++)e.push(z[q+n]);return e};k8.aa8=function(z,q,e){z.iU(q,256);for(var n=0;n<256;
n++)z.data[q+n]=e[n]};function jR(){}jR.AC=function(z,q,e,V){var P={},D=V?y.iJ:y.mU,B=V?y.dG:y.ab,A=D(z,q);
q+=2;P.b6=z[q]==1;q++;q++;P.wn=[B(z,q),B(z,q+2),B(z,q+4)];q+=6;P.Ph=[B(z,q),B(z,q+2),B(z,q+4)];q+=6;
P.ec=[];for(var n=0;n<6;n++){var s={};s.T_=[B(z,q),B(z,q+2),B(z,q+4),B(z,q+6)];q+=8;s.jr=[B(z,q),B(z,q+2),B(z,q+4)];
q+=6;P.ec.push(s)}var a=ak.g1("hue2"),M=P;if(a.Clrz==null)a.Clrz={t:"bool",v:!1};a.Clrz.v=M.b6;for(var n=0;
n<7;n++){var $=n==0?M.b6?M.wn:M.Ph:M.ec[n-1];jR.H5(a,n,$)}return a};jR.aEu=function(z){return{classID:"Hst2",H:{t:"long",v:z[0]},Strt:{t:"long",v:z[1]},Lght:{t:"long",v:z[2]}}};
jR.MF=function(z,q){for(var n=0;n<z.length;n++){var e=z[n].v.LclR;if(q==0&&e==null||e!=null&&e.v==q)return n}return-1};
jR.H5=function(z,q,e){var V=q==0?e:e.jr,P=jR.aEu(V);if(q!=0){var D=e.T_;P.LclR={t:"long",v:q},P.BgnR={t:"long",v:D[0]};
P.BgnS={t:"long",v:D[1]};P.EndS={t:"long",v:D[2]};P.EndR={t:"long",v:D[3]}}P={t:"Objc",v:P};var B=z.Adjs.v,A=jR.MF(B,q);
if(A==-1)B.push(P);else B[A]=P};jR.Rg=function(z,q){var e=z.Adjs.v,V=jR.MF(e,q);if(V==-1){if(q==0)return[0,0,0];
else return[{T_:[315,345,15,45],jr:[0,0,0]},{T_:[15,45,75,105],jr:[0,0,0]},{T_:[75,105,135,165],jr:[0,0,0]},{T_:[135,165,195,225],jr:[0,0,0]},{T_:[195,225,255,285],jr:[0,0,0]},{T_:[255,285,315,345],jr:[0,0,0]}][q-1]}var P=e[V].v,D=[P.H.v,P.Strt.v,P.Lght.v];
if(q==0)return D;return{jr:D,T_:[P.BgnR.v,P.BgnS.v,P.EndS.v,P.EndR.v]}};jR.A0=function(z,q,e){var V={b6:e.Clrz?e.Clrz.v:!1,ec:[]};
V.wn=V.Ph=jR.Rg(e,0);for(var n=1;n<7;n++)V.ec.push(jR.Rg(e,n));var P=2+2+12+6*14,D=z.data;z.iU(q,P);
y.NX(D,q,2);q+=2;D[q]=V.b6?1:0;q++;q++;y.cD(D,q+0,V.wn[0]);y.cD(D,q+2,V.wn[1]);y.cD(D,q+4,V.wn[2]);q+=6;
y.cD(D,q+0,V.Ph[0]);y.cD(D,q+2,V.Ph[1]);y.cD(D,q+4,V.Ph[2]);q+=6;for(var n=0;n<6;n++){var B=V.ec[n].T_,A=V.ec[n].jr;
y.cD(D,q+0,B[0]);y.cD(D,q+2,B[1]);y.cD(D,q+4,B[2]);y.cD(D,q+6,B[3]);q+=8;y.cD(D,q+0,A[0]);y.cD(D,q+2,A[1]);
y.cD(D,q+4,A[2]);q+=6}return P};function hG(){}hG.iA=function(z,q){var e=new Uint8Array(z),V=2,P=q?y.iJ:y.mU,D=[];
for(var n=0;n<29;n++){var B=[];D.push(B);for(var A=0;A<5;A++)B.push(P(e,V+n*10+A*2))}V+=29*10;if(V<e.length){var s=y.kO(e,V,q);
V+=4;var a=P(e,V);V+=2;var M=P(e,V);V+=2;var $=M-29;for(var n=0;n<$;n++){var B=[];D.push(B);for(var A=0;
A<5;A++)B.push(P(e,V+n*10+A*2))}}var U=ak.g1("levl");for(var n=0;n<4;n++)hG.H5(U,n,D[n]);return U};hG.qo=function(z,n){var q=["Cmps","Rd","Grn","Bl"],e={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:q[n]}}]};
return{classID:z,Chnl:e}};hG.MF=function(z,q){var e={Cmps:0,Rd:1,Grn:2,Bl:3,Trgt:0};for(var n=0;n<z.length;
n++){var V=z[n].v,P=e[V.Chnl.v[0].v.enum];if(P==q)return n}return-1};hG.H5=function(z,q,e){var V=hG.qo("LvlA",q);
V.Inpt={t:"VlLs",v:[{t:"long",v:e[0]},{t:"long",v:e[1]}]};V.Otpt={t:"VlLs",v:[{t:"long",v:e[2]},{t:"long",v:e[3]}]};
V.Gmm={t:"doub",v:e[4]/100};V={t:"Objc",v:V};var P=z.Adjs.v,D=hG.MF(P,q);if(D==-1)P.push(V);else P[D]=V};
hG.Rg=function(z,q){var e=[0,255,0,255,100],V=z.Adjs.v,P=hG.MF(V,q);if(P==-1)return e;var D=V[P].v;if(D.Inpt){e[0]=D.Inpt.v[0].v;
e[1]=D.Inpt.v[1].v}if(D.Otpt){e[2]=D.Otpt.v[0].v;e[3]=D.Otpt.v[1].v}if(D.Gmm){e[4]=Math.round(D.Gmm.v*100)}return e};
hG.iO=function(z,q){var e=[],V=0;for(var n=0;n<4;n++)e.push(hG.Rg(q,n));while(e.length<29)e.push([0,255,0,255,100]);
z.iU(0,2+10*29);y.NX(z.data,V,2);V+=2;for(var n=0;n<29;n++){var P=e[n];for(var D=0;D<5;D++)y.NX(z.data,V+n*10+D*2,P[D])}V+=29*10;
if(e.length==29)return V;z.iU(V,8+10*(e.length-29));y.Wd(z.data,V,"Lvls");V+=4;y.NX(z.data,V,3);V+=2;
y.NX(z.data,V,e.length);V+=2;var B=e.length-29;for(var n=0;n<B;n++){var P=e[29+n];for(var D=0;D<5;D++)y.NX(z.data,V+n*10+D*2,P[D])}V+=10*B;
return V};function bE(){}bE.iA=function(z,q){var e=new Uint8Array(z),V=2,P=q.split("/").pop().split(".")[0],D={HE:[],IW:[]},B=y.JU(e,V,4);
V+=4;var A=y.mU(e,V);V+=2;var s=y.vQ(e,V);V+=4;D.HE=gH.TK(e,V,s);V+=s;var a=y.vQ(e,V);V+=4;for(var n=0;
n<a;n++){var M=y.vQ(e,V);V+=4;var $=V,U={Pi:{},L$:{}};D.IW.push(U);V+=4;V+=bF.oK(e,U.Pi,V);U.Pi.Nm.v=P+"/"+U.Pi.Nm.v.split("=").pop();
V+=4;V+=bF.oK(e,U.L$,V);V=$+M;var o=U.L$.blendOptions,t=U.L$.Lefx;if(o&&Object.keys(o.v).length>1){}if(t){if(t.v.masterFXSwitch==null)t.v.masterFXSwitch={t:"bool",v:!0};
d1.mE(t.v)}}return D};bE.SJ=function(z,q){z.Pi.Nm.v=q};bE.iO=function(z){var q=new k7,e=0;y.jK(q,e,2);
e+=2;y.QQ(q,e,"8BSL");e+=4;y.jK(q,e,3);e+=2;var V=e;e+=4;e=gH.qx(q,e,z.HE);y.Ri(q,V,e-V-4);var P=z.IW.length;
y.Ri(q,e,P);e+=4;for(var n=0;n<P;n++){e+=4;var D=e,B=z.IW[n];y.Ri(q,e,16);e+=4;var A=B.Pi.Nm.v;B.Pi.Nm.v=B.Pi.Nm.v.split("/").pop();
e+=bF.u1(q,B.Pi,e);B.Pi.Nm.v=A;var s=B.L$.Lefx;if(s){B.L$.Lefx=T.G(s);d1.QC(B.L$.Lefx.v)}y.Ri(q,e,16);
e+=4;e+=bF.u1(q,B.L$,e);if(s)B.L$.Lefx=s;y.Ri(q,D-4,e-D)}return q.data.slice(0,e).buffer};function a0(){}a0.AC=function(z,q,e,V){var P=V?y.iJ:y.mU,D=V?y.dG:y.ab,B=P(z,q);
q+=2;var A={};A.awc=P(z,q)==1;q+=2;A.ov=[];for(var n=0;n<10;n++){var s=[];A.ov.push(s);for(var a=0;a<4;
a++)s.push(D(z,q+a*2));q+=8}var M=ak.g1("selc");M.Mthd.v.CrcM=A.awc?"Absl":"Rltv";for(var n=1;n<10;n++)a0.H5(M,n-1,A.ov[n]);
return M};a0.Vd="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");a0.qo=function(z,n){var q=["Cmps","Rd","Grn","Bl"],e={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:q[n]}}]};
return{classID:z,Chnl:e}};a0.MF=function(z,q){var e=a0.Vd;for(var n=0;n<z.length;n++){var V=z[n].v,P=e.indexOf(V.Clrs.v.Clrs);
if(P==q)return n}return-1};a0.H5=function(z,q,e){var V=["Cyn","Mgnt","Ylw","Blck"],P={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:a0.Vd[q]}}};
for(var D=0;D<4;D++)P[V[D]]={t:"UntF",v:{type:"#Prc",val:e[D]}};P={t:"Objc",v:P};var B=z.ClrC.v,A=a0.MF(B,q);
if(A==-1)B.push(P);else B[A]=P};a0.Rg=function(z,q){var e=[0,0,0,0],V=z.ClrC.v,P=a0.MF(V,q);if(P==-1)return e;
var D=["Cyn","Mgnt","Ylw","Blck"];for(var n=0;n<4;n++)if(V[P].v[D[n]])e[n]=V[P].v[D[n]].v.val;return e};
a0.A0=function(z,q,e){var V={awc:e.Mthd.v.CrcM=="Absl",ov:[[0,0,0,0]]};for(var n=0;n<9;n++)V.ov.push(a0.Rg(e,n));
z.iU(q,84);y.NX(z.data,q,1);q+=2;y.NX(z.data,q,V.awc?1:0);q+=2;for(var n=0;n<10;n++){var P=V.ov[n];for(var D=0;
D<4;D++)y.cD(z.data,q+D*2,P[D]);q+=8}return 84};function lh(){}lh.g1=function(){return{sI:new kk(0,0,50,50),Pi:"",v2:"play",B:T.S.nU.F0([.1,.1,.9,.5,.1,.9],0)}};
lh.iA=function(z,q){z=new Uint8Array(z);var e=0,V=[],P=q.split("/").pop().split(".")[0],D=Date.now(),B=y.JU(z,0,4);
e+=4;var A=y.vQ(z,e);e+=4;var s=y.vQ(z,e);e+=4;for(var n=0;n<s;n++){var a=y.CK(z,e);e+=a.length*2+4+2;
if((a.length&1)==0)e+=2;e=lh.aiy(z,e,a,V);V[n].v2=P+"/"+V[n].v2}return V};lh.aiy=function(z,q,e,V){var P=y.vQ(z,q);
q+=4;var D=y.vQ(z,q);q+=4;var B=q,A=y.bm(z,B).FI;B+=A.length+1;var s=y.Tb(z,B);B+=16;var a=lh.W9(z,B,D-(B-q)),M=T.S.Jc(a),$=T.R.mB(M),U=1/$.s,o=1/$.T;
T.S.Z8(a,new e5(U,0,0,o,-$.x*U,-$.y*o));V.push({v2:e,Pi:A,B:a,sI:s});q+=D;return q};lh.SJ=function(z,q){z.v2=q};
lh.iO=function(z){var q=new k7,e=0;y.QQ(q,e,"cush");e+=4;y.Ri(q,e,2);e+=4;y.Ri(q,e,z.length);e+=4;for(var n=0;
n<z.length;n++){var V=z[n],P=V.v2.split("/").pop()+"\0";y.pP(q,e,P);e+=4+P.length*2;if((P.length&1)==1)e+=2;
y.Ri(q,e,1);e+=4;e+=4;var D=e;y.Qr(q,e,V.Pi);e+=V.Pi.length+1;y.AR(q,e,V.sI);e+=16;q.iU(e,V.B.length*26);
lh.dm(q.data,e,V.B,1,1);e+=V.B.length*26;var B=e-D;if((B&3)!=0)B+=4-(B&3);y.Ri(q,D-4,B);e=D+B}return q.data.slice(0,e).buffer};
lh.a2H=function(z){var q=[];for(var n=0;n<z.length;n++){var e=z[n],V=e.e,P={type:V};q.push(P);if(V==6){}else if(V==8)P.all=e.all;
else if(V==0||V==3){P.length=e.length;P.boolop=e.xq;P.frule=e.HO;P.prmA=e.yL;P.prmB=e.xr}else{P.c=[e.li.x,e.li.y,e.O0.x,e.O0.y,e.kS.x,e.kS.y]}}return q};
lh.auU=function(z){var q=[];for(var n=0;n<z.length;n++){var e=z[n],V=e.type,P={e:V};q.push(P);if(V==6){}else if(V==8)P.all=e.all;
else if(V==0||V==3){P.length=e.length;P.xq=e.boolop;P.HO=e.frule;P.yL=e.prmA;P.xr=e.prmB}else{var D=e.c;
P.li=new f5(D[0],D[1]);P.O0=new f5(D[2],D[3]);P.kS=new f5(D[4],D[5])}}return q};lh.W9=function(z,q,e,V,P,D){if(V==null)V=1;
if(P==null)P=1;var B=D?y.aJE:y.aAO;function A(i,X,K){var f=B(i,X)*K,d=Math.round(f);return Math.abs(f-d)<1e-4?d:f}var s=D?y.dG:y.ab,a=D?y.iM:y.vQ,M=[],$=Math.floor(e/26);
for(var n=0;n<$;n++){var U=q+n*26,o={},t=0;M.push(o);o.e=s(z,U);U+=2;if(o.e==6){t=24}if(o.e==8){o.all=s(z,U);
U+=2;t=22}if(o.e==0||o.e==3){o.length=s(z,U);U+=2;o.xq=s(z,U);U+=2;o.HO=s(z,U);U+=2;o.yL=a(z,U);U+=4;
o.xr=a(z,U);U+=4;t=10}if(o.e==1||o.e==2||o.e==4||o.e==5){var c,H;H=A(z,U,P);U+=4;c=A(z,U,V);U+=4;o.li=new f5(c,H);
H=A(z,U,P);U+=4;c=A(z,U,V);U+=4;o.O0=new f5(c,H);H=A(z,U,P);U+=4;c=A(z,U,V);U+=4;o.kS=new f5(c,H);t=0}for(var F=0;
F<t;F++)if(z[U+F]!=0){console.log("Unexpected non-zero byte!",o,F,z[U+F])}}return M};lh.dm=function(z,q,e,V,P){var D=y.cD,B=y.atO,A=e.length;
for(var n=0;n<A;n++){var s=q+n*26,a=e[n];D(z,s,a.e);s+=2;if(a.e==6){}if(a.e==8)D(z,s,a.all);if(a.e==0||a.e==3){D(z,s,a.length);
s+=2;D(z,s,a.xq);s+=2;D(z,s,a.HO);s+=2}if(a.e==1||a.e==2||a.e==4||a.e==5){B(z,s,a.li.y/P);s+=4;B(z,s,a.li.x/V);
s+=4;B(z,s,a.O0.y/P);s+=4;B(z,s,a.O0.x/V);s+=4;B(z,s,a.kS.y/P);s+=4;B(z,s,a.kS.x/V);s+=4}}};function kH(){}kH.aq1=function(z,q,e,V){var P=V.split(".")[0],D=!1;
if(q+3<z.length){var B={};d1.R1(z,q,z.length,B);var A=B.phry.hierarchy.v;if(A.length!=0){var s=[[]],a=0;
for(var n=0;n<A.length;n++){var top=s[s.length-1],M=A[n].v,$=M.classID;if($=="Grup"){var U=[];s.push(U);
top.push([M.Nm.v,null,U,!0])}else if($=="preset"){top.push(e[a]);a++}else if($=="groupEnd"){s.pop()}}var o=kH.bN(s[0],kH);
return[[P,null,s[0],!0]]}else D=!0}else D=!0;if(D){for(var n=0;n<e.length;n++){var t=e[n][0].split("/");
if(t.length>1){P=t[t.length-2];e[n][0]=t.pop().split("=").pop()}}return[[P,null,e,!0]]}};kH.bN=function(z,q){var e=[],V=[];
kH.tO(z,e,V);var P=new Uint8Array(q.iO(e)),D=new k7;D.iU(0,P.length);D.data.set(P,0);var B={phry:{classID:"null",hierarchy:{t:"VlLs",v:V}}},A=d1.oS(D,P.length,B);
return D.data.slice(0,A)};kH.tO=function(z,q,e){for(var n=0;n<z.length;n++){var V=z[n];if(V[1]==null){e.push({t:"Objc",v:{classID:"Grup",Nm:{t:"TEXT",v:V[0]},zuid:{t:"TEXT",v:"0e93da90-b25e-9745-a55e-af1d4451561b"}}});
kH.tO(V[2],q,e);e.push({t:"Objc",v:{classID:"groupEnd"}})}else{e.push({t:"Objc",v:{classID:"preset"}});
q.push(V)}}};kH.iA=function(z,q){var e=new Uint8Array(z),V=[],P=0;if(y.JU(e,0,4)=="ASEF")P=kH.aju(e,V);
else{P=kH.a3W(e,P,V);if(P+3<e.length){V=[];P=kH.a3W(e,P,V)}}return kH.aq1(e,P,V,q)};kH.aju=function(z,q){var e=8,V=y.vQ(z,e),P,D=null,B,A,s,a;
e+=4;for(var M=0;M<V;M++){var $=y.mU(z,e);e+=2;var U=y.vQ(z,e);e+=4;var o=e+U;if($==49153||$==1){var t=y.mU(z,e);
e+=2;var c=y.$a(z,e,t-1);e+=t*2;if($==1)P=c;else D=c}if($==1){var H=y.JU(z,e,4);e+=4;B=y.ad(z,e);e+=4;
A=y.ad(z,e);e+=4;s=y.ad(z,e);e+=4;if(H=="RGB "){}else if(H=="CMYK"){a=y.ad(z,e);e+=4;var F=UDOC.C.cmykToRgb([B,A,s,a]);
B=F[0];A=F[1];s=F[2]}else alert("Unknown color space: "+H);q.push([(D?D+" : ":"")+P,{l:B*255,I:A*255,c:s*255}])}e=o}return e};
kH.a3W=function(z,q,e){var V=y.mU,P=y.ab,D=V(z,q);q+=2;var B=V(z,q);q+=2;for(var n=0;n<B;n++){var A=kH._3(z,q),s="clr"+n;
q+=10;if(D==2){s=y.CK(z,q);q+=4+s.length*2+2}e.push([s,A])}return q};kH._3=function(z,q,e){var V=e?y.iJ:y.mU,P=e?y.dG:y.ab,D=V(z,q),t=null;
q+=2;var B=V(z,q);q+=2;var A=V(z,q);q+=2;var s=V(z,q);q+=2;var a=V(z,q);q+=2;var M=1/65535,$=255/65535,U=100/65535,o=255/1e4;
if(D==0)t={l:B*$,I:A*$,c:s*$};else if(D==1){t=T.mj(B*M,A*M,s*M);t.l*=255;t.I*=255;t.c*=255}else if(D==2)t=T.Yf.z8({classID:"CMYC",Cyn:{t:"doub",v:100-B*U},Mgnt:{t:"doub",v:100-A*U},Ylw:{t:"doub",v:100-s*U},Blck:{t:"doub",v:100-a*U}});
else if(D==7){var c=T.Ka(B/100,P(z,q-6)/100,P(z,q-4)/100);t=c}else if(D==8){t={l:255-B*o,I:255-A*o,c:255-s*o}}else if(D==18){var H=255*B/16384;
t={l:H,I:H,c:H}}else if(D==65535)t={l:255,I:255,c:255};else{throw D}return t};kH.iO=function(z){var q=new k7,e=0,V=y.jK;
for(var P=1;P<3;P++){V(q,e,P);e+=2;V(q,e,z.length);e+=2;for(var n=0;n<z.length;n++){var D=z[n];q.iU(e,10);
kH.vF(q.data,e,D[1]);e+=10;if(P==2){var B=D[0]+"\0";y.pP(q,e,B);e+=4+B.length*2}}}return q.data.slice(0,e).buffer};
kH.vF=function(z,q,e){var V=65535/255,P=y.NX;P(z,q,0);P(z,q+2,Math.round(e.l*V));P(z,q+4,Math.round(e.I*V));
P(z,q+6,Math.round(e.c*V));P(z,q+8,0)};kH.sZ=function(z,q,e){var V=z[1],P=255<<24|V.c<<16|V.I<<8|V.l,D=new Uint32Array(q*e);
D.fill(P);var B=new Uint8Array(D.buffer),A=V.x6==null?1:V.x6/255;if(A!=1)for(var s=0;s<e;s++)for(var a=0;
a<q;a++){var M=(s*q+a)*4,$=255-50*((a>>>3^s>>>3)&1);B[M]=A*V.l+(1-A)*$;B[M+1]=A*V.I+(1-A)*$;B[M+2]=A*V.c+(1-A)*$}var U=UPNG.encode([D.buffer],q,e);
return"data:image/png;base64,"+hZ.aS(U)};function ko(){}ko.iA=function(z){var q=new Uint8Array(z),e=y.mU(q,256*3);
console.log(q);var V=[];for(var n=0;n<e;n++)V.push(["",{l:q[n*3],I:q[n*3+1],c:q[n*3+2],x6:255}]);return[V]};
ko.iO=function(z){z=z[0];var q=new Uint8Array(256*3+4);y.NX(q,256*3,z.length);y.NX(q,256*3+2,65535);
for(var n=0;n<z.length;n++){var e=z[n][1];q[3*n]=e.l;q[3*n+1]=e.I;q[3*n+2]=e.c}return q.buffer};function at(){}at.iA=function(z){var q=new Uint8Array(z),e=4,V={};
V.JJ=y.CK(q,e);e+=4+V.JJ.length*2+2;V.exp=q[e++]==1;V.bX=[];var P=y.vQ(q,e);e+=4;for(var n=0;n<P;n++){var D={};
V.bX.push(D);D.XW=y.mU(q,e);e+=2;D.shift=q[e++]==1;D.auC=q[e++]==1;D.color=y.mU(q,e);e+=2;D.JJ=y.CK(q,e);
e+=4+D.JJ.length*2+2;D.exp=q[e++]==1;D.bX=[];var B=y.vQ(q,e);e+=4;for(var A=0;A<B;A++){var s={};D.bX.push(s);
s.exp=q[e++]==1;s.d=q[e++]==1;s.ahv=q[e++]==1;s.axi=q[e++];var a=y.JU(q,e,4);e+=4;if(a=="TEXT"){s.gQ=at.adz(q,e);
e+=4+s.gQ.length}else if(a=="long"){s.gQ=y.JU(q,e,4);e+=4}else throw"e";s.l8=at.adz(q,e);e+=4+s.l8.length;
var M=y.ca(q,e);e+=4;if(M==-1){s.cj={};var $=bF.oK(q,s.cj,e);e+=$}}}console.log(V);var U=new Uint8Array(at.iO([V]));
for(var n=0;n<U.length;n++)if(U[n]!=q[n]&&y.JU(q,n+1,4)!="None"){console.log(q.length,U.length);var o=4*(n>>>2)-16;
console.log(y.Oh(q,o,64));console.log(y.Oh(U,o,64));console.log(q.slice(o,o+64));console.log(U.slice(o,o+64));
throw"i"}return[V]};at.adz=function(z,q){var e=y.vQ(z,q);return y.JU(z,q+4,e)};at.a7g=function(z,q,e){y.Ri(z,q,e.length);
y.QQ(z,q+4,e)};at.iO=function(z){var q=z[0],e=new k7,V=0;y.Ri(e,V,16);V+=4;y.pP(e,V,q.JJ+"\0");V+=4+q.JJ.length*2+2;
e.iU(V,1);e.data[V++]=q.exp?1:0;var P=q.bX.length;y.Ri(e,V,P);V+=4;for(var n=0;n<P;n++){var D=q.bX[n];
y.jK(e,V,D.XW);V+=2;e.iU(V,2);e.data[V++]=D.shift?1:0;e.data[V++]=D.auC?1:0;y.jK(e,V,D.color);V+=2;y.pP(e,V,D.JJ+"\0");
V+=4+D.JJ.length*2+2;e.iU(V,1);e.data[V++]=D.exp?1:0;var B=D.bX.length;y.Ri(e,V,B);V+=4;for(var A=0;
A<B;A++){var s=D.bX[A];e.iU(V,4);e.data[V++]=s.exp?1:0;e.data[V++]=s.d?1:0;e.data[V++]=s.ahv?1:0;e.data[V++]=s.axi;
var a="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(s.gQ)!=-1;y.QQ(e,V,a?"long":"TEXT");
V+=4;if(!a){at.a7g(e,V,s.gQ);V+=4+s.gQ.length}else{y.QQ(e,V,s.gQ);V+=4}at.a7g(e,V,s.l8);V+=4+s.l8.length;
y.Eb(e,V,s.cj?-1:0);V+=4;if(s.cj){var M=bF.u1(e,s.cj,V);V+=M}}}return e.data.slice(0,V).buffer};function cV(){}cV.iA=function(z){var q=new Uint8Array(z),e=0,V=y.vQ(q,e),s;
e+=4;var P=y.JU(q,e,8);e+=8;var D=y.iM(q,e);e+=4;var B=y.iM(q,e);e+=4;var A=y.iM(q,e);e+=4;console.log(D,B,A);
if(V==2){s=new Float32Array(z,32,z.byteLength-32>>>2)}else if(V==3||V==4){s=new Float32Array(B*A*2);
var a=0,M=0,$=!0;e=V==3?32:16+8+40;while(e<q.length){var U=y.iM(q,e);e+=4;if($)M+=U;else{for(var n=0;
n<U;n++){s[a+M+n<<1]=y.$R(q,e);s[(a+M+n<<1)+1]=y.$R(q,e+4);e+=8}M+=U}$=!$;if(U!=0&&M==B){a+=B;M=0;$=!0;
if(a==B*A)break}}}else throw"unknown Mesh version: "+V;return{xL:B,Hi:A,map:s}};cV.Ft=function(z){var q=z.xL,e=z.Hi,V=z.map,P=new Uint8Array(32+e*q*8+e*8),D=0,B=0;
y.lt(P,D,3);D+=4;y.Wd(P,D,"yfqLhseM");D+=8;y.pS(P,D,2);D+=4;y.pS(P,D,q);D+=4;y.pS(P,D,e);D+=4;y.pS(P,D,0);
D+=4;y.pS(P,D,1);D+=4;for(var A=0;A<e;A++){y.pS(P,D,0);D+=4;y.pS(P,D,q);D+=4;for(var s=0;s<q;s++){y.KK(P,D,V[B]);
y.KK(P,D+4,V[B+1]);B+=2;D+=8}}return P.buffer};function jX(){}jX.iA=function(z){var q=new Uint8Array(z),e=0,V=y.JU(q,e,4);
e+=4;var P=y.mU(q,e);e+=2;var D=y.vQ(q,e);e+=4;var B=[];for(var n=0;n<D;n++){var A=y.vQ(q,e);e+=4;var s={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
B.push(s);var a=y.CK(q,e);s.Nm.v=a;e+=4+a.length*2+2;var M=y.mU(q,e);e+=2;var $=y.mU(q,e);e+=2;for(var U=0;
U<$;U++){var o=T.JQ.Az(0,0,!0);o.v.Vrtc.v=y.mU(q,e);e+=2;o.v.Hrzn.v=y.mU(q,e);e+=2;s.Crv.v.push(o)}if(A==1){}else if(A==2){for(var U=0;
U<$;U++){s.Crv.v[U].v.Cnty.v=q[e]==1;e+=1}}else throw"error";var t=y.vQ(q,e);e+=4;var c=y.vQ(q,e);e+=4}return B};
jX.SJ=function(z,q){z.Nm.v=q};jX.iO=function(z){var q=new k7,e=0;y.QQ(q,e,"8BFS");e+=4;y.jK(q,e,1);e+=2;
y.Ri(q,e,z.length);e+=4;for(var n=0;n<z.length;n++){y.Ri(q,e,2);e+=4;var V=z[n];y.pP(q,e,V.Nm.v+"\0");
e+=4+V.Nm.v.length*2+2;y.jK(q,e,2);e+=2;var P=V.Crv.v.length;y.jK(q,e,P);e+=2;for(var D=0;D<P;D++){var B=V.Crv.v[D];
y.jK(q,e,B.v.Vrtc.v);e+=2;y.jK(q,e,B.v.Hrzn.v);e+=2}q.iU(e,P);for(var D=0;D<P;D++){q.data[e]=V.Crv.v[D].v.Cnty.v;
e++}y.Ri(q,e,0);e+=4;y.Ri(q,e,0);e+=4}return q.data.slice(0,e).buffer};function gH(){}gH.iA=function(z,q){var e=new Uint8Array(z),V=4,P=q.split("/").pop().split(".")[0],D=y.mU(e,V);
V+=2;var B=y.vQ(e,V);V+=4;var A=[];for(var n=0;n<B;n++){var s={};A.push(s);V=gH.ab9(e,V,s);s.name=P+"/"+s.name.split("=").pop()}return A};
gH.SJ=function(z,q){z.name=q};gH.iO=function(z){var q=new k7,e=0;y.QQ(q,e,"8BPT");e+=4;y.jK(q,e,1);e+=2;
y.Ri(q,e,z.length);e+=4;for(var n=0;n<z.length;n++){var V=z[n],P=V.name;V.name=V.name.split("/").pop();
e=gH.a7O(q,e,V);V.name=P}return q.data.slice(0,e).buffer};gH.TK=function(z,q,e,V,P){var D=V?y.iM:y.vQ,B=q+e,A=[];
while(q<B){var s={},a=D(z,q);q+=4;var M=q;q=gH.ab9(z,q,s,V);if(P)s.name=P+"/"+s.name.split("=").pop();
if(!s.dE[1].a8())A.push(s);if(a%4!=0)a+=4-a%4;q=M+a}return A};gH.qx=function(z,q,e){for(var n=0;n<e.length;
n++){var V=e[n];q+=4;var P=q;q=gH.a7O(z,q,V);var D=q-P;y.Ri(z,P-4,D);if(D%4!=0)P+=4-D%4;q=P+D}return q};
gH.ab9=function(z,q,e,V){var P=V?y.iM:y.vQ,D=V?y.iJ:y.mU,B=V?y.Qa:y.CK,A=P(z,q);q+=4;if(A!=1)alert("Unknown version of pattern");
var s=P(z,q);q+=4;if(s!=1&&s!=2&&s!=3)console.log("Unsupported mode of pattern: "+s);var a=D(z,q);q+=2;
var M=D(z,q);q+=2;var $=new kk(0,0,M,a);e.name=B(z,q);q+=4+2*e.name.length+2;var U=z[q];q++;e.id=y.JU(z,q,U);
q+=e.id.length;var o=-1;if(s==2){o=q;q+=3*256+4}var t=new T.ZU(M*a);q=gH.ara(z,q,t,V);if($.D()>1e8){e.dE=[T.n(4),new kk(0,0,1,1)];
return q}if(s==2){for(var n=0;n<t.l.length;n++){var c=3*t.l[n];t.l[n]=z[o+c+0];t.I[n]=z[o+c+1];t.c[n]=z[o+c+2]}}var H=T.n($.D()*4);
T.cO(t,H);e.dE=[H,$];return q};gH.a7O=function(z,q,e){var V=e.dE[0],P=e.dE[1];y.Ri(z,q,1);q+=4;y.Ri(z,q,3);
q+=4;y.jK(z,q,P.T);q+=2;y.jK(z,q,P.s);q+=2;y.pP(z,q,e.name+"\0");q+=4+2*e.name.length+2;y.n$(z,q,e.id.length);
q++;y.QQ(z,q,e.id);q+=e.id.length;var D=new T.ZU(P.D());T.B9(V,D);q=gH.al5(z,q,D,P);return q};gH.ara=function(z,q,e,V){var P=V?y.iM:y.vQ,D=V?y.iJ:y.mU,B=q,A={TP:null,Ox:[],azs:null,NC:null},s=P(z,q);
q+=4;var a=P(z,q);q+=4;A.TP=y.Tb(z,q,V);q+=16;var M=P(z,q);q+=4;for(var n=0;n<M+2;n++){var $=P(z,q);
q+=4;if($==0)continue;var U=P(z,q);q+=4;if(U==0)continue;var o=P(z,q);q+=4;var t=y.Tb(z,q,V);q+=16;var c=D(z,q);
q+=2;var H=z[q];q++;var F=cH._k(!1,o,z,t.s,t.T,q,H,U,V);F=T.EZ(F,8);if(n<M)A.Ox.push(F);if(n==M)A.azs=F;
if(n==M+1)A.NC=F;q+=U-23}if(!A.TP.a8()){if(A.Ox[0])e.l=A.Ox[0];if(A.Ox[1])e.I=A.Ox[1];else e.I=A.Ox[0].slice(0);
if(A.Ox[2])e.c=A.Ox[2];else e.c=A.Ox[0].slice(0);if(A.NC)e.x6=A.NC;else e.x6.fill(255)}return q};gH.al5=function(z,q,e,V){var P=q,D={TP:V,Ox:[e.l,e.I,e.c],azs:null,NC:e.x6};
y.Ri(z,q,3);q+=4;y.Ri(z,q,0);q+=4;y.AR(z,q,V);q+=16;y.Ri(z,q,24);q+=4;for(var n=0;n<24+2;n++){var B=q,A=n<3||n==25?1:0;
y.Ri(z,q,A);q+=4;if(A==0)continue;y.Ri(z,q,0);q+=4;y.Ri(z,q,8);q+=4;y.AR(z,q,V);q+=16;y.jK(z,q,8);q+=2;
y.n$(z,q,1,1);q++;var s=n<3?D.Ox[n]:D.NC;z.iU(q,V.D()+2);q=cH.t1(!1,s,z.data,V.s,V.T,q,1);y.Ri(z,B+4,q-B-8)}y.Ri(z,P+4,q-P-8);
return q};function ai(){}ai.iA=function(z,q){var e=new Uint8Array(z),P=0;if(e[0]==71)return ai.agW(e);
var V=q.split("/").pop().split(".")[0],D=y.JU(e,P,4);P+=4;var B=y.mU(e,P);P+=2;var A=[];if(B<=3){var s=y.mU(e,P);
P+=2;for(var n=0;n<s;n++){var a=e[P++],M=y.JU(e,P,a);P+=a;var $=ai.a5$(e,P,M),U=$[0];P=$[1];A.push(U)}}else{var $={},o=bF.oK(e,$,P+4),t=$.GrdL.v;
for(var n=0;n<t.length;n++)A[n]=t[n].v.Grad.v;P+=4+o}for(var n=0;n<A.length;n++)A[n]=[A[n].Nm.v,A[n]];
return kH.aq1(e,P,A,q)};ai.SJ=function(z,q){z.Nm.v=q};ai.iO=function(z){var q=new k7,e=0;y.QQ(q,e,"8BGR");
e+=4;y.jK(q,e,5);e+=2;y.Ri(q,e,16);e+=4;var V={classID:"null",GrdL:{t:"VlLs",v:[]}},P=V.GrdL.v;for(var n=0;
n<z.length;n++){var D=T.G(z[n]);D[1].Nm.v=D[0];P[n]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:D[1]}}}}e+=bF.u1(q,V,e);
return q.data.slice(0,e).buffer};ai.a5$=function(z,q,e,V){var P={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:e},Trns:{t:"VlLs",v:[]}},D=V?y.iJ:y.mU,B=V?y.iM:y.vQ,A=D(z,q);
q+=2;if(A==0)throw"e";for(var n=0;n<A;n++){var s=B(z,q),a=B(z,q+4),M=kH._3(z,q+8,V),$={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:M.l},Grn:{t:"doub",v:M.I},Bl:{t:"doub",v:M.c}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:s},Mdpn:{t:"long",v:a}}};
P.Clrs.v.push($);q+=20}var U=D(z,q);q+=2;for(var n=0;n<U;n++){var s=B(z,q),a=B(z,q+4),o=D(z,q+8),$={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*o/255)}},Lctn:{t:"long",v:s},Mdpn:{t:"long",v:a}}};
P.Trns.v.push($);q+=10}var t=D(z,q);q+=2;P.Intr.v=t==2?D(z,q):4096;q+=2;var c=D(z,q);q+=2;return[P,q]};
ai.aoR=function(z,q,e){var V=e.Clrs.v.length;y.jK(z,q,V);q+=2;for(var n=0;n<V;n++){var P=e.Clrs.v[n];
y.Ri(z,q,P.v.Lctn.v);y.Ri(z,q+4,P.v.Mdpn.v);y.jK(z,q+8,0);var D=T.Yf.e8(T.Yf.z8(P.v.Clr.v)),B=[D.Rd.v,D.Grn.v,D.Bl.v,0];
for(var A=0;A<4;A++)y.jK(z,q+10+A*2,Math.round(65535*(B[A]/255)));q+=20}var s=e.Trns.v.length;y.jK(z,q,s);
q+=2;for(var n=0;n<s;n++){var P=e.Trns.v[n];y.Ri(z,q,P.v.Lctn.v);y.Ri(z,q+4,P.v.Mdpn.v);y.jK(z,q+8,Math.round(255*P.v.Opct.v.val/100));
q+=10}y.jK(z,q,2);q+=2;y.jK(z,q,e.Intr.v);q+=2;y.jK(z,q,32);q+=2;return q};ai.agW=function(z){var q=y.vK(z,0,z.length).split("\n"),e=parseFloat(q[2]),V=[],P=JSON.parse(az.j3[az.order.indexOf("GrFl")]).Grad.v;
P.Intr.v=0;P.Nm.v=q[1];for(var n=0;n<e;n++){var D=q[3+n].split(" ").map(parseFloat),B=D[11],A=D[12];
V.push([D[0],D.slice(3,6),D[6]]);if(A!=0){var s=T.Pw(D[3],D[4],D[5]),a=T.Pw(D[7],D[8],D[9]),M=s.Hi,$=a.Hi;
if(A==1&&M>$)$++;if(A==2&&M<$)M++;var U=Math.round(Math.abs($-M)*7);if(U>1)for(var o=0;o<U;o++){var t=1-(o+1)/(U+1),c=1-t,H=T.mj(t*M+c*$,t*s.fY+c*a.fY,t*s.YY+c*a.YY);
V.push([t*D[0]+c*D[2],[H.l,H.I,H.c],t*D[6]+c*D[10]])}}V.push([D[2],D.slice(7,10),D[10]])}V.sort(function(F,i){return F[0]-i[0]});
T.Yf.WL(V,P);return[P]};ai.sZ=function(z,q,e){var V=W.QT.sZ(z[1],q,e,Math.PI/4,16777215,0);return V};
function d6(){}d6.iA=function(z){var q=new Uint8Array(z),e=[],V=[],P=[],D=[],B=[],A=0,s=y.JU(q,A,4);
A+=4;var a=y.vQ(q,A);A+=4;var M=y.vQ(q,A);A+=4;while(A<q.length){var $=y.JU(q,A,4);A+=4;var U=y.JU(q,A,4);
A+=4;var o=y.vQ(q,A);A+=4;if(U=="tppa"){V=gH.TK(q,A,o);A+=o}else if(U=="tpbd"){P=cP.arV(q,A,o,1,1);A+=o}else if(U=="tptp"){var t=y.vQ(q,A);
A+=4;for(var n=0;n<t;n++){var c=y.CK(q,A);A+=6+c.length*2;A+=4;var H={};A+=bF.oK(q,H,A);e.push([c,H])}while((A&3)!=0)A++}else if(U=="tpsh"){var F=A,i=q.slice(A,A+o);
while(A<F+o){var X=y.vQ(q,A);A+=4;A=lh.aiy(q,A,"Shape",D)}A=F+o}else if(U=="tpst"){var F=A;A+=4;while(A<F+o){var K=y.vQ(q,A);
A+=4;var f=A,d=y.vQ(q,A);A+=4;var H={Pi:{},L$:{}};B.push(H);A+=4;A+=bF.oK(q,H.Pi,A);A+=4;A+=bF.oK(q,H.L$,A);
A=f+K;var L=H.L$.Lefx;if(L){if(L.v.masterFXSwitch==null)L.v.masterFXSwitch={t:"bool",v:!0};d1.mE(L.v)}}A=F+o}else{console.log(q.slice(A-8,A+64));
console.log(y.JU(q,A-8,64));throw U}}return{Mf:P,yw:V,list:e,aOF:D,IW:B}};d6.SJ=function(z,q){z[0]=q};
d6.iO=function(z){var q=new k7,e=0;y.QQ(q,e,"8BTP");e+=4;y.Ri(q,e,3);e+=4;y.Ri(q,e,1);e+=4;var V=[z.yw,z.Mf,z.list];
for(var n=0;n<3;n++){if(V[n].length==0)continue;y.QQ(q,e,"8BIM");e+=4;var P=["tppa","tpbd","tptp"][n];
y.QQ(q,e,P);e+=4;var D=e;e+=4;if(P=="tppa"){e=gH.qx(q,e,z.yw)}else if(P=="tpbd"){e=cP.alp(q,e,z.Mf)}else if(P=="tptp"){y.Ri(q,e,z.list.length);
e+=4;for(var B=0;B<z.list.length;B++){var A=z.list[B];y.pP(q,e,A[0]+"\0");e+=6+A[0].length*2;y.Ri(q,e,16);
e+=4;e+=bF.u1(q,A[1],e)}}y.Ri(q,D,e-D-4);while((e&3)!=0)e++;q.iU(e,0)}return q.data.slice(0,e).buffer};
function k2(){}k2.iA=function(z,q){var e=new Uint8Array(z),V;if(y.vQ(e,0)==e.length)V="icc";else if(e[0]=="<".charCodeAt(0))V="look";
else if(y.yD(e,"LUT_3D_SIZE")!=-1)V="cube";else V="3DL";if(V!="icc"){var P=k2.a9N(e,V),D=k2.ala(P[0],P[1]);
e=D}var B=[];for(var n=0;n<e.length;n++)B.push(e[n]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:q?q:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:B}}]};
k2.iO=function(z){var q=z[0],e=new Uint8Array(q.profile.v);return e.buffer};k2.SJ=function(z,q){z.Nm.v=q};
k2.ala=function(z,q){var e=new k7,V=128;e.iU(0,128);var P=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var n=0;n<P.length;n++)e.data[n]=P[n];var D=["desc","A2B0"],B=D.length,A=128+4+B*12;y.Ri(e,V,B);
V+=4;for(var s=0;s<B;s++){var a=D[s];y.QQ(e,V,a);V+=4;y.Ri(e,V,A);V+=4;var M=A;if(a=="desc"){y.QQ(e,M,"mluc");
M+=4;M+=4;y.Ri(e,M,1);M+=4;y.Ri(e,M,12);M+=4;y.QQ(e,M,"enUS");M+=4;var $="ICC by Photopea\0",U=$.length*2+2;
y.Ri(e,M,U);M+=4;y.Ri(e,M,28);M+=4;e.iU(M,U);for(var n=0;n<$.length;n++)e.data[M+n*2+1]=$.charCodeAt(n);
M+=U}if(a=="A2B0"){y.QQ(e,M,"mAB ");M+=4;M+=4;e.iU(M,4);e.data[M]=3;e.data[M+1]=3;M+=4;e.iU(M,4*5);M+=4*3;
y.Ri(e,M,M+8-A);M+=4;M+=4;e.iU(M,20);e.data[M]=z;e.data[M+1]=z;e.data[M+2]=z;M+=16;e.data[M]=2;M+=4;
var o=z*z*z*3;e.iU(M,o*2);for(var n=0;n<o;n++)y.NX(e.data,M+n*2,Math.max(0,Math.min(65535,Math.round(q[n]*65535))));
M+=o*2}var t=M-A;while((t&3)!=0)t++;y.Ri(e,V,t);V+=4;A+=t}y.Ri(e,0,A);return e.data.slice(0,A)};k2.a9N=function(z,q){q="LUTFormat"+q.toUpperCase();
var e=[],V=0,P=y.vK(z,0,z.length),D="";for(var n=0;n<z.length&&D=="";n++){if(z[n]==10)D="\n";else if(z[n]==13){D="\r";
if(z[n+1]==10)D+="\n"}}if(q=="LUTFormatCUBE"){var B=P.split(D);for(var n=0;n<B.length;n++){if(B[n]==""||B[n][0]=="#")continue;
var A=B[n].split(" "),s=A[0];if(s=="LUT_3D_SIZE"){V=parseInt(A[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(s)!=-1)continue;
e.push(parseFloat(A[0]),parseFloat(A[1]),parseFloat(A[2]))}e=k2.aLl(V,e)}else if(q=="LUTFormat3DL"){var B=P.split(D),a=1/4095;
for(var n=0;n<B.length;n++){var M=B[n];if(M==""||M=="3DMESH"||M.startsWith("Mesh")||M[0]=="#")continue;
var A=M.split(" "),s=A[0];if(V==0){V=A.length;continue}e.push(parseFloat(A[0])*a,parseFloat(A[1])*a,parseFloat(A[2])*a)}}else if(q=="LUTFormatLOOK"){var $=new DOMParser,U=$.parseFromString(P,"text/xml"),o=U.getElementsByTagName("LUT")[0],t=o.children[0].textContent;
V=parseInt(JSON.parse(t));var c=o.children[1].textContent;c=c.replace(/"/g,"").replace(/\s/g,"");var H=3*V*V*V,F=H*4,i=new Uint8Array(F);for(var n=0;n<F;n++){var X=c.charCodeAt(n*2),K=c.charCodeAt(n*2+1),f=X<58?X-48:X-55,L=K<58?K-48:K-55;i[n]=(f<<4)+L}for(var n=0;n<H;n++)e.push(y.$R(i,n<<2));e=k2.aLl(V,e)}else throw q;return[V,e]};k2.asL=function(z,q,e){var V=["#Created by www.Photopea.com","TITLE \""+e+"\"","","#LUT size","LUT_3D_SIZE "+q,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],P=6;
for(var n=0;n<z.length;n+=3){V.push(z[n].toFixed(P)+" "+z[n+1].toFixed(P)+" "+z[n+2].toFixed(P))}V.push("");
return y.GY(V.join("\n")).buffer};k2.aLl=function(z,q){var e=[],V=z*z*z;for(var n=0;n<V;n++)e.push(0,0,0);
for(var P=0;P<z;P++)for(var D=0;D<z;D++)for(var B=0;B<z;B++){var n=3*(B+D*z+P*z*z),A=3*(P+D*z+B*z*z);
e[A]=q[n];e[A+1]=q[n+1];e[A+2]=q[n+2]}return e};function bF(){}bF.oK=function(z,q,e,V,P,D){var B=e,M;
if(P==null)P=0;var A=D?y.iM:y.vQ,s=D?y.Zy:y.ca,a=D?y.Qa:y.CK,$=A(z,e);if($==0){M="";e+=4}else{M=a(z,e);
e+=4+2*M.length+2}if(M!="")q.__name=M;q.classID=bF.wU(z,e,D);if(V)console.log("\t".repeat(P),"- reading descriptor",q.classID,e);
e+=bF.MG(z,e,D);var U=s(z,e);e+=4;for(var n=0;n<U;n++){var o=bF.wU(z,e,D);e+=bF.MG(z,e,D);var t=bF.aMM(z,e,V,P,D);
q[o]=t;e+=t.size;delete t.size}return e-B};bF.u1=function(z,q,e,V){var P=e,D=q.__name;if(D==null)D="";
D+="\0";y.pP(z,e,D);e+=4+2*D.length;bF.nc(z,e,q.classID);e+=bF.MG(z.data,e);y.Eb(z,e,Object.keys(q).length-1-(q.__name==null?0:1));
e+=4;for(var B in q){if(B=="classID")continue;if(B=="__name")continue;bF.nc(z,e,B);e+=bF.MG(z.data,e);
e+=bF.aN4(z,e,q[B])}return e-P};bF.aMM=function(z,q,e,V,P){var D=q,B=y.kO(z,q,P);q+=4;var A=P?y.Nj:y.my,s=P?y.iM:y.vQ,a=P?y.Zy:y.ca,M=P?y.Qa:y.CK,$={size:0,t:B,v:null};
if(e)console.log("\t".repeat(V),"reading key",B,D);switch(B){case"obj ":case"VlLs":$.v=[];var U=s(z,q);
q+=4;for(var n=0;n<U;n++){var o=bF.aMM(z,q,e,V+1,P);q+=o.size;delete o.size;$.v.push(o)}break;case"UntF":$.v={type:y.kO(z,q,P),val:A(z,q+4)};
q+=12;break;case"doub":{$.v=A(z,q);q+=8;break}case"bool":$.v=z[q]==1;q+=1;break;case"long":$.v=a(z,q);
q+=4;break;case"comp":$.v=a(z,q+4);q+=8;break;case"Objc":$.v={};var t=bF.oK(z,$.v,q,e,V+1,P);q+=t;break;
case"TEXT":var c=s(z,q);if(c==0){$.v="";q+=4}else{$.v=M(z,q);q+=4+$.v.length*2+2}break;case"enum":var H=bF.wU(z,q,P);
q+=bF.MG(z,q,P);var F=bF.wU(z,q,P);q+=bF.MG(z,q,P);$.v={};$.v[H]=F;break;case"tdta":var i=a(z,q);q+=4;
$.v=Array.from(z.slice(q,q+i));q+=i;break;case"ObAr":var X=s(z,q);q+=4;var K=M(z,q);q+=4+2*K.length+2;
if(K!="")throw K;var f=bF.wU(z,q,P);q+=4+Math.max(4,f.length);$.v={classID:f,arr:[]};var d=s(z,q);q+=4;
for(var n=0;n<d;n++){var f=bF.wU(z,q,P);q+=4+Math.max(4,f.length);var H=y.kO(z,q,P);q+=4;var L=y.kO(z,q,P);
q+=4;var G={id:f,type:H,uID:L,arr:[]};$.v.arr.push(G);var x=s(z,q,4);q+=4;for(var O=0;O<x;O++){var v=A(z,q);
q+=8;G.arr.push(v)}}break;case"Pth ":if(P)throw"e";var C=q,i=y.vQ(z,q);q+=4;var S=y.JU(z,q,4);q+=4;var j=y.iM(z,q);
q+=4;var w=y.aab(z,q);q+=4+w.length*2;$.v={sig:S,pth:w};break;case"Clss":case"type":case"rele":var w=M(z,q);
q+=4+w.length*2+2;var u=bF.wU(z,q,P);q+=4+Math.max(4,u.length);$.v={classID:u};if(w!="")$.v.__name=w;
if(B=="rele"){$.v.val=a(z,q);q+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var l=bF.W7[B];
$.v={};var w=M(z,q);q+=4+w.length*2+2;if(w.length!=0){console.log("String found",B,w);$.v.unam=w}for(var n=0;
n<l.length;n++){var u=bF.wU(z,q,P);q+=4+Math.max(4,u.length);$.v[l[n]]=u}if(B=="name"){var w=M(z,q);
q+=4+w.length*2+2;$.v.val=w}if(B=="indx"||B=="Idnt"){$.v.val=s(z,q);q+=4}break;case"alis":var i=s(z,q);
q+=4;$.v=y.JU(z,q,i);q+=i;break;default:{console.log("unknown oskey: "+B+", "+D);throw"e";return $}}if(e){console.log("\t".repeat(V),$.v);
console.log("\t".repeat(V),"======",q)}$.size=q-D;return $};bF.W7={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
bF.aN4=function(z,q,e){var V=q,P=e.t;e=e.v;y.QQ(z,q,P);q+=4;switch(P){case"obj ":case"VlLs":y.Eb(z,q,e.length);
q+=4;for(var D=0;D<e.length;D++){var B=bF.aN4(z,q,e[D]);q+=B}break;case"UntF":y.QQ(z,q,e.type);y.rA(z,q+4,e.val);
q+=12;break;case"doub":y.rA(z,q,e);q+=8;break;case"bool":y.n$(z,q,e?1:0,1);q+=1;break;case"long":y.Eb(z,q,e);
q+=4;break;case"comp":y.Eb(z,q+4,e);q+=8;break;case"Objc":var B=bF.u1(z,e,q);q+=B;break;case"TEXT":y.pP(z,q,e+"\0");
q+=4+e.length*2+2;break;case"enum":var A=Object.keys(e)[0],s=e[A];bF.nc(z,q,A);q+=bF.MG(z.data,q);bF.nc(z,q,s);
q+=bF.MG(z.data,q);break;case"tdta":y.Ri(z,q,e.length);q+=4;y.v$(z,q,e);q+=e.length;break;case"ObAr":y.Ri(z,q,e.arr[0].arr.length);
q+=4;y.pP(z,q,"\0");q+=6;bF.nc(z,q,e.classID);q+=4+Math.max(4,e.classID.length);y.Ri(z,q,e.arr.length);
q+=4;for(var n=0;n<e.arr.length;n++){var a=e.arr[n];bF.nc(z,q,a.id);q+=4+Math.max(4,a.id.length);y.QQ(z,q,a.type);
q+=4;y.QQ(z,q,a.uID);q+=4;y.Ri(z,q,a.arr.length);q+=4;for(var D=0;D<a.arr.length;D++){y.rA(z,q,a.arr[D]);
q+=8}}break;case"Pth ":var M=e.pth.length*2+4+8;y.Ri(z,q,M);q+=4;y.QQ(z,q,e.sig);q+=4;y.eh(z,q,M);q+=4;
y.a0P(z,q,e.pth);q+=e.pth.length*2+4;break;case"Clss":case"type":case"rele":var $=e.__name;if($==null)$="";
y.pP(z,q,$+"\0");q+=4+$.length*2+2;var U=e.classID;bF.nc(z,q,U);q+=4+Math.max(4,U.length);if(P=="rele"){y.Eb(z,q,e.val);
q+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var o=bF.W7[P],t="";if(P=="name"&&e.classID=="Grdn")t="Gradient";
if(e.unam)t=e.unam;y.pP(z,q,t+"\0");q+=4+t.length*2+2;for(var n=0;n<o.length;n++){var U=e[o[n]];bF.nc(z,q,U);
q+=4+Math.max(4,U.length)}if(P=="name"){y.pP(z,q,e.val+"\0");q+=4+e.val.length*2+2}if(P=="indx"||P=="Idnt"){y.Ri(z,q,e.val);
q+=4}break;case"alis":var M=e.length;y.Ri(z,q,M);q+=4;y.QQ(z,q,e);q+=M;break;default:console.log("unknown oskey: "+P);
q=V;break}return q-V};bF.wU=function(z,q,e){var V=e?y.Zy:y.ca,P=V(z,q);if(P>1e3)throw"e";if(P==0)return y.kO(z,q+4,e).trim();
var D=y.JU(z,q+4,P);if(D==" JPEG 2000")return D;if(D=="neutralizeColor    ")return D;return D.trim()};
bF.MG=function(z,q,e){var V=e?y.Zy:y.ca,P=V(z,q);return P==0?8:4+P};bF.nc=function(z,q,e){var V="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold clio trim then else".split(" "),P=4<e.length||V.indexOf(e)!=-1;
y.Eb(z,q,P?e.length:0);y.QQ(z,q+4,e);if(e.length<4&&!P){var D="";for(var n=e.length;n<4;n++)D+=" ";y.QQ(z,q+4+e.length,D)}};
bF.aCz=function(z){var q={};for(var e in z){if(e=="classID")q[e]=z[e];else if(e=="__name")q[e]=z[e];
else q[e]=bF.aq7(z[e])}return q};bF.aq7=function(z){if(z.L=="Objc")return bF.aCz(z.v);else if(z.L=="VlLs"){var q=[];
for(var n=0;n<z.v.length;n++)q.push(bF.aq7(z.v[n]));return q}else if(z.L=="UntF")return z.v.val;else return z.v};
function d1(){}d1.R1=function(z,q,e,V,P,D,B,A){var s=B?y.iM:y.vQ,a=B?y.Zy:y.ca,M=B?y.iJ:y.mU,$=B?y.dG:y.ab,U=B?y.a4m:y.e1,o=B?y.Nj:y.my,t=B?y.$R:y.ad,c=B?y.aab:y.RQ;
while(q<e){var H=y.kO(z,q,B);q+=4;if(H!="8BIM"&&H!="8B64"){console.log("layer information signature error! "+H,"PSB = "+P);
alert("Error in PSD file: wrong signature.");return e}var F=y.kO(z,q,B);q+=4;var i=s(z,q);q+=4;var X=P&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(F)!=-1;
if(X){i=i<<32|a(z,q);q+=4}var K=["lrFX","PlLd"];if(K.indexOf(F)!=-1){if(F!="lrFX"&&i%4!=0)i+=4-i%4;q+=i;
continue}switch(F){case"iOpa":V[F]=z[q];break;case"brst":V[F]=[1,1,1];for(var n=0;n<i;n+=4)V[F][s(z,q+n)]=0;
break;case"knko":V[F]=z[q];break;case"infx":V[F]=z[q];break;case"clbl":V[F]=z[q];break;case"lmgm":V[F]=z[q];
break;case"vmgm":V[F]=z[q];break;case"fcmy":V[F]=z[q];break;case"lyid":V[F]=s(z,q);break;case"lsct":V[F]={e:s(z,q)};
if(i>=12)V[F].pi=y.kO(z,q+8,B);break;case"lsdk":V.lsct={e:s(z,q)};break;case"lyvr":V[F]=s(z,q);break;
case"lnsr":var f={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};V[F]=y.kO(z,q,B);
break;case"lspf":V[F]=s(z,q);break;case"lclr":V[F]=M(z,q);break;case"luni":V[F]=c(z,q);break;case"fxrp":V[F]=new f5(o(z,q),o(z,q+8));
break;case"phry":case"artb":case"artd":V[F]={};bF.oK(z,V[F],q+4,!1,null,B);break;case"SoCo":V[F]={};
bF.oK(z,V[F],q+4,!1,null,B);break;case"GdFl":V[F]={};bF.oK(z,V[F],q+4,!1,null,B);d1.OE(V[F],F);break;
case"PtFl":V[F]={};bF.oK(z,V[F],q+4,!1,null,B);d1.OE(V[F],F);break;case"CgEd":V[F]={};bF.oK(z,V[F],q+4,!1,null,B);
break;case"brit":var d=V.brit=ak.g1("brit"),L={};d.Brgh.v=$(z,q);d.Cntr.v=$(z,q+2);d.useLegacy.v=!0;
break;case"levl":var G=z.buffer.slice(q,q+i);V[F]=hG.iA(G,B);break;case"curv":V[F]=k8.AC(z,q,i,B);break;
case"expA":var x=$(z,q),O=V[F]=ak.g1("expA");O.Exps.v=t(z,q+2);O.Ofst.v=t(z,q+6);O.gammaCorrection.v=t(z,q+10);
break;case"vibA":V[F]={};bF.oK(z,V[F],q+4,!1,null,B);break;case"hue2":V[F]=jR.AC(z,q,i,B);break;case"blnc":var O=V[F]=ak.g1(F);
O.PrsL.v=z[q+18]==1;var v=["ShdL","MdtL","HghL"];for(var n=0;n<3;n++)for(var C=0;C<3;C++)O[v[n]].v[C].v=$(z,q+n*6+C*2);
break;case"blwh":var S={};bF.oK(z,S,q+4,!1,null,B);var O=ak.g1(F),j="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var n=0;n<j.length;n++){O[j[n]]=S[j[n]];delete S[j[n]]}V[F]=O;break;case"phfl":var O=V[F]=ak.g1(F),w=O.Clr.v,x=M(z,q);
if(x==3){var u=[s(z,q+2),s(z,q+6),s(z,q+10)],l=32768,I=T.aDE(u[0]/l,u[1]/l,u[2]/l);w.Lmnc.v=I.eT;w.A.v=I.x6;
w.B.v=I.c}if(x==2){var Q=M(z,q+2);if(Q!=7)throw"e";w.Lmnc.v=$(z,q+4)/100;w.A.v=$(z,q+6)/100;w.B.v=$(z,q+8)/100}var b=q+2+(x==3?12:10);
O.Dnst.v=s(z,b);b+=4;O.PrsL.v=z[b]==1;break;case"mixr":var p={JZ:M(z,q+2)==1,u:[]};for(var n=0;n<20;
n++)p.u.push($(z,q+4+n*2));V[F]=aM.GB(p);break;case"clrL":case"rplc":V[F]={};bF.oK(z,V[F],q+6,!1,null,B);
break;case"nvrt":V[F]={};break;case"post":V[F]=ak.g1("post");V[F].Lvls.v=M(z,q);break;case"thrs":V[F]=ak.g1("thrs");
V[F].Lvl.v=M(z,q);break;case"grdm":var k=q,g=M(z,k),m="Gcls";k+=2;var Y=z[k]==1,R=z[k+1]==1;k+=2;if(g>=3){var Z=y.kO(z,k,B);
k+=4;m={Perc:"Perc",Gcls:"Gcls","Lnr ":"Lnr",Smoo:"Smoo"}[Z];if(m==null)m="stripes"}var E=c(z,k);k+=4+E.length*2;
var N=ai.a5$(z,k,E,B),h=N[0];k=N[1];var j5=M(z,k);k+=2;var r=s(z,k);k+=4;var l8=M(z,k)==1;k+=2;var aP=M(z,k)==1;
k+=2;var bS=s(z,k);k+=4;var kR=M(z,k);k+=2;var j1=[],f6=[];for(var n=0;n<4;n++){j1.push({t:"long",v:~~(M(z,k+n*2)*100/32768)});
f6.push({t:"long",v:~~(M(z,k+n*2+8)*100/32768)})}k+=16;var gx=M(z,k);k+=2;if(j5==1)h={classID:"Grdn",Nm:{t:"TEXT",v:E},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:l8},VctC:{t:"bool",v:aP},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:r},Smth:{t:"long",v:bS},Mnm:{t:"VlLs",v:j1},Mxm:{t:"VlLs",v:f6}};
var lC=ak.g1("grdm");lC.Rvrs.v=Y;lC.Dthr.v=R;lC.Grad.v=h;lC.gs99.v={gradientInterpolationMethodType:m};
V[F]=lC;break;case"selc":V[F]=a0.AC(z,q,i,B);break;case"vmsk":case"vsms":var g2=V.vmsk=new lK.cI,dv=a(z,q+4),bv=(dv>>0&1)==1;
g2.ck=(dv>>1&1)==0;g2.isEnabled=(dv>>2&1)==0;g2.B=lh.W9(z,q+8,i-8,D.s,D.T,B);break;case"shmd":V[F]={};
var eo=s(z,q),b=q+4;for(var n=0;n<eo;n++){var H=y.kO(z,b,B);b+=4;var aL=y.kO(z,b,B);b+=4;var dh=z[b];
b++;if(Math.max(z[b],z[b+1])!=0)throw"e";b+=3;var eM=s(z,b);b+=4;if(aL=="cust"||aL=="cmls"||aL=="extn"||aL=="mlst"){var kg=s(z,b);
if(kg!=16)b+=4;if(s(z,b)==16){var S={};bF.oK(z,S,b+4,!1,null,B);V[F][aL]=S;if(aL=="cmls")W.$I.atK(V[F][aL])}}else{console.log("unknown shmd key: "+aL+", size: "+eM)}b+=eM}break;
case"shpa":var x=s(z,q),jJ=s(z,q+4);if(jJ!=0)console.log("some patterns present!");break;case"TySh":var iL=V[F]={},x=M(z,q);
iL.v=y.eZ(z,q+2,B);var bz=M(z,q+2+48);iL.h8={};try{var ks=bF.oK(z,iL.h8,q+56)}catch(cz){V[F]=null;break}var gr=dc.aPq();
for(var hg in gr)if(iL.h8[hg]==null)iL.h8[hg]=gr[hg];iL.au={};var ci=bF.oK(z,iL.au,q+56+ks+6,!1,null,B);
iL.iB=y.azc(z,q+56+ks+6+ci);iL._1=ej.iA(iL.h8.EngineData.v);dc.ag$(iL._1.EngineDict.StyleRun.RunArray);
if(iL._1.ResourceDict==null)iL._1.ResourceDict=T.G(iL._1.DocumentResources);delete iL.h8.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var fK=s(z,q),jN=s(z,q+4);V.lmfx={};var ks=bF.oK(z,V.lmfx,q+8,!1,null,B);
d1.mE(V.lmfx);break;case"FMsk":V[F]=z.slice(q,q+i);break;case"Txt2":V[F]={};V[F].raw=z.slice(q,q+i);
V[F].dV=dC.iA(V[F].raw);break;case"Patt":case"Pat2":case"Pat3":V.Patt=gH.TK(z,q,i,B);break;case"SoLd":var dD=y.kO(z,q,B),eF=s(z,q+4),io=s(z,q+8),la=V[F]={},e9=bF.oK(z,la,q+12,null,null,B),gM=la.warp,j7=la.quiltWarp;
if(j7==null)j7=la.quiltWarp=T.OL.a44(gM);delete la.warp;var cI=j7.v.warpStyle.v.warpStyle,dL=j7.v.warpValues;
if(cI!="warpCylinder"&&dL){j7.v.warpValue={t:"doub",v:dL.v[0].v};delete j7.v.warpValues}if(la.nonAffineTransform==null)la.nonAffineTransform=T.G(la.Trnf);
if(la.Impr==null)la.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var eF=s(z,q);
V[F]={};var e9=bF.oK(z,V[F],q+4,!1,null,B);break;case"vscg":var aL=y.kO(z,q,B),eF=s(z,q+4);V[aL]={};
var e9=bF.oK(z,V[aL],q+8,!1,null,B);d1.OE(V[aL],aL);break;case"vogk":var cf=s(z,q),eF=s(z,q+4);V[F]={};
var e9=bF.oK(z,V[F],q+8,!1,null,B);V[F]=V[F].keyDescriptorList.v;for(var n=0;n<V[F].length;n++){var jA=V[F][n].v;
if(!T.w0.GI(jA))continue;if(jA.keyOriginBoxCorners==null){var gI=T.w0.Is(jA);jA.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};
var fM=[gI[0],gI[1],gI[2],gI[1],gI[2],gI[3],gI[0],gI[3]];if(jA.keyOriginType.v==4)fM=T.w0.aD0(T.w0.c2(jA),jA.keyOriginLineWeight.v);
T.w0.ql(jA,"keyOriginBoxCorners",fM)}}break;case"lnk2":case"lnkD__":case"lnk3":V.lnk2=[];var k=q;while(k<q+i){var a7=new lK.tf;
V.lnk2.push(a7);var k6=U(z,k);k+=8;var fv=k;a7.e=y.kO(z,k,B);k+=4;if(a7.e!="liFD"){alert("Unknown Linked Layer type: "+a7.e);
break;throw a7.e}a7._S=s(z,k);k+=4;var fq=y.bm(z,k);k+=1+fq.FI.length;a7.PP=fq.FI;var cu=B?y.Qa:y.CK;
a7.hb=cu(z,k);k+=4+a7.hb.length*2+2;a7.y3=y.kO(z,k,B);k+=4;a7.ya=y.kO(z,k,B);k+=4;var ac=U(z,k);k+=8;
a7.open=z[k];k+=1;if(a7.open!=0){var hN={},ks=bF.oK(z,hN,k+4,null,null,B);if(ks%2!=0)ks+=2-ks%2;console.log(hN);
k+=ks+4}a7.open=0;a7.raw=z.slice(k,k+ac);k+=ac;var cQ=fv+k6-k;if(cQ==15&&a7._S!=7)a7._S=7;if(5<=a7._S){var d_=cu(z,k);
k+=4+d_.length*2+2}if(6<=a7._S){var cK=y.my(z,k);k+=8}if(7<=a7._S){var cc=z[k];k++}if(8<=a7._S){var hN={},ks=bF.oK(z,hN,k+4,null,null,B);
console.log(hN);k+=4+ks}if(fv+k6-k==8)k+=8;if(k<fv+k6)throw"e";k=fv+k6;if(k6%4!=0)k+=4-k6%4}break;case"FEid":var k=q;
V[F]=[];var aH=k+i,x=s(z,k);k+=4;while(k<aH){var k6=U(z,k);k+=8;var N={};V[F].push(N);N.id=y.bm(z,k).FI;
k+=N.id.length+1;var x=s(z,k);k+=4;k+=4;var jj=s(z,k);k+=4;N.V=y.Tb(z,k,B);k+=16;var iG=s(z,k);k+=4;
var hc=s(z,k);k+=4;var kD=new T.ZU(0);for(var n=0;n<hc+2;n++){var l2=s(z,k);k+=4;if(l2!=0){var fZ=U(z,k),g5=null;
k+=8;if(n<3||n==25){g5=cH.Hl(!0,iG,z,N.V.s,N.V.T,k,fZ,B)}if(n==0)kD.l=g5;if(n==1)kD.I=g5;if(n==2)kD.c=g5;
if(n==25)kD.x6=g5;k+=fZ}}N.buffer=T.n(N.V.D()*4,iG);T.cO(kD,N.buffer);var d4=z[k];k++;if(d4!=0){N.Eo=new lK.Eu;
N.Eo.V=y.Tb(z,k,B);k+=16;var hx=U(z,k);k+=8;var g5=cH.Hl(!0,iG,z,N.Eo.V.s,N.Eo.V.T,k,hx,B);N.Eo.o=g5;
N.Eo.color=255;N.Eo.Sn();k+=hx}if(k6%4!=0)k+=4-k6%4}break;case"Lr16":dE.iQ(D,z,q,B);break;case"Lr32":dE.iQ(D,z,q,B);
break;case"Anno":V[F]=[];var hJ=q,gU=q+4,jJ=s(z,gU);gU+=4;for(var n=0;n<jJ;n++){var k6=s(z,gU);gU+=4;
var lg=y.kO(z,gU,B);gU+=4;if(lg!="txtA")throw lg;var gW=z[gU++],iF=z[gU++],aO=M(z,gU);gU+=2;var kX=y.Tb(z,gU,B);
gU+=16;var e3=y.Tb(z,gU,B);gU+=16;var w=kH._3(z,gU,B);gU+=10;var k5=y.bm(z,gU);gU+=k5.length;var h0=y.bm(z,gU);
gU+=h0.length;var aS=y.bm(z,gU);gU+=aS.length;var jM=s(z,gU);gU+=4;var bW=y.kO(z,gU,B);gU+=4;var hS=s(z,gU);
gU+=4;var ap=B?y.UB:y.$a,dB=ap(z,gU+2,hS-2>>1);gU+=hS;V[F].push([kX.x,kX.y,w,k5.FI,dB])}break;default:console.log("unknown layer tag: "+F+", size: "+i);
break}var f8="Layr,Lr16,Lr32,LMsk,Txt2,artd,extd,luni,pths,extn,tySh,lfx2,cinf,Anno,CAI ,GenI,phry,vmsk,vstk".split(",");
if(f8.indexOf(F)==-1)if(i%4!=0)console.log("size not multiple of 4!!!",F);if(F!="luni"&&F!="TySh"&&F!="tySh"&&F!="lfx2"&&F!="iOpa"&&F!="SoCo"&&F!="vmsk"&&F!="vstk")if(i%4!=0)i+=4-i%4;
q+=i}var L=V.CgEd;if(L){var d=V.brit;if(d){d.Brgh.v=L.Brgh?L.Brgh.v:0;d.Cntr.v=L.Cntr?L.Cntr.v:0;d.useLegacy.v=L.useLegacy?L.useLegacy.v:0}delete V.CgEd}var bu=[];
for(var n=0;n<bu.length;n++)delete V[bu[n]];return q};d1.oS=function(z,q,e,V,P,D){if(e.SoLd){var B={};
for(var A in e){if(A=="SoLd")B.PlLd={};B[A]=e[A]}e=B}for(var s in e)if(e[s]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+s+"\" tag was present with a null value.");delete e[s]}for(var s in e){var a=V&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(s)!=-1,$=0;
y.QQ(z,q,a?"8B64":"8BIM");q+=4;var M=q;y.QQ(z,q,s);q+=4;y.Eb(z,q,0);q+=a?8:4;switch(s){case"iOpa":y.n$(z,q,e[s],1);
$=4;break;case"brst":$=0;for(var n=0;n<3;n++)if(e[s][n]==0){y.Ri(z,q+$,n);$+=4}break;case"knko":y.n$(z,q,e[s],1);
$=4;break;case"infx":y.n$(z,q,e[s],1);$=4;break;case"clbl":y.n$(z,q,e[s],1);$=4;break;case"lmgm":y.n$(z,q,e[s],1);
$=4;break;case"vmgm":y.n$(z,q,e[s],1);$=4;break;case"fcmy":y.n$(z,q,e[s],1);$=4;break;case"lyid":y.Ri(z,q,e[s]);
$=4;break;case"lsct":y.Ri(z,q,e[s].e);$=4;if(e[s].pi){y.QQ(z,q+4,"8BIM");y.QQ(z,q+8,e[s].pi);$=12}break;
case"lyvr":y.Ri(z,q,e[s]);$=4;break;case"lnsr":y.QQ(z,q,e[s]);$=4;break;case"lspf":y.Ri(z,q,e[s]);$=4;
break;case"lclr":y.jK(z,q,e[s]);$=8;break;case"luni":y.pP(z,q,e[s]);$=4+2*e[s].length;break;case"fxrp":y.rA(z,q,e[s].x);
y.rA(z,q+8,e[s].y);$=16;break;case"phry":case"artb":case"artd":y.Ri(z,q,16);$=bF.u1(z,e[s],q+4)+4;break;
case"SoCo":y.Ri(z,q,16);$=bF.u1(z,e[s],q+4)+4;break;case"GdFl":y.Ri(z,q,16);$=bF.u1(z,e[s],q+4)+4;break;
case"PtFl":y.Ri(z,q,16);$=bF.u1(z,e[s],q+4)+4;break;case"CgEd":var U={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},o=U,t=e[s];
o.Brgh.v=t.Brgh.v;o.Cntr.v=t.Cntr.v;o.useLegacy.v=t.useLegacy.v;y.Ri(z,q,16);$=bF.u1(z,U,q+4)+4;break;
case"brit":z.iU(q,8);$=8;break;case"levl":var c=new k7;$=hG.iO(c,e[s]);y.v$(z,q,c.data);break;case"curv":$=k8.A0(z,q,e[s]);
break;case"expA":$=14;z.iU(q,14);y.NX(z.data,q,1);y.$r(z.data,q+2,e[s].Exps?e[s].Exps.v:0);y.$r(z.data,q+6,e[s].Ofst?e[s].Ofst.v:0);
y.$r(z.data,q+10,e[s].gammaCorrection?e[s].gammaCorrection.v:1);break;case"vibA":y.Ri(z,q,16);$=bF.u1(z,e[s],q+4)+4;
break;case"hue2":$=jR.A0(z,q,e[s]);break;case"blnc":$=19;z.iU(q,$);var H=["ShdL","MdtL","HghL"];for(var n=0;
n<3;n++){var F=e[s][H[n]].v;for(var i=0;i<3;i++)F.push(y.cD(z.data,q+n*6+i*2,F[i].v))}z.data[q+18]=e[s].PrsL.v?1:0;
break;case"blwh":var U={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},X="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var n=0;n<X.length;n++){U[X[n]]=e[s][X[n]]}y.Ri(z,q,16);$=bF.u1(z,U,q+4)+4;break;case"phfl":y.jK(z,q,2);
var K=e[s].Clr.v;y.jK(z,q+2,7);y.jK(z,q+4,Math.round(K.Lmnc.v*100));y.jK(z,q+6,Math.round(K.A.v*100));
y.jK(z,q+8,Math.round(K.B.v*100));y.jK(z,q+10,0);var f=q+2+10;z.iU(f,5);y.lt(z.data,f,e[s].Dnst.v);f+=4;
z.data[f]=e[s].PrsL.v?1:0;f++;$=f-q;break;case"mixr":$=44;z.iU(q,$);var d=aM.PJ(e[s]);y.NX(z.data,q,1);
y.NX(z.data,q+2,d.JZ?1:0);for(var n=0;n<20;n++)y.cD(z.data,q+4+n*2,d.u[n]);break;case"clrL":case"rplc":y.jK(z,q,1);
y.Ri(z,q+2,16);$=bF.u1(z,e[s],q+6)+6;break;case"nvrt":$=0;break;case"post":y.jK(z,q,e[s].Lvls.v);$=2;
break;case"thrs":y.jK(z,q,e[s].Lvl.v);$=2;break;case"grdm":var L=e[s].Rvrs?e[s].Rvrs.v:!1,G=e[s].Dthr?e[s].Dthr.v:!1,x=e[s].gs99?e[s].gs99.v.gradientInterpolationMethodType:"Gcls",O=867527939,v=!1,C=!1,S=2048,l,I;
if(x=="Lnr")x="Lnr ";if(x=="stripes")x="\0\0\fm";var j=[0,0,0,0],w=[32768,32768,32768,32768],u=e[s].Grad.v,Q=u.Clrs==null?1:0;
if(Q==0){l=u;I=JSON.parse(az.mo.a7a).v}else{l=ak.g1("grdm").Grad.v;I=u}z.iU(q,8);y.NX(z.data,q,3);z.data[q+2]=L?1:0;
z.data[q+3]=G?1:0;y.Wd(z.data,q+4,x);var b=q+8;y.pP(z,b,u.Nm.v);b+=4+u.Nm.v.length*2;b=ai.aoR(z,b,l);
y.jK(z,b,Q);b+=2;y.Ri(z,b,I.RndS.v);b+=4;y.jK(z,b,I.ShTr.v?1:0);b+=2;y.jK(z,b,I.VctC.v?1:0);b+=2;y.Ri(z,b,I.Smth.v);
b+=4;y.jK(z,b,3);b+=2;for(var n=0;n<4;n++)y.jK(z,b+n*2,j[n]);b+=8;for(var n=0;n<4;n++)y.jK(z,b+n*2,w[n]);
b+=8;b+=2;$=b-q;break;case"selc":$=a0.A0(z,q,e[s]);break;case"FMsk":y.v$(z,q,e[s]);$=e[s].length;break;
case"Txt2":var p=new k7,k=dC.Ft(e[s].dV,p),g=p.data.slice(0,k);y.v$(z,q,g);$=g.length;break;case"vmsk":var Y=e[s],R=0;
y.Ri(z,q,3);if(!Y.ck)R+=1<<1;if(!Y.isEnabled)R+=1<<2;y.Ri(z,q+4,R);$=8;var m=Y.B.length;z.iU(q+8,m*26);
lh.dm(z.data,q+8,Y.B,P.s,P.T);$+=m*26;break;case"shmd":y.Ri(z,q,Object.keys(e[s]).length);var f=q+4;
for(var Z in e[s]){y.QQ(z,f,"8BIM");f+=4;y.QQ(z,f,Z);f+=4;y.Ri(z,f,0);f+=4;y.Ri(z,f,0);f+=4;y.Ri(z,f,16);
f+=4;var E=bF.u1(z,e[s][Z],f);if(E%4!=0)E+=4-E%4;y.Ri(z,f-8,E+4);f+=E}$=f-q;break;case"TySh":var f=q;
y.xa(z,f,1);f+=2;var N=e[s],p=new k7;N._1.DocumentResources=T.G(N._1.ResourceDict);var k=ej.Ft(N._1,p),g=p.data.slice(0,k);
N.h8.EngineData={t:"tdta",v:g};var h=N._1.EngineDict.Editor.Text;N.h8.Txt.v=h.substring(0,h.length-1);
y.avZ(z,f,N.v);f+=48;y.xa(z,f,50);f+=2;y.Ri(z,f,16);f+=4;f+=bF.u1(z,N.h8,f);y.xa(z,f,1);f+=2;y.Ri(z,f,16);
f+=4;f+=bF.u1(z,N.au,f);y.aIG(z,f,N.iB);f+=16;$=f-q;break;case"lmfx":y.Ri(z,q,0);y.Ri(z,q+4,16);var U=T.G(e[s]),j5=!1;
d1.QC(U);for(var n=0;n<az.cx.length;n++)if(U[az.cx[n]]!=null)j5=!0;y.QQ(z,M,j5?"lmfx":"lfx2");$=bF.u1(z,U,q+8)+8;
break;case"Patt":var f=gH.qx(z,q,e[s]);$=f-q;break;case"PlLd":var r=q;z.iU(q,60);var F=e.SoLd;y.QQ(z,q,"plcL");
y.Ri(z,q+4,3);var l8=z.data[q+8]=F.Idnt.v.length;y.QQ(z,q+9,F.Idnt.v);var f=q+9+l8,aP=[1,1,16,2];for(var n=0;
n<4;n++)y.Ri(z,f+n*4,aP[n]);f+=16;aP=W.On.a3(F.nonAffineTransform);for(var n=0;n<8;n++)y.rA(z,f+n*8,aP[n]);
f+=64;y.Ri(z,f,0);y.Ri(z,f+4,16);var bS=T.OL.a0D(F.quiltWarp).v;f+=8+bF.u1(z,bS,f+8);$=f-q;break;case"SoLd":var F=e[s],kR=F.quiltWarp;
F.warp=T.OL.a0D(kR);if(T.OL.kV(kR.v)==16)delete F.quiltWarp;y.QQ(z,q,"soLD");y.Ri(z,q+4,4);y.Ri(z,q+8,16);
$=bF.u1(z,F,q+12)+12;F.quiltWarp=kR;delete F.warp;break;case"vstk":case"pths":y.Ri(z,q,16);$=bF.u1(z,e[s],q+4)+4;
break;case"vscg__":y.QQ(z,q,e[s].key);y.Ri(z,q+4,16);$=bF.u1(z,e[s].u,q+8)+8;break;case"vogk":y.Ri(z,q,1);
y.Ri(z,q+4,16);T.w0.apo(e[s]);for(var n=0;n<e[s].length;n++){var j1=e[s][n].v.keyOriginResolution;if(j1)j1.v=P.do}var f6={classID:"null",keyDescriptorList:{t:"VlLs",v:e[s]}};
$=bF.u1(z,f6,q+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var b=q;for(var n=0;n<e[s].length;n++){var gx=e[s][n],lC=b;
y.Qw(z,b,0);b+=8;y.QQ(z,b,gx.e);b+=4;y.Ri(z,b,7);b+=4;z.iU(b,1);z.data[b]=gx.PP.length;b++;y.QQ(z,b,gx.PP);
b+=gx.PP.length;y.pP(z,b,gx.hb+"\0");b+=4+gx.hb.length*2+2;y.QQ(z,b,gx.y3);b+=4;y.QQ(z,b,gx.ya);b+=4;
y.Qw(z,b,gx.raw.length);b+=8;z.iU(b,1);z.data[b]=gx.open;b++;y.v$(z,b,gx.raw);b+=gx.raw.length;y.Ri(z,b,1);
b+=4;b+=11;var g2=b-lC-8;y.Qw(z,lC,g2);if(g2%4!=0){z.iU(b,4-g2%4);b+=4-g2%4}}$=b-q;break;case"FEid":var b=q;
y.Ri(z,b,3);b+=4;for(var dv=0;dv<e[s].length;dv++){var bv=e[s][dv];b+=4;var eo=b;b+=4;y.Qr(z,b,bv.id);
b+=bv.id.length+1;y.Ri(z,b,1);b+=4;var aL=T.n(bv.V.D(),P.depth),dh=bv.V,eM=T.n(dh.D(),P.depth);b+=4;
var kg=b;b+=4;y.AR(z,b,dh);b+=16;y.Ri(z,b,P.depth);b+=4;y.Ri(z,b,24);b+=4;for(var n=0;n<24+2;n++){var jJ=-1;
if(n==0)jJ=0;if(n==1)jJ=1;if(n==2)jJ=2;if(n==25)jJ=3;y.Ri(z,b,jJ!=-1?1:0);b+=4;if(jJ!=-1){T.bl(bv.buffer,aL,jJ);
T.KY(aL,bv.V,eM,dh);b+=4;var iL=b;b+=4;z.iU(b,dh.D()*(P.depth>>>3)+200);b=cH.OH(!0,eM,z.data,dh.s,dh.T,b,3);
y.Ri(z,iL,b-(iL+4))}}y.Ri(z,kg,b-(kg+4));z.iU(b,1);z.data[b]=bv.Eo?1:0;b++;if(bv.Eo!=null){var bz=dh,ks=T.n(bz.D(),P.depth);
ks.fill(T.K8(P.depth)*bv.Eo.color/255);T.KY(bv.Eo.o,bv.Eo.V,ks,bz);y.AR(z,b,bz);b+=16;b+=4;var gr=b;
b+=4;z.iU(b,bz.D()+2);b=cH.OH(!0,ks,z.data,bz.s,bz.T,b,3);y.Ri(z,gr,b-(gr+4))}var g2=b-(eo+4);y.Ri(z,eo,g2);
if(g2%4!=0)b+=4-g2%4}$=b-q;break;case"Lr16":case"Lr32":var hg=dE.a3Q(P,z,q,[],!1);$=hg-q;break;case"Anno":var hg=q,ci=e[s].length;
y.jK(z,hg,2);y.jK(z,hg+2,1);hg+=4;y.Ri(z,hg,ci);hg+=4;for(var n=0;n<ci;n++){var fK=e[s][n],jN=fK[0],dD=fK[1],eF=hg;
hg+=4;y.QQ(z,hg,"txtA");hg+=4;z.iU(hg,2);z.data[hg]=1;z.data[hg+1]=28;hg+=2;y.jK(z,hg,1);hg+=2;y.AR(z,hg,new kk(jN,dD,17,21));
hg+=16;y.AR(z,hg,new kk(jN+8,dD+10,241,141));hg+=16;z.iU(hg,10);kH.vF(z.data,hg,fK[2]);hg+=10;hg+=y.Qr(z,hg,fK[3]);
hg+=y.Qr(z,hg,"");hg+=y.Qr(z,hg,"D:20211012120233+01'00'");var io=fK[4].length*2;y.Ri(z,hg,12+2+io);
hg+=4;y.QQ(z,hg,"txtC");hg+=4;y.Ri(z,hg,2+io);hg+=4;z.iU(hg,2);z.data[hg]=254;z.data[hg+1]=255;hg+=2;
y.am9(z,hg,fK[4]);hg+=io;y.Ri(z,eF,hg-eF)}$=hg-q;break;default:console.log("unknown layer tag: "+s+", size: "+$);
q-=12;continue}var la=["Txt2","artd","extd","pths"];if(la.indexOf(s)==-1)if($%4!=0)$+=4-$%4;if(a)y.Qw(z,q-8,$);
else y.Ri(z,q-4,$);if(s!="luni"&&s!="TySh")if($%4!=0)$+=4-$%4;q+=$}return q};d1.mE=function(z){for(var n=0;
n<az.order.length;n++){var q=az.order[n],e=az.cx[n];if(z[e]==null)z[e]={t:"VlLs",v:[]};if(z[q]!=null){z[e].v.push(z[q]);
delete z[q]}var V=[];for(var P=0;P<z[e].v.length;P++){var D=z[e].v[P];if(D.v.enab==null)D.v.enab={t:"bool",v:!0};
if(D.v.present==null||D.v.present.v==!0)V.push(D)}z[e].v=V}};d1.QC=function(z){for(var n=0;n<az.order.length;
n++){var q=az.order[n],e=az.cx[n],V=z[e].v.length;if(V==0){delete z[e];continue}if(V==1){z[q]=z[e].v[0];
delete z[e];continue}}};d1.OE=function(z,q){if(q=="GdFl"){if(z.Angl==null)z.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(z.Algn==null)z.Algn={v:!0,t:"bool"};if(z.Scl==null)z.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(z.Ofst==null)z.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(z.Rvrs==null)z.Rvrs={v:!1,t:"bool"};if(z.Dthr==null)z.Dthr={v:!1,t:"bool"}}if(q=="PtFl"){if(z.Algn==null)z.Algn={v:!0,t:"bool"};
if(z.Angl==null)z.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(z.Scl==null)z.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(z.phase==null)z.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};d1.Y=function(z,q){var e={};
if(z=="TySh"){e.v=q.v.Y();e.h8=T.G(q.h8);e.au=T.G(q.au);e.iB=q.iB.Y();e._1=T.G(q._1);if(q.add)e.add={vmsk:q.add.vmsk.Y(),vogk:T.G(q.add.vogk)};
return e}else if(z=="fxrp")return q.Y();else if(z=="vmsk")return q.Y();else return T.G(q)};function cZ(z,q){}cZ.iA=function(z,q,e,V,P){V=cZ.arJ(z,q,e,V,P);
return V};cZ.Ft=function(z,q,e,V,P){V=cZ.abx(z,q,e,V,P);return V};cZ.arJ=function(z,q,e,V,P){var D=V;
z.V=y.Tb(e,V,P);V+=16;var B=P?y.iJ:y.mU,A=P?y.dG:y.ab,s=B(e,V);V+=2;z.nn=[];var a=q.td,M=P?y.a4m:y.e1,$=P?y.iM:y.vQ,U=a?M:$;
for(var n=0;n<s;n++){z.nn[n]={id:A(e,V),length:U(e,V+2)};V+=a?10:6}var o=y.kO(e,V,P);V+=4;if(o!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(o));
alert("Error in Photoshop file: wrong signature.");throw"e"}z.pi=y.kO(e,V,P);V+=4;z.vz=e[V];V+=1;z.Ev=e[V]==1;
V+=1;z.b9=e[V];V+=1;if(e[V]!=0)console.log("error in filler!");V+=1;var t=$(e,V);V+=4;var c=V;V=cZ.ay_(z,e,V,P);
V=cZ.as6(z,e,V,P);var H=y.bm(e,V);z.name=H.FI;V+=H.length;if(H.length%4!=0)V+=4-H.length%4;V=d1.R1(e,V,c+t,z.add,a,q,P);
if(z.add.lsct){if(z.add.lsct.pi)z.pi=z.add.lsct.pi;z.add.lsct=z.add.lsct.e}return V};cZ.abx=function(z,q,e,V,P){var D=V;
y.AR(e,V,z.V);V+=16;var B=q.add.fcmy==1,A=z.aHB(B);y.jK(e,V,A.length);V+=2;var s=q.td;P.push(V);for(var n=0;
n<A.length;n++){y.xa(e,V,A[n]);if(s)y.Qw(e,V+2,0);else y.Ri(e,V+2,0);V+=s?10:6}y.QQ(e,V,"8BIM");V+=4;
y.QQ(e,V,z.pi);V+=4;y.n$(e,V,z.vz,1);V+=1;y.n$(e,V,z.Ev?1:0,1);V+=1;y.n$(e,V,z.b9,1);V+=1;y.n$(e,V,0,1);
V+=1;var a=V;y.Ri(e,V,0);V+=4;var M=V;V=cZ.aN_(z,e,V);V=cZ.aID(z,e,V);var $=y.Qr(e,V,z.name.slice(0,255));
V+=$;if($%4!=0)V+=4-$%4;if(z.add.lsct){z.add.lsct={e:z.add.lsct};if(z.pi=="pass"){z.add.lsct.pi="pass";
z.pi="norm"}}if(z.pi=="pass")z.add.lsct={e:z.add.lsct,pi:"pass"};if(z.add.brit)z.add.CgEd=z.add.brit;
V=d1.oS(e,V,z.add,s,q);delete z.add.CgEd;if(z.add.lsct){if(z.add.lsct.pi)z.pi=z.add.lsct.pi;z.add.lsct=z.add.lsct.e}var U=V-M;
y.Ri(e,a,U);return V};cZ.ay_=function(z,q,e,V){var P=V?y.iM:y.vQ,D=P(q,e);e+=4;if(D==0)return e;var B=e;
z.Eo=new lK.Eu;z.Eo.V=y.Tb(q,e,V);e+=16;z.Eo.color=q[e];e+=1;var A=cZ.a8S(z.Eo,q,e);e+=1;if(A){var s=!1,a=255,M=0,$=255,U=0;
for(var n=0;n<z.nn.length;n++)if(z.nn[n].id==-3)s=!0;if(s){z.Ro=cZ.aOf(q,e,V);e+=18}var o=e,t=q[e];e++;
var c=V?y.Nj:y.my;if(t>>0&1){a=q[e];e++}if(t>>1&1){M=c(q,e);e+=8}if(t>>2&1){$=q[e];e++}if(t>>3&1){U=c(q,e);
e+=8}if((e-o&1)==1)e++;z.mY=[a,M,$,U]}else{if(D==20)e+=2;else{z.Ro=cZ.aOf(q,e,V);e+=18}}return B+D};
cZ.aN_=function(z,q,e){y.Ri(q,e,0);e+=4;if(z.Eo==null)return e;var V=z.OX(),P=z.add.vmsk,D=e,B=!0;y.Ri(q,e,0);
y.AR(q,e,z.Eo.V);e+=16;y.n$(q,e,z.Eo.color);e+=1;cZ.as_(z.Eo,q,e,B);e+=1;if(B){if(z.Ro){cZ.a85(q,e,z.Ro);
e+=18}var A=e;y.n$(q,e,P?15:3);e+=1;y.n$(q,e,V?V.uI:255);e+=1;y.rA(q,e,V?V.j_:0);e+=8;if(P){y.n$(q,e,P?P.uI:255);
e+=1;y.rA(q,e,P?P.j_:0);e+=8}if((e-A&1)==1)e++}y.Ri(q,D-4,e-D);return e};cZ.aOf=function(z,q,e){var V=new lK.Eu;
cZ.a8S(V,z,q);q+=1;V.color=z[q];q+=1;V.V=y.Tb(z,q,e);q+=16;return V};cZ.a85=function(z,q,e){cZ.as_(e,z,q,!1);
q+=1;y.n$(z,q,e.color);q+=1;y.AR(z,q,e.V);q+=16};cZ.a8S=function(z,q,e){var V=q[e];z.ck=(V>>0&1)==0;
z.isEnabled=(V>>1&1)==0;z.HF=(V>>3&1)==1;return V>>4&1};cZ.as_=function(z,q,e,V){var P=0;if(!z.ck)P+=1<<0;
if(!z.isEnabled)P+=1<<1;if(z.HF)P+=1<<3;if(V)P+=1<<4;y.n$(q,e,P)};cZ.as6=function(z,q,e,V){var P=V?y.iM:y.vQ,D=P(q,e);
e+=4;for(var n=0;n<D;n++)z.sy[n]=q[e+n];return e+D};cZ.aID=function(z,q,e){y.Ri(q,e,z.sy.length);e+=4;
q.iU(e,40);for(var n=0;n<40;n++){q.data[e+n]=z.sy[n]}return e+40};function cH(){}cH.iA=function(z,q,e,V,P){V=cH.a6u(z,q,e,V,P);
return V};cH.iO=function(z,q,e,V,P,D,B){V=cH.ahc(z,q,e,V,P,D,B);return V};cH.a6u=function(z,q,e,V,P){var D=q.cN,B=z.nn,A={},s=V;
for(var n=0;n<B.length;n++){var a=B[n],M=a.id,$=a.length,U;if(M==-2&&z.Eo==null)M=-1;if(M==-3)U=z.Ro.V;
else if(M==-2)U=z.Eo.V;else U=z.V;var o=cH.Hl(q.td,q.Ut,e,U.s,U.T,V,$,P);o=T.EZ(o,q.depth);V+=$;if(M==-3)z.Ro.o=o;
else if(M==-2)z.Eo.o=o;else A["c"+M]=o}var t=new T.ZU(0);t.x6=null;if(D==3){t.l=A.c0;t.I=A.c1;t.c=A.c2;
t.x6=A["c-1"]}else if(D==1){t.l=A.c0;t.I=A.c0;t.c=A.c0;t.x6=A["c-1"]}else if(D==4){var c=q.kj.r1039,H=null,F=A.c0,i=A.c1,X=A.c2,K=A.c3;
if(c){var H=c.aIZ,f=17;if(H==null){var d=ICC.R(c.buffer);if(d.header.spaceIn=="RGB "){}else H=c.aIZ=ICC.U.sampleLUT(d,f)}}if(H){var L={l:F,I:i,c:X,x6:K},G=T.n(F.length*4,q.depth);
T.cO(L,G);T.TG(G);ICC.U.applyLUT4(H,f,G,G);T.B9(G,L)}else{var L={l:F,I:i,c:X,x6:K},G=T.n(F.length*4,q.depth);
T.cO(L,G);T.TG(G);T.afx(G);T.B9(G,L)}t.l=F;t.I=i;t.c=X;t.x6=A["c-1"]}if(t.l==null)t.l=T.n(0);if(t.x6==null&&t.l!=null){t.x6=t.l.slice(0);
t.x6.fill(T.K8(T.Gx(t.x6)))}if(t.I==null)t.I=t.l.slice(0);if(t.c==null)t.c=t.l.slice(0);z.buffer=T.n(Math.max(0,z.V.D()*4),q.depth);
T.cO(t,z.buffer);return V};cH.ahc=function(z,q,e,V,P,D,B){var A=q.aHB(B),s=q.buffer,a=null,M=T.Gx(s),$=T.n(q.V.D(),M);
if(B){a=T.n(q.V.D(),M);T.bl(s,a,3);s=s.slice(0);T.acq(s)}for(var n=0;n<A.length;n++){var U=A[n],o;if(U==-3)o=q.Ro.V;
else if(U==-2)o=q.Eo.V;else o=q.V;var t=$;if(U==-3)t=q.Ro.o;if(U==-2)t=q.Eo.o;if(U==-1){if(a)t=a;else T.bl(s,$,3)}if(U==0)T.bl(s,$,0);
if(U==1)T.bl(s,$,1);if(U==2)T.bl(s,$,2);if(U==3)T.bl(s,$,3);e.iU(V,Math.round(o.D()*(M>>>3)*1.2)+4);
var c=V;V=cH.OH(z,t,e.data,o.s,o.T,V,M!=8||D[1]?3:1);var H=V-c;if(z)y.aE1(e.data,P+n*10+2,H);else y.lt(e.data,P+n*6+2,H)}return V};
cH.Hl=function(z,q,e,V,P,D,B,A){var s=A?y.iJ:y.mU,a=s(e,D);D+=2;var M=cH._k(z,q,e,V,P,D,a,B-2,A);return M};
cH.OH=function(z,q,e,V,P,D,B){y.cD(e,D,B);D+=2;D=cH.t1(z,q,e,V,P,D,B);return D};cH._k=function(z,q,e,V,P,D,B,A,s){var a,M=V*P*(q>>>3),$=M&3,U=M+($==0?0:4-$);
if(A<=0){return T.n(U,q)}if(B==0){a=T.n(M);a.set(new Uint8Array(e.buffer,D,Math.min(M,e.buffer.byteLength-D)));
if(q==16)for(var n=0;n<M;n+=2){var o=a[n];a[n]=a[n+1];a[n+1]=o}if(q==32)for(var n=0;n<M;n+=4){var o=a[n];
a[n]=a[n+3];a[n+3]=o;o=a[n+1];a[n+1]=a[n+2];a[n+2]=o}D+=M}else if(B==1){a=T.n(M);var t=z?4:2,c=cH.akD(e,a,V,P,D,D+t*P,t,s);
D+=t*P+c}else if(B==2||B==3){var H=new Uint8Array(e.buffer,D+2,A-6),F=T.n(U);UZIP.inflateRaw(H,F);if(B==3){if(q==8)for(var i=0;
i<P;i++){var X=i*V+1,K=X+V-1,f=F[X-1];for(var d=X;d<K;d++){f+=F[d];F[d]=f&255}}else if(q==16)for(var i=0;
i<P;i++){var X=i*V,K=X+V,f=0;for(var d=X;d<K;d++){var L=d<<1;f+=F[L]<<8|F[L+1];F[L]=f&255;F[L+1]=f>>>8}}else{var G=V,x=F.slice(0,G*4);
for(var i=0;i<P;i++){var X=i*G*4+1,K=X+G*4-1,f=F[X-1];for(var d=X;d<K;d++){f+=F[d];F[d]=f&255}var O=i*G*4;
for(var d=0;d<G;d++){x[4*d+3]=F[O+d];x[4*d+2]=F[O+G+d];x[4*d+1]=F[O+G+G+d];x[4*d]=F[O+G+G+G+d]}F.set(x,O)}}}if(F.length==U)a=F;
else{a=T.n(U);for(var n=0;n<F.length;n++)a[n]=F[n]}}else a=T.n(U);if(q==16)a=new Uint16Array(a.buffer);
if(q==32)a=new Float32Array(a.buffer);return a};cH.t1=function(z,q,e,V,P,D,B){var A=V*P,s=T.Gx(q);if(s!=8)q=new Uint8Array(q.buffer);
var a=q;if(B==0)for(var n=0;n<A;n++)e[D++]=a[n];else if(B==1){var M=z?4:2,$=cH.al4(a,e,V,P,D,D+M*P,M);
D+=M*P+$}else if(B==2||B==3){function U(x,n){return x[n+1]<<8|x[n]}if(B==3){a=a.slice(0);if(s==8)for(var o=0;
o<P;o++){var t=o*V,c=t+V;for(var H=c-1;H>t;H--)a[H]=a[H]-a[H-1]+256&255}else if(s==16)for(var o=0;o<P;
o++){var t=o*V,c=t+V;for(var H=c-1;H>t;H--){var F=H<<1,i=U(a,F)-U(a,F-2)+65536&65535;a[F]=i>>>8;a[F+1]=i&255}var X=a[t*2];
a[t*2]=a[t*2+1];a[t*2+1]=X}else if(s==32){var K=V,f=a.slice(0,K*4);for(var o=0;o<P;o++){var d=o*K*4;
for(var H=0;H<K;H++){var L=d+4*H;f[H]=a[L+3];f[K+H]=a[L+2];f[K+K+H]=a[L+1];f[K+K+K+H]=a[L]}for(var H=K*4-1;
H>0;H--)f[H]=f[H]-f[H-1]+256&255;a.set(f,d)}}}e[D]=120;e[D+1]=156;D+=2;var G=pako.deflateRaw(a,{ae1:4});
e.set(G,D);D+=G.length+4}else console.log("Unknown compression: "+B);return D};cH.akD=function(z,q,e,V,P,D,B,A){if(!(z instanceof Uint8Array)||!(q instanceof Uint8Array))throw"e";
var s=D,a=V|0;if(A){if(B==2)for(var n=0;n<a;n++){var M=y.iJ(z,P+(n<<1));cH.ol(z,D,M,q,n*e,e);D+=M}else for(var n=0;
n<a;n++){var M=y.iM(z,P+(n<<2));cH.ol(z,D,M,q,n*e,e);D+=M}}else{if(B==2)for(var n=0;n<a;n++){var M=y.mU(z,P+(n<<1));
cH.ol(z,D,M,q,n*e,e);D+=M}else for(var n=0;n<a;n++){var M=y.vQ(z,P+(n<<2));cH.ol(z,D,M,q,n*e,e);D+=M}}return D-s};
cH.al4=function(z,q,e,V,P,D,B){var A=D;if(B==2)for(var n=0;n<V;n++){var s=cH.ajO(z,n*e,e,q,D);y.NX(q,P+n*2,s);
D+=s}else for(var n=0;n<V;n++){var s=cH.ajO(z,n*e,e,q,D);y.lt(q,P+n*4,s);D+=s}return D-A};cH.ajO=function(z,q,hE,e,V){var P,D,B,A,s,hp,a;
A=q+hE;for(B=q,D=V;hE>0;B=P,hE-=hp){a=hE<128?hE:128;if(B<=A-3&&z[B+1]==z[B+0]&&z[B+2]==z[B+0]){for(P=B+3;
P<B+a&&z[P]==z[B+0];)++P;hp=P-B;e[D++]=1+256-hp;e[D++]=z[B+0]}else{for(P=B;P<B+a;)if(P<=A-3&&z[P+1]==z[P+0]&&z[P+2]==z[P+0])break;
else++P;hp=P-B;e[D++]=hp-1;for(var n=0;n<hp;n++)e[D+n]=z[B+n];D+=hp}}return D-V};cH.ol=function(z,q,e,V,P,D){for(var B=0;
B<e;){var hE=z[q++];if(hE>=128){var A=z[q++],s=P+(257-hE);V.fill(A,P,s);P=s;B+=2}else{for(var n=0;n<=hE;
n++)V[P+n]=z[q+n];q+=hE+1;P+=hE+1;B+=1+1+hE}}};function eA(){}eA.afb=function(z){if(z.kj.r1005){z.do=y.RW(z.kj.r1005,0)}if(z.kj.r1025){var q=z.kj.r1025;
delete z.kj.r1025;var e=lh.W9(q,0,q.length,z.s,z.T),V=new lK.cI;V.B=e;if(e.length>4)z.yj[0]=hq.Hj("Work Path",{vmsk:V})}if(z.kj.r1026){var P=z.kj.r1026;
for(var n=0;n<P.length;n+=2){var D=z.Z[n>>>1];if(D)D.Km=y.mU(P,n)}delete z.kj.r1026}if(z.kj.r1032){z.r3=dE.aL0(z.kj.r1032,0)}delete z.kj.r1036;
z.L4(z.kj.r1039);if(z.kj.r1045){z.Sq=[];var B=z.kj.r1045,A=0;while(A<B.length){var s=y.CK(B,A);z.Sq.push(s);
A+=4+2+s.length*2}}if(z.kj.r1050){var a=y.vQ,M=z.kj.r1050,$=y.vQ(M,0);if($==6){var A=4,U=y.Tb(M,A);A+=16;
var o=y.RQ(M,A);A+=4+o.length*2;var t=a(M,A);A+=4;var c=z.tQ;for(var n=0;n<t;n++){var H=W.zL.Sh(),i;
c.push(H);H=H.v;H.sliceID.v=a(M,A);A+=4;H.groupID.v=a(M,A);A+=4;var F=a(M,A);A+=4;if(F==1){i=a(M,A);
A+=4}var o=y.RQ(M,A);A+=4+o.length*2;var X=a(M,A);A+=4;var K=[a(M,A),a(M,A+4),a(M,A+8),a(M,A+12)];A+=16;
W.zL.Ac(c,c.length-1,K);var f=H.url.v=y.RQ(M,A);A+=4+f.length*2;var d=H.null.v=y.RQ(M,A);A+=4+d.length*2;
var L=H.Msge.v=y.RQ(M,A);A+=4+L.length*2;var G=H.altTag.v=y.RQ(M,A);A+=4+G.length*2;H.cellTextIsHTML.v=M[A]==1;
A++;var x=H.cellText.v=y.RQ(M,A);A+=4+x.length*2;var O=a(M,A);A+=4;var v=a(M,A);A+=4;var C=M.slice(A,A+4);
A+=4;if(F!=2)c.pop()}}else if($==8){var S={},j=new kk(0,0,z.s,z.T);bF.oK(M,S,8,!1);var M=z.tQ=S.slices.v;
for(var n=0;n<M.length;n++){var w=W.zL.xl(M,n),u=new kk(w[0],w[1],w[2]-w[0],w[3]-w[1]);if(M[n].v.origin.v.ESliceOrigin!="userGenerated"||u.HX(j).a8()){M.splice(n,1);
n--}}}}if(z.kj.r1058){var l=z.kj.r1058,I=UTIF.decode(l.buffer,{parseMN:!1,debug:!1});lE.B0(I[0],z.MX);
delete z.kj.r1058}if(z.kj.r1060){var Q=y.vK(z.kj.r1060);lE.Cj(Q,z.MX);delete z.kj.r1060}if(z.kj.r1065){var P=z.kj.r1065;
z.jA={};bF.oK(P,z.jA,4,!1)}if(z.kj.r1069){var P=z.kj.r1069,b=[];for(var n=2;n<P.length;n+=4){var i=y.vQ(P,n);
for(var p=0;p<z.Z.length;p++){var D=z.Z[p];if(D.add.lyid==i&&D.add.lsct!=3&&b.indexOf(p)==-1)b.push(p)}}z.j=b}if(z.kj.r1072){var P=z.kj.r1072;
for(var n=0;n<P.length;n++){var D=z.Z[n];if(D)D.l6=P[n]==1}delete z.kj.r1072}if(z.kj.r1073){var P=z.kj.r1073,A=0,k=y.ca(P,A);
A+=4;var g=y.ca(P,A);A+=4;for(var n=0;n<g;n++){z.EC.push({y:k>=2?y.ad(P,A+2):y.RW(P,A+2),x:k>=2?y.ad(P,A+6):y.RW(P,A+6)});
A+=14}delete z.kj.r1073}if(z.kj.r1074){z.eJ={};bF.oK(z.kj.r1074,z.eJ,4,!1);delete z.kj.r1074}var Y,R,aP=null;
if(z.kj.r3000){Y={};bF.oK(z.kj.r3000,Y,4,!1);delete z.kj.r3000}if(z.add.pths){R=z.add.pths;delete z.add.pths}for(var m=0;
m<=997;m++){var Z="r"+(2e3+m),q=z.kj[Z];if(q==null)break;var e=lh.W9(q,0,q.length,z.s,z.T),E="Path "+m,N=[0,0];
if(R){var h=R.pathList.v[m].v,j5=h.pathSymmetryClass;if(j5){j5=j5.v;var r=j5.pathSymmetryMode.v.pathSymmetryModeEnum.slice(16),t=j5.pathSymmetryCount;
N=[T.NO.aHE.indexOf(r),t?t.v:0]}E=h.pathUnicodeName.v}var l8=Y?Y.keyRootDescriptorList.v[m].v.keyDescriptorList.v:lK.T4(e),V=new lK.cI;
V.B=e;z.yj.push(hq.Hj(E,{vmsk:V,vogk:l8},N));delete z.kj[Z]}if(R){var bS=R.pathSymmetrySelectedPath;
if(bS)aP=z.yj[bS.v+1]}for(var n=0;n<z.yj.length;n++)if(z.yj[n].IT[0]==3){z.yj.splice(n,1);n--}if(aP){if(aP.IT[0]==3)z.s_=!0;
else z.Fi=z.yj.indexOf(aP)}if(z.kj.r4000){z.pT=T.pT.iA(z.kj.r4000)}var kR=z.kj.r7000,j1=z.kj.r7001;if(kR){var s=y.vK(kR);
z.G5=dE.aGG(s);for(var f6=0;f6<z.G5.length;f6++){var gx=z.G5[f6],i=parseFloat(gx.docRef.slice(4,-2)),lC=!1;
for(var n=0;n<z.Z.length;n++){var D=z.Z[n];if(D.add.lyid==i&&!D.YZ()&&D.getName()!="</Layer group>")lC=!0}if(!lC){z.G5.splice(f6,1);
f6--}}}if(j1){var s=y.vK(j1);z.gd=dE.asQ(s)}delete z.kj.r7000;delete z.kj.r7001};eA.aGe=function(z,q,e){z.kj.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
y.a4t(z.kj.r1005,0,z.do);y.a4t(z.kj.r1005,8,z.do);if(z.EC.length>0){var V=z.EC;z.kj.r1073=new Uint8Array(8+V.length*14);
y.dR(z.kj.r1073,0,3);y.dR(z.kj.r1073,4,V.length);for(var n=0;n<V.length;n++){var P=8+14*n;y.cD(z.kj.r1073,P,14);
y.$r(z.kj.r1073,P+2,V[n].y);y.$r(z.kj.r1073,P+6,V[n].x);y.cD(z.kj.r1073,P+10,-1);y.cD(z.kj.r1073,P+12,8)}}if(z.LG()){z.kj.r1022=new Uint8Array([0,3+z.kv.length-1,0])}else delete z.kj.r1022;
var D=new Uint8Array(z.Z.length*2),B=0,A=new Uint8Array(z.Z.length),s=1,P=16;for(var n=0;n<z.Z.length;
n++){var a=z.Z[n],M=a.Km,$=a.l6?1:0;y.NX(D,n*2,M);A[n]=$;if(M>B)B=M;if($==0)s=0}if(B>0)z.kj.r1026=D;
if(s<1)z.kj.r1072=A;var U=z.r3,o=U.length,t=z.kj.r1032=new Uint8Array(16+5*o);y.lt(t,0,1);y.lt(t,4,576);
y.lt(t,8,576);y.lt(t,12,o);for(var n=0;n<o;n++){y.dR(t,P,Math.round(U[n][1]*32));t[P+4]=U[n][0];P+=5}if(q[4]!=!0){var c=[z.tW(),new kk(0,0,z.s,z.T)],H=0;
T.Jr(c);while(c[H+1].D()>200*200)H+=2;var F=hZ.nw("jpg"),i=c[H+1],X=new Uint8Array(F.gB([[c[H].buffer,null,z.do]],i.s,i.T)),t=z.kj.r1036=new Uint8Array(28+X.length);
y.lt(t,0,1);y.lt(t,4,i.s);y.lt(t,8,i.T);y.lt(t,12,i.s*3);y.lt(t,16,i.D()*3);y.lt(t,20,X.length);y.NX(t,24,24);
y.NX(t,26,1);t.set(X,28)}delete z.kj.r1045;delete z.kj.r1006;delete z.kj.r1077;var K=new k7;P=0;var f=new Uint8Array(4+e.length*13);
f[3]=1;for(var n=0;n<e.length;n++){var d=e[n],L=d.name+"\0";y.pP(K,P,L);P+=4+L.length*2;var G=4+n*13;
kH.vF(f,G,d.go);f[G+11]=d.Or;f[G+12]=d.DO}if(P!=0)z.kj.r1045=K.data.slice(0,P);z.kj.r1077=f;for(var n=0;
n<z.tQ.length;n++)z.tQ[z.tQ.length-n-1].v.sliceID.v=2+n*3;var x={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:z.tQ}},K=new k7;
y.Ri(K,0,8);y.Ri(K,4,16);var O=bF.u1(K,x,8);z.kj.r1050=K.data.slice(0,O+8);var K=new k7;y.Ri(K,0,16);
var O=bF.u1(K,z.jA,4);z.kj.r1065=K.data.slice(0,O+4);if(z.eJ){var K=new k7;y.Ri(K,0,16);var O=bF.u1(K,z.eJ,4);
z.kj.r1074=K.data.slice(0,O+4)}var v=z.j;t=z.kj.r1069=new Uint8Array(2+v.length*4);y.NX(t,0,v.length);
for(var n=0;n<v.length;n++)y.lt(t,2+4*n,z.Z[v[n]].add.lyid);delete z.kj.r1058;delete z.kj.r1060;if(Object.keys(z.MX).length!=0){var C=[[Math.round(z.do*1e4),1e4]],S=[{t274:[1],t282:C,t283:C,t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
lE.$y(z.MX,S[0],q[0]&&q[1]);z.kj.r1058=new Uint8Array(UTIF.encode(S));var j=lE.CS(z.MX);z.kj.r1060=y.GY(j)}var w=[],u=[],l=z.yj.slice(0);
if(z.s_){var I=lh.auU([{type:6},{type:8,all:0},{type:3,length:5,boolop:1,frule:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),Q=new lK.cI;
Q.B=I;l.push(hq.Hj("Tile Symmetry 1",{vmsk:Q,vogk:lK.T4(I)},[3,1]))}var b=z.s_?z.yj.length-1:z.Fi-1;
for(var n=0;n<l.length;n++){var p=l[n],I=p.add.vmsk.B;if(n==0&&I.length==2)continue;var k=T.n(I.length*26);
lh.dm(k,0,I,z.s,z.T);var g=n==0?1025:2e3+n-1;z.kj["r"+g]=k;if(n!=0){var Y={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:p.name}},R=Y.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryMode"+T.NO.aHE[p.IT[0]]}}}};
if(p.IT[1]!=0)R.v.pathSymmetryCount={t:"long",v:p.IT[1]};w.push({t:"Objc",v:Y});u.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:p.add.vogk}}})}}if(w.length!=0){z.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:w}};
if(b!=-1)z.add.pths.pathSymmetrySelectedPath={t:"long",v:b};u={classID:"null",keyRootDescriptorList:{t:"VlLs",v:u}};
var K=new k7;y.Ri(K,0,16);var O=bF.u1(K,u,4);z.kj.r3000=K.data.slice(0,O+4)}else{delete z.add.pths;delete z.kj.r3000}if(z.pT&&z.pT.length!=0){z.kj.r4000=T.pT.Ft(z.pT)}if(z.G5.length!=0){var m="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var n=0;n<z.G5.length;n++){var Z=z.G5[n],E=[];for(var g in Z)E.push(g+"=\""+Z[g]+"\"");m+="<variable "+E.join(" ")+">\n</variable>\n"}m+="</variables>\n</variableSet>\n</variableSets>";
z.kj.r7000=y.GY(m)}if(z.gd.length!=0){var m="<sampleDataSets psdPath=\""+z.name+"\">\n";for(var n=1;
n<z.gd.length;n++){var N=z.gd[n];m+="<sampleDataSet dataSetName=\"Data Set "+n+"\">\n";for(var h=0;h<N.length;
h++)m+="<"+z.gd[0][h]+">"+N[h].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+z.gd[0][h]+">\n";m+="</sampleDataSet>\n"}m+="</sampleDataSets>";
z.kj.r7001=y.GY(m)}};eA.akt=function(z,q,e){var V=y.vQ(q,e),P=0;e+=4;var D=[];while(P<V){var B=y.JU(q,e+P,4);
P+=4;var A=y.mU(q,e+P);P+=2;var s=y.bm(q,e+P);P+=s.length;if(B=="MeSa"&&(A==7e3||A==7001)){}else if(B!="8BIM"){D.push(A);
console.log("Unknown Image Resources signature: "+B+", ID: "+A)}var a=y.vQ(q,e+P);P+=4;if(z.kj["r"+A]!=null)console.log("--- two resources with same ID");
z.kj["r"+A]=y.Nh(q,e+P,a);P+=a+(a&1)}for(var n=0;n<D.length;n++)delete z.kj["r"+D[n]];delete z.kj.r1092;
return e+V};eA.a2u=function(z,q,e){var V=e,B=0;e+=4;var P=[];for(var D in z.kj){P.push(parseInt(D.slice(1)))}P.sort(function($,U){return $-U});
for(var n=0;n<P.length;n++){var A=P[n];y.QQ(q,e+B,A==7e3||A==7001?"MeSa":"8BIM");B+=4;y.jK(q,e+B,A);
B+=2;var s=y.Qr(q,e+B,"");B+=s;var a=z.kj["r"+A],M=a.length;y.Ri(q,e+B,M);B+=4;y.v$(q,e+B,a);B+=M;if(M%2==1)B++}y.Ri(q,V,B);
return e+B};function dE(){}dE.KL=function(z,q,e){return;var V="",P=q;while(P!=0){var D=P%1e3+"";while(D.length<3)D="0"+D;
V=(V==""?D:D+" ")+V;P=Math.floor(P/1e3)}while(V.startsWith("0")&&V!="0")V=V.slice(1);while(V.length<11)V=" "+V;
console.log("===",V,"\t".repeat(z),": "+e)};dE.aAr=function(z){var q={kj:{},add:{},depth:8},V=0,P=0,A;
q.td=!1;q.Ut=8;var e=new Uint8Array(z);P=dE.u2(q,e,V);V=P;P=dE.a83(q,e,V);V=P;var D=y.vQ(e,V);V+=4+D;
var B=q.td?8:4;if(q.td)A=y.e1(e,V);else A=y.vQ(e,V);V+=B+A;P=dE.agG(q,e,V);return[{hp:new kk(0,0,q.s,q.T),data:q.buffer.buffer}]};
dE.iA=function(z,q){q.td=!1;var e=new Uint8Array(z),V=0,P=0,A=0,U=!1,o=!0,t=!1,c=0,la=0;P=dE.u2(q,e,V);
dE.KL(0,P-V,"PSD Header");V=P;P=dE.a83(q,e,V);dE.KL(0,P-V,"Color Mode Data");V=P;P=eA.akt(q,e,V);dE.KL(0,P-V,"Image Resources");
V=P;var D=V;P=dE.atQ(q,e,V);dE.KL(0,P-V,"Layer And Mask Info");V=P;eA.afb(q);var D=V;P=dE.agG(q,e,V);
dE.KL(0,P-V,"Merged Image");V=P;delete q.td;if(q.Z.length==0){var B=q.OJ();B.up("Background");q.Z.push(B);
B.buffer=q.buffer.slice(0);B.V=new kk(0,0,q.s,q.T)}for(var n=0;n<q.Z.length;n++){var P=q.Z[n],s=P.add.lsct;
if(s==fH.pR)A++;else if(s==fH._j||s==fH.OI)A--}while(A<0){q.Z.unshift(q.cs());A++}var a=new kk(0,0,q.s,q.T),M=q.add.Txt2,$=M;
if($){$=$.dV;if($._DocumentResources==null)$=kT.avC($)}var H=-1;for(var n=0;n<q.Z.length;n++){var P=q.Z[n],F=P.add.lsct,i=P.add.vmsk,X=P.OX();
if(F==fH.pR){c++;P.add.lspf=0}else if(F==fH._j||F==fH.OI)c--;if(P.name==""){P.name="Layer "+(n+1);t=!0}if(t&&P.YZ()&&P.pi=="norm")P.pi="pass";
if(P.LL()&&P.kL(q)==null)delete P.add.SoLd;if(P.LL()&&P.kL(q).Eo){var K=P.kL(q);K.Eo.isEnabled=P.add.SoLd.filterFX.v.filterMaskEnable.v}if(i&&P.mp()){var f=az.Y1.g1(!0);
if(P.add.vstk==null)P.add.vstk=T.G(f);else{var d="strokeStyleLineDashSet";if(P.add.vstk[d]==null)P.add.vstk[d]=T.G(f[d])}P.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
P.add.vstk.strokeStyleResolution.v=q.do}if(i&&(P.add.vogk==null||T.S.S2(i.B)!=P.add.vogk.length))P.T4();
if(i&&P.add.vogk){var L=i.B,G=P.add.vogk,x=0;for(var O=0;O<L.length;O++){var v=L[O];if(v.e==0||v.e==3)if(v.xq!=-1){if(L[O+1+v.length]&&L[O+1+v.length].xq==-1&&G[x].v.keyOriginType){P.T4();
break}x++}}}if(!1){var C=P.add.vogk,S=!0;for(var x=0;x<C.length;x++){var j=C[x].v.keyShapeInvalidated;
if(j==null||j.v==!1)S=!1}if(S)P.T4()}if(P.add.SoLd&&P.V.a8()){console.log("redrawing smart instance");
P.N7(q,null,null,!0,!0)}if(X==null&&P.Eo!=null){if(P.Eo.HF==!1){P.Eo.HF=!0;P.Ro=P.Eo.Y()}}X=P.OX();if(P.mY){var f=P.mY,w=i;
if(X){X.uI=f[0];X.j_=f[1]}if(w){w.uI=f[2];w.j_=f[3]}P.mY=null}if(X!=null&&i!=null&&(X.j_+i.j_!=0||X.uI+i.uI!=2*255))P.ly(q);
else if(i!=null&&!P.mp())P.ly(q);else if(X&&X.uI!=255&&P.mp())P.ly(q);var u=P.add.artb;if(u&&u.artboardBackgroundType==null)u.artboardBackgroundType={t:"long",v:1};
if(u&&c!=0)delete P.add.artb;var l=P.add.vstk;if(P.mp()&&(P.V.a8()||i&&i.j_!=0||l&&!l.fillEnabled.v&&(!l.strokeEnabled.v||l.strokeStyleLineWidth.v.val==0)))P.D3(q);
if(P.add.TySh){U=!0;if(!P.V.a8())o=!1}if(P.add.TySh&&$){H++;var I=P.add.TySh._1,Q=dc.s0(I),b=$._DocumentObjects._TextObjects;
if(b.length<=H){console.log("Txt2 incomplete");continue}var p=b[H]._Model,k=p._StyleRun?p._StyleRun._RunArray:[],g=I.EngineDict.StyleRun.RunArray;
for(var Y=0;Y<g.length;Y++){var R=g[Y].StyleSheet.StyleSheetData;if(k[Y]==null)continue;var m=k[Y]._RunData._StyleSheet._Features;
if(m){if(m._BaselineDirection)R.BaselineDirection=parseInt(m._BaselineDirection.slice(1));if(m._FillBackgroundFlag)R._FillBackgroundFlag=m._FillBackgroundFlag;
if(m._FillBackgroundColor)R._FillBackgroundColor={Type:1,Values:ga.ZC(m._FillBackgroundColor._Color._Values)};
var s=dc.Hw;for(var Z=0;Z<s.length;Z++)if(m[s[Z]]!=null)R[s[Z]]=m[s[Z]];var E=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset","_DigitSet"];
for(var Z=0;Z<E.length;Z++)if(m[E[Z]]!=null)R[E[Z]]=parseFloat(m[E[Z]].slice(1));if(m._MiterLimit!=null)R._MiterLimit=Math.max(R._MiterLimit,1);
if(m._LineDashArray!=null)R._LineDashArray=ga.ZC(m._LineDashArray)}}var N=I.EngineDict.ParagraphRun.RunArray,h=p._ParagraphRun._RunArray;
if(h==null)h=[];var j5=Math.min(h.length,N.length);for(var Z=0;Z<j5;Z++){var r=N[Z].ParagraphSheet.Properties,l8=$._DocumentResources._ParagraphSheetSet._Resources,aP=h[Z]._RunData._ParagraphSheet;
if(typeof aP=="string")aP=l8[parseInt(aP.slice(1))]._Resource;var bS=aP._Parent==null?aP:l8[parseInt(aP._Parent.slice(1))]._Resource;
aP=aP._Features;bS=bS._Features;var kR=aP._ParagraphDirection;if(kR==null)kR=bS._ParagraphDirection;
if(kR)r._Direction=parseInt(kR.slice(1));if(aP._ComposerEngine)r._ComposerEngine=parseInt(aP._ComposerEngine.slice(1))}if(p._AlternateGlyphRun){var h=p._AlternateGlyphRun._RunArray,j5=h.length,j1=I.EngineDict.AlternateGlyphRun=dc.ayR();
for(var Z=0;Z<j5;Z++){var aP=h[Z],f6={},gx=aP._RunData._AlternateGlyphSheet;if(gx)f6.Glyph=parseInt(gx._Glyph.slice(1));
j1.RunArray.push(f6);j1.RunLengthArray.push(parseInt(aP._Length.slice(1)))}}var lC=$._DocumentResources,g2=lC._FontSet._Resources,dv=I.ResourceDict.FontSet;
for(var bv=0;bv<dv.length;bv++){var eo=dv[bv],aL=null;for(var Z=0;Z<g2.length;Z++){var dh=g2[Z]._Resource._Identifier;
if(eo.Name==dh._Name.slice(1))aL=dh}if(aL){var eM=aL._MMAxis;if(eM){eo.Axis=[];for(var Z=0;Z<eM.length;
Z++)eo.Axis.push(parseInt(eM[Z].slice(1)))}}}var kg=lC._TextFrameSet._Resources,jJ=kg[H]._Resource,iL=jJ._Data,bz=new e5(1,0,0,1,0,0);
if(jJ._0){var ks=parseFloat(jJ._0[0].slice(1)),gr=parseFloat(jJ._0[1].slice(1));bz.translate(ks,gr)}if(Q){bz.translate(Q[0],Q[1]);
dc.v7(I,[0,0,Q[2]-Q[0],Q[3]-Q[1]])}else{if(jJ._Bezier&&jJ._Bezier._Points){var hg=jJ._Bezier._Points,ks=parseFloat(hg[0].slice(1)),gr=parseFloat(hg[1].slice(1));
if(ks!=0||gr!=0){bz.translate(ks,gr)}}}if(jJ._Data&&jJ._Data._FrameMatrix){var ci=jJ._Data._FrameMatrix;
ci=ci.map(function(j7){return parseFloat(j7.slice(1))});bz.concat(new e5(ci[0],ci[1],ci[2],ci[3],ci[4],ci[5]))}bz.concat(P.add.TySh.v);
P.add.TySh.v=bz;var fK=iL._Type?parseInt(iL._Type.slice(1)):0;if(fK==2||fK==1&&iL._PathData&&iL._PathData._Spacing=="i-3")if(jJ._Bezier){var jN=function(j7){return parseFloat(j7.slice(1))},hg=jJ._Bezier._Points.map(jN);
if(Q)T.R.v(hg,new e5(1,0,0,1,-Q[0],-Q[1]),hg);var dD=iL._PathData?iL._PathData._Reversed:!1,eF=iL._TextOnPathTRange;
if(eF==null)eF=["f-3","f-3"];I.Curve={Points:hg,TextOnPathTRange:eF.map(jN),Reversed:dD==null?!1:dD};
P.add.TySh.add={vmsk:new lK.cI,vogk:null};dc.nR(P.add.TySh)}if(iL._LineOrientation=="i2")I._LineOrientation=2}}W.$I.CB(q,!0);
var io={},e9=[];for(var n=0;n<q.Z.length;n++){var gM=q.Z[n].add.lyid;if(gM==null)continue;var la=Math.max(la,gM);
if(io[gM]!=null)e9.push(n);else io[gM]=!0}for(var n=0;n<e9.length;n++)q.Z[e9[n]].add.lyid=la+1+n};dE.aL0=function(z,q){q+=12;
var e=y.vQ(z,q),V=[];q+=4;e=Math.min(e,Math.floor((z.length-q)/5));for(var n=0;n<e;n++){var P=Math.min(z[q+n*5+4],1),D=y.ca(z,q+n*5)/32;
V.push([P,D])}return V};dE.aGG=function(z){var q=new DOMParser,e=q.parseFromString(z,"text/xml").firstChild.children[0],V=e.getElementsByTagName("variables");
if(V.length==0)return[];V=V[0].children;var P=[],D="varName trait docRef placementMethod align valign clip".split(" ");
for(var B=0;B<V.length;B++){var A=V[B],s={};P.push(s);for(var a=0;a<D.length;a++){var M=D[a],$=A.getAttribute(M);
if($==null)continue;s[M]=$}}return P};dE.asQ=function(z){var q=new DOMParser,e=q.parseFromString(z,"text/xml").firstChild.children,V=[[]];
if(e==null)return V;for(var n=0;n<e.length;n++){var P=e[n],D=[];V.push(D);for(var B=0;B<P.children.length;
B++){var A=P.children[B];if(n==0)V[0].push(A.tagName);D.push(A.textContent)}}return V};dE.Ft=function(z,q,e){W.$I.Cu(z);
W.$I.CB(z,!1);z.td=e[3]==!0;var V=[],P=[],c=0;for(var n=0;n<z.Z.length;n++){var D=z.Z[n];if(D.LL()&&D.kL(z).Eo){D.add.SoLd.filterFX.v.filterMaskEnable.v=D.kL(z).Eo.isEnabled}if(D.add.TySh){var B=D.add.TySh._1,A=dc.hQ(B);
D.add.TySh.h8.TextIndex={t:"long",v:V.length};V.push(B);if(A==2)dc._6(D.add.TySh)}var s=D.add.vstk;if(s)s.strokeStyleResolution.v=z.do;
if(D.mp()||e[2]&&D.add.SoLd){P[n]=[D.V,D.buffer];D.V=new kk;D.buffer=T.n(0);if(D.add.SoLd){var a=D.kL(z);
if(a!=null){P[n].push(a.buffer);a.buffer=T.n(a.buffer.length)}}}}if(V.length>0){var M=z.add.Txt2?z.add.Txt2.dV:null;
if(z.add.Txt2==null)z.add.Txt2={};z.add.Txt2.dV=ga.ayr(V,null,M)}var $=[z.add.lnk2,z.add.FEid,z.add.Patt],U=z.awk(z.Z);
z.av7(U);var o=T.Ep(z.buffer);if(z.add.fcmy)o=!1;var t=[];if(o)t.push({name:"Transparency",go:{l:255,I:0,c:0},Or:100,DO:1});
t=t.concat(z.kv);eA.aGe(z,e,t);c=dE.t5(z,q,c,3+t.length);c=dE.a4V(z,q,c);c=eA.a2u(z,q,c);c=dE.avX(z,q,c,e,o);
c=dE.auv(z,q,c,e[0],o);var H=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var n=0;n<H.length;n++)delete z.kj["r"+H[n]];for(var n=0;n<z.Z.length;n++){var D=z.Z[n];if(D.mp()||e[2]&&D.add.SoLd){D.V=P[n][0];
D.buffer=P[n][1];if(P[n][2]){var a=D.kL(z);P[n].push(a.buffer);a.buffer=P[n][2]}}}z.av7($);W.$I.CB(z,!0);
delete z.td;return c};dE.u2=function(z,q,e){var V=y.JU(q,e,4);e+=4;if(V!="8BPS")alert("invalid header signature: "+V);
var P=y.mU(q,e);e+=2;z.td=P==2;if(P!=1&&P!=2)alert("invalid version: "+P);e+=6;z.uG=y.mU(q,e);e+=2;z.T=y.ca(q,e);
e+=4;z.s=y.ca(q,e);e+=4;z.Ut=y.mU(q,e);if(df)z.depth=z.Ut;e+=2;z.cN=y.mU(q,e);e+=2;return e};dE.t5=function(z,q,e,V){var P=z.add.fcmy==1;
q.iU(0,64);y.Wd(q.data,e,"8BPS");e+=4;y.NX(q.data,e,z.td?2:1);e+=2;y.lt(q.data,e,0);e+=4;y.NX(q.data,e,0);
e+=2;y.NX(q.data,e,V+(P?1:0));e+=2;y.dR(q.data,e,z.T);e+=4;y.dR(q.data,e,z.s);e+=4;y.NX(q.data,e,z.depth);
e+=2;y.NX(q.data,e,P?4:3);e+=2;return e};dE.a83=function(z,q,e){var V=y.ca(q,e);e+=4;if(V!=0)z.pO=q.slice(e,e+V);
e+=V;return e};dE.a4V=function(z,q,e){if(z.depth==32){var V=new Uint8Array([104,100,114,116,0,0,0,3,62,107,133,31,0,0,0,2,0,0,0,7,0,76,0,105,0,110,0,101,0,97,0,114,0,0,0,2,0,2,0,0,0,0,0,255,0,255,1,1,0,0,0,0,0,0,0,0,65,128,0,0,0,0,0,1,0,0,0,0,63,128,0,0,104,100,114,97,0,0,0,6,0,0,0,0,65,160,0,0,65,240,0,0,0,0,0,0,0,0,0,0,63,128,0,0,0,0,0,0,0,0]);
y.Eb(q,e,V.length);e+=4;q.iU(e,V.length);q.data.set(V,e);e+=V.length}else{y.Eb(q,e,0);e+=4}return e};
dE.atQ=function(z,q,e){var V=e,P,D,B=z.td?8:4;if(z.td)P=y.e1(q,e);else P=y.vQ(q,e);e+=B;if(P==0)return V+B;
D=dE.a9g(z,q,e);dE.KL(1,D-e,"Layer Info");e=D;D=dE.a5I(z,q,e);dE.KL(1,D-e,"Global Layer Mask Info");
e=D;D=d1.R1(q,e,V+B+P,z.add,z.td,z);dE.KL(1,D-e,"Project Add Info");e=D;return V+B+P};dE.avX=function(z,q,e,V,P){var D=e;
y.Ri(q,e,0);e+=4;if(z.td){y.Ri(q,e,0);e+=4}e=dE.aJN(z,q,e,V,P);e=dE.adD(z,q,e);var B=z.add;if(z.depth!=8){B={};
B["Lr"+z.depth]={};for(var A in z.add)B[A]=z.add[A]}e=d1.oS(q,e,B,z.td,z);if(z.td)y.Qw(q,D,e-D-8);else y.Ri(q,D,e-D-4);
return e};dE.a9g=function(z,q,e){var V,P=z.td?8:4;if(z.td)V=y.e1(q,e);else V=y.vQ(q,e);e+=P;if(V!=0)dE.iQ(z,q,e);
return e+V};dE.iQ=function(z,q,e,V){var P=e,D=V?y.dG:y.ab,B=D(q,e);e+=2;var A=Math.abs(B);for(var n=0;
n<A;n++){var s=new lK;e=cZ.iA(s,z,q,e,V);if(!s.YZ()&&s.pi=="pass")s.pi="norm";z.Z[n]=s}var a=new kk(0,0,z.s,z.T);
for(var n=0;n<A;n++){var M=z.Z[n],$=M.OX(),U=cH.iA(M,z,q,e,V);if(U-e>8)dE.KL(2,U-e,"Lay: "+M.getName());
e=U;dE.aAM(M,a);if($)dE.aAM($,a)}};dE.aAM=function(z,q){};dE.aJN=function(z,q,e,V,P){var D=e,B=z.td;
e+=B?8:4;if(z.depth==8)e=dE.a3Q(z,q,e,V,P);var A=e-D-(B?8:4);if(A%2!=0)A++;if(B)y.Qw(q,D,A);else y.Ri(q,D,A);
return D+A+(B?8:4)};dE.a3Q=function(z,q,e,V,P){var D=z.Z.length;y.xa(q,e,P?-D:D);e+=2;var B=[];for(var n=0;
n<D;n++)e=cZ.Ft(z.Z[n],z,q,e,B);for(var n=0;n<D;n++)e=cH.iO(z.td,z.Z[n],q,e,B[n],V,z.add.fcmy==1);return e};
dE.a5I=function(z,q,e){var V=y.vQ(q,e);e+=4;e+=V;return e};dE.adD=function(z,q,e){var V=y.Ri(q,e,0);
e+=4;return e};dE.agG=function(z,q,e){var V=z.cN,P="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),D=[1,1,1,3,4,1,1,3],$;
delete z.add.fcmy;if(V!=3){if(V==1||V==2||V==4)console.log("Project will be converted from "+P[V]+" to "+P[3]+" mode.");
else{alert("Color mode "+P[V]+" is not supported yet :(")}if(V==4)z.add.fcmy=1}var B=D[V]+(z.Sq==null||z.Sq[0]=="Transparency"?1:0),A=z.s,s=z.T,a=A*s,M=y.mU(q,e);
e+=2;z.buffer=T.n(a*4,z.depth);T.yS(z.buffer,1);var U=e;for(var o=0;o<z.uG;o++){if(M==0){$=cH._k(z.td,z.Ut,q,A,s,e,M);
$=T.EZ($,z.depth);e+=a*(z.Ut>>>3)}else if(M==1){var t=z.Ut==8?1:z.Ut==16?2:4;$=T.n(a*t);var c=z.td?4:2;
if(o==0)e+=z.uG*s*c;e+=cH.akD(q,$,A*t,s,U+o*s*c,e,c);if(z.Ut==16){for(var n=0;n<$.length;n+=2){var H=$[n];
$[n]=$[n+1];$[n+1]=H}$=new Uint16Array($.buffer)}if(z.Ut==32){for(var n=0;n<$.length;n+=4){var H=$[n];
$[n]=$[n+3];$[n+3]=H;H=$[n+1];$[n+1]=$[n+2];$[n+2]=H}$=new Float32Array($.buffer)}$=T.EZ($,z.depth)}else{console.log("unknown compression of image data: ",M);
return}if(o<B){T.yR($,z.buffer,o);if(z.uG==1&&o==0){T.yR($,z.buffer,1);T.yR($,z.buffer,2)}}else{var F=new lK.Eu,i=o-B,X=o-D[z.cN];
F.name=z.Sq?z.Sq[X]:"Alpha";if(F.name=="Quick Mask"){F.eq=!0;z.C2.push(i)}F.V=new kk(0,0,A,s);F.o=$;
F.color=0;F.Sn();z.kv[i]=F;if(z.kj.r1077){var K=z.kj.r1077.slice(4+X*13);F.go=kH._3(K,0);F.Or=K[11];
F.DO=K[12];if(F.DO==2)F.eq=!0}}}z.uG=4;if(z.cN==2)for(var n=0;n<a;n++){var f=n*4,d=z.buffer[f];z.buffer[f]=z.pO[0+d];
z.buffer[f+1]=z.pO[256+d];z.buffer[f+2]=z.pO[512+d]}return e};dE.auv=function(z,q,e,V,P){var D=1,B=16,A=z.s,s=z.T,M,$,U;
y.jK(q,e,D);e+=2;if(z.depth!=8)V=!0;var a=A*s;if(!V){$=new T.ZU(A*s);T.B9(z.buffer,$);var o=$.l,t=$.I,c=$.c,H=$.x6;
for(var n=0;n<a;n++){var F=H[n]*(1/255);o[n]=~~(o[n]*F+255*(1-F));t[n]=~~(t[n]*F+255*(1-F));c[n]=~~(c[n]*F+255*(1-F))}U=[$.l,$.I,$.c];
if(z.add.fcmy==1){U.push(T.n(a));var i=z.buffer.slice(0);T.acq(i);T.B9(i,{l:U[0],I:U[1],c:U[2],x6:U[3]})}if(P)U.push($.x6)}else{M=T.n(a,z.depth);
if(z.depth==16)M.fill(65535);U=[M,M,M];if(z.add.fcmy==1)U.push(M);if(P)U.push(M)}for(var n=0;n<z.kv.length;
n++){U.push(z.kv[n].Xp(new kk(0,0,z.s,z.T)))}var X=e;for(var K=0;K<U.length;K++){q.iU(e,A*s+4);M=U[K];
if(D==0||D==2||D==3)e=cH.t1(z.td,M,q.data,A,s,e,D);else{var f=new Uint8Array(M.buffer),d=A*(z.depth>>>3),L=z.td?4:2;
if(K==0)e+=U.length*s*L;var G=e;e+=cH.al4(f,q.data,d,s,X+K*s*L,e,L)}}return e};function ej(){}ej.iA=function(z){var q={};
ej.KT(z,q,0,0);return q};ej.Ft=function(z,q){var e=0;e=ej.iq(z,q,e,0);return e};ej.KT=function(z,q,e,V){while(z[e]!="<".charCodeAt(0))e++;
e+=2;while(!0){if(z[e]=="/".charCodeAt(0)){e++;var P=y.indexOf(z," ".charCodeAt(0),e,e+50),D=y.indexOf(z,"\n".charCodeAt(0),e,e+50);
if(D==-1)D=Infinity;if(P==-1)P=Infinity;var B=Math.min(D,P),A=y.JU(z,e,B-e),s=ej.lY(z,B+1,V+1,A);q[A]=s.u;
e=B+1;e+=s.size}else if(z[e]==">".charCodeAt(0)){e+=2;break}else{var a=z[e];if(a==10||a==9||a==32)e++;
else{console.log("unknown byte: "+a+", char: "+String.fromCharCode(a),e);e++}}}return e};ej.iq=function(z,q,e,V){y.QQ(q,e,"<<\n");
e+=3;var P=ej.amE;for(var D in z){y.n$(q,e,"\t".charCodeAt(0),V+1);e+=V+1;y.QQ(q,e,"/"+D);e+=1+D.length;
if(P(z[D])||z[D]instanceof Array){y.QQ(q,e," ");e++}else{y.QQ(q,e,"\n");e++;y.n$(q,e,"\t".charCodeAt(0),V+1);
e+=V+1}e=ej.Vu(z[D],q,e,V+1);y.QQ(q,e,"\n");e++}y.n$(q,e,"\t".charCodeAt(0),V);e+=V;y.QQ(q,e,">>");e+=2;
return e};ej.lY=function(z,q,e,V){var P=q,D={size:0,u:0};while(!0){while(z[q]==" ".charCodeAt(0)||z[q]=="\t".charCodeAt(0)||z[q]=="\n".charCodeAt(0))q++;
if(z[q]=="<".charCodeAt(0)){D.u={};q=ej.KT(z,D.u,q,e+1);break}else if(z[q]=="(".charCodeAt(0)){q+=3;
var B=q;while(!0){if(z[B-1]!="\\".charCodeAt(0)&&z[B]==")".charCodeAt(0)&&(z[B+1]=="\n".charCodeAt(0)||z[B+1]==" ".charCodeAt(0)))break;
else B++}D.u=y.aoh(z,q,B);q=B+2;break}else if(z[q]=="[".charCodeAt(0)){q++;D.u=[];while(z[q]==" ".charCodeAt(0)||z[q]=="\t".charCodeAt(0)||z[q]=="\n".charCodeAt(0))q++;
while(z[q]!="]".charCodeAt(0)){var A=ej.lY(z,q,e+1,V);D.u.push(A.u);q+=A.size;while(z[q]==" ".charCodeAt(0)||z[q]=="\t".charCodeAt(0)||z[q]=="\n".charCodeAt(0))q++}q++;
break}else{var s=y.indexOf(z," ".charCodeAt(0),q,q+50),a=y.indexOf(z,"\n".charCodeAt(0),q,q+50);if(a==-1)a=Infinity;
if(s==-1)s=Infinity;var M=y.JU(z,q,Math.min(s,a)-q).trim(),$=parseFloat(M);if(!isNaN($)){D.u=parseFloat(M);
q=Math.min(s,a)+1;break}else if(M=="true"||M=="false"){D.u=M=="true";q=Math.min(s,a)+1;break}else if(M=="null"||M=="NaN"||M=="undefined"){D.u=0;
q=Math.min(s,a)+1;break}else{console.log("unknown identifier: "+M);throw"e"}q=Math.min(s,a)+1}}D.size=q-P;
return D};ej.Vu=function(z,q,e,V){if(z instanceof Array){var P=z.length==0||typeof z[0]=="number";if(P){y.QQ(q,e,"[ ");
e+=2;for(var n=0;n<z.length;n++){var D=z[n]+" ";y.QQ(q,e,D);e+=D.length}y.QQ(q,e,"]");e+=1}else{y.QQ(q,e,"[\n");
e+=2;for(var n=0;n<z.length;n++){y.n$(q,e,"\t".charCodeAt(0),V);e+=V;e=ej.Vu(z[n],q,e,V);y.QQ(q,e,"\n");
e++}y.n$(q,e,"\t".charCodeAt(0),V);e+=V;y.QQ(q,e,"]");e+=1}}else if(z instanceof Object){e=ej.iq(z,q,e,V)}else if(typeof z=="string"){y.QQ(q,e,"(");
e++;y.n$(q,e,254);e++;y.n$(q,e,255);e++;e=y.acD(q,e,z);y.QQ(q,e,")");e+=1}else{var D=z+"";y.QQ(q,e,D);
e+=D.length}return e};ej.amE=function(z){var q=typeof z;return q=="string"||q=="number"||q=="boolean"};
function dC(){}dC.iA=function(z){var q={};dC.acb(z,q,0,0);return q};dC.Ft=function(z,q){var e=0;y.QQ(q,e," ");
e++;e=dC.a6I(z,q,e,0);e--;q.iU(e,2);q.data[e]=q.data[e+1]=0;e+=2;return e};dC.KT=function(z,q,e,V){while(z[e]!="<".charCodeAt(0)){e++;
console.log("šipka")}e+=2;e=dC.acb(z,q,e,V);return e};dC.iq=function(z,q,e,V){y.QQ(q,e,"<< ");e+=3;e=dC.a6I(z,q,e,V);
y.QQ(q,e,">>");e+=2;return e};dC.vR=function(z){return z==9||z==10||z==32};dC.acb=function(z,q,e,V){while(!0){while(dC.vR(z[e])||z[e]==0)e++;
if(e>=z.length)break;if(z[e]=="/".charCodeAt(0)){e++;var P=e;while(!dC.vR(z[P]))P++;var D=y.JU(z,e,P-e);
e=P+1;var B=dC.lY(z,e,V,D);q["_"+D]=B.u;e+=B.size}else if(z[e]==">".charCodeAt(0)){e+=2;break}else{var A=z[e];
console.log(y.JU(z,e,e+100));console.log("unknown byte: "+A+", char: "+String.fromCharCode(A)+", offset: "+e);
e++;throw"e";return-1}}return e};dC.a6I=function(z,q,e,V){for(var P in z){var D=P.substring(1,P.length);
y.QQ(q,e,"/"+D);e+=1+D.length;y.QQ(q,e," ");e++;e=dC.Vu(z[P],q,e,V+1,D);y.QQ(q,e," ");e++}return e};
dC.lY=function(z,q,e,V){var P=q,D={e:"",size:0,u:0};while(dC.vR(z[q]))q++;if(z[q]=="<".charCodeAt(0)){D.e="Object";
D.u={};q=dC.KT(z,D.u,q,e+1)}else if(z[q]=="(".charCodeAt(0)){D.e="String";q++;if(z[q]==")".charCodeAt(0)){D.u="e";
q++}else if(z[q]==254&&z[q+1]==255){q+=2;var B=q,A=0;while(!0){if(z[B]==")".charCodeAt(0)&&z[B-1]!="\\".charCodeAt(0))break;
else B+=1}D.u="s"+y.aoh(z,q,B);q=B+2}else{var B=q;while(z[B]!=")".charCodeAt(0))B++;D.u="s"+y.JU(z,q,B-q);
q=B+1}}else if(z[q]=="[".charCodeAt(0)){q++;D.u=[];D.e="Array";while(dC.vR(z[q]))q++;while(z[q]!="]".charCodeAt(0)){var s=dC.lY(z,q,e+1,V);
if(s==-1)return-1;D.u.push(s.u);q+=s.size;delete s.size;while(dC.vR(z[q]))q++}q++}else{var a=q;while(!dC.vR(z[a]))a++;
var M=y.JU(z,q,a-q),$=parseFloat(M);if(!isNaN($)&&M.indexOf(".")!=-1){D.e="Float";var U=parseFloat(M);
D.u="f"+U}else if(!isNaN($)&&M.indexOf(".")==-1){D.e="Integer";D.u="i"+parseInt(M)}else if(M=="true"||M=="false"){D.e="Boolean";
D.u=M=="true"}else if(M.charAt(0)=="/"){D.e="BString";D.u=M}else if(M=="NaN"||M=="undefined"){D.e="Float";
D.u="f0"}else{console.log("unknown value",JSON.stringify(M))}q=a+1}D.size=q-P;return D};dC.a0$=function(z){if(z==Math.round(z))return z+".0";
var q=z.toFixed(5);while(q.endsWith("0")&&q[q.length-2]!=".")q=q.slice(0,q.length-1);if(0<z&&z<1)q=q.slice(1);
if(-1<z&&z<0)q="-"+q.slice(2);return q};dC.Vu=function(z,q,e,V,P){var D=typeof z=="string"?z.charAt(0):"";
if(z instanceof Array){y.QQ(q,e,"[ ");e+=2;for(var n=0;n<z.length;n++){e=dC.Vu(z[n],q,e,V,"");y.QQ(q,e," ");
e++}y.QQ(q,e,"]");e+=1}else if(z instanceof Object){e=dC.iq(z,q,e,V)}else if(D=="e"){y.QQ(q,e,"()");
e+=2}else if(D=="s"){y.QQ(q,e,"(");e++;if(P=="97"){y.QQ(q,e,z.slice(1));e+=z.length-1}else{y.n$(q,e,254);
e++;y.n$(q,e,255);e++;e=y.acD(q,e,z.slice(1))}y.QQ(q,e,")");e++}else if(D=="/"){y.QQ(q,e,z);e+=z.length}else if(D=="f"){var B=parseFloat(z.substring(1)),A=dC.a0$(B);
y.QQ(q,e,A);e+=A.length}else if(D=="i"){y.QQ(q,e,z.substring(1));e+=z.length-1}else{var A=z+"";y.QQ(q,e,A);
e+=A.length}return e};function y(){}y.a9n=function(hE){var z="";for(var n=3;n>=0;n--)z+=String.fromCharCode(hE>>n*8&255);
return z};y.aqB=function(z){var hE=0;for(var n=z.length-1;n>=0;n--)hE|=z.charCodeAt(n)<<(3-n)*8;return hE};
y.indexOf=function(z,q,e,V){if(e==null)e=0;if(V==null)V=z.length;V=Math.min(V,z.length);for(var n=e;
n<V;n++)if(z[n]==q)return n;return-1};y.yD=function(z,q,e){if(e==null)e=0;var V=q.length,P=z.length-V;
if(typeof q=="string"){var D=[];for(var n=0;n<V;n++)D.push(q.charCodeAt(n));q=D}if(q.length>0){var B=q[0];
for(var n=e;n<P;n++)if(z[n]==B){var A=!0;for(var s=1;s<V;s++)if(q[s]!=z[n+s]){A=!1;break}if(A)return n}}return-1};
y.aoh=function(z,q,e){var V=[],D="";while(q<e){var P=z[q++];if(P=="\\".charCodeAt(0))V.push(z[q++]);
else V.push(P)}for(var n=0;n<V.length;n+=2)D+=String.fromCharCode(V[n]<<8|V[n+1]);return D};y.ans=function(z,q,e){var V=new Uint8Array(2);
for(var n=0;n<e.length;n++){y.NX(V,0,e.charCodeAt(n));if(V[0]==")".charCodeAt(0)||V[0]=="(".charCodeAt(0)||V[0]=="\\".charCodeAt(0)){z[q]="\\".charCodeAt(0);
q++}z[q]=V[0];q++;if(V[1]==")".charCodeAt(0)||V[1]=="(".charCodeAt(0)||V[1]=="\\".charCodeAt(0)){z[q]="\\".charCodeAt(0);
q++}z[q]=V[1];q++}return q};y.acD=function(z,q,e){z.iU(q,4*e.length);return y.ans(z.data,q,e)};y.UB=function(z,q,e){var V="";
for(var n=0;n<e;n++){var P=z[q++]|z[q++]<<8;V+=String.fromCharCode(P)}return V};y.$a=function(z,q,e){var V="";
for(var n=0;n<e;n++){var P=z[q++]<<8|z[q++];V+=String.fromCharCode(P)}return V};y.axr=function(z,q,e){for(var n=0;
n<e.length;n++){var V=e.charCodeAt(n);y.tl(z,q+2*n,V)}};y.awm=function(z,q,e){for(var n=0;n<e.length;
n++){var V=e.charCodeAt(n);y.NX(z,q+2*n,V)}};y.am9=function(z,q,e){z.iU(q,2*e.length);y.awm(z.data,q,e)};
y.av0=function(z,n,q){var e=[],V=0,P=0;q+=n;while(n<q){V=z[n++];if((V&128)==0)P=V;else if((V&224)==192){P=(V&31)<<6;
V=z[n++];P|=V&63}else if((V&240)==224){P=(V&15)<<12;V=z[n++];P|=(V&63)<<6;V=z[n++];P|=V&63}else if((V&248)==240){P=(V&7)<<18;
V=z[n++];P|=(V&63)<<12;V=z[n++];P|=(V&63)<<6;V=z[n++];P|=V&63}else throw"e";e.push(P)}return e};y.aHg=window.TextDecoder?new window.TextDecoder("utf8"):null;
y.vK=function(z,q,e){if(q==null)q=0;if(e==null)e=z.length;if(y.aHg&&q==0&&e==z.length)return y.aHg.decode(z);
var V=y.av0(z,q,e),P=V.length;for(var n=0;n<P;n++)V[n]=String.fromCharCode(V[n]);return V.join("")};
y.aJ6=window.TextEncoder?new window.TextEncoder("utf8"):null;y.GY=function(z){if(y.aJ6)return y.aJ6.encode(z);
var q=new Uint8Array(z.length*4),e=y.m$(z,q,0);return q.slice(0,e)};y.m$=function(z,q,e){var V=z.length,n=0;
for(var P=0;P<V;P++){var D=z.charCodeAt(P);if((D&4294967295-(1<<7)+1)==0){q[e+n]=D;n++}else if((D&4294967295-(1<<11)+1)==0){q[e+n]=192|D>>6;
q[e+n+1]=128|D>>0&63;n+=2}else if((D&4294967295-(1<<16)+1)==0){q[e+n]=224|D>>12;q[e+n+1]=128|D>>6&63;
q[e+n+2]=128|D>>0&63;n+=3}else if((D&4294967295-(1<<21)+1)==0){q[e+n]=240|D>>18;q[e+n+1]=128|D>>12&63;
q[e+n+2]=128|D>>6&63;q[e+n+3]=128|D>>0&63;n+=4}else throw"e"}return n};y.tN=function(z,q){var e=y.vQ(z,q),V=y.vK(z,q+4,e-1);
return{fY:V,bY:4+e}};y.aab=function(z,q){var e=y.iM(z,q),V=y.UB(z,q+4,e);return V};y.RQ=function(z,q){var e=y.vQ(z,q),V=y.$a(z,q+4,e);
return V};y.CK=function(z,q){var e=y.vQ(z,q),V=y.$a(z,q+4,e-1);return V};y.Qa=function(z,q){var e=y.iM(z,q),V=y.UB(z,q+4,e-1);
return V};y.adM=function(z,q,e){y.pS(z,q,e.length);q+=4;y.axr(z,q,e)};y.aBk=function(z,q,e){y.lt(z,q,e.length);
q+=4;y.awm(z,q,e)};y.pP=function(z,q,e){z.iU(q,4+2*e.length);y.aBk(z.data,q,e)};y.a0P=function(z,q,e){z.iU(q,4+2*e.length);
y.adM(z.data,q,e)};y.Oh=function(z,q,e){var V=[];for(var n=0;n<e;n++)V.push(String.fromCharCode(z[q+n]));
return V};y.a4$=function(z,q,e){var V=!1,P=z.length-e.length;for(var n=q;n<P;n++){for(var D=0;D<e.length;
D++){if(z[n+D]!=e.charCodeAt(D))break;if(D==e.length-1)return n}}};y.kO=function(z,q,e){var V=y.JU(z,q,4);
if(e)V=V.split("").reverse().join("");return V};y.JU=function(z,q,e){var V="";for(var n=0;n<e;n++)V+=String.fromCharCode(z[q+n]);
return V};y.Wd=function(z,q,e){for(var n=0;n<e.length;n++)z[q+n]=e.charCodeAt(n)};y.QQ=function(z,q,e){z.iU(q,e.length);
y.Wd(z.data,q,e)};y.ahB=function(z,q,e){var V="";for(var n=0;n<e;n++){var P=z[q+n];if(P<10)V+="  ";else if(P<100)V+=" ";
V+=P+", "}return V};y.mU=function(z,q){return z[q]<<8|z[q+1]};y.NX=function(z,q,hE){z[q]=hE>>8&255;z[q+1]=hE&255};
y.jK=function(z,q,hE){z.iU(q,4);y.NX(z.data,q,hE)};y.RW=function(z,q){var e=y.mU(z,q),V=y.mU(z,q+2);
return e+V*(1/65536)};y.a4t=function(z,q,hE){var e=Math.floor(hE),V=Math.floor((hE-e)*65536);y.NX(z,q,e);
y.NX(z,q+2,V)};y.iJ=function(z,q){return z[q+1]<<8|z[q]};y.tl=function(z,q,hE){z[q+1]=hE>>8&255;z[q]=hE&255};
y.S0=function(z,q,hE){z.iU(q,4);y.tl(z.data,q,hE)};y.ab=function(z,q){y.Y6[0]=z[q+1];y.Y6[1]=z[q];return y.XH[0]};
y.dG=function(z,q){y.Y6[0]=z[q];y.Y6[1]=z[q+1];return y.XH[0]};y.cD=y.NX;y.xa=y.jK;y.ca=function(z,q){y.Si[0]=z[q+3];
y.Si[1]=z[q+2];y.Si[2]=z[q+1];y.Si[3]=z[q];return y.Ah[0]};y.dR=function(z,q,hE){y.Ah[0]=hE;z[q+3]=y.Si[0];
z[q+2]=y.Si[1];z[q+1]=y.Si[2];z[q+0]=y.Si[3]};y.Eb=function(z,q,hE){z.iU(q,4);y.dR(z.data,q,hE)};y.wl=function(z,q,e,V){e[V+0]=z[q+0];
e[V+1]=z[q+1];e[V+2]=z[q+2];e[V+3]=z[q+3]};y.iM=function(z,q){y.wl(z,q,y.Si,0);return y.aoM[0]};y.pS=function(z,q,hE){y.aoM[0]=hE;
y.wl(y.Si,0,z,q)};y.eh=function(z,q,hE){z.iU(q,4);y.pS(z.data,q,hE)};y.Zy=function(z,q){y.wl(z,q,y.Si,0);
return y.Ah[0]};y.aDR=function(z,q,hE){y.Ah[0]=hE;y.wl(y.Si,0,z,q)};y.aP0=function(z,q,hE){z.iU(q,4);
y.aDR(z.data,q,hE)};y.vQ=function(z,q){var e=z[q]*(256*256*256)+(z[q+1]<<16|z[q+2]<<8|z[q+3]);return e};
y.lt=function(z,q,hE){z[q]=hE>>24&255;z[q+1]=hE>>16&255;z[q+2]=hE>>8&255;z[q+3]=hE>>0&255};y.Ri=function(z,q,hE){z.iU(q,4);
y.lt(z.data,q,hE)};y.e1=function(z,q){return y.vQ(z,q)<<32|y.vQ(z,q+4)};y.aE1=function(z,q,hE){y.lt(z,q,hE>>16>>16);
y.lt(z,q+4,hE&4294967295)};y.Qw=function(z,q,hE){z.iU(q,8);y.aE1(z.data,q,hE)};y.a4m=function(z,q){return y.iM(z,q+4)|y.iM(z,q)<<32};
y.my=function(z,q){var e=new Uint8Array(8);for(var n=0;n<8;n++)e[n]=z[q+7-n];var V=new Float64Array(e.buffer);
return V[0]};y.Nj=function(z,q){var e=y.azm;e[0]=z[q+0];e[1]=z[q+1];e[2]=z[q+2];e[3]=z[q+3];e[4]=z[q+4];
e[5]=z[q+5];e[6]=z[q+6];e[7]=z[q+7];return y.av3[0]};y.LT=function(z,q,hE){var e=new Float64Array(1);
e[0]=hE;var V=new Uint8Array(e.buffer);for(var n=0;n<4;n++){var P=V[n];V[n]=V[7-n];V[7-n]=P}for(var n=0;
n<8;n++)z[q+n]=V[n]};y.rA=function(z,q,hE){z.iU(q,8);y.LT(z.data,q,hE)};y.ad=function(z,q){y.Si[0]=z[q+3];
y.Si[1]=z[q+2];y.Si[2]=z[q+1];y.Si[3]=z[q+0];return y.Nt[0]};y.$R=function(z,q){y.Si[0]=z[q+0];y.Si[1]=z[q+1];
y.Si[2]=z[q+2];y.Si[3]=z[q+3];return y.Nt[0]};y.$r=function(z,q,hE){y.Nt[0]=hE;z[q+0]=y.Si[3];z[q+1]=y.Si[2];
z[q+2]=y.Si[1];z[q+3]=y.Si[0]};y.azO=function(z,q,hE){z.iU(q,4);y.$r(z.data,q,hE)};y.KK=function(z,q,hE){y.Nt[0]=hE;
z[q+0]=y.Si[0];z[q+1]=y.Si[1];z[q+2]=y.Si[2];z[q+3]=y.Si[3]};y.asa=function(z,q,hE){z.iU(q,4);y.KK(z.data,q,hE)};
y.aAO=function(z,q){var e=y.ca(z,q),V=e*(1/(1<<24));return V};y.aJE=function(z,q){var e=y.Zy(z,q),V=e*(1/(1<<24));
return V};y.atO=function(z,q,e){var V=Math.floor(e*(1<<24));y.dR(z,q,V)};y.axG=function(z,q,e){z.iU(q,4);
y.atO(z.data,q,e)};y.bm=function(z,q){var e=z[q],V=y.JU(z,q+1,e);e+=1-e%2;return{FI:V,length:e+1}};y.ay3=function(z,q,e){var V=e.length;
z[q]=V;y.Wd(z,q+1,e);if(V%2==0){z[q+1+V]=0;++V}return V+1};y.Qr=function(z,q,e){z.iU(q,e.length+2);return y.ay3(z.data,q,e)};
y.eZ=function(z,q,e){var V=e?y.Nj:y.my,P=new e5;P.x6=V(z,q+0*8);P.c=V(z,q+1*8);P.I$=V(z,q+2*8);P.at=V(z,q+3*8);
P.yK=V(z,q+4*8);P.ww=V(z,q+5*8);return P};y.pz=function(z,q,e){y.LT(z,q+0*8,e.x6);y.LT(z,q+1*8,e.c);
y.LT(z,q+2*8,e.I$);y.LT(z,q+3*8,e.at);y.LT(z,q+4*8,e.yK);y.LT(z,q+5*8,e.ww)};y.avZ=function(z,q,e){z.iU(q,48);
y.pz(z.data,q,e)};y.azc=function(z,q){var e=y.ad(z,q),V=y.ad(z,q+4),P=y.ad(z,q+8),D=y.ad(z,q+12);return new kk(e,V,P-e,D-V)};
y.amT=function(z,q,e){y.$r(z,q,e.x);y.$r(z,q+4,e.y);y.$r(z,q+8,e.x+e.s);y.$r(z,q+12,e.y+e.T)};y.aIG=function(z,q,e){z.iU(q,16);
y.amT(z.data,q,e)};y.Tb=function(z,q,e){var V=e?y.Zy:y.ca,P=V(z,q),D=V(z,q+4),B=V(z,q+8),A=V(z,q+12);
return new kk(D,P,A-D,B-P)};y.amx=function(z,q,e){y.dR(z,q,e.y);y.dR(z,q+4,e.x);y.dR(z,q+8,e.y+e.T);
y.dR(z,q+12,e.x+e.s)};y.AR=function(z,q,e){z.iU(q,16);y.amx(z.data,q,e)};y.Nh=function(z,q,e){var V=new Uint8Array(e);
for(var n=0;n<e;n++)V[n]=z[q+n];return V};y.aru=function(z,q,e){z.set(e,q)};y.v$=function(z,q,e){z.iU(q,e.length);
y.aru(z.data,q,e)};y.aAa=function(z,q,e,hE){if(!hE)hE=1;for(var n=0;n<hE;n++)z[q+n]=e};y.n$=function(z,q,e,hE){if(!hE)hE=1;
z.iU(q,hE);y.aAa(z.data,q,e,hE)};y.XH=new Int16Array(1);y.Y6=new Uint8Array(y.XH.buffer);y.Ah=new Int32Array(1);
y.aoM=new Uint32Array(y.Ah.buffer);y.Si=new Uint8Array(y.Ah.buffer);y.Nt=new Float32Array(y.Ah.buffer);
y.azm=new Uint8Array(8);y.av3=new Float64Array(y.azm.buffer);function b9(){}b9.iA=function(z,q){var e=new Uint8Array(z),V=0,P=y.JU(e,V,9),A=4,s=100;
V+=9;var D=y.JU(e,V,4);V+=4;V++;q.s=y.vQ(e,V);V+=4;q.T=y.vQ(e,V);V+=4;var B=y.vQ(e,V);V+=4;if(B!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(D)==-1){s=y.vQ(e,V);V+=4;if(parseInt(D.slice(1))>=7){s=s}else alert("Unknown XCF version: "+D);
A=8}var a={};V=b9.FO(e,V,a);var M=[];V=b9.eo(e,V,M,A);var $=[];V=b9.eo(e,V,$,A);q.sU=0;for(var n=0;n<M.length;
n++)b9.aPv(e,M[n],q,a,A,s);while(q.sU>0){q.Z.push(q.cs());q.sU--}q.Z.reverse();delete q.sU;q.buffer=T.n(q.s*q.T*4);
if(q.Z.length==0)console.log("No layers!!!");for(var n=0;n<$.length;n++){var U=b9.ad4(e,$[n],a,A,s);
if(U.MY[dM.a09])q.h={o:U.Og,V:new kk(0,0,q.s,q.T)}}};b9.aPv=function(z,q,e,V,P,D){var B=e.OJ(),A=y.vQ(z,q),$=0;
q+=4;var s=y.vQ(z,q);q+=4;B.V=new kk(0,0,A,s);var a=y.vQ(z,q);q+=4;var M=y.tN(z,q);q+=M.bY;B.up(M.fY);
var U={};q=b9.FO(z,q,U);if(U[dM.amv]){var o=U[dM.amv];$=o.length/4-1}if(U[dM.CU]){B.V.x=y.ca(U[dM.CU],0);
B.V.y=y.ca(U[dM.CU],4)}if(U[dM.aea]){B.vz=y.vQ(U[dM.aea],0)}if(U[dM.acz]){B.add.lsct=fH._j;B.b9=24}if(U[dM.aby]){var t=y.vQ(U[dM.aby],0);
B.pi=dM.agb[t];if(B.YZ()&&B.pi=="norm")B.pi="pass"}if(U[dM.agr]){if(y.vQ(U[dM.agr],0)==0)B.b9+=2}if(U[dM.arP]){var c=y.vQ(U[dM.arP],0);
B.add.lsct=c&1==1?fH._j:fH.OI}if(U[dM.Wg]){var H=U[dM.Wg];for(var F in H){var i=H[F];if(F=="gimp-text-layer"){var X=b9.aAf(i),K=X.text,f=X.font,d=X.color,L=X["font-size"];
if(K==null&&X.markup){var G=new DOMParser,O=G.parseFromString(X.markup,"image/svg+xml");while(O.firstChild!=null&&O.firstChild.tagName!=null){O=O.firstChild;
var v=O.getAttribute("font"),C=O.getAttribute("foreground"),S=O.getAttribute("size");if(v!=null)f=v;
if(C!=null){C=CSS._3(C);d=[1,C.l/255,C.I/255,C.c/255]}if(S!=null){L=""+parseFloat(S)/245}}K=O.textContent}B.add.lnsr="rend";
B.add.TySh=dc.Pj(0,0);B.add.TySh.iB=new kk(0,0,100,100);B.add.TySh.v=new e5(1,0,0,1,B.V.x,B.V.y);var j=B.add.TySh._1;
dc.o5(j,0,K);var w=dc.jb(j,0,0),u=X.justify,l=X["line-spacing"];if(d)w.c_.FillColor={Type:1,Values:[1,parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])]};
if(L){L=Math.round(parseFloat(L));w.c_.FontSize=L;B.add.TySh.v.ww+=Math.min(17,L*.17)}if(l){l=Math.round(parseFloat(l)+w.c_.FontSize*1.2);
w.c_.Leading=l;w.c_.AutoLeading=!1}if(u)w.S$.Justification=["left","right","center","fill"].indexOf(u);
if(f&&f!="Sans-serif"){if(f instanceof Array){for(var n=0;n<f.length;n++)if(f[n][0]=="psname"){f=f[n][1];
break}}else{var I=f.toLowerCase(),Q="bold italic semi extra regular condensed light".split(" "),b=I.length;
for(var n=0;n<Q.length;n++){var p=I.indexOf(Q[n]);if(p!=-1&&p<b&&I[p-1]==" ")b=p}if(b!=I.length)f=f.slice(0,b-1).split(" ").join("")+"-"+f.slice(b).split(" ").join("")}dc.v3(w,f)}dc.Vy(j,0,K.length,w);
var k=X["box-width"],g=X["box-height"],Y=k?parseFloat(k):B.V.s,R=g?parseFloat(g):B.V.T;dc.M_(j,1);dc.v7(j,[0,0,Math.ceil(Y),Math.ceil(R)])}else console.log("Unknown property "+F)}}while(e.sU>$){e.Z.push(e.cs());
e.sU--}e.sU=$;if(B.add.lsct==fH._j||B.add.lsct==fH.OI)e.sU++;var m=P==4?y.vQ:y.e1,Z=m(z,q);q+=P;var E=m(z,q);
q+=P;if(B.Be()){B.buffer=T.n(B.V.D()*4);var N=new T.ZU(B.V.D());b9.aF9(z,Z,N,V,P,D);T.cO(N,B.buffer)}if(E!=0){B.Eo=new lK.Eu;
var h=b9.ad4(z,E,V,P,D);B.Eo.o=h.Og;B.Eo.V=B.V.Y();if(U[dM.aos])B.Eo.isEnabled=y.vQ(U[dM.aos],0)==1;
B.Eo.color=B.Eo.o[0];B.Eo.Sn()}if(B.YZ())B.V=new kk;e.Z.push(B)};b9.aAf=function(z){var q="("+y.vK(z,0,z.length-1)+")",e=[],V={};
b9.aNP(q,1,e);b9.a1v(e,V);return V};b9.a1v=function(z,q){for(var n=0;n<z.length;n++){var e=z[n],V=e[0];
if(e.length==2)q[V]=e[1];else q[V]=e.slice(1)}};b9.aNP=function(z,q,e){while(!0){if(q>=z.length)throw"e";
var V=z.charAt(q);q++;if(V=="("){var P=[];q=b9.aNP(z,q,P);e.push(P)}else if(V==" "||V=="\n"||V=="\r"){}else if(V==")")return q;
else if(V=="\""){var D=q,B=!1;while(!0){var A=z[q];q++;if(A=="\"")break;if(A=="\\"){if(z[q]!="\""&&z[q]!="n"&&z[q]!="t"&&z[q]!="r")B=!0;
q++}}var s=z.slice(D-1,q);e.push(B?s:JSON.parse(s))}else{var D=q-1;while(z[q]!=" "&&z[q]!=")")q++;e.push(z.slice(D,q))}}};
b9.ad4=function(z,q,e,V,P){var D=y.vQ(z,q);q+=4;var B=y.vQ(z,q);q+=4;var A=y.tN(z,q);q+=A.bY;var s={};
q=b9.FO(z,q,s);var a=new T.ZU(D*B),M=V==4?y.vQ:y.e1,$=M(z,q);q+=V;b9.aF9(z,$,a,e,V,P);return{Og:a.l,MY:s}};
b9.aF9=function(z,q,e,V,P,D){var B=y.vQ(z,q);q+=4;var A=y.vQ(z,q);q+=4;var s=y.vQ(z,q);q+=4;var a=P==4?y.vQ:y.e1,M=a(z,q);
q+=P;b9.aEt(z,M,e,V,s,P,D)};b9.aEt=function(z,q,e,V,P,D,B){var A=y.vQ(z,q),M=0,n=0;q+=4;var s=y.vQ(z,q);
q+=4;var a=new kk(0,0,A,s);if(B==100||B==150)M=1;else if(B==200||B==250)M=2;else if(B==300||B==350)M=4;
else if(B==500||B==550)M=2;else if(B==600||B==650)M=4;else if(B==700||B==750)M=8;else{alert("unsupported bit depth "+B);
throw"e"}var $=P/M,M=Math.round(P/$),U=[];q=b9.eo(z,q,U,D);var o=new T.ZU(64*64*M),t=new kk,c=V[dM.agM][0],H=[o.l,o.I,o.c,o.x6];
if($==3)o.x6.fill(255);var F=Date.now();if(U.length!=0)for(var i=0;i<s;i+=64)for(var X=0;X<A;X+=64){var K=Math.min(A-X,64),f=Math.min(s-i,64),d=K*f;
t.mX(X,i,K,f);b9.aaZ(z,U[n++],d*M,c,$,H);if(B==100||B==150){}else if(B==250){for(var L=0;L<$;L++){var G=H[L];
for(var x=0;x<d;x++){var O=G[x]<<8|G[d+x];G[x]=Math.min(O>>>8,255)}}}else if(B==600){var v=b9.awq(),C=new Uint32Array(1),S=new Float32Array(C.buffer);
for(var L=0;L<$;L++){var G=H[L];for(var x=0;x<d;x++){C[0]=G[x]<<24|G[d+x]<<16|G[(d<<1)+x]<<8|G[(d<<1)+d+x]<<0;
var j=S[0];if(j<0)j=0;else if(j>1)j=1;G[x]=v[~~(.5+j*1e3)]}}}else console.log("unknown data format",B);
T.Fk(o,t,e,a)}};b9.awq=function(){var z=b9.anB;if(z!=null)return z;z=b9.anB=new Uint8Array(1001);for(var n=0;
n<1001;n++)z[n]=~~(.49+255*T.Xg(n*.001));return z};b9.aaZ=function(z,q,e,V,P,D){if(V==1){for(var B=0;
B<P;B++){var A=D[B],s=0;while(s<e){var hE=z[q];q++;if(hE<127){var a=z[q];q++;hE++;for(var n=0;n<hE;n++)A[s+n]=a}else if(hE==127){var M=z[q];
q++;var $=z[q];q++;var a=z[q];q++;hE=M<<8|$;for(var n=0;n<hE;n++)A[s+n]=a}else if(hE==128){var M=z[q];
q++;var $=z[q];q++;hE=M<<8|$;for(var n=0;n<hE;n++)A[s+n]=z[q+n];q+=hE}else{hE=256-hE;for(var n=0;n<hE;
n++)A[s+n]=z[q+n];q+=hE}s+=hE}}}else if(V==2){var U=pako.inflate(z.slice(q)),o=Math.round(U.length/e);
for(var n=0;n<e;n++){var t=n*o;D[0][n]=U[t];D[1][n]=U[t+1];D[2][n]=U[t+2];D[3][n]=o==3?255:U[t+3]}}else alert("Unknown compression "+V)};
b9.eo=function(z,q,e,V){var P=V==4?y.vQ:y.e1;while(!0){var D=P(z,q);q+=V;if(D==0)break;else e.push(D)}return q};
b9.FO=function(z,q,e){while(!0){var V=y.vQ(z,q);q+=4;var P=y.vQ(z,q);q+=4;if(V==dM.aJ$)break;else if(V==dM.Wg)e[V]=b9.amo(z,q,q+P);
else e[V]=y.Nh(z,q,P);q+=P}return q};b9.amo=function(z,q,e){var V={};while(q<e){var P=y.tN(z,q);q+=P.bY;
var D=y.vQ(z,q);q+=4;if(D!=1)console.log("unknown flags",D);var B=y.vQ(z,q);q+=4;V[P.fY]=y.Nh(z,q,B);
q+=B}return V};var dM={aJ$:0,asv:1,aPL:2,afC:3,a09:4,aha:5,aea:6,aby:7,agr:8,a6s:9,aDh:10,aos:11,aeY:12,a9G:13,ard:14,CU:15,a8u:16,agM:17,agB:18,a0F:19,aOh:20,Wg:21,am7:22,alg:23,anQ:24,ayU:25,aBT:26,aJC:27,a19:28,acz:29,amv:30,arP:31,aC0:32,a3y:33,aJU:34,ajQ:35,aO5:36,aPd:37,aNq:38,a6E:0,aO6:1,aIi:2,aop:3,ajl:1,apq:2,agF:0,aNV:1,adx:1};
dM.agb="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var ct=function(){var z=!1,q,e,F=0,K;function V(){var L=y.JU(q,e,4);e+=4;return L[3]+L[2]+L[1]+L[0]}function P(){var L=y.JU(q,e,4);
e+=4;return L}function D(){var L=q[e];e+=1;return L}function B(){var L=y.iJ(q,e);e+=2;return L}function A(){var L=y.iM(q,e);
e+=4;return L}function s(){var L=y.Zy(q,e);e+=4;return L}function a(){var L=y.iM(q,e);e+=8;return L}function M(){var L=y.$R(q,e);
e+=4;return L}function $(){var L=y.Nj(q,e);e+=8;return L}function U(){var L=y.iJ(q,e),G=y.vK(q,e+2,L);
e+=2+L;return G}function o(){var L=y.iM(q,e),G=y.vK(q,e+4,L);e+=4+L;return G}function t(L){e=L;var G=[];
while(e!=0){var x=P();if(x!="#FT4"&&x!="#FT3"&&x!="#FT2")throw x;var O=a(),v=a(),C=a(),S=a(),j=a(),w=A(),u=A(),l=A(),I=B(),Q=D(),b={};
G.push(b);for(var n=0;n<w;n++){var p=A(),k=D();if(k!=0&&k!=1&&k!=2)throw k;var g=[];if(k==0||k==1){var Y=a(),R=a(),m=a(),Z=A(),E=D(),N=A(),h=x!="#FT4"?0:A(),j5=null;
if(x=="#FAT"||x=="#FT2"){switch(E){case 1:E=1;break;case 2:E=65;break;case 3:E=129;break;case 4:E=193;
break;default:E=0;break}}if(k==0)j5=U();g=[Y,R,m,E,j5]}b["i"+p]=[k,g]}for(var n=0;n<I;n++){var r=B(),l8=B(),aP=a(),bS=y.JU(q,e,r);
e+=r}e=O}G.reverse();for(var kR=1;kR<G.length;kR++){var b=G[kR],j1=G[kR]=T.G(G[kR-1]);for(var f6 in b){var gx=b[f6];
if(gx[0]==0)j1[f6]=gx;else if(gx[0]==1){gx[1][4]=j1[f6][1][4];j1[f6]=gx}else if(gx[0]==2)delete j1[f6]}}var lC=G.pop(),g2=[];
for(var f6 in lC)g2.push(lC[f6][1]);g2.sort(function(dv,bv){return dv[0]-bv[0]});return g2}function c(L,G,x,O){while(e<q.length){var v=D(),w=null;
if(v==0){if(O){var C=D();if(C!=2){var S=V()}if(C==0)e+=4;O=!1;continue}else{break}}var j=V();if(j.indexOf("\0")!=-1)throw j;
if(z)console.log("  ".repeat(G),v,v&127,j,L._type);if(v>127)w=H(v,G,x);else w=i(v,G,x);if(z)console.log("  ".repeat(G),w);
L[j]=w}}function H(L,G,x){var O=[];L=L&127;if(L==43)e+=4;var v=A();if(L==50){var C=V(),S=B();if(S!=1)throw"e";
for(var n=0;n<v;n++){var j={_status:"NotShared",_type:C};O.push(j);var w=D();if(w!=0&&w!=1)throw w;c(j,G+1,x)}}else if(L==41){if(v>8)throw v;
for(var n=0;n<v;n++)O.push((q[e]>>>n&1)==1);e++}else for(var n=0;n<v;n++){O.push(i(L,G,x,n!=0));if(L==42)L=2}return O}function i(L,G,x,O){var v=null;
if(L==49){v={};var C=D();if(C!=0){var S=A();if(x==null){v._id=S;v._status=["Shared","Link"][C-1]}if(x&&C==2)v=x[S];
if(C==1){if(x)x[S]=v;var j=D(),w=!1;if(j>1)throw j;v._type=V();if(v._type.indexOf("\0")!=-1)throw v._type;
if(z)console.log("  ".repeat(G),"new",v._type,j,e);if(j==0){while(!0){var u=B();if(u!=0&&u!=1&&u!=2&&u!=3&&u!=4)throw u;
if(q[e]!=0){w=!0;break}var l=B();if(l==512)break;var I=V();if(l==256)break}}c(v,G+1,x,w)}}}else if(L==50){v={_status:"NotShared"};
if(D()==1){v._type=V();e+=2;c(v,G+1,x)}}else if(L==1)v={type:"byte",value:D()};else if(L==2)v={type:"uint16",value:B()};
else if(L==3)v={type:"uint32",value:A()};else if(L==4)v={type:"uint64",value:a()};else if(L==7)v={type:"int32",value:s()};
else if(L==8)v={type:"int64",value:a()};else if(L==9)v={type:"float32",value:M()};else if(L==10)v={type:"float64",value:$()};
else if(L==11)v={type:"float64",value:$()};else if(L==21)v={type:"Vec2i",value:[A(),A()]};else if(L==23)v={type:"Vec4i",value:[A(),A(),A(),A()]};
else if(L==33)v={type:"Vec4f",value:[M(),M(),M(),M()]};else if(L==36)v={type:"Vec2",value:[$(),$()]};
else if(L==38)v={type:"Vec4",value:[$(),$(),$(),$()]};else if(L==40)v={type:"Vec6",value:[$(),$(),$(),$(),$(),$()]};
else if(L==41)v={type:"bool",value:D()!=0};else if(L==42)v={type:"Enum",value:A()};else if(L==43)v={type:"string",value:o()};
else if(L==44){if(O!=!0)F=B();var Q,b=$();if(F==12)Q=[D(),D(),D(),D()];else if(F==16)Q=[A(),A()];else if(F==32)Q=[$(),$(),$()];
else throw F;v={type:"curv16",value:[b,Q]}}else if(L==45){var p=A();v={type:"buff",value:q.slice(e,e+p)};
e+=p}else if(L==47){v={type:"uint32",value:A()}}else if(L==48){var k=[],g=B();if(g!=1)throw g;while(!0){if(q[e]==135){var Y=H(D(),G+1,x),R=H(D(),G+1,x),m=H(D(),G+1,x);
k.push([Y,R,m])}else{var Z=1;if(q[e]==3){D();Z=A()}for(var n=0;n<Z;n++){var E=q[e];if(E==41){if(D()!=41)throw"e";
var S=D();if(S!=0&&S!=1)throw S}if(D()!=172)throw"e";var N=A(),h=B(),Q=[];k.push(Q);if(h!=18)throw h;
if(N>2e4)throw N;for(var j5=0;j5<N;j5++)Q.push([$(),$(),D(),D()])}}if(q[e]==0){e++;break}}v={type:"curve",value:k}}else if(L==51){v={type:"EmbeddedData"};
v[V()]=o()}else if(L==52)v={type:"uint32",value:A()};else if(L==56)v={type:"Color32",value:[D(),D(),D(),D()]};
else if(L==60)v={type:"ColorGRAY",value:[M(),M()]};else if(L==68)v={type:"ColorRGBA",value:[M(),M(),M(),M()]};
else if(L==72)v={type:"ColorCMYK",value:[M(),M(),M(),M(),M()]};else{throw L}return L==49||L==50||L==51?v:v.value}function X(L){var G=0,x=L.length;
for(var n=0;n<x;n+=4){L[n]=G=G+L[n]&255;L[n+1]=G=G+L[n+1]&255;L[n+2]=G=G+L[n+2]&255;L[n+3]=G=G+L[n+3]&255}}function f(L){q=L;
e=4;var G=A(),x=P();if(x!="nsrP")throw x;var x=P();if(x!="#Inf")throw x;var O=a();K=a();var v=a(),C=a(),S=a(),j=A(),w=A(),x=P();
if(x!="Prot")throw x;var j=A(),u=t(O),l={};for(var I=0;I<u.length;I++){var Q=u[I],b=Q[3],R=null;e=Q[0];
var x=P();if(x!="#Fil")throw x;var p=b>>>5&1,k=b&3,g=b&192;switch(g){case 64:g=1;p=0;break;case 128:g=2;
break;case 192:g=3;break;default:g=0;p=0}var Y=new Uint8Array(q.buffer,e,Q[2]);if(k==0)R=Y;else if(k==1)R=pako.inflateRaw(new Uint8Array(q.buffer,Y.byteOffset+2,Q[2]-6));
else if(k==2)R=hZ.op.L8(Y,Q[1]);else throw k;if(p==0){if(g==1)X(R);if(g==2)throw"e"}else if(p==1){if(g==2)X(R);
else throw g}else throw p;l[Q[4]]=R}return l}function d(L){var G=Date.now(),x=f(new Uint8Array(L));q=x["doc.dat"];
e=16;var O={};c(O,0,[]);return[x,O,K]}return{aN3:d}}();function fd(){}fd.iA=function(){function z(H,F){var i=Date.now(),X=ct.aN3(H),K=X[0],f=X[1],d=X[2],L=f.DocR,G=L.DfSz,x=L.Chld;
if(x.length!=1)console.log(x);var O=x[0],v=O.SprB,C=O.bbxs;x=O.Chld;if(v){F.s=~~v[2];F.T=~~v[3]}else if(C){var S=C.rcts,j=new kk;
for(var n=0;n<4;n++){var w=S[n];j=j.X8(new kk(w[0],w[1],w[2]-w[0],w[3]-w[1]))}F.s=j.s;F.T=j.T}else if(G){F.s=G[0];
F.T=G[1]}else{F.s=1920;F.T=1080}F.buffer=T.n(F.s*F.T*4);var u=[0,{}];for(var n=0;n<x.length;n++)D(x[n],F,K,new e5,u,[],0);
F.Ic(u[0]);console.log(Date.now()-i,"Document created");i=Date.now()}function q(H){return new e5(H[0],H[3],H[1],H[4],H[2],H[5])}function e(H,F){var i=F.Xfrm;
i=i?q(i):new e5;i.concat(H);return i}function V(H){var F={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[H];
return F?F:"norm"}function P(H,F){var i=H[F],X=H.DsMa;if(i==null&&X)i=X[F];return i}function D(H,F,i,X,K,f,d){var L=H._type,G=H.Chld,x=F.OJ();
x.up(H.Desc==null||H.Desc==""?L=="Grup"?"Folder":"Layer":H.Desc);var O=P(H,"Visi");if(O!=null)x.Bm(O);
var v=P(H,"Opac");if(v!=null)x.vz=Math.round(255*v);var C=P(H,"FOpc");if(C!=null)x.add.iOpa=Math.round(255*C);
var S=P(H,"Blnd");if(S!=null)x.pi=V(S);if(H.BFFl&&H.BFFl[0])f.push(H.BFFl[0]);var j=e(X,H),w=L=="ShpN"||L=="PCrv";
if(G){F.Z.push(F.cs());x.add.lsct=fH._j;if(x.pi=="norm")x.pi="pass";x.b9=24;if(O!=null)x.Bm(O);if(L=="ShpN"&&d==0){var u=H.ShpB;
x.Ig(new kk(u[0]+j.yK,u[1]+j.ww,Math.round(j.x6*(u[2]-u[0])),Math.round(j.at*(u[3]-u[1]))));K[0]++;x.add.artb.Clr={t:"Objc",v:T.Yf.e8({l:255,I:255,c:255})};
var l=f[0];for(var n=0;n<f.length;n++)if(f[n].FDeF._type!="FilN")l=f[n];if(l.FDeF._type=="FilS"){x.add.artb.Clr=M(l.FDeF.Colr);
x.add.artb.artboardBackgroundType.v=4}}var I=H.Shpe?H:null;if(I==null)I=H.DsMa&&H.DsMa.Shpe?H.DsMa:null;
if(I){var Q=s(I);if(Q.B.length!=7){x.add.vmsk=Q;T.S.Z8(Q.B,j);x.T4();x.ly(F)}}for(var n=0;n<G.length;
n++)D(G[n],F,i,j,K,f,d+1)}else if(L=="Rstr"||L=="ImgN"||L=="MRst"){x=A(H,x,F,j,i,K)}else if(L=="TxtA"||L=="TxtF"){x.add.lnsr="rend";
x.add.TySh=dc.Pj(0,0);x.add.TySh.iB=new kk(0,0,100,100);var b=H.TxtH?H:H.DsMa,p=b.TxtH.FrmB,k=1,g=1,Y=x.add.TySh.v=new e5,N=0;
Y.translate(p[0],p[1]);Y.concat(j);if(L=="TxtF"){var R=Math.atan2(-Y.c,Y.x6);Y.rotate(-R);k=Y.x6;g=Y.at;
Y.at=Y.x6=1;Y.rotate(R)}var m=x.add.TySh._1,Z=b.StSt;if(Z==null)Z=b.StMa.StSt;var E=Z.Blok;if(E.length!=1)throw"e";
for(var h=0;h<E.length;h++){var j5=E[h],r=N,l8=0,aP=j5.Glyp.Utf8;if(aP==null)continue;aP=aP.replace(/\u2028/g,"\n");
aP=aP.replace(/\u2029/g,"\n");aP=aP.slice(0,aP.length-1);if(aP=="")continue;x.up(aP.slice(0,255));dc.o5(m,N,aP);
N+=aP.length;var bS=j5.GAtt.Runs,kR=j5.PAtt.Runs[0],j1=kR.Item.Ints[0];for(var f6=0;f6<bS.length;f6++){var gx=bS[f6],lC=gx.Indx,g2=gx.Item,dv=g2.Objs,bv=dc.jb(m,r,1);
bv.S$.Justification=j1==0?0:j1==1?2:1;dc.v3(bv,g2.DFnt.Post);bv.c_.FontSize=g2.Doub[0];for(var n=0;n<dv.length;
n++){var eo=dv[n];if(eo._type=="FDsc"){var aL=eo.FDeF;if(aL._type=="FilS"){var dh=$(aL.Colr);bv.c_.FillColor={Type:1,Values:[1,dh[0],dh[1],dh[2]]}}}}dc.Vy(m,r+l8,r+Math.min(lC,aP.length),bv);
l8=lC}}dc.M_(m,1);dc.v7(m,[0,0,Math.round((p[2]-p[0])*k*1.02),Math.round((p[3]-p[1])*g*1.2)]);F.HA=!0}else if(w){x.b9|=16;
var eM=x.add.vstk=az.Y1.g1(!0),Q=x.add.vmsk=s(H);T.S.Z8(Q.B,j);var l=f[0];for(var n=0;n<f.length;n++)if(f[n].FDeF._type!="FilN")l=f[n];
if(l){var kg=l.FDeF,jJ=kg._type;if(jJ=="FilS")x.add.SoCo={classID:"null",Clr:M(kg.Colr)};else if(jJ=="FilG"){var iL=x.add.GdFl=JSON.parse(az.j3[az.order.indexOf("GrFl")]);
a(l,iL,T.S.O5(Q.B))}else if(jJ=="FilN"){x.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8({l:0,I:0,c:0})}};
eM.fillEnabled.v=!1}else console.log(jJ)}if(H.LILn){var bz=H.LILn[0].LDeL,ks=bz.Wght;if(ks!=0){eM.strokeEnabled.v=!0;
eM.strokeStyleLineWidth.v.val=ks;var kg=H.LIFl[0].FDeF,jJ=kg._type;if(jJ=="FilS")eM.strokeStyleContent.v.Clr=M(kg.Colr);
else if(jJ=="FilN")eM.strokeEnabled.v=!1}}x.T4();x.ly(F)}else if(L=="RcRA"){var gr=H.AdjP,hg="hue2",ci=x.add[hg]=ak.g1(hg);
B(ci,gr)}else console.log(L);var fK=H.AdCh,jN=[];if(fK)for(var n=0;n<fK.length;n++){var dD=fK[n],eF=dD._type;
if(eF=="ShpN"||eF=="PCrv"){var Q=x.add.vmsk=s(dD),io=e(j,dD);T.S.Z8(Q.B,io);x.T4();x.ly(F)}else if(eF=="Rstr"){var la=P(dD,"Bitm"),e9=la.Bckg,gM=U(la,i,K[1]);
console.log(gM);var j7=new lK.Eu;j7.color=0;j7.V=gM[2].Y();j7.o=T.n(j7.V.D());T.bl(gM[1],j7.o,3);W.NU.gw(F,x,j7)}else if(dD.AdjP){var gr=dD.AdjP,cI=gr._type;
console.log(cI);var dL={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[cI];
if(dL==null){console.log(gr);continue}var cf=ak.Zq(dL,{});jN.push(cf);var ci=cf.v.Fltr.v;if(cI=="LevP"){var jA=hG.Rg(ci,0);
jA[0]=gr.OutB*255;jA[1]=gr.OutW*255;hG.H5(ci,0,jA)}else if(cI=="WhBP"){var jA=hG.Rg(ci,2);jA[4]=100+gr.WBTi*20;
hG.H5(ci,2,jA);var jA=hG.Rg(ci,3);jA[4]=100+gr.WBTi*200;hG.H5(ci,3,jA)}else if(cI=="HSSP"){var jA=jR.Rg(ci,0);
jA[0]=Math.round(gr.HueA*256);jA[1]=Math.round(gr.SatA*256);jA[2]=Math.round(gr.LumA*256);jR.H5(ci,0,jA)}else if(cI=="RecP"){B(ci,gr)}else if(cI=="B&CP"){ci.Brgh.v=Math.round(gr.Brig*100);
ci.Cntr.v=Math.round(gr.Ctrs*100-100)}else if(cI=="PosP"){ci.Lvls.v=gr.Post}else if(cI=="VibP"){ci.vibrance.v=gr.Vibr-100;
ci.Strt.v=Math.round(gr.Satu*100)}else if(cI=="ExpP"){ci.Exps.v=gr.Expo;ci.gammaCorrection.v=gr.Gamm/2.2}else if(cI=="ThrP"){ci.Lvl.v=Math.round(gr.Thre*255)}else if(cI=="CrvP"){var gI=gr.Mast["Cnt "],fM=gr.Mast.Vals,jA=k8.Rg(ci,0),a7=jA[0];
for(var k6=0;k6<gI;k6++){var fv=jA[k6]=T.G(a7);fv.v.Hrzn.v=Math.round(fM[k6]*255);fv.v.Vrtc.v=Math.round(fM[4+k6]*255)}k8.H5(ci,0,jA)}}else console.log(dD)}if(jN.length!=0&&x.add.SoLd){x.add.SoLd.filterFX=ak.Ea();
F.Zl({id:x.add.SoLd.placed.v,V:new kk,buffer:T.n(1),Eo:new lK.Eu});x.add.SoLd.filterFX.v.filterFXList.v=jN;
x.N7(F,!1)}var fq=H.FiEf;if(fq&&fq.length!=0){var cu=x.add.lmfx=JSON.parse(az.default);for(var n=0;n<az.order.length;
n++)cu[az.cx[n]]={t:"VlLs",v:[]};for(var ac=0;ac<fq.length;ac++){var hN=fq[ac],cQ=hN._type,d_={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[cQ],iL=d_?JSON.parse(az.j3[az.order.indexOf(d_)]):null,cK=1;
if(cQ=="ColO"){iL.Clr=M(hN.Colr)}else if(cQ=="GrdO"){a(hN.GrFl,iL)}else if(cQ=="Shad"||cQ=="InnS"||cQ=="OutG"||cQ=="InnG"){iL.Clr=M(hN.Colr);
iL.blur.v.val=Math.round(hN.Radi);var cc=hN.Comp;if(cc!=null){if(cc>.5)cK=1-.5*(cc-.5);else iL.Ckmt.v.val=Math.round(100*(.5-cc))}if(hN.Offs!=null){iL.Dstn.v.val=hN.Offs;
iL.lagl.v.val=Math.round(180-hN.Angl*180/Math.PI);iL.uglg.v=!1}}else if(cQ=="Strk"){if(hN.Ftyp==0)iL.Clr=M(hN.Colr);
else{a(hN.GrFl,iL);iL.PntT.v.FrFl="GrFl"}iL.Sz.v.val=Math.round(hN.Radi)}else if(cQ=="PhgB"||cQ=="BevE"){iL.blur.v.val=Math.round(hN.Radi);
if(cQ=="BevE")iL.bvlS.v.BESl="PlEb"}else if(cQ=="Gaus"){if(w&&hN.Enab){x.add.vmsk.j_=hN.Radi/2.4;x.add.vmsk.Ug=!0;
x.T4();x.ly(F)}}if(d_){iL.enab.v=hN.Enab;if(iL.Md&&hN.BlnM!=null)iL.Md.v.BlnM=aA.bi(V(hN.BlnM));if(iL.Opct&&hN.Opac!=null)iL.Opct.v.val=Math.round(cK*hN.Opac*100);
var aH=az.cx[az.order.indexOf(d_)];cu[aH].v.unshift({t:"Objc",v:iL})}}}if(H.BFFl&&H.BFFl[0])f.pop();
F.Z.push(x)}function B(H,F){H.Clrz.v=!0;var i=jR.Rg(H,0);i[0]=Math.round(F.RecH*360);i[1]=Math.round(F.RecS*100);
i[2]=Math.round(F.RecL*100);jR.H5(H,0,i)}function A(H,F,i,X,K,f){var d=P(H,"Bitm"),L=d.Bckg,x;console.log(L);
var G=Date.now();if(L==null){x=U(d,K,f[1]);F.V=x[2].Y();F.buffer=x[1].slice(0);F.V.x+=X.yK;F.V.y+=X.ww}if(L||X.vx()!=1){var O,v=0,C=0;
if(L){var S=K[L.Data],j=y.yD(S,"ataD")+4,w=y.iM(S,j);j+=4;O=S.slice(j,j+w)}else{if(F.V.a8())return F;
v=F.V.x-X.yK;C=F.V.y-X.ww;if(x[3]==null)x[3]=new Uint8Array(hZ.nw("PNG").gB([[F.buffer.buffer]],F.V.s,F.V.T));
O=x[3].slice(0)}var u=i.Ql(O,F.getName(),0,0);u.b9=F.b9;u.vz=F.vz;F=u;var l=new e5;l.translate(v,C);
l.concat(X);var I=F.V.Y();I.x=I.y=0;var Q=T.R.iR(I).J;T.R.v(Q,l,Q);F.add.SoLd.Trnf=W.On.V1(Q);F.add.SoLd.nonAffineTransform=W.On.V1(Q);
F.N7(i,!1)}return F}function s(H){var F=new lK.cI,i=H._type;if(H.ShpB==null&&H.Crvs==null)H=H.DsMa;if(i=="PCrv"){var X=H.Crvs.Data,K=[],f=[];
for(var n=0;n<X.length;n++){var d=X[n],L=d.length%3;if(L!=1){d=L==2?d[0][2]!=0?d.slice(0,d.length-1):d.slice(1):d.slice(1,d.length-1)}for(var G=0;
G<d.length;G++){var x=d[G],O=x[2];if(O!=0)K.push(G==0?"M":"C");f.push(x[0],x[1])}}F.B=T.R.XI({J:f,_:K},!0)}else{var v=H.ShpB,C=H.Shpe,S=C._type,j=v[2]-v[0];
if(S=="ShpE"){F.B=T.S.nU.f4(v[0],v[1],v[2]-v[0],v[3]-v[1])}else if(S=="ShNR"){var w=[0,0,0,0];if(C.CTyp){w=C.ShCR.slice(0);
for(var n=0;n<4;n++)w[n]*=v[2]-v[0];for(var n=1;n<4;n++)w[n]=w[0]}F.B=T.S.nU.Rect(v[0],v[1],v[2]-v[0],v[3]-v[1],w)}else if(S=="ShpT"){F.B=T.R.XI({_:["M","L","L","Z"],J:[v[0],v[3],v[2],v[3],v[0]+j*.5,v[1]]},!0)}else if(S=="ShTz"){F.B=T.R.XI({_:["M","L","L","L","Z"],J:[v[0]+j*C.PosL,v[1],v[0]+j*C.PosR,v[1],v[2],v[3],v[0],v[3]]},!0)}else{console.log("--",S);
F.B=T.S.nU.Rect(v[0],v[1],v[2]-v[0],v[3]-v[1],[0,0,0,0])}}return F}function a(H,F,i){var X=H.FDeF,K=H.FDeX;
if(K)K=q(K);var f=X.Grad,d=f.Cols;F.Type.v.GrdT=X.Type==0?"Lnr":"Rdl";var L=[];for(var n=0;n<d.length;
n++){var G=$(d[n]);L.push([f.Posn[n][0],G])}F.Grad.v.Intr.v=0;T.Yf.WL(L,F.Grad.v);var x=f.Posn,O=new f5(x[0][0],x[0][1]),v=new f5(x[1][0],x[1][1]);
if(K){var C=new e5;if(i==null)C.translate(-.5,-.5);C.concat(K);if(i==null)C.translate(.5,.5);O=C.a0(O);
v=C.a0(v)}if(X.Type==0)O=new f5((O.x+v.x)/2,(O.y+v.y)/2);T.Yf.Lv(O,v,i?i:new kk(0,0,1,1),F)}function M(H){var F=$(H);
return{t:"Objc",v:T.Yf.e8({l:F[0]*255,I:F[1]*255,c:F[2]*255})}}function $(H){var F=H._col,i=H._type;
if(i=="HSLA"){var X=T.Yy(F[0],F[1],F[2]);return[X.l,X.I,X.c,F[3]]}else if(i=="RGBA")return F;else if(i=="CMYK")return T.DQ(F);
else if(i=="GRAY")return[F[0],F[1],F[2]];else if(i=="Pant")return H.srgb._col;else{console.log(F);throw i}}function U(H,F,i){var X=H.Frmt,u="";
if(X!=0&&X!=1&&X!=2&&X!=4&&X!=6)throw X;var K=H.BmpW,f=H.BmpH,d=X==1?128:256,L=X==4?5:X==0||X==1?4:X==2?2:1,G=H.TWi1;
if(G==null)G=Math.ceil(K/d);var x=H.THi1;if(x==null)x=Math.ceil(f/256);var O=new kk(0,0,G,x),v=new kk;
for(var n=0;n<L;n++){var C=new Uint8Array(H["Sta"+(n+1)]);if(C.length!=O.D())throw"e";for(var S=0;S<C.length;
S++)if(C[S]==1)C[S]=0;var j=T.KI(C,O);v=v.X8(j)}var w=[];for(var n=0;n<L;n++){var C=new Uint8Array(H["Sta"+(n+1)]),l=T.n(v.D());
T.KY(C,O,l,v);w[n]=[];for(var S=0;S<l.length;S++)w[n][S]=l[S];u+=JSON.stringify(w[n])+","+JSON.stringify(H["Idx"+(n+1)])+","}if(i[u]==null){var I=v.s*d,Q=v.T*256,b=new Array(L);
for(var n=0;n<L;n++){var C=b[n]=new Uint8Array(I*Q);o(C,H["Idx"+(n+1)],w[n],F,I,Q,d)}var p=T.n(I*Q*4);
if(X==0||X==1)T.cO({l:b[0],I:b[1],c:b[2],x6:b[3]},p);else if(X==2)T.cO({l:b[0],I:b[0],c:b[0],x6:b[1]},p);
else if(X==4){for(var n=0;n<b[0].length;n++){var k=n*4,g=b[0][n]*(1/255),Y=b[1][n]*(1/255),R=b[2][n]*(1/255),m=b[3][n]*(1/255),Z=UDOC.C.cmykToRgb([g,Y,R,m]);
p[k]=Z[0]*255;p[k+1]=Z[1]*255;p[k+2]=Z[2]*255;p[k+3]=b[4][n]}}else{p.fill(255);T.A$(b[0],p)}var E=new kk(0,0,I,Q),N={buffer:p,V:E};
T.II(N);i[u]=[N.V,N.buffer]}var j=i[u][2]=i[u][0].Y();j.x+=v.x*d;j.y+=v.y*256;return i[u]}function o(H,F,i,X,K,f,d){var L=0,G=K>>>(d==256?8:7),x=f>>>8;
for(var O=0;O<x;O++)for(var v=0;v<G;v++){var C=v*d,S=O*256,j=O*G+v,w=S*K+C,u=i[j];if(u<=1){}else if(u==2)t(H,w,255,K,d,256);
else if(u==4){var l=F[L];L++;var I=X[l.Data.DatI],Q=l.Rect;if(Q==null)Q=[0,0,d,256];c(H,(S+Q[1])*K+C+Q[0],I,Q[1]*d+Q[0],K,d,Q[2]-Q[0],Q[3]-Q[1])}else console.log(u)}}function t(H,F,i,X,K,f){var d=F+X*f;
for(;F<d;F+=X){var L=F+K;for(var G=F;G<L;G++){H[G]=i}}}function c(H,F,i,X,K,f,d,L){var G=F+K*L,x=X+f*L;
for(;F<G&&X<x;F+=K,X+=f){for(var n=0;n<d;n++)H[F+n]=i[X+n]}}return z}();function fp(){}fp.iA=function(z,q){var e=fp,V=km.parse(z),s=0,G=0;
if(V.pages.length>1)console.log(V.pages.length,"pages");for(var P=0;P<V.pages.length;P++){var D=V.pages[P],B=D.layers;
if(D.Name=="Symbols")continue;for(var n=0;n<B.length;n++)if(e.y_(B[n])=="group")B[n]._isArtb=!0}var A=[],a=new kk;
for(var P=0;P<V.pages.length;P++){var D=V.pages[P],B=D.layers,M=e.mB(B,P),U=!1;if(M.D()>8e3*8e3||M.s>3e4||M.T>3e4){e.adT(B,!0);
var $=e.mB(B,P);if($.D()>=M.D())e.adT(B,!1)}M=e.mB(B,P);for(var o=0;o<B.length;o++){var t=B[o];if(e.y_(t)=="artboard")U=!0}if(!U){console.log("no artboard");
var c={};for(var H in D)c[H]=D[H];c._class="group";D.layers=[c]}A.push(M.Y());if(M.a8())continue;M.x=0;
M.y=s;s+=M.T+200;a=a.X8(M)}var F={};if(V.foreignSymbols)for(var n=0;n<V.foreignSymbols.length;n++){var i=V.foreignSymbols[n].symbolMaster;
F[i.symbolID]={dU:i}}e.avk(V.pages,F,q);for(var X in F){var t=F[X].dU,K=e.acY(t.layers)}var f=fp.FT(a,8192*8192);
q.HA=!0;q.s=Math.round(a.s/f);q.T=Math.round(a.T/f);q.buffer=T.n(q.s*q.T*4);q.m7={};q.IR=[];s=0;for(var P=0;
P<V.pages.length;P++){var d=V.pages[P],M=A[P],L=new e5(f,0,0,f,M.x,M.y-s);e.G7(d.layers,q,L,V,F,{},[]);
s+=M.T+200}delete q.m7;delete q.IR;for(var n=0;n<q.Z.length;n++)if(q.Z[n].add.artb)G++;q.Ic(G);if(f!=1)alert("File scaled down "+f+"x");
q.ab5()};fp.arW=0;fp.y_=function(z){var q=z._class?z._class:z.$class;if(q=="group"&&z._isArtb)q="artboard";
return q};fp.FT=function(z,q){var e=1;if(cW!=0)return e;while(Math.round(z.s/e)*Math.round(z.T/e)>q||Math.max(Math.round(z.s/e),Math.round(z.T/e))>3e4)e++;
if(window.akR)return e;if(e!=1&&!window.confirm("Your image is quite large ("+z.s+" x "+z.T+" px).\n"+"Press OK to scale it down "+e+"x, or Cancel to keep the size."))e=1;
return e};fp.mB=function(z,q){var e=[],V=fp;for(var P=0;P<z.length;P++){var D=z[P],B=V.Tb(D.frame);if(q==0||V.y_(D)=="artboard")e.push(B)}return T.V.d4(e)};
fp.adT=function(z,q){var e=[],V=fp;for(var P=0;P<z.length;P++){var D=z[P],B=V.Tb(D.frame);B.s+=150;B.T+=150;
e.push(B)}var A=T.V.d4(e);T.V.afX(e,q);var s=T.V.d4(e);if(s.D()*1.5<A.D()||A.s>3e4&&s.s<=3e4||A.T>3e4&&s.T<=3e4){alert("Re-arranging artboards");
for(var P=0;P<z.length;P++){var a=e[P],D=z[P],M=D.frame;M.x=a.x;M.y=a.y}}};fp.avk=function(z,q,e){if(z==null)return;
var V=fp;for(var P=0;P<z.length;P++){var D=z[P],B=V.y_(D);if(["page","artboard","group"].indexOf(B)!=-1)V.avk(D.layers,q,e);
else if(B=="symbolMaster")q[D.symbolID]={dU:D}}};fp.acY=function(z){var q=fp;for(var e=0;e<z.length;
e++){var V=z[e],P=q.y_(V),D=null;if(["page","artboard","group"].indexOf(P)!=-1)D=q.acY(V.layers);if(P=="symbolMaster"||P=="symbolInstance")D=V;
if(D!=null)return D}return null};fp.G7=function(z,q,e,V,P,D,B){if(z==null)return;var A=fp,s=[];for(var a=0;
a<z.length;a++){var M=z[a],$=M.frame?A.Tb(M.frame):null,U=M.style,F="",L=null,x=!1;if(U==null){console.log("no styles")}var o=A.aFW(M,e),t=A.y_(M),c=t=="shapeGroup"||t=="shapePath"||t=="rectangle"||t=="oval"||t=="triangle"||t=="polygon",H=["page","artboard","group"].indexOf(t)!=-1;
if(t=="shapeGroup"){for(var n=0;n<M.layers.length;n++)if(A.y_(M.layers[n])=="shapeGroup")H=!0}var i=M.exportOptions;
if(i){var X=i.exportFormats;if(X==null)X=i.sizes;if(t!="artboard"&&(X&&X.length!=0)){var K=X[0].scale}}var f=q.OJ();
f.Bm(M.isVisible);var d=M.name;if(!(typeof d=="string"))d=t;f.up(F+d.slice(0,250));if(U!=null)L=A.ahA(V,q,U,$,o,f.getName(),c||t=="artboard"||H);
if(t=="rectangle"&&U&&U.fills&&U.fills[0]){var O=U.fills[0];if(O.fillType==4&&O.patternFillType>1&&O.image!=null)x=!0}if(M.shouldBreakMaskChain){while(s.length!=0)A.agl(s.pop(),q)}if(H){f.add.lsct=M.layerListExpandedType==2?fH._j:fH.OI;
f.pi="pass";f.b9=24;f.Bm(M.isVisible);q.Z.push(q.cs());if(M.hasBackgroundColor==null&&M.hasClickThrough==0&&M.name=="Frame"&&!$.a8()){console.log("Frame detected!!!!");
var v=f.add.vmsk=new lK.cI;f.add.vstk=az.Y1.g1(!0,!1);var C=$.Y();v.B=T.S.nU.Rect(C.x,C.y,C.s,C.T);f.T4();
f.ly(q)}if(t=="artboard"){var S=$.Y(),w=o.vx();S.x=-Math.floor(o.yK/w);S.y=-Math.floor(o.ww/w);S.s=Math.floor(S.s/w);
S.T=Math.floor(S.T/w);f.Ig(S);var u=M.backgroundColor,l=u?{l:255*u.red,I:255*u.green,c:255*u.blue}:{l:255,I:255,c:255};
f.add.artb.Clr={t:"Objc",v:T.Yf.e8(l)};f.add.artb.artboardBackgroundType={t:"long",v:4}}A.G7(M.layers,q,o,V,P,D,B)}else if(c&&!x){var I=L!=null&&L.frameFXMulti.v.length==1;
f.add.vmsk=new lK.cI;f.add.vstk=az.Y1.g1(!0,I);var Q=U?U.fills:null,b=U?A.aaH(V,Q,$,o,f.getName(),q,A.u$(B,M.do_objectID+"_image")):[];
if(b.length==0){if(I)f.add.vstk.fillEnabled.v=!1;else f.add.iOpa=0;f.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8({l:0,I:0,c:0})}}}else{var p=b[0],k=null,g=null;
if(p.e=="SoFi"){k="SoCo";g=az.RS}if(p.e=="GrFl"){k="GdFl";g=az.dW}if(p.e=="patternFill"){k="PtFl";g=az.lA}if(k!=null){f.add[k]={classID:"null"};
for(var n=0;n<g.length;n++){var Y=g[n];f.add[k][Y]=p.u.v[Y]}var R=p.u.v.Opct.v.val;if(I&&R==0)f.add.vstk.fillEnabled.v=!1;
else f.add.iOpa=Math.round(255*R/100)}}f.b9|=16;f.add.vmsk.B=A.y$(M.layers?M.layers:[M],M.layers?o:e);
var m=U?U.blur:null;if(m&&m.isEnabled&&m.type<=1)f.add.vmsk.j_=m.radius;if(f.add.vmsk.B.length==2){console.log("shape with no content:",f.getName())}if(I){var Z=L.frameFXMulti.v[0].v,E=f.add.vstk,N=U.borders[0];
L.frameFXMulti.v=[];hB.ayt(Z,E);var h=U.borderOptions,j5=U.miterLimit;if(h)az.Y1.write(E,{vZ:h.lineCapStyle,o3:h.lineJoinStyle,Nn:h.dashPattern,E5:j5})}f.T4();
f.ly(q)}else if(t=="bitmap"||x){if(!x&&M.image==null)continue;var r=x?U.fills[0]:null,l8=x?r.image.bdata:M.image.bdata,aP=q.Ql(l8,f.getName(),0,0);
aP.b9=f.b9;f=aP;var m=U?U.blur:null,bS=U?U.colorControls:null;if(m||bS){var Q=[];if(m){var kR=ak.Zq("GsnB",{});
kR.v.enab.v=m.isEnabled;kR.v.Fltr.v.Rds.v.val=m.radius;Q.push(kR)}if(bS){var j1=bS.brightness,f6=bS.contrast,gx=bS.hue,lC=bS.saturation;
if(gx!=0||lC!=1){var kR=ak.Zq("hue2",{});kR.v.enab.v=bS.isEnabled;jR.H5(kR.v.Fltr.v,0,[Math.round(gx*180/Math.PI),Math.round((lC-1)*100),0]);
Q.push(kR)}if(j1!=0||f6!=1){var kR=ak.Zq("brit",{});kR.v.enab.v=bS.isEnabled;f6=f6-1;if(f6>0)f6/=2;var g2=kR.v.Fltr.v;
g2.Brgh.v=Math.round(j1*255);g2.Cntr.v=Math.round(f6*255);g2.useLegacy.v=!0;Q.push(kR)}}if(Q.length!=0){f.add.SoLd.filterFX=ak.Ea();
q.Zl({id:f.add.SoLd.placed.v,V:new kk,buffer:T.n(1),Eo:new lK.Eu});f.add.SoLd.filterFX.v.filterFXList.v=Q}}if(x){var dv=r.patternFillType;
if(dv==3){var bv=f.V.s/f.V.T,eo=$.s/$.T;if(bv<eo){o.translate(-($.s*(1-bv/eo))/2,0);o.scale(eo/bv,1)}else{o.translate(0,-($.T*(1-eo/bv))/2);
o.scale(1,bv/eo)}}}$.x=$.y=0;var aL=T.R.iR($).J;o.TG();T.R.v(aL,o,aL);f.add.SoLd.Trnf=W.On.V1(aL);f.add.SoLd.nonAffineTransform=W.On.V1(aL);
f.N7(q,!1)}else if(t=="text"){if(M.attributedString==null)continue;var dh=o.Y(),eM,kg,gr=0;dh.TG();dh.x6=dh.at=Math.min(dh.x6,dh.at);
f.add.lnsr="rend";f.add.TySh=dc.Pj(0,0);f.add.TySh.iB=new kk(0,0,$.s,$.T);f.add.TySh.v=dh;var jJ=M.attributedString;
if(jJ.archivedAttributedString)jJ=jJ.archivedAttributedString;var iL=jJ.NSString;if(iL==null)iL=jJ.string;
if(iL==null)iL="";if(iL["NS.string"])iL=iL["NS.string"];if(D[M.do_objectID]!=null)iL=D[M.do_objectID];
var bz=A.u$(B,M.do_objectID+"_stringValue");if(bz)iL=bz.value;if(jJ.attributes!=null){eM=[];kg=[];var ks=jJ.attributes;
for(var n=0;n<ks.length;n++){eM.push(ks[n].length,n);kg.push(ks[n].attributes)}}else if(jJ.NSAttributeInfo==null){eM=[iL.length,0];
kg=[jJ.NSAttributes]}else{eM=jJ.NSAttributeInfo["NS.data"];kg=jJ.NSAttributes;eM=fp.ahW(eM,kg)}for(var n=0;
n<eM.length;n+=2)gr+=eM[n];if(gr!=iL.length){while(gr>iL.length){eM[eM.length-2]--;gr--;if(eM[eM.length-2]==0){eM.pop();
eM.pop()}}eM[eM.length-2]+=iL.length-gr}iL=iL.replace(/\u2028/g,"\n");iL=iL.replace(/\u2029/g,"\n");
iL=iL.replace(/\r/g,"\n");var hg=f.add.TySh._1;dc.o5(hg,0,iL);if(iL!=""){var ci=M.textBehaviour,fK=U.textStyle,jN=fK?fK.verticalAlignment:0,dD=A.azP(hg,eM,kg,iL),w=dh.vx(),eF=dc.jb(hg,0,1),e9=0;
if(eF.c_.Font){var io=eF.GD[eF.c_.Font].Name;if(io=="FontAwesome"||io=="Ionicons")dD*=.87}var la=eF.c_.AutoLeading?0:eF.c_.Leading*.6,gM=Math.max(dD,la)*w,j7=$.s,cI=$.T;
if(ci==0){dc.M_(hg,0);var dL=dc.vC(eF.S$);if(dL==1)e9=j7*w;if(dL==2)e9=j7*w*.5;if(jN==0)gM*=1;else gM*=.9}else{dc.M_(hg,1);
dc.v7(hg,[0,0,Math.round(j7),Math.round(cI)]);if(ci==2&&jN==0)gM=gM*.2;else if(ci==2&&jN==1){gM=w*.5*(cI-eF.c_.FontSize)}else if(ci==1&&jN==0)gM=gM*.2;
else gM=gM*.35}f.add.TySh.v.translate(e9,gM)}}else if(t=="symbolInstance"||t=="symbolMaster"){var cf=M.symbolID;
if(D[M.do_objectID])cf=D[M.do_objectID].symbolID;var jA=A.u$(B,M.do_objectID+"_symbolID");if(jA)cf=jA.value;
if(cf=="")continue;var gI={};for(var Y in D)gI[Y]=D[Y];if(M.overrides)for(var Y in M.overrides)gI[Y]=M.overrides[Y];
var fM=B.slice(0);if(M.overrideValues)fM=fM.concat(M.overrideValues);var a7=P[cf];if(a7==null){console.log("Unknown master master",M.symbolID);
continue}var C=fp.Tb(a7.dU.frame),k6=C.s/$.s,fv=C.T/$.T,fq=o.Y();fq.scale(k6,fv);f.add.lsct=fH.OI;f.pi="pass";
f.b9=24;f.Bm(M.isVisible);q.Z.push(q.cs());var cu=a7.dU;if(q.IR.indexOf(cu)==-1){q.IR.push(cu);A.G7(cu.layers,q,fq,V,P,gI,fM);
q.IR.pop()}}else if(t=="slice"){console.log("slice layers are ignored by now");continue}else{console.log("unknown layer type: "+t,M);
continue}if(U&&U.contextSettings){var ac=U.contextSettings,hN=ac.blendMode;if(hN<A.rI.length){f.pi=aA.q2[aA.nq.indexOf(A.rI[hN])];
if(H&&f.pi=="norm")f.pi="pass"}f.vz=Math.round(f.vz*ac.opacity)}if(L!=null){f.add.lmfx=L}q.Z.push(f);
if(M.hasClippingMask&&z.length>1){s.push(f);q.Z.push(q.cs())}}while(s.length!=0)A.agl(s.pop(),q)};fp.u$=function(z,q){for(var n=0;
n<z.length;n++)if(z[n].overrideName.startsWith(q))return z[n]};fp.ahW=function(z,q){var e=0,V=[];while(e+1<z.length){var P=z[e];
e++;if(P>127){P+=128*(z[e]-1);e++;if(z[e-1]>127){P+=128*(z[e]-1);e++}}var D=z[e];e++;V.push(P,D)}return V};
fp.azP=function(z,q,e,V){var P=fp,D=0,M=0,$=0;for(var n=0;n<V.length;n++){var B=V.charCodeAt(n),A=1473<=B&&B<=1479||1488<=B&&B<=1514||1520<=B&&B<=1524,s=1569<=B&&B<=1594||1600<=B&&B<=1749;
if(A||s)D++}var a=D>V.length/2;for(var n=0;n<q.length;n+=2){var U=q[n],f=14,d="DejaVuSans";if(U==0)continue;
var o=q[n+1],t=e[o],c=dc.jb(z,M,M+U-1),H=t.NSColor;if(H==null){var H=t.MSAttributedStringColorDictionaryAttribute;
if(H==null)H=t.MSAttributedStringColorAttribute;if(H==null)H="0 0 0";else H=[H.red,H.green,H.blue].join(" ")}else if(P.y_(H)=="MSArchivedColor")H=H.dr+" "+H.dg+" "+H.db;
else if(H.NSRGB){H=H.NSRGB;H=y.JU(H,0,H.length-1)}else if(H.NSCMYK){H=H.NSCMYK;H=y.JU(H,0,H.length-1);
H=H.split(" ").map(parseFloat);var F=1-H[0],i=1-H[1],X=1-H[2],K=1-H[3];H=F*K+" "+i*K+" "+X*K}else if(H.NSWhite){H="1 1 1"}H=H.split(" ");
c.c_.FillColor={Type:1,Values:[1,parseFloat(H[0]),parseFloat(H[1]),parseFloat(H[2])]};var L=t.MSAttributedStringFontAttribute;
if(t.NSFont){f=t.NSFont.NSSize;d=t.NSFont.NSName}else if(L){if(L.attributes){L=L.attributes;f=L.size;
d=L.name}else{var G=L.NSFontDescriptorAttributes;if(G==null)G=L.UIFontDescriptorAttributes;L=G;f=L.NSFontSizeAttribute;
d=L.NSFontNameAttribute}if(d==null)d="DejaVuSans"}var $=Math.max($,f);c.c_.FontSize=Math.round(f);dc.v3(c,d);
var x=t.NSKern;if(x==null)x=t.kerning;if(x!=null)c.c_.Tracking=Math.round(1e3*x/f);if(t.NSUnderline!=null)c.c_.Underline=t.NSUnderline>0;
var O=t.NSStrikethrough;if(O==null)O=t.strikethroughStyle;if(O!=null)c.c_.Strikethrough=O>0;if(t.MSAttributedStringTextTransformAttribute==1)c.c_.FontCaps=2;
var v=t.NSParagraphStyle;if(v==null)v=t.paragraphStyle;if(v){var C=v.paragraphSpacing;if(C!=null){c.S$.SpaceAfter=C}var S=v.NSAlignment;
if(S==null)S=v.alignment;if(S!=null){var j=0;if(!1){}else if(S==1)j=1;else if(S==2)j=2;else if(S==4)j=0;
else{j=S;console.log("unknown align",S)}if(a&&j<2)j=1-j;c.S$.Justification=j}var w=v.NSMinLineHeight;
if(w==null)w=v.minimumLineHeight;if(w!=null){c.c_.AutoLeading=!1;c.c_.Leading=w}}c.S$._Direction=a?1:0;
dc.Vy(z,M,M+U,c);M+=U}return $};fp.ahA=function(z,q,e,V,P,D,B){var A=fp,s=JSON.parse(az.default),a=!1;
for(var n=0;n<az.order.length;n++)s[az.cx[n]]={t:"VlLs",v:[]};var M=e.fills,$=A.aaH(z,M,V,P,D,q);for(var U=0;
U<2;U++){var o=e[["shadows","innerShadows"][U]];if(o==null)continue;var t=["DrSh","IrSh"][U],c=az.cx[az.order.indexOf(t)];
for(var n=0;n<o.length;n++){var H=o[n];if(!H.isEnabled)continue;var F=H.contextSettings;if(F&&F.opacity==0||H.color.alpha==0)continue;
var i=JSON.parse(az.j3[az.order.indexOf(t)]);s[c].v.unshift({t:"Objc",v:i});a=!0;i.Clr.v=A._3(H.color);
i.blur.v.val=Math.round(H.blurRadius/P.vx());var X=P.Y();X.yK=X.ww=0;X.TG();var K=X.a0(new f5(H.offsetX,H.offsetY)),f=Math.sqrt(K.x*K.x+K.y*K.y);
i.Dstn.v.val=Math.round(f);i.lagl.v.val=Math.round(Math.atan2(K.y,-K.x)*(180/Math.PI));if(i.layerConceals)i.layerConceals.v=$.length!=0;
A.QO(H,i)}}var d=e.borders;if(d!=null&&($.length==0||e.blur==null||!e.blur.isEnabled))for(var n=0;n<d.length;
n++){var L=d[n];if(!L.isEnabled)continue;var i=JSON.parse(az.j3[az.order.indexOf("FrFX")]),c=az.cx[az.order.indexOf("FrFX")];
s[c].v.unshift({t:"Objc",v:i});a=!0;i.Clr.v=A._3(L.color);if(L.fillType!=0&&L.gradient){var x=A.az4(L.gradient,V,P,D),O=["Type","Angl","Ofst","Scl"];
for(var n=0;n<O.length;n++)i[O[n]]=x[O[n]];i.Grad.v=x.Grad.v;i.PntT.v.FrFl="GrFl"}i.Sz.v.val=Math.round(L.thickness/P.vx());
i.Styl.v.FStl=["CtrF","InsF","OutF"][L.position];A.QO(L,i)}for(var n=B?1:0;n<$.length;n++){var v=$[n],c=az.cx[az.order.indexOf(v.e)];
s[c].v.unshift(v.u);a=!0}return a?s:null};fp.aaH=function(z,q,e,V,P,D,B){if(q==null)return[];var A=fp,s=[];
for(var n=0;n<q.length;n++)if(q[n].isEnabled)s.push(q[n]);q=s;var a=[];for(var n=0;n<q.length;n++){var M=q[n],$=null,U=null;
if(M.fillType==0){$="SoFi";var o=JSON.parse(az.j3[az.order.indexOf("SoFi")]);U={t:"Objc",v:o};U.v.Clr.v=A._3(M.color)}else if(M.fillType==1){$="GrFl";
U={t:"Objc",v:A.az4(M.gradient,e,V,P)}}else if(M.fillType==4&&M.image!=null){var t=M.image;if(B)t=B.value;
var c=hZ.J7(t.bdata.buffer);if(c=="fpng")c="png";if(c!=null&&c!="pdf"&&c!="eps"){var H,d=0,L=0,x=0;if(D.m7[t.key])H=D.m7[t.key];
else{var F={data:new ArrayBuffer(4),hp:new kk(0,0,1,1)};try{F=hZ.nw(c).EY(t.bdata)[0]}catch(cz){}H={};
H.id=hq.ky()+"-d71c-11e5-b1ae-a548a96e5f9f";H.name="someImage";H.dE=[new Uint8Array(F.data),F.hp];D.hI(H);
D.m7[t.key]=H}var X=H.dE[1],o=JSON.parse(az.j3[az.order.indexOf("patternFill")]);$="patternFill";U={t:"Objc",v:o};
var K=M.patternFillType,f=M.patternTileScale;o.Algn.v=!0;o.Ptrn.v.Idnt.v=H.id;if(K==0){d=f*X.s/Math.min(X.s,X.T);
L=-V.yK;x=-V.ww}else{d=Math.max(e.s/X.s,e.T/X.T);L=-V.yK-(X.s*d-e.s)/2;x=-V.ww-(X.T*d-e.T)/2}o.Scl.v.val=100*d*(1/V.vx());
o.phase.v.Hrzn.v=Math.round(L/V.vx());o.phase.v.Vrtc.v=Math.round(x/V.vx())}}else if(M.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",M.fillType);
if($!=null){A.QO(M,U.v);a.push({e:$,u:U})}}return a};fp.aLs=function(z){var q=fp,e=new kk(0,0,1,1);z=z.slice(0);
while(!0){var V=!1;for(var n=0;n<z.length-1;n++){var P=z[n],D=z[n+1],B=null,A=P.contextSettings;if(P.fillType==0&&(A==null||A.opacity==1&&A.blendMode==0)&&P.color.alpha==1){var s="norm",a=1,A=D.contextSettings;
if(A){a=A.opacity;s=aA.pd(q.rI[A.blendMode])}if(D.fillType==0){B=T.G(D);q.a5x(B.color,P.color,B.color,e,s,a)}if(D.fillType==1){B=T.G(D);
var M=B.gradient.stops;for(var $=0;$<M.length;$++)q.a5x(M[$].color,P.color,M[$].color,e,s,a)}if(B!=null&&B.contextSettings){var A=B.contextSettings;
A.opacity=1;A.blendMode=0}}if(B!=null){z.splice(n,0,B);V=!0;break}}if(!V||z.length<2)break}return z};
fp.a5x=function(z,q,e,V,P,D){var B=fp,A=T.n(4);B.aMZ(z,A);var s=T.n(4);B.aMZ(q,s);T.w.Mt(P,A,V,s,V,V,D);
B.axn(s,e)};fp.aMZ=function(z,q){q[0]=255*z.red;q[1]=255*z.green;q[2]=255*z.blue;q[3]=255*z.alpha};fp.axn=function(z,q){q.red=z[0]/255;
q.green=z[1]/255;q.blue=z[2]/255;q.alpha=z[3]/255};fp.agl=function(z,q){z=z.Y();z.b9=24;z.up("Mask by "+z.getName());
q.Z.push(z);z.add.lsct=fH._j;z.add.lyid=q.iH();delete z.add.lmfx;delete z.add.SoCo;delete z.add.GdFl;
delete z.add.PtFl;delete z.add.iOpa;if(z.add.vmsk)z.add.vmsk.Ug=!0;z.T4();z.ly(q);if((z.b9&16)==16)z.b9-=16;
if((z.b9&2)==2)z.b9-=2;z.pi="pass";z.vz=255};fp.rI="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
fp.az4=function(z,q,e,V){e=e.Y();e.TG();e.yK=e.ww=0;var P=e.vx(),U=0,o=0;e.scale(1/P,1/P);var D=fp,B=JSON.parse(az.j3[az.order.indexOf("GrFl")]),A=B.Grad.v;
A.Intr.v=0;if(z==null)return B;var s=z.gradientType,a=D.X0(z.from),M=D.X0(z.to);a.offset(-.5,-.5);M.offset(-.5,-.5);
a=e.a0(a);M=e.a0(M);var $=Math.atan2(-(M.y-a.y),M.x-a.x);B.Type.v.GrdT=["Lnr","Rdl","Angl"][s];B.Scl.v.val=100*f5.h5(a,M);
if(s==0){B.Angl.v.val=180/Math.PI*$;B.Scl.v.val=100*f5.h5(a,M);U=(a.x+M.x)/2;o=(a.y+M.y)/2}if(s==1){B.Scl.v.val=200*f5.h5(a,M);
U=a.x;o=a.y}if(s==2){B.Angl.v.val=180/Math.PI*($-Math.PI/2)}var t=B.Ofst.v;t.Hrzn.v.val=U*100;t.Vrtc.v.val=o*100;
var c=[];for(var n=0;n<z.stops.length;n++){var H=z.stops[n],F=H.color;c.push([H.position,F?[F.red,F.green,F.blue]:[0,0,0],F.alpha])}T.Yf.WL(c,A);
return B};fp.QO=function(z,q){var e=fp,V=1,P=z.contextSettings;if(P!=null){q.Md.v.BlnM=e.rI[P.blendMode];
V*=P.opacity}else q.Md.v.BlnM=e.rI[0];q.enab.v=z.isEnabled;if(q.uglg!=null)q.uglg.v=!1;if(z.color!=null)V*=z.color.alpha;
q.Opct.v.val=Math.round(V*100)};fp._3=function(z){return T.Yf.e8(z?{l:z.red*255,I:z.green*255,c:z.blue*255}:{l:0,I:0,c:0})};
fp.y$=function(z,q){var e=fp,V=[{e:6},{e:8,all:0}];for(var P=0;P<z.length;P++){var D=z[P],B=D.booleanOperation,A=0,s=D._class,t=!1;
if(s=="group"||s=="text"||s=="symbolInstance"||s=="slice"){console.log(s+" inside ShapeGroup");continue}if(B==-1)A=0;
else if(B==0)A=1;else if(B==1)A=2;else if(B==2)A=3;else if(B==3)A=0;if(P==0)A=1;var a=fp.Tb(D.frame),M=e.aFW(D,q),$=D.path?D.path:D,U=[{e:0,length:0,xq:A,HO:2,yL:0,xr:0}],o=$.points;
for(var n=0;n<o.length;n++){var c=o[n],H=e.X0(c.curveTo),F=e.X0(c.point),i=e.X0(c.curveFrom);t=t||c.hasCurveFrom&&!i.bs(F)||c.hasCurveTo&&!H.bs(F)}var X=[];
if(!t){var K=[],hE=o.length;if(hE==0)continue;for(var n=0;n<hE;n++){X[n]=o[n].cornerRadius;var c=e.X0(o[n].point);
K.push(c.x,c.y)}M.scale(1/a.s,1/a.T);M.TG();T.R.v(K,M,K);U=T.S.nU.F0(K,X).slice(2);U[0].xq=A}else{var f=o.length;
U[0].length=f;for(var n=0;n<f;n++){var c=o[n],d=c.curveMode,L=e.X0(c.point);U[1+n]={e:d==2||d==4?1:2,li:c.hasCurveTo?e.X0(c.curveTo):L.Y(),O0:L,kS:c.hasCurveFrom?e.X0(c.curveFrom):L.Y()}}M.scale(1/a.s,1/a.T);
M.TG();T.S.Z8(U,M);var X=[];for(var n=0;n<f;n++){var c=o[n],d=c.curveMode,x=c.cornerRadius;if(d==1&&x!=0)X.push(x);
else X.push(0)}}if(!$.isClosed)for(var n=0;n<U.length;n++)U[n].e+=3;V=V.concat(U);var O=e.y_(D);if(M.c==0&&M.I$==0){var v=M.yK,C=M.ww,S=v+M.x6,j=C+M.at,w=[v,C,S,j]}}return V};
fp.aFW=function(z,q){var e=q.Y(),V=z.frame?fp.Tb(z.frame):null;if(V)e.translate(-V.x-V.s/2,-V.y-V.T/2);
if(z.isFlippedHorizontal)e.scale(-1,1);if(z.isFlippedVertical)e.scale(1,-1);e.rotate(-z.rotation*(Math.PI/180));
if(V)e.translate(V.s/2,V.T/2);return e};fp.X0=function(z){z=z.slice(1,z.length-1).split(",");return new f5(parseFloat(z[0]),parseFloat(z[1]))};
fp.Tb=function(z){return new kk(z.x,z.y,z.width,z.height)};fp.amx=function(z){return{_class:"rect",constrainProportions:!1,x:z.x,y:z.y,width:z.s,height:z.T}};
function kv(){}kv.iA=function(z,q){var e=Date.now(),V=kv,P=UZIP.parse(z),D=JSON.parse(y.vK(P.manifest)),B=JSON.parse(y.vK(P["resources/graphics/graphicContent.agc"])).resources,A=[],s=[],a=D.children;
for(var n=0;n<a.length;n++){var M=a[n];if(M.name=="artwork"){var $=M.children;for(var U=0;U<$.length;
U++){var o=$[U],t=JSON.parse(y.vK(P["artwork/"+o.path+"/graphics/graphicContent.agc"])),c=t.children;
if(c.length==0){}else if(c.length==1){if(o["uxdesign#bounds"]){o._node=c[0];A.push(o)}}else{var H=c[0],F=H.transform,i=H.shape;
if(i==null)i={x:0,y:0,width:1e3,height:1e3};if(i.type=="path"){var X=T.R.b_(Typr.U.SVGToPath(i.path).crds);
i={x:X.x,y:X.y,width:X.s,height:X.T}}i=T.G(i);if(F){i.x+=F.tx;i.y+=F.ty}o["uxdesign#bounds"]=i;o._node={type:"artboard",artboard:{children:c}};
s.push(o)}}}}if(A.length==0)A=s;var K=[],f=new kk;for(var n=0;n<A.length;n++){var o=A[n],d=fp.Tb(o["uxdesign#bounds"]);
K.push(d);f=f.X8(d)}var L=fp.FT(f,8192*8192);q.HA=!0;q.s=Math.round(f.s/L);q.T=Math.round(f.T/L);q.buffer=T.n(q.s*q.T*4);
q.Ic(A.length);var x=new e5(L,0,0,L,f.x,f.y);q.m7={};for(var n=0;n<A.length;n++){var o=A[n],d=fp.Tb(o["uxdesign#bounds"]),O=o._node,v=x.Y(),C=d.Y(),S=v.vx();
v.translate(-d.x,-d.y);C.x=-Math.floor(v.yK/S);C.y=-Math.floor(v.ww/S);C.s=Math.floor(C.s/S);C.T=Math.floor(C.T/S);
v.translate(d.x,d.y);kv.N5(O,q,v,B,P,C);var j=q.Z[q.Z.length-1];j.up(o.name);j.Ig(C);if(n!=A.length-1)j.add.lsct=fH.OI}delete q.m7};
kv.eZ=function(z){if(z==null)return new e5;return new e5(z.a,z.b,z.c,z.d,z.tx,z.ty)};kv.N5=function(z,q,e,V,P,D){var B=kv,A=z.type,s=z[A],a=z.style,M=B.eZ(z.transform),t,c="none",H,F="none",i,X;
M.TG();var $=e.Y();$.concat(M);var U=q.OJ(),o=z.name;U.up(o?o.slice(0,250):"Layer");if(z.visible!=null)U.Bm(z.visible);
if(a){t=a.stroke;c=t?t.type:"none";H=a.fill;F=H?H.type:"none";if(H&&Object.keys(H).length==1)F="none";
i=a.filters;X=a.clipPath;if(X&&V.clipPaths[X.ref])X=V.clipPaths[X.ref].children;else X=null;if(a.opacity!=null)U.vz=Math.round(255*a.opacity);
if(F=="solid"&&H.color.alpha)U.vz=Math.round(U.vz*H.color.alpha);if(i){U.add.lmfx=B.ac0(i);for(var n=0;
n<i.length;n++)if(i[n].type=="uxdesign#blur"){var K=i[n],f=K.params,d=f.brightnessAmount;if(d==null)d=0;
d=Math.abs(d/100);if((K.visible==null||K.visible==!0)&&f.backgroundEffect)U.vz=Math.round(U.vz*(d+(1-d)*f.fillOpacity))}}if(F=="pattern"&&H.pattern.meta.ux.uid=="")F="none"}if(X==null&&z.meta&&z.meta.ux&&z.meta.ux.clipPathResources)X=z.meta.ux.clipPathResources.children;
if(A=="artboard"||A=="group"){if(X){var L=X[0],G=L.shape,x=G!=null&&G.type=="rect"&&G.width*G.height>4e6;
if(L.type!="text"&&!x){if(G){var M=B.eZ(L.transform);M.TG();var O=$.Y();O.concat(M);U.add.vmsk=new lK.cI;
U.add.vmsk.B=B.y$(G);O=O.Y();O.TG();T.S.Z8(U.add.vmsk.B,O);U.T4();U.ly(q)}}else if(!x)alert("Clipping by text has been ignored")}U.add.lsct=fH._j;
U.pi="pass";U.b9=24;if(z.visible!=null)U.Bm(z.visible);q.Z.push(q.cs());var v=s.children,C=H;if(C)C=C.color;
if(C)C=C.value;if(H){if(A=="artboard"&&F=="solid"){U.Ig(new kk(0,0,10,10));U.add.artb.Clr={t:"Objc",v:T.Yf.e8({l:C.r,I:C.g,c:C.b})};
U.add.artb.artboardBackgroundType={t:"long",v:4}}else{var S=q.OJ();S.up("BACKGROUND");S.b9|=16;S.add.vstk=az.Y1.g1();
S.add.vmsk=new lK.cI;S.add.vmsk.B=B.y$({type:"rect",x:D.x,y:D.y,width:D.s,height:D.T});B.FC(H,F,$,D,D,S,q,V,P);
S.T4();S.ly(q);q.Z.push(S)}}for(var n=0;n<v.length;n++){kv.N5(v[n],q,$,V,P,D)}}else if(A=="shape"&&(s.type=="rect"&&(s.r==null||s.r==0)||s.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(s.path)))&&F=="pattern"&&(Math.abs(s.width/s.height-H.pattern.width/H.pattern.height)<.01||a.fill.pattern.meta.ux.scaleBehavior=="fill")){var j=H.pattern,w=j.meta.ux,u=w.uid,l=P["resources/"+u];
if(l==null){console.log(j);return}var I=q.Ql(l,U.getName(),0,0);I.b9=U.b9;I.vz=U.vz;U=I;var Q=T.S.O5(B.y$(s),null),b=T.R.iR(new kk(0,0,j.width,j.height)).J,p=new e5;
p.scale(j.width/Q.s,j.height/Q.T);if(w.offsetX)p.translate(-w.offsetX*j.width,0);if(w.offsetY)p.translate(0,-w.offsetY*j.height);
$.concat(p);$.TG();T.R.v(b,$,b);U.add.SoLd.Trnf=W.On.V1(b);U.add.SoLd.nonAffineTransform=W.On.V1(b);
U.N7(q,!1)}else if(A=="shape"){U.b9|=16;U.add.vstk=az.Y1.g1();U.add.vmsk=new lK.cI;U.add.vmsk.B=B.y$(s);
var Q=T.S.O5(U.add.vmsk.B,null),O=$.Y();O.TG();T.S.Z8(U.add.vmsk.B,O);var k=T.S.O5(U.add.vmsk.B,null);
if(c=="none"){}else{var g=t.color.value,Y,R;Y="SoFi";var m=JSON.parse(az.j3[az.order.indexOf("SoFi")]);
R={t:"Objc",v:m};R.v.Clr.v=T.Yf.e8({l:g.r,I:g.g,c:g.b});var Z=t.align,E=t.cap;if(Z==null)Z="center";
var N=U.add.vstk;N.strokeEnabled.v=!0;N.strokeStyleLineWidth.v.val=t.width;if(Z)N.strokeStyleLineAlignment.v.strokeStyleLineAlignment=az.Y1.fy[["inside","center","outside"].indexOf(Z)];
if(E)N.strokeStyleLineCapType.v.strokeStyleLineCapType=az.Y1.r6[["butt","round","square"].indexOf(E)];
var h=["SoFi","GrFl","patternFill"].indexOf(Y),j5=[az.RS,az.dW,az.lA][h];N.strokeStyleContent.v={classID:az.Y1.U0[0]};
var r=N.strokeStyleContent.v={classID:az.Y1.U0[h]};for(var n=0;n<j5.length;n++)r[j5[n]]=R.v[j5[n]]}if(i)for(var n=0;
n<i.length;n++)if(i[n].type=="uxdesign#blur"&&i[n].visible){var l8=i[n];U.add.vmsk.j_=l8.params.blurAmount}B.FC(H,F,$,Q,k,U,q,V,P);
U.T4();U.ly(q)}else if(A=="text"&&z.text){var aP=z.text,bS=aP.frame,kR=a.font,j1=a.textAttributes,M=$.Y(),bv=0;
M.TG();U.add.lnsr="rend";U.add.TySh=dc.Pj(0,0);U.add.TySh.iB=new kk(0,0,100,100);U.add.TySh.v=M;var f6=U.add.TySh._1,gx=aP.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
dc.o5(f6,0,gx);if(gx!=""){var lC=dc.jb(f6,0,1),g2=kR.postscriptName;if(g2==null)g2=kR.family;dc.v3(lC,g2);
lC.c_.FontSize=Math.round(kR.size);if(F=="solid"){var g=H.color.value;lC.c_.FillColor={Type:1,Values:[1,g.r/255,g.g/255,g.b/255]}}if(j1){if(j1.paragraphAlign)lC.S$.Justification=["left","right","center"].indexOf(j1.paragraphAlign);
if(j1.letterSpacing)lC.c_.Tracking=Math.round(j1.letterSpacing);if(j1.lineHeight){lC.c_.AutoLeading=!1;
lC.c_.Leading=Math.round(j1.lineHeight)}}dc.Vy(f6,0,gx.length,lC)}var dv=z.meta.ux.rangedStyles;if(dv)for(var n=0;
n<dv.length;n++){var s=dv[n],eo=Math.min(s.length,gx.length-bv);if(n==dv.length-1)eo=gx.length-bv;var lC=dc.jb(f6,bv,bv+eo),g2=s.postscriptName;
if(g2==null)g2=s.family;if(g2!=null)dc.v3(lC,g2);var aL=s.textScript,dh=s.underline,eM=s.fontSize,K=s.fill,kg=s.textTransform;
if(aL&&aL!="none")lC.c_.FontBaseline=aL=="superscript"?1:2;if(dh!=null)lC.c_.Underline=dh;if(eM!=null)lC.c_.FontSize=Math.round(eM);
if(kg!=null)lC.c_.FontCaps=kg=="uppercase"?2:0;if(kg=="lowercase"){dc.ZD(f6,bv,bv+eo);dc.o5(f6,bv,gx.slice(bv,bv+eo).toLowerCase())}if(K!=null){var jJ=K.value;
lC.c_.FillColor={Type:1,Values:[1,(jJ>>>16&255)/255,(jJ>>>8&255)/255,(jJ>>>0&255)/255]}}dc.Vy(f6,bv,bv+eo,lC);
bv+=eo}if(bS.type=="area"||bS.type=="autoHeight"){var iL=bS.width,bz=bS.height;dc.M_(f6,1);dc.v7(f6,[0,0,iL,bz!=null?bz:iL*2])}}else if(A=="syncRef"){var ks=z.syncSourceGuid,gr=V.meta.ux.symbols,hg=B.ms(gr,ks);
if(hg){var ci=$.Y();ci.concat(B.eZ(hg.transform));kv.N5(hg,q,ci,V,P,D)}return}else console.log(A,z);
q.Z.push(U)};kv.ms=function(z,q){for(var n=0;n<z.length;n++){var e=z[n],V=e.group;if(e.id==q)return e;
if(V){var P=kv.ms(V.children,q);if(P)return P}}return null};kv.y$=function(z){var q=z.type,e=[{e:6},{e:8,all:0}];
if(q=="rect"){var V=z.r,P=z.x,D=z.y,B=z.width,A=z.height;e=T.S.nU.Rect(P,D,B,A,V?V:0)}else if(q=="circle"){var V=z.r;
e=T.S.nU.f4(z.cx-V,z.cy-V,2*V,2*V)}else if(q=="ellipse"){var s=z.rx,a=z.ry;e=T.S.nU.f4(z.cx-s,z.cy-a,2*s,2*a)}else if((q=="path"||q=="compound")&&z.path){var M=Typr.U.SVGToPath(z.path);
e=T.R.XI({_:M.cmds,J:M.crds},!1)}else if(q=="line"){var $=z.x1,U=z.x2,o=z.y1,t=z.y2;e=T.S.nU.F0([$,o,U,t],0,!0)}else if(q=="polygon"){var c=z.points,H=[];
for(var n=0;n<c.length;n++)H.push(c[n].x,c[n].y);e=e.concat(T.S.nU.F0(H,0,!1).slice(2))}else console.log(q,z);
return e};kv.ac0=function(z){var q=JSON.parse(az.default);for(var n=0;n<az.order.length;n++)q[az.cx[n]]={t:"VlLs",v:[]};
for(var n=0;n<z.length;n++){var e=z[n],V=e.type,P=e.params,D=e.visible;if(V=="dropShadow"){var B=az.cx[az.order.indexOf("DrSh")],A=JSON.parse(az.j3[az.order.indexOf("DrSh")]);
q[B].v.unshift({t:"Objc",v:A});var s=P.dropShadows;if(s.length!=1)throw"e";var a=s[0],M=a.color,$=M.value,U=a.dx,o=a.dy;
A.Clr.v=T.Yf.e8({l:$.r,I:$.g,c:$.b});A.Opct.v.val=Math.round((M.alpha!=null?M.alpha:1)*100);A.uglg.v=!1;
A.enab.v=D!=null?D:!0;A.lagl.v.val=Math.round(180/Math.PI*Math.atan2(o,-U));A.Dstn.v.val=Math.round(Math.sqrt(U*U+o*o));
A.blur.v.val=Math.round(a.r*2.3)}}return q};kv.FC=function(z,q,e,V,P,D,B,A,s){var a=kv;D.add.vstk.fillEnabled.v=q!="none";
if(q=="none"){D.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8({l:0,I:0,c:0})}}}else{var M,$,U;if(q=="solid"){var o=z.color.value;
M="SoCo";$=az.RS;var t=JSON.parse(az.j3[az.order.indexOf("SoFi")]);U={t:"Objc",v:t};U.v.Clr.v=T.Yf.e8({l:o.r,I:o.g,c:o.b})}else if(q=="gradient"){M="GdFl";
$=az.dW;var t=JSON.parse(az.j3[az.order.indexOf("GrFl")]),c=t.Grad.v,K,f,d;c.Intr.v=0;var H=z[q],F=H.ref?A.gradients[H.ref]:H.meta.ux.gradientResources,i=["linear","radial","angular"].indexOf(F.type),X=F.stops;
t.Type.v.GrdT=["Lnr","Rdl","Angl"][i];if(i==0){var K=new f5(H.x1,H.y1),f=new f5(H.x2,H.y2);K.x=f.x+.5*(K.x-f.x);
K.y=f.y+.5*(K.y-f.y)}else{var K=new f5(H.cx,H.cy),f=new f5(H.cx+H.r,H.cy)}d=P;if(H.units=="objectBoundingBox"){var L=new e5(V.s,0,0,V.T,V.x,V.y);
K=L.a0(K);f=L.a0(f)}var L=a.eZ(H.transform);K=L.a0(K);f=L.a0(f);L=e.Y();L.TG();K=L.a0(K);f=L.a0(f);T.Yf.Lv(K,f,d,t);
var x=[];for(var n=0;n<X.length;n++){var O=X[n],v=O.color,o=v.value,C=v.alpha;if(C==null)C=1;x.push([O.offset,[o.r/255,o.g/255,o.b/255],C])}T.Yf.WL(x,c);
U={t:"Objc",v:t}}else if(q=="pattern"){M="PtFl";$=az.lA;var t=JSON.parse(az.j3[az.order.indexOf("patternFill")]),p;
U={t:"Objc",v:t};var S=z[q],j=S.meta.ux,w=j.uid,u=s["resources/"+w].buffer,l=j.flipX,I=j.flipY,Q=w+l+I,b=hZ.J7(u);
if(B.m7[Q])p=B.m7[Q];else{var k=new kk(0,0,S.width,S.height),g;if(k.a8()||b==null){k=new kk(0,0,1,1);
g=new ArrayBuffer(4)}else{var Y=hZ.nw(b);if(Y.k2){var R=new hq;Y.EY(u,R);g=R.tW().buffer}else{try{var m=Y.EY(u)[0];
g=m.data;k=m.hp}catch(cz){g=new ArrayBuffer(k.D()*4)}}}p={};p.id=hq.ky()+"-d71c-11e5-b1ae-a548a96e5f9f";
p.name="someImage";p.dE=[new Uint8Array(g),k];if(l)T.O.Um(p.dE[0].slice(0),p.dE[0],k.s,k.T);if(I)T.O.abt(p.dE[0].slice(0),p.dE[0],k.s,k.T);
B.hI(p);B.m7[Q]=p}var Z=e.Y();Z.TG();Z.translate(V.x,V.y);var E=V.s,N=V.T,h=p.dE[1].s,j5=p.dE[1].T,r=Math.max(E/h,N/j5);
if(j.scale)r*=j.scale;var l8=new e5;l8.translate(-h/2,-j5/2);l8.scale(1/h,1/j5);if(j.offsetX!=null)l8.translate(j.offsetX,j.offsetY);
l8.scale(h,j5);l8.scale(r,r);l8.translate(E/2,N/2);l8.concat(Z);hB.aeb(p,t,0,0,1e3,l8)}else console.log(q);
if(M!=null){D.add[M]={classID:"null"};for(var n=0;n<$.length;n++){var aP=$[n];D.add[M][aP]=U.v[aP]}}}};
function cC(){}cC.iA=function(){var z=y.Zy,q=y.iM,e=y.iJ;function V(i,X){return y.JU(i,X,4).split("").reverse().join("")}function P(i,X){return y.JU(i,X,4)}function D(i,X){var K=new Uint8Array(i);
if(q(K,0)==759775571)B(i,X);else A(i,X)}function B(i,X){var K=new Uint8Array(i),f=0,d=y.JU(K,f,16);f+=16;
if(d!="SAI-CANVAS-TYPE0")throw"e";var L=q(K,f);f+=4;var G=X.s=q(K,f);f+=4;var x=X.T=q(K,f);f+=4;var O=q(K,f);
f+=4;var v=q(K,f),C=q(K,f+4);f+=8;console.log(v,C);for(var n=0;n<4;n++)if(q(K,f+n*4)!=0)throw"e";f+=16;
if(q(K,f)!=4286611584)throw"e";f+=4;var S=P(K,f);f+=4;if(S!="norm"&&S!="ver1")throw S;var j=new Array(v),w={};
for(var u=0;u<v;u++){var l=P(K,f);f+=4;var d=q(K,f),I=q(K,f+4);f+=8;if(q(K,f)!=0)throw"e";f+=4;var Q=q(K,f+8);
if(u==v-1)Q=K.length;if(l=="layr"){var b=X.OJ();X.Z.push(b);if(P(K,I)!=l)throw"e";I+=4;var p=b.add.lyid=q(K,I);
I+=4;if(p!=d)throw"e";if(q(K,I)!=0&&q(K,I+4)!=0)throw"e";I+=8;var k=P(K,I);I+=4;var g=M(K,I);I+=16;var Y=q(K,I),R=q(K,I+4);
I+=8;var m=P(K,I);I+=4;b.vz=Math.round(255*q(K,I)/100);I+=4;var Z=q(K,I);I+=4;w[d]=[b,R];while(!0){if(q(K,I)==0)break;
var l=P(K,I);I+=4;var E=q(K,I);I+=4;if(l=="name")b.up(y.UB(K,I+2,e(K,I)));else console.log(l,E);I+=E}if(I+4!=Q)throw"e"}else if(l=="lpix"||l=="intg"){var N=P(K,I),h,j5,R,aP=0;
I+=4;if(N!="dpcm"&&N!="\0\0\0\0")throw N;if(l=="intg"){j5=new kk(0,0,X.s,X.T);h=X.buffer=T.n(j5.D()*4);
R=Math.ceil(X.s/256)*Math.ceil(X.T/256)}else{var r=w[d],b=r[0];R=r[1];j5=b.V=new kk(0,0,256,256);h=b.buffer=T.n(j5.D()*4)}h.fill(255);
var l8=T.n(256*256),bS=I+R*4;for(var n=0;n<R;n++){var kR=q(K,I);I+=4;if(n==0)cH.ol(K,bS+aP+4,kR,l8,0);
aP+=kR}if(l=="lpix")T.A$(l8,h)}}}function A(i,X){o(i);var K=$(new Uint8Array(i),2,0),f=K.canvas;X.s=q(f,4);
X.T=q(f,8);X.do=q(f,22);var d=K.layers,L=[],G={};for(var x in d){var O=d[x],v=0,C=q(O,v);v+=4;var S=X.OJ(),j={Wv:S,ac5:C==8?[]:null},w=S.add.lyid=q(O,v);
v+=4;G[w]=j;var u=S.V=M(O,v);v+=16;S.V.offset(-8,-8);var hE=q(O,v);if(hE!=0&&hE!=1&&hE!=2&&hE!=3)throw hE;
v+=4;S.vz=Math.round(255*O[v]/100);v++;S.Bm(O[v]==1);v++;S.buffer=T.n(u.D()*4);var l=O[v];v++;if(C!=8)S.Ev=O[v]==1;
v++;if(O[v]!=0)throw"e";v++;var I=V(O,v);v+=4;var Q={"add ":"lddg","sub ":"lbrn",adsb:"lLit",cbin:"norm"}[I];
S.pi=Q?Q:I;var b={};v=a(O,v,b);S.up(b.name);var p=b.pfid;if(p!=null)G[p].ac5.push(j);else L.push(j);
if(C==8){S.add.lsct=b.fopn?fH._j:fH.OI;S.pi="pass";S.b9=24;continue}var k=Math.ceil(u.s/32),g=Math.ceil(u.T/32),Y=v;
v+=k*g;var R=new kk(0,0,32,32),m=T.n(R.D()*4),Z=T.n(R.D()),E=u.Y();E.x=E.y=0;for(var N=0;N<g;N++){for(var h=0;
h<k;h++){if(O[Y+N*k+h]==1){for(var j5=0;j5<8;j5++){var r=e(O,v);v+=2;cH.ol(O,v,r,Z,0);v+=r;if(j5<4)T.yR(Z,m,j5==3?3:2-j5)}R.x=h*32;
R.y=N*32;T.Od(m);T.aF(m,R,S.buffer,E)}}}}s(L,X)}function s(i,X){for(var n=0;n<i.length;n++){var K=i[n];
if(K.ac5){X.Z.push(X.cs());s(K.ac5,X)}X.Z.push(K.Wv)}}function a(i,X,K){while(X<i.length){var f=V(i,X),L=null;
X+=4;if(q(i,X-4)==0)break;var d=q(i,X);X+=4;if(f=="name"){var G=X;while(i[G]!=0)G++;L=y.JU(i,X,G-X)}else if(f=="lorg")L=[z(i,X),z(i,X+4)];
else if(f=="pfid")L=q(i,X);else if(f=="fopn")L=i[X]==1;else L=i.slice(X,X+d);K[f]=L;X+=d}return X}function M(i,X){return new kk(z(i,X),z(i,X+4),z(i,X+8),z(i,X+12))}function $(i,X,K){var f=new Uint8Array(i.buffer,X*4096,4096),d={},q=y.iM;
for(var L=0;L<64;L++){var G=L*64,x=q(f,G);G+=4;if(x==0)continue;var O=G;while(f[O]!=0)O++;var v=y.JU(f,G,O-G);
G+=32;var C=f[G+2];G+=4;var S=q(f,G);G+=4;var j=q(f,G);G+=4;G+=8;if(C==16)d[v]=$(i,S,K+1);else d[v]=U(i,S,j,K+1)}return d}function U(i,X,K,f){var d=new Uint8Array(K),L=0;
while(L<K){var G=new Uint8Array(i.buffer,X*4096,Math.min(4096,K-L));d.set(G,L);L+=4096;var x=X&511;X=q(i,(X-x)*4096+x*8+4)}return d}function o(i){var X=i.byteLength>>>12,K=null;
for(var f=0;f<X;f++){var d=f&511,L=new Uint32Array(i,f*4096,1024);if(d==0){t(f>>>9,L);K=L}else{c(K[d*2],L)}}}function t(i,X){for(var n=0;
n<1024;n++){var K=X[n],f=K^H(i);X[n]=f<<16|f>>>16;i=K}}function c(i,X){for(var n=0;n<1024;n++){var K=X[n];
X[n]=K-H(i);i=K}}function H(i){return i^F[i>>24&255]+F[i>>16&255]+F[i>>8&255]+F[i&255]}var F=[2568213150,2213907773,3502118182,2252615351,2126945275,2312593252,4216435257,4278811734,2718363422,2537383565,3280172813,481610987,922161291,1077111757,2228298685,2951699955,2419222343,3422529757,632899331,3620054202,3825866656,3940214514,1802732112,1995240010,1864845004,2616811044,516581573,3877394729,2014831980,798606449,962212537,1631814467,1581141896,2158572332,410633887,2047071060,317232928,4185932942,56898934,2520522107,3152871894,3306333873,1372277035,1153097417,3000323009,1316759699,355584419,1134767269,1437751943,1893333625,4015737571,2330457237,2453308677,496133388,3377109596,668252948,326281719,203007998,1694112339,4053986157,2683015439,1289817166,545412609,2113706180,2688993288,2391861182,1612571479,4083217276,13463415,3429546452,617369208,2870873084,1787544965,4252019696,3567735393,448747572,1172110871,1600643382,2492455189,1705877237,2175475945,3547246402,259999175,464417497,3188812486,3747132629,1057723918,3261153176,2959472816,1650063733,3298487940,695306595,191731997,164592183,1764388344,1740016386,772856770,1815406908,2823508129,2893004987,1554389068,887382403,1119058345,2038971062,141887777,900672281,4155148394,1240629715,2708897881,341216509,2335581686,1041968541,4128117966,290924298,3680272051,1938426618,432163045,1494007138,2067251986,4227903816,3624455943,3602717826,3176198616,2447287224,4203131712,4125043328,2591812206,388020465,3985941867,3204628008,222404520,121327036,2191405380,43992033,1910953247,2839027465,1479570912,3818444681,4041412870,1963409077,1459914302,1861289019,3158343475,2377972517,2288815906,1525996922,753584693,2412341724,2646136500,3328105519,3859780374,176443802,975781905,3706914367,1096947235,579647323,686412134,2925730687,114868839,3664329876,1420159072,2082566388,4074935499,1534566649,3105170086,3964966144,282949799,941876312,2010342234,26095721,3761885269,3586343359,2619605226,2243994065,1711643782,68615962,3799909832,2979810349,4266521999,3538996778,853545920,4007016407,3925787112,2760445386,4095214355,1922134924,3786429346,2550212222,765549531,2915359311,3482702964,3223738241,522349805,2806458706,1012859507,3243424360,3714511003,2479353295,1326740484,831734365,649426570,241711918,2502942512,711700038,2740294256,3078740119,3947809617,3729340749,1212113564,559121502,3020776674,1205538512,808291915,1274548831,735228076,1036531436,3347519845,3058457822,2661858343,3515167888,994241647,1671757201,2854788376,1294671433,3097518253,3052849049,1830780188,3129846502,3843690435,3645411559,377353938,2275134785,1352051739,95204826,928851182,2133767850,2771777336,3402673424,4165299770,603804818,3010745650,1405198962,1184759007,3902259069,2797331118,1758345391,1568161035,1380917732,1243970353,3464103858,1445781573,867633316,2364443375,3371921919,1961177003,3450963862];
return D}();var j9=function(){function z(F){return F.tagName?F.tagName.split(":").pop():null}function q(F,i,X){if(X&&X[0]==null)X=null;
F=new Uint8Array(F);var K,w=1;if(F[0]==255&&F[1]==254)K=y.UB(F,2,(F.length>>>1)-1);else K=y.vK(F,0,F.length);
var f=new DOMParser,d=f.parseFromString(K,"image/svg+xml"),L=d.getElementsByTagName("style")[0];if(L)L=Typr.U.SVG.cssMap(L.textContent);
else L={};var G=d.firstChild;while(z(G)!="svg")G=G.nextSibling;var x=new kk(0,0,100,100),O=G.getAttribute("viewBox"),v=G.getAttribute("width"),C=G.getAttribute("height"),S=v!=null?parseFloat(v):parseFloat(C),j=C!=null?parseFloat(C):parseFloat(v);
if(v&&v.endsWith("ex"))S*=13;if(C&&C.endsWith("ex"))j*=13;if(O){var u=e(O);x.x=u[0];x.y=u[1];x.s=u[2];
x.T=u[3];i.aj7=x;if(v!=null){if(v=="100%")S=x.s;if(C=="100%")j=x.T;var l=u[2]/u[3],I=S/j;if(I>l){var Q=u[3]*I-x.s;
x.x-=Q/2;x.s+=Q}if(I<l){var b=u[2]/I-x.T;x.y-=b/2;x.T+=b}}if(S!=null&&!isNaN(S))w=S/u[2]}else if(v!=null||C!=null){x.s=S;
x.T=j}if(cW==0)x=T.R.JY(x);while(X&&Math.max(x.s*(w*2),x.T*(w*2))<=Math.max(X[0],X[1]))w*=2;while(X==null&&Math.max(x.s,x.T)*w>8192)w*=.5;
i.HA=!0;i.s=x.s*w;i.T=Math.abs(x.T*w);if(cW==0){i.s=Math.round(i.s);i.T=Math.round(i.T)}var p=new e5(w,0,0,w,-x.x*w,-x.y*w),k={L$:U(G),a9o:L,Ji:0};
V(d,G.children,i,p,k,new e5,0);if(i.Z.length==0){var g=i.OJ();g.up("Layer");i.Z.push(g)}}function e(F){var i=" ";
if(F.indexOf(",")!=-1)i=",";return F.split(i).map(parseFloat)}function V(F,i,X,K,f,d,L,G){var x=["display","opacity","fill-opacity","filter","clip-path"],O=0;
for(var v=0;v<i.length;v++){var C=i[v],S=z(C),j=C.getAttribute("id"),l=13,k=1,R="clip-path",m=null,dv=0;
if(j==null)j=C.getAttribute("data-name");var w=U(C,f.a9o);for(var u in f.L$)if((x.indexOf(u)==-1||G)&&w[u]==null)w[u]=f.L$[u];
if(w["font-size"])l=A(w["font-size"],l);var I=a(C);if(C.getAttribute("dx"))I.yK+=A(C.getAttribute("dx"),l);
if(C.getAttribute("dy"))I.ww+=A(C.getAttribute("dy"),l);I.concat(K);var Q=C.getAttribute("visibility"),b=w.display,p=X.OJ();
if(Q=="hidden"||b=="none")p.Bm(!1);p.up(j!=null?j.split(":::")[0]:"Layer");if(w.opacity)k*=parseFloat(w.opacity);
if(w["fill-opacity"]){var g=parseFloat(w["fill-opacity"]);if(g!=0)k*=g}p.vz=Math.round(255*k);if(w["mix-blend-mode"]){var Y=aA.v1.indexOf(w["mix-blend-mode"]);
if(Y!=-1)p.pi=aA.q2[Y]}if(C.getAttribute(R)==null)R="mask";if(C.getAttribute(R)!=null||w["clip-path"]){var Z=C.getAttribute(R);
if(Z==null)Z=w["clip-path"];Z=Z.slice(4,Z.length-1);var E=F.getElementById(Z.slice(1)),N=E?E.children:null,h=E&&E.tagName=="mask"&&N[0]&&N[0].tagName=="g";
if(h){var j5=N[0].children[0];h=j5&&j5.tagName=="g"&&j5.children[0]&&j5.children[0].tagName=="image"}if(h){var r=N[0].children[0],l8=a(r);
l8.concat(I);var aP=r.children[0];console.log(aP);var bS=P(X,aP,l8),kR=f.aC7=new lK.Eu;kR.V=bS.V;kR.o=T.n(kR.V.D());
T.bl(bS.buffer,kR.o,0)}else if(E){m=X.OJ();m.up("Clip-Path"+(j?": "+j:""));m.add.lsct=L<2?fH._j:fH.OI;
m.pi="pass";m.b9=24;var j1=m.add.vmsk=new lK.cI;X.Z.push(X.cs());var f6=[];if(E.getAttribute(R)){var Z=E.getAttribute(R);
Z=Z.slice(4,Z.length-1);f6=F.getElementById(Z.slice(1)).children}for(var n=0;n<N.length;n++){var gx=a(N[n]);
gx.concat(I);var lC=B(X,F,N[n],!1).slice(2);T.S.Z8(lC,gx);j1.B=j1.B.concat(lC)}for(var n=0;n<f6.length;
n++){var gx=a(N[n]);gx.concat(I);var lC=B(X,F,f6[n],!1).slice(2);for(var g2=0;g2<lC.length;g2++)if(lC[n].xq!=null)lC[n].xq=3;
T.S.Z8(lC,gx);j1.B=j1.B.concat(lC)}for(var n=0;n<j1.B.length;n++)if(j1.B[n].xq!=null)j1.B[n].xq=0;m.T4();
m.ly(X);L++}}if(w.filter&&w.filter!="none"){var bv=w.filter,aL,dh,eM,jJ=!1,iL=!1,bz=!1;bv=bv.slice(5,bv.length-1);
var eo=F.getElementById(bv),kg=[0,0,0,.5],ks=I.vx();if(eo)for(var n=0;n<eo.children.length;n++){var gr=eo.children[n],hg=z(gr);
if(hg=="feGaussianBlur"){jJ=!0;aL=parseFloat(gr.getAttribute("stdDeviation"))*ks}if(hg=="feColorMatrix"){var ci=gr.getAttribute("values");
if(ci){ci=ci.split(" ").map(parseFloat);kg=[ci[4],ci[9],ci[14],ci[18]]}}if(hg=="feComposite"){bz=!0}if(hg=="feOffset"){iL=!0;
var fK=gr.getAttribute("dx"),jN=gr.getAttribute("dy");dh=parseFloat(fK?fK:0)*ks;eM=parseFloat(jN?jN:0)*ks}}if(jJ&&(bz||iL)){var dD=bz?"IrSh":"DrSh",eF=JSON.parse(az.j3[az.order.indexOf(dD)]);
eF.blur.v.val=Math.round(aL*2.4);var io=Math.sqrt(dh*dh+eM*eM);eF.uglg.v=!1;eF.Dstn.v.val=Math.round(io);
eF.lagl.v.val=Math.round(Math.atan2(eM,-dh)*(180/Math.PI));eF.Clr.v=T.Yf.e8({l:kg[0]*255,I:kg[1]*255,c:kg[2]*255});
eF.Opct.v.val=Math.round(kg[3]*100);D(p,az.cx[az.order.indexOf(dD)],eF)}else if(jJ)dv=aL}if(S=="g"||S=="a"||S=="svg"||S=="switch"||(S=="text"||S=="textPath")&&C.children.length>0||S=="symbol"&&G){if(S=="text")d=M(C,d);
var la=C.getAttribute("viewBox"),e9=C.getAttribute("width"),gM=C.getAttribute("height");if(S=="svg"&&e9&&gM&&la==null)la="0 0 "+e9+" "+gM;
if(la&&(e9&&gM||S=="symbol")){var j7=e(la),cI=M(C),dL=new e5;dL.translate(-j7[0],-j7[1]);if(e9&&gM)dL.scale(parseFloat(e9)/j7[2],parseFloat(gM)/j7[3]);
dL.translate(cI.yK,cI.ww);dL.concat(I);I=dL}var cf=C.children.length,jA=f.L$;f.L$=w;var gI=f.Ji;f.Ji=Math.max(f.Ji,dv);
var fM=S!="text"&&S!="textPath"||cf>1;if(fM){var a7=p.Sw();p.add.lsct=L<2&&a7&&(j==null||!j.endsWith(":::"))?fH._j:fH.OI;
p.pi="pass";p.b9=24;p.Bm(a7);X.Z.push(X.cs())}V(F,C.children,X,I,f,d,L+1);if(fM)X.Z.push(p);else{var k6=X.Z[X.Z.length-1];
if(k6)k6.vz=p.vz;if(k6)k6.pi=p.pi}f.Ji=gI;f.L$=jA}else if(S=="use"){var dL=M(C);dL.concat(I);var fv=t(C),fq=F.getElementById(fv.slice(1));
if(fq){var jA=f.L$;f.L$=w;if(w.filter)fq.setAttribute("filter",w.filter);V(F,[fq],X,dL,f,d,L+1,!0);f.L$=jA}}else if(S=="path"||S=="rect"||S=="circle"||S=="ellipse"||S=="polygon"||S=="polyline"||S=="line"){p.b9|=16;
var j1=p.add.vmsk=new lK.cI,cu=w.fill,ac=cu=="none"||w["fill-opacity"]&&parseFloat(w["fill-opacity"])==0,hN=w["fill-rule"]=="evenodd"?1:0;
j1.B=B(X,F,C,hN==1,ac);j1.HO=hN;T.S.Z8(j1.B,I);var cQ=w.stroke,d_=w["stroke-width"],cK=w["stroke-dasharray"],cc=w["stroke-linejoin"];
if(cc==null)cc="miter";var aH=w["stroke-linecap"];if(aH==null)aH="butt";var jj=w["stroke-miterlimit"];
if(jj==null)jj=4;else jj=parseFloat(jj);var iG=w["paint-order"],hc=!(cQ==null||cQ=="none"||cQ=="null"),kD=p.add.vstk=az.Y1.g1(null,hc),l2=w["stroke-opacity"]?parseFloat(w["stroke-opacity"]):1;
if(hc){var fZ=s(F,cQ,I,j1.B,X),g5=["SoFi","GrFl","patternFill"].indexOf(fZ.e),d4=fZ.u.v.Opct.v,gU=1;
if(d4.val!=100||l2!=1&&ac){p.vz=Math.round(l2*p.vz*d4.val/100);d4.val=100;l2=1}var hx=[az.RS,az.dW,az.lA][g5],hJ=kD.strokeStyleContent.v={classID:az.Y1.U0[g5]};
for(var n=0;n<hx.length;n++)hJ[hx[n]]=fZ.u.v[hx[n]];d_=d_?parseFloat(d_):1;if(iG&&iG.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){gU=2;
d_/=2}var lg={o3:["miter","round","bevel"].indexOf(cc),vZ:["butt","round","square"].indexOf(aH),e6:d_,E5:jj};
if(cK!=null&&cK!="none")lg.Nn=(cK.indexOf(",")!=-1?cK.split(","):cK.split(" ")).map(parseFloat);az.Y1.write(kD,lg,I.vx());
kD.strokeStyleLineAlignment.v.strokeStyleLineAlignment=az.Y1.fy[gU];kD.strokeStyleOpacity.v.val=100*l2;
if(fZ.oO)p.add._sstl=fZ.oO}p.add.vstk.fillEnabled.v=!ac;if(ac){p.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8({l:0,I:0,c:0})}}}else{var fZ=s(F,cu,I,j1.B,X),gW=null,iF=null;
if(fZ.e=="SoFi"){gW="SoCo";iF=az.RS}if(fZ.e=="GrFl"){gW="GdFl";iF=az.dW}if(fZ.e=="patternFill"){gW="PtFl";
iF=az.lA}if(gW!=null){var d4=fZ.u.v.Opct.v;if(d4.val!=100){p.vz=Math.round(p.vz*d4.val/100);d4.val=100}p.add[gW]={classID:"null"};
for(var n=0;n<iF.length;n++){var u=iF[n];p.add[gW][u]=fZ.u.v[u]}}if(fZ.oO)p.add._fstl=fZ.oO}var aO=Math.max(dv,f.Ji);
if(aO!=0)p.add.vmsk.j_=aO;p.T4();p.ly(X);X.Z.push(p)}else if((S=="text"||S=="tspan")&&C.textContent!=""){d=M(C,d);
var dL=d.Y(),eM=0;dL.concat(I);if(S=="tspan"&&d.x!=0){}else dL.translate(O,0);if(C.children.length>0){var kX=U(C.children[0],f.a9o);
for(var u in kX)if(x.indexOf(u)==-1)w[u]=kX[u]}var e3=w["xml:space"],k5=C.textContent;if(e3=="preserve")k5=k5.replace(/\t/g," ").replace(/\n/g," ");
if(j==null)p.up(k5);p.add.lnsr="rend";p.add.TySh=dc.Pj(0,0);p.add.TySh.iB=new kk(0,0,100,100);p.add.TySh.v=dL.Y();
var h0=p.add.TySh._1;dc.o5(h0,0,k5);if(S=="tspan")O+=l*k5.length*.5*dL.vx();var cu=w.fill,aS=w["font-weight"],jM=w["font-family"],bW=w["text-decoration"],cQ=w.stroke,d_=w["stroke-width"],hS=w["dominant-baseline"];
if(hS=="text-before-edge")eM=l;else if(hS=="middle")eM=l/2;else if(hS=="hanging")eM=l;if(eM!=0)p.add.TySh.v.translate(0,eM);
var ap=dc.jb(h0,0,1);if(cu&&cu!="none"){var kg=CSS._3(cu);ap.c_.FillColor={Type:1,Values:[1,kg.l/255,kg.I/255,kg.c/255]}}if(bW=="underline")ap.c_.Underline=!0;
ap.c_.FontSize=Math.round(l);dc.v3(ap,"LiberationSans");if(aS=="bold")dc.v3(ap,"LiberationSans-Bold");
if(jM){jM=jM.split(",")[0].trim();if(jM[0]=="\"")jM=jM.slice(1);if(jM[jM.length-1]=="\"")jM=jM.slice(0,jM.length-1);
var dB=jM+":"+(aS?aS:"normal"),f8={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold","Source Sans Pro:normal":"SourceSansPro-Regular","Source Sans Pro:bold":"SourceSansPro-Bold"};
if(f8[dB])dc.v3(ap,f8[dB]);else dc.v3(ap,jM)}if(w["text-anchor"])ap.S$.Justification=["start","end","middle"].indexOf(w["text-anchor"]);
dc.Vy(h0,0,k5.length,ap);if(cQ==null||cQ=="none"){}else{var eF=JSON.parse(az.j3[az.order.indexOf("FrFX")]);
eF.Clr.v=T.Yf.e8(CSS._3(cQ));eF.Sz.v.val=Math.round(parseFloat(d_)*dL.vx());D(p,"frameFXMulti",eF)}X.Z.push(p)}else if(S=="image"){var bS=P(X,C,I);
if(bS){bS.up(p.getName());bS.b9=p.b9;p=bS;X.Z.push(p);if(f.aC7)p.Eo=f.aC7;f.aC7=null}}else console.log("unknown tag: "+S,C.children.length,C.textContent.length);
if(m!=null){X.Z.push(m);L--}}}function P(F,i,X){var K=t(i);if(K&&K.slice(0,4)=="data"){var f=hZ.cC(K),d=f,L=F.Ql(d,"hey",0,0),G=L.V.Y();
G.x=G.y=0;var x=i.getAttribute("width"),O=i.getAttribute("height");if(x)G.s=parseFloat(x);if(O)G.T=parseFloat(O);
var v=M(i);v.concat(X);var C=T.R.iR(G).J;T.R.v(C,v,C);L.add.SoLd.Trnf=W.On.V1(C);L.add.SoLd.nonAffineTransform=W.On.V1(C);
L.N7(F,!1);return L}}function D(F,i,X){var K=F.add.lmfx;if(K==null){var K=F.add.lmfx=JSON.parse(az.default);
for(var n=0;n<az.order.length;n++)K[az.cx[n]]={t:"VlLs",v:[]}}K[i].v.push({t:"Objc",v:X})}function B(F,i,X,K,f){var d=[{e:6},{e:8,all:0}],L=z(X);
if(L=="use"){var G=t(X),x=i.getElementById(G.slice(1)),O=new e5;if(z(x)!="rect")O=M(x);O.concat(a(x));
d=B(F,i,x,K,f);T.S.Z8(d,O)}else if(L=="path"){var v=X.getAttribute("d");if(v==null)return d;var C=Typr.U.SVGToPath(v);
d=T.R.XI({J:C.crds,_:C.cmds},K,f);T.S.aNe(d,K)}else if(L=="rect"){var S=X.getAttribute("rx"),j=new f5(0,0);
c("x",X,F,j,!0);c("y",X,F,j,!1);var w=new f5(0,0);c("width",X,F,w,!0);c("height",X,F,w,!1);d=T.S.nU.Rect(j.x,j.y,w.x,w.y,S?parseFloat(S):0)}else if(L=="circle"||L=="ellipse"){var u=[0,0,0,0],l=["cx","cy","rx","ry","r"];
for(var n=0;n<5;n++){var I=X.getAttribute(l[n]);if(I){I=parseFloat(I);if(n<4)u[n]=I;else u[2]=u[3]=I}}d=T.S.nU.f4(u[0]-u[2],u[1]-u[3],2*u[2],2*u[3])}else if(L=="polygon"||L=="polyline"||L=="line"){var Q;
if(L=="line")Q=[X.getAttribute("x1"),X.getAttribute("y1"),X.getAttribute("x2"),X.getAttribute("y2")].map(parseFloat);
else Q=X.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
d=T.S.nU.F0(Q,0,L!="polygon")}return d}function A(F,i){if(F.endsWith("em"))return i*parseFloat(F.slice(0,F.length-2));
else return parseFloat(F)}function s(F,i,X,K,f){var d,L,G,x=JSON.parse(az.j3[az.order.indexOf("SoFi")]),O=T.S.O5(K),v=i!=null?i.indexOf("("):-1;
if(v!=-1){var C=i.lastIndexOf(")"),S=i.slice(0,v).trim(),j=i.slice(v+1,C).trim();if(j.charAt(0)=="'"||j.charAt(0)=="\"")j=j.slice(1,j.length-1);
if(S=="url"){if(j.charAt(0)=="#"){var w=F.getElementById(j.slice(1));if(w&&z(w).toLowerCase().endsWith("gradient")){G=H(F,w,X,O,K);
var u=jw.sX(G,K);d="GrFl";L={t:"Objc",v:u}}else if(w&&z(w).toLowerCase()=="pattern"&&w.children[0]&&z(w.children[0])=="use"){d="SoFi";
L={t:"Objc",v:x};var l=w.children[0],I=a(l),Q=t(l),b=F.getElementById(Q.slice(1)),p;if(t(b)){var k=hZ.cC(t(b)).buffer,g=hZ.nw(hZ.J7(k));
p=g.EY(k)[0]}else{var Y=new Uint32Array(4*4);Y.fill(4278220799);p={data:Y.buffer,hp:new kk(0,0,4,4)}}var R={};
R.id=hq.ky()+"-d71c-11e5-b1ae-a548a96e5f9f";R.name="someImage";R.dE=[new Uint8Array(p.data),p.hp];f.hI(R);
var x=JSON.parse(az.j3[az.order.indexOf("patternFill")]);x.Scl.v.val=Math.round(100*O.s*I.x6);var m=x.phase.v;
m.Hrzn.v=Math.round(O.x+I.yK*O.s);m.Vrtc.v=Math.round(O.y+I.ww*O.T);x.Ptrn.v.Idnt.v=R.id;d="patternFill";
L={t:"Objc",v:x}}else{d="SoFi";L={t:"Objc",v:x}}}else console.log("unknown url",j)}else if(S=="rgb"||S=="hsl"||S=="rgba"||S=="hsla"){d="SoFi";
L={t:"Objc",v:x};L.v.Clr.v=T.Yf.e8(CSS._3(i));if(S=="rgba"||S=="hsla")L.v.Opct.v.val=Math.round(100*parseFloat(i.split(",").pop()))}else if(S=="light-dark"){var Z=0,E=0;
for(var n=0;n<j.length;n++){if(j[n]=="(")E++;if(j[n]==")")E--;if(j[n]==","&&E==0){Z=n;break}}return s(F,j.slice(0,Z),X,K,f)}else console.log("unknown fill",i)}else{d="SoFi";
L={t:"Objc",v:x};var N=CSS._3(i);L.v.Clr.v=T.Yf.e8(N);if(N.x6!=null)L.v.Opct.v.val=Math.round(100*N.x6/255)}return{e:d,u:L,oO:G}}function a(F){var i=new e5,X=F.getAttribute("transform");
if(X)i=$(X);var K=F.getAttribute("style");if(K!=null){var f={};o(f,K,["transform"]);K=f.transform;if(K)i.concat($(K))}return i}function M(F,i){var X=new e5,K=F.getAttribute("x"),f=F.getAttribute("y");
if(K)X.yK=parseFloat(K);else if(i)X.yK=i.yK;if(f)X.ww=parseFloat(f);else if(i)X.ww=i.ww;return X}function $(F){var i=Typr.U.SVG.readTrnf(F);
return new e5(i[0],i[1],i[2],i[3],i[4],i[5])}function U(F,i){var X={},K="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var n=0;n<K.length;n++){var f=F.getAttribute(K[n]);if(f!=null&&f!="inherit")X[K[n]]=f}var d=F.getAttribute("class");
if(i!=null&&d!=null&&i["."+d]!=null)o(X,i["."+d],K);var L=F.getAttribute("id");if(i!=null&&L!=null&&i["#"+L]!=null)o(X,i["#"+L],K);
var G=F.getAttribute("style");if(G!=null)o(X,G,K);return X}function o(F,i,X){i=i.trim().split(";");for(var n=0;
n<i.length;n++){var K=i[n].split(":"),f=K[0]?K[0].trim():"",d=K[1]?K[1].trim():"";for(var L=0;L<X.length;
L++)if(f==X[L]&&d!="inherit")F[X[L]]=d}}function t(F){var i=F.getAttribute("xlink:href");if(i==null)i=F.getAttribute("href");
if(i==null)i=F.getAttribute("xl:href");return i}function c(F,i,X,K,f){if(X.aj7)X=X.aj7;var d=i.getAttribute(F);
if(d==null)return;var L=parseFloat(d);if(d.endsWith("%"))L*=(f?X.s:X.T)/100;if(f)K.x=L;else K.y=L}function H(F,i,X,K,f){var d=c,L=new e5,G=i.getAttribute("gradientTransform"),j=!1;
if(G)L=$(G);L.concat(X);var x=z(i)=="linearGradient"?0:1,O=new f5(0,0),v=new f5(1,0),C=O.Y();if(x==0){var S=new kk(0,0,1,1);
d("x1",i,S,O,!0);d("y1",i,S,O,!1);d("x2",i,S,v,!0);d("y2",i,S,v,!1);C.mX(O.x,O.y)}if(x==1){if(i.getAttribute("cx"))O.x=parseFloat(i.getAttribute("cx"));
if(i.getAttribute("cy"))O.y=parseFloat(i.getAttribute("cy"));v.mX(O.x,O.y);C.mX(O.x,O.y);if(i.getAttribute("r"))v.x+=parseFloat(i.getAttribute("r"));
if(i.getAttribute("fx"))C.x=parseFloat(i.getAttribute("fx"));if(i.getAttribute("fy"))C.y=parseFloat(i.getAttribute("fy"))}var w=i;
while(!0){if(w.getAttribute("gradientUnits")=="userSpaceOnUse")j=!0;var u=t(w);if(u==null||u=="none")break;
w=F.getElementById(u.slice(1))}if(!j)L=new e5(K.s,0,0,K.T,K.x,K.y);L=jw.KJ(O,v,L);var l=jw.cV(x,L,f);
jw.a6N(l,O,v,C);var I=i.children,Q=l[1]=[];if(I.length==0){var b=t(i);if(b==null)throw"gradient has no stops";
var p=F.getElementById(b.slice(1));if(p==null){console.log(b.slice(1))}else Q=l[1]=H(F,p,L,K,f)[1]}else for(var n=0;
n<I.length;n++){var k=I[n],g=U(k),Y=g["stop-color"],R=g["stop-opacity"],m=k.getAttribute("offset");if(Y==null)Y="#000000";
R=R==null?1:parseFloat(R);var Z=m?parseFloat(m):0;if(m&&m.endsWith("%"))Z/=100;Y=CSS._3(Y);if(Y.x6!=null)R*=Y.x6/255;
Q.push([Z,[Y.l/255,Y.I/255,Y.c/255],parseFloat(R),.5])}return l}return{iA:q}}();j9.iO=function(){var z=null,q="",e="",V;
function P(x,O,v,C){var S=[],l=" { ",I=" } ",Q=!1;z=O;e=O.NR?"":"\t";q=O.NR?"":" ";var j=O.arA,w=O.aLA;
V=cW==0?new kk(0,0,x.s,x.T):x.GM(!0);if(C!=null){V=x.root.children[C].H.Le();j=V.s;w=V.T}S.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[V.x,V.y,V.s,V.T].join(" ")+"\" width=\""+j+"\" height=\""+w+"\">");
var u={aH:[],bX:[],PH:0,rX:0,aqr:0,auE:{},n7:{},GO:0,IW:{},_K:{},aBo:0,Se:[]};t(x,u,x.root.children,1,O,v,C);
if(u.aH.length!=0){S.push(D(1)+"<defs>");S=S.concat(u.aH);S.push(D(1)+"</defs>")}S.push(D(1)+"<style>");
if(O.NR){l="{";I="}"}for(var n=0;n<x.Z.length;n++)if(x.Z[n].add.TySh)Q=!0;if(Q&&!O.ay1&&!O.a7U)S.push(D(2)+"tspan"+l+"white-space:pre"+I);
for(var b in u.IW)S.push(D(2)+"."+b+l+u.IW[b]+I);S.push(D(1)+"</style>");S=S.concat(u.bX);S.push("</svg>");
S=S.join(O.NR?"":"\n");return y.GY(S)}function D(hE){var x="";for(var n=0;n<hE;n++)x+=e;return x}function B(hE,x){if(x==null)x=1;
var O=""+parseFloat(hE.toFixed(x));if(O.startsWith("0."))O=O.slice(1);return O}function A(x,O){var v=x.add.lmfx;
if(v)v=v[O].v[0];if(v)v=v.v;if(v&&!v.enab.v)v=null;return v}function s(x,O){var v=A(x,"frameFXMulti");
if(v){var C=v.Sz.v.val;if(v.Styl.v.FStl=="OutF"){O.push("paint-order:stroke fill markers");C*=2}o(O,CSS.cb(v.Clr.v),1);
if(C!=1)O.push("stroke-width: "+C);O.push("stroke-linejoin: round;")}}var a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function M(x){var O=a.length,v="";for(var C=1;C<10;C++){var S=(O-10)*~~Math.pow(O,C-1);if(x<S){for(var n=0;
n<C;n++){var j=n==C-1?10:0,w=O-j,u=x%w;v=a[u+j]+v;x=Math.floor((x-u)/w)}break}x-=S}return v}function $(x,O,v,C){if(x.length!=0){if(C==null)C="s";
var S=x.join(";"),j=O._K[S];if(j==null){j=z.NR?M(O.aBo):C+O.aBo;O.aBo++;O._K[S]=j;O.IW[j]=S}if(v)v.push(j);
return j}}function U(x){if(z.NR&&x.length==7&&x[0]=="#"){if(x[1]==x[2]&&x[3]==x[4]&&x[5]==x[6])x="#"+x[1]+x[3]+x[5]}return x}function o(x,O,v){O=U(O);
if(O!="#000"||v==1)x.push((v==0?"fill:":"stroke:")+q+O)}function t(x,O,v,C,S,j,w){var u=!1;for(var l=0;
l<v.length;l++){var I=v[l].H,Q=I.add.lsct;if(I.Qe)continue;if(I.add.artb&&w!=null&&l!=w)continue;if(!I.Ev&&v[l+1]&&v[l+1].H.Ev&&I.mp()&&I.add.vmsk){var b=[];
K(I,I.add.vmsk,O,b);O.bX.push(D(C)+"<g "+b[0]+">");C++;u=!0}else if(!I.Ev&&v[l-1]&&v[l-1].H.Ev&&u){C--;
O.bX.push(D(C)+"</g>");u=!1}var p=I.add.vmsk,k=I.add.vogk,g=I.add.vstk,Y=I.add.TySh;if(p&&!p.isEnabled)p=g=null;
var R=[];if(!S.hidden&&!I.Sw())continue;var m=I.vz/255,Z=I.add.iOpa?I.add.iOpa/255:1;if(I.YZ()){m*=Z;
Z=1}if(m!=1)R.push("opacity:"+q+B(m,2));if(Z!=1)R.push("fill-opacity:"+q+B(Z,2));if(I.pi!="norm"){var E=aA.v1[aA.q2.indexOf(I.pi)];
if(E!=null)R.push("mix-blend-mode:"+q+E)}if(!I.Sw())R.push("display:"+q+"none");var b=[],N=[],h=I.getName(),j5=h.indexOf(" .");
if(!S.NR&&h!="Layer")b.push("id=\""+i(h)+"\"");var r=hB.aBx(I.add.lmfx,I.add),l8=r[0],aP=r[1],bS=I.add.SoLd;
if(bS&&bS.filterFX){var kR=bS.filterFX.v;if(kR.enab.v&&kR.filterFXList.v.length!=0)bS=null}var j1=[];
if(p&&!I.mp()&&!I.YZ())K(I,p,O,j1);if(j1.length!=0)O.bX.push(D(C)+"<g "+F(j1,N)+">");if(I.YZ()){var f6=v[l].children;
if(f6.length==1&&f6[0].H.add.SoLd&&!S.ao_){}else{var gx=p,lC=f6.length==0?null:f6[f6.length-1].H;if(cW==1&&lC&&lC.Qe&&lC.Sw())gx=lC.add.vmsk;
K(I,gx,O,b);if(R.length!=0)b.push("style=\""+R.join(";")+"\"");if(l8){var g2=CSS.cb(l8.Clr.v),dv="f"+O.rX;
O.rX++;O.bX.push(D(C)+"<filter id=\""+dv+"\">");O.bX.push(D(C+1)+"<feFlood flood-color=\""+g2+"\" flood-opacity=\""+B(l8.Opct.v.val/100,2)+"\" />");
O.bX.push(D(C+1)+"<feBlend mode=\""+aA.v1[aA.q2.indexOf(aA.pd(l8.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
O.bX.push(D(C+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");O.bX.push(D(C)+"</filter>");
b.push("filter=\"url(#"+dv+")\"")}var bv=F(b,N),eo=S.NR&&bv=="";if(!eo)O.bX.push(D(C)+"<g"+(bv==""?"":" "+bv)+">");
t(x,O,f6,C+1,S,j);if(!eo)O.bX.push(D(C)+"</g>")}}else if(I.mp()&&p==null){f(x,R,I.add,O,V,S);if(R.length!=0)b.push("style=\""+R.join(";")+"\"");
O.bX.push(D(C)+"<rect width=\""+V.s+"\" height=\""+V.T+"\" "+F(b,N)+"/>")}else if(p&&I.mp()&&I.add.PtFl==null){f(x,R,I.add,O,dW,S,p.B);
$(R,O,N);var aL,dh=null,eM=0,kg;if(k.length!=0){aL=k[0].v;dh=aL.keyOriginType;if(dh)dh=dh.v;if(dh==2){var jJ=T.w0.wt(aL);
eM=jJ[0];for(var n=0;n<3;n++)if(eM!=jJ[n+1])dh=null}}if(k.length==1&&dh==5&&Math.abs(T.w0.ayB(aL))<1e-4){var iL=T.w0.Is(aL),bz=(iL[0]+iL[2])/2,ks=(iL[1]+iL[3])/2,gr=bz-iL[0],hg=ks-iL[1],ci=Math.abs(gr-hg)<.01,fK=ci?"r=\""+B(gr)+"\"":"rx=\""+B(gr)+"\" ry=\""+B(hg)+"\"";
kg="<"+(ci?"circle":"ellipse")+" "+F(b,N)+" cx=\""+B(bz)+"\" cy=\""+B(ks)+"\" "+fK+"/>"}else if(k.length==1&&dh==2&&eM!=0&&Math.abs(T.w0.ayB(aL))<1e-4){var iL=T.w0.Is(aL),jN=iL[0],dD=iL[1],eF=iL[2]-iL[0],io=iL[3]-iL[1],la="";
if(jN!=0)la+=" x=\""+B(jN)+"\"";if(dD!=0)la+=" y=\""+B(dD)+"\"";la+=" width=\""+B(eF)+"\"";la+=" height=\""+B(io)+"\"";
la+=" rx=\""+B(eM)+"\"";kg="<rect "+F(b,N)+la+"></rect>"}else{var e9,gM;if(cW==0){var j7=T.S.Kg(p.B,S.NR?1:2);
e9=j7.tT;gM=j7.Ds}else{var cI=T.R.EP(p.B);e9=Typr.U.pathToSVG({crds:cI.J,cmds:cI._},S.NR?1:2);gM=p.HO}if(gM!=0){b.push("fill-rule=\"evenodd\"")}kg="<path "+F(b,N)+" d=\""+e9+"\"/>"}O.bX.push(D(C)+kg)}else if(Y&&S.ay1){q=S.NR?"":" ";
var dL=Y._1,cf=new kB(dL,j,Y.h8),jA=null;if(l8)jA=CSS.cb(l8.Clr.v);if(aP){var iL=I.V.Y();G(aP,O,iL,S);
jA="url(#g"+O.PH+")"}if(jA)R.push("fill:"+q+jA);s(I,R);var cI=ey.WK(cf,Y,!0),gI=T.R.xU(cI);for(var fM in gI){var a7=R.slice(0),k6=N.slice(0),fv=b.slice(0);
if(jA==null){o(a7,fM.slice(0,7),0);if(fM.length>7){var fq=ey.a82(fM.slice(7));o(a7,L(fq.i8),1);d(fq,a7)}}$(a7,O,k6);
var cu=gI[fM],ac=Typr.U.pathToSVG({crds:cu.J,cmds:cu._},1);O.bX.push(D(C)+"<path "+F(fv,k6)+(S.NR?"":" "+H(Y))+" d=\""+ac+"\"/>")}}else if(Y&&!S.a7U){var dL=Y._1,hN=Y.v.Y(),jA=null;
R.push("transform:"+q+X(hN));var cQ=dc.VQ(dL),cf=new kB(dL,j,Y.h8);s(I,R);if(R.length!=0)b.push("style=\""+R.join(";")+"\"");
O.bX.push(D(C)+"<text "+F(b,N)+" >");if(l8)jA=CSS.cb(l8.Clr.v);if(aP){var iL=I.V.Y();iL.x-=hN.yK;iL.y-=hN.ww;
G(aP,O,iL,S);jA=" url(#g"+O.PH+")"}for(var n=0;n<cf.S$.length;n++){var d_=cf.S$[n];if(d_.qX.length==1&&d_.qX[0].$0)continue;
for(var cK=0;cK<d_.oA.length;cK++){var cc=d_.oA[cK],ks=d_.R5.y+cc.R5.y,aH=d_.qX[cc.start].start,jj=d_.qX[cc.end-1].end,iG=dc.akP(dL,aH,jj),hc="";
for(var kD=0;kD<iG.length;kD++){var l2=cf.MJ(aH),fZ=iG[kD],g5=dc.jb(dL,aH,aH),d4=g5.GD[g5.c_.Font].Name,fM=dc.z8(g5.c_.FillColor),hx=Math.round(g5.c_.FontSize),hJ=cQ.slice(aH,aH+fZ);
if(g5.c_.FontCaps==2)hJ=hJ.toUpperCase();var gU=new e5;gU.translate(l2.TP.x,-ks);var lg=[];CSS.a4U(lg,g5,null,!0,!0,jA);
var gW=$(lg,O,null,"t");gW=gW?" class=\""+gW+"\"":"";var bz=l2.TP.x,iF=c(g5,hJ);hc+="<tspan "+(kD==0?"x=\""+B(l2.TP.x)+"\"":"")+" y=\""+B(ks)+"\""+gW+iF+">"+i(hJ)+"</tspan>";
aH+=fZ}O.bX.push(D(C+1)+hc)}}O.bX.push(D(C)+"</text>")}else if(bS&&S.ao_&&l8==null){var dv=bS.Idnt.v,aO=0,kX=bS.Crop?bS.Crop.v:null;
console.log(kX);if(O.n7[dv]!=null)aO=O.n7[dv];else{O.GO++;aO=O.GO;O.n7[dv]=O.GO;var e3=x.VH(dv,kX),aS="";
if(e3==null)return;var k5=e3.De,h0=hZ.J7(e3.raw.buffer);console.log(h0);if(h0=="pdf"){var jM=new hq("h");
hZ.nw("PDF").EY(e3.raw.buffer,jM);jM.To();jM.b$();jM.Kv();jM.n9();if(bS.Crop&&bS.Crop.v==1){W.hV.Tm(jM,jM.root.$i(jM,!0))}var bW=hZ.nw("SVG").gB(jM,jM.s,jM.T,null,{Se:j});
aS="data:image/svg+xml;base64,"+hZ.aS(bW)}else if(h0=="jpg"||h0=="png"||h0=="gif"||h0=="svg"){var hS={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
aS="data:"+hS[h0]+";base64,"+hZ.aS(e3.raw.buffer)}else{aS=hZ.Eq(k5[0].buffer,k5[1].s,k5[1].T)}var ap=bS.Sz.v;
O.aH.push(D(2)+"<image width=\""+ap.Wdth.v+"\" height=\""+ap.Hght.v+"\" id=\"img"+aO+"\" href=\""+aS+"\"/>")}var dB=T.O.gK(bS);
if(R.length!=0)b.push("style=\""+R.join(";")+"\"");var f8=F(b,N);O.bX.push(D(C)+"<use "+f8+" href=\"#img"+aO+"\" transform=\""+X(dB)+"\"/>")}else if(!I.V.a8()&&(S.ao_||Y)){if(R.length!=0)b.push("style=\""+R.join(";")+"\"");
var f8=F(b,N),bu=I.buffer;if(l8)bu=hB.a5h(bu,l8,I.V);var gM=I.V;O.GO++;var aS=hZ.Eq(bu.buffer,gM.s,gM.T,"png",null,!0);
O.aH.push(D(2)+"<image "+H(Y)+" width=\""+I.V.s+"\" height=\""+I.V.T+"\" id=\"img"+O.GO+"\" href=\""+aS+"\"/>");
O.bX.push(D(C)+"<use "+f8+" href=\"#img"+O.GO+"\" x=\""+gM.x+"\" y=\""+gM.y+"\"/>")}if(j1.length!=0)O.bX.push(D(C)+"</g>")}if(u){C--;
O.bX.push(D(C)+"</g>");u=!1}}function c(x,O){var v=x.c_.Tracking,C="";if(v!=null&&v!=0){v=Math.round(v*x.c_.FontSize/1e3);
C=" dx=\"0";for(var S=1;S<O.length;S++)C+=" "+v;C+="\" "}return C}function H(x){if(x==null)return"";
var O=x._1,v=dc.VQ(O);v=i(v.slice(0,v.length-1));return"aria-label=\""+v+"\" "}function F(x,O){if(O.length!=0)x.push("class=\""+O.join(" ")+"\"");
return x.join(" ")}function i(x){return String(x).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function X(x){var O=[x.x6,x.c,x.I$,x.at,x.yK,x.ww];
for(var n=0;n<6;n++)O[n]=B(O[n],3);return"matrix("+O.join(",")+")"}function K(x,O,v,C){if(O||x.add.artb){var S;
if(O)S=T.S.Kg(O.B).tT;else{var j=x.Le(),w=T.R.iR(j);S=Typr.U.pathToSVG({crds:w.J,cmds:w._},1)}v.aqr++;
C.push("clip-path=\"url(#cp"+v.aqr+")\"");v.aH.push(D(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+v.aqr+"\">");
v.aH.push(D(3)+"<path d=\""+S+"\"/>");v.aH.push(D(2)+"</clipPath>")}}function f(x,O,v,C,S,j,w){var u=v.vmsk,l=v.lmfx,I=[];
if(u&&u.j_!=0){var Q=B(u.j_);if(C.auE[Q]==null){C.rX++;C.auE[Q]=C.rX;C.aH.push(D(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+C.rX+"\"> <feGaussianBlur stdDeviation=\""+Q+"\"/> </filter>")}I.push("url(#f"+C.auE[Q]+")")}if(l)for(var n=0;
n<az.order.length;n++){var b=az.order[n],p=az.cx[n],k=l[p].v;console.log(l);for(var g=0;g<k.length;g++){var Y=k[g].v,R=Y.classID;
if(!Y.enab.v||!l.masterFXSwitch.v)continue;if(R=="OrGl"||R=="DrSh"){C.rX++;I.push("url(#f"+C.rX+")");
var m=0,Z=0,E=Y.blur.v.val/2.4,N=Y.Opct.v.val/100;if(R=="DrSh"){var h=Y.uglg&&Y.uglg.v?x.RP():Y.lagl.v.val;
h=h*(Math.PI/180);var j5=Y.Dstn.v.val;m=-Math.cos(h)*j5;Z=Math.sin(h)*j5}if(R=="OrGl")N/=Y.Inpr.v.val/100;
var r="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+C.rX+"\" >";r+="<feDropShadow dx=\""+m+"\" dy=\""+Z+"\" stdDeviation=\""+E+"\" flood-color=\""+CSS.cb(Y.Clr.v)+"\" flood-opacity=\""+B(N)+"\"/>";
r+="</filter>";C.aH.push(D(2)+r)}}}if(I.length!=0)O.push("filter:"+q+I.join(" "));var l8=v.vstl;if(l8==null)l8=hq.Q9(v,x);
for(var n=0;n<2;n++){var aP=n==0?l8.oO:l8.i8;if(aP.length==0){if(n==0)O.push("fill:"+q+"none")}else if(aP.length==3)o(O,L(aP),n);
else{G(aP,C,S,j,w);o(O,"url(#g"+C.PH+")",n)}}if(l8.i8.length!=0){d(l8,O)}}function d(x,O){var v=x.vZ,C=x.o3,S=x.e6,j=x.i4,w=x.Nn;
if(j==2){S*=2;O.push("paint-order:stroke fill markers")}if(v!=0)O.push("stroke-linecap:"+q+["butt","round","square"][v]);
if(C!=0)O.push("stroke-linejoin:"+q+["miter","round","bevel"][C]);else if(x.E5!=4)O.push("stroke-miterlimit:"+x.E5);
if(S!=1)O.push("stroke-width:"+q+B(S));if(w.length!=0)O.push("stroke-dasharray:"+q+w.join(","))}function L(x){return CSS.vF({l:x[0]*255,I:x[1]*255,c:x[2]*255})}function G(x,O,v,C,S){if(S==null)S=T.S.nU.Rect(v.x,v.y,v.s,v.T);
if(!(x instanceof Array))x=jw.BV(x,S);O.PH++;var j=x[0],w=(j==1?"radial":"linear")+"Gradient",u=D(2)+"<"+w+" id=\"g"+O.PH+"\"",l="";
if(C.NR){if(O.PH==1)O.aH.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");l=" href=\"#P\""}else l=" gradientUnits=\"userSpaceOnUse\"";
var I=jw.w4(x,S),Q=[new f5(0,0),new f5(1,0)];l+=" gradientTransform=\""+X(I)+"\"";var b=C.NR?2:3;if(j==0)O.aH.push(u+" x2=\"1\""+l+">");
if(j==1){if(x[2][6]!=0){var p=x[2][5]*Math.PI/180,k=x[2][6];O.aH.push(u+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+B(Math.cos(p)*k,b)+"\" fy=\""+B(-Math.sin(p)*k,b)+"\""+l+">")}else O.aH.push(u+" cx=\"0\" cy=\"0\" r=\"1\""+l+">")}var g=x[1];
for(var n=0;n<g.length;n++){var Y=g[n],R=Y[0],m=Y[1],Z=Y[2];Z=Z==1?"":" stop-opacity=\""+B(Z,b)+"\"";
var E=R==0&&C.NR?"":" offset=\""+B(R,b)+"\"",N=L(m);N=C.NR&&N=="#000000"?"":" stop-color=\""+U(N)+"\"";
O.aH.push(D(3)+"<stop"+E+N+Z+"/>")}O.aH.push(D(2)+"</"+w+">")}j9.pz=X;return P}();j9.nU=function(z,q,e,V,P){var D=[],B=j9.nU,A=!1,s={xL:z,Hi:q,fG:[!0,!0,!0],zF:!1,vW:e,aNs:0};
s.BH=Math.round(Math.max(z,q)*(.02+B.z4(s)*.03));s.Sy=B.aln(s);s.hx=B.a2y(s.Sy,(B.z4(s)<.5?-1:1)*(.2+B.z4(s)*.3));
if(B.z4(s)<.5){var a=s.Sy;s.Sy=s.hx;s.hx=a}s.a8W=B.z4(s)<.4&&B.acC(s.hx,{l:1,I:1,c:1})>.3;s.aDD=B.z4(s)<.5?0:1;
D.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+z+" "+q+"\" width=\""+z+"\" height=\""+q+"\">");
s.an6=V[Math.floor(B.Ol(s)*V.length)];s.akl=V[Math.floor(B.Ol(s)*V.length)];D.push("<style>");D.push("@font-face {  font-family: "+s.an6[2]+";  src: url("+lA.A9("rsrc/fonts/"+s.an6[5])+");  }");
D.push("@font-face {  font-family: "+s.akl[2]+";  src: url("+lA.A9("rsrc/fonts/"+s.akl[5])+");  }");
D.push("</style>");var M=[0,0,z,q],$=M;if(P==null)D.push("<path style=\"fill: "+B.ra(s.Sy)+"\" d=\""+B.Rect(M[0],M[1],M[2]-M[0],M[3]-M[1])+"\" id=\"Background\" />");
else{s.zF=!0;B.amW(s,M,D,P)}if(B.z4(s)<.25&&!s.zF){s.fG[0]=s.fG[2]=!1;B.aAA(M,s,D);$=M}else if(B.z4(s)<.25||s.zF)$=M;
else{var U=.52+B.z4(s)*.2;if(B.z4(s)<.5)U=1-U;var o=M.slice(0),t=M.slice(0);if(B.z4(s)<.5)o[2]=t[0]=Math.round(U*z);
else o[3]=t[1]=Math.round(U*q);if(B.z4(s)<.5){var a=o;o=t;t=a}$=o;B.ah_(s,t,D,P)}B.a5P(s,$,D);D.push("</svg>");
D=D.join("\n");var c=T.n(Math.round(D.length*1.5)),H=y.m$(D,c,0);return[c.buffer.slice(0,H),s.Nm]};j9.nU.aAA=function(z,q,e){var V=j9.nU,P=z[2]-z[0],D=z[3]-z[1];
if(V.z4(q)<.5){e.push("<path id=\"Border\" style=\"fill: "+V.ra(q.hx)+"\" d=\""+V.a9C(z[0],z[1],z[2]-z[0],z[3]-z[1],q.BH)+"\" />")}else{var B=V.z4(q)<.5?0:1,A=(B==0?D:P)/4,s=V.DZ(q,B,z,e,A,!0),s=V.DZ(q,B+2,z,e,A,!0,s)}};
j9.nU.a5P=function(z,q,e){var V=j9.nU,P="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),D=2*Math.floor(V.z4(z)*P.length/2),B=q[2]-q[0],A=q[3]-q[1],a=0,$=0;
z.AK=(z.xL+B)*.5*(.04+V.z4(z)*.05);z.AK=Math.min(z.AK,A*.4,B*.12);z.AK=Math.round(z.AK);var s=Math.min(z.AK*P[D].length*(.35+.3*V.z4(z)),B*.9),M=(q[1]+q[3])/2,U=T.w5(z.Sy)<.85?{l:1,I:1,c:1}:{l:.1,I:.1,c:.1};
if(V.z4(z)<.25&&z.fG[0]){$=0;a=q[0]+z.BH}else if(V.z4(z)<.33&&z.fG[2]){$=2;a=q[2]-z.BH}else{$=1;a=(q[0]+q[2])/2}var o=U.l==1?"0,0,0":"255,255,255",t=z.zF&&V.z4(z)<1;
if(t){var c=q[0],H=B,F=M-z.AK*1.1,i=z.AK*2.2,X=.7;if($==1&&V.z4(z)<.5){c=F=.2*Math.min(B,A);H=B-2*F;
i=A-F-F}else if(V.z4(z)<.7){c=F=0;H=B;i=A;X=.25}e.push("<path id=\"Strip\" style=\"fill: rgb("+o+"); opacity: "+X+"\" d=\""+V.Rect(c,F,H,i)+"\" />")}if(V.z4(z)<.4){var K=z.AK*.07;
K*=1.5+V.z4(z)*1;if($==-1&&B/A<3&&!t){e.push("<path id=\"Bar-bottom\" style=\"fill: "+V.ra(U)+"\" d=\""+V.Rect(a-s/2,M+z.AK*1.1-K/2,s,K)+"\" />");
e.push("<path id=\"Bar-top\"    style=\"fill: "+V.ra(U)+"\" d=\""+V.Rect(a-s/2,M-z.AK*1.1-K/2,s,K)+"\" />")}if($!=1){e.push("<path id=\"Bar\" style=\"fill: "+V.ra(U)+"\" d=\""+V.Rect(a-K/2,M-z.AK*.8,K,z.AK*.8*2)+"\" />");
a+=($==0?1:-1)*z.AK/3}}var f=z.AK*.4;e.push(V.adJ(P[D+1],a,M+f*1.6,f,U,$,z.akl));e.push(V.adJ(P[D],a,M+z.AK*.04,z.AK,U,$,z.an6))};
j9.nU.ah_=function(z,q,e,V){var P=q[2]-q[0],D=q[3]-q[1],B=Math.max(P,D),A=Math.min(P,D),s=j9.nU;if(B/A<5&&!z.zF&&!1){s.amW(z,q,e,V)}else if(s.z4(z)<0)e.push("<path style=\"fill: "+s.ra(z.hx)+"\" d=\""+s.Rect(q[0],q[1],P,D)+"\" />");
else{var a=0;if(q[3]!=z.Hi)a=0;if(q[2]!=z.xL)a=3;if(q[0]!=0)a=1;if(q[1]!=0)a=2;var M=a+2&3;if(B/A<3){var $=s.alL(M),U=$[Math.round(s.z4(z)*($.length-1))],o=U.Q7.slice(0,4),t=o.indexOf(1);
U=T.G(U);var c=-1;if(o!="0000"){var H=new e5;if(U.Q7[5]=="0"){if(t==3&&a==1){c=1;H.scale(-1,1)}else c=t}else{var F=M;
while(F==M)F=Math.floor(s.z4(z)*4)&3;H.rotate((-t+F)*Math.PI/2)}s.v(U,H)}var i=s.mB(U),X=P-2*z.BH,K=D-2*z.BH;
if(c!=-1){if((c&1)==0)K-=z.BH;else X-=z.BH}var f=Math.min(X/i.s,K/i.T),d=new e5;d.translate(-i.x,-i.y);
d.scale(f,f);var L=(P-i.s*f)/2,G=(D-i.T*f)/2;if(c!=-1){if(c==3)L=0;if(c==0)G=0;if(c==1)L=P-i.s*f;if(c==2)G=D-i.T*f}d.translate(q[0]+L,q[1]+G);
s.LR(z,U,d,z.hx,e)}else{s.DZ(z,a,q,e,1e9)}}};j9.nU.amW=function(z,q,e,V){var P=q[2]-q[0],D=q[3]-q[1],B=Math.max(P,D),A=Math.min(P,D),s=j9.nU,a=s.Ol(z),M,$,U,o=V[0]instanceof ArrayBuffer;
if(o){M="data:image/jpg;base64,"+gC.aEO(V[0]);$=V[1];U=V[2]}else{var t=Math.floor(a*V.length),c=V[t];
z.Nm=c;M=c.webformatURL;$=c.webformatWidth;U=c.webformatHeight}var H=q[0],F=q[1],i=P,X=D;if(P/D>$/U){X=i*U/$;
F=F-(X-D)/2}else{i=X*$/U;H=H-(i-P)/2}if(o){e.push("<defs>");e.push("<image width=\""+$+"\" height=\""+U+"\" id=\"Background\" href=\""+M+"\" />");
e.push("</defs>");var K=i/$;e.push("<use href=\"#Background\" transform=\""+j9.pz(new e5(K,0,0,K,H,F))+"\" />")}else{var f="cp"+Math.random();
e.push("<clipPath id=\""+f+"\">");e.push("<path style=\"fill: "+s.ra(z.hx)+"\" d=\""+s.Rect(q[0],q[1],P,D)+"\" />");
e.push("</clipPath>");e.push("<image  clip-path=\"url(#"+f+")\" xlink:href=\""+M+"\" x=\""+H+"\" y=\""+F+"\" width=\""+i+"\" height=\""+X+"\" />")}};
j9.nU.adJ=function(z,q,e,V,P,D,B){var A=j9.nU;return"<text x=\""+q+"\" y=\""+e+"\" style=\"fill:"+A.ra(P)+"; font-size:"+V+"px; text-anchor:"+["start","middle","end"][D]+"; font-family:"+B[2]+";\"><tspan>"+z+"</tspan></text>"};
j9.nU.LR=function(z,q,e,V,P){var D=j9.nU,B=[];for(var n=0;n<q.wi.length;n++){B.push(V);if(z.a8W){V=(n&1)==z.aDD?{l:1,I:1,c:1}:B[0]}}P.push("<g id=\""+q.Q7.split("-")[2]+":::\" style=\"transform: "+j9.pz(e)+";\" >");
for(var n=0;n<q.wi.length;n++){var A=q.wi[n];V=B.pop();P.push("<path style=\"fill: "+(V?D.ra(V):"#"+A[0])+"\" d=\""+Typr.U.pathToSVG({crds:A[1].J,cmds:A[1]._})+"\" />")}P.push("</g>")};
j9.nU.afl=function(){if(SHPS[0].Q7)return;for(var n=0;n<SHPS.length;n++){var z=SHPS[n],q=z[1],e=[];for(var V=0;
V<q.length;V++){var P=q[V],D=Typr.U.SVGToPath(P[1]);e.push([P[0],{_:D.cmds,J:D.crds}])}SHPS[n]={Q7:z[0],wi:e}}};
j9.nU.alL=function(z){var q=SHPS;j9.nU.afl();var e=[];for(var n=0;n<q.length;n++){var V=q[n],P=V.Q7.slice(0,4);
if(P=="0000"){e.push(V);continue}if(["1000","0100","0010","0001"].indexOf(P)==-1)continue;var D=P.indexOf("1");
if(V.Q7[5]=="0"&&z==D&&D!=3)continue;e.push(V)}return e};j9.nU.DZ=function(z,q,e,V,P,D,B){var A=SHPS,i,X;
j9.nU.afl();var s=j9.nU,a=[];for(var n=0;n<A.length;n++){var M=A[n],$=M.Q7.slice(0,4);if(["1110","1101","1011","0111"].indexOf($)==-1)continue;
var U=$.indexOf("0")+2&3;if(M.Q7[5]=="0")if(D==!0||q!=U&&!(q==1&&U==3))continue;a.push(M)}var o=B!=null?B:Math.floor(s.z4(z)*a.length),M=a[o],M=T.G(M),$=M.Q7.slice(0,4),U=$.indexOf("0")+2&3;
if(U==3&&q==1)T.v(M,new e5(1,0,0,-1,0,1e3));var t=new e5;t.translate(-500,-500);t.rotate(-U*Math.PI/2);
t.translate(500,500);s.v(M,t);var c=e[3]-e[1],H=e[2]-e[0],F=s.mB(M);if(F.y<0){F.T+=F.y;F.y=0}if(F.y>0){F.T+=F.y;
F.y=0}if((q&1)==0){X=c;i=H}else{i=c;X=H}var K=Math.min(Math.min(.5+.5*s.z4(z))*Math.min(H,c),P)/F.T,f=Math.ceil(i/(1e3*K)),d=new e5,L=new e5;
L.scale(K,K);if(q==0||q==2){L.translate(-(H/2),-(c/2));L.rotate(-q*Math.PI/2);L.translate(H/2+e[0],c/2+e[1])}else{L.rotate(Math.PI/2);
L.scale(1,-1);L.translate(e[0],e[1]);if(q==1){L.scale(-1,1);L.translate(H,0)}}V.push("<g id=\"Border-"+["top","right","bottom","left"][q]+":::\">");
for(var n=0;n<f;n++){var G=d.Y();G.concat(L);s.LR(z,M,G,z.hx,V);d.translate(1e3-2,0)}V.push("</g>");
return o};j9.nU.Rect=function(z,q,e,V){return Typr.U.pathToSVG({crds:[z,q,z+e,q,z+e,q+V,z,q+V],cmds:["M","L","L","L","Z"]})};
j9.nU.a9C=function(z,q,e,V,P){var D=[z,q,z+e,q,z+e,q+V,z,q+V];z+=P;q+=P;e-=2*P;V-=2*P;D.push(z,q,z,q+V,z+e,q+V,z+e,q);
return Typr.U.pathToSVG({crds:D,cmds:"M L L L Z M L L L Z".split(" ")})};j9.nU.a2y=function(z,q){var e=T.ND(z.l,z.I,z.c);
e.bY=Math.max(.1,Math.min(.9,e.bY+q));return T.Yy(e.Hi,e.fY,e.bY)};j9.nU.a8v=function(z,q){var e=T.ND(z.l,z.I,z.c);
e.Hi+=q;return T.Yy(e.Hi,e.fY,e.bY)};j9.nU.a0j=function(z){var q=T.ND(z.l,z.I,z.c);q.bY=1-q.bY;return T.Yy(q.Hi,q.fY,q.bY)};
j9.nU.acC=function(z,q){var e=z.l-q.l,V=z.I-q.I,P=z.c-q.c;return Math.sqrt(e*e+V*V+P*P)};j9.nU.aln=function(z){var q=j9.nU;
return{l:q.z4(z),I:q.z4(z),c:q.z4(z)}};j9.nU.ra=function(z){return CSS.vF({l:z.l*255,I:z.I*255,c:z.c*255})};
j9.nU.mB=function(z){var q=z.wi,e=new kk;for(var n=0;n<q.length;n++)e=e.X8(T.R.mB(q[n][1].J));return e};
j9.nU.v=function(z,q){var e=z.wi;for(var n=0;n<e.length;n++)T.R.v(e[n][1].J,q,e[n][1].J)};j9.nU.z4=function(z){z.aNs++;
var q=z.aNs&3;if(q==0)z.vW=j9.nU.km(z.vW);var e=z.vW>>>8*q&255;return e*(.99999999/255)};j9.nU.Ol=function(z){var q=j9.nU.km(z.vW);
z.vW=j9.nU.km(q);return q*(1/4294967295)};j9.nU.km=function(z){z=(z^61^z>>>16)>>>0;z=z+(z<<3)>>>0;z=(z^z>>>4)>>>0;
z=z*668265261>>>0;z=(z^z>>>15)>>>0;return z};var km={};km.parse=function(z){var q=new Uint8Array(z),e=null;
if(q[0]==80&&q[1]==75){var V=Date.now(),P=UZIP.parse(q.buffer),e=P["document.json"];e=JSON.parse(y.vK(e,0,e.length));
km.YW(e,P)}else{var D=gv.parse(z);e=km.aqU(D[2][0][1])}return e};km.YW=function(z,q){var e=typeof z;
if(e=="string"||e=="number"||e=="boolean"||z==null)return z;if(z instanceof Array){for(var n=0;n<z.length;
n++)z[n]=km.YW(z[n],q);return z}var V=z._class;if(V==null)return z;if(V=="MSJSONFileReference"){var P=z._ref;
if(!1){}else if(q[P+".json"]!=null){var D=q[P+".json"],B=D.length;for(var n=0;n<B;n++)if(D[n]==11||D[n]==3)D[n]=32;
var A=y.vK(D,0,B);z=JSON.parse(A)}else if(q[P+".png"]!=null)return{key:P.split("/").pop(),bdata:q[P+".png"]};
else if(q[P+".jpg"]!=null)return{key:P.split("/").pop(),bdata:q[P+".jpg"]};else if(q[P+".pdf"]!=null)return{key:P.split("/").pop(),bdata:q[P+".pdf"]};
else if(q[P]!=null)return{key:P.split("/").pop(),bdata:q[P]};else{console.log(z,q);return}}else if(V=="MSAttributedString"){var A=atob(z.archivedAttributedString._archive),s=A.length,a=new Uint8Array(s);
for(var n=0;n<s;n++)a[n]=A.charCodeAt(n);z.archivedAttributedString=km.aqU(a)}for(var M in z)z[M]=km.YW(z[M],q);
return z};km.a1R=function(z,q,e,V,P){if(z instanceof Uint8Array)return null;if(V.indexOf(z)!=-1)return null;
V.push(z);if(z==q)return e;for(var D in z){e.push(D);var B=km.a1R(z[D],q,e,V,P);if(B){console.log(z,B);
throw"e"}e.pop()}};km.aqU=function(z){var q=kr.parse(z,0),e=q.$objects,V=new Uint8Array(e.length),P=km.kh(e,V,q.$top.root);
for(var n=0;n<e.length;n++)if(V[n]==0&&n!=0){console.log(n,e[n]);km.a1R(P,n,[],[],typeof e[n])}for(var n=0;
n<e.length;n++){var D=e[n];if(D._class&&(D._class=="bitmap"||D._class=="fill"&&D.fillType==4&&(D.image||D.imageSHA))){var B=D.image,A=D.imageSHA,s=null,a=null;
if(B=="$null")B=null;if(A=="$null")A=null;if(B&&B.data){a=B.sha1["NS.bytes"];a=btoa(y.JU(a,0,a.length));
s=B.data instanceof Uint8Array?B.data:B.data["NS.bytes"]}else if(B==null&&A==null){var M=hZ.nw("PNG").gB([[T.n(4).buffer]],1,1);
s=new Uint8Array(M)}else{var $=(P.assets?P.assets.imageCollection:P.images).images;if(A)a=A instanceof Uint8Array?A:A["NS.bytes"];
else a=B.sha1["NS.bytes"];a=btoa(y.JU(a,0,a.length));var s=$[a].data;if(s["NS.bytes"])s=s["NS.bytes"]}s=new Uint8Array(s.buffer.slice(s.byteOffset,s.byteOffset+s.length));
delete D.imageSHA;D.image={key:a,bdata:s}}}return P};km.auI=function(z){return z.slice(0,11)=="MSImmutable"?"MS"+z.slice(11):z};
km.kh=function(z,q,e){var V=z[e];if(q[e]==1){return V}q[e]=1;if(typeof V=="string")return V;if(typeof V=="number")return V;
if(typeof V=="boolean")return V;if(V instanceof Array)return V;if(V instanceof Uint8Array){return V}if(z[V.$class]==null){if(V.$class==null&&V["NS.data"]!=null)return V;
console.log(e,V);throw"e"}var P=z[V.$class],D=km.auI(P.$classname);q[V.$class]=1;V.$class=D;if(km.arT[D]){delete V.$class;
V._class=km.arT[D]}var B=km.kh;if(D=="NSMutableArray"||D=="NSArray"){var A=[];if(V["NS.objects"]!=null)for(var n=0;
n<V["NS.objects"].length;n++)A.push(B(z,q,V["NS.objects"][n]));else for(var n=0;V["NS.object."+n]!=null;
n++)A.push(B(z,q,V["NS.object."+n]));z[e]=A;return A}if(D=="NSDictionary"||D=="NSMutableDictionary"){var s={$class:D};
if(V["NS.keys"]!=null)for(var n=0;n<V["NS.keys"].length;n++){var a=B(z,q,V["NS.keys"][n]);if(a instanceof Uint8Array)a=btoa(km.TO.JU(a,0,a.length));
else if(typeof a!="string"&&typeof a!="number")a=btoa(km.TO.JU(a["NS.bytes"],0,a["NS.bytes"].length));
s[a]=B(z,q,V["NS.objects"][n])}else for(var n=0;V["NS.key."+n]!=null;n++){var a=B(z,q,V["NS.key."+n]);
if(a instanceof Uint8Array)a=btoa(km.TO.JU(a,0,a.length));else if(typeof a!="string"&&typeof a!="number")a=btoa(km.TO.JU(a["NS.bytes"],0,a["NS.bytes"].length));
s[a]=B(z,q,V["NS.object."+n])}for(var M in V)delete V[M];for(var M in s)V[M]=s[M];return V}if(D=="NSURL")return{$class:D,base:B(z,q,V["NS.base"]),relative:B(z,q,V["NS.relative"])};
if(km.ahQ.indexOf(D)!=-1){z[e]=B(z,q,V.array_do);return z[e]}if(V.do_objectID!=null)V.do_objectID=B(z,q,V.do_objectID);
if(km.av2.indexOf(D)!=-1)return V;var $=km.art[D];if($==null){console.log(z,V);throw"unknown class "+D}for(var n=0;
n<$.length;n++)if(V[$[n]]!=null)V[$[n]]=B(z,q,V[$[n]]);if(D=="MSTextLayer"){var U=V,o,t,c,H;if(U.attributedString)o=U.attributedString.archivedAttributedString;
else o=U.storage;H=o.NSString;if(typeof H!="string")H=y.vK(H["NS.bytes"],0,H["NS.bytes"].length);if(o.NSAttributeInfo)t=o.NSAttributeInfo["NS.bytes"];
else{var F=H.length,i=[];while(F>0){var X=Math.min(100,F);i.push(X,0);F-=X}t=new Uint8Array(i)}c=o.NSAttributes instanceof Array?o.NSAttributes:[o.NSAttributes];
var K={$class:"NSAttributedString",NSString:H,NSAttributes:c};U.attributedString={_class:"MSAttributedString",archivedAttributedString:K};
K.NSAttributeInfo={$class:"NSMutableData","NS.data":t};delete U.storage}return V};km.TO={mU:function(z,q){return z[q+1]<<8|z[q]},vQ:function(z,q){return z[q+3]<<24|z[q+2]<<16|z[q+1]<<8|z[q]},JU:function(z,q,e){var V="";
for(var n=0;n<e;n++)V+=String.fromCharCode(z[q+n]);return V}};km.arT={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
km.ahQ=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
km.av2="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
km.art={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo cloudShareID cloudShareURL cloudUserID".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var kr={};kr.parse=function(z,q){var e=y.JU(z,q,8);q+=8;var V=z.length-32,P=kr.parse.aq2(z,V),D=[];if(P.dg==1){var q=V-P.dg*P.FA;
for(var n=0;n<P.FA;n++)D.push(z[q+n])}else if(P.dg==2){var q=V-P.dg*P.FA;for(var n=0;n<P.FA;n++)D.push(y.mU(z,q+n*2))}else if(P.dg==4){var q=V-P.dg*P.FA;
for(var n=0;n<P.FA;n++)D.push(y.vQ(z,q+n*4))}else{throw"e"}var B=kr.parse.kh(z,D,P.root,P);return B};
kr.parse.kh=function(z,q,e,V){var P=kr.TO,D=V.aKF,B=D==4?P.vQ:D==2?P.mU:P.ai5,A=kr.parse,s=q[e],a=z[s],M=a>>4,$=a&15,o=null;
s+=1;if([4,5,6,10,12,13].indexOf(M)!=-1&&$==15){var U=A.ca(z,s);s+=U.Z7;$=U.u}if(!1){}else if(M==0)o=$==8?!1:$==9?!0:null;
else if(M==1)o=A.ca(z,s-1).u;else if(M==2)o=1<<$==4?y.ad(z,s):y.my(z,s);else if(M==3)o=y.my(z,s);else if(M==4)o=new Uint8Array(z.buffer,s,$);
else if(M==5)o=y.JU(z,s,$);else if(M==6)o=y.$a(z,s,$);else if(M==8){o=0;for(var n=0;n<$+1;n++)o=o<<8|z[s+n]}else if(M==10){o=[];
for(var n=0;n<$;n++)o.push(A.kh(z,q,B(z,s+D*n),V))}else if(M==12){o=[];for(var n=0;n<$;n++)o.push(A.kh(z,q,B(z,s+D*n),V))}else if(M==13){o={};
for(var n=0;n<$;n++){var t=A.kh(z,q,B(z,s+D*n),V),c=A.kh(z,q,B(z,s+D*($+n)),V);o[t]=c}}else throw"unknown mask "+M;
return o};kr.parse.ca=function(z,q){var e=1<<(z[q]&15),V=0;for(var n=0;n<e;n++)V=V<<8|z[q+1+n];return{u:V,Z7:e+1}};
kr.parse.aq2=function(z,q){var e={};q+=6;e.dg=z[q];q++;e.aKF=z[q];q++;q+=4;e.FA=y.vQ(z,q);q+=4;q+=4;
e.root=y.vQ(z,q);q+=4;q+=4;e.auH=y.vQ(z,q);q+=4;return e};kr.TO={ai5:function(z,q){return z[q]},mU:function(z,q){return z[q]<<8|z[q+1]},vQ:function(z,q){return z[q]<<24|z[q+1]<<16|z[q+2]<<8|z[q+3]},JU:function(z,q,e){var V="";
for(var n=0;n<e;n++)V+=String.fromCharCode(z[q+n]);return V}};var gv={parse:function(z){var q=new Uint8Array(z),e=gv.u2(q),V=[],P=new Uint8Array(q.length),D=[];
V.push(D);gv.cK(q,e,1,P,D);for(var n=0;n<D.length;n++){var B=[];V.push(B);gv.cK(q,e,D[n][3],P,B,n==11);
D[n][3]=n+1}return V},cK:function(z,q,e,V,P,D){e--;var B=e*q.B_+(e==0?100:0),A=z[B],s=gv.mU(z,B+1),a=gv.mU(z,B+3),M=gv.mU(z,B+5),U=0;
if(M==0)M=65536;var $=z[B+7];B+=8;if(A==2||A==5){U=gv.vQ(z,B);B+=4}for(var o=0;o<a;o++){var t=e*q.B_+gv.mU(z,B+2*o),c=-1,H=0,F=0,i=0;
if(A==2||A==5){c=gv.vQ(z,t);t+=4}if(A==2||A==10||A==13){H=gv.lg(z,t);t+=H.Z7}if(A==5||A==13){F=gv.lg(z,t);
t+=F.Z7}if(A==2||A==5){gv.cK(z,q,c,V,P,D);continue}var X=q.B_-(e==0?100:0),K=H.YY,f=A==13?X-35:Math.floor((X-12)*64/255)-23,d=Math.floor((X-12)*32/255)-23,L=d+(K-d)%(X-4);
if(K<=f){gv.Yh(z,t,V,0,K)}else{var G=L<=f?L:d,x=0;gv.Yh(z,t,V,0,G);x+=G;i=gv.vQ(z,t+G);while(i!=0){var O=(i-1)*q.B_;
i=gv.vQ(z,O);var v=Math.min(q.B_-4,K-x);gv.Yh(z,O+4,V,x,v);x+=v}}P.push(gv.aL7(V,K))}if(U!=0)gv.cK(z,q,U,V,P,D)},aL7:function(z,q){var e=0,V=gv.lg(z,e);
e+=V.Z7;var P=[],D=[];while(e<V.YY){var B=gv.lg(z,e);e+=B.Z7;P.push(B.YY)}if(e!=V.YY)throw"e";for(var n=0;
n<P.length;n++){var B=P[n];if(!1){}else if(B==0)D.push(null);else if(B==1){D.push(gv.a8Z(z,e));e+=1}else if(B==2){D.push(gv.ab(z,e));
e+=2}else if(B==3){D.push(gv.alI(z,e));e+=3}else if(B==4){D.push(gv.ca(z,e));e+=4}else if(B==5){D.push(gv.vQ(z,e+2));
e+=6}else if(B==6){D.push(gv.vQ(z,e)+":"+gv.vQ(z,e+4));e+=8}else if(B==7){D.push(gv.aAt(z,e));e+=8}else if(B==8)D.push(0);
else if(B==9)D.push(1);else if(B>=12&&(B&1)==0){var A=B-12>>1,s=new Uint8Array(A);gv.Yh(z,e,s,0,A);D.push(s);
e+=A}else if(B>=13&&(B&1)==1){var A=B-13>>1;D.push(gv.vK(z,e,A));e+=A}else throw"unknonw type "+B}return D},u2:function(z){if(!(z[18]==1&&z[19]==1&&z[20]==0&&z[21]==64&&z[22]==32&&z[23]==32))throw"unexpected SQL3 header";
var q={_o:gv.JU(z,0,15),B_:gv.mU(z,16),awn:gv.vQ(z,24),size:gv.vQ(z,28),a2f:gv.vQ(z,32),ay2:gv.vQ(z,36),aOw:gv.vQ(z,40),a78:gv.vQ(z,44),aK$:gv.vQ(z,48),a7$:gv.vQ(z,52),a0d:gv.vQ(z,56),awu:gv.vQ(z,60),amf:gv.vQ(z,64)!=0,ag3:gv.vQ(z,68),az7:gv.vQ(z,92),azz:gv.vQ(z,96)};
if(q.B_==1)q.B_=65536;if(q.a0d!=1)throw"unsupported text encoding "+q.a0d;return q},ae6:function(z,q){return z[q]<<16|z[q+1]<<8|z[q+2]},alI:function(z,q){var e=gv.ae6(z,q),V=e&8388608;
return V?-(16777215-e+1):e},a8Z:function(z,q){gv.Z_[0]=z[q];return gv.aeD[0]},ca:function(z,q){var e=gv.Z_;
for(var n=0;n<4;n++)e[n]=z[q+3-n];return gv.adr[0]},ab:function(z,q){var e=gv.Z_;e[0]=z[q+1];e[1]=z[q];
return gv.aMc[0]},mU:function(z,q){return z[q]<<8|z[q+1]},vQ:function(z,q){var e=gv.Z_;for(var n=0;n<4;
n++)e[n]=z[q+3-n];return gv.aDc[0]},aAt:function(z,q){var e=gv.Z_;for(var n=0;n<8;n++)e[n]=z[q+7-n];
return gv.a7T[0]},lg:function(z,q){var e=q,hE=0;while(!0){var V=z[q];q++;hE=hE*128+(V&127);if(V<128)break}return{YY:hE,Z7:q-e}},JU:function(z,q,e){var V="";
for(var n=0;n<e;n++)V+=String.fromCharCode(z[q+n]);return V},vK:function(z,q,e){var V="";for(var n=0;
n<e;n++)V+="%"+gv.aIg(z[q+n].toString(16));try{V=decodeURIComponent(V);return V}catch(cz){return V}},Yh:function(z,q,e,V,P){if(P!=0&&(z[q+P-1]==null||e[V+P-1]==null)){console.log(q,V,P);
throw"e"}for(var n=0;n<P;n++)e[V+n]=z[q+n]},aIg:function(hE){return hE.length<2?"0"+hE:hE}};gv.Z_=new Uint8Array(8);
gv.aeD=new Int8Array(gv.Z_.buffer);gv.aMc=new Int16Array(gv.Z_.buffer);gv.adr=new Int32Array(gv.Z_.buffer);
gv.aDc=new Uint32Array(gv.Z_.buffer);gv.a7T=new Float64Array(gv.Z_.buffer);gv.aqu=function(z,q){var e=z[0],V={};
for(var n=0;n<e.length;n++){var P=e[n],D=P[1];if(P[0]!="table")continue;var B=P[4];B=B.slice(B.indexOf("(")+1,B.indexOf(")"));
B=B.split(",");for(var A=0;A<B.length;A++){var s=B[A].trim().split(" ")[0];if(q&&s.startsWith(D))s=s.slice(D.length);
B[A]=s}var a=V[D]=[],M=z[P[3]];for(var A=0;A<M.length;A++){var $=M[A],U={};a.push(U);for(var o=0;o<B.length;
o++){if(U[B[o]]!=null)throw"e";U[B[o]]=$[o]}}}return V};function kF(z,q,e){this.x2=z;this.aV=q;this.ac9=e;
this.rh=new f5(0,0);this.Kp=-1;this.U5=0;this.fj=0;this.Sr=new kk;this.m9=[];this.aLe=null;this.a8U=null;
this.aHa=null;this.Ho=null;this.ZT=null;this.aCs=null}kF.prototype.StartPage=function(z,q,e,V,P){var D=this.aV,B=D.vx(),A=1,s=(e-z)*(V-q);
if(P!=null)s=P;while(s*B*B/(A*A)>2*8192*8192)A++;D.scale(1/A,1/A);this.a8U=[z,q,e,V];var A=D.vx();z=Math.round(z*A);
q=Math.round(q*A);e=Math.round(e*A);V=Math.round(V*A);var a=this.x2,M=this.aHa;if(M==null){D.yK=-z}else{var $=M[2]-M[0]+30,U=Math.round(e-z)+30;
if(this.rh.x+$+U>8192){D.yK=-z;this.rh.x=0;this.rh.y+=this.fj+120;this.fj=0}else{D.yK+=$;this.rh.x+=$}}D.ww=this.rh.y+(this.ac9?V:-q);
this.fj=Math.max(this.fj,Math.round(V-q));this.aHa=[z,q,e,V];this.a5A=[];a.Z.push(a.cs())};kF.prototype.StartTGroup=function(z){this.PX();
var q=this.x2;q.Z.push(q.cs());var e=kF.bn[z.bmode];if(e==null)e="norm";var V=q.OJ();V.up("<Group>");
V.add.lsct=fH._j;V.pi=e=="norm"?"pass":e;V.b9=24;V.vz=Math.round(255*z.ca);this.a5A.push(V)};kF.prototype.EndTGroup=function(){this.x2.Z.push(this.a5A.pop())};
kF.prototype.aJZ=function(){var z=this.x2,q=z.Z[z.Z.length-1];return q};kF.prototype.aol=function(){var z=this.x2,q=z.OJ();
q.up("Path "+z.Z.length);this.x2.Z.push(q);q.b9|=16;q.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8({l:0,I:0,c:0})}};
q.add.vmsk=new lK.cI;q.add.vstk=az.Y1.g1();return q};kF.prototype.y4=function(z,q){var e={J:z.crds,_:z.cmds},V=T.R.XI(e,!1);
T.S.aNe(V,q);T.S.Z8(V,this.aV);return V};kF.agv=function(z,q){for(var n=0;n<z.length;n++)if(z[n].xq!=null)z[n].xq=q};
kF.tw=function(z){return T.Yf.e8({l:z[0]*255,I:z[1]*255,c:z[2]*255})};kF.Jg=function(z){return new e5(z[0],z[1],z[2],z[3],z[4],z[5])};
kF.prototype.Stroke=function(z){if(this.Kp!=-1&&this.Kp!=this.U5)return;if(z.pth.cmds.length<=1)return;
var q=this.y4(z.pth,!0),B=null;if(q.length<=2)return;this.tc(z);kF.agv(q,-1);q[2].xq=1;var e=this.aJZ(),V=az.Y1.g1(null,!0),P=z.ctm,D={};
kF.ayf(D,z);az.Y1.write(V,D,Math.sqrt(Math.abs(P[0]*P[3]-P[1]*P[2]))*this.aV.vx());if(!(z.COLR instanceof Array)){B=T.R.mB(z.pth.crds);
var A=T.R.iR(B);T.R.v(A.J,this.aV,A.J);B=T.R.mB(A.J)}var s=kF.d0(z.COLR,this.aV,q),a=["SoFi","GrFl","patternFill"].indexOf(s.e),M=[az.RS,az.dW,az.lA][a],$=V.strokeStyleContent.v={classID:az.Y1.U0[a]};
for(var n=0;n<M.length;n++)$[M[n]]=s.u.v[M[n]];var U=e!=null&&e.add.vmsk!=null&&!e.YZ(),o=cW==0&&U&&!e.add.vstk.fillEnabled.v&&JSON.stringify(V)==e.add.vsjs;
if(o){var t=e.add.vmsk.B;for(var n=2;n<q.length;n++)t.push(q[n])}else{var c=U&&!e.add.vstk.strokeEnabled.v&&lK.cI.ats(e.add.vmsk.B,q,!0);
if(c){e.add.vstk=V;V.fillEnabled.v=!0}else{e=this.aol();e.add.vmsk.B=q;e.add.vstk=V;e.add.vsjs=JSON.stringify(V)}}};
kF.ayf=function(z,q){z.e6=q.lwidth;z.E5=q.mlimit;z.Nn=q.dash.slice(0);z.cr=q.doff;z.o3=q.ljoin;z.vZ=q.lcap;
z.i4=1};kF.lO=function(z,q){q.lwidth=z.e6*(z.i4==2?2:1);q.mlimit=z.E5;q.doff=z.cr;q.ljoin=z.o3;q.lcap=z.vZ;
q.sal=z.i4;q.dash=z.Nn.slice(0);if(q.dash.length==1&&q.dash[0]==0)q.dash=[]};kF.prototype.Fill=function(z,q){if(this.Kp!=-1&&this.Kp!=this.U5)return;
if(z.ca==0)return;var e=z.pth.cmds;if(e.length==0)return;if(e.length==2&&JSON.stringify(e)=="[\"M\",\"L\"]")return;
var V=T.R.mB(z.pth.crds),P=T.R.mB(z.cpth.crds);if(V.HX(P).a8())return;var D=z.pth,B=UDOC.G.isBox(D,[V.x,V.y,V.x+V.s,V.y+V.T]),A=z.cpth,s=UDOC.G.isBox(A,[P.x,P.y,P.x+P.s,P.y+P.T]);
if(B&&s&&V.D()>P.D()*2){var a=V.HX(P),M=a.x,$=a.y,U=M+a.s,o=$+a.T;D={cmds:["M","L","L","L","Z"],crds:[M,$,U,$,U,o,M,o]};
V=a}else if(this.Ho==null&&UDOC.G.isBox(D,[V.x,V.y,V.x+V.s,V.y+V.T])&&V.oq(P)){D=A;V=P}else this.tc(z);
var t=this.y4(D,q),c=kF.d0(z.colr,this.aV,t),H=this.aJZ(),F=cW==0&&H!=null&&H.vz==Math.round(255*z.ca)&&H.add.vstk!=null&&!H.add.vstk.strokeEnabled.v&&H.add.SoCo&&c.e=="SoFi"&&JSON.stringify(H.add.SoCo.Clr.v)==JSON.stringify(c.u.v.Clr.v);
if(F){var i=!1;for(var n=0;n<t.length;n++){if(t[n].xq==0||t[n].xq==2)i=!0}if(i){var X=T.R.mB(T.S.Jc(H.add.vmsk.B)),K=T.R.mB(T.S.Jc(t));
F=X.HX(K).a8()}}if(F){var f=H.add.vmsk.B;for(var n=2;n<t.length;n++)f.push(t[n])}else{H=this.aol();delete H.add.SoCo;
H.add.vmsk.B=lK.cI.QD(t);kF.FC(z.colr,H,this.aV,t);kF.a6r(z,H)}};kF.FC=function(z,q,e,V){var P=kF.d0(z,e,V),D=null,B=null;
q.add.vstk.fillEnabled.v=!0;if(P.e=="SoFi"){D="SoCo";B=az.RS}if(P.e=="GrFl"){D="GdFl";B=az.dW}if(P.e=="patternFill"){D="PtFl";
B=az.lA}if(D!=null){q.add[D]={classID:"null"};for(var n=0;n<B.length;n++){var A=B[n];q.add[D][A]=P.u.v[A]}if(D=="GdFl")q.add._fstl=P.oO}};
kF.prototype.tc=function(z){var q=this.x2,e=z.cpth,V=e.cmds.join(""),P=e.crds,D=V+" "+P.join(","),B=UDOC.G.isBox(e,this.a8U);
if(B&&this.Ho==null)return;if(D==this.Ho)return;this.PX();if(!B){this.Ho=D;q.Z.push(q.cs());var A=q.OJ();
A.up("Mask");A.add.lsct=fH.OI;A.pi="pass";A.b9=24;var s=A.add.vmsk=new lK.cI;s.B=this.y4(z.cpth,!0);
if(UDOC.G.isBox(e)){this.ZT=T.S.O5(s.B);this.ZT.Gm(3,3)}else this.ZT=null;this.aCs=A}};kF.prototype.PX=function(){var z=this.x2;
if(this.Ho!=null){var q=z.Z.length-1,n=q,e=!1;while(n>=0&&z.Z[n].add.lsct!=fH.pR)n--;var V=this.ZT;if(V){var P=new kk,D=q;
while(D>n){P=z.Z[D].$i(this.x2,!1,!0);D--}e=V.oq(P)}if(e){this.m9.splice(n,1);z.Z.splice(n,1)}else{z.Z.push(this.aCs)}this.Ho=null}};
kF.d0=function(z,q,e){var V,P,D;if(z.length!=null){V="SoFi";var B=JSON.parse(az.j3[az.order.indexOf("SoFi")]);
P={t:"Objc",v:B};P.v.Clr.v=kF.tw(z)}else{var A=kF.aAL(z,q,e);V="GrFl";P={t:"Objc",v:jw.sX(A,e)};D=A}return{e:V,u:P,oO:D}};
kF.aAL=function(z,q,e){var V=kF.Jg(z.mat);V.concat(q);var P=new f5(0,0),D=new f5(0,0),B=new f5,A=z.crds,s=z.typ=="rad"?1:0;
if(s==1){var a=.7;B.x=A[0];B.y=A[1];P.x=A[3];P.y=A[4];D.x=P.x;D.y=P.y;D.x+=A[5]}else{P.x=A[0];P.y=A[1];
D.x=A[2];D.y=A[3];B.mX(P.x,P.y)}V=jw.KJ(P,D,V);var M=jw.cV(s,V,e);jw.a6N(M,P,D,B);M[1]=T.G(z.grad);return M};
kF.prototype.PutText=function(z,q,e,V){var P=q.charCodeAt(0),o=null;if(this.Kp!=-1&&this.Kp!=this.U5)return;
if(q.length==0||q.length==1&&(P==0||P==8203))return;this.tc(z);var D=this.x2,B=z.font,A=Math.round(255*z.ca);
if(z.font.Tmode==3)A=0;var s=kF.Jg(z.ctm);s.concat(this.aV);var a=kF.Jg(B.Tm);a.concat(s);var M=a.vx(),$=new e5(1/M,0,0,-1/M,0,0),U=B.Tfs*M;
if(U<0){U=-U;$.at=-$.at}$.concat(a);var t=D.Z.length-1;while(t>=0&&D.Z[t].add.TySh==null)t--;if($.c*$.c+$.I$*$.I$<.001&&V==null&&t>=0&&D.Z[t].add.TySh&&D.Z[t].vz==A){var c=D.Z[t],H=this.m9[t],F=c.add.TySh.v,i=($.yK-H.aHK)/U,X=Math.abs(i),K=F.x6==$.x6&&F.c==$.c&&F.I$==$.I$&&F.at==$.at,f=$.ww-H.XY,d=K&&Math.abs(f)<1e-5&&X<1;
if(d){o=c;if(i>.2&&[".",",","?",":","!"].indexOf(q)==-1){q=" "+q;e+=.5}}else if(K&&0<f&&f<U*1.7&&H.a59==U){o=c;
this.aek(H);H.XY=$.ww;H.as8=$.yK;q="\n"+q}}if(o==null){t=D.Z.length;this.m9[t]={CI:[],aMX:0,aHK:$.yK,XY:$.ww,as8:$.yK,ah1:"",a59:U};
o=D.OJ();D.Z.push(o);o.add.lnsr="rend";o.add.TySh=dc.Pj(0,0);o.add.TySh.v=$}var H=this.m9[t];H.aMX+=e*U;
H.ah1+=q;H.aHK=$.yK+e*U;var L=o.add.TySh._1,G=dc.VQ(L);if(V){dc.M_(L,1);var x=[0,0,Math.ceil(V[0]*M),Math.ceil(V[1]*M)];
dc.v7(L,x)}var O=G.length-1,v=O+q.length;dc.o5(L,O,q);if(this.aLe==null)this.aLe=dc.jb(L,O,O);var C=this.aLe;
C.c_.FontSize=Math.round(U);C.c_.Tracking=Math.round(B.Tc*100);C.c_.Underline=B.Tun==1;C.c_.FillColor={Type:1,Values:[1,z.colr[0],z.colr[1],z.colr[2]]};
if(B.Tal!=null)C.S$.Justification=B.Tal;if(H.CI.length!=0){C.c_.AutoLeading=!1;C.c_.Leading=H.XY-H.CI[H.CI.length-1].y}var S=B.Tf;
S=S.replace(/#2B/g,"+");S=S.replace(/#2C/g,"-");S=S.replace(/#2D/g,"-");S=S.split("+").pop();var j={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(j[S])S=j[S];dc.v3(C,S);dc.Vy(L,O,v-1,C);o.sD();o.vz=A};kF.prototype.aek=function(z){z.CI.push({xL:z.aMX,L:z.ah1.slice(z.CI.length==0?0:1)+"\n",x:z.as8,y:z.XY,fY:z.a59});
z.aMX=0;z.ah1=""};kF.prototype.cY=function(z,q,e){var V=hZ.nw("PNG"),P=cW==1?V.a1(z.buffer,q,e,8):V.gB([[z.buffer,0]],q,e);
return new Uint8Array(P)};kF.prototype.PutImage=function(z,q,e,V,P,D,B){if(this.Kp!=-1&&this.Kp!=this.U5)return;
var A=this.x2,s=z.font.Tmode;if(s==7&&A.Z[A.Z.length-1].add.TySh){return}this.tc(z);var a=kF.Jg(z.ctm);
a.concat(this.aV);var M=new e5(1/e,0,0,-1/V,0,1);M.concat(a);a=M;q=kF.a30(q,e,V,D,!1);if(P)P=kF.a30(P,e,V,B,!0);
if(P==null){if(q.length==e*V*4)q=this.cY(q,e,V)}else{q=this.aad(q,e,V,D,!1);P=this.aad(P,e,V,B,!0);var $=T.n(e*V);
T.bl(P,$,0);T.yR($,q,3);q=this.cY(q,e,V)}var U=A.Ql(q,"Bitmap",0,0),o=new kk(0,0,e,V),t=T.R.iR(o).J;
T.R.v(t,a,t);U.add.SoLd.Trnf=W.On.V1(t);U.add.SoLd.nonAffineTransform=W.On.V1(t);U.N7(A,!1);kF.a6r(z,U);
A.Z.push(U)};kF.a6r=function(z,q){q.vz=Math.round(255*z.ca);var e=kF.bn[z.bmode];if(e==null)console.log("Unknown blend mode",e);
else q.pi=e};kF.bn={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
kF.aa6=function(z){if(z=="pass")z="norm";for(var q in kF.bn)if(kF.bn[q]==z)return q;return"/Normal"};
kF.a30=function(z,q,e,V,P){var D=hZ.J7(z.buffer);if(D=="jpg"){try{z=new Uint8Array(hZ.nw("JPG").a8t(z.buffer))}catch(cz){z=new Uint8Array(q*e*4)}}else if(D=="jpx"){z=new Uint8Array(q*e*4);
new Uint32Array(z.buffer).fill(4294967295)}else if(D=="jb2"){z=new Uint8Array(hZ.nw("JPG").EY(z.buffer,V,P)[0].data)}else if(z.length!=q*e*4){var B=new Uint8Array(q*e*4),A=Math.ceil(q/8),s=new Uint8Array(e*A);
UTIF.decode._decodeG4(z,0,z.length,s,0,q,1);var a=s[0]==(P?255:0);for(var M=0;M<e;M++){var $=A*M;for(var U=0;
U<q;U++){var n=M*q+U,o=n*4,t=(s[$+(U>>3)]>>7-(U&7)&1)*255;if(a)t=255-t;B[o]=t;B[o+1]=t;B[o+2]=t;B[o+3]=255}}z=B}return z};
kF.prototype.aad=function(z,q,e,V,P){if(z.length!=q*e*4){var D=hZ.J7(z.buffer);if(D=="jb2")throw"e";
var B=hZ.nw(D);if(B==null||D=="tga")B=hZ.nw("jpg");z=new Uint8Array(B.EY(z,V,P)[0].data)}return z};kF.prototype.ShowPage=function(){var z=this.x2;
this.U5++;var q=this.aHa;this.PX();var e=z.OJ();z.Z.push(e);var V=new kk(Math.round(this.rh.x),Math.round(this.rh.y),Math.round(q[2]-q[0]),Math.round(q[3]-q[1]));
if(V.a8())V.s=V.T=2e3;this.Sr=this.Sr.X8(V);e.Ig(V);e.add.artb.artboardBackgroundType.v=1;e.up("Page "+this.U5);
e.add.lsct=fH.OI;e.pi="pass";e.b9=24};kF.prototype.Print=function(z){console.log("Print:",z)};kF.prototype.Done=function(){var z=this.x2;
if(this.U5==1)z.Z[z.Z.length-1].add.lsct=fH._j;z.Ic(this.U5);for(var n=0;n<z.Z.length;n++){var q=z.Z[n],e=q.add.vmsk,V=q.add.TySh,P=this.m9[n];
q.T4();delete q.add.vsjs;if(e){var D=!1;for(var B=0;B<e.B.length;B++){var A=e.B[B];if((A.e==0||A.e==3)&&A.length>32767)D=!0}if(D){z.Z.splice(n,1);
n--;continue}}q.ly(z);if(V&&P&&P.CI.length!=0){this.aek(P);var s=V._1,a=P.CI.length,M=P.CI[0],$=1e9,U=-1e9,d="";
for(var B=0;B<a;B++){var o=P.CI[B];$=Math.min($,o.x);U=Math.max(U,o.x+o.xL)}var t=[];for(var B=0;B<a;
B++){var o=P.CI[B],c=-1,H=M.fY*.1,F=Math.abs(o.x-$),i=Math.abs(o.x+o.xL-U),X=Math.abs(F-i);if(X<H)c=2;
if(i<H){c=1;if(o.x!=$)if(B!=0&&P.CI[B-1].x==o.x||B!=a-1&&P.CI[B+1].x==o.x)c=-1}if(F<H)c=0;if(o.xL==U-$)c=3;
t.push(c)}var K=[!1,!1,!1];for(var B=0;B<a;B++){var c=t[B];if(c==3)c=B==0?t[B+1]:t[B-1];if(c==3)c=0;
t[B]=c;K[c]=!0}var f=(U-$)*.05;if(K[0]&&!K[1])U+=f;if(!K[0]&&K[1])$-=f;if(!K[0]&&!K[1]){$-=f;U+=2*f}dc.M_(s,1);
V.v.ww-=M.fY*.7;V.v.yK=Math.round($);dc.v7(s,[0,0,Math.ceil(U-$),Math.ceil(P.CI[a-1].y-M.y+M.fY*2)]);
for(var B=0;B<a;B++){var o=P.CI[B],c=t[B],L=0;if(c==-1){c=0;L=Math.round(o.x-$)}var G=d.length,x=G+o.L.length;
d+=o.L;var O={GD:[],c_:{},S$:{Justification:c,StartIndent:L}};dc.Vy(V._1,G,x-1,O)}}if(V){var s=V._1;
dc.a1B(s);var v=dc.VQ(s).split("\n");for(var B=0;B<v.length-1;B++){var o=v[B],C=0;for(var S=0;S<o.length;
S++){var j=o.charCodeAt(S);if(1473<=j&&j<=1524)C++}if(C>o.length/2){v[B]=o.split("").reverse().join("");
var w=s.EngineDict.ParagraphRun.RunArray[B].ParagraphSheet.Properties;w._Direction=1;w.Justification=dc.vC(w)}}dc.FK(s,v.join("\n"))}}z.HA=!0;
z.s=this.Sr.s;z.T=this.Sr.T;z.buffer=T.n(this.Sr.D()*4)};var kc={};kc.VY=null;kc.iO=function(z,q,e,V,P,D){var B=cW==0?new kk(0,0,z.s,z.T):z.GM();
if(P==null)P=B.s;if(D==null)D=B.T;kc.VY=z;var A=[[z.root,B,null]];if(cW==0&&z.add.artd){var s=z.root.children,a=[],M=!0;
for(var n=0;n<s.length;n++){var $=s[n].H,U=$.add.artb,o=null;if(U==null){M=!1;break}var t=U.artboardBackgroundType.v;
if(t!=1&&t!=3)o=$.gq();a.push([s[n],$.Le(),o])}if(M)A=a}if(cW==1){var c=z.add.arts;A=[];for(var n=0;
n<c.length;n++)A.push([z.root,T.R.b_(c[n].sI),null])}var H=q.pags;H=H.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
H=H.split(" ");var F=[];for(var n=0;n<H.length;n++){var i=H[n];if(i=="-"){var X=F.pop(),K=parseInt(H[n+1]);
while(X<K){F.push(X);X++}}else F.push(parseInt(i))}H=F;for(var n=0;n<H.length;n++)if(isNaN(H[n])||H[n]<1||H[n]>A.length){H.splice(n,1);
n--}var f=P/B.s,d=D/B.T,L=f*72/z.do,G=d*72/z.do,x=q.mrgn;if(x==null)x=0;var O=72*x,v=72*x;for(var C=0;
C<A.length;C++){var n=C;if(q.rvrs)n=A.length-1-C;if(H.length!=0&&H.indexOf(n+1)==-1)continue;var S=A[n][0],j=A[n][1];
if(!S.H.Sw())continue;var w=Math.round(j.s*L+2*O),u=Math.round(j.T*G+2*v);e.StartPage(0,0,w,u);var l=UDOC.getState(),I=new e5;
I.translate(-j.x,-j.y-j.T);I.scale(L,-G);I.translate(O,v);if(A[n][2]){var Q=A[n][2],b=O*L,p=v*G,k=b+j.s*L,g=p+j.T*G;
l.colr=[(Q>>>0&255)/255,(Q>>>8&255)/255,(Q>>>16&255)/255];l.pth={cmds:["M","L","L","L","Z"],crds:[b,p,k,p,k,g,b,g]};
e.Fill(l)}if(cW==0&&q.rall){var Y=T.n(j.D()*4);T.aF(T.EZ(z.tW(),8),B,Y,j);var R=z.Rz();if(R)ICC.U.applyLUT(R[z.add.fcmy==1?5:3],R[2],Y,Y);
var m=hZ.nw("JPG").gB([[Y.buffer]],j.s,j.T,{qual:q.qual});Y=new Uint8Array(m);var Z=new e5;Z.translate(j.x,j.y);
kc.Bo(l,e,Y,j,Z,I)}else{kc.tO(z,S,l,e,I,j,q,V);if(O!=0){var b=O,p=v,k=b+j.s*72/z.do,g=p+j.T*72/z.do,E=k+O,N=g+O;
l.ca=1;l.colr=[1,1,1];l.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,N,E,N,E,0,b,p,k,p,k,g,b,g]};
e.Fill(l)}}if(q.cmrk){var h=[[0,0],[1,0],[1,1],[0,1]],j5=50,r=5,l8=j5*.5,aP=r*.5,bS=j.s*72/z.do,kR=j.T*72/z.do;
l.colr=[.1,.1,.1];for(var j1 in h){var f6=h[j1],gx=[j1==0||j1==3?-1:1,j1==0||j1==1?-1:1],lC=[O-l8+aP*gx[0]+f6[0]*bS,v-(gx[1]!=1?r:0)+f6[1]*kR],g2=[O-(gx[0]!=1?r:0)+f6[0]*bS,v-l8+aP*gx[1]+f6[1]*kR];
l.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[lC[0],lC[1],lC[0]+j5,lC[1],lC[0]+j5,lC[1]+r,lC[0],lC[1]+r,g2[0],g2[1],g2[0]+r,g2[1],g2[0]+r,g2[1]+j5,g2[0],g2[1]+j5]};
e.Fill(l)}}var dv=z.tQ;for(var bv=0;bv<dv.length;bv++){var eo=dv[bv].v,j=T.OL.$i(eo),aL=T.R.iR(j).J;
T.R.v(aL,I,aL);var dh=T.R.mB(aL);if(!new kk(0,0,w,u).oq(dh))continue;if(e.AddAnnot)e.AddAnnot([dh.x,dh.y,dh.x+dh.s,dh.y+dh.T],eo.url.v)}e.ShowPage()}e.Done();
kc.VY=null};kc.pD=function(z){z=T.Yf.z8(z);return[z.l/255,z.I/255,z.c/255]};kc.tO=function(z,q,e,V,P,D,B,A){var s=q.H,a=s.add.lsct,M=s.add.lmfx,K,f,u,I=!1;
if(s.Qe)return;var $=s.add.vmsk,U=s.add.vstk,o=s.add.TySh;if(s.Ev)alert("Clipping layers can not be exported into a PDF. Use vector masks instead. Or use \"Rasterize all\".",4e3);
if(cW==1&&!s.YZ()&&!D.Je(T.R.mB(s.ll())))return;var t=q.children,c=t&&t.length!=0?t[t.length-1].H:null;
if(cW==1&&c&&c.Qe&&c.Sw())$=c.add.vmsk;if(!s.Sw())return;var H=s.vz/255,F=s.add.iOpa!=null?s.add.iOpa/255:1;
e.bmode=kF.aa6(s.pi);var i=e.ca;e.ca=e.CA=H*F;var X=M;if(X)X=X.solidFillMulti.v[0];if(X)X=X.v;if(X&&!X.enab.v)X=null;
var d=s.V;if(s.zA()&&(!s.YZ()||s.J3&&s.J3.$Z)){if(s.YZ()){K=s.J3.$Z;d=q.$i(z,!1)}else{K=T.n(s.V.D());
T.bl(T.EZ(s.buffer,8),K,3)}var L=hB.eu(M,s.add.fxrp,K,d,z,d),f=L.e;hB.aM6(L);var G=["DrSh","OrGl"];if(F!=1||U&&!U.fillEnabled.v){var x=K.slice(0);
T.TG(x);for(var n=0;n<G.length;n++){var O=f[G[n]];for(var v=0;v<O.length;v++){var C=O[v],S=C.nu.Y();
S.x+=d.x;S.y+=d.y;T.d5(x,d,C.Dm,S)}}}}if(f)kc.aM9(s,K,d,f,e,V,P,B,!0);var w=hB.aBV(s,!1);if(w){V.StartTGroup(e);
u=e;e=UDOC.getState();e.al0=u.al0}var l=$&&!s.mp(),Q=s.add.GdFl;if(Q&&Q.Type.v.GrdT!="Lnr"&&Q.Type.v.GrdT!="Rdl"){I=!0}if(U&&U.strokeEnabled.v&&U.strokeStyleContent.v.Ptrn)I=!0;
if(l){var b=T.R.W2($.B,!1),p=b.tT;T.R.v(p.J,P,p.J);e.cpth={cmds:p._,crds:p.J}}if(s.YZ()){for(var n=0;
n<q.children.length;n++)kc.tO(z,q.children[n],e,V,P,D,B,A)}else if(s.mp()&&s.add.PtFl==null&&!I){var k=$?$.B:T.S.nU.Rect(0,0,z.s,z.T),g=s.add.vstl,p,R;
if(g==null)g=hq.Q9(s.add,z);for(var n=0;n<2;n++){var Y=n==0?g.oO:g.i8;if(Y&&Y.length==4)for(var v=0;
v<Y[1].length;v++)Y[1][v][1]=kc.a4(Y[1][v][1])}kF.lO(g,e);e.lwidth*=P.vx();for(var n=0;n<e.dash.length;
n++)e.dash[n]*=P.vx();if(cW==0){var b=T.R.W2(k,g.i8==null);p=b.tT;R=b.Ds}if(cW==1){p=T.R.EP(k);R=$.HO}T.R.v(p.J,P,p.J);
e.pth={cmds:p._,crds:p.J};for(var v=0;v<2;v++){var n=g.i4==2?1-v:v,m=n==0?g.oO:g.i8,Z=null;if(m.length==0)continue;
else if(m.length==3)Z=m;else{var E=jw.w4(m,k);E.concat(P);var N=[0,0,1,0];if(m[0]==1){var h=m[2][5]*Math.PI/180,j5=m[2][6];
N=[Math.cos(h)*j5,-Math.sin(h)*j5,0,0,0,1]}Z={typ:["lin","rad"][m[0]],mat:[E.x6,E.c,E.I$,E.at,E.yK,E.ww],grad:T.G(m[1]),crds:N}}e[n==0?"colr":"COLR"]=Z;
V[n==0?"Fill":"Stroke"](e,R!=0)}}else if(o&&B.vtxt){var r=o._1,l8=new kB(r,A,o.h8),p=ey.WK(l8,o,!0),aP=T.R.xU(p),bS=null,U=hB.af1(M);
if(U){bS=az.Y1.wp(U);bS.i8=kc.pD(U.strokeStyleContent.v.Clr.v)}for(var kR in aP){var j1=parseInt(kR.slice(1,7),16),f6=0;
e.colr=X?kc.pD(X.Clr.v):kc.avA(j1);var gx=aP[kR];T.R.v(gx.J,P,gx.J);gx=T.R.awj(gx);e.pth={cmds:gx._,crds:gx.J};
var g=bS?T.G(bS):null;if(kR.length>7)g=ey.a82(kR.slice(7));if(g)g.e6*=P.vx();if(g&&g.i4==2){e.COLR=g.i8;
kF.lO(g,e);V.Stroke(e)}V.Fill(e);if(g&&g.i4!=2){e.COLR=g.i8;kF.lO(g,e);V.Stroke(e)}}}else if(o){var r=T.G(o._1);
dc.a1B(r);var lC=o.v.Y(),g2=new e5(1,0,0,-1,0,0);g2.concat(lC);g2.concat(P);var dv=dc.VQ(r),l8=new kB(r,A,o.h8);
for(var n=0;n<l8.S$.length;n++){var bv=l8.S$[n];if(bv.qX.length==1&&bv.qX[0].$0)continue;for(var v=0;
v<bv.oA.length;v++){var eo=bv.oA[v],aL=bv.R5.y+eo.R5.y,dh=bv.qX[eo.start].start,eM=bv.qX[eo.end-1].end,kg=dc.akP(r,dh,eM);
for(var jJ=0;jJ<kg.length;jJ++){var iL=l8.MJ(dh),bz=kg[jJ],ks=dc.jb(r,dh,dh),gr=ks.GD[ks.c_.Font].Name;
e.font.Tf=gr;var kR=dc.z8(ks.c_.FillColor);e.colr=X?kc.pD(X.Clr.v):[kR.l/255,kR.I/255,kR.c/255];var hg=e.font.Tfs=Math.round(ks.c_.FontSize),ci=dv.slice(dh,dh+bz);
if(ks.c_.FontCaps==2)ci=ci.toUpperCase();var E=new e5;E.translate(iL.TP.x,-aL);E.concat(g2);e.ctm=[E.x6,E.c,E.I$,E.at,E.yK,E.ww];
V.PutText(e,ci,0);for(var fK=0;fK<2;fK++){var jN=ks.c_[fK==0?"Strikethrough":"Underline"];if(!jN)continue;
var dD=l8.MJ(dh+bz-1),eF=fK==0?.27:-.2,io=hg*eF,la=hg*(eF+.07),f6=dD.TP.x+dD.TP.s-iL.TP.x,e9=[0,io,f6,io,f6,la,0,la];
T.R.v(e9,E,e9);e.pth={cmds:["M","L","L","L","Z"],crds:e9};V.Fill(e)}e.ctm=[1,0,0,1,0,0];dh+=bz}}}}else if(!s.V.a8()||cW==1){var gM,j7,cI=!1,dL=new e5,cf=s.add.SoLd,jA=!0;
if(cf)jA=T.O.NJ(T.O.AX(W.On.a3(cf.Trnf)));var gI=z.Rz();if(cf&&jA&&gI==null){var fM=cf.Idnt.v,a7=z.VH(fM,cf.Crop?cf.Crop.v:null),fq="";
if(a7==null)return;var k6=a7.De,fv=hZ.J7(a7.raw.buffer);if(B.fmts.indexOf(fv)!=-1){gM=a7.raw;cI=!0}else gM=k6[0];
j7=k6[1];dL=T.O.gK(cf);if(a7.$U.D()!=j7.D()){var cu=new e5;cu.translate(j7.x,j7.y);cu.concat(dL);dL=cu}}else{gM=T.EZ(s.buffer,8);
j7=s.V;dL.translate(j7.x,j7.y);if(gI){gM=gM.slice(0);ICC.U.applyLUT(gI[z.add.fcmy==1?5:3],gI[2],gM,gM)}if(T.mS(gM,j7.s,j7.T)&&B.fmts&&B.fmts.indexOf("jpg")!=-1){var ac=hZ.nw("JPG").gB([[gM.buffer]],j7.s,j7.T,[B[1]]);
gM=new Uint8Array(ac);cI=!0}}if(X&&!cI)gM=hB.a5h(gM,X,j7);kc.Bo(e,V,gM,j7,dL,P);if(X&&cI){var e9=[0,0,j7.s,0,j7.s,j7.T,0,j7.T];
T.R.v(e9,dL,e9);T.R.v(e9,P,e9);var hN=T.G(e);hN.ca=X.Opct.v.val/100;hN.pth={cmds:["M","L","L","L","Z"],crds:e9};
hN.colr=kc.pD(X.Clr.v);V.Fill(hN)}}if(l)e.cpth=null;if(w){V.EndTGroup();e=u}e.ca=e.CA=i;if(f)kc.aM9(s,K,d,f,e,V,P,B,!1)};
kc.a4=function(z){var q=kc.VY;if(q==null)return z;var e=q.Rz();if(e&&q.add.fcmy){return T.DQ(T.VB(z)).slice(0,3)}return z};
kc.pD=function(z){z=T.Yf.z8(z);return kc.a4([z.l/255,z.I/255,z.c/255])};kc.avA=function(z){return kc.a4([(z>>>16&255)/255,(z>>>8&255)/255,(z&255)/255])};
kc.aM9=function(z,q,e,V,P,D,B,A,s){var a=e.Y(),M=q;if(z.add.TySh&&!A.vtxt)return;var $=P.ca,U=P.bmode;
for(var n=az.order.length-1;n>=0;n--){var o=az.order[n];if(o=="GrFl"||o=="SoFi")continue;if((z.add.vmsk||z.add.TySh)&&o=="FrFX")continue;
var t=V[o],c=n>7||o=="FrFX";if(c!=s)continue;for(var H=0;H<t.length;H++){var F=t[H];if(F.nu==null)F=F.xn?F.xn:F.nd;
if(F==null)continue;var i=T.EZ(F.Dm,8),X=F.nu.Y();X.offset(a.x,a.y);if(!c){if(!a.oq(X)){var K=a.X8(X),f=T.n(K.D());
T.KY(M,a,f,K);M=f;a=K}T.d5(M,a,i,X)}if(c&&o=="FrFX"&&F.sj)T.d5(F.sj,X,i,X);var d=new e5;d.translate(X.x,X.y);
P.ca=F.Qc;P.bmode=kF.aa6(F.Rj);kc.Bo(P,D,i,X,d,B)}}P.ca=$;P.bmode=U};kc.Bo=function(z,q,e,V,P,D){var B=new e5;
B.scale(V.s,-V.T);B.translate(0,V.T);B.concat(P);B.concat(D);z.ctm=[B.x6,B.c,B.I$,B.at,B.yK,B.ww];q.PutImage(z,e,V.s,V.T);
z.ctm=[1,0,0,1,0,0]};var g3={};g3.iA=function(z){var q=new Uint8Array(z);return g3.CP(q,0)};g3.CP=function(z,q){var e=y.vQ,V=y.JU,P={PP:V(z,q,4),g:q+8,size:e(z,q+4)},D=P.PP=="FORM"||P.PP=="FOR4"||P.PP=="LIST"||P.PP=="CAT ";
if(D)P.U0=V(z,q+8,4);if(P.size<0||P.g+P.size>z.length)throw"e";if(D){P.sub=[];q+=12;var B=P.g+P.size;
while(q<B){var A=g3.CP(z,q);P.sub.push(A);var s=A.size&1,a=A.size&3;if(P.PP=="FOR4")s=a==0?0:4-a;q+=8+A.size+s}}return P};
var aI={};aI.iA=function(z,q){var e=new Uint8Array(z);return aI.CP(e,0,q)};aI.CP=function(z,q,e){var V=y.iM,P=y.JU,D={PP:P(z,q,4),g:q+8,size:V(z,q+4)};
if(e&&e[D.size]!=null)D.size=e[D.size];if(D.PP=="RIFF"||D.PP=="LIST"){D.U0=P(z,q+8,4)}if(D.size<0||D.g+D.size>z.length){console.log(D,z.length);
throw"e"}if(D.PP=="RIFF"||D.PP=="LIST"&&(D.U0!="cmpr"&&D.U0!="stlt")){D.sub=[];q+=12;var B=D.g+D.size;
while(q<B){var A=aI.CP(z,q,e);D.sub.push(A);q+=8+A.size+(A.size&1);if(P(z,q-1,4)=="LIST")q--}}return D};
var fi=function(){function z(Z,E){var N=null;if(Z.sub==null)return N;for(var n=0;n<Z.sub.length;n++){var h=Z.sub[n];
if(h.PP==E||h.U0==E)N=h}return N}function q(Z){if(Z==32)return 300;else if(Z<49)return 0;else if(Z<58)return 100*(Z-48);
else if(Z<65)return 0;return 100*(Z-55)}var e;function V(Z,E){var N=new Uint8Array(Z);E.HA=!0;e={};var h=y.JU(N,0,2);
if(h=="WL"){alert("Unsupported CDR version")}else{var j5,r,l8,kR,aL=300,kg=0;if(h=="PK"){r=UZIP.parse(N);
if(r["content/root.dat"]){N=r["content/root.dat"];l8=y.vK(r["content/dataFileList.dat"]).split("\n")}else{N=r["content/riffData.cdr"];
r=null}}j5=aI.iA(N.buffer);console.log(j5);var aP=q(N[11]),bS={data:N,g:0,Vl:aP};bS.ds=bS.Vl<600?16:32;
G(N,bS,l8,r,j5.sub,0);var j1=[];if(r){kR=z(j5,"doc ");P(kR);var f6=j5.sub;for(var n=0;n<f6.length;n++)if(f6[n].U0=="page")j1.push(f6[n]);
j1=j1.slice(1)}else if(j5.sub[3]&&j5.sub[3].PP=="pack"){alert("We dont support this version of CDR files");
return}else if(z(j5,"cmpr")==null){kR=z(j5,"page");j1.push(kR);if(z(kR,"mcfg")==null){kR=z(j5,"doc ");
P(kR);j1=[];var f6=j5.sub;for(var n=0;n<f6.length;n++)if(f6[n].U0=="page")j1.push(f6[n]);j1=j1.slice(1)}}else{var gx=z(j5,"cmpr").sub;
kR=gx[0];j1=[gx.slice(1)[1]];if(z(kR,"filt"))P(kR)}var lC=z(kR,"mcfg").u,g2=lC.amY,dv=g2.x*.1,bv=g2.x*j1.length+dv*(j1.length-1),eo=g2.y;
aL/=fp.FT(new kk(0,0,Math.round(bv*aL),Math.round(eo*aL)),8192*8192);var dh=Math.round(bv*aL),eM=Math.round(eo*aL);
E.s=dh;E.T=eM;E.buffer=T.n(E.s*E.T*4);for(var n=0;n<j1.length;n++){var jJ=new e5(aL,0,0,-aL,g2.x*aL/2+kg,g2.y*aL/2);
D(j1[n],kR,E,jJ);var iL=E.Z[E.Z.length-1];iL.Ig(new kk(Math.round(kg),0,Math.round(g2.x*aL),Math.round(g2.y*aL)));
iL.up("Page "+(n+1));kg+=g2.x*aL+dv*aL}E.Ic(j1.length)}}function P(Z){var E=z(Z,"filt").sub,N=z(Z,"otlt").sub,h=z(Z,"fntt");
if(h)h=h.sub;Z.lU={};for(var n=0;n<E.length;n++)Z.lU[E[n].sub[0].u.id]=E[n].sub[0].u;Z.aB5={};for(var n=0;
n<N.length;n++)Z.aB5[N[n].u.id]=N[n].u;if(h){Z.fonts={};for(var n=0;n<h.length;n++)Z.fonts[h[n].u.id]=h[n].u}}function D(Z,E,N,h){var j5=Z.U0?Z.U0:Z.PP,r=z(Z,"lgob"),l8=z(Z,"txsm"),aP=null,bS=null;
if(r){aP=z(r,"trfl");bS=z(r,"loda")}else if(z(Z,"lobj"))bS=z(Z,"lobj");var kR=aP&&aP.sub[0].Hn?aP.sub[0].Hn.Y():new e5;
kR.concat(h);var j1=N.OJ();if(j5=="page"||j5=="layr"||j5=="grp "){j1.up((j5=="page"?"Page":"Group")+" "+N.Z.length);
j1.add.lsct=fH._j;j1.pi="pass";j1.b9=24;var f6=[];if(j5=="page")f6=z(Z,"gobj").sub;if(j5=="layr")f6=Z.sub.slice(2);
if(j5=="grp ")f6=Z.sub.slice(4);if(f6.length==0)return;N.Z.push(N.cs());for(var n=f6.length-1;n>=0;n--)D(f6[n],E,N,h)}else if(j5=="obj "&&bS.u&&bS.u.path){var gx,lC;
if(E.lU){gx=E.lU[bS.u.a2w];lC=E.aB5[bS.u.aeS]}if(gx==null)gx=bS.u.a48;if(lC==null)lC=bS.u.aLu;j1=B(N,bS.u.path,h,kR,gx,lC)}else if(j5=="obj "&&l8){var g2=bS.u.aLm,dv=bS.u.a94,aL="";
j1.add.TySh=dc.Pj(0,0);var bv=kR.vx();j1.add.TySh.v.translate(kR.yK,kR.ww);var eo=j1.add.TySh._1,dh=l8.u.Ze;
if(dh==null)return;for(var n=0;n<dh.length;n++){var eM=dh[n],kg=aL.length;aL+=eM.text+"\n";dc.o5(eo,kg,eM.text+"\n");
if(eM.text=="")continue;var jJ=A(eM.axp,E),iL=jJ.a6Y,bz=E.fonts[iL.a1w],ks=dc.jb(eo,kg,aL.length);if(jJ.align==3)ks.S$.Justification=1;
else if(jJ.align==2)ks.S$.Justification=2;else ks.S$.Justification=0;var gr=jJ.fill.u;if(gr==null)gr=[0,0,0];
if(bz.me)dc.v3(ks,bz.me);ks.c_.FillColor={Type:1,Values:[1,gr[0],gr[1],gr[2]]};ks.c_.FontSize=Math.round(iL.fontSize*h.vx());
dc.Vy(eo,kg,aL.length-1,ks)}if(dv){dc.M_(eo,0)}else{dc.M_(eo,1);dc.v7(eo,[0,0,Math.round(g2.x*kR.x6),Math.round(-g2.y*kR.at)])}j1.up(aL.slice(0,10))}else{j1=null}if(j1)N.Z.push(j1)}function B(Z,E,N,h,j5,r){var l8=Z.OJ();
l8.up("Object "+Z.Z.length);l8.b9|=16;var aP=l8.add.vstk=az.Y1.g1();l8.add.vmsk=new lK.cI;l8.add.vmsk.B=T.R.XI(E,!1);
T.S.Z8(l8.add.vmsk.B,h);var bS=j5&&j5.e!=0,kR=bS&&j5.u!=null?j5.u:[0,0,0];kF.FC(kR,l8,h,l8.add.vmsk.B);
aP.fillEnabled.v=bS;if(r&&r.agE!=1){aP.strokeEnabled.v=!0;aP.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var j1=aP.strokeStyleLineWidth.v.val=r.lineWidth*N.vx(),f6=r.color;aP.strokeStyleContent.v.Clr.v=T.Yf.e8({l:f6[0]*255,I:f6[1]*255,c:f6[2]*255});
if(r.Nn.length!=0)aP.strokeStyleLineDashSet.v=hB.a$(r.Nn,4/j1);var gx=r.a3n,lC=r.alH;if(lC!=0){var g2=E.J,n=g2.length-4,dv=g2[n],bv=g2[n+1],eo=g2[n+2],aL=g2[n+3],dh=new e5;
dh.scale(.15,.15);dh.rotate(-Math.PI/2+Math.atan2(aL-bv,-(eo-dv)));dh.translate(eo,aL);dh.concat(h);
if(e[lC]){var eM=B(Z,e[lC],N,dh,f6,null);Z.Z.push(eM)}}}l8.T4();l8.ly(Z);return l8}function A(Z,E){var N=z(E,"stlt").u,h=T.G(N.yg[Z]);
if(h.aJO!=0){var j5=N.yg[h.aJO];for(var r in j5)if(h[r]==null||h[r]==0)h[r]=j5[r];delete h.aJO}h.align=N.aDj[h.a4G];
h.fill=E.lU[N.ahk[h.aav]];h.aes=E.aB5[N.aaM[h.aCU]];h.a6Y=N.aJT[h.awr];return h}function s(n){var hE=n.data[n.g];
n.g+=1;return hE}function a(n){var hE=y.iJ(n.data,n.g);n.g+=2;return hE}function M(n){var hE=y.iM(n.data,n.g);
n.g+=4;return hE}function $(n){var hE=y.iM(n.data,n.g);n.g+=8;return hE}function U(n){var hE=y.dG(n.data,n.g);
n.g+=2;return hE}function o(n){var hE=y.Zy(n.data,n.g);n.g+=4;return hE}function t(n){var hE=y.Nj(n.data,n.g);
n.g+=8;return hE}function c(n){if(n.g>=n.data.length)throw"e";var Z=0;while(n.data[n.g+Z]!=0)Z++;var E=y.JU(n.data,n.g,Z);
n.g+=Z+1;return E}function H(n){var Z="";while(!0){var E=a(n);if(E==0)break;Z+=String.fromCharCode(E)}return Z}function F(Z){var E=M(Z),N=(E&4294901760)>>>16,h=(E&65535)/65535;
return N+h}function i(Z){if(Z.Vl<600)return Math.PI*U(Z)/1800;return Math.PI*o(Z)/18e7}function X(Z){if(Z.Vl<1500)return K(Z);
else return t(Z)/254e3}function K(Z){if(Z.Vl<600)return U(Z)/1e3;else return o(Z)/254e3}function f(Z){if(Z.Vl<600)return a(Z);
else return M(Z)}function d(Z){if(Z.Vl<600)return U(Z);else return o(Z)}function L(Z,E,N){var h="";for(var n=0;
n<N;n++){for(var j5=0;j5<E;j5+=4){var hE=y.iM(Z.data,Z.g+n*E+j5);h+=(hE<500?hE:hE)+","}h+="\n"}return h}function G(Z,E,N,h,j5,r){var l8,aP,bS;
for(var kR=0;kR<j5.length;kR++){var j1=E.Vl,f6=j5[kR];E.data=Z;E.g=f6.g+(f6.PP=="LIST"?4:0);if(h&&f6.sub==null){l8=M(E);
aP=M(E);bS=M(E);var gx=a(E);if(gx!=0&&gx!=256&&gx!=768)throw gx.toString(16);var lC=a(E);if(lC>32)throw"e";
E.g-=16;if(l8!=4294967295){E.data=h["content/data/"+N[l8]];E.g=bS}}if(f6.PP=="vrsn"){if(f6.size==16)E.g+=8;
var g2=a(E);E.Vl=g2;console.log("Version",g2);E.ds=g2<600?16:32}else if(f6.PP=="DISP"){}else if(f6.PP=="pack"){var dv=M(E),bv=y.JU(E.data,E.g,4),dh=0;
if(bv!="CPng")throw bv;var eo=new Uint8Array(E.data.buffer,E.g+8+2,f6.size-10-4),aL=pako.inflateRaw(eo);
f6.sub=[];while(dh<aL.length){var eM=aI.CP(aL,dh);dh=eM.g+eM.size;f6.sub.push(eM)}var kg={data:aL,g:0,Vl:j1,ds:E.ds};
G(aL,kg,N,h,f6.sub,r+1)}else if(f6.PP=="LIST"&&f6.U0=="cmpr"){var jJ=M(E),iL=M(E),bz=M(E),dv=M(E),bv=y.JU(E.data,E.g,4),dh=0;
if(bv!="CPng")throw bv;var eo=new Uint8Array(E.data.buffer,E.g+8+2,jJ-6-8),aL=pako.inflateRaw(eo);E.g+=jJ;
eo=new Uint8Array(E.data.buffer,E.g+8+2);var ks=pako.inflateRaw(eo),gr=[];for(var hg=0;hg<ks.length;
hg+=4)gr.push(y.iM(ks,hg));f6.sub=[];while(dh<aL.length){var eM=aI.CP(aL,dh,gr);dh=eM.g+eM.size;f6.sub.push(eM)}var kg={data:aL,g:0,Vl:j1,ds:E.ds};
G(aL,kg,N,h,f6.sub,r+1)}else if(f6.PP=="LIST"&&f6.U0=="stlt"||f6.PP=="stlt"){if(l8==4294967295)return;
var ci=E.g,e9="",ac=32;f6.u={};var fK=M(E);if(fK==0)return;f6.u.ahk=l(E,j1>=1300);f6.u.aaM=l(E);f6.u.aJT={};
var jN=M(E);for(var n=0;n<jN;n++){var dD=M(E);E.g+=j1<1e3?12:20;var eF=a(E),io=a(E);E.g+=8;var la=K(E);
E.g+=j1<1e3?12:20;f6.u.aJT[dD]={a1w:eF,ae9:io,fontSize:la}}f6.u.aDj=l(E);var gM=M(E);e9+="Intervals\n"+L(E,52,gM)+"\n";
E.g+=52*gM;var j7=M(E);e9+="Set5s\n"+L(E,152,j7)+"\n";E.g+=152*j7;var cI=M(E);e9+="Tabs\n"+L(E,784,cI)+"\n";
E.g+=784*cI;var dL=M(E);e9+="Bullets\n";for(var n=0;n<dL;n++){var cf=E.g,jA=M(E);E.g+=4*3;if(j1>1300)E.g+=4;
var gI=M(E);E.g+=4*5;if(j1>=1300){var fM=M(E);if(fM){if(M(E))E.g+=64;else E.g+=60}else E.g+=12}else{E.g+=20;
if(j1>=1e3)E.g+=8;if(M(E))E.g+=8;E.g+=8}var a7=E.g;E.g=cf;e9+=L(E,a7-cf,1);E.g=a7}e9+="\n";var k6=M(E);
e9+="Indents\n";f6.u.asG={};for(var n=0;n<k6;n++){var cf=E.g,fv=M(E),fq={};E.g+=12;fq.right=K(E);fq.azG=K(E);
fq.left=K(E);f6.u.asG[fv]=fq;var a7=E.g;E.g=cf;e9+=L(E,a7-cf,1);E.g=a7}e9+="\n";var cu=M(E);if(j1>=1300)ac+=4;
e9+="Hypens\n"+L(E,ac,cu)+"\n";E.g+=ac*cu;var hN=M(E);e9+="Dropcaps\n"+L(E,28,hN)+"\n";E.g+=28*hN;if(j1>800){var cQ=M(E);
e9+="Set11s\n"+L(E,28,cQ)+"\n";E.g+=12*cQ}f6.u.yg={};for(var n=0;n<fK;n++){var d_=M(E);if(d_>3)throw d_;
var cK=M(E),cc={};cc.aJO=M(E);E.g+=8;var aH=M(E);if(j1>=1200)aH*=2;E.g+=aH;cc.aav=M(E);cc.aCU=M(E);if(d_>1){cc.awr=M(E);
cc.a4G=M(E);cc.aOM=M(E);cc.a2t=M(E);if(j1>800)cc.anO=M(E)}if(d_>2){cc.aD7=M(E);cc.ao2=M(E);cc.aiE=M(E);
cc.aut=M(E);cc.aqz=M(E)}f6.u.yg[cK]=cc}}else if(f6.PP=="LIST")G(Z,E,N,h,f6.sub,r+1);else if(f6.PP=="txsm"){f6.u={};
if(j1<600)throw"e";if(j1<700)throw"e";if(j1>=1600){f6.u=u(E);return}if(j1>=1500)E.g+=37;else E.g+=36;
if(M(E)){if(j1<800)E.g+=32}if(j1<800)E.g+=4;f6.u.a8h=M(E);f6.u.Ze=[];E.g+=48;if(j1>=800){if(M(E)){E.g+=32;
if(j1>=1300)E.g+=8}}if(j1>=1500)E.g+=12;var d_=M(E),jj=1,iG=!1;if(!d_){if(j1>=800)E.g+=4;if(j1>800)E.g+=2;
if(j1>=1400)E.g+=2;E.g+=24;if(j1<800)E.g+=8;jj=M(E)}for(var hg=0;hg<jj;hg++){var hc=M(E),n=0;if(j1>=1300&&d_)E.g++;
E.g++;var fK=M(E),kD=[];for(n=0;n<fK;n++){var l2=s(E),g5=0;s(E);var fZ=s(E);if(j1>=800)g5=s(E);var cc={};
if(fZ&1){cc.a1w=a(E);var d4=a(E);if(d4)cc.a7q=d4}if(fZ&2)E.g+=4;if(fZ&4)cc.aBa=K(E);if(fZ&8)E.g+=4;if(fZ&16)E.g+=4;
if(fZ&32)E.g+=4;if(fZ&64){cc.aav=M(E);if(j1>=1500)E.g+=48}if(fZ&128){cc.aCU=M(E)}if(g5&8){if(j1>=1300){var hx=M(E);
if(E.g+hx*2>=E.data.length){iG=!0;break}E.g+=hx*2}else E.g+=4}if(g5&32){var hJ=s(E);if(hJ)E.g+=52}if(l2==2)if(j1>=1300)E.g+=48;
kD.push(cc)}if(iG){break}var gU=M(E);if(E.g+gU*4>E.data.length)break;var lg=[];for(n=0;n<gU;n++){var gW=0;
if(j1>=1200)gW=$(E)&4294967295;else gW=M(E);lg[n]=gW>>16|gW&1}var iF=gU;if(j1>=1200)iF=M(E);var aO=c(E);
f6.u.Ze.push({axp:hc,text:aO,yg:kD})}}else if(f6.PP=="arrw")f6.u=x(E);else if(f6.PP=="font"){var cf=E.g,kX=a(E),e3=a(E),k5="";
E.g+=14;if(E.Vl>=1200)k5=H(E);else k5=c(E);f6.u={id:kX,ayn:e3,name:k5};if(h){var h0=cf+aP;while(E.data[E.g]==0)E.g++;
E.g+=2;var aS=H(E);while(E.data[E.g]==0)E.g++;while(E.data[E.g]<=2)E.g+=4;f6.u.me=H(E)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(f6.PP)!=-1){}else if(f6.PP=="flgs")f6.u=M(E);
else if(f6.PP=="bbox"){var jM=K(E),bW=K(E),hS=K(E),ap=K(E);f6.u=new kk(jM,bW,hS-jM,ap-bW)}else if(f6.PP=="fild"){var dB=M(E),bu;
if(j1>=1300)E.g+=8;if(j1>=2510)E.g+=16+8;var f8=a(E);if(f8==0){}else if(f8==1){E.g+=j1>=1300?13:2;bu=R(E)}else if(f8==2){E.g+=j1>=1300?8:2;
var fO=s(E),iQ=0;if(j1>=1300){E.g+=17;iQ=U(E)}else if(j1>=600){E.g+=19;iQ=o(E)}else{E.g+=11;iQ=U(E)}var gb=i(E),k9=.5+d(E),e2=.5+d(E)-.5;
if(j1>=600)E.g+=2;var cB=f(E)&255,iY=s(E)/100;E.g++;var e_=f(E)&65535;if(j1>=1300)E.g+=3;var fL=[];for(var n=0;
n<e_;n++){var jI=R(E);if(j1>=1400)E.g+=26;else if(j1>=1300)E.g+=5;var gi=(f(E)&65535)/100;if(j1>=1300)E.g+=3;
fL.push([gi,jI])}bu={typ:fO==1?"lin":"rad",crds:[k9-Math.cos(gb)/2,e2-Math.sin(gb)/2,k9,e2],grad:fL,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",f8);
f6.u={id:dB,e:f8,u:bu}}else if(f6.PP=="outl"){var hu=M(E);if(j1>=1300){var bk=0,lG=0;while(bk!=1){E.g+=lG;
bk=M(E);lG=M(E)}}var h8=a(E),iR=a(E),bm=a(E);if(j1<1300&&j1>=600)E.g+=2;var bL=K(E),je=a(E)/100;if(j1>=600)E.g+=2;
var ea=i(E);if(j1>=1300)E.g+=46;else if(j1>=600)E.g+=52;var bu=R(E);if(j1<600)E.g+=10;else E.g+=16;var hU=a(E),fn=E.g,hi=[];
for(var n=0;n<hU;++n)hi.push(a(E));if(j1<600)E.g=fn+20;else E.g=fn+22;var lF=M(E),iZ=M(E);f6.u={id:hu,agE:h8,aOn:iR,ax4:bm,lineWidth:bL,color:bu,Nn:hi,a3n:lF,alH:iZ}}else if(f6.PP=="mcfg"){if(1300<=j1)E.g+=12;
else if(900<=j1)E.g+=4;else if(600<=j1&&j1<700)E.g+=28;var dY=0,fI=0;if(j1<400){E.g+=2;var jM=K(E),bW=K(E),hS=K(E),ap=K(E);
dY=Math.abs(hS-jM);fI=Math.abs(ap-bW)}else{dY=K(E);fI=K(E)}f6.u={amY:new f5(dY,fI)}}else if(f6.PP=="loda"||f6.PP=="lobj"){var ci=E.g,f9=f(E),dq=f(E),g$=f(E),aq=f(E),aD=f(E),b1=[],hC=[],n=0,dx=null;
E.g=ci+g$;while(n<dq)b1[n++]=f(E);E.g=ci+aq;while(n>0)hC[--n]=f(E);f6.u={};for(n=0;n<dq;n++){E.g=ci+b1[n];
var eP=hC[n];if(eP==30){if(j1>=400&&aD==1||j1<400&&aD==0){f6.u.path=j(E)}else if(j1>=400&&aD==2||j1<400&&aD==1){f6.u.path=S(E)}else if(j1>=400&&aD==3||j1<400&&aD==2){f6.u.path=p(E)}else if(aD==37){f6.u.path=b(E)}else if(j1>=400&&aD==4||j1<400&&aD==3){f6.u.a94=I(E)}else if(j1>=400&&aD==6||j1<400&&aD==5){f6.u.aLm=Q(E)}else console.log(aD)}else if(eP==20){if(j1<400)f6.u.a48=v(E);
else f6.u.a2w=M(E)}else if(eP==10){if(j1<400)f6.u.aLu=C(E);else f6.u.aeS=M(E)}else if(eP==200)f6.u.a3F=f(E);
else if(eP==100){if(j1<400)dx=O(E)}}if(dx&&f6.u.path)T.R.v(f6.u.path.J,dx,f6.u.path.J)}else if(f6.PP=="trfd"){var ci=E.g,f9=f(E),dq=f(E),g$=f(E);
E.g=ci+g$;var b1=[];for(var n=0;n<dq;n++)b1[n]=f(E);for(var n=0;n<dq;n++){E.g=ci+b1[n];if(j1>=1300)E.g+=8;
var d3=a(E);if(d3==8){var a$,bM,jM,dR,c6,bW;if(j1>=600)E.g+=6;if(j1>=500){a$=t(E);bM=t(E);jM=t(E)/(j1<600?1e3:254e3);
dR=t(E);c6=t(E);bW=t(E)/(j1<600?1e3:254e3)}else throw"e";f6.Hn=new e5(a$,dR,bM,c6,jM,bW)}else console.log(d3)}}else if(!1){console.log(f6);
var h2=Math.min(f6.size,32);console.log(y.Oh(Z,f6.g,h2));console.log(y.ahB(Z,f6.g,h2))}}}function x(Z){var E=M(Z);
Z.g+=4;var N=a(Z);Z.g+=4;var h=[];for(var j5=0;j5<N;j5++)h.push(s(Z));Z.g+=1;var r=[];for(var l8=0;l8<N;
l8++){var aP=[];aP[1]=K(Z);aP[0]=K(Z);r.push(aP)}var bS=g(r,h);e[E]=bS}function O(Z){var E=0,N=0,h=0,j5=0,r=0,l8=0;
if(Z.Vl>=300){var aP=Z.g;Z.g+=10;var bS=f(Z);Z.g=aP+bS;E=F(Z);N=F(Z);h=o(Z)/1e3;j5=F(Z);r=F(Z);l8=o(Z)/1e3}else{h=K(Z);
l8=K(Z);E=F(Z);N=F(Z);h+=F(Z)/1e3;j5=F(Z);r=F(Z);l8+=F(Z)/1e3}return new e5(E,N,j5,r,h,l8)}function v(Z){var E=s(Z);
if(E==0)return null;else if(E==1)return R(Z);else console.log(E)}function C(Z){var E=s(Z);E<<=1;var N=K(Z),h=a(Z)/100,j5=i(Z),r=R(Z);
return{agE:E,lineWidth:N,color:r,Nn:[],a3n:0,alH:0}}function S(Z){var E=K(Z),N=K(Z),h=i(Z),j5=i(Z),r=T.R.EP(T.S.nU.f4(0,0,E,N));
return r}function j(Z){var E=Z.Vl,N=X(Z),h=X(Z),j5=0,r=0,l8=0,aP=0,bS=0,kR=1,j1=1;if(E<1500){aP=X(Z);
l8=E<900?aP:X(Z);r=E<900?aP:X(Z);j5=E<900?aP:X(Z)}else{var f6=t(Z);if(f6!=0)kR=f6;f6=t(Z);if(f6!=0)j1=f6;
var gx=s(Z);Z.g+=7;if(gx==0){aP=t(Z);bS=s(Z);Z.g+=15;l8=t(Z);Z.g+=16;r=t(Z);Z.g+=16;j5=t(Z);var lC=Math.abs(N*kR/2),g2=Math.abs(h*j1/2);
aP*=lC<g2?lC:g2;l8*=lC<g2?lC:g2;r*=lC<g2?lC:g2;j5*=lC<g2?lC:g2}else{aP=X(Z);bS=s(Z);Z.g+=15;l8=X(Z);
Z.g+=16;r=X(Z);Z.g+=16;j5=X(Z)}}return T.R.EP(T.S.nU.Rect(0,0,N,h,[j5,r,l8,aP]))}function w(Z){var E=M(Z);
if(Z.Vl<1700)E*=2;Z.g+=E;return""}function u(Z){var E=M(Z),h=0;Z.g+=37;var N=M(Z);for(var n=0;n<N;n++){var j5=M(Z);
h=j5;Z.g+=48;var r=M(Z);if(r==1)Z.g+=12*4;else Z.g+=8;if(!E){Z.g+=16;w(Z)}}var l8={a8h:h,Ze:[]},aP=M(Z);
for(var bS=0;bS<aP;bS++){if(Z.g>Z.data.length)throw"e";var kR=M(Z),j1=s(Z),f6=-1,jJ="";if(E){f6=s(Z);
if(f6==1)Z.g+=64}var gx=w(Z),lC=M(Z);for(var n=0;n<lC;n++){Z.g+=2;var g2=a(Z),dv=a(Z);if(dv&4){var bv=M(Z);
bv*=2;Z.g+=bv}if(g2||dv&4){var eo=w(Z)}}var aL=M(Z),dh=[];for(var n=0;n<aL;n++){var eM=$(Z)&4294967295;
dh[n]=eM>>16|eM&1}var kg=M(Z);for(var n=0;n<aL;n++){var iL=dh[n]&7,bz=0;if(iL==0||iL==2||iL==4||iL==6)bz=Z.data[Z.g++];
else if(iL==1||iL==3||iL==5||iL==7)bz=Z.data[Z.g++]+Z.data[Z.g++]*256;else throw iL;jJ+=String.fromCharCode(bz)}if(bS+1<aP)Z.g++;
var ks=jJ.split("\r");for(var n=0;n<ks.length;n++)l8.Ze.push({text:ks[n],axp:kR,yg:[]})}return l8}function l(Z,E){var N={},h=M(Z);
for(var n=0;n<h;n++){var j5=M(Z);Z.g+=4;var r=M(Z);N[j5]=r;if(E)Z.g+=48}return N}function I(Z){var E=K(Z),N=K(Z);
return new f5(E,N)}function Q(Z){Z.g+=4;var E=K(Z),N=K(Z);return new f5(E,N)}function b(Z){Z.g+=4;var E=a(Z)+a(Z);
Z.g+=16;var N=k(Z,E);return N}function p(Z){var E=a(Z);Z.g+=2;return k(Z,E)}function k(Z,E){var N=[],h=[];
for(var n=0;n<E;n++)N.push([K(Z),K(Z)]);for(var n=0;n<E;n++)h.push(s(Z));return g(N,h)}function g(Z,E){var N={J:[],_:[]},h=0,j5=0,r=0;
for(var n=0;n<Z.length;n++){var h=Z[n][0],j5=Z[n][1],l8=E[n];if(!(l8&64)&&!(l8&128)||n==0){N.J.push(h,j5);
N._.push("M");r+=2}else if(l8&64&&!(l8&128)){N.J.push(h,j5);N._.push("L");r+=2}else if(!(l8&64)&&l8&128){N.J.push(h,j5);
N._.push("C");r+=6}else if(l8&64&&l8&128){if(l8&58)console.log("strange point");N.J.push(h,j5)}}if(r!=N.J.length)console.log("strange path",r,N.J.length);
return N}function Y(Z,E){var N=y.iM;E+=8;var h=N(Z,E);E+=4;var j5=N(Z,E);E+=4;E+=4*7;var r=E,l8=T.n(h*j5*4);
E+=1024;for(var aP=0;aP<j5;aP++)for(var bS=0;bS<h;bS++){var n=aP*h+bS,kR=(j5-aP-1)*h+bS,j1=Z[E+n]<<2,f6=kR<<2;
l8[f6+0]=Z[r+j1+2];l8[f6+1]=Z[r+j1+1];l8[f6+2]=Z[r+j1+0];l8[f6+3]=255}return{Dm:l8,V:new kk(0,0,h,j5)}}function R(Z){var E=Z.Vl,N=0,h=0,j5=0;
if(E>=500){N=a(Z);if(N==1&&E>=1300)N=25;if(N==30){N=25;h=30}else{h=a(Z);Z.g+=4}j5=M(Z)}else if(E>=400)throw"e";
else{N=s(Z);j5=M(Z)}return m(N,h,j5)}function m(Z,E,N){var h=[0,0,0];if(Z==2||Z==3||Z==9||Z==17){var j5=[N>>>0&255,N>>>8&255,N>>>16&255,N>>>24&255];
if(Z==2)for(var n=0;n<4;n++)j5[n]=Math.round(255*j5[n]/100);for(var n=0;n<4;n++)j5[n]/=255;h=UDOC.C.cmykToRgb(j5)}else if(Z==1||Z==5){h=[N>>>0&255,N>>>8&255,N>>>16&255];
for(var n=0;n<3;n++)h[n]=h[n]/255;if(Z==5)h.reverse()}else console.log("Unknown color model "+Z,N,N.toString(16));
return h}return{iA:V}}(),bO=function(){var z,q,e=new ArrayBuffer(4),V=new Uint8Array(e),P=new Uint32Array(e),D=new Float32Array(e);
function B(U,o){for(var t=0;t<U.length;t++)if(U[t][0]==o)return U[t]}function A(){var U=0,o=0,t=0;do{t=z[q++];
U|=(t&127)<<o;o+=7}while(t&128&&o<35);return U>>>0}function s(U,o,t,c,H){z=U;q=o;var F=c[0]=="mesg",i=c[2],X={},K=1,f=F?1e9:i.length;
while(K<=f){var d=K;if(F){d=A();if(d==0)break}var L=B(i,d),G=L[2],x=L[1]==1,O=x?A():1,v=new Array(O);
if(G==3){if(!x)throw"e";v=z.slice(q,q+O);q+=O}else for(var n=0;n<O;n++){var C;if((G&1)==1){if(G==1)C=z[q++]==1;
else if(G==3)C=z[q++];else if(G==5){var S=A();C=S&1?~(S>>>1):S>>>1}else if(G==7)C=A();else if(G==9){if(z[q]==0){C=0;
q++}else{V[0]=z[q];V[1]=z[q+1];V[2]=z[q+2];V[3]=z[q+3];var j=P[0];P[0]=j<<23|j>>>9;C=D[0];q+=4}}else if(G==11){var w=a(z,q);
C=w[0];q+=w[1]+1}else if(G==15){var S=BigInt(0),u=BigInt(0),l=BigInt(7),I;while((I=z[q++])&128&&u<56){S|=BigInt(I&127)<<u;
u+=l}S|=BigInt(I)<<u;C=S}else throw G}else{var Q=t[G>>>1];if(Q[0]=="enum"){var b=A();C=Q[2][b]}else{var p=s(z,q,t,Q,H+1);
C=p[0];q=p[1]}}v[n]=C}X[L[3]]=x?v:v[0];K++}return[X,q]}function a(U,o){var t=o;while(U[t]!=0)t++;return[y.vK(new Uint8Array(U.buffer,o,t-o)),t-o]}function M(U,o){var t=o;
while(U[t]!=0)t++;for(var n=o;n<t;n++)if(U[n]>127)throw"e";return y.JU(U,o,t-o)}function $(U){z=U;q=1;
var o=[];while(q<U.length){var t=q,c=o.length,H=M(U,q);q+=H.length+1;var F=A();if(F>2)throw"e";var i=A(),X=[];
for(var n=0;n<i;n++){var K=M(U,q);q+=K.length+1;var f=A(),d=A(),L=A();X.push(F==0?K:[L,d,f,K])}o.push([["enum","strc","mesg"][F],H,X])}return o}return{aAT:$,aoT:s}}();
function ha(){}ha.iA=function(z,q){var e=Date.now(),V=new Uint8Array(z),P=8,D,U=0,Q=0;if(V[0]==80&&V[1]==75){D=UZIP.parse(z);
V=D["canvas.fig"]}var B=y.iM(V,P);P+=4;var A=[];while(P<V.length){var s=y.iM(V,P);P+=4;var a=V.slice(P,P+s);
if(V[P]==137&&V[P+1]==80){}else if(B>=70&&A.length!=0){var M=hZ.op.L8(a);a=M.length==0?UZIP.inflateRaw(a):M}else a=UZIP.inflateRaw(a);
A.push(a);P+=s}var $=bO.aAT(A[0]);for(var n=0;n<$.length;n++)if($[n][1]=="Message")U=n;var o=bO.aoT(A[1],0,$,$[U],0)[0],t={b3:{},l9:{},aNk:{},o_:D},c=o.nodeChanges;
for(var H=0;H<c.length;H++){var F=c[H],i=F.guid;t.l9[i.sessionID+","+i.localID]=F}for(var H=0;H<c.length;
H++){var F=c[H],i=F.parentIndex;if(i){var X=ha.ms(t.l9,i.guid);if(X.children==null)X.children=[];X.children.push(F)}}var K=c[0],f=K.children,d=new kk,L=[],G=[];
for(var i=0;i<f.length;i++){var x=f[i],O=x.children;if(x.name=="Internal Only Canvas"||O==null)continue;
var v=new kk;for(var n=0;n<O.length;n++){var C=O[n],S=C.transform,j=C.size;if(S.m00==1&&S.m10==0&&S.m01==0&&S.m11==1){var w=new kk(S.m02,S.m12,j.x,j.y);
v=v.X8(w)}}var u=d.T==0?0:d.T+100,l=v.Y();l.x=0;l.y=u;d=d.X8(l);L[i]=v;G[i]=u}var I=fp.FT(new kk(0,0,d.s,d.T),8192*8192);
q.s=Math.round(d.s/I);q.T=Math.round(d.T/I);q.buffer=T.n(q.s*q.T*4);for(var i=0;i<f.length;i++){var x=f[i],O=x.children;
if(x.name=="Internal Only Canvas"||O==null)continue;O.sort(ha.aKn);var b=new e5(1,0,0,1,-L[i].x,G[i]-L[i].y);
b.scale(1/I,1/I);for(var n=0;n<O.length;n++){var C=O[n];ha.N5(C,[],b,o.blobs,q,0,t);Q++}}q.Ic(Q);q.HA=!0;
if(I!=1)alert("File scaled down "+I+"x")};ha.N5=function(z,q,e,V,P,D,B){var A=ha,O=!1,v,j=!1,w,u;q=T.G(q);
var s=z.overrideKey?z.overrideKey:z.guid;for(var n=0;n<q.length;n++){var a=q[n],M=a.guidPath.guids;if(A.aKs(M[0],s)){if(M.length==1){var $={};
for(var U in z)$[U]=a[U]!=null?a[U]:z[U];z=$}else a.guidPath.guids=M.slice(1)}}var o=z.type,t=z.children,c=z.size,H=z.effects,F=P.OJ();
F.up(z.name);F.Bm(z.visible);F.vz=Math.round(z.opacity*255);var i=A.eZ(z.transform),X=i.Y();X.concat(e);
if(c==null)c={x:0,y:0};var K=new kk(Math.round(X.yK),Math.round(X.ww),Math.round(c.x*X.vx()),Math.round(c.y*X.vx()));
if(K.s==0||isNaN(K.s))K.s=100;if(K.T==0||isNaN(K.T))K.T=100;var f=z.fillPaints,d=z.inheritFillStyleID;
if(d){var $=A.ms(B.l9,d);if($)f=$.fillPaints}if(f==null)f=[];var f=A.aNj(f),L=f[0];if(L&&L.type=="IMAGE"&&A.tW(V,ha.j$(L),B,!0)==null)L=null;
var G=z.strokePaints,d=z.inheritFillStyleIDForStroke;if(d){var $=A.ms(B.l9,d);if($)G=$.fillPaints}if(G==null)G=[];
var G=A.aNj(G),x="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(o)!=-1;
if(x||o=="FRAME"||o=="INSTANCE"){v=new lK.cI;A.agZ(z,V,v);O=T.S.$u(v.B);T.S.Z8(v.B,X);var C=T.R.JY(T.S.O5(v.B));
if(!C.a8())K=C;if(B.b3.i5&&L){var S=lK.cI.QD(B.b3.i5.B);for(var n=2;n<S.length;n++)if(S[n].xq!=null)S[n].xq=3;
v.B=v.B.concat(S.slice(2))}}if(L&&L.type=="IMAGE"){u=L.imageScaleMode;j=!0;var l=L.originalImageWidth,I=L.originalImageHeight;
if(l*I==0){var Q=A.tW(V,ha.j$(L),B);l=Q.hp.s;I=Q.hp.T}var b=l/I,p=c.x/c.y;w=Math.abs(b-p)}if(o=="FRAME"){}else if(x&&O&&j&&(u=="FIT"||u=="FILL"&&w<=.05||u=="STRETCH"&&w<=.05)){var k=A.tW(V,ha.j$(L),B,!0),g=P.Ql(k,F.getName(),0,0);
g.b9=F.b9;g.vz=F.vz;F=g;var Y=new kk(0,0,c.x,c.y);if(u=="FIT"){var R=L.originalImageWidth,m=L.originalImageHeight,Z=Math.min(c.x/R,c.y/m),E=R*Z,N=m*Z;
Y=new kk(Y.x+(Y.s-E)/2,Y.y+(Y.T-N)/2,E,N)}var h=T.R.iR(Y).J;T.R.v(h,X,h);F.add.SoLd.Trnf=W.On.V1(h);
F.add.SoLd.nonAffineTransform=W.On.V1(h);var j5=[],H=z.effects,r=L.paintFilter;if(H)for(var n=0;n<H.length;
n++)if(H[n].type=="FOREGROUND_BLUR"){var l8=H[n],aP=ak.Zq("GsnB",{});j5.push(aP);aP.v.enab.v=l8.visible;
aP.v.Fltr.v.Rds.v.val=l8.radius/2.4}if(r&&r.exposure!=0){var aP=ak.Zq("brit",{});j5.push(aP);aP.v.Fltr.v.Brgh.v=Math.round(r.exposure*160);
aP.v.Fltr.v.useLegacy.v=!0}if(r&&r.vibrance!=0){var aP=ak.Zq("vibA",{});j5.push(aP);aP.v.Fltr.v.Strt.v=Math.round(Math.round(r.vibrance*100))}if(j5.length!=0){F.add.SoLd.filterFX=ak.Ea();
P.Zl({id:F.add.SoLd.placed.v,V:new kk,buffer:T.n(1),Eo:new lK.Eu});F.add.SoLd.filterFX.v.filterFXList.v=j5}F.N7(P,!1);
A.aI3(B,F,P)}else if(x){A.DE(F,v,z,L,G,X,K,V,P,B);if(H)for(var n=0;n<H.length;n++){var l8=H[n];if(l8.type!="FOREGROUND_BLUR")continue;
v.j_=l8.radius/2.4}F.T4();F.ly(P)}else if(o=="TEXT"){var bS=z.textData,kR=bS.layoutSize;if(kR==null)kR=z.size;
var j1=["LEFT","RIGHT","CENTER"].indexOf(z.textAlignHorizontal);if(j1==-1)j1=0;F.add.lnsr="rend";F.add.TySh=dc.Pj(0,0);
F.add.TySh.iB=new kk(0,0,100,100);var f6=X.Y();F.add.TySh.v=f6;var gx=F.add.TySh._1,lC=bS.characters;
if(z.textCase=="TITLE"){for(var n=0;n<lC.length;n++)if(n==0||lC[n-1]==" "){var g2=lC.slice(0,n),dv=lC.slice(n+1);
lC=g2+lC[n].toUpperCase()+dv}}lC=lC.replace(/\u2028/g,"\n");lC=lC.replace(/\u2029/g,"\n");lC=lC.replace(/\r\n/g," \n");
dc.o5(gx,0,lC);var bv=z.textAutoResize,eo=bS.baselines;if(bv=="WIDTH_AND_HEIGHT"){var aL=j1==0?0:j1==1?kR.x:kR.x/2,dh=eo?eo[0].position.y:z.fontSize;
f6.translate(aL*X.vx(),dh*X.vx());dc.M_(gx,0)}else if(bv=="HEIGHT"||bv=="NONE"||bv==null){var dh=eo?eo[0].position.y-z.fontSize*.7:0;
f6.translate(0,dh*X.vx());dc.M_(gx,1);dc.v7(gx,[0,0,Math.round(kR.x),Math.round((bv=="NONE"?1.8:1)*kR.y)])}else throw bv;
if(lC!=""){var eM=dc.jb(gx,0,1);A.auf(z,X,c,eM,F,V,P,B);dc.Vy(gx,0,lC.length,eM);var kg=bS.characterStyleIDs,jJ=bS.styleOverrideTable;
if(kg){kg=kg.slice(0);for(var n=0;n<kg.length;n++)if(lC[n]=="\n")kg[n]=-n-1;var iL=[0],bz=0,ks=0;for(var n=0;
n<kg.length;n++){ks++;var gr=kg[n];if(n==0||gr==kg[n-1]){}else{iL.push(ks-1,n);ks=1}}iL.push(ks);for(var n=0;
n<iL.length;n+=2){var hg=iL[n],ci=iL[n+1];if(lC[hg]=="\n")continue;var gr=kg[hg];if(gr!=0){var fK;for(var jN=0;
jN<jJ.length;jN++)if(jJ[jN].styleID==gr)fK=jJ[jN];var eM=dc.jb(gx,hg,hg+1);A.auf(fK,X,c,eM,F,V,P,B);
dc.Vy(gx,hg,hg+ci-1,eM)}}}}}else if(o=="SYMBOL"){}else if(o=="INSTANCE"&&z.symbolData){var dD=z.symbolData,eF=dD.symbolOverrides,$=A.ms(B.l9,dD.symbolID);
if($)t=$.children;else console.log(z.name,"symbol not found",dD.symbolID);q=q.slice(0);for(var n=0;n<eF.length;
n++)q.push(eF[n])}else console.log(o);if(!1){}else if(t&&!x){P.Z.push(P.cs());var io=!1,la=D==0&&o!="SYMBOL"&&o!="INSTANCE";
if(la){if(K.a8())console.log(K);F.Ig(K)}L=f[f.length-1];if(L&&L.type=="IMAGE"&&A.tW(V,ha.j$(L),B,!0)==null)L=null;
if(la&&L&&L.type=="SOLID"){var e9=L.color;F.add.artb.artboardBackgroundType.v=4;F.add.artb.Clr=A._3(e9)}else if((L||G[0])&&v){var gM=P.OJ();
gM.up("Background");A.DE(gM,v,z,L,G,X,K,V,P,B);gM.T4();gM.ly(P);P.Z.push(gM);io=!0}t.sort(A.aKn);var j7=B.b3;
B.b3={};for(var cI=0;cI<t.length;cI++)A.N5(t[cI],q,X,V,P,D+1,B);B.b3=j7;F.add.lsct=!1?fH._j:fH.OI;F.pi="pass";
var dL=F.Sw();F.b9=24;F.Bm(dL);var cf=D!=0&&f.length!=0&&!z.frameMaskDisabled&&z.containerSupportsFillStrokeAndCorners;
if(!io&&cf&&v){F.add.vmsk=v;F.T4();F.ly(P)}else A.aI3(B,F,P);P.Z.push(F)}else if(o=="FRAME"&&L&&v){A.DE(F,v,z,L,G,X,K,V,P,B);
F.T4();F.ly(P);P.Z.push(F)}else if(z.mask){if(v){B.b3.i5=v}}else{var jA=[],cu=1;if(H)for(var gI=0;gI<H.length;
gI++){var l8=H[gI],fM=l8.color,a7=l8.type,k6=["DROP_SHADOW","INNER_SHADOW"].indexOf(a7);if(k6!=-1){var fv=["DrSh","IrSh"][k6],fq=JSON.parse(az.j3[az.order.indexOf(fv)]);
jA.push([fv,fq]);fq.enab.v=l8.visible;fq.Md.v.BlnM=aA.bi(A.amm(l8.blendMode));fq.Opct.v.val=Math.round(100*fM.a);
fq.blur.v.val=Math.round(l8.radius*X.vx());fq.Clr=A._3(fM);var aL=l8.offset.x,dh=l8.offset.y;fq.uglg.v=!1;
fq.lagl.v.val=Math.round(180/Math.PI*Math.atan2(dh,-aL));fq.Dstn.v.val=Math.round(Math.sqrt(aL*aL+dh*dh)*X.vx())}}if(o=="TEXT"&&f[0]&&f[0].type!="SOLID")cu=0;
for(var n=cu;n<f.length;n++){var ac=f[n],hN=A.g0(z,ac,X,K,V,P,B);if(hN[0]=="GdFl")jA.push(["GrFl",hN[1]]);
else if(hN[0]=="SoCo")jA.push(["SoFi",hN[1]]);else if(hN[0]=="PtFl")jA.push(["patternFill",hN[1]]);else if(hN[0]=="None"){}else throw hN}if(!x)for(var n=0;
n<G.length;n++){var ac=G[n],hN=A.g0(z,ac,X,K,V,P,B);if(hN[0]=="SoCo"){var fq=JSON.parse(az.j3[az.order.indexOf("FrFX")]);
jA.push(["FrFX",fq]);fq.enab=hN[1].enab;fq.Opct=hN[1].Opct;fq.Md=hN[1].Md;fq.Clr=hN[1].Clr;fq.Sz.v.val=Math.round(z.strokeWeight);
var cQ=z.strokeAlign;if(cQ)fq.Styl.v.FStl=az.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(cQ)]}}if(jA.length!=0){var d_=JSON.parse(az.default);
for(var n=0;n<az.order.length;n++)d_[az.cx[n]]={t:"VlLs",v:[]};for(var n=0;n<jA.length;n++){var cK=jA[n],fv=az.cx[az.order.indexOf(cK[0])];
d_[fv].v.unshift({t:"Objc",v:cK[1]})}if(t==null)F.add.lmfx=d_}P.Z.push(F)}};ha.DE=function(z,q,e,V,P,D,B,A,s,a){var M=ha;
z.b9|=16;z.add.vmsk=q;var $=z.add.vstk=az.Y1.g1(),U=M.g0(e,V,D,B,A,s,a);$.fillEnabled.v=U[0]!="None";
if(U[0]=="None"){z.add.SoCo=U[1]}else{M.g9(U,z);z.add[U[0]]=U[1]}var U=M.g0(e,P[0],D,B,A,s,a);if(U[0]!="None"){var $=z.add.vstk;
$.strokeEnabled.v=!0;$.strokeStyleLineWidth.v.val=e.strokeWeight*D.vx();$.strokeStyleLineAlignment.v.strokeStyleLineAlignment=az.Y1.fy[["INSIDE","CENTER","OUTSIDE"].indexOf(e.strokeAlign)];
var o={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[U[0]],t=["SoFi","GrFl","patternFill"].indexOf(o),c=[az.RS,az.dW,az.lA][t];
$.strokeStyleContent.v={classID:az.Y1.U0[0]};var H=e.dashPattern;if(H)$.strokeStyleLineDashSet.v=hB.a$(H,1/e.strokeWeight);
var F=$.strokeStyleContent.v={classID:az.Y1.U0[t]};for(var n=0;n<c.length;n++)F[c[n]]=U[1][c[n]];if(!$.fillEnabled.v)M.g9(U,z)}};
ha.g9=function(z,q){var e=z[1].Opct.v.val;if(e!=100)q.vz=Math.round(q.vz/255*(e/100)*255)};ha.aKn=function(z,q){var e=z.parentIndex.position,V=q.parentIndex.position;
return e>V?1:-1};ha.aNj=function(z){for(var n=1;n<z.length;n++){var q=z[n];if(q.type=="IMAGE"&&q.opacity==1){z=z.slice(n);
break}}for(var n=0;n<z.length;n++){var q=z[n],e=q.imageThumbnail,V=q.type=="IMAGE";if(V&&(q.image==null||q.image.dataBlob==null)&&e&&e.dataBlob)q.image=e;
if(!q.visible||V&&q.image==null){z.splice(n,1);n--}}return z};ha.aI3=function(z,q,e){if(z.b3.i5){q.add.vmsk=z.b3.i5.Y();
q.T4();q.ly(e)}};ha.auf=function(z,q,e,V,P,D,B,A){var s=z.fontSize,a=z.lineHeight,M=z.fontName,$=z.textAlignHorizontal,U=z.textTracking,o=z.textCase,t=z.textDecoration;
if(s==null)s=V.c_.FontSize;if(M){var c=M.postscript;if(c==""){var H=M.family,F=M.style;c=H.split(" ").join("")+"-"+F}dc.v3(V,c)}if(s!=null)V.c_.FontSize=Math.round(s);
if(t=="UNDERLINE")V.c_.Underline=!0;if(U)V.c_.Tracking=Math.round(U*1e3);if(o)V.c_.FontCaps=o=="UPPER"?2:0;
if(a&&(a.units!="PERCENT"||a.value!=100)){if(s==null)s=15;var i=a.value;if(a.units=="PERCENT")i=1*s*i/100;
if(a.units=="RAW")i=1*s*i;V.c_.AutoLeading=!1;V.c_.Leading=Math.round(i)}if($)V.S$.Justification=["LEFT","RIGHT","CENTER"].indexOf($);
var X=z.fillPaints,f=z.inheritFillStyleID;if(f){var d=ha.ms(A.l9,f);if(d)X=d.fillPaints}if(X&&X[0]){var L=ha.g0(z,X[0],q,e,D,B,A);
if(L[0]=="SoCo"){var G=T.Yf.z8(L[1].Clr.v);V.c_.FillColor={Type:1,Values:[1,G.l/255,G.I/255,G.c/255]};
ha.g9(L,P)}}};ha.g0=function(z,q,e,V,P,D,B){var A=ha,s,a,M=z.size;if(M==null)M={x:0,y:0};if(q){var $=q.type,U=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf($);
if($=="SOLID"){s="SoCo";var o=q.color;a=JSON.parse(az.j3[az.order.indexOf("SoFi")]);a.Clr=A._3(o)}else if($=="PATTERN"){s="SoCo";
var o=q.color;a=JSON.parse(az.j3[az.order.indexOf("SoFi")]);console.log($)}else if(U!=-1){var t=JSON.parse(az.j3[az.order.indexOf("GrFl")]),c=t.Grad.v;
c.Intr.v=0;t.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][U];var H=[],F=q.stops;for(var n=0;n<F.length;n++){var i=F[n],X=i.color;
H.push([i.position,[X.r,X.g,X.b],X.a])}T.Yf.WL(H,c);var K=A.eZ(q.transform);K.TG();var f=K.Y();if(M)f.scale(M.x,M.y);
f.concat(e);var d=new f5(0,.5),L=new f5(1,.5);d=f.a0(d);L=f.a0(L);if(!0){d.x=L.x+.5*(d.x-L.x);d.y=L.y+.5*(d.y-L.y)}T.Yf.Lv(d,L,V,t);
if(U==3){if(f.x6*f.at-f.c*f.I$<0)t.Rvrs.v=!t.Rvrs.v}s="GdFl";a=t}else if($=="IMAGE"){var t=JSON.parse(az.j3[az.order.indexOf("patternFill")]),K=A.eZ(q.transform);
K.TG();var G=ha.j$(q),x=B.aNk[G];if(x==null){var O=A.tW(P,G,B);if(O==null)O={data:T.n(4),hp:new kk(0,0,1,1)};
x=B.aNk[G]={};x.id=hq.ky()+"-d71c-11e5-b1ae-a548a96e5f9f";x.dE=[new Uint8Array(O.data),O.hp];if(K.x6<0){var v=x.dE[0].slice(0);
T.O.Um(v,x.dE[0],O.hp.s,O.hp.T)}x.name="someImage";D.hI(x)}if(K.x6<0)K.x6=-K.x6;var C=["FILL","FIT","STRETCH","TILE"].indexOf(q.imageScaleMode),S=C==3?q.scale:1;
hB.aeb(x,t,M.x,M.y,C,e,K,S);s="PtFl";a=t}else if($=="VIDEO"){s="SoCo";a=JSON.parse(az.j3[az.order.indexOf("SoFi")]);
a.Clr=A._3({r:255,g:0,b:255})}else throw $;if(a)a.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(q.opacity*100)}}}if(s==null||q.opacity<.001){s="None";
a={classID:"null",Clr:{t:"Objc",v:T.Yf.e8({l:0,I:0,c:0})}}}return[s,a]};ha.j$=function(z){var q=z.image,e=q.dataBlob;
if(e==null){e="";for(var n=0;n<20;n++)e+=q.hash[n].toString(16).padStart(2,"0")}return e};ha.tW=function(z,q,e,V){if(z[q]){var P=z[q];
if(V)return P.bytes;if(P.rslt)return P.rslt;var D=P.bytes.buffer;P.rslt=ha.a6j(D);return P.rslt}else{if(e.o_==null)return null;
if(V)return e.o_["images/"+q];var B=e.o_["images/"+q];if(B==null)return null;var D=B.buffer;if(e.o_["images/-"+q])return e.o_["images/-"+q];
e.o_["images/-"+q]=ha.a6j(D);return e.o_["images/-"+q]}};ha.a6j=function(z){var q=hZ.J7(z);if(q=="fpng")q="png";
var e=hZ.nw(q);try{var V=e.EY(z)[0];if(V.depth==16){V.depth=8;V.data=T.EZ(new Uint16Array(V.data),8).buffer}return V}catch(cz){return{data:T.n(4),hp:new kk(0,0,1,1)}}};
ha.agZ=function(z,q,e){var V=z.type,P=z.size,D=z.cornerRadius,a;if(D==null)D=0;var B=P.x,A=P.y,s=[D,D,D,D],M=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var n=0;n<4;n++)if(z[M[n]]!=null)s[n]=z[M[n]];if(V=="RECTANGLE"||V=="ROUNDED_RECTANGLE"||V=="FRAME"||V=="INSTANCE"){a=T.S.nU.Rect(0,0,B,A,s)}else if(V=="ELLIPSE"){var $=z.arcData,U=$?$.startingAngle:0,o=$?$.endingAngle:2*Math.PI,t=$?$.innerRadius:0;
if(U==0&&o>1.999*Math.PI)a=T.S.nU.f4(0,0,B,A,0);else a=T.S.nU.anp(B/2,A/2,A/2,U,o);if(t!=0&&t!=1){var c=lK.cI.QD(a).slice(3);
c.reverse();for(var n=0;n<c.length;n++){var H=c[n],F=H.li;H.li=H.kS;H.kS=F}var i=new e5;i.translate(-B/2,-A/2);
i.scale(t,t);i.translate(B/2,A/2);T.S.Z8(c,i);a=a.concat(c);a[2].length*=2}}else if(V=="LINE"){a=T.S.nU.Rect(0,0,B,A,0);
a.pop();a.pop();a[2].length=2}else if(V=="STAR"){a=T.S.nU.q$(B/2,A/2,B/2,2*Math.PI*(1/4),5,0,z.starInnerScale)}else if(V=="REGULAR_POLYGON"){a=T.S.nU.Bf(.5,.5,.5,Math.PI/2,z.count,0);
var X=new e5;X.scale(B,A);T.S.Z8(a,X)}else if(V=="BOOLEAN_OPERATION"){a=[{e:6},{e:8,all:0}];var K=z.children,f=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(z.booleanOperation);
if(f==-1)throw z;if(K==null)K=[];for(var n=0;n<K.length;n++){var d=K[n],L=new lK.cI,G=ha.agZ(d,q,L);
if(L.B==null)continue;T.S.Z8(L.B,ha.eZ(d.transform));a=a.concat(L.B.slice(2))}for(var n=3;n<a.length;
n++)if(a[n].xq!=null)a[n].xq=f}else if(V=="VECTOR"){var x,O,p=3;if(!0){var v=z.vectorData;if(v==null)return;
x=v.normalizedSize;O=v.vectorNetworkBlob}var C=q[O].bytes,S=new Uint32Array(C.buffer),j=new Float32Array(C.buffer),w=S[0],u=S[1],l=S[2],I=[],Q=[],b=[],k=p+w*3,g=k+u*7;
for(var n=0;n<w;n++){var Y=p+n*3;if(Math.abs(j[Y+0])>1e-7)throw"e";I.push(new f5(j[Y+1],j[Y+2]))}for(var n=0;
n<u;n++){var R=k+n*7;Q.push([S[R+0],S[R+1],j[R+2],j[R+3],S[R+4],j[R+5],j[R+6]])}for(var n=0;n<l;n++){var m=S[g+1],Z=b[n]=[];
g+=2;for(var E=0;E<m;E++){var N=S[g++],h=Z[E]=[];for(var j5=0;j5<N;j5++)h[j5]=S[g+j5];g+=N}}if(g!=S.length&&g!=S.length-1)throw"e";
if(b.length==0&&Q.length!=0){var r=new Uint8Array(I.length),l8=new Uint8Array(I.length),aP=-1;for(var n=0;
n<Q.length;n++){var bS=Q[n];r[bS[1]]++;r[bS[4]]++;l8[bS[1]]=1}for(var n=0;n<I.length;n++){if(r[n]==1&&l8[n]==1){aP=n;
break}}if(aP!=-1)for(var n=0;n<Q.length;n++){if(Q[n][1]==aP){var F=Q[0];Q[0]=Q[n];Q[n]=F;break}}var kR=Q[0][4];
for(var n=1;n<Q.length;n++){var j1=-1;for(var E=n;E<Q.length;E++)if(Q[E][4]==kR)j1=E;for(var E=n;E<Q.length;
E++)if(Q[E][1]==kR)j1=E;if(j1!=-1){var f6=0,F=Q[j1];Q[j1]=Q[n];Q[n]=F;if(F[1]!=kR){f6=F[1];F[1]=F[4];
F[4]=f6;f6=F[2];F[2]=F[5];F[5]=f6;f6=F[3];F[3]=F[6];F[6]=f6}}kR=Q[n][4]}b.push([[]]);for(var n=0;n<Q.length;
n++)b[0][0].push(n)}var gx=[],lC=[];for(var g2=0;g2<b.length;g2++){for(var dv=0;dv<b[g2].length;dv++){var bv=b[g2][dv],eo=0;
if(bv.length>1){var aL=Q[bv[0]],dh=Q[bv[1]];eo=aL[4]==dh[1]?1:0}for(var n=0;n<bv.length;n++){var eM=Q[bv[n]],kg=1,jJ=4;
if(eo==0){kg=4;jJ=1}var iL=I[eM[kg]],bz=I[eM[jJ]];if(n==0){lC.push("M");gx.push(iL.x,iL.y)}lC.push("C");
gx.push(iL.x+eM[kg+1],iL.y+eM[kg+2],bz.x+eM[jJ+1],bz.y+eM[jJ+2],bz.x,bz.y)}}}a=T.R.XI({J:gx,_:lC},!1);
if(D!=0){var s=[],ks=a[2].length;for(var n=0;n<ks;n++)s.push(D);if(T.S.hc(a))T.S.h2(a,2,s)}var gr=new e5;
gr.scale(x.x==0?1:P.x/x.x,x.y==0?1:P.y/x.y);T.S.Z8(a,gr)}e.B=a};ha.ms=function(z,q){return z[q.sessionID+","+q.localID]};
ha.aKs=function(z,q){return z.sessionID==q.sessionID&&z.localID==q.localID};ha.amm=function(z){var q={NORMAL:"norm",MULTIPLY:"mul ",LIGHTEN:"lite",SCREEN:"scrn",COLOR_DODGE:"div ",LINEAR_DODGE:"lddg",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",SOFT_LIGHT:"sLit",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",DIFFERENCE:"diff",COLOR:"colr"}[z];
if(q==null)throw z;return q};ha._3=function(z){return{t:"Objc",v:T.Yf.e8({l:z.r*255,I:z.g*255,c:z.b*255})}};
ha.eZ=function(z){if(z==null)return new e5;var q=[z.m00,z.m10,z.m01,z.m11,z.m02,z.m12];for(var n=0;n<6;
n++)if(Math.abs(q[n])<1e-20)q[n]=0;return new e5(q[0],q[1],q[2],q[3],q[4],q[5])};function fY(){}fY.iA=function(){var z=y.JU;
function q(o,t,c,H){var F=H?[]:{};while(t<o.length-1&&o[t]!=125){var i=z(o,t,3),X=z(o,t+3,1),K;t+=4;
t++;if(X=="v"){var f=q(o,t,c+1,i=="ELM"||i=="TIL"||i=="TFS");K=f.u;t=f.g}else if(X=="i"||X=="f"){var d=t;
while(o[d]!=125)d++;var L=z(o,t,d-t);K=X=="i"?parseInt(L,16):parseFloat(L);t=d+1}else if(X=="s"){var G=y.mU(o,t),L="";
t+=2;for(var n=0;n<G;n++)L+=String.fromCharCode(o[t+2*n+1]);K=L;t=t+2*G+1}else if(X=="b"){K=o[t]==49;
t=t+2}else throw"e";if(H)F.push([i,K]);else if(F[i]==null)F[i]=K;else{if(!(F[i]instanceof Array))F[i]=[F[i]];
F[i].push(K)}}t++;return{u:F,g:t}}function e(o,t){var c=V(o).slice(1),o=t.Clr.v;o.Rd.v=c[0]*255;o.Grn.v=c[1]*255;
o.Bl.v=c[2]*255}function V(o){return[(o>>>24&255)/255,(o>>>16&255)/255,(o>>>8&255)/255,(o>>>0&255)/255]}function P(o,t){var c=t&4278190080|(t&255)<<16|(t>>>8&255)<<8|t>>>16&255;
T.FH(o,c)}function D(o,t){var c=o.TSZ,H=o.WPX,F=o.HPX,i=o.TIL,X=new kk(0,0,H,F),K=T.n(H*F*4),f=0;for(var d=0;
d<F;d+=c)for(var L=0;L<H;L+=c){var G=new kk(L,d,c,c),x,O=i[f];if(O[0]=="TMC"){x=T.n(G.D()*4);P(x,O[1])}else if(O[0]=="TID"){x=t[O[1]]}T.aF(x,G,K,X);
f++}return[K,X]}function B(o,t){o=new Uint8Array(o);var c=8,H,F={},u=0;while(c<o.length){var i=y.vQ(o,c);
c+=4;var X=z(o,c,4);c+=4;if(X=="mkTS"){var K=pako.inflate(o.slice(c,c+i)),f=q(K,0,0);H=f.u}else if(X=="mkBT"){var d=y.vQ(o,c+4),L=y.vQ(o,c+8),K=pako.inflate(o.slice(c+76,c+i));
if(L==0)for(var n=0;n<K.length;n+=4){var G=K[n],x=K[n+1],O=K[n+2],v=K[n+3];K[n+3]=G;K[n+2]=v;K[n+1]=O;
K[n]=x}else{var C=T.n(K.length*4);C.fill(255);T.A$(K,C);K=C}F[d]=K}c+=i+4}var S=H.PDC,j=S?S instanceof Array?S:[S]:[H.MKB],w=new kk;
for(var n=0;n<j.length;n++){var l=j[n];w=w.X8(new kk(0,u,l.WID,l.HIT));u+=l.HIT+100}t.s=w.s;t.T=w.T;
t.buffer=T.n(w.D()*4);t.Ic(j.length);u=0;for(var I=0;I<j.length;I++){t.Z.push(t.cs());var l=j[I],Q=l.WID,b=l.HIT,p=l.BGC,k=(l.LYL?l:H).LYL.LAY,R=3;
for(var n=0;n<k.length;n++)s(k[n],t,null,F,new e5(1,0,0,1,-l.XLC,-l.YLC+u));var g=t.OJ();t.Z.push(g);
var Y=new kk(0,u,Q,b);u+=b+100;g.Ig(Y);if(p>>>24!=0){var m=T.Yf.e8({l:p>>>16&255,I:p>>>8&255,c:p>>>0&255});
g.add.artb.Clr={t:"Objc",v:m};R=4}g.add.artb.artboardBackgroundType.v=R;g.up(l.PGN?l.PGN:"Page "+(I+1));
g.add.lsct=fH.OI;g.pi="pass";g.b9=24}}function A(o,t,c){var H=o[t];return H instanceof Array?H[c]:H}function s(o,t,c,H,F){var i=t.OJ();
if(o.VIS!=null)i.Bm(o.VIS);if(o.VIF!=null)i.Bm(o.VIF.VIS);if(o.OPA!=null)i.vz=Math.round(255*o.OPA/1e3);
i.pi=o.CLL||c=="GRP"?"pass":"norm";if(o.BLD!=null){var X=o.BLD,K={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[X+""];
if(K==null)console.log(o.OBN,X);else i.pi=K;if(X==30)i.vz>>>=1}if(o.CLL){i.up(o.LNM);t.Z.push(t.cs());
var f=o.CLL.CEL;if(f.length==null)f=[f];for(var d=f.length-1;d>=0;d--){var L=f[d].ELM;for(var n=L.length-1;
n>=0;n--)s(L[n][1],t,L[n][0],H,F)}i.add.lsct=o.DIS?fH._j:fH.OI;i.b9|=24}else if(c=="URL"){var G=o.LFT,x=o.TOP,O=new kk(F.yK+G,F.ww+x,o.RIT-G,o.BOT-x),v=W.zL.Sh();
v.v.Nm={t:"TEXT",v:o.FIL?o.FIL:""};t.tQ.push(v);W.zL.Ac(t.tQ,t.tQ.length-1,[O.x,O.y,O.x+O.s,O.y+O.T]);
return}else if(c=="GRP"){var C=i.add.lmfx=M(o.EFL),S;t.Z.push(t.cs());var L=o.ELM,w=o.MRM;if(o.MNA){S=L[0][1];
L=L.slice(1)}i.up("Group: "+L.length+" objects");for(var n=L.length-1;n>=0;n--)s(L[n][1],t,L[n][0],H,F);
if(S){if(o.MRX){var u=D(S,H),l=i.Eo=new lK.Eu;l.V=u[1].Y();l.V.x=S.XLC;l.V.y=S.YLC+F.ww;l.o=T.n(l.V.D());
T.bl(u[0],l.o,0);T.TG(l.o)}else{a(i,S,F);i.T4();i.ly(t)}}if(w){a(i,w.PTH,F);i.T4();i.ly(t)}i.add.lsct=fH.OI;
i.b9|=24}else if(c=="IMG"){i.up(o.OBN?o.OBN:"Bitmap");var u=D(o,H);i.V=u[1].Y();i.V.x=o.XLC;i.V.y=o.YLC+F.ww;
i.buffer=u[0]}else if(c=="TXT"){var I=o.TFS,g="";i.add.lnsr="rend";i.add.TySh=dc.Pj(0,0);i.add.TySh.iB=new kk(0,0,100,100);
var Q=new e5(1,0,0,1,o.LFT,o.TOP);if(o.MTX){var b=o.MTX,l=new e5(b.M00,b.M01,b.M10,b.M11,b.M20,b.M21);
Q.concat(l)}Q.concat(F);i.add.TySh.v=Q;var p=i.add.TySh._1,k=dc.jb(p,0,0),Y=A(o,"FON");if(Y)dc.v3(k,Y);
var R=A(o,"PTS");if(R)k.c_.FontSize=Math.round(R);var m=A(o,"ITL");if(m)k.c_.FauxItalic=m;if(o.PAT)k.c_.FillColor={Type:1,Values:V(A(o.PAT,"FCL"))};
for(var n=0;n<I.length;n++){var Z=I[n][0],E=I[n][1];if(Z=="TRN"){E=E.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
E=E.replaceAll("\x03","\n").replaceAll("\r","\n");dc.o5(p,g.length,E);dc.Vy(p,g.length,g.length+E.length,k);
g+=E}else if(Z=="FON")dc.v3(k,E);else if(Z=="PTS")k.c_.FontSize=Math.round(E);else if(Z=="ITL")k.c_.FauxItalic=E;
else if(Z=="UND")k.c_.Underline=E;else if(Z=="FCL")k.c_.FillColor={Type:1,Values:V(E)};else if(Z=="LED"){k.c_.Leading=E*k.c_.FontSize;
k.c_.AutoLeading=!1}else if(Z=="JST")k.S$.Justification=[0,2,1,3,5,4,6,7,8][E]}i.up(g.slice(0,255));
var N=o.RIT-o.LFT,h=o.BOT-o.TOP;if(o.IMG){s(o.IMG,t,"IMG",H,F);var j5=t.Z.pop();i.buffer=j5.buffer;i.V=j5.V.Y()}dc.M_(p,1);
dc.v7(p,[0,0,N,h])}else if(c=="PTH"){i.up(o.OBN?o.OBN:"Path");i.b9|=16;var r=!1;a(i,o,F);var l8=i.add.vmsk,aP=i.add.vstk,bS=T.S.O5(l8.B),kR=o.PAT,j1=kR.BPL,f6=kR.FPL,gx=kR.TXF;
if(f6&&f6.FEF)l8.j_+=f6.FEF/2.4;if(j1){var lC=j1.CAT;aP.strokeEnabled.v=!0;aP.strokeStyleLineWidth.v.val=j1.BDI;
aP.strokeStyleLineAlignment.v.strokeStyleLineAlignment=az.Y1.fy[o.BRP];e(kR.BCL,aP.strokeStyleContent.v);
if(lC!="bc_Basic"&&lC!="bc_Pencil")r=!0}aP.fillEnabled.v=f6!=null;if(f6==null){i.add.SoCo=JSON.parse(az.j3[az.order.indexOf("SoFi")]);
e(0,i.add.SoCo)}else if(f6.CAT=="fc_Solid"){i.add.SoCo=JSON.parse(az.j3[az.order.indexOf("SoFi")]);e(o.PAT.FCL,i.add.SoCo)}else if(f6.CAT=="fc_Linear"||f6.CAT=="fc_Circular"||f6.CAT=="fc_Elliptical"){var g2=f6.CAT=="fc_Linear",dv=i.add.GdFl=JSON.parse(az.j3[az.order.indexOf("GrFl")]),bv=dv.Grad.v,eo=[],aL=f6.FGL,dh,eM=[];
if(aL.FGY){var kg=aL.FGY,dh=kg.FG0.FGI,eM=kg.FG1.FGI}else dh=aL.FGV.FGI;for(var n=0;n<dh.length;n++){var jJ=dh[n],iL=V(jJ.FGC),bz=1;
if(eM.length==dh.length)bz=V(eM[n].FGC)[0];eo.push([jJ.FGP,iL.slice(1),bz])}dv.Type.v.GrdT=g2?"Lnr":"Rdl";
T.Yf.WL(eo,bv);bv.Intr.v=0;var ks=o.PRI?o.PRI:o,gr=new f5(ks.PSX,ks.PSY),hg=new f5(ks.PEX,ks.PEY);if(f6.CAT=="fc_Elliptical"&&ks.PFX!=null){var ci=new f5(ks.PFX,ks.PFY),fK=f5.h5(gr,hg),jN=f5.h5(gr,ci);
if(jN<fK){var dD=fK;fK=jN;jN=dD}hg=new f5(gr.x+(fK+jN)/2,gr.y);if(fK/jN<.5)r=!0}if(g2){gr.x=(gr.x+hg.x)/2;
gr.y=(gr.y+hg.y)/2}T.Yf.Lv(gr,hg,bS,dv)}else console.log(f6.CAT);var C=i.add.lmfx=M(o.EFL,l8);if(f6&&f6.FTB!=0&&gx){var u=D(gx.MSK,H),eF={};
eF.id=hq.ky()+"-d71c-11e5-b1ae-a548a96e5f9f";eF.name="someImage";eF.dE=u;t.hI(eF);var io=u[0];for(var n=0;
n<io.length;n+=4){io[n+3]=255-io[n];io[n]=io[n+1]=io[n+2]=255}var dv=JSON.parse(az.j3[az.order.indexOf("patternFill")]);
dv.Opct.v.val=Math.round(f6.FTB/10);dv.Algn.v=!0;dv.Ptrn.v.Idnt.v=eF.id;C.patternFillMulti.v.unshift({t:"Objc",v:dv})}if(r&&o.IMG){s(o.IMG,t,"IMG",H,F);
var la=t.Z[t.Z.length-1];la.vz=i.vz;return}i.T4();i.ly(t)}else{console.log("unknown layer type",c,o);
i.up("Layer")}t.Z.push(i)}function a(o,t,c){if(t.PBL==null)return;var H=o.add.vmsk=new lK.cI,F=o.add.vstk=az.Y1.g1(!0),i=t.PBL.PBP;
if(!(i instanceof Array))i=[i];for(var X=0;X<i.length;X++){var K=i[X].PBT;if(K==null)continue;if(!(K instanceof Array))K=[K];
var f=i[X].ISC?0:3;H.B.push({e:f,length:K.length,xq:0,HO:2,yL:0,xr:0});for(var n=0;n<K.length;n++){var d=K[n],L=d.XLC,G=d.YLC,x=[L,G,L,G,L,G],O="XPC YPC XLC YLC XSC YSC".split(" ");
for(var v=0;v<6;v++){var C=O[v],S=d[C];if(S!=null)x[v]=S}H.B.push({e:f+2,O0:new f5(L,G),li:new f5(x[0],x[1]),kS:new f5(x[4],x[5])})}}T.S.Z8(H.B,c)}function M(o,t){var c=JSON.parse(az.default);
for(var n=0;n<az.order.length;n++)c[az.cx[n]]={t:"VlLs",v:[]};if(o==null||o.EPS==null)return c;var H=o.EPS;
if(!(H instanceof Array))H=[H];for(var n=0;n<H.length;n++){var F=H[n].DCE,i={};for(var X=0;X<F.length;
X++)i[F[X].DCK]=F[X].DCV;if(i.EffectIsVisible=="false")continue;var K=i.mkbFile_WriteOnly_TemporaryEffectUiName;
if(K=="Gaussian Blur..."&&t){t.j_+=parseFloat(i.gaussian_blur_radius);continue}var f=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(K);
if(f==-1){continue}var d=["DrSh","ebbl","IrGl","OrGl"][f],L=az.cx[az.order.indexOf(d)],G=JSON.parse(az.j3[az.order.indexOf(d)]);
c[L].v.unshift({t:"Objc",v:G});if(d=="DrSh"){G.uglg.v=!1;$(i,"ShadowDistance",G,"Dstn");$(i,"ShadowBlur",G,"blur");
$(i,"ShadowAngle",G,"lagl",180);G.Opct.v.val=100;U(i,"ShadowColor",G,"Clr")}if(d=="IrGl"){G.Md.v.BlnM="Nrml";
var x=i.MaskSoftness,O=i.GlowWidth;if(x&&O){x=parseInt(x);O=parseInt(O);G.blur.v.val=O+x;G.Ckmt.v.val=Math.round(100*O/(O+x))}$(i,"BevelContrast",G,"Opct");
U(i,"OuterBevelColor",G,"Clr")}if(d=="OrGl"){G.Md.v.BlnM="Nrml";var x=i.MaskSoftness,O=i.GlowWidth;if(x&&O){x=parseInt(x);
O=parseInt(O);G.blur.v.val=O+x}$(i,"BevelContrast",G,"Opct");U(i,"OuterBevelColor",G,"Clr")}if(d=="ebbl"){G.uglg.v=!1;
$(i,"BevelWidth",G,"blur");$(i,"AngleSoftness",G,"Sftn");$(i,"BevelContrast",G,"srgR");$(i,"LightAngle",G,"lagl")}}return c}function $(o,t,c,H,F){var i=o[t];
if(F==null)F=0;if(i)c[H].v.val=parseInt(i)+F}function U(o,t,c,H){var F=o[t];if(F){F=F.slice(1);if(F.length==6)F=F+"ff";
if(F.length!=8)throw"e";var i=V(parseInt(F,16)),X=c[H].v;X.Rd.v=i[0]*255;X.Grn.v=i[1]*255;X.Bl.v=i[2]*255;
c.Opct.v.val=Math.round(c.Opct.v.val/100*i[3]*100)}}return B}();var j_=function(){function z(B){var A=new Uint8Array(B.length);
y.Wd(A,0,B);return A}function q(B){var A=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",z("")],s=A.length,M=0;
A.push("<< /AIMetaData  "+(s+2)+" 0 R /AIPrivateData1 "+(s+3)+" 0 R  /AIPrivateData2 "+(s+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
A.push(z(""));A.push(z(""));A.push(B);var a=new k7,$=[];function U(H){y.QQ(a,M,H);M+=H.length}U("%PDF-1.5\n");
for(var n=0;n<A.length;n++){$.push(M);U(n+1+" 0 obj\n");var o=A[n];if(typeof o=="string")U(A[n]+"\n");
else{var t=pako.deflate(o);U("<< /Length "+t.length+" /Filter [ /FlateDecode ] >>\nstream\n");a.iU(M,t.length);
a.data.set(t,M);M+=t.length;U("\nendstream\n")}U("endobj\n")}var c=M;U("xref\n0 "+($.length+1)+"\n0000000000 65535 f\r\n");
for(var n=0;n<$.length;n++)U(($[n]+"").padStart(10,"0")+" 00000 n\r\n");U("trailer\n<< /Root 1 0 R /Size "+($.length+1)+" >>\nstartxref\n"+c+"\n%%EOF\n");
return a.data.slice(0,M)}function e(B,A){var s=Date.now(),a=new Uint8Array(B),M,$=a[2]==68;if(A)console.log(!$?"EPS":"PDF");
if($){var U=y.yD(a,"/AIMetaData "),d,L,G;while(a[U]!=60)U--;U--;var o=y.yD(a,">>",U),t=y.JU(a,U+2,o-U-2).split("/"),c=[];
for(var n=0;n<t.length;n++){var H=t[n],F=H.startsWith("AIPrivateData"),i=H.startsWith("AIPDFPrivateData");
if(!F&&!i)continue;var X=H.trim().split(/\s+/),K=parseInt(X[1]),f=parseInt(X[0].slice(F?13:16));c.push([f,K])}if(A)console.log("--- map made",Date.now()-s);
s=Date.now();while(!0){var x=FromPDF.indexOfXref(a),O=[],v=FromPDF.readXrefTrail(a,x,O),C={buff:a,off:0},S=!1;
d=new Array(c.length);L=!1;G=!1;for(var n=0;n<c.length;n++){var f=c[n][0],K=c[n][1],l=0;if(O[K]==null){S=!0;
break}var j=FromPDF.getIndirect(K,0,C,O),w=j.buff,u=j["/Filter"];if(u!=null&&typeof u=="string")u=[u];
if(w==null){S=!0;break}var I=y.JU(w,l,l+20);if(I=="%AI12_CompressedData"){l+=20;L=!0}else if(I=="%AI24_ZStandard_Data"){l+=20;
G=!0}w=new Uint8Array(w.buffer,w.byteOffset+l,w.length-l);if(u)for(var Q=0;Q<u.length;Q++){var b=u[Q];
if(b=="/FlateDecode")w=pako.inflate(w);else if(b=="/ASCIIHexDecode")w=FromPS.F.HexDecode({buff:w,off:0});
else if(b=="/ASCII85Decode")w=FromPS.F.ASCII85Decode({buff:w,off:0});else throw b}d[f-1]=w}if(S){console.log("extra xref after AI");
a=a.slice(0,x);continue}break}if(A)console.log("--- arrays found",Date.now()-s);s=Date.now();var p=y.JU(d[0],0,13);
if(p=="%%BoundingBox"||p=="%AI7_Thumbnai")d=d.slice(1);if(p=="%AI24_ZStanda"){d[0]=d[0].slice(20);G=!0}if(y.JU(d[0],0,13)=="%AI12_Compres"){d[0]=d[0].slice(20);
L=!0}M=V(d);if(A)console.log("--- concatenated",Date.now()-s);s=Date.now();if(L)M=UZIP.inflate(M);if(G)M=hZ.op.L8(M);
if(A)console.log("--- inflated",Date.now()-s);s=Date.now()}else{var k=y.vK(a);if(k.indexOf("%AI5_BeginLayer")!=-1||k.indexOf("%AI5_NumLayers")!=-1){M=a}else{var g=k.split(/[\n\r]+/),Y=[],R=!1;
for(var m=0;m<g.length;m++){var Z=g[m].trim();if(Z=="%AI9_PrivateDataEnd"){R=!1;break}else if(Z=="%AI9_DataStream"||Z=="%AI24_DataStream"){R=!0}else if(R)Y.push(Z.slice(1))}var E=y.GY(Y.join("")),N=FromPS.F.ASCII85Decode({buff:E,off:0});
if(N[0]==120&&N[1]==156)M=UZIP.inflate(N);else M=hZ.op.L8(N)}}return M}function V(B){var A=0,a=0;for(var n=0;
n<B.length;n++)A+=B[n].length;var s=new Uint8Array(A);for(var n=0;n<B.length;n++){var M=B[n];s.set(M,a);
a+=M.length}return s}function P(B){var A=0,s=[];while(A<B.length){var a=B[A],M=a.charCodeAt(0);if(a==" ")A++;
else if(a==","||a==";"||a==":"){s.push(a);A++;var $=s[s.length-2];if($=="/ASCII85Decode"){var U=A+1;
while(B[U]!="~"||B[U+1]!=">")U++;U+=2;var o=B.slice(A,U),t=FromPS.F.ASCII85Decode({off:0,buff:y.GY(o)});
s.push(t);A=U}if($=="/StrokeStyle"||$=="/FillStyle"||$=="/BlendStyle"||$=="/SimpleStyle"||$=="/SmoothShadingStyle"){var U=A+1;
while(B[U]!=";")U++;s.pop();s.pop();s.push(B.slice(A,U));s.push("/String");A=U+1}}else if(a=="("){var U=A+1;
while(!(B[U]==")"&&(B[U-1]!="\\"||B[U-2]=="\\")))U++;var c=B.slice(A+1,U);s.push(c);A=U+1}else if(a=="/"||a=="-"||48<=M&&M<=57){var U=A;
while(B[U]!=" ")U++;s.push(B.slice(A,U));A=U}else if(a=="X"&&B[A+1]=="="){var U=A,H=0;while(!0){if(B[U]=="X"&&B[U+1]=="="){H++}if(B[U]=="X"&&B[U+1]=="+"&&B[U+2]==" "){H--;
if(H==0)break}U++}s.push(B.slice(A+3,U));s.push("/String");A=U+2}else{console.log(s);console.log(B.slice(A-600,A+10));
throw a}}return s}function D(B){var A={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},s={},a=P(B.join(" ")),M=[],$=parseFloat;
while(a.length!=0){var U=a.shift();if(U=="/Recorded"||U=="/NotRecorded"){continue}else if(U=="/Dict"){M.pop();
var o=M.pop();M[M.length-1][U]=o}else if(U=="/Execution"){M.pop();var o=M.pop();M[M.length-1][U]=o}else if(U=="/Part"){M.pop();
var o=M.pop(),t=M[M.length-1];if(t[U]==null)t[U]=[];t[U].push(o);a.shift()}else if(U=="/Def"){M.pop();
var c=M.pop(),H=M[0];if(s[H]==null)s[H]=[];if(H=="/KnownStyle"){c={val:c};c[M.pop()]=M.pop()}M.pop();
s[H].push(c);a.shift()}else if(U==":"){var H=M.pop();if(H=="/Dictionary"||H=="/ArtDictionary"||H=="/XMLNode"||H=="/Mask"||H=="/ActiveStyle")M.push({});
else if(H=="/CompoundFilter"||H=="/BasicFilter"){M.push({typ:"Filter"})}else if(H=="/SVGFilter"||H=="/KnownStyle"){M.push(H)}else if(H=="/Array"||H=="/Document")M.push([]);
else if(H=="/Binary"){var F=a.shift();if(F!="/ASCII85Decode")throw"e";a.shift();M.push(a.shift())}else if(H=="/XMLUID"||H=="/XMLUIDREF"){a[1]=H}else if(H=="/GObjRef"){M.push(a.shift());
M.push("/String");a.shift();a.shift()}else{console.log(M);console.log(a);throw H}if(a[0]=="/NotRecorded"){a.shift();
a.shift()}}else if(U==","){var i=M.pop(),H,X;if(i[0]=="/"&&i[1]==i[1].toUpperCase()&&i[1]!="\\"||i==";"){H=i;
i=null}else H=M.pop();if(H=="/Name"){M.push(H);continue}if(A[H]){X=M.slice(M.length-A[H]);for(var n=0;
n<A[H];n++)M.pop();var K=M.pop();K[H]=X;M.push(K);continue}if(H=="/RealPoint"||H=="/RealPointRelToROrigin"){var f=M.pop();
X=[$(M.pop()),$(f)]}else if(H=="/RealMatrix"){X=[];for(var n=0;n<6;n++)X.push($(M.pop()));X.reverse()}else if(H=="/String"&&typeof M[M.length-1]!="string")X="";
else{var top=M.pop();if(H==";")X=top;else if(H=="/String"||H=="/UnicodeString"||H=="/XMLUID"||H=="/XMLUIDREF"){X=top;
while(typeof M[M.length-1]=="string")X=M.pop()+X}else if(H=="/Int"||H=="/Real")X=$(top);else if(H=="/Bool")X=top=="1";
else throw JSON.stringify(H)}if(M.length==0)throw"e";var K=M.pop();if(i==null&&!(K instanceof Array)){alert("key is null in a Dict");
continue}if(i)K[i]=X;else K.push(X);M.push(K)}else M.push(U)}return M.length==0?s:M[0]}return{aeJ:e,amV:q,as3:D}}();
function jw(){}jw.iA=function(){function z(v,C,S){var j=!1,w=Date.now(),u=j_.aeJ(v,j);if(u==null)return;
if(j)console.log("part found",Date.now()-w);w=Date.now();var l=G(u);if(l.Layer==null)l.Layer=[{_begin:l.Setup._end,_end:u.length}];
var I=l.Layer,Q=l.Header;if(j)console.log(l);var b=l.Setup.TextDocument,p=I[0];p=l.Layer[0];if(j)console.log("document parsed",Date.now()-w);
w=Date.now();l.Setup.Gradient=L(l.Setup.Gradient,u);if(j)console.log("grads loaded",Date.now()-w);w=Date.now();
l.Setup.Pattern=f(l.Setup.Pattern,u);if(j)console.log("patts loaded",Date.now()-w);w=Date.now();l.Setup.Palette=d(l.Setup.Palette,u);
if(j)console.log("palet loaded",Date.now()-w);w=Date.now();l.Setup.DocumentData=K(l.Setup.DocumentData,u);
if(j)console.log("docdata loaded",Date.now()-w);w=Date.now();l.Setup.SVGFilter=K(l.Setup.SVGFilter,u);
if(j)console.log("svgfilter loaded",Date.now()-w);w=Date.now();var k=l.Setup.ArtStyles;if(k){l.Setup.ArtStyles=K(k,u)}var g=l.Setup.Palette;
for(var n=0;n<g.length;n++){var Y=g[n],R=Y[0],m=Y[1][0];if(R==null)R=Y[1][1];var Z=l.Setup.Gradient[R];
if(m==0)C.RM.push([R,Y[1][1]]);if(m==1)C.RM.push([R,[Z.DO,Z.ae3,0,0]]);if(m==2)C.RM.push([R,[R,0]])}var E=Q.Cropmarks,N=Q.BoundingBox.split(" ").map(parseFloat),h=Q.ArtSize?Q.ArtSize.split(" ").map(parseFloat):[N[2]-N[0],N[3]-N[1]];
C.s=Math.round(Math.abs(h[0]));C.T=Math.round(Math.abs(h[1]));var j5=[1,0,0,1,-N[0]+(C.s-(N[2]-N[0]))/2,-N[1]+(C.T-(N[3]-N[1]))/2];
j5[3]=-1;j5[5]=C.T-j5[5];if(E){E=E.split(" ").map(parseFloat);C.s=Math.round(E[2]-E[0]);C.T=Math.round(E[3]-E[1]);
j5=[1,0,0,-1,-E[0],C.T+E[1]]}console.log(l);var r=l.Setup.DocumentData,l8=[],aP=[];if(r&&r[0]&&r[0].ArtboardArray){var l8=r[0].ArtboardArray;
if(l8.length!=1)console.log(l8.length,"artboards");var bS=new kk;for(var n=0;n<l8.length;n++){var kR=l8[n],j1=kR.PositionPoint1,f6=kR.PositionPoint2,gx=j1[0],lC=Math.min(j1[1],f6[1]),g2=f6[0],dv=Math.max(j1[1],f6[1]),bv=new kk(gx,lC,g2-gx,dv-lC);
aP.push(bv);bS=bS.X8(bv)}C.s=Math.round(bS.s);C.T=Math.round(bS.T);j5[4]=-bS.x;j5[5]=bS.y+C.T}if(r&&r[0]&&r[0]["#document"]){var eo=r[0]["#document"],aL=eo["xmlnode-children"][0];
if(aL&&aL["xmlnode-children"])aL=aL["xmlnode-children"][0];if(aL&&aL["xmlnode-nodename"]=="variableSets"){var dh=aL["xmlnode-children"][0]["xmlnode-children"],eM=dh[0],kg=dh[1],jJ=O(eM);
C.G5=dE.aGG("<variableSets><variableSet>"+jJ+"</variableSet></variableSets>");if(kg){var iL=O(kg),bz=C.gd=dE.asQ(iL);
for(var n=0;n<bz.length;n++)for(var ks=0;ks<bz[n].length;ks++)bz[n][ks]=bz[n][ks].trim()}}}var gr=1/fp.FT(new kk(0,0,C.s,C.T),8192*8192);
if(Math.max(C.s*gr,C.T*gr)<800)gr*=2;while(S&&Math.max(C.s*gr,C.T*gr)<Math.max(S[0],S[1]))gr++;if(cW==1)gr=1;
C.s=Math.round(C.s*gr);C.T=Math.round(C.T*gr);C.do=Math.round(72*gr);for(var n=0;n<6;n++)j5[n]*=gr;var hg=[];
if(l8.length!=[1,0][cW]){var ci=cW==0?C.Z:[];ci.push(C.cs());for(var n=0;n<aP.length;n++){var kR=l8[n],bv=aP[n],fK=C.OJ();
fK.up(kR.Name);ci.push(fK);fK.add.SoCo=JSON.parse(az.j3[az.order.indexOf("SoFi")]);var jN=fK.add.SoCo.Clr.v;
$(jN,[1,1,1]);var gx=bv.x,lC=bv.y,g2=gx+bv.s,dv=lC+bv.T,dD=[gx,lC,g2,lC,g2,dv,gx,dv];T.R.v(dD,o(j5),dD);
H(fK,{cmds:["M","L","L","L","Z"],crds:dD},C,0);fK.add.vstk=az.Y1.g1(!0);var eF=T.R.mB(dD);hg.push({Q7:kR.Name,sI:[eF.x,eF.y,eF.x+eF.s,eF.y+eF.T],j:kR.IsArtboardSelected})}var fK=C.OJ();
fK.up("_Artboards_");fK.add.lsct=fH.OI;fK.pi="pass";fK.b9=24;ci.push(fK)}else hg=[{Q7:"Artboard",sI:[0,0,C.s,C.T],j:!0}];
if(cW==1)C.add.arts=hg;e=[0,0,0];V=[0,0,0];P="SoCo";D="SoCo";for(var io=0;io<I.length;io++){var la=I[io];
la.Raster=q(la,"Raster");la.Place=q(la,"Place");var e9=i(u,la);B(C,e9,j5,l,la,u)}if(cW==0)for(var n=0;
n<C.Z.length;n++){var fK=C.Z[n];if(fK.Qe){C.Z.splice(n,1);var gM,j7=0;for(var ks=n;ks<C.Z.length;ks++){gM=C.Z[ks];
if(gM.add.lsct==fH.pR)j7++;else if(gM.YZ())j7--;if(j7==-1)break}gM.add.vmsk=fK.add.vmsk;gM.add.vogk=fK.add.vogk;
fK.add.vmsk.Ug=!0;gM.ly(C)}}else{}if(S){C.To();var cI=C.root.$i();W.hV.Tm(C,cI)}if(j)console.log("layers created",Date.now()-w);
w=Date.now()}function q(v,C){var S=v.Layer,j=v[C];if(j==null)j=[];if(S){for(var n=0;n<S.length;n++){var w=S[n],u=w[C]=q(w,C);
j=j.concat(u)}j.sort(function(l,I){return l._begin-I._begin})}return j}var e,V,P,D;function B(v,C,S,j,w,u){var l=[],I=0,Q="",b=!1,p={},k=UDOC.G,g=UDOC.getState(),R="norm",m=1,Z=0,E=!1,N=0,h=!1,j5=!0,r=null,l8=null,aP=!1,bS=!1,kR=0,j1=null,f6,gx,lC=0,g2=0,dv=0,eM=0,kg=!1;
g.ctm=S;var Y=az.kQ.g1(),bv=[0,0],eo=[],aL=[],dh=[];for(var jJ=0;jJ<C.length;jJ++){var iL=C[jJ],fK=1e9;
if(iL[0]=="%"){if(iL=="%_/ArtDictionary :"&&kR==0){r=[iL.slice(2)]}else if(r!=null){if(iL=="%_"&&kR==0){var bz=j_.as3(r),ks=v.Z[v.Z.length-1],gr=bz.AI10_ArtUID,hg=bz.BBAccumRotation;
if(gr&&!gr.startsWith("XMLID"))ks.up(x(gr));if(hg&&ks.add.vmsk==null&&v.Z[v.Z.length-2])ks=v.Z[v.Z.length-2];
if(hg&&ks.add.vmsk)ks.add.vmsk.HR=parseFloat(hg);r=null}else{r.push(iL.slice(aP?1:2));if(iL=="%_X=")kR++;
if(iL=="%_X+")kR--;if(iL=="%_/Binary : /ASCII85Decode ,")aP=!0;if(aP&&iL.endsWith("~>"))aP=!1}}else if(j1){f6+=(f6==""?"":" ")+iL.slice(2);
if(f6.endsWith("X#")){j1.push(f6.slice(0,f6.length-3));f6=""}}else if(iL.startsWith("%BeginData:"))bS=!0;
else if(iL.endsWith("%EndData"))bS=!1;continue}else if(iL.endsWith("%EndData"))bS=!1;else if(iL=="/Mesh X!"){j1=[];
f6="";continue}else if(iL=="/End X!"){a(j1,g,v);j1=null;continue}if(iL!="XI"&&bS)continue;var ci="Xa XR m l c f Q q U u *U w W h n J j M d".split(" "),jN=-1,dD=iL.indexOf("(")!=-1;
for(var n=0;n<ci.length;n++){var eF=iL.indexOf(" "+ci[n]+" ");if(eF!=-1&&eF<fK&&!dD){fK=eF;jN=n}}if(jN!=-1){b=!0;
var io=fK+1+ci[jN].length;C[jJ]=iL.slice(0,io);var la=C[jJ+1];if(la==null||la[0]=="%"||jN>9)C.splice(jJ+1,0,iL.slice(io));
else C[jJ+1]=(iL.slice(io)+" "+la).replace(/\s\s+/g," ");jJ--;continue}iL=iL.trim();var e9=iL.split(" "),gM=e9[e9.length-1],j7=gM.toLowerCase(),cI=e9.map(parseFloat);
if(gM=="m")k.moveTo(g,cI[0],cI[1]);else if(gM=="L"||gM=="l")k.lineTo(g,cI[0],cI[1]);else if(gM=="V"||gM=="v"){var dL=g.pth.crds,cf=g.cpos[0],jA=g.cpos[1];
k.curveTo(g,cf,jA,cI[0],cI[1],cI[2],cI[3]);var gI=dL.length;dL[gI-6]=cf;dL[gI-5]=jA}else if(gM=="Y"||gM=="y")k.curveTo(g,cI[0],cI[1],cI[2],cI[3],cI[2],cI[3]);
else if(gM=="C"||gM=="c")k.curveTo(g,cI[0],cI[1],cI[2],cI[3],cI[4],cI[5]);else if(gM=="H"||gM=="h"){if(gM==j7)k.closePath(g);
if(!E){var fM=v.OJ();v.Z.push(fM);fM.up("<Clipping Path>");fM.Qe=!0;fM.add.vstk=az.Y1.g1();fM.add.SoCo=JSON.parse(az.j3[az.order.indexOf("SoFi")]);
H(fM,g.pth,v,Z)}else h=!0}else if(gM=="XR"){Z=cI[0]}else if(gM=="Xy"){R=jw.aaP[cI[0]];m=cI[1];if(R==null){R="norm";
console.log("unknown blend mode",cI[0])}}else if(gM=="Xd"){var ks=v.Z[v.Z.length-1];ks.vz=Math.round(255*m);
ks.pi=ks.YZ()&&R=="norm"?"pass":R}else if(gM=="AE")lC=cI[0];else if(gM=="Ae")g2=cI[0];else if(gM=="Xw")dv=cI[0];
else if(gM=="*"){var a7=g.pth.crds,k6=g.ctm,eF=a7[0]==a7[2]?0:1;v.r3.push([eF,a7[eF]]);k.newPath(g)}else if(gM=="XN")gx=iL.split(" ")[0];
else if(gM=="XI"){var fv=w.Raster,fq,cu,hJ;if(fv==null||fv.length==0){console.log("no Raster");continue}if(iL!="XI"){continue}else{var ac=fv[I++];
if(ac.Data)ac=ac.Data;var hN=ac._begin,cQ=ac._end;while(u[hN]!=88)hN++;hN+=3;fq=u.slice(hN,cQ);cu=C[jJ-2].split(" ").map(parseFloat)}var d_=cu.slice(8),cK=d_[2],cc=d_[3],aH=cK*cc,jj=T.n(aH*4);
jj.fill(255);var iG=d_[7],hc=d_[8],kD=d_[6],l2=Math.ceil(cK*iG*kD/8);if(iG==1){if(kD==8)for(var n=0;
n<aH;n++)for(var fZ=0;fZ<3;fZ++)jj[4*n+fZ]=fq[n];else if(kD==1)for(var g5=0;g5<cc;g5++)for(var d4=0;
d4<cK;d4++)for(var fZ=0;fZ<3;fZ++)jj[4*(g5*cK+d4)+fZ]=255*(fq[g5*l2+(d4>>>3)]>>>7-(d4&7)&1);else throw kD}else if(iG==3)for(var n=0;
n<aH;n++)for(var fZ=0;fZ<3;fZ++)jj[4*n+fZ]=fq[3*n+fZ];else if(iG==4||iG==5){for(var n=0;n<aH;n++){jj[4*n+0]=fq[iG*n+0];
jj[4*n+1]=fq[iG*n+1];jj[4*n+2]=fq[iG*n+2];jj[4*n+3]=fq[iG*n+3]}T.afx(jj);for(var n=0;n<aH;n++)jj[n*4+3]=255}else if(iG==7)for(var n=0;
n<aH;n++){jj[4*n+0]=fq[iG*n+0];jj[4*n+1]=fq[iG*n+1];jj[4*n+2]=fq[iG*n+2]}else console.log("unknown number of channels",iG);
if(hc==1){var hx=cc*l2;for(var n=0;n<aH;n++)jj[4*n+3]=fq[hx+n]}if(cK*cc<700*700)hJ="PNG";else if(Math.max(cK,cc)>32768)hJ="PNG";
else hJ=T.mS(jj,cK,cc)?"JPG":"PNG";var gU=hZ.nw(hJ).gB([[jj.buffer]],cK,cc),lg=v.Ql(new Uint8Array(gU),"<Image>",0,0);
v.Z.push(lg);lg.pi=R;lg.vz=Math.round(255*m);lg.Bm(dv==0);var gW=new e5;gW.scale(1,-1);gW.concat(o(cu.slice(1)));
gW.concat(o(g.ctm));var iF=lg.add.SoLd,aO=iF.Sz.v,kX=new kk(0,0,aO.Wdth.v,aO.Hght.v),e9=T.R.iR(kX).J;
T.R.v(e9,gW,e9);lg.add.SoLd.Trnf=W.On.V1(e9);lg.add.SoLd.nonAffineTransform=W.On.V1(e9);lg.N7(v,!1)}else if(gM=="Ln"){l.push(M(iL))}else if(gM=="u"||gM=="q"||gM=="Lb"){if(gM=="Lb"){v.add.prvw=cI[1];
dh.push(cI.slice(8,11))}eo.push(g2==1);aL.push((gM=="Lb"?1-cI[0]:dv)==0);if(E)continue;v.Z.push(v.cs())}else if(gM=="U"||gM=="Q"||gM=="LB"){if(eo.length==0||aL.length==0)throw jJ;
var e3=eo.pop(),k5=aL.pop();if(gM=="LB")e3=lC==1;if(E)continue;var lg=v.OJ();lg.up((gM=="U"?"<Group>":"<Clip Group>")+Q);
if(gM=="LB"){lg.up(l.pop());lg.go=dh.pop()}lg.add.lsct=e3?fH._j:fH.OI;lg.pi="pass";lg.b9=24;lg.Bm(k5);
v.Z.push(lg);if(kg){if(v.Z[v.Z.length-3].getName()=="</Layer group>"){v.Z.pop();v.Z.splice(v.Z.length-2,1)}kg=!1}}else if(gM=="Bb")j5=cI[0]!=1;
else if(gM=="BB"){}else if(gM=="Bm"||gM=="Bc"||gM=="Xm"){}else if(gM=="Bh")bv=cI.slice(2,4);else if(gM=="Bg"){var h0=j.Setup.Gradient,aS=h0[M(iL)],e9=iL.slice(iL.indexOf(")")+2).split(" ").map(parseFloat);
if(aS==null){console.log("gradient not found");for(var jM in h0){aS=h0[jM];break}}var bW=e9[10];if(isNaN(bW))bW=1;
var hS=e9.slice(0,4);hS.push(bW,bv[0],bv[1]);if(Math.max(Math.abs(hS[0]),Math.abs(hS[1]))>20){hS[0]=0;
hS[1]=0;hS[3]=1;console.log("strange gradient")}var ap=[aS.DO,aS.ae3,hS,e9.slice(4,10)];s(ap,"GdFl",j5)}else if(j7=="p"&&1<iL.length&&iL.length<100){var dB=M(iL),f8=j.Setup.Pattern[dB],bu=f8.sI,cK=Math.round(bu[2]-bu[0]),cc=Math.round(bu[3]-bu[1]);
if(v.m7[dB]==null){var bz=new hq,fO=Math.sqrt(Math.abs(S[0]*S[3]-S[1]*S[2])),gW=new e5(1,0,0,-1,-f8.sI[0],cc+f8.sI[1]);
gW.concat(new e5(fO,0,0,fO,0,0));var iQ=[e,V,P,D];e=[0,0,0];V=[0,0,0];P="SoCo";D="SoCo";B(bz,f8.CI,e5.bM(gW),j,w,u);
bz.s=Math.round(cK*fO);bz.T=Math.round(cc*fO);bz.To();bz.Kv();if(cW==0){bz.buffer=T.n(bz.s*bz.T*4);bz.n9()}e=iQ[0];
V=iQ[1];P=iQ[2];D=iQ[3];v.m7[dB]=bz}var gb=iL.slice(iL.indexOf(")")+2),k9=gb.slice(0,gb.indexOf("[")-1).split(" ").map(parseFloat),e2=gb.slice(gb.indexOf("[")+1,gb.indexOf("]")).split(" ").map(parseFloat),gW=new e5(1,0,0,-1,0,cc);
gW.concat(e5.aBN(e2));s([dB,[k9,e5.bM(gW)]],"patt",gM=="p")}else if(gM=="J"||gM=="j"||gM=="w"||gM=="M"||gM=="d"){var gW=g.ctm,fO=Math.sqrt(Math.abs(gW[0]*gW[3]-gW[1]*gW[2]));
for(var n=1;n<e9.length;n++){var cB=e9[n],iY=cI[n-1];if(cB=="w")Y.e6=iY*fO;if(cB=="j")Y.o3=iY;if(cB=="J")Y.vZ=iY;
if(cB=="M")Y.E5=iY;if(cB=="d"){var e_=iL.slice(iL.indexOf("[")+1,iL.indexOf("]")).trim();if(e_.length!=0){var fL=e_.split(" ").map(parseFloat);
Y.Nn=fL;for(var fZ=0;fZ<fL.length;fZ++)fL[fZ]*=fO}else if(e_=="")Y.Nn=[]}}}else if(j7=="xa"||j7=="xx"){var jI=c(iL);
s(jI,"SoCo",gM=="Xa"||gM=="Xx")}else if(j7=="xk"){jI=c(iL);s(jI,"SoCo",gM=="Xk")}else if(j7=="k"||j7=="x"){jI=c(iL);
s(jI,"SoCo",gM==j7)}else if(j7=="g"){var jI=[cI[0],cI[0],cI[0]];s(jI,"SoCo",gM==j7)}else if(j7=="n"){if(!E)k.newPath(g)}else if(gM=="*u"){E=!0;
N=0;aL.push(dv==0)}else if(gM=="*U"||j7=="s"||j7=="f"||j7=="b"){if(gM!="*U"&&E){if(j7=="f"||j7=="b")N|=1;
if(j7=="s"||j7=="b")N|=2;continue}if(gM==j7)k.closePath(g);if(gM=="*U"){E=!1}var lg;{lg=v.OJ();lg.b9|=16;
H(lg,g.pth,v,Z);var gi=j7=="f"||j7=="b"||gM=="*U"&&N&1,hu=j7=="s"||j7=="b"||gM=="*U"&&N&2,bk=lg.add.vstk=az.Y1.g1(gi,hu),lG=T.G(Y);
lG.oO=[];lG.i8=[];if(gi)lG.oO=e;if(hu)lG.i8=V;if(cW==0){az.Y1.write(bk,lG);if(P=="SoCo"){lg.add.SoCo=JSON.parse(az.j3[az.order.indexOf("SoFi")]);
var h8=lg.add.SoCo.Clr.v;$(h8,e)}if(P=="GdFl"){lg.add.GdFl=jw.sX(e,lg.add.vmsk.B)}if(P=="patt"){lg.add.PtFl=A(e,v)}if(hu){var iR=["SoCo","GdFl","patt"].indexOf(D),bm=iR==0?{Clr:{t:"Objc",v:kF.tw(V)}}:iR==1?jw.sX(V,lg.add.vmsk.B):A(V,v),bL=[az.RS,az.dW,az.lA][iR],je=bk.strokeStyleContent.v={classID:az.Y1.U0[iR]};
for(var n=0;n<bL.length;n++)je[bL[n]]=bm[bL[n]]}}else lg.add.vstl=lG}if(gM=="*U"&&h){lg.Qe=!0;h=!1}lg.up("<"+(gM=="*U"?"Compound ":"")+"Path>"+Q);
lg.pi=R;lg.vz=Math.round(255*m);lg.Bm(gM=="*U"?aL.pop():dv==0);lg.ly(v);v.Z.push(lg);k.newPath(g)}else if(gM==","&&e9[0]=="/XMLUID"){var ks=v.Z[v.Z.length-1];
for(var n=0;n<v.G5.length;n++)if("("+v.G5[n].docRef+")"==e9[2])v.G5[n].docRef="id('"+ks.add.lyid+"')"}else if(gM==","&&e9[1]=="/FreeUndo"){eM=cI[0]}else if(gM==","&&e9[1]=="/StoryIndex"){var ea=j.Setup.TextDocument,dq=null;
if(!(ea instanceof Array))window.ahb=ea=j.Setup.TextDocument=X(ea,u);var hU=ea[0],fn=ea[2];if(hU._DocumentResources)hU=ea[0]=kT.abd(hU);
else kT.avC(hU);var lg=v.OJ();lg.add.lnsr="rend";lg.add.TySh=dc.Pj(0,0);var hi=cI[0];if(eM==1){for(var n=1;
n<60;n++){var la=C[jJ+n];if(la&&la.endsWith("/StoryIndex ,")){hi=parseFloat(la.slice(2,la.indexOf(" ")));
kg=!0;break}}eM=0}var lF=ga.a9R(hU),iZ=lg.add.TySh._1=lF[hi];if(iZ==null){console.log("text not found");
kg=!1;continue}lg.up(dc.VQ(iZ).slice(0,50));lg.pi=R;lg.vz=Math.round(255*m);lg.Bm(dv==0);var dY=hU._1._1[hi]._1._0[0]._0;
dY=parseInt(dY.slice(1));var fI=hU._0._8._0,f9=fI[dY]._0;if(f9._0)dq=U(f9._0);else if(f9._1)dq=U(f9._1._0);
else dq=U(f9._2._2).slice(3);if(dq.length!=2){var bu=T.R.mB(dq);dq=[bu.x,bu.y];if(bu.D()!=0){dc.M_(iZ,1);
dc.v7(iZ,[0,0,Math.round(bu.s),Math.round(bu.T)])}}var g$=new e5,aq=new e5(1,0,0,1,dq[0],dq[1]),aD=new e5(1,0,0,1,-fn[0],-fn[1]),b1=o(g.ctm),hC=new e5;
if(f9._2&&f9._2._2){var S=U(f9._2._2);hC=o(S)}g$.concat(aq);g$.concat(hC);g$.concat(aD);g$.scale(1,-1);
g$.concat(b1);lg.add.TySh.v=g$;v.Z.push(lg);v.HA=!0}else if(gM=="Tp"){p.Hn=o(cI)}else if(gM=="Tf"){p.font=e9[0].slice(2)}else if(gM=="Tk"){var lg=v.OJ();
lg.add.lnsr="rend";var dx=lg.add.TySh=dc.Pj(0,0),iZ=dx._1,gW=p.Hn.Y(),aO=gW.vx();gW.concat(o(g.ctm));
var eP=new e5(1/aO,0,0,-1/aO,0,0);eP.concat(gW);dx.v=eP;var d3=M(iL);lg.up(d3);dc.o5(iZ,0,d3);var a$=dc.jb(iZ,0,d3.length);
a$.c_.FontSize=aO;a$.c_.FillColor={Type:1,Values:[1,e[0],e[1],e[2]]};dc.v3(a$,p.font);dc.Vy(iZ,0,d3.length,a$);
v.Z.push(lg);v.HA=!0}else if(b&&cI.length>3){var bM=!1;for(var n=0;n<cI.length;n++)if(isNaN(cI[n]))bM=!0;
if(!bM)C[jJ+1]=(iL+" "+C[jJ+1]).replace(/\s\s+/g," ")}}}function A(e,v){if(v.a6H==null)v.a6H={};var C=v.a6H[e[0]];
if(C==null){var S=v.m7[e[0]],C=v.a6H[e[0]]={};C.id=hq.ky()+"-d71c-11e5-b1ae-a548a96e5f9f";C.name="someImage";
C.dE=[S.tW(),new kk(0,0,S.s,S.T)];v.hI(C)}var j=JSON.parse(az.j3[az.order.indexOf("patternFill")]);j.Ptrn.v.Idnt.v=C.id;
var w=o(e[1][1]),u=-Math.atan2(-w.c,w.x6);j.Angl.v.val=Math.round(u*180/Math.PI);j.Scl.v.val=Math.round(100*w.vx());
return j}jw.sX=function(v,C){var S=jw.w4(v,C),j=[0,0,1,0];if(v[0]==0)j[0]=.5;T.R.v(j,S,j);var w=JSON.parse(az.j3[az.order.indexOf("GrFl")]),u=w.Grad.v;
u.Intr.v=0;w.Type.v.GrdT=["Lnr","Rdl"][v[0]];T.Yf.WL(v[1],u);T.Yf.Lv(new f5(j[0],j[1]),new f5(j[2],j[3]),T.S.O5(C),w);
return w};jw.BV=function(v,C,S){var j={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[v.Type.v.GrdT],w=T.S.O5(C);
if(S&&v.Algn&&!v.Algn.v)w=new kk(0,0,S.s,S.T);var u=T.Yf.akb(v,w),l=u[0],I=u[1];if(j==0){l.x-=I.x-l.x;
l.y-=I.y-l.y}var Q=I.x-l.x,b=I.y-l.y,p=Math.sqrt(Q*Q+b*b),k=new e5;k.rotate(Math.atan2(-b,Q));k.scale(p,p);
k.translate(l.x,l.y);var g=jw.cV(j,k,C),Y=v.Grad.v;g[1]=T.Yf.aGs(Y,null,null);return g};jw.KJ=function(v,C,S){var j=f5.h5(v,C),w=new e5;
w.scale(j,j);w.rotate(-Math.atan2(C.y-v.y,C.x-v.x));w.translate(v.x,v.y);if(S)w.concat(S);return w};
jw.a6N=function(v,C,S,j,w){if(C&&!j.bs(C)){var u=Math.atan2(-(S.y-C.y),S.x-C.x);if(w!=null||u!=0){var l=new e5;
l.translate(-C.x,-C.y);l.scale(1,w);l.rotate(u);l.translate(C.x,C.y);l.TG();j=l.a0(j)}var I=Math.atan2(-(j.y-C.y),j.x-C.x);
v[2][5]=I*180/Math.PI;v[2][6]=f5.h5(j,C)/f5.h5(S,C)}};jw.cV=function(v,C,S){var j=C.Y(),Q,b,p=1;j.TG();
var w=lK.cI.QD(S);T.S.Z8(w,j);var u=T.S.O5(w),l=u.s,I=u.T;if(v==0){var k=new e5;k.translate(-u.x,-u.y);
k.translate(-l/2,-I/2);var g=jw.aIu(l,I,0);k.scale(1/g,1/g);k.scale(1/l,1/I);Q=k.yK+.5;b=k.ww+.5;p=k.x6}else{Q=-u.x/l-.5;
b=-u.y/I-.5;var Y=(Q-.5)*l/2,R=(b-.5)*I/2;p=1/Math.sqrt(2*(Y*Y+R*R))}var m=[v,null,[Q,b,0,p,1,0,0],[C.x6,C.c,C.I$,C.at,C.yK,C.ww]];
return m};jw.w4=function(v,C){var S=v[0],j=v[2],w=v[3],u=o(w);u.TG();var l=lK.cI.QD(C);T.S.Z8(l,u);var I=T.S.O5(l),Q=I.s,b=I.T,p=j[0],k=j[1],g=j[2]*Math.PI/180,Y=j[3],R=new e5;
if(S==0){R.scale(Y,Y);R.translate(p-.5,k-.5);R.scale(Q,b);R.rotate(g);var m=jw.aIu(Q,b,g);R.scale(m,m);
R.translate(Q/2,b/2)}else{var Z=(p-.5)*Q/2,E=(k-.5)*b/2,m=Y*Math.sqrt(2*(Z*Z+E*E));R.scale(m,m*j[4]);
R.rotate(g);R.translate((p+.5)*Q,(k+.5)*b)}R.translate(I.x,I.y);R.concat(o(w));return R};function s(v,C,S){if(S){P=C;
e=v}else{D=C;V=v}}function a(v,C,S){var j=UDOC.G,w=[],u=[],l="/DeviceGray",I=1,Q=[],b=1;for(var p=0;
p<v.length;p++){var k=v[p];if(k.endsWith(" /CS")){var g=k.indexOf("/NChannel"),Y=k.indexOf("/Process");
if(k.startsWith("/DeviceRGB")){l="/DeviceRGB";I=3}else if(k.startsWith("/DeviceGray")){l="/DeviceGray";
I=1}else if(k.startsWith("/DeviceCMYK")){l="/DeviceCMYK";I=4;Q=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(g!=-1){l="/DeviceCMYK";
I=parseInt(k.slice(g-2,g-1));var R=1;for(var n=0;n<I;n++){R=k.indexOf("[",R);Q[I-1-n]=k.slice(R+1,R+8).split(" ").map(parseFloat);
R++}}else if(Y){l="/DeviceGray";I=1}else throw k}else if(k[0]=="["){var m=k.indexOf("]"),Z=k.slice(1,m).split(" ").map(parseFloat),E=k.slice(m+2),N,h,j5,r,l8,aP;
if(E=="/Size"||E=="/P"||E=="/R")continue;if(E=="/S"||E=="/A"){N=Z[0];h=Z[1];j5=Z[2];r=Z[3];l8=Z[4];aP=Z[5]}else if(E=="/N"){var bS=I+(b==1?0:1),kR;
N=Z[bS+0];h=Z[bS+1];j5=Z[bS+2];r=Z[bS+3];l8=Z[bS+5];aP=Z[bS+6];if(l=="/DeviceRGB")kR=Z.slice(0,3);else if(l=="/DeviceGray")kR=[Z[0],Z[0],Z[0]];
else if(l=="/DeviceCMYK"){var j1=[0,0,0,0];for(var n=0;n<I;n++){var f6=Z[n],gx=Q[n];j1[0]+=f6*gx[0];
j1[1]+=f6*gx[1];j1[2]+=f6*gx[2];j1[3]+=f6*gx[3]}kR=t(j1)}else throw kR;kR.push(Z[I]);u.push([kR,N,h])}else throw E;
w.push([E,l8,aP,N,h,j5,r])}else if(k=="/E"){var lC=w.slice(0),g2=0;for(var n=0;n<w.length;n++){var dv=w[n][0];
if(dv=="/N"){g2++;continue}var bv=n,eo=n+1;while(w[eo][0]!="/N"&&eo<w.length)eo++;if(g2==0||g2==3){for(var aL=0;
aL<eo-bv;aL++)lC[bv+aL]=w[eo-1-aL]}else for(var aL=bv;aL<eo;aL++){var dh=lC[aL],eM=dh[1];dh[1]=dh[5];
dh[5]=eM;eM=dh[2];dh[2]=dh[6];dh[6]=eM}n=eo-1}w=[];for(var n=0;n<lC.length;n++){var dh=lC[n];w.push(dh[1],dh[2],dh[3],dh[4],dh[5],dh[6])}var kg=w.length;
j.moveTo(C,w[2],w[3]);for(var n=0;n<kg;n+=6){var j5=w[(n+4)%kg],r=w[(n+5)%kg],l8=w[(n+6)%kg],aP=w[(n+7)%kg],N=w[(n+8)%kg],h=w[(n+9)%kg];
j.curveTo(C,j5,r,l8,aP,N,h)}j.closePath(C);w=[]}else if(k.endsWith("/Version"))b=parseFloat(k[0])}var jJ=S.OJ();
jJ.b9|=16;jJ.up("<Mesh>");var iL=jJ.add.vstk=az.Y1.g1(!0);if(u.length>=2){var bz=0,ks=0,gr=0;for(var n=0;
n<u.length;n++)for(var aL=n+1;aL<u.length;aL++){var hg=u[n][0],ci=u[aL][0],fK=hg[0]-ci[0],jN=hg[1]-ci[1],dD=hg[2]-ci[2],eF=Math.sqrt(fK*fK+jN*jN+dD*dD);
if(eF>gr){gr=eF;bz=n;ks=aL}}var io=u[bz],la=u[ks],e9=[[0,io[0],1,.5],[1,la[0],1,.5]],gM=o(C.ctm),j7=gM.a0(new f5(io[1],io[2])),cI=gM.a0(new f5(la[1],la[2]));
if(j7.bs(cI))cI.x+=1;if(cW==0){var dL=jJ.add.GdFl=JSON.parse(az.j3[az.order.indexOf("GrFl")]),cf=dL.Grad.v;
cf.Intr.v=0;dL.Type.v.GrdT="Lnr";T.Yf.WL(e9,cf);var jA=T.R.mB(C.pth.crds);j7.x=(j7.x+cI.x)/2;j7.y=(j7.y+cI.y)/2;
T.Yf.Lv(j7,cI,jA,dL);H(jJ,C.pth,S,0)}else{var gI=jJ.add.vstl=az.kQ.g1();gI.i8=[];var fM=jw.KJ(j7,cI,new e5);
H(jJ,C.pth,S,0);gI.oO=jw.cV(0,fM,jJ.add.vmsk.B);gI.oO[1]=e9}}else H(jJ,C.pth,S,0);S.Z.push(jJ);j.newPath(C)}function M(v){var C=v.indexOf(")");
while(v[C-1]=="\\")C=v.indexOf(")",C+1);return v.slice(v.indexOf("(")+1,C).replaceAll("\\","")}function $(v,e){v.Rd.v=e[0]*255;
v.Grn.v=e[1]*255;v.Bl.v=e[2]*255}function U(v){var C=[];for(var n=0;n<v.length;n++)C[n]=parseFloat(v[n].slice(1));
return C}function o(v){return e5.aBN(v)}function t(v){return T.DQ(v.slice(0,4)).slice(0,3)}function c(v){var C=v.split(" "),S=C[C.length-1],j=S.toLowerCase(),w=C.map(parseFloat),u=null;
if(j=="xa"||j=="xx"||j=="xz"){var u=w[4]==null?w.slice(0,3):[w[4],w[5],w[6]];if(j=="xx"&&w[w.length-2]==2)u=t(w)}else if(j=="g")u=t([0,0,0,1-w[0]]);
else if(j=="x"||j=="k"){if(j=="x"){w.pop();var l=1-w.pop();for(var n=0;n<4;n++)w[n]*=l}u=t(w)}else if(j=="xk"){var I=w[w.length-2],Q=w[w.length-3];
if(I==0)u=t(w);else if(I==1){u=[w[4],w[5],w[6]];for(var n=0;n<3;n++)u[n]=Q*1+(1-Q)*u[n]}else throw v}else throw j;
return u}function H(v,C,S,j){v.add.vmsk=new lK.cI;if(C.crds.length!=0)v.add.vmsk.B=F(C);v.add.vmsk.HO=j;
v.T4();v.ly(S)}function F(v){var C={J:v.crds,_:v.cmds},S=T.R.XI(C,!1);return S}function i(v,C){var S=[],g=0,Z=0;
for(var j=0;j<2;j++){var w=C[["Raster","Place"][j]];if(w==null)continue;for(var n=0;n<w.length;n++){for(var u=0;
u<3;u++){var l=w[n][["Data","Document","PlacedObjectPreview"][u]];if(l==null)continue;if(l._begin!=null)l=[l];
for(var I=0;I<l.length;I++){var Q=l[I],b=Q._begin,p=Q._end;if(b>p)b=p;S.push([b,p])}}}}S.sort(function(N,h){return N[0]-h[0]});
var k=[C._begin];for(var n=0;n<S.length;n++){var Y=S[n],b=Y[0]+32;k.push(b,Y[1]);g+=Y[1]-b}k.push(C._end);
var R=C._end-C._begin,m=new Uint8Array(R-g);for(var n=0;n<k.length;n+=2){var b=k[n],E=k[n+1]-b;m.set(new Uint8Array(v.buffer,b,E),Z);
Z+=E}return y.vK(m).split(/\r\n|\r|\n/)}function X(v,C){if(v==null)return[];var S=i(C,v),j="",w="",u=0,l;
for(var n=2;n<S.length;n++){var I=S[n];if(I[0]=="%"){if(u==0)j+=I.slice(1);else w+=I.slice(1)}else if(I==";")u++;
else if(I.endsWith("/RulerOrigin ,"))l=I.split(" ").slice(0,2).map(parseFloat)}var Q=[j,w],b=[];for(var n=0;
n<2;n++){var p=Q[n],k=new Uint8Array(p.length);y.Wd(k,0,p);var g=FromPS.F.ASCII85Decode({buff:k,off:0}),Y=dC.iA(g);
b.push(Y)}b.push(l);return b}function K(v,C){if(v==null)return[];var S=i(C,v);S=S.slice(1);for(var n=0;
n<S.length;n++){var j=S[n];if(j.startsWith("%AI17_Begin_Content_if_version_gt")||j=="%AI17_Alternate_Content"||j=="%AI17_End_Versioned_Content")S[n]="";
else if(j[0]=="%")S[n]=j.slice(j[1]=="_"?2:1)}var w=j_.as3(S);return w}function f(v,C){var S={};if(v==null)return S;
for(var n=0;n<v.length;n++){var j=i(C,v[n]),w=j[1],u=M(w),l=w.slice(w.lastIndexOf(")")+2).split(" ").map(parseFloat),I=[];
for(var Q=2;Q<j.length;Q++)I.push(j[Q].slice(2));S[u]={sI:l,CI:I}}return S}function d(v,C){var S=[],w,u;
if(v==null)return S;var j=i(C,v);for(var n=1;n<j.length;n++){var l=j[n];if(l=="0 0 Pb"||l=="PB"||l==""){}else if(l.endsWith("Xa")||l.endsWith("Xz")||l.endsWith("Xx")||l.endsWith("Xk")||l.endsWith(" g")||l.endsWith(" x")||l.endsWith(" k"))w=[0,c(l)];
else if(l.endsWith("Xs"))w=[0,[0,0,0]];else if(l.endsWith("Bg"))w=[1,M(l)];else if(l.endsWith("Pg")||l.endsWith("p"))w=[2,M(l)];
else if(l[0]=="(")u=M(l);else if(l=="Pc")S.push([u,w]);else if(l=="0 BB"||l=="Bb"||l.endsWith("Bh")){}else if(l.startsWith("%AI17_")){}else throw l}return S}function L(v,C){var S={},j,w;
if(v==null)return S;var u=[];for(var n=0;n<v.length;n++){var l=i(C,v[n]);for(var I=0;I<l.length;I++){var Q=l[I];
if(Q.endsWith("%_Bs")){var b=Q.slice(0,Q.length-4);if(!b.endsWith(" "))b+=" ";Q=b+"%_BS"}if(Q[0]=="("){j=M(Q);
var p=Q.slice(Q.lastIndexOf(")")+2).split(" ");w=parseInt(p[0])}else if(Q.endsWith("%_BS")){var k=Q.split(" "),m,Z=1;
k.pop();k=k.map(parseFloat);var g=k.pop(),Y=k.pop(),R=k.pop();if(R==0)m=[k[0],k[0],k[0]];else if(R==2||R==4)m=[k[4],k[5],k[6]];
else if(R==1||R==3)m=t(k);else if(R==6){if(k.length==3)m=[k[0],k[0],k[0]];else if(k.length>=8&&Q.indexOf("(")==-1)m=k.slice(4,7);
else m=t(k);Z=k.pop()}else{throw R}u.push([g/100,m,Z,Y/100])}else if(Q=="BD"){u.sort(function(E,N){return E[0]-N[0]});
S[j]={DO:w,ae3:u};u=[]}}}return S}function G(v){var C="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider Document".split(" "),S=Date.now(),j=0,w=[],u={Header:{}},l=[u],I=v.length;
while(j<I){var Q=j;while(Q!=I&&v[Q]!=13&&v[Q]!=10){Q++}if(v[j]==37&&v[j+1]==95&&v[j+2]==37)j+=2;if(v[j]==37&&(v[j+1]==37||v[j+1]==65)){var b=y.JU(v,j,Q-j);
if(b=="%%EOF")break;if(b=="%%EndComments"||b=="%EndComments"||b=="%AI5_Begin_NonPrinting"||b=="%AI5_End_NonPrinting--"||b.startsWith("%AI17_Begin_Content_if_version_gt")||b=="%AI17_End_Versioned_Content"){}else{var p=b.indexOf("Begin"),k=Math.max(b.indexOf("_End"),b.indexOf("%End"));
if(p!=-1&&b[p-1]!="%"&&b[p-1]!="_")p=-1;if(p!=-1){var g=b.slice(p+5).split(":")[0],Y={_begin:j,_end:j},R=l[l.length-1];
if(C.indexOf(g)!=-1){if(R[g]==null)R[g]=[];R[g].push(Y)}else{if(R[g]!=null){console.log(l);throw b}R[g]=Y}l.push(Y);
if(b.startsWith("%%BeginData")){Q=y.yD(v,"%%EndData",j)}else if(b.slice(0,15)=="%%BeginDocument")Q=y.yD(v,"%%EndDocument",Q);
else if(b=="%AI9_BeginDocumentData")Q=y.yD(v,"%AI9_EndDocumentData",Q);else if(b=="%AI11_BeginTextDocument")Q=y.yD(v,"%AI11_EndTextDocument",Q)}else if(k!=-1){if(l.length>1)l.pop()._end=j}else if(l.length==1&&(b.startsWith("%AI")||b.startsWith("%%")&&b.indexOf(" ")!=-1)){var m=1;
if(b.startsWith("%AI"))while(b[m]!="_"&&m<b.length)m++;var Z=b.indexOf(":");if(Z==-1)Z=b.indexOf(" ");
var E=b.slice(m+1,Z),N=b.slice(Z+1).trim();u.Header[E]=N}}}j=Q;if(v[j]==13)j++;if(v[j]==10)j++}return u}function x(v){var C="";
for(var n=0;n<v.length;n++){if(v[n]=="_"&&v[n+1]=="x"){var hE=parseInt(v.slice(n+2,n+4),16);C+=String.fromCharCode(hE);
n+=4}else if(v[n]=="_")C+=" ";else C+=v[n]}return C}function O(v){var C="xmlnode-nodename",S="xmlnode-nodevalue",j="xmlnode-attributes",w="xmlnode-children",u=v[C].split(":").pop().replace("#",""),l=v[j],I=v[w],Q="<"+u;
for(var b in l)if(b!="xmlns"&&b!="xmlns:v")Q+=" "+b.split(":").pop()+"=\""+l[b][S]+"\"";Q+=">"+(I.length==0?"":"\n");
for(var n=0;n<I.length;n++)Q+=O(I[n]);if(v[S])Q+=v[S];return Q+"</"+u+">\n"}return z}();jw.aIu=function(z,q,e){var V=T.R.iR(new kk(0,0,z,q)).J,P=new e5;
P.rotate(e);T.R.v(V,P,V);var D=T.R.mB(V);return D.s/z};jw.aaP="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",");
jw.iO=function(){function z(t){var c=72/t.do,H=new e5(c,0,0,-c,0,0),F=t.root.children,i=[],X={iW:[],Nb:{},BY:0},f=16383,r=0,aP=0;
for(var n=0;n<t.RM.length;n++){var K=t.RM[n];if(K[1].length==4)U(K[1],X,K[0])}for(var n=0;n<F.length;
n++)s(F[n],t,H,X,i,0);var d=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+f+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
d.push("%%BeginSetup\r");d=d.concat(X.iW);for(pn in t.m7){var L=t.m7[pn],G=t.do/72;d.push("%AI3_BeginPattern: ("+pn+")");
d.push("("+pn+") 0 0 "+Math.round(L.s/G)+" "+Math.round(L.T/G));var F=L.root.children,x=[];for(var n=0;
n<F.length;n++)s(F[n],L,H,X,x,1);x=window.ags;for(var n=0;n<x.length;n++){var O=x[n];d.push(O.startsWith("%_")?O:"%_"+O)}d.push("E","%AI3_EndPattern")}if(t.RM.length!=0){d.push("%AI5_BeginPalette","0 0 Pb");
for(var n=0;n<t.RM.length;n++){var K=t.RM[n],v="("+K[0]+")",C=K[1].length;if(K[0]=="[Registration]")d.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(C==3)d.push(A(T.VB(K[1]).concat(K[1]))+" "+v+" 0 1 Xk");else if(C==4)d.push("Bb","0 0 0 0 Bh",K[1][0]+1+" "+v+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(C==2)d.push(v+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");d.push(v,"Pc")}d.push("PB","%AI5_EndPalette")}d=d.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var S=t.add.arts;for(var n=0;n<S.length;n++){var j=S[n];console.log(j);var w=j.sI[0]*c,u=-j.sI[1]*c,l=j.sI[2]*c,I=-j.sI[3]*c;
d.push("/Dictionary :","("+j.Q7+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",f/2+" "+f/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",e(w)+" "+e(u)+" /RealPointRelToROrigin"," (PositionPoint1) ,",e(l)+" "+e(I)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}d=d.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var Q=[],b=[];for(var n=0;n<t.Z.length;n++){var p=t.Z[n],k=p.add.TySh;if(k){Q.push(k._1);b.push(k)}}if(Q.length!=0){var g=ga.ayr(Q,null,null);
function Y(j){return j.map(function(bS){return"f"+bS})}for(var R=0;R<Q.length;R++){var k=b[R],m=g._1._1[R],Z=m._1._0[0]._0;
Z=parseInt(Z.slice(1));var E=g._0._8._0[Z]._0,N=k.v.Y();N.concat(H);N.scale(1,-1);E._2._2=Y([N.x6,N.c,N.I$,N.at,N.yK,N.ww])}var h=q(g),j5=q(g);
d.push("%AI11_BeginTextDocument");d.push("/AI11TextDocument : /ASCII85Decode ,");d=d.concat(h);d.push("0.0001 0.0001 /RulerOrigin ,");
d.push(";");d.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");d=d.concat(j5);d.push(";");d.push("%AI11_EndTextDocument")}d.push("%%EndSetup\r");
d=d.concat(i);d.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var n=0;n<d.length;n++){var j=d[n];if(typeof j=="string")j=d[n]=y.GY(j);r+=j.length+1}var l8=new Uint8Array(r);
for(var n=0;n<d.length;n++){var j=d[n];l8.set(j,aP);aP+=j.length;l8[aP]=13;aP++}return j_.amV(l8).buffer}function q(t){var c=new k7,H=dC.Ft(t,c)-2,F=o(c.data.slice(0,H)),i=[];
for(var X=0;X<F.length;X+=100){if(F.length-X<103){i.push("%"+F.slice(X));break}i.push("%"+F.slice(X,X+100))}return i}function e(hE){return hE.toFixed(3)}function V(t,c){var H=t.getName(),F=null;
c.push("%_/ArtDictionary :");if(t.add.vmsk)F=t.add.vmsk.HR;if(t.add.SoLd){var i=T.O.gK(t.add.SoLd);F=Math.atan2(-i.c,i.x6)}if(t.add.TySh){var i=t.add.TySh.v;
F=Math.atan2(-i.c,i.x6)}if(F!=null&&F!=0)c.push("%_("+F+") /String (BBAccumRotation) ,");if(t.add.TySh)c.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!H.startsWith("<")&&!H.endsWith(">")){c.push("%_/XMLUID : "+P(H)+" ; (AI10_ArtUID) ,")}c.push("%_;","%_")}function P(t){var c="";
for(var n=0;n<t.length;n++){var H=t[n],F=t.charCodeAt(n);if(H==" ")c+="_";else if(H=="."||H==":"||H=="-"||48<=F&&F<=57||65<=F&&F<=90||97<=F&&F<=122||127<F)c+=H;
else c+="_x"+F.toString(16).toUpperCase()+"_"}return"("+c+")"}function D(t,c,H){H.push(A(t)+" "+c)}function B(t){return"[ "+A(t)+" ]"}function A(t){return t.map(e).join(" ")}function s(t,c,H,F,i,X){var K=t.H;
if(X!=0)i.push("0 A",(K.Sw()?0:1)+" Xw");if(K.YZ()){var f=!1;for(var n=0;n<t.children.length;n++)if(t.children[n].H.Qe)f=!0;
var d=K.add.lsct==fH._j?1:0;if(X==0){i.push("%AI5_BeginLayer");i.push((K.Sw()?1:0)+" "+c.add.prvw+" 1 1 0 0 1 -1 "+K.go.join(" ")+" 0 100 0 Lb");
i.push("("+K.getName()+") Ln");i.push(d+" AE");V(K,i)}else{i.push(d+" Ae");i.push(f?"q":"u")}for(var n=0;
n<t.children.length;n++)s(t.children[n],c,H,F,i,X+1);if(X==0)i.push("LB","%AI5_EndLayer--");else{i.push(f?"Q":"U");
V(K,i);a(K,i);i.push("0 0 Xd","6 () XW")}}else if(!0){a(K,i);var L=K.add.TySh,G=K.add.vmsk;if(L){i.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",F.BY+" /StoryIndex ,");
if(dc.hQ(L._1)==1){var x=dc.s0(L._1),O=T.R.iR(new kk(x[0],x[1],x[2],x[3])).J;T.R.v(O,L.v,O);T.R.v(O,H,O);
i.push("/Art :","X=","1 Ap",O[0]+" "+O[1]+" m",O[2]+" "+O[3]+" L",O[4]+" "+O[5]+" L",O[6]+" "+O[7]+" L",O[0]+" "+O[1]+" L","n","X+","; /ConfiningPath ,")}i.push("2 /TextAntialiasing ,",";");
F.BY++}else if(K.add.SoLd){var v,C,S,j=K.add.SoLd,w=j.Idnt.v,u=c.VH(w,j.Crop?j.Crop.v:null),l=u.De,v=l[0],C=l[1];
S=T.O.gK(j);var I=new e5(1,0,0,-1,0,0);I.concat(S);I.concat(H);var Q=C.D(),b=C.s,p=C.T,k=T.n(Q*4+8);
for(var n=0;n<Q;n++){var g=n*4,Y=n*3;k[Y]=v[g];k[Y+1]=v[g+1];k[Y+2]=v[g+2];k[3*Q+n]=v[g+3]}y.Wd(k,Q*4,"%EndData");
i.push("%AI5_File:","%AI5_BeginRaster",B([I.x6,I.c,I.I$,I.at,I.yK,I.ww])+" 0 0 "+[b,p,b,p].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(Q*4+4),"XI",k,"XH","%AI5_EndRaster","N")}else if(G){var R=K.add.vstl,m,Z;
if(R){m=R.oO;Z=R.i8;if(m.length==0)m=null;if(Z.length==0)Z=null}var E=T.S.S2(G.B,!0)>1;if(E)i.push("*u","0 Xw");
if(m){if(m.length==3)D(m,"Xa",i);else if(m.length==4){var N=$(m,F);i.push("Bb",N,"2 BB")}else{i.push("("+m[0]+") "+m[1][0].join(" ")+" ["+m[1][1].join(" ")+"] p")}}if(Z){var h=H.vx(),j5=R.Nn.slice(0);
for(var n=0;n<j5.length;n++)j5[n]*=h;i.push(R.vZ+" J "+R.o3+" j "+R.e6*h+" w "+e(R.E5)+" M ["+j5.join(" ")+"]0 d");
if(Z.length==3)D(Z,"XA",i);else if(Z.length==4){var N=$(Z,F);i.push("1 Bb",N,"2 BB")}else{i.push("("+Z[0]+") "+Z[1][0].join(" ")+" ["+Z[1][1].join(" ")+"] P")}}var r=T.R.EP(G.B,1);
T.R.v(r.J,H,r.J);var l8=K.Qe?"h\nW\nn":m&&Z?"b":m?"f":"s";M(r,l8,G.HO,i);if(E)i.push("*U")}V(K,i)}else{var aP=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
i=i.push(aP.join("\n"))}}function a(t,c){var H=jw.aaP.indexOf(t.pi);if(H==-1)H=0;c.push(H+" "+e(t.vz/255)+" 0 0 0 Xy")}function M(t,c,H,F){F.push(H+" XR");
var i=0;for(var X=0;X<t._.length;X++){var K=t._[X],f,d=0,L="";if(K=="M"){d=2;f="m"}if(K=="L"){d=2;f="l"}if(K=="C"){d=6;
f="c"}for(var n=0;n<d;n++)L+=e(t.J[i+n])+" ";i+=d;if(d!=0)F.push(L+f);if(X==t._.length-1||t._[X+1]=="M"){F.push(K=="Z"?c:c.toUpperCase())}}}function $(t,c){var H=U(t,c),F="";
if(t[0]==1)F="0 0 "+t[2].slice(5).map(e).join(" ")+" Bh\n";return F+"1 ("+H+") "+t[2].slice(0,4).map(e).join(" ")+" "+t[3].map(e).join(" ")+" "+e(t[2][4])+" Bg"}function U(t,c,H){var F=t[0],i=t[1].slice(0),X=F+"-"+JSON.stringify(i);
if(c.Nb[X])return c.Nb[X];console.log(H);var K=c.Nb[X]=H?H:"grd"+c.iW.length;c.iW.push("%AI5_BeginGradient: ("+K+")","("+K+") "+F+" "+i.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(F==0)i=i.reverse();for(var n=0;n<i.length;n++){var f=i[n];if(f[3]==null)throw"e";var d=T.VB(f[1]),L=100*f[3],G=d.concat(f[1]).map(e).join(" ")+" 2 "+e(f[2])+" 6 "+L+" "+e(f[0]*100);
c.iW.push(G+" %_BS");c.iW.push("%_"+G+" Bs")}c.iW.push("BD","%AI5_EndGradient");return K}function o(t){var c=[85*85*85*85,85*85*85,85*85,85,1],H="",F=t.length,i=new Uint8Array(4),X=new Uint32Array(i.buffer);
for(var n=0;n<F;n+=4){var K=F-n;i[3]=t[n];i[2]=K>1?t[n+1]:0;i[1]=K>2?t[n+2]:0;i[0]=K>3?t[n+3]:0;var f=X[0],d=1+Math.min(4,K);
for(var L=0;L<d;L++){var G=Math.floor(f/c[L]);H+=String.fromCharCode(33+G);f-=G*c[L]}}return H+"~>"}return z}();
function fg(){}fg.iA=function(){var z,q,e,V,P,D=!0,B=!0,f,d,L;function A(b){return D?y.iM(z,b):y.vQ(z,b)}function s(b){return D?y.iJ(z,b):y.mU(z,b)}function a(b){return D?y.Nj(z,b):y.my(z,b)}function M(b){return y.iJ(z,b)}function $(b){return y.iM(z,b)}function U(b){return y.Zy(z,b)}function o(b,p){if(b+p*4>z.length)throw p;
var k=[];for(var n=0;n<p;n++)k.push(A(b+n*4));return k}function t(b,p){var k=[];for(var n=0;n<p;n++)k.push(a(b+n*8));
return k}function c(b){return $((b+1)*4096-12)}function H(b){return $((b+1)*4096-8)}function F(b,q,p,k){if(V[b]==null)V[b]=[];
V[b].push([k,new Uint8Array(z.buffer,q,p)])}function i(b,p,k,g){var Y=e[b],q=Y*4096;q=q+$(q+4096-24-12-p*4);
var R=M(q),m=z[q+2],Z=z[q+3];if(p!=m)throw m;if(Z==0)F(g,q+4,k,9);else{var E=M(q+6),N=$(q+8);F(g,q+12,R-12,9);
i(N,E,k-(R-12),g)}}function X(){var b=$(352),p=$(b*4096+128),k=$(936);e=[];V={};P={};for(var n=0;n<1e9;
n++){var g=$(k*4096+128+n*4);if(g==0)break;var Y=o(g*4096+128,4096-128-12>>>2);e=e.concat(Y)}for(var R=0;
R<e.length;R++){var m=e[R],Z=c(m);if(Z!=6)continue;var q=m*4096,E=$(q);q+=4;for(var n=0;n<E;n++){var N=$(q);
q+=4;var h=$(q);q+=4;var j5=$(q);q+=4;var r=$(q);q+=4;if(N==0)P[h]=j5;else{var l8=j5&65535,aP=j5>>>16;
if(aP==0)F(h,r*4096,l8,8);else i(r,aP,l8,h)}}}var f={};for(var bS in V){var kR=V[bS],j1=kR.length;if(j1==1)f[bS]=kR[0][1];
else{var f6=0,q=0;for(var n=0;n<j1;n++)f6+=kR[n][1].length;var gx=f[bS]=new Uint8Array(f6);for(var n=0;
n<j1;n++){gx.set(kR[n][1],q);q+=kR[n][1].length}}}return f}function K(q,b){var p=0,k="";if(b){p=A(q);
q+=4}else{q+=3;p=s(q);q+=2}while(k.length<p){var g=s(q),Y=g&255,R=g>>>8,m=0,Z="";Y+=(R&15)*256;R=R&240;
q+=2;if(Y==0)throw"e";for(var n=0;n<Y;n++){if(R==64)m=z[q++];else if(R==128){m=s(q);q+=2}else throw R;
Z+=String.fromCharCode(m)}k+=Z}return[k,q]}function G(q,b,p){var k=o(q,b);for(var n=0;n<b;n++){p.push(n);
if(k[n]>d)throw"e";k[n]=O(k[n],p);p.pop()}return k}var x={};function O(b,p){if(L.indexOf(b)!=-1)return f[b];
if(b==0)return null;if(f[b]==null)return null;if(!(f[b]instanceof Uint8Array))return f[b];var k=z,q=0;
z=f[b];L.push(b);var g=P[b].toString(16),Y=f[b]={_type:Q[g]?Q[g]+":"+g:"typ-"+g,_eid:b};while(q+8<z.length){var R=A(q);
q+=4;var m=A(q);q+=4;var Z=R.toString(16),E=q+m;if(q+m>z.length){Y._bin=z;break}v(Z,w,Y,q,m,p);q=E}z=k;
L.pop();return Y}function v(b,p,k,q,g,Y){var R=p[b+":"+k._type];if(R==null)R=p[b];Y.push(R?R[0]==""?b:R[0]:b);
if(R){var m=R[0],Z=null,E=R[1];if(m=="")m=E+"-"+b;if(l[E]&&g!=l[E]){console.log(E);console.log(b,R);
console.log(z.slice(q,q+g));throw"e"}if(E=="mat")Z=t(q,6);else if(E=="mmat")Z=[O(A(q),Y),g==6?[1,0,0,1,0,0]:t(q+6,6)];
else if(E=="rect")Z=t(q,4);else if(E=="mrct"){Z=t(q,4);Z.push(M(q+32))}else if(E=="doub")Z=a(q);else if(E=="pointArr"){var N=M(q);
Z=o(q+2,N*2)}else if(E=="usrt")Z=M(q);else if(E=="uint")Z=A(q);else if(E=="pntr"||E=="ptr6"){Z=O(A(q),Y)}else if(E=="bool2"){if(s(q)!=0&&s(q)!=1)throw s(q);
Z=s(q)==1}else if(E=="bool4"){if(A(q)>60)throw b+","+A(q);Z=A(q)==1}else if(E=="color"){if(g!=38&&g!=30&&g!=22&&g!=94)throw g;
var h=A(q),j5=s(q+4);Z=[h];for(var n=0;n<j5;n++)Z.push(a(q+6+n*8))}else if(E=="path"){var r=q+g;Z=[];
var l8=A(q);q+=4;for(var n=0;n<l8;n++){var aP=[[]];Z.push(aP);var bS=A(q);q+=4;for(var kR=0;kR<bS;kR++){var h=A(q);
q+=4;if(h<2){aP[0].push([h,a(q),a(q+8),a(q+16),a(q+24),a(q+32),a(q+40)]);q+=48}else if(h==2){aP[0].push([h,a(q),a(q+8)]);
q+=16}else throw h}var j1=M(q);if(j1!=0&&j1!=1&&j1!=256){console.log("unknown last",j1);Z.pop();break}aP.push(j1);
q+=2}}else if(E=="ptrAndList"){var f6=A(q),Z=[];if(g>4){var gx=A(q+4);if(gx>600)throw gx;Z=G(q+8,gx,Y)}Z.unshift(O(f6,Y))}else if(E=="ptrArray"||E=="ptrArrayX"){var lC=g>>2;
if(E=="ptrArray"){lC=A(q);q+=4;if(g!=4+lC*4)throw g}Z=G(q,lC,Y)}else if(E=="ptrArray2"){var lC=A(q);
q+=4;Z=G(q,lC,Y);q+=lC*4;lC=A(q);q+=4;Z.push(G(q,lC,Y))}else if(E=="cldrn"){var g2=A(q),dv=A(q+4),lC=A(q+8);
Z={m:O(g2,Y),RI:O(dv,Y),gJ:G(q+12,lC,Y)};if(g!=12+lC*4){console.log(b,sa);throw"e"}if(g2==0)throw g2}else if(E=="aprnc"){var lC=A(q);
q+=4;Z={};for(var n=0;n<lC;n++){var bv=A(q),eo=s(q+4),aL=s(q+6);q+=8;var dh=I[bv.toString(16)];if(dh==null)dh="prm-"+bv.toString(16);
else dh=j(dh);Z[dh]=[];for(var kR=0;kR<aL;kR++){var eM=A(q),kg=s(q+4),jJ=null;q+=6;if(eM==28264)jJ=a(q);
else if(eM==28263)jJ=A(q);else if(eM==279||eM==6917)jJ=O(A(q),Y);else if(eM==28261)jJ=M(q)==1;else if(eM==28265)jJ=[a(q),a(q+4)];
else if(eM==6914||eM==83231)jJ=K(q)[0];else if(eM==28259||eM==28260||eM==23094||eM==67679){jJ=z.slice(q,q+kg)}else throw eM.toString(16);
Z[dh].push(jJ);q+=kg}}}else if(E=="lopts"){var iL=8;if(D&&s(q+iL)<2)iL+=2;if(!D&&(A(q+iL)==0||A(q+iL)==65536))iL+=2;
Z={a6Z:s(q+0)==1,show:s(q+2)==1,aC$:s(q+4)==1,FF:A(q+iL),name:K(q+iL+8)[0]}}else if(E=="origin"){var r=q+g;
if(z[q++]!=1)throw"e";var N=A(q);q+=4;var bz=y.JU(z,q,N);q+=N;q++;var ks=z[q++],gr=s(q);q+=2;var hg=A(q);
q+=4;if(hg!=0&&hg!=1)throw hg;var ci=A(q);q+=4;if(ci!=0&&ci!=2&&ci!=3)throw ci;var fK=$(q);q+=4;var jN=K(q,!0);
q=jN[1];jN=jN[0];var dD=$(q),eF=$(q+4);q+=8;var io=$(q);q+=4;if(io!=0&&io!=2)throw io;var la=$(q);q+=4;
var e9=K(q)[0];q+=2+2+e9.length+3;Z={file:bz,id:jN,gh:e9}}else if(E=="string")Z=K(q)[0];else if(E=="relEnt"){var gM=s(q);
q+=2;Z=[];for(var n=0;n<gM;n++)Z.push([A(q+n*8),O(A(q+n*8+4),Y)])}else if(E=="textData"){var r=q+g,j7=A(q);
q+=4;var bv=A(q);q+=4;var j5=s(q);q+=2;var cI=[];for(var n=0;n<j5;n++){var dL=A(q);q+=4;if(j7==514)cI.push(K(q,!0)[0]);
else if(j7==515){var cf=A(q),b=A(q+4),jA=C(q+8,Y);cI.push([cf,O(b,Y),jA])}else if(j7==516){var cf=A(q),b=A(q+4),gI=s(q+8),jA=C(q+8,Y);
cI.push([cf,O(b,Y),jA])}else cI.push(z.slice(q,q+dL));q+=dL}if(r-q!=12)throw r-q;Z=cI}else if(E=="storyProps"){var fM=q;
if(s(fM+4)>1)throw"e";var j5=A(fM+10);Z={apc:A(fM),abf:O(A(fM+6),Y),gJ:G(fM+14,j5,Y),a5r:O(A(fM+14+j5*4),Y)}}else if(E=="styleProps")Z=C(q,Y);
else if(E=="bounds"){var fM=q,gM=A(q);q+=4;Z=[];for(var n=0;n<gM;n++){var a7=[];Z.push(a7);for(var kR=0;
kR<4;kR++)a7.push(a(q+kR*8));q+=32;a7.push(z[q]);q++}if(q!=fM+g)throw"e"}else if(E=="columnPos"){var gM=A(q);
q+=4;Z=[t(q,gM),a(q+gM*8)];q+=gM*8+8}else if(E=="StyleName"){Z=[A(q+4)]}else if(E=="fontName"){var r=q+g;
Z=[s(q)];q+=2;if(Z[0]==2){q=r}else if(Z[0]==3){for(var n=0;n<2;n++){if(s(q+3)==0){q+=7;continue}var bz=K(q);
q=bz[1];Z.push(bz[0])}var k6=A(q);q+=4;if(k6==0){q=r}else{var bz=K(q);q=bz[1];Z.push(bz[0]);var bz=K(q);
q=bz[1];Z.push(bz[0]);var bz=K(q);q=bz[1];Z.push(bz[0]);q+=10}q=r}else{if(Z[0]!=1&&Z[0]!=4)throw Z[0];
for(var n=0;n<2;n++){var bz=K(q);q=bz[1];Z.push(bz[0])}var fv=s(q),fq=s(q+2);q+=4;Z.push(fv);var k6=s(q);
q+=2;Z.push(k6);var cu=s(q);q+=2;var ac=[];Z.push(ac);for(var hN=0;hN<cu;hN++){var cQ=[];ac.push(cQ);
var bz=K(q);q=bz[1];cQ.push(bz[0]);var d_=s(q);if(d_<256){q+=2;var bz=y.JU(z,q,d_);q+=d_;cQ.push(bz)}else{var bz=K(q);
q=bz[1];cQ.push(bz[0])}for(var n=0;n<3;n++){var bz=K(q);q=bz[1];cQ.push(bz[0])}var cK=A(q);cQ.push(cK);
q+=4;if(A(q)>65535)B=!1;if(!B)continue;var bz=K(q,!0);q=bz[1];cQ.push(bz[0])}Z.push(A(q));q+=4}if(q!=r){q=r;
console.log("strange fontName")}}else throw E;if(k[m]!=null){console.log(m,k[m],Z);console.log(Y.slice(0));
console.log(eid,b,q,k[m],R,Z);throw"e"}k[m]=Z}else{var cc=z.slice(q,q+g);k["prop-"+b]=cc}Y.pop()}function C(q,b){var p=s(q);
q+=2;var k={};for(var n=0;n<p;n++){var g=A(q);q+=4;var Y=g.toString(16),R=s(q);q+=2;var m=s(q);q+=2;
for(var Z=0;Z<m;Z++){var E=A(q);q+=4;var N=s(q);q+=2;v(Y,u,k,q,N,b);q+=N}}return k}function S(b){D=!0;
B=!0;z=new Uint8Array(b);f=X();var p=f[2147483649];p=y.vK(p,4,p.length-4);delete f[2147483649];d=0;for(var k in f)d=Math.max(d,parseInt(k));
L=[];var g={};for(var k in f)g[k]=f[k];var Y=f[1];if(Y[0]==0)D=!1;for(var k in f)O(parseInt(k),[]);return f}function j(b){b=b.split(" ").join("");
return b[0].toLowerCase()+b.slice(1)}var w={"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},u={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},l={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},I={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},Q={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return S}();function js(){}js.iA=function(){var z=0;function q($,U){var o=fg.iA($),S=1;z=0;var t=o[1],c=t.spreads,H=[],F=new kk;
for(var i=0;i<c.length;i++){var X=c[i],K=X.children;if(K==null)continue;var f=K.gJ,d=V(X),L=f[0].children.gJ,G=new kk;
for(var x=0;x<L.length;x++){var O=L[x],v=V(O);v.concat(d);var C=e(O);C.offset(v.yK,v.ww);C=T.R.JY(C);
G=G.X8(C)}H.push(G);F=F.X8(G)}while(Math.sqrt(F.D())*S<1e3)S++;while(F.D()*S*S*4>2e9)S/=2;U.s=F.s*S;
U.T=F.T*S;U.buffer=new Uint8Array(4*U.s*U.T);U.HA=!0;U.do=Math.round(72*S);U.Ic(c.length);for(var i=0;
i<c.length;i++){var X=c[i],K=X.children;if(K==null)continue;var f=K.gJ,j=U.OJ();j.b9=24;j.add.lsct=fH._j;
j.up("Artboard "+(i+1));var w=H[i].Y();w.offset(-F.x,-F.y);w.x*=S;w.y*=S;w.s*=S;w.T*=S;w=T.R.JY(w);j.Ig(w);
j.pi="pass";U.Z.push(U.cs());var d=V(X);d.translate(-F.x,-F.y);d.scale(S,S);var u={};for(var l=0;l<f.length-1;
l++){var I=f[l],Q=I.children;if(Q==null)continue;Q=Q.gJ;var b=U.OJ(),p=I.layer;if(p==null)continue;var k=p.lopts;
if(k.name=="Internal_pages_layer_name"||u[k.name])continue;u[k.name]=!0;b.b9=24;b.add.lsct=fH._j;b.up(k.name);
b.Bm(k.show);if(k.a6Z)b.add.lspf=1<<31;b.pi="pass";U.Z.push(U.cs());for(var n=0;n<Q.length;n++)s(Q[n],U,d,o);
U.Z.push(b)}U.Z.push(j)}}function e($){var U=$.rect;return new kk(U[0],U[1],U[2]-U[0],U[3]-U[1])}function V($){var U=$.transform;
if(U==null)U=new e5;return new e5(U[0],U[1],U[2],U[3],U[4],U[5])}function P($){var U=$.color,o=$.parentFill,c;
if(U==null&&o)U=o.color;if(U==null){console.log("strange color",$);return[0,0,0]}var t=U[0];if(t==5)c=U.slice(1);
else if(t==6)c=UDOC.C.cmykToRgb(U.slice(1));else if(t==7){var H=T.Ka(U[1],U[2],U[3]);c=[H.l/255,H.I/255,H.c/255]}else if(t==9)c=[U[1],U[1],U[1]];
else if(t==14){c=U.slice(1);console.log("unsure about the color")}else{console.log(U);throw t}return c}function D($){var U=P($);
return T.Yf.e8({l:U[0]*255,I:U[1]*255,c:U[2]*255})}function B($){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[$]}function A($,U){var n=0,o=0;
while($[n+1]&&o+$[n][0]<=U){o+=$[n][0];n++}$=$[n][1].textData;n=0;while($[n+1]&&o+$[n][0]<=U){o+=$[n][0];
n++}return $[n]}function s($,U,o,t){var c=$.transform?V($):new e5;c.concat(o);var H=$.path,F=$.appearance,i=$.visible,X=$.children?$.children.gJ:null,K=U.OJ();
if(i!=null)K.Bm(i);var f=X&&X.length==1&&X[0]&&X[0].bitmapFill,d=$["bool2-1623"]&&X&&X.length==1&&X[0].rect&&X[0]._type.startsWith("TextFrame");
if(f){K.up("bitmap");var L=X[0],G=e(L),x=V(L),w=null;x.concat(c);var O=L.bitmapFill.bitmap;O=t[O]._bin;
if(O==null)return;if(O.length!=O.buffer.byteLength)O=O.slice(0);if(O[0]==123){console.log("unknown bitmap format");
return}var v=hZ.J7(O.buffer);if(["jpg","tiff","png","gif","webp"].indexOf(v)==-1){alert("unsupported bitmap format:"+v);
return}var C=U.Ql(O,"img.jpg",0,0);C.b9=K.b9;K=C;var S=[0,0,G.s,0,G.s,G.T,0,G.T];T.R.v(S,x,S);K.add.SoLd.Trnf=W.On.V1(S);
K.add.SoLd.nonAffineTransform=W.On.V1(S);K.N7(U,!1);var j=L.path;if(j&&j.length!=0)w=M(j,x,F);else if(H&&H.length!=0)w=M(H,c,F);
if(w){var u=T.S.O5(w.B),l=T.R.mB(S);if(u.D()/l.HX(u).D()>1.1){if(u.contains(l))w=null;var I=$.children;
$.children=null;s($,U,o,t);$.children=I}}if(w)K.add.vmsk=w;K.T4();K.ly(U)}else if(d){if(F&&F.strokeSwatch){var Q=U.OJ();
a(Q,U,F,H,c);U.Z.push(Q)}var b=X[0],G=e(b),x=V(b),j1=0;x.concat(c);var p=b.children.gJ[0],k=p.obj228,g=k[0].story[1],Y=g.stoProps.abf.relEnt,R=g.stoProps.gJ[0].relEnt;
if(R==null)R=g.stoProps.gJ[2].relEnt;var m=g.stoProps.gJ[1];if(m["ptrArrayX-210"]==null)m=g.stoProps.gJ[6];
if(m["ptrArrayX-210"][0]==null)return;m=m["ptrArrayX-210"][0].textData;var Z=t[Y[0][1].textData[0][1].name[0]],E=Z?Z.styProps:{};
m=m.join("").replace(/\r/g,"\n");var N=-1;while((N=m.indexOf("\uFFFC"))!=-1){m=m.slice(0,N)+(m[N-1]=="\n"?" ":" ")+m.slice(N+1)}K.up(m.slice(0,255));
K.add.lnsr="rend";K.add.TySh=dc.Pj(0,0);K.add.TySh.iB=G;K.add.TySh.v=x;var h=K.add.TySh._1;dc.o5(h,0,m);
var j5=dc.jb(h,0,m.length);j5.c_.FontSize=10;dc.Vy(h,0,m.length,j5);var r=[];if(m.length!=0){var l8=A(Y,0),aP=A(R,0),bS=1;
for(var n=1;n<m.length;n++){var H=A(Y,n),kR=A(R,n);if(H!=l8||kR!=aP){r.push(bS);bS=0}l8=H;aP=kR;bS++}if(bS!=0)r.push(bS)}for(var n=0;
n<r.length;n++){var f6=A(R,j1),gx=r[n],lC=Math.min(j1+gx,m.length-1),g2=f6[2],dv=f6[1]?f6[1].styProps:null;
if(dv==null)dv={};var bv=A(Y,j1),eo=bv[1].styProps,aL=bv[2],dh={};for(var eM in E)dh[eM]=E[eM];for(var eM in eo)dh[eM]=eo[eM];
for(var eM in aL)dh[eM]=aL[eM];for(var eM in dv)dh[eM]=dv[eM];for(var eM in g2)dh[eM]=g2[eM];dh.FontCaps=dh.FontCaps&3;
var j5=dc.jb(h,j1,lC),kg=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],jJ=kg.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var iL=0;iL<jJ.length;iL++){var eM=jJ[iL],bz=iL<kg.length?j5.c_:j5.S$;if(dh[eM]!=null)bz[eM]=dh[eM]}if(dh.fillColor){var ks=P(dh.fillColor);
j5.c_.FillColor={Type:1,Values:[1].concat(ks)}}if(dh.font){var gr=dh.font.name[5],hg=dh.fontStyle;if(hg==null)hg="Regular";
if(gr)for(var ci=0;ci<gr.length;ci++)if(gr[ci][0]==hg)dc.v3(j5,gr[ci][1])}if(dh.leading!=null&&dh.leading>1){j5.c_.Leading=dh.leading;
j5.c_.AutoLeading=!1}if(dh.align!=null)j5.S$.Justification=[0,2,1,6,3,5,4,0,0,0][dh.align];dc.Vy(h,j1,lC,j5);
j1+=gx}dc.M_(h,1);dc.v7(h,[0,0,Math.round(G.s),Math.round(G.T)])}else if($._type.startsWith("Path")&&(X==null||X.length==0)&&H){a(K,U,F,H,c)}else{var fK=$["prop-14526"];
if(X==null&&fK){var jN=t[y.iM(fK,20)];X=[jN]}if(X){if(H&&H.length!=0){K.add.vmsk=M(H,c,F);K.T4();K.ly(U)}K.up("group");
K.b9=24;K.add.lsct=fH._j;U.Z.push(U.cs());for(var n=0;n<X.length;n++)if(X[n])s(X[n],U,c,t)}}if(F){var dD=F.objectBlendingMode,eF=F.objectOpacity,io=F.fillTint,e9=!1;
if(dD)K.pi=B(dD[0]);if(eF)K.vz=Math.round(K.vz*eF[0]/100);if(!f&&io)K.vz=Math.round(K.vz*io[0]/100);
var la=JSON.parse(az.default);for(var n=0;n<az.order.length;n++)la[az.cx[n]]={t:"VlLs",v:[]};var gM="dropShadow innerShadow satin bevel iglow oglow".split(" "),j7="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var n=0;n<gM.length;n++){var cI=gM[n];if(F[cI]&&F[cI][0]){var dL=F[cI],jA=135,gI=10;e9=!0;var cf=JSON.parse(az.j3[az.order.indexOf(j7[n])]);
la[az.cx[az.order.indexOf(j7[n])]].v.push({t:"Objc",v:cf});if(F[cI+"Color"])cf.Clr.v=D(F[cI+"Color"][0]);
else if(gM[n]=="iglow"||gM[n]=="oglow")cf.Clr.v=T.Yf.e8({l:255,I:255,c:255});if(F[cI+"ColorH"])cf.hglC.v=D(F[cI+"ColorH"][0]);
if(F[cI+"ColorS"])cf.sdwC.v=D(F[cI+"ColorS"][0]);if(F[cI+"BMode"])cf.Md.v.BlnM=aA.bi(B(F[cI+"BMode"][0]));
if(F[cI+"BModeH"])cf.hglM.v.BlnM=aA.bi(B(F[cI+"BModeH"][0]));if(F[cI+"BModeS"])cf.sdwM.v.BlnM=aA.bi(B(F[cI+"BModeS"][0]));
if(F[cI+"Opacity"])cf.Opct.v.val=F[cI+"Opacity"][0];if(F[cI+"OpacityH"])cf.hglO.v.val=F[cI+"OpacityH"][0];
if(F[cI+"OpacityS"])cf.sdwO.v.val=F[cI+"OpacityS"][0];if(F[cI+"Size"])cf.blur.v.val=F[cI+"Size"][0];
if(F[cI+"Angle"])jA=F[cI+"Angle"][0];if(F[cI+"Dist"])gI=F[cI+"Dist"][0];if(F[cI+"DX"]){var fM=F[cI+"DX"][0],a7=F[cI+"DY"]?F[cI+"DY"][0]:0;
gI=Math.round(Math.sqrt(fM*fM+a7*a7));jA=Math.round(Math.atan2(a7,-fM)*180/Math.PI)}if(cf.lagl)cf.lagl.v.val=jA;
if(cf.Dstn)cf.Dstn.v.val=gI;if(cf.uglg)cf.uglg.v=!1;if(F[cI+"Invert"])cf.Invr.v=F[cI+"Invert"][0];else if(gM[n]=="satin")cf.Invr.v=!1;
if(F[cI+"Alt"])cf.Lald.v.val=F[cI+"Alt"][0];if(F[cI+"Depth"])cf.srgR.v.val=F[cI+"Depth"][0];if(F[cI+"Choke"])cf.Ckmt.v.val=F[cI+"Choke"][0]}}if(e9)K.add.lmfx=la}if($.name)K.up($.name);
else if(F&&F.name)K.up(F.name[0]);U.Z.push(K)}function a($,U,o,t,c){$.up("path");$.b9|=16;$.add.vmsk=M(t,c,o);
var H=$.add.vstk=az.Y1.g1(),F=T.Yf.e8({l:0,I:0,c:0});if(o){var i=o.strokeSwatch,X=o.fillSwatch,K=o.basicFeather,f=o.basicFeatherWidth,d=o.strokeWeight;
H.strokeEnabled.v=i!=null;H.fillEnabled.v=X!=null;if(K)$.add.vmsk.j_=f?f[0]:9;if(i){H.strokeStyleLineWidth.v.val=d?d[0]:1;
F=D(i[0]);H.strokeStyleContent.v.Clr.v=F}if(X){F=D(X[0])}}if(F)$.add.SoCo={classID:"null",Clr:{t:"Objc",v:F}};
$.T4();$.ly(U)}function M($,U,o){var t=new lK.cI,c=t.B;for(var H=0;H<$.length;H++){var F=$[H],i=F[0].length,X=F[1]==0;
if(i==0)continue;var K=X?0:3;c.push({e:K,length:i,xq:0,HO:2,yL:0,xr:0});for(var n=0;n<i;n++){var f=F[0][n],d=f[0],L=new f5(f[1],f[2]),G=new f5(f[3],f[4]),x=new f5(f[5],f[6]);
if(d==0||d==1)c.push({e:K+2,li:L,O0:G,kS:x});else if(d==2)c.push({e:K+2,li:L,O0:L,kS:L});else throw d}}T.S.Z8(c,U);
return t}return q}();function l1(){}l1.Hq=async function(z,q,e){if(e==null){e=8*1024*1024}var V=await z.slice(q,q+e),P=await V.arrayBuffer();
return new Uint8Array(P)};l1.aB9=function(z,q){var e=z[q],V=e,P=1;while(!(e&128)){++P;e=e<<1&255}e&=127;
e>>>=P-1;for(var n=1;n<P;++n){var D=z[q+n];e*=256;e+=D;V*=256;V+=D}return[e,P,V]};l1.ca=function(z,q,e){var V=z[q],P=V&128,D=V&127;
for(var n=1;n<e;++n){P*=256;D*=256;D+=z[q+n]}return D-P};l1.vQ=function(z,q,e){var V=z[q];for(var n=1;
n<e;++n){V*=256;V+=z[q+n]}return V};l1.aeK=function(z){var q=1,e=l1.vQ(z,q,1),a="hvc1",$=0,U=!1,o="";
q+=1;var V=e>>6,P=(e&32)>>5,D=e&31,B=l1.vQ(z,q,4);q+=4;var A=z.slice(q,q+6);q+=6;var s=l1.vQ(z,q,1);
a+=".";switch(V){case 0:a+="";break;case 1:a+="A";break;case 2:a+="B";break;case 3:a+="C";break}a+=D;
a+=".";var M=B;for(var n=0;n<32;n++){$|=M&1;if(n==31)break;$<<=1;M>>=1}a+=$.toString(16);a+=".";if(P===0){a+="L"}else{a+="H"}a+=s;
for(n=5;n>=0;n--){if(A[n]||U){o="."+A[n].toString(16)+o;U=!0}}a+=o;return a};l1.ik=function(z,q){this.qV=!1;
this.rP=z;this.position=0;this.SL=[];this.Vm=[];this.uF=[];this.Vz=[];this.pB=!0;this.a9s=0;this.kM=10;
this.w9=6;this.eA=[];this.IV=-2;this.aJb=[];this.Gi;this.dj;this.Ub=q;this.fW;this.Fx;this.aco=-1;this.frames;
this.nW=null;this.ZQ=null;this.uy=null};l1.ik._o=async function(){if(!this.qV){await this.s0()}return this.b5};
l1.ik.Gg=function(z){var q=this.Vm[this.position],e;if(this.pB&&q==this.a9s)this.pB=!1;if(!this.Ub){if(this.uF[q]){this.dj.drawImage(z,0,0);
e=this.dj.getImageData(0,0,this.b5.YY.width,this.b5.YY.height).data}if(this.Vz[this.position]==0)z.close()}try{if(this.SL[q]){if(this.Ub){this.SL[q](z)}else if(this.uF[q]){this.SL[q](e)}}var V=this.position-this.kM;
if(V>=0){var P=this.Vm[V];delete this.eW[P];delete this.SL[P];this.uF[P]=!1}this.position++}catch(cz){console.log(q);
console.log(this.SL[q]);console.log(cz)}};l1.ik.fc=async function(z){if(this.Vz[this.position]==0){if(this.Ub){createImageBitmap(z).then(img=>{this.Gg(img)});
z.close()}else{this.Gg(z)}}else{var q=this.Vz[this.position];createImageBitmap(z,{resizeWidth:z.aE6>>q,resizeHeight:z.a65>>q}).then(img=>{this.Gg(img)});
z.close()}};l1.ik.L_=async function(z,q,d6=0){if(!this.qV){await this.s0()}if(!this.ZQ){await this.asr();
if(this.ZQ.state!="configured"){console.log("Could not make decoder.");return}}if(this.fW.length<=z){console.log("Requested track does not exist");
return}var e=this.fW[z],D,B,A;if(q>=this.b5.YY.v5||q<0){console.log("Requested frame out of range");
return}var V=q;q=this.Zt(q);this.uF[q]=!0;var P=q-this.IV;if(this.pB){P=1;this.a9s=q}if(q!=this.IV+1){B=this.eA[this.eA.length-1];
for(var n=0;n<this.eA.length;++n){if(q<this.eA[n]){B=this.eA[n-1];break}}if(B==this.aco){if(q>this.Vm[this.Vm.length-1]){B=this.Vm[this.Vm.length-1]+1}else if(this.eW[q.toString()]){B=this.Vm[this.Vm.length-1]+1}else{for(var n=this.Vm.length-this.w9;
n<this.Vm.length;++n){if(this.Vm[n]==q){B=this.Vm[this.Vm.length-1]+1;break}}}}else{this.aco=B;for(var n=this.Vm.length-this.w9;
n<this.Vm.length;++n){if(this.Vm[n]==q){B=this.Vm[this.Vm.length-1]+1;break}}}}else{B=0;if(this.Vm.length>0){B=this.Vm[this.Vm.length-1]+1}}if(B<this.frames){A=Math.min(q+this.w9,this.frames);
for(var n=B;n<A;++n){this.eW[n]=new Promise(function(s,a){D=s});this.SL[n]=D;this.Vm.push(n);this.Vz.push(d6);
if((n-q)%P==0)this.uF[n]=!0}this.aNy(e,B,A)}this.IV=q;if(this.pB)await new Promise(resolve=>setTimeout(resolve,200));
if(this.pB){this.kM+=10;this.w9+=6;this.L_(z,V+1,d6)}return this.eW[q.toString()]};var fz=function(z){function q(B,A){var s=[];
for(var n=0;n<9;n++){var a=y.vQ(B,A+n*4);if(n%3==2)s.push((a>>>30)+(a&1073741823)/1073741823);else s.push((a>>>16)+(a&65535)/65535)}return s}async function e(B,A,s,a,M,$){var U={},o=y.vQ,t=y.mU;
if(A==null){A=await l1.Hq(B,s)}var c=a-s;while(a<M){var H=c,F=y.vQ(A,c);c+=4;var i=y.JU(A,c,4);c+=4;
if(F==0)F=M-H-s;if(F==1){F=y.e1(A,c);c+=8}var X=H+F,K="".padStart($,"\t");if(i!="mdat"&&X>A.byteLength){A=await l1.Hq(B,s,X)}var f={};
if(i=="mvhd"){var d=A[c];if(d>1)throw i+"-e";c+=4;if(d==0){f.Py=o(A,c);c+=4;f.UE=o(A,c);c+=4;f.cv=o(A,c);
c+=4;f.duration=o(A,c);c+=4}else{f.Py=y.e1(A,c);c+=8;f.UE=y.e1(A,c);c+=8;f.cv=o(A,c);c+=4;f.duration=y.e1(A,c);
c+=8}f.pw=o(A,c);c+=4;f.volume=t(A,c);c+=2;c+=10;f.a9A=q(A,c);c+=4*9;f.anY=[];for(var n=0;n<6;n++)f.anY.push(o(A,c+n*4));
c+=4*6;f.aL_=o(A,c);c+=4}else if(i=="tkhd"){var d=A[c];if(d>1)throw i+"-e";c+=4;if(d==0){f.Py=o(A,c);
c+=4;f.UE=o(A,c);c+=4;f.awW=o(A,c);c+=4;c+=4;f.duration=o(A,c);c+=4}else{f.Py=y.e1(A,c);c+=8;f.UE=y.e1(A,c);
c+=8;f.awW=o(A,c);c+=4;c+=4;f.duration=y.e1(A,c);c+=8}c+=8;f.H=t(A,c);c+=2;f.aNY=t(A,c);c+=2;f.volume=t(A,c);
c+=2;c+=2;f.a9A=q(A,c);c+=4*9;f.xL=o(A,c)>>>16;c+=4;f.Hi=o(A,c)>>>16;c+=4}else if(i=="mdhd"){var d=A[c];
if(d>1)throw i+"-e";c+=4;if(d==0){f.Py=o(A,c);c+=4;f.UE=o(A,c);c+=4;f.cv=o(A,c);c+=4;f.duration=o(A,c);
c+=4}else{f.Py=y.e1(A,c);c+=8;f.UE=y.e1(A,c);c+=8;f.cv=o(A,c);c+=4;f.duration=y.e1(A,c);c+=8}f.lang=t(A,c);
c+=2;f.yJ=t(A,c);c+=2}else if(i=="hdlr"){var L=o(A,c);c+=4;if(L!=0)throw L;f.DO=y.JU(A,c,4);c+=4;f.aJQ=y.JU(A,c,4);
c+=4;f.aac=o(A,c);c+=4;f.b9=o(A,c);c+=4;f.aht=o(A,c);c+=4;var G=c;while(A[G]!=0)G++;f.name=y.JU(A,c,G-c);
c+=G-c+1}else if(i=="stsd"){var L=o(A,c);c+=4;if(L!=0)throw L;var x=o(A,c);c+=4;if(x!=1)throw x;var O=o(A,c);
c+=4;f.PL=y.JU(A,c,4);c+=4;if(f.PL=="mett"){f.aNw=y.JU(A,c,X-c)}else{for(var n=0;n<6;n++)if(A[c+n]!=0)throw i+"-e";
c+=6;f.avJ=t(A,c);c+=2;f.a40=t(A,c);c+=2;f.aKl=t(A,c);c+=2;f.agx=o(A,c);c+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ,rle ".split(",").indexOf(f.PL)!=-1){f.aLN=o(A,c);
c+=4;f.a9r=o(A,c);c+=4;f.aj9=[t(A,c),t(A,c+2)];c+=4;f.avY=[o(A,c)/(1<<16),o(A,c+4)/(1<<16)];c+=8;var v=o(A,c);
c+=4;if(v!=0)throw i+"-e";var C=t(A,c);c+=2;if(C!=1)throw i+"-e";var S=A[c];c++;f.aHY=y.JU(A,c,S);c+=31;
f.ajG=t(A,c);c+=2;var j=t(A,c);c+=2;if(j!=65535)throw i+"-e";if(c!=X)f.Dc=await e(B,A,s,s+c,s+X,$+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(f.PL)!=-1){f.kv=t(A,c);
c+=2;f.apg=t(A,c);c+=2;var w=t(A,c);c+=2;if(w!=0&&w!=65534)throw w;var u=t(A,c);c+=2;if(u!=0)throw u;
f.Mr=o(A,c)/(1<<16);c+=4;if(c!=X)f.Dc=await e(B,A,s,s+c,s+X,$+1)}else if(f.PL=="CTMD"){f.u=A.slice(c,X)}else if(f.PL=="tx3g"||f.PL=="text"||f.PL=="mebx"){}else if(f.PL=="tmcd"){}else if(f.PL=="CRAW"){}else if(f.PL=="sowt"){}else throw JSON.stringify(f.PL)}}else if(i=="stts"||i=="stsz"||i=="stco"||i=="stsc"||i=="ctts"||i=="elst"){var L=o(A,c),l=0,b=0;
c+=4;if(i=="stsz"){l=o(A,c);c+=4}var I=o(A,c)*(i=="stsc"||i=="elst"?3:i=="stts"||i=="ctts"?2:1);c+=4;
f=[];for(var n=0;n<I;n++){if(l!=0)f.push(l);else{if(i=="elst"){if(n%3==2){var Q=o(A,c);Q*=1/(1<<16);
f.push(Q)}else f.push(y.ca(A,c))}else f.push(o(A,c));c+=4}}for(var n=0;n<I;n++)b+=f[n]}else if(i=="co64"){var L=o(A,c);
c+=4;if(L!=0)throw L;var I=o(A,c);c+=4;f=[];for(var n=0;n<I;n++){f.push(y.e1(A,c));c+=8}}else if(i=="iinf"){f=[];
c+=2;var p=o(A,c);c+=4;for(var n=0;n<p;n++){var k=o(A,c),g=y.JU(A,c+4,4),Y=t(A,c+12),R=y.JU(A,c+16,4),H=[g,Y,R];
f.push(H);if(k>21)H.push(y.JU(A,c+21,k-22));c+=k}}else if("moov trak mdia minf dinf stbl uuid edts meta iprp moof traf mvex".split(" ").indexOf(i)!=-1){if(i=="uuid")c+=16;
if(i=="meta")c+=4;f=await e(B,A,s,s+c,s+X,$+1);if(i=="moof"){f.g=c+s;f.gU=F}}else if(i=="CMT1"||i=="CMT2"||i=="CMT3"||i=="CMT4"){f=UTIF.decode(A.slice(c,X))}else if(i=="stss"){f.g=c+s;
f.gU=F;f.am1=o(A,c+4)}else if(i=="trex"){f.b9=o(A,c);c+=4;f.sO=o(A,c);c+=4;f.apS=o(A,c);c+=4;f.akH=o(A,c);
c+=4;f.aPf=o(A,c);c+=4;f.aM2=o(A,c);c+=4}else if(i=="tfhd"){f.b9=o(A,c);c+=4;f.sO=o(A,c);c+=4;if(f.b9&1)c+=8;
if(f.b9&2)c+=4;if(f.b9&8){f.akH=o(A,c);c+=4}}else if(i=="trun"){f.g=c+s;f.gU=F;f.b9=o(A,c);c+=4;f.azx=o(A,c);
c+=4}else{f.g=c+s;f.gU=F}c=X;if(i=="trak"||i=="free"||i=="uuid"||i=="traf"||i=="trex"||U.moov&&U.moov.mvex&&(i=="moof"||i=="mdat")){if(U[i]==null)U[i]=[];
U[i].push(f)}else{if(U[i]!=null)throw i;U[i]=f}a=c+s;if(c>=A.byteLength){s+=c;c=0;A=await l1.Hq(B,s)}}return U}async function V(B){return await e(B,null,0,0,B.size,0)}function P(B,A){var s=B.mdia.minf.stbl,a=s.stsc,M=0,$=0;
for(var n=0;n<a.length;n+=3){var U=(n+3<a.length?a[n+3]:1e4)-a[n],o=$+U*a[n+1];if($<=A&&A<o){while($+a[n+1]<=A){M++;
$+=a[n+1]}break}M+=U;$=o}var t=s.stco;if(t==null)t=s.co64;var c=t[M];while($<A){c+=s.stsz[$];$++}return[c,s.stsz[A]]}function D(B,A){var s=B.moov.trak,a=[];
for(var n=0;n<s.length;n++){if(s[n].mdia.hdlr.aJQ==A){a.push(s[n])}}return a}return{iA:V,R7:P,getTracks:D}}();
function bX(z,q){l1.ik.call(this,z,q);this._o=l1.ik._o;this.Gg=l1.ik.Gg;this.fc=l1.ik.fc;this.L_=l1.ik.L_;
this.Dm;this.a2o=0;this.a0p=0;this.a4J=0;this.eL=null;this.vm=null;this.X2}bX.prototype.xh=function(z){this.aJb.push(z)};
bX.prototype.aGj=function(z,n){var q=0,e=z.getUint8(n,!1);n+=1;q=e&127;var V=e>>7;while(V==1){e=z.getUint8(n,!1);
n+=1;V=e>>7;var P=e&127;q=q<<7|P}return[q,n]};bX.prototype.awX=function(z){this.U7={};var q=new DataView(z.buffer),n=4;
n+=4;while(n<q.byteLength){var e=q.getUint8(n,!1);n+=1;var V=this.aGj(q,n),P=V[0];n=V[1];if(e==3){n+=2;
n+=1}else if(e==4){this.U7.objectType=q.getUint8(n,!1);n+=1;this.U7.streamType=q.getUint8(n,!1)>>2;n+=1;
n+=3;this.U7.maxBitrate=q.getUint32(n,!1);n+=4;this.U7.avgBitrate=q.getUint32(n,!1);n+=4}else if(e==5){this.U7.decoderSpecificInfo=z.slice(n,n+P);
n+=P}else{n+=P}}};bX.prototype.ap9=function(z){var q=null,D=0;if(z.aKk){if(z.edts.aje)q=z.edts.aje}if(q==null){this.nW=this.frames;
return}var e=this.vh.moov.mvhd.cv,V=z.mdia.mdhd.cv,P=z.mdia.mdhd.duration*1e3/V/this.GE.stsz.length;
this.eL=[];for(var n=0;n<q.length;n+=3){var B;if(q[n+1]==-1)B=-1;else B=q[n+1]*1e3/P/V;var hp=q[n]*1e3/P/e;
this.eL.push(D);this.eL.push(Math.floor(B));this.eL.push(q[n+2]);D+=Math.floor(hp)}this.nW=D;if(this.Zt(this.nW-1)>this.frames-1)this.nW--;
if((D+1)*P<z.tkhd.duration*1e3/e){this.eL.push(D);this.eL.push(0);this.eL.push(1);this.nW=Math.floor(z.tkhd.duration*1e3/e/P)}};
bX.prototype.Zt=function(z){if(this.eL){for(var n=this.eL.length-3;n>=0;n-=3){if(z>=this.eL[n]){if(this.eL[n+1]==-1)z=this.IV;
else if(this.eL[n+2]==0)z=this.eL[n+1];else z=z-this.eL[n]+this.eL[n+1];break}}}return z};bX.prototype.asr=async function(){this.ZQ=new VideoDecoder({output:fx=>this.fc(fx),error:function(V){console.log(V.message)}});
var z=this.GE.stsd.PL;if(z=="avc1"){this.aD5=this.GE.stsd.Dc.avcC;var q={codec:"avc1.640034"};q.description=new Uint8Array(await this.rP.slice(this.aD5.g,this.aD5.g+this.aD5.gU).arrayBuffer());
this.ZQ.configure(q)}else if(z=="hev1"||z=="hvc1"){var q={};this.adj=this.GE.stsd.Dc.hvcC;q.description=new Uint8Array(await this.rP.slice(this.adj.g,this.adj.g+this.adj.gU).arrayBuffer());
var e=l1.aeK(q.description);q.codec=e;q.codedWidth=this.b5.YY.width;q.codedHeight=this.b5.YY.height;
this.ZQ.configure(q)}else{var q={codec:"vp09.00.10.08"};this.ZQ.configure(q)}};bX.prototype.avH=async function(){this.uy=new AudioDecoder({output:fx=>this.xh(fx),error:function(z){console.log(z)}});
console.assert(await AudioDecoder.isConfigSupported(this.akS));this.uy.configure(this.akS)};bX.prototype.aoS=async function(){var z=this.vh.moof,q=null,e=this.vh.moov.mvex.trex,B=0;
for(var n=0;n<e.length;++n){if(e[n].sO==this.X2){q=e[n];break}}if(q==null)throw"fmp4 video track not found";
var V=q.akH;if(V==0){for(var n=0;n<z[0].traf.length;++n){var P=z[0].traf[n].tfhd;if(P.sO==this.X2){V=P.akH;
break}}}var D=this.fW[0].mdia.mdhd.cv;this.pw=1/(V/D);this.sizes=[];this.Fc=[];for(var n=0;n<z.length;
++n){for(var A=0;A<z[n].traf.length;++A){var P=z[n].traf[A].tfhd;if(P.sO!=this.X2&&P.sO!=this.ahz)continue;
var s=z[n].traf[A].trun,a=this.vh.mdat[n].g,M=await this.rP.slice(s.g-4,s.g+s.gU),$=await M.arrayBuffer(),U=new Uint8Array($),o=new DataView(U.buffer),t=8+3*4;
if(P.sO==this.X2){this.eA.push(this.sizes.length);while(t<o.byteLength-8){if(s.b9&256)t+=4;if(s.b9&512){this.sizes.push(o.getUint32(t,!1));
t+=4}if(s.b9&1024)t+=4;if(s.b9&2048)t+=4}for(var c=0;c<s.azx;++c){if(c==0)this.Fc.push(a);else this.Fc.push(this.Fc[B+c-1]+this.sizes[B+c-1])}B+=s.azx}}}};
bX.prototype.s0=async function(){this.vh=await fz.iA(this.rP);if(this.vh.moov.mvex)this.vm=!0;this.aC2={};
this.eW={};this.fW=fz.getTracks(this.vh,"vide");var z=!0,A=!0;if(this.fW.length>0){var q=this.fW[0],e=q.tkhd;
this.X2=e.awW;this.GE=q.mdia.minf.stbl;var V=this.GE.stsd.PL;if(V=="avc1"||V=="vp09"||V=="hvc1"||V=="hev1"){if(V=="avc1"&&!this.GE.stsd.Dc.avcC||(V=="hvc1"||V=="hev1")&&!this.GE.stsd.Dc.hvcC){console.log(V+" video codec not supported (avcC missing).");
z=!1}else{if(!this.vm){await this.asj(this.GE.stss.g+8,this.GE.stss.gU-8);for(var n=0;n<this.aHh.byteLength;
n+=4){var P=this.aHh.getUint32(n,!1)-1;this.eA.push(P)}var D=q.mdia.mdhd.cv,B=q.mdia.mdhd.duration/D;
this.frames=this.GE.stsz.length;this.pw=this.frames/B;this.ap9(q)}}}else{console.log(V+" video codec not supported.");
z=!1}}this.Fx=fz.getTracks(this.vh,"soun");if(this.Fx.length>0){var s=this.Fx[0],M;this.ahz=s.tkhd.awW;
var a=s.mdia.minf.stbl,$=a.stsd.kv;if(a.stsd.PL=="mp4a"){if(a.stsd.Dc.esds){this.atp=a.stsz.length;var U=a.stsd.Dc.esds.g,o=a.stsd.Dc.esds.gU,t=await this.rP.slice(U-4,U+o+4),c=await t.arrayBuffer(),H=new Uint8Array(c),F=null;
this.awX(H);M="mp4a.";if(this.U7.objectType==64){M+=this.U7.objectType.toString(16);M+=".";M+=(this.U7.decoderSpecificInfo[0]>>3).toString();
F=this.U7.decoderSpecificInfo}else{M+=this.U7.objectType.toString(16).toUpperCase()}if(F){var i=F[0]>>3;
if(i==31){var X=(F[0]&7)<<3|F[1]>>5;i=32+X;var K=F[1]&31>>1;if(K==15){$=(F[4]&1)<<3|F[5]>>5}else{$=(F[1]&1)<<3|F[2]>>5}}else{var K=(F[0]&7)<<1|F[1]>>7;
if(K==15){$=(F[4]&127)>>3}else{$=(F[1]&127)>>3}}}this.akS={codec:M,numberOfChannels:$,sampleRate:a.stsd.Mr};
if(F){this.akS.description=F}}else{console.log("Audio codec not supported.");A=!1}}else{console.log("Audio codec not supported.");
A=!1}}if(this.vm){await this.aoS();this.frames=this.Fc.length;this.nW=this.Fc.length}this.b5={};if(z&&this.fW.length>0){this.b5.YY={fW:1,v5:this.nW,pw:this.pw,width:e.xL,height:e.Hi}}if(A&&this.Fx.length>0&&!this.vm){this.b5.x6={fW:$,pw:a.stsd.Mr,v5:s.mdia.mdhd.duration}}if(!this.Ub){this.Gi=new OffscreenCanvas(this.b5.YY.width,this.b5.YY.height);
this.dj=this.Gi.getContext("2d",{willReadFrequently:!0});this.kM=10;this.w9=6}this.qV=!0};bX.prototype.asj=async function(z,q){this.a2L=await this.rP.slice(z,z+q).arrayBuffer();
this.aHh=new DataView(this.a2L)};bX.prototype.Hz=async function(z,q){var e=Math.min(q+250,this.frames-1),V,P;
if(this.vm){V=this.nz(q);P=this.nz(e)}else{V=fz.R7(z,q);P=fz.R7(z,e)}var D=await this.rP.slice(V[0],P[0]+P[1]),B=await D.arrayBuffer();
this.Dm=new Uint8Array(B);this.a2o=q;this.a0p=e;this.a4J=V[0];return};bX.prototype.nz=function(n){var z=[];
z.push(this.Fc[n]);z.push(this.sizes[n]);return z};bX.prototype.aNy=async function(z,q,e){if(q>=this.a0p||e<this.a2o){await this.Hz(z,q)}for(var n=q;
n<e;++n){if(n>=this.a0p){await this.Hz(z,n)}var V=this.eA.indexOf(n),P=this.vm?this.nz(n):fz.R7(z,n),D=this.Dm.slice(P[0]-this.a4J,P[0]+P[1]-this.a4J),B=new EncodedVideoChunk({timestamp:n,duration:1e3,type:V!=-1?"key":"delta",data:D});
if(this.ZQ.state=="configured"){try{this.ZQ.decode(B)}catch(e){console.log("CAUGHT unconfigured");console.log(e);
console.log(B)}}else{console.log("unconfigured");delete D}delete D}if(e==this.frames){await this.ZQ.flush()}};
bX.prototype.axP=async function(z,q,e){if(!this.uy){await this.avH()}if(this.Fx.length<=z){console.log("Requested audio track does not exist");
return}var V=this.Fx[z],P=V.mdia.minf.stbl.stts,D=null,B=null,A=0,s=0;for(var n=0;n<P.length;n+=2){if(D==null&&A+P[n]*P[n+1]>=q){D=Math.ceil(s+(q-A)/P[n+1])}if(B==null&&A+P[n]*P[n+1]>=e){B=Math.ceil(s+(e-A)/P[n+1])}if(D&&B){break}A+=P[n]*P[n+1];
s+=P[n]}var a=fz.R7(V,D),M=fz.R7(V,B),$=await this.rP.slice(a[0],M[0]+M[1]),U=await $.arrayBuffer(),o=new Uint8Array(U);
for(var n=D;n<B;++n){var t=fz.R7(V,n),c=o.slice(t[0]-a[0],t[0]+t[1]-a[0]),H=new EncodedAudioChunk({timestamp:n,duration:1e3,type:"key",data:c});
try{this.uy.decode(H)}catch(cz){console.log("Error decoding audioframe "+n.toString()+". "+cz.message)}}try{await this.uy.flush()}catch(cz){console.log("CAUGHT flush, but returning");
return this.aJb}return this.aJb};function cE(z,q,e){this.b5=q;this.$Q=z;this.a5w=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101];
this.ark=40;this.xL,this.Hi;this.fI;this.Ce;this.FS;this.ayD;this.description;this.eK;this._X;this.TW;
this.Oa;this.Nu;this.UM;this.ek=e;this.aHO;this.mZ;this._c;this.aGS;this.a6c;if(this.b5.YY){this.aHs()}if(this.b5.x6){this.abY()}}cE.prototype.a0_=function(z){return new Uint8Array([z.charCodeAt(0),z.charCodeAt(1),z.charCodeAt(2),z.charCodeAt(3)]).buffer};
cE.prototype.ac6=function(z){var q=new Uint32Array([z]),e=new Uint8Array(q.buffer);return new Uint8Array([e[3],e[2],e[1],e[0]])};
cE.prototype.aq=function(z){this._c[this.mZ]=z;++this.mZ};cE.prototype.P4=function(z){this._c[this.mZ]=z>>8&255;
this._c[this.mZ+1]=z&255;this.mZ+=2};cE.prototype.aqC=function(z){this._c[this.mZ]=z>>16&255;this._c[this.mZ+1]=z>>8&255;
this._c[this.mZ+2]=z&255;this.mZ+=3};cE.prototype.jU=function(z){this._c[this.mZ]=z>>24&255;this._c[this.mZ+1]=z>>16&255;
this._c[this.mZ+2]=z>>8&255;this._c[this.mZ+3]=z&255;this.mZ+=4};cE.prototype.Z3=function(z){this.aHO.push(this.mZ);
this.mZ+=4;this.Gy(z)};cE.prototype.Gy=function(z){for(var n=0;n<z.length;++n){this._c[this.mZ]=z.charCodeAt(n);
++this.mZ}};cE.prototype.ahj=function(z){this._c.set(new Uint8Array(z),this.mZ);this.mZ+=z.byteLength};
cE.prototype.N2=function(){var z=this.mZ;this.mZ=this.aHO.pop();this.jU(z-this.mZ);this.mZ=z};cE.prototype.a1q=function(z,q){if(!this.description&&q){if(q.description){this.description=q.description}if(q.decoderConfig&&q.decoderConfig.description){this.description=q.decoderConfig.description}}var e=new ArrayBuffer(z.byteLength);
z.copyTo(e);this.hw(e);this.fI.push({duration:z.duration,timestamp:z.timestamp,type:z.type,byteLength:z.byteLength});
if(z.type=="key"){this.FS.push(this.fI.length)}};cE.prototype.xh=function(z,q){if(!this.eK&&q){if(q.decoderConfig){this.eK=q.decoderConfig}}var e=new ArrayBuffer(z.byteLength);
z.copyTo(e);this.a5j(e);this.Ce.push({duration:z.duration,timestamp:z.timestamp,type:z.type,byteLength:z.byteLength});
if(z.type=="key"){this.ayD.push(this.Ce.length)}};cE.prototype.hw=function(z){var q=new Uint8Array(this._X.byteLength+z.byteLength);
q.set(new Uint8Array(this._X));q.set(new Uint8Array(z),this._X.byteLength);this._X=q.buffer;if(this._X.byteLength>20*1024*1024){this.$Q.write(this._X);
this._X=new Uint8Array}};cE.prototype.a5j=function(z){var q=new Uint8Array(this.TW.byteLength+z.byteLength);
q.set(new Uint8Array(this.TW));q.set(new Uint8Array(z),this.TW.byteLength);this.TW=q.buffer};cE.prototype.a7r=function(){this.aHO=[];
var z=this.ark,q=[],e={},V=9e4,P=this.fI.length,D=this.FS.length,B=-1,s=!1,t=1;for(var n=0;n<this.fI.length;
++n){this.Oa+=this.fI[n].duration/1e3;this.UM+=this.fI[n].byteLength;if(this.fI[n].duration!=B){if(n!=0){q.push(e)}B=this.fI[n].duration;
e={duration:9e4*this.fI[n].duration/1e6,sampleCount:1}}else{e.sampleCount=e.sampleCount+1}}this.UM+=8;
q.push(e);var A=q.length;if(this.b5.x6){s=!0}if(s){var a=[],M=this.Ce.length;this.Nu=0;var $=this.eK.sampleRate,B=-1;
for(var n=0;n<this.Ce.length;++n){this.Nu+=this.Ce[n].duration/1e3;this.UM+=this.Ce[n].byteLength;var U=Math.round($*this.Ce[n].duration/1e6);
if(U!=B){if(n!=0){a.push(e)}B=U;e={duration:U,sampleCount:1}}else{e.sampleCount=e.sampleCount+1}}a.push(e);
var o=a.length}var c=579+this.description.byteLength+4*P+4*P+4*D+8*A;if(s){c+=426+this.eK.description.byteLength+4*M+4*M+8*A;
t=2}this._c=new Uint8Array(c);this.mZ=0;this.Z3("moov");this.Z3("mvhd");this.jU(0);this.jU(0);this.jU(0);
this.jU(1e3);this.jU(this.Oa);this.jU(65536);this.P4(256);this.P4(0);this.jU(0);this.jU(0);this.jU(65536);
this.jU(0);this.jU(0);this.jU(0);this.jU(65536);this.jU(0);this.jU(0);this.jU(0);this.jU(1073741824);
this.jU(0);this.jU(0);this.jU(0);this.jU(0);this.jU(0);this.jU(0);this.jU(2);this.N2();for(var H=0;H<t;
++H){this.Z3("trak");this.Z3("tkhd");this.jU(7);this.jU(0);this.jU(0);this.jU(1);this.jU(0);if(H==1)this.jU(this.Nu);
else this.jU(this.Oa);this.jU(0);this.jU(0);this.P4(0);this.P4(0);this.P4(256);this.P4(0);if(H==1){this.jU(1);
this.jU(0);this.jU(0);this.jU(0);this.jU(1);this.jU(0);this.jU(0);this.jU(0);this.jU(1);this.jU(this.xL*0);
this.jU(this.Hi*0)}else{this.jU(65536);this.jU(0);this.jU(0);this.jU(0);this.jU(65536);this.jU(0);this.jU(0);
this.jU(0);this.jU(1073741824);this.jU(this.xL*65536);this.jU(this.Hi*65536)}this.N2();this.Z3("mdia");
this.Z3("mdhd");this.jU(0);this.jU(0);this.jU(0);if(H==1){this.jU(this.eK.sampleRate);this.jU(this.Nu/1e3*this.eK.sampleRate)}else{this.jU(V);
this.jU(this.Oa/1e3*V)}this.aq(85);this.aq(196);this.P4(0);this.N2();this.Z3("hdlr");this.jU(0);this.jU(0);
if(H==1){this.Gy("soun");this.jU(0);this.jU(0);this.jU(0);this.Gy("SoundHandler");this.aq(0)}else{this.Gy("vide");
this.jU(0);this.jU(0);this.jU(0);this.Gy("VideoHandler");this.aq(0)}this.N2();this.Z3("minf");if(H==1){this.Z3("smhd");
this.jU(0);this.P4(0);this.P4(0);this.N2()}else{this.Z3("vmhd");this.jU(1);this.P4(0);this.P4(0);this.P4(0);
this.P4(0);this.N2()}this.Z3("dinf");this.Z3("dref");this.jU(0);this.jU(1);this.Z3("url ");this.jU(1);
this.N2();this.N2();this.N2();if(H==1){this.Z3("stbl");this.Z3("stsd");this.jU(0);this.jU(1);this.Z3("mp4a");
this.P4(0);this.P4(0);this.P4(0);this.P4(1);this.jU(0);this.jU(0);this.P4(this.eK.numberOfChannels);
this.P4(16);this.P4(0);this.P4(0);this.P4(this.eK.sampleRate);this.P4(0);this.Z3("esds");this.jU(0);
this.aq(3);this.aq(25);this.P4(0);this.aq(0);this.aq(4);this.aq(17);this.aq(64);this.aq(21);this.aqC(0);
this.jU(16e4);this.jU(16e4);this.aq(5);this.aq(2);this.ahj(this.eK.description);this.aq(6);this.aq(1);
this.aq(2);this.N2();this.N2();this.N2();this.Z3("stts");this.jU(0);this.jU(o);for(var n=0;n<o;++n){this.jU(a[n].sampleCount);
this.jU(a[n].duration)}this.N2();this.Z3("stsc");this.jU(0);this.jU(1);this.jU(1);this.jU(1);this.jU(1);
this.N2();this.Z3("stsz");this.jU(0);this.jU(0);this.jU(M);for(var n=0;n<M;++n){this.jU(this.Ce[n].byteLength)}this.N2();
this.Z3("stco");this.jU(0);this.jU(M);for(var n=0;n<M;++n){this.jU(z);z+=this.Ce[n].byteLength}this.N2();
this.N2()}else{this.Z3("stbl");this.Z3("stsd");this.jU(0);this.jU(1);this.Z3("avc1");this.P4(0);this.P4(0);
this.P4(0);this.P4(1);this.P4(0);this.P4(0);this.jU(0);this.jU(0);this.jU(0);this.P4(this.xL);this.P4(this.Hi);
this.jU(4718592);this.jU(4718592);this.jU(0);this.P4(1);for(var n=0;n<8;++n){this.jU(0)}this.P4(24);
this.P4(-1);this.Z3("avcC");this.ahj(this.description);this.N2();this.N2();this.N2();this.Z3("stts");
this.jU(0);this.jU(A);for(var n=0;n<A;++n){this.jU(q[n].sampleCount);this.jU(q[n].duration)}this.N2();
this.Z3("stsc");this.jU(0);this.jU(1);this.jU(1);this.jU(1);this.jU(1);this.N2();this.Z3("stsz");this.jU(0);
this.jU(0);this.jU(P);for(var n=0;n<P;++n){this.jU(this.fI[n].byteLength)}this.N2();this.Z3("stco");
this.jU(0);this.jU(P);for(var n=0;n<P;++n){this.jU(z);z+=this.fI[n].byteLength}this.N2();this.Z3("stss");
this.jU(0);this.jU(D);for(var n=0;n<D;++n){this.jU(this.FS[n])}this.N2();this.N2()}this.N2();this.N2();
this.N2()}this.N2();return};cE.prototype.aDd=async function(z){console.assert(await VideoEncoder.isConfigSupported(z))};
cE.prototype.aHs=function(){var z=Date.now(),q=this.b5.YY.width,e=this.b5.YY.height;this.xL=q;this.Hi=e;
this.description=null;this.FS=[];this.fI=[];this.Oa=0;this.UM=0;this._X=new Uint8Array;this.hw(new Uint8Array(this.a5w));
this.hw(this.ac6(0).buffer);this.hw(this.a0_("mdat"));this.adi=new VideoEncoder({output:(chunk,opts)=>this.a1q(chunk,opts),error:cz=>{console.log(cz)}});
var V=this.ek*this.xL*this.Hi,P=V*this.b5.YY.v5,D=Math.round(V*24),B={width:this.xL,height:this.Hi,codec:"avc1.420034",bitrate:D,acceleration:"prefer-hardware"};
this.aDd(B);this.adi.configure(B);this.a6c=0};cE.prototype.aMw=async function(z){console.assert(await AudioDecoder.afY(z))};
cE.prototype.abY=function(){this.TW=new Uint8Array;this.eK=null;this.ayD=[];this.Ce=[];var z={codec:"mp4a.40.2",numberOfChannels:this.b5.x6.fW,sampleRate:this.b5.x6.pw,bitrate:16e4};
this.aA1=new AudioEncoder({output:(fx,lA)=>this.xh(fx,lA),error:function(q){console.log(q)}});this.aMw(z);
this.aA1.configure(z)};cE.prototype._o=function(){return this.b5};cE.prototype.atr=async function(z,q,e){var V=z,P=1e6/this.b5.YY.pw;
if(e%50==0){console.log(Math.round(e/this.b5.YY.v5*100).toString()+"%")}var D=new VideoFrame(V.buffer,{timestamp:this.a6c,duration:P,format:"RGBA",codedWidth:this.xL,codedHeight:this.Hi});
this.adi.encode(D);D.close();this.a6c+=P;delete V;delete z;delete D};cE.prototype.aHw=async function(z,q,e,V){for(var n=0;
n<z.length;++n){this.aA1.encode(z[n])}};cE.prototype.finish=async function(){if(this.b5.YY){await this.adi.flush()}if(this.b5.x6){await this.aA1.flush()}this.a7r();
this.$Q.write(this._X);if(this.b5.x6){this.$Q.write(this.TW)}this.$Q.write(this._c);this.$Q.write({e:"write",data:this.ac6(this.UM),position:this.ark-8});
return this.$Q.close()};var ev=function(z){var q=[[21,73,169,102],[22,84,174,107],[17,77,155,116],[28,83,187,107],[31,67,182,117],[18,84,195,103]],e="KaxInfo KaxTracks KaxSeekHead KaxCues KaxCluster KaxTags".split(" "),V=!1,P=l1.aB9,D=l1.vQ,B=l1.ca;
function A(c){for(var n=0;n<q.length;++n){var H=!0;for(var F=0;F<q[n].length;++F){if(c[F]!=q[n][F]){H=!1;
break}}if(H==!0){return e[n]}}}async function s(c,H,F,i){if(H==null||i<F||i>=F+H.byteLength){H=await l1.Hq(c,i);
F=i;i=0}else{i-=F;var X=i,K=P(H,i),f=K[2];i+=K[1];K=P(H,i);var d=K[0];i+=K[1];if(i+d>H.byteLength){H=await l1.Hq(c,F+X,d+i-X);
F+=X;i=0}else{i=X}}return[H,F,i]}async function a(c,H,F,i,X){var K=X.BA.CueClusterPosition,C=!1;K+=H.Segment.ajb;
var f=await s(c,F,i,K);F=f[0];i=f[1];K=f[2];if(F.length==0)return{T5:0,data:F,start:i,B3:null};var d=P(F,K),L=d[2];
K+=d[1];d=P(F,K);var G=d[0];K+=d[1];var x=K;d=P(F,x);L=d[2];x+=d[1];d=P(F,x);G=d[0];x+=d[1];var O=ev.rk[L];
if(O.q=="CRC-32"){x+=G;d=P(F,x);L=d[2];x+=d[1];d=P(F,x);G=d[0];x+=d[1]}var v=D(F,x,G);if(X.BA.CueRelativePosition){K+=X.BA.CueRelativePosition;
d=P(F,K);L=d[2];K+=d[1];d=P(F,K);G=d[0];K+=d[1];O=ev.rk[L];if(O.q=="BlockGroup"){C=!0}return{T5:i+K+G,data:F,start:i,B3:o(F.slice(K,K+G),C),timeStamp:v}}else{var S=0;
if(X.BA.CueBlockNumber){S=X.BA.CueBlockNumber-1;if(H.Segment.Info.MuxingApp.toLowerCase().includes("yamka")){S++}}G=0;
do{K+=G;d=P(F,K);L=d[2];K+=d[1];d=P(F,K);G=d[0];K+=d[1];O=ev.rk[L]}while(O.q!="SimpleBlock"&&O.q!="BlockGroup");
for(var n=0;n<S;++n){K+=G;d=P(F,K);L=d[2];K+=d[1];d=P(F,K);G=d[0];K+=d[1]}O=ev.rk[L];if(O.q=="BlockGroup"){C=!0}return{T5:i+K+G,data:F,start:i,B3:o(F.slice(K,K+G),C),timeStamp:v}}}async function M(c,H,F,i){var X=null,K=await s(c,H,F,i),O=!1;
H=K[0];F=K[1];i=K[2];if(H.length==0)return{T5:0,data:H,start:F,B3:null};var f=P(H,i),d=f[2];i+=f[1];
f=P(H,i);var L=f[0];i+=f[1];var G=ev.rk[d];if(G.q!="SimpleBlock"&&G.q!="BlockGroup"){var x="SeekHead Tags Void Info Tracks Attachments Chapters Tags Cues".split(" ");
if(x.indexOf(G.q)==-1){do{if(G.q=="Cluster"){L=0}i+=L;K=await s(c,H,F,F+i);H=K[0];F=K[1];i=K[2];if(H.length==0)return{T5:0,data:H,start:F,B3:null};
f=P(H,i);d=f[2];i+=f[1];f=P(H,i);L=f[0];i+=f[1];G=ev.rk[d];if(G.q=="Timestamp"){X=D(H,i,L)}}while(G.q!="SimpleBlock"&&G.q!="BlockGroup")}else return{T5:0,data:H,start:F,B3:null}}if(G.q=="BlockGroup"){O=!0}return{T5:F+i+L,data:H,start:F,B3:o(H.slice(i,i+L),O),timeStamp:X}}async function $(c,H,F,i,X){var K={},f=i-F;
if(H==null){H=await l1.Hq(c,f);F=f;f=0}while(f+F<X&&!V){var d,L=f+F,G=P(H,f),x=G[2];f+=G[1];G=P(H,f);
var O=G[0];f+=G[1];var v=ev.rk[x];if(!v){throw"Unknown EBML element "+x.toString(16)}var C=v.q,S=f+O,j=f+F;
if(S>H.byteLength&&C!="Segment"){H=await l1.Hq(c,F,S)}if(v.L=="m"&&C=="Cluster"){V=!0;return[f,K]}if(v.L=="m"){var w=await $(c,H,F,F+f,F+S);
f=w[0];w[1].g=L;w[1].ajb=j;if(v.F==1){if(K[C]==null){K[C]=[]}K[C].push(w[1])}else{K[C]=w[1]}if(V){break}}else{if(v.L=="8"){d=y.vK(H,f,O)}else if(v.L=="s"){d=y.JU(H,f,O)}else if(v.L=="b"){d=y.Nh(H,f,O)}else if(v.L=="u"){d=D(H,f,O)}else if(v.L=="i"){d=B(H,f,O)}else if(v.L=="f"){if(O==4){d=y.ad(H,f)}else if(O==8){d=y.my(H,f)}else throw"Cannot read float of size "+O.toString()}else if(v.L=="d"){var u=D(H,f,O);
u*=1e-6;u+=new Date(2001,1,1).valueOf()-new Date(1970,1,1).valueOf();d=new Date(u)}else{d=O}f+=O;if(v.q=="SeekID"){var l=A(d);
d=l}if(v.F==1){if(K[C]==null){K[C]=[]}K[C].push(d)}else{K[C]=d}}if(f+F<X&&f>=H.byteLength){F+=f;f=0;
H=await l1.Hq(c,F)}}return[f,K]}function U(c,H){var F=c.Segment.Tracks.TrackEntry,i=[];for(var n=0;n<F.length;
++n){var X=F[n];if(X.TrackType==H){i.push(X)}}return i}function o(c,H){var F,i,X,K=0;if(H){F=P(c,K);
var f=F[2];K+=F[1];F=P(c,K);var d=F[0];K+=F[1];i=K+d}F=P(c,K);K+=F[1];var L=F[0],G=B(c,K,2);K+=2;var x=c[K],O=x>>>7;
K+=1;if(H){X=c.slice(K,i)}else{X=c.slice(K)}return[L,G,O,X]}async function t(c){var H=await $(c,null,0,0,c.size);
V=!1;var F=H[1];if(F.Segment.SeekHead){var i=F.Segment.SeekHead;for(var n=0;n<i.length;++n){if(i[n].Seek){for(var X=0;
X<i[n].Seek.length;++X){if(i[n].Seek[X].SeekID=="KaxSeekHead"){var K=i[n].Seek[X].SeekPosition+F.Segment.ajb;
H=await $(c,null,0,K,c.size);V=!1;F.Segment.SeekHead.push(H[1])}else if(i[n].Seek[X].SeekID=="KaxCues"){if(!F.Segment.Cues){K=i[n].Seek[X].SeekPosition+F.Segment.ajb;
H=await $(c,null,0,K,c.size);V=!1;F.Segment.Cues=H[1].Cues}}}}}}else{console.log("No seek heads parsed, WIP, not implemented yet.")}return F}return{iA:t,getTracks:U,nO:M,gy:a}}();
ev.rk={440786851:{q:"EBML",L:"m",F:0},17030:{q:"EBMLVersion",L:"u",F:0},17143:{q:"EBMLReadVersion",L:"u",F:0},17026:{q:"DocType",L:"s",F:0},17031:{q:"DocTypeVersion",L:"u",F:0},17029:{q:"DocTypeReadVersion",L:"u",F:0},17028:{q:"DocTypeExtensionVersion",L:"u",F:0},191:{q:"CRC-32",L:"b",F:0},236:{q:"Void",L:"b",F:1},17138:{q:"EBMLMaxIDLength",L:"u",F:0},17139:{q:"EBMLMaxSizeLength",L:"u",F:0},408125543:{q:"Segment",L:"m",F:0},290298740:{q:"SeekHead",L:"m",F:1},19899:{q:"Seek",L:"m",F:1},21419:{q:"SeekID",L:"b",F:0},21420:{q:"SeekPosition",L:"u",F:0},357149030:{q:"Info",L:"m",F:0},29604:{q:"SegmentUUID",L:"b",F:0},29572:{q:"SegmentFilename",L:"8",F:0},3979555:{q:"PrevUUID",L:"b",F:0},3965867:{q:"PrevFilename",L:"8",F:0},4110627:{q:"NextUUID",L:"b",F:0},4096955:{q:"NextFilename",L:"8",F:0},17476:{q:"SegmentFamily",L:"b",F:1},26916:{q:"ChapterTranslate",L:"m",F:1},27045:{q:"ChapterTranslateID",L:"b",F:0},27071:{q:"ChapterTranslateCodec",L:"u",F:0},27132:{q:"ChapterTranslateEditionUID",L:"u",F:1},2807729:{q:"TimestampScale",L:"u",F:0},17545:{q:"Duration",L:"f",F:0},17505:{q:"DateUTC",L:"d",F:0},31657:{q:"Title",L:"8",F:0},19840:{q:"MuxingApp",L:"8",F:0},22337:{q:"WritingApp",L:"8",F:0},524531317:{q:"Cluster",L:"m",F:1},231:{q:"Timestamp",L:"u",F:0},22612:{q:"SilentTracks",L:"m",F:0},22743:{q:"SilentTrackNumber",L:"u",F:1},167:{q:"Position",L:"u",F:0},171:{q:"PrevSize",L:"u",F:0},163:{q:"SimpleBlock",L:"b",F:1},160:{q:"BlockGroup",L:"m",F:1},161:{q:"Block",L:"b",F:0},162:{q:"BlockVirtual",L:"b",F:0},30113:{q:"BlockAdditions",L:"m",F:0},166:{q:"BlockMore",L:"m",F:1},165:{q:"BlockAdditional",L:"b",F:0},238:{q:"BlockAddID",L:"u",F:0},155:{q:"BlockDuration",L:"u",F:0},250:{q:"ReferencePriority",L:"u",F:0},251:{q:"ReferenceBlock",L:"i",F:1},253:{q:"ReferenceVirtual",L:"i",F:0},164:{q:"CodecState",L:"b",F:0},30114:{q:"DiscardPadding",L:"i",F:0},142:{q:"Slices",L:"m",F:0},232:{q:"TimeSlice",L:"m",F:1},204:{q:"LaceNumber",L:"u",F:0},205:{q:"FrameNumber",L:"u",F:0},203:{q:"BlockAdditionID",L:"u",F:0},206:{q:"Delay",L:"u",F:0},207:{q:"SliceDuration",L:"u",F:0},200:{q:"ReferenceFrame",L:"m",F:0},201:{q:"ReferenceOffset",L:"u",F:0},202:{q:"ReferenceTimestamp",L:"u",F:0},175:{q:"EncryptedBlock",L:"b",F:1},374648427:{q:"Tracks",L:"m",F:0},174:{q:"TrackEntry",L:"m",F:1},215:{q:"TrackNumber",L:"u",F:0},29637:{q:"TrackUID",L:"u",F:0},131:{q:"TrackType",L:"u",F:0},185:{q:"FlagEnabled",L:"u",F:0},136:{q:"FlagDefault",L:"u",F:0},21930:{q:"FlagForced",L:"u",F:0},21931:{q:"FlagHearingImpaired",L:"u",F:0},21932:{q:"FlagVisualImpaired",L:"u",F:0},21933:{q:"FlagTextDescriptions",L:"u",F:0},21934:{q:"FlagOriginal",L:"u",F:0},21935:{q:"FlagCommentary",L:"u",F:0},156:{q:"FlagLacing",L:"u",F:0},28135:{q:"MinCache",L:"u",F:0},28152:{q:"MaxCache",L:"u",F:0},2352003:{q:"DefaultDuration",L:"u",F:0},2313850:{q:"DefaultDecodedFieldDuration",L:"u",F:0},2306383:{q:"TrackTimestampScale",L:"f",F:0},21375:{q:"TrackOffset",L:"i",F:0},21998:{q:"MaxBlockAdditionID",L:"u",F:0},16868:{q:"BlockAdditionMapping",L:"m",F:1},16880:{q:"BlockAddIDValue",L:"u",F:0},16804:{q:"BlockAddIDName",L:"s",F:0},16871:{q:"BlockAddIDType",L:"u",F:0},16877:{q:"BlockAddIDExtraData",L:"b",F:0},21358:{q:"Name",L:"8",F:0},2274716:{q:"Language",L:"s",F:0},2274717:{q:"LanguageBCP47",L:"s",F:0},134:{q:"CodecID",L:"s",F:0},25506:{q:"CodecPrivate",L:"b",F:0},2459272:{q:"CodecName",L:"8",F:0},29766:{q:"AttachmentLink",L:"u",F:0},3839639:{q:"CodecSettings",L:"8",F:0},3883072:{q:"CodecInfoURL",L:"s",F:1},2536e3:{q:"CodecDownloadURL",L:"s",F:1},170:{q:"CodecDecodeAll",L:"u",F:0},28587:{q:"TrackOverlay",L:"u",F:1},22186:{q:"CodecDelay",L:"u",F:0},22203:{q:"SeekPreRoll",L:"u",F:0},26148:{q:"TrackTranslate",L:"m",F:1},26277:{q:"TrackTranslateTrackID",L:"b",F:0},26303:{q:"TrackTranslateCodec",L:"u",F:0},26364:{q:"TrackTranslateEditionUID",L:"u",F:1},224:{q:"Video",L:"m",F:0},154:{q:"FlagInterlaced",L:"u",F:0},157:{q:"FieldOrder",L:"u",F:0},21432:{q:"StereoMode",L:"u",F:0},21440:{q:"AlphaMode",L:"u",F:0},21433:{q:"OldStereoMode",L:"u",F:0},176:{q:"PixelWidth",L:"u",F:0},186:{q:"PixelHeight",L:"u",F:0},21674:{q:"PixelCropBottom",L:"u",F:0},21691:{q:"PixelCropTop",L:"u",F:0},21708:{q:"PixelCropLeft",L:"u",F:0},21725:{q:"PixelCropRight",L:"u",F:0},21680:{q:"DisplayWidth",L:"u",F:0},21690:{q:"DisplayHeight",L:"u",F:0},21682:{q:"DisplayUnit",L:"u",F:0},21683:{q:"AspectRatioType",L:"u",F:0},3061028:{q:"UncompressedFourCC",L:"b",F:0},3126563:{q:"GammaValue",L:"f",F:0},2327523:{q:"FrameRate",L:"f",F:0},21936:{q:"Colour",L:"m",F:0},21937:{q:"MatrixCoefficients",L:"u",F:0},21938:{q:"BitsPerChannel",L:"u",F:0},21939:{q:"ChromaSubsamplingHorz",L:"u",F:0},21940:{q:"ChromaSubsamplingVert",L:"u",F:0},21941:{q:"CbSubsamplingHorz",L:"u",F:0},21942:{q:"CbSubsamplingVert",L:"u",F:0},21943:{q:"ChromaSitingHorz",L:"u",F:0},21944:{q:"ChromaSitingVert",L:"u",F:0},21945:{q:"Range",L:"u",F:0},21946:{q:"TransferCharacteristics",L:"u",F:0},21947:{q:"Primaries",L:"u",F:0},21948:{q:"MaxCLL",L:"u",F:0},21949:{q:"MaxFALL",L:"u",F:0},21968:{q:"mingMetadata",L:"m",F:0},21969:{q:"PrimaryRChromaticityX",L:"f",F:0},21970:{q:"PrimaryRChromaticityY",L:"f",F:0},21971:{q:"PrimaryGChromaticityX",L:"f",F:0},21972:{q:"PrimaryGChromaticityY",L:"f",F:0},21973:{q:"PrimaryBChromaticityX",L:"f",F:0},21974:{q:"PrimaryBChromaticityY",L:"f",F:0},21975:{q:"WhitePointChromaticityX",L:"f",F:0},21976:{q:"WhitePointChromaticityY",L:"f",F:0},21977:{q:"LuminanceMax",L:"f",F:0},21978:{q:"LuminanceMin",L:"f",F:0},30320:{q:"Projection",L:"m",F:0},30321:{q:"ProjectionType",L:"u",F:0},30322:{q:"ProjectionPrivate",L:"b",F:0},30323:{q:"ProjectionPoseYaw",L:"f",F:0},30324:{q:"ProjectionPosePitch",L:"f",F:0},30325:{q:"ProjectionPoseRoll",L:"f",F:0},225:{q:"Audio",L:"m",F:0},181:{q:"SamplingFrequency",L:"f",F:0},30901:{q:"OutputSamplingFrequency",L:"f",F:0},159:{q:"Channels",L:"u",F:0},32123:{q:"ChannelPositions",L:"b",F:0},25188:{q:"BitDepth",L:"u",F:0},21233:{q:"Emphasis",L:"u",F:0},226:{q:"TrackOperation",L:"m",F:0},227:{q:"TrackCombinePlanes",L:"m",F:0},228:{q:"TrackPlane",L:"m",F:1},229:{q:"TrackPlaneUID",L:"u",F:0},230:{q:"TrackPlaneType",L:"u",F:0},233:{q:"TrackJoinBlocks",L:"m",F:0},237:{q:"TrackJoinUID",L:"u",F:1},192:{q:"TrickTrackUID",L:"u",F:0},193:{q:"TrickTrackSegmentUID",L:"b",F:0},198:{q:"TrickTrackFlag",L:"u",F:0},199:{q:"TrickmTrackUID",L:"u",F:0},196:{q:"TrickmTrackSegmentUID",L:"b",F:0},28032:{q:"ContentEncodings",L:"m",F:0},25152:{q:"ContentEncoding",L:"m",F:1},20529:{q:"ContentEncodingOrder",L:"u",F:0},20530:{q:"ContentEncodingScope",L:"u",F:0},20531:{q:"ContentEncodingType",L:"u",F:0},20532:{q:"ContentCompression",L:"m",F:0},16980:{q:"ContentCompAlgo",L:"u",F:0},16981:{q:"ContentCompSettings",L:"b",F:0},20533:{q:"ContentEncryption",L:"m",F:0},18401:{q:"ContentEncAlgo",L:"u",F:0},18402:{q:"ContentEncKeyID",L:"b",F:0},18407:{q:"ContentEncAESSettings",L:"m",F:0},18408:{q:"AESSettingsCipherMode",L:"u",F:0},18403:{q:"ContentSignature",L:"b",F:0},18404:{q:"ContentSigKeyID",L:"b",F:0},18405:{q:"ContentSigAlgo",L:"u",F:0},18406:{q:"ContentSigHashAlgo",L:"u",F:0},475249515:{q:"Cues",L:"m",F:0},187:{q:"CuePoint",L:"m",F:1},179:{q:"CueTime",L:"u",F:0},183:{q:"CueTrackPositions",L:"m",F:1},247:{q:"CueTrack",L:"u",F:0},241:{q:"CueClusterPosition",L:"u",F:0},240:{q:"CueRelativePosition",L:"u",F:0},178:{q:"CueDuration",L:"u",F:0},21368:{q:"CueBlockNumber",L:"u",F:0},234:{q:"CueCodecState",L:"u",F:0},219:{q:"CueReference",L:"m",F:1},150:{q:"CueRefTime",L:"u",F:0},151:{q:"CueRefCluster",L:"u",F:0},21343:{q:"CueRefNumber",L:"u",F:0},235:{q:"CueRefCodecState",L:"u",F:0},423732329:{q:"Attachments",L:"m",F:0},24999:{q:"AttachedFile",L:"m",F:1},18046:{q:"FileDescription",L:"8",F:0},18030:{q:"FileName",L:"8",F:0},18016:{q:"FileMediaType",L:"s",F:0},18012:{q:"FileData",L:"b",F:0},18094:{q:"FileUID",L:"u",F:0},18037:{q:"FileReferral",L:"b",F:0},18017:{q:"FileUsedStartTime",L:"u",F:0},18018:{q:"FileUsedEndTime",L:"u",F:0},272869232:{q:"Chapters",L:"m",F:0},17849:{q:"EditionEntry",L:"m",F:1},17852:{q:"EditionUID",L:"u",F:0},17853:{q:"EditionFlagHidden",L:"u",F:0},17883:{q:"EditionFlagDefault",L:"u",F:0},17885:{q:"EditionFlagOrdered",L:"u",F:0},17696:{q:"EditionDisplay",L:"m",F:1},17697:{q:"Editions",L:"8",F:0},17892:{q:"EditionLanguageIETF",L:"s",F:1},182:{q:"ChapterAtom",L:"m",F:1},29636:{q:"ChapterUID",L:"u",F:0},22100:{q:"ChaptersUID",L:"8",F:0},145:{q:"ChapterTimeStart",L:"u",F:0},146:{q:"ChapterTimeEnd",L:"u",F:0},152:{q:"ChapterFlagHidden",L:"u",F:0},17816:{q:"ChapterFlagEnabled",L:"u",F:0},28263:{q:"ChapterSegmentUUID",L:"b",F:0},17800:{q:"ChapterSkipType",L:"u",F:0},28348:{q:"ChapterSegmentEditionUID",L:"u",F:0},25539:{q:"ChapterPhysicalEquiv",L:"u",F:0},143:{q:"ChapterTrack",L:"m",F:0},137:{q:"ChapterTrackUID",L:"u",F:1},128:{q:"ChapterDisplay",L:"m",F:1},133:{q:"Chaps",L:"8",F:0},17276:{q:"ChapLanguage",L:"s",F:1},17277:{q:"ChapLanguageBCP47",L:"s",F:1},17278:{q:"ChapCountry",L:"s",F:1},26948:{q:"ChapProcess",L:"m",F:1},26965:{q:"ChapProcessCodecID",L:"u",F:0},17677:{q:"ChapProcessPrivate",L:"b",F:0},26897:{q:"ChapProcessCommand",L:"m",F:1},26914:{q:"ChapProcessTime",L:"u",F:0},26931:{q:"ChapProcessData",L:"b",F:0},307544935:{q:"Tags",L:"m",F:1},29555:{q:"Tag",L:"m",F:1},25536:{q:"Targets",L:"m",F:0},26826:{q:"TargetTypeValue",L:"u",F:0},25546:{q:"TargetType",L:"s",F:0},25541:{q:"TagTrackUID",L:"u",F:1},25545:{q:"TagEditionUID",L:"u",F:1},25540:{q:"TagChapterUID",L:"u",F:1},25542:{q:"TagAttachmentUID",L:"u",F:1},26568:{q:"SimpleTag",L:"m",F:1},17827:{q:"TagName",L:"8",F:0},17530:{q:"TagLanguage",L:"s",F:0},17531:{q:"TagLanguageBCP47",L:"s",F:0},17540:{q:"TagDefault",L:"u",F:0},17588:{q:"TagDefaultBogus",L:"u",F:0},17543:{q:"Tags",L:"8",F:0},17541:{q:"Tagb",L:"b",F:0}};
function dw(z,q){l1.ik.call(this,z,q);this._o=l1.ik._o;this.Gg=l1.ik.Gg;this.fc=l1.ik.fc;this.L_=l1.ik.L_;
this.Zt=function(e){return e};this.T5=0;this.data=null;this.start=0;this.PS=null;this.Sd=null;this.a7Y=0;
this.pe=0}dw.prototype.asr=async function(){this.ZQ=new VideoDecoder({output:fx=>this.fc(fx),error:function(e){console.log(e.message)}});
var z={codec:this.PS};if(this.Sd){z.description=this.Sd}var q=await VideoDecoder.isConfigSupported(z);
if(q.supported==!0){this.ZQ.configure(z)}else{console.log("Codec not supported.",z)}};dw.prototype.a45=async function(){if(!this.cues)return null;
var z=this.cues[this.cues.length-1],q=await ev.gy(this.rP,this.vh,this.data,this.start,z),e=q.timeStamp,V,P=[];
this.T5=q.T5;this.data=q.data;this.start=q.start;do{if(q.B3&&q.B3[0]==1){V=q;P.push(q.B3[1])}q=await ev.nO(this.rP,this.data,this.start,this.T5);
if(q.timeStamp){e=q.timeStamp}this.T5=q.T5;this.data=q.data;this.start=q.start}while(q.T5>0);if(!this.AV){P.sort((cW,df)=>cW-df);
this.AV=Math.round((P[P.length-1]-P[0])/(P.length-1));this.pw=1e3/this.AV}this.frames=Math.floor((e+V.B3[1]+this.AV-this.a7Y)/this.AV)};
dw.prototype.s0=async function(){this.vh=await ev.iA(this.rP);this.aC2={};this.eW={};this.fW=ev.getTracks(this.vh,1);
var z=!0;if(this.fW.length>0){var q=this.fW[0],e=q.TrackNumber,V=q.CodecID;if(q.CodecPrivate)this.Sd=q.CodecPrivate;
var P=q.Video.PixelWidth,D=q.Video.PixelHeight,B=this.vh.Segment.Info.TimestampScale,A=q.DefaultDuration/B;
this.pw=1e3/A;this.AV=A;var s=["V_VP8","V_VP9","V_MPEG4/ISO/AVC","V_MPEGH/ISO/HEVC"],a=["vp8","vp09.00.10.08","avc1.640034","hvc1"],M=s.indexOf(V);
if(M>=0)this.PS=a[M];if(this.PS=="hvc1"){if(this.Sd){this.PS=l1.aeK(this.Sd)}else{this.PS=null}}console.assert(this.PS!=null,"Codec "+V.toString()+" not supported.");
if(this.PS==null){z=!1}var $=this.vh.Segment.Cues.CuePoint;this.cues=[];for(var n=0;n<$.length;++n){for(var U=0;
U<$[n].CueTrackPositions.length;++U){if($[n].CueTrackPositions[U].CueTrack==e){this.cues.push({av4:$[n].CueTime,BA:$[n].CueTrackPositions[U]})}}}if(this.cues[0].av4>0){this.a7Y=this.cues[0].av4}await this.a45();
this.eA=[];for(var n=0;n<this.cues.length;++n){this.eA.push(Math.round((this.cues[n].av4-this.a7Y)/this.AV))}}this.b5={};
if(z&&this.fW.length>0){this.b5.YY={fW:1,v5:this.frames,pw:this.pw,width:P,height:D}}if(!this.Ub){this.Gi=new OffscreenCanvas(this.b5.YY.width,this.b5.YY.height);
this.dj=this.Gi.getContext("2d",{a2a:!0});this.kM=10;this.w9=6}this.qV=!0};1,0,dw.prototype.gy=async function(z){var q=await ev.gy(this.rP,this.vh,this.data,this.start,this.cues[z]);
this.T5=q.T5;this.data=q.data;this.start=q.start;this.abp(q)};dw.prototype.nO=async function(){var z;
do{z=await ev.nO(this.rP,this.data,this.start,this.T5);this.T5=z.T5;this.data=z.data;this.start=z.start}while(z.T5>0&&z.B3[0]!=1);
if(this.T5>0){this.abp(z)}};dw.prototype.abp=function(z){var q=new EncodedVideoChunk({timestamp:z.B3[1],duration:this.AV,type:z.B3[2]==1?"key":"delta",data:z.B3[3]});
if(this.ZQ.state=="configured"){try{this.ZQ.decode(q)}catch(cz){console.log("CAUGHT unconfigured");console.log(cz);
console.log(q)}}else{console.log("unconfigured",this.T5,z);delete z}delete z};dw.prototype.aNy=async function(z,q,e){var V=e*this.AV,P=this.eA.indexOf(q),D=0,B;
for(var n=q;n<e;++n){while(this.pe>0){await new Promise(resolve=>setTimeout(resolve,50))}this.pe=1;if(n==q&&P>=0){await this.gy(P)}else{await this.nO()}this.pe=0}if(e==this.frames){await new Promise(resolve=>setTimeout(resolve,100));
while(this.T5!=0){while(this.pe>0){await new Promise(resolve=>setTimeout(resolve,50))}this.pe=1;await this.nO();
this.pe=0}await this.ZQ.flush()}};var ca=function(){var z,q,e,V,P,D,B=-4,A=-3,s=-2,a=-1;function M(){V+=1;
return e[V-1]}function $(){V+=2;return y.dG(e,V-2)}function U(){V+=4;return y.Zy(e,V-4)}function o(){V+=4;
return y.iM(e,V-4)}function t(f){return 512+512*f}function c(f){return 64*f}function H(f,d){if(f>=d.length){console.log("error?");
return[]}var L=[];while(f!=s){L.push(f);f=d[f];if(f==null)throw f}return L}function F(f,d,L){var G=H(f,L==64?D:P);
if(d==null)d=G.length*L;var x=new Uint8Array(d),O=L==64?q:z;for(var n=0;n<G.length;n++){var v=G[n],C=L==64?c(v):t(v);
x.set(new Uint8Array(O.buffer,C,Math.min(L,d-n*L)),n*L)}return x}function i(f,d){for(var n=0;n<f;n++){var L=U();
if(L==a)continue;d.push(L)}}function X(f,d,L,G){var x=e,O=V,b;e=f;V=d*128;var v=y.UB(e,V,32);V+=64;var C=$();
v=v.slice(0,C-2>>>1);var S=M(),j=M();if(S>5)throw"e";if(j>1)throw"e";var w=U(),u=U(),l=U();V+=16;if(U()!=0)throw"e";
V+=8;V+=8;var I=U(),Q=U();if(U()!=0)throw"e";if(S==1||S==5){if(S==5){q=F(I,null,512)}b={};X(f,l,b,G+1)}else if(S==2){if(Q<4096)b=F(I,Q,64);
else b=F(I,Q,512)}else throw S;if(w!=-1)X(f,w,L,G+1);if(u!=-1)X(f,u,L,G+1);L[v]=b;e=x;V=O}function K(f){e=z=new Uint8Array(f);
V=0;var d=[208,207,17,224,161,177,26,225];for(var n=0;n<8;n++)if(M()!=d[n])throw"e";for(var n=0;n<16;
n++)if(M()!=0)throw"e";var L=$(),G=$();if($()!=-2)throw"big endian";if($()!=9)throw"not 512";if($()!=6)throw"not  64";
for(var n=0;n<10;n++)if(M()!=0)throw"e";var x=U(),O=U();if(U()!=0)throw"e";if(U()!=4096)throw"e";var v=U(),C=U(),S=U(),j=U(),w=[];
i(109,w);for(var n=0;n<j;n++){V=t(S);i(127,w);S=U()}if(w.length!=x)throw"e";P=[];for(var n=0;n<x;n++){V=t(w[n]);
for(var u=0;u<128;u++){var l=U();P.push(l)}}D=[];for(var n=0;n<C;n++){if(isNaN(v))throw"e";V=t(v);for(var u=0;
u<128;u++){var l=U();D.push(l)}v=P[v]}var I=F(O,null,512),Q={};X(I,0,Q,0);return Q["Root Entry"]}return{parse:K}}(),lp=function(){var z,q,a;
function e(){q+=1;return z[q-1]}function V(){q+=2;return y.mU(z,q-2)}function P(){q+=4;return y.vQ(z,q-4)}function D(F){q+=F;
return y.JU(z,q-F,F)}function B(){var F,i;if((i=z[q++])&128){i&=127;do{i=(i<<7)+((F=z[q++])&127)}while(F&128)}return i}function A(F,i,X){var K=[];
for(var n=0;n<X;n++)K.push(F[i+n]);return K}function s(F){z=F;q=0;var i={rU:0,fW:[]},X=e;while(q<z.length){var K=D(4),f=P(),d=q+f;
if(K=="MThd"){var L=V();if(L!=0&&L!=1)throw L;var G=V(),x=V();if(x>>>15==1)throw"e";i.rU=x}else if(K=="MTrk"){var O={zX:[]},v=0,C=0;
i.fW.push(O);while(q<d){var S=B();v+=S;var j=X(),w=[S];O.zX.push(w);if(j==255){var u=X(),l=B(),I;if([1,2,3,4,5,6,75].indexOf(u)!=-1)I=y.JU(F,q,l);
else I=A(F,q,l);if(u==1&&O.name==null||u==3){O.name=I;if(u==3)I=null}w.push(15,15,u,I);q+=l}else if(j==240){var l=B();
w.push(15,0,A(F,q,l));q+=l}else{if(j<128){j=C;q--}if(j>>>4==15){console.log(j.toString(2),w);throw"e"}else{var Q=j>>>4,b=j&15;
w.push(Q,b);if(!1){}else if(Q==8){w.push(X(),X())}else if(Q==9){w.push(X(),X())}else if(Q==10){w.push(X(),X())}else if(Q==11){w.push(X(),X())}else if(Q==12){w.push(X())}else if(Q==13){w.push(X())}else if(Q==14){var p=X(),k=X();
w.push(k*128+p)}else throw Q}C=j}}}else break}return i}function M(F){y.QQ(a,q,F);q+=F.length}function $(hE){y.Ri(a,q,hE);
q+=4}function U(hE){y.jK(a,q,hE);q+=2}function o(hE){y.n$(a,q,hE);q+=1}function t(F){a=new k7;q=0;a.iU(0,1775);
var i=F.fW.length;M("MThd");$(6);U(1);U(i);U(F.rU);for(var X=0;X<i;X++){var K=q;M("MTrk");$(1012);var f=F.fW[X],d=-1;
for(var n=0;n<f.zX.length;n++){var L=f.zX[n],G=L[0],x=L[1],O=L[2],v=L[3],C=L[4],S=L[5];q+=c(a,q,G);var j=(x<<4)+O;
if(j!=d||j==255)o(j);d=j;if(x==15){if(O==15){o(v);if(C==null)C="";q+=c(a,q,C.length);a.iU(q,C.length);
if(typeof C=="string")M(C);else{a.data.set(C,q);q+=C.length}}else if(O==0){c(a,q,v.length);a.iU(q,v.length);
a.data.set(v,q);q+=v.length}else{console.log(L);throw O}}else if(x==8){o(v);o(C)}else if(x==9){o(v);
o(C)}else if(x==11){o(v);o(C)}else if(x==12){o(v)}else if(x==14){o(v&127);o(v>>>7)}else throw x}y.lt(a.data,K+4,q-K-8)}return a.data.slice(0,q)}function c(a,q,F){a.iU(q,8);
return H(a.data,q,F)}function H(F,q,i){var X=q,K=0;K=i&127;while((i>>=7)>0){K<<=8;K|=128;K+=i&127}while(!0){F[q]=K&255;
q++;if(K&128)K>>=8;else break}return q-X}return{iA:s,Ft:t,a0V:B,acm:H}}(),b5=function(){var z,q,e;function V(){e+=20;
var d=y.JU(q,e-20,20);return d.slice(0,d.indexOf("\0"))}function P(){e+=2;return y.iJ(q,e-2)}function D(){e+=2;
return new Int16Array(q.slice(e-2,e).buffer)[0]}function B(){e+=4;return y.iM(q,e-4)}function A(){e+=1;
return q[e-1]}function s(){var d=A();return d>=128?d-256:d}function a(d,L){var G=null;for(var n=0;n<d.sub.length;
n++)if(d.sub[n].PP==L)G=d.sub[n];return new Uint8Array(z.buffer,G.g,G.size)}function M(d,L){q=a(d,L);
e=0;var G=[];while(e<q.length)G.push({at8:P(),ame:P()});return G}function $(d,L){q=a(d,L);e=0;var G=[];
while(e<q.length)G.push({a8M:P(),aMq:P(),abr:P(),ad8:P(),a2B:P()});return G}function U(d,L){q=a(d,L);
e=0;var G=[];while(e<q.length){var x=P(),O;if(x==43||x==44)O=[A(),A()];else if([0,1,2,3,9,11,17,25,26,27,28,29,30,33,34,35,36,37,38,48,51,52].indexOf(x)!=-1)O=D();
else O=P();G.push({asu:x,aEI:O})}return G}function o(d,L,G){var x={},O=L[d].at8,v=L[d+1].at8;for(var n=O;
n<v;n++){var C=G[n],S=C.aEI,j=C.asu;x[j]=S}return x}function t(d){var L=aI.iA(d),G=L.sub[1],x=G.sub[0];
console.log(G,x);var O=new Uint8Array(d.slice(0)),v=window.a2M;y.Wd(v,0,"ogge");O.fill(0,x.g,x.g+x.size);
O.set(v,x.g);gC.save(O.buffer,"MagicSF.sf35")}function c(d){z=d;var L=aI.iA(d.buffer),G=L.sub[0],x=L.sub[1],O=L.sub[2],v={};
for(var n=0;n<G.sub.length;n++){var C=G.sub[n],S=C.g+C.size;while(z[S-1]==0)S--;v[C.PP]=y.JU(z,C.g,S-C.g)}var j=M(O,"pbag"),w=$(O,"pmod"),u=U(O,"pgen");
q=a(O,"phdr");e=0;var l=[];while(e<q.length)l.push({Q7:V(),Jw:P(),a7w:P(),aml:P(),aeo:B(),avS:B(),aPD:B()});
for(var n=0;n<l.length-1;n++){var I=l[n],Q=I.aml,b=l[n+1].aml;delete I.aeo;delete I.avS;delete I.aPD;
I.VX=[];for(var p=Q;p<b;p++)I.VX.push(o(p,j,u));if(I.VX[0][K.a7V]!=null)I.VX.unshift({})}var k=M(O,"ibag"),g=$(O,"imod"),Y=U(O,"igen");
q=a(O,"inst");e=0;var R=[];while(e<q.length)R.push({a5m:V(),aG6:P()});for(var n=0;n<R.length-1;n++){var I=R[n],Q=I.aG6,b=R[n+1].aG6;
I.VX=[];for(var p=Q;p<b;p++)I.VX.push(o(p,k,Y));if(I.VX[0][K.afq]!=null)I.VX.unshift({})}q=a(O,"shdr");
e=0;var m=[];while(e<q.length)m.push({Q7:V(),start:B(),end:B(),ao5:B(),aJK:B(),Mr:B(),ajk:A(),apv:s(),aLt:P(),aq9:P()});
var Z={},E=a(x,"smpl"),N=y.JU(E,0,4);if(N=="qoaf"){var h=Date.now(),j5=hZ.aF0.EY(E.buffer);console.log(Date.now()-h);
E=j5.kv[0]}else if(N=="OggS"){var r=0;for(var n=0;n<m.length-1;n++){var l8=m[n],aP=l8.Mr,bS=Z[l8.start]=[null,!0],kR=new AudioContext({sampleRate:aP});
kR.decodeAudioData(E.slice(l8.start,l8.end).buffer,function(d){var gx=d.getChannelData(0);if(this[0]!=null)throw"e";
var lC=this[0]=new Int16Array(gx.length);for(var n=0;n<gx.length;n++)lC[n]=Math.round(Math.max(-1,Math.min(1,gx[n]))*32767)}.bind(bS))}}else{var j1=new Int16Array(E.buffer);
for(var n=0;n<m.length;n++){var l8=m[n];Z[l8.start]=[j1,!1]}if(N=="ogge"){y.Wd(E,0,"OggS");var kR=new AudioContext({sampleRate:24e3});
kR.decodeAudioData(E.slice(0).buffer,function(d){var gx=d.getChannelData(0),lC=new Int16Array(gx.length);
for(var n=0;n<j1.length;n++)j1[n]=Math.round(Math.max(-1,Math.min(1,gx[n]))*32767)})}}var f6={_o:v,aKc:l,asb:j,aoB:w,aNL:u,a8l:R,aer:k,aLC:g,az_:Y,aIX:m,_K:Z};
return f6}function H(d,L){for(var G in d)L[G]=d[G]}function F(d,L){for(var G in d){if(G=="41"||G=="53")L[G]=d[G];
else if(G=="43"||G=="44"){}else if("0 1 2 3 4 12 45 50 54 57 58".split(" ").indexOf(G)!=-1)L[G]=d[G];
else if(G=="48")L[G]=d[G];else{if(L[G]==null){console.log(G,f(d),f(L));throw"e"}else{L[G]+=d[G]}}}}function i(d,L,G,x){if(d.a0w==null)d.a0w={};
var O=d.a0w[L];if(O==null){var v=d.aKc;for(var n=0;n<v.length-1;n++){if(L!=200&&v[n].a7w==0&&v[n].Jw==L||L==200&&v[n].a7w==128){if(O!=null&&L!=200)throw"e";
if(O==null||v[n].Jw<O.Jw)O=v[n]}}if(O==null&&L==200)for(var n=0;n<v.length-1;n++){if(v[n].Jw==127)O=v[n]}if(O==null)for(var n=0;
n<v.length-1;n++){if(v[n].Jw==0)O=v[n]}d.a0w[L]=O}if(O==null)console.log(L,G,x,O);var C=[];for(var S=1;
S<O.VX.length;S++){var j=O.VX[S];if(!X(j,G,x))continue;delete j[K.aDu];var w=d.a8l[j[K.a7V]];for(var n=1;
n<w.VX.length;n++){var u=w.VX[n];if(!X(u,G,x))continue;var l={2:0,3:0,8:13500,9:0,11:0,15:0,16:0,17:0,21:-12e3,28:-12e3,33:-12e3,34:-12e3,37:0,38:-12e3,39:0,45:0,50:0,51:0,52:0,48:0,54:0};
H(w.VX[0],l);H(w.VX[n],l);F(O.VX[0],l);F(O.VX[S],l);C.push(l)}}return C}function X(d,L,G){var x=d[K.alM],O=d[K.aKr];
return(x==null||x[0]<=L&&L<=x[1])&&(O==null||O[0]<=G&&G<=O[1])}var K={a2W:0,aH$:1,a2S:2,a21:3,adB:4,ajR:5,aGO:6,aNx:7,abV:8,a8o:9,aFI:10,aPc:11,axT:12,arf:13,a7s:15,avy:16,Fm:17,a5M:21,azF:22,am5:23,aJt:24,ad_:25,ale:26,axo:27,an_:28,aOe:29,aq4:30,az$:32,aF8:33,aDu:34,ayw:35,a3u:36,apu:37,a7k:38,a0e:39,awb:40,a7V:41,alM:43,aKr:44,a3l:45,a6X:46,aGV:47,aam:48,am3:50,a1A:51,a3I:52,afq:53,loop:54,aBl:54,aqn:56,aa7:57,aq6:58};
function f(d){var L={};for(var G in K){var n=K[G];if(d[n]!=null)L[n+"-"+G]=d[n]}return L}return{iA:c,gY:i,sb:K,aO7:f}}(),W={};
W.WU=function(z){return window.devicePixelRatio||1};W.DG=function(z,q){return(q.a5Y=="touch"?12:8)*W.WU()/z.A.C7};
W._u=function(){var z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfAgMAAABiwP6qAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAAAAA////g93P0gAAAAN0Uk5TAP//RFDWIQAAACxJREFUeJxjYGBgYHVggAA2ujNCQ0PDgDiEIWvVqpWrVq1aghAZEPcwQEMDAMwiEgB+z9L1AAAAAElFTkSuQmCC",q=W.WU(),e=15.5/q;
return"image-set(url('"+z+"') "+q+"x) "+e+" "+e+",auto"};W.__=function(z,q,e){this.name=z;this.id=q;
this.Av=null;if(e!=null)this.V5=e};W.__.prototype.If=function(z,q,e,V,P){};W.__.prototype.enable=function(z,q,e,V,P,D){var B=new dW(_.E.b,!0);
B.data={p:_.m.XL,ia:"default"};q.K(B)};W.__.prototype.disable=function(z,q,e,V,P){};W.__.prototype.a5t=function(z,q,e,V,P){return!1};
W.__.prototype.Qy=function(z,q,e,V,P){};W.__.prototype.gr=function(z,q,e,V,P){};W.__.prototype.Sf=function(z,q,e,V,P){};
W.__.prototype.AM=function(z,q,e,V,P,D){};W.__.prototype.D1=function(z,q,e,V,P){};W.__.prototype.gi=function(z,q,e,V){};
W.__.prototype.zs=function(z,q,e,V){};W.__.prototype.Yi=function(z,q){};W.__.prototype.I7=function(z,q){};
W.__.prototype.MM=function(z){return 0};W.__.prototype.Ne=function(z,q,e,V,P){};W.__.prototype.K5=function(z,q){};
W.__.prototype.Hp=function(z,q){return!1};W.__.prototype.VV=function(z,q){return!1};W.__.prototype.ay=function(){return!1};
W.__.prototype.tA=function(z,q){return!0};W.__.prototype.NA=function(){return null};W.__.prototype.SZ=function(z,q,e){};
W.__.prototype.aJ4=function(){return!1};W.__.prototype.wv=function(z,q,e,V){};W.__.prototype.track=function(z){var q=new dW(_.E.zN,!0);
q.data=z;z.rD=!0;this.Av.K(q)};W.__.Lq=function(z,q,e,V){var P=10*W.WU()*(z.a5Y=="touch"?2:1),D=z.x+P,B=z.y-P,A=T.tR.Xw(q.s,e.do,V,e.s,!0),s=T.tR.Xw(q.T,e.do,V,e.T,!0);
while(A.length<s.length)A=" "+A;while(A.length>s.length)s=" "+s;W.__.jq(D,B,[iE.get([12,41]).charAt(0)+": "+A,iE.get([12,42]).charAt(0)+": "+s],e)};
W.__.jq=function(z,q,e,V){function P(a,c,H,F,i,X){a.beginPath();a.moveTo(c,H+X);a.arcTo(c,H+i,c+X,H+i,X);
a.arcTo(c+F,H+i,c+F,H+i-X,X);a.arcTo(c+F,H,c+F-X,H,X);a.arcTo(c,H,c,H+X,X)}var D=W.WU(),B=Math.round,A=B(11*D),s=W.__.ai1,M=0;
if(s==null)s=W.__.ai1=document.createElement("canvas");var a=s.getContext("2d");a.font=A+"px monospace";
for(var n=0;n<e.length;n++)M=Math.max(M,a.measureText(e[n]).width);var $=B(M+12*D),U=B((e.length*14+5)*D),o=new kk(z,q-U,$,U);
if(s.width!=$||s.height!=U){s.width=$;s.height=U;a.font=A+"px monospace"}a.clearRect(0,0,$,U);a.fillStyle="rgba(0,0,3,0.8)";
P(a,0,0,$,U,B(4*D));a.fill();a.fillStyle="rgba(255,255,255,1)";for(var n=0;n<e.length;n++)a.fillText(e[n],B(6*D),B((n+1)*13*D));
var t=[a.getImageData(0,0,$,U).data,o.Y()];if(V)V.X.QZ=[t];return t};W.__.ai1=null;W.__.a2r=function(z,q,e,V){if(q)this.Av=q;
var P=this.aEj;if(z)P=[z.s,z.T,z.do];if(e&&P)P[3]=e.Y8.oZ;this.aEj=P;var D=new dW(_.E.b,!0);D.data={p:_.m.R9,U:this.id,fh:P};
if(this.Av)this.Av.K(D)};W.__.hu=function(z){z.prototype.zs=W.__.a2r;z.prototype.K5=function(q,e){if(e==cR.qU||e==cR.zu)this.zs(null,null,q,null)}};
W.HI="0";W.qK="1";W.a5v="2";W.acQ="3";W.$v="5";W.aLb="6";W.a0O="7";W.$s="8";W.bF="9";W.M7="10";W.TN="11";
W.vS="12";W.U$="13";W.T3="14";W._q="15";W.HD="16";W.T2="18";W.KU="19";W.asZ="90";W.OD="20";W.QM="21";
W.xm="22";W.YO="23";W.zZ="24";W.FL="25";W.RF="27";W.bx="31";W.L5="32";W.aFO="33";W.Xy="34";W.afD="35";
W.mM="36";W.z6="37";W.lP="38";W.qZ="39";W.Ot="40";W.oI="41";W.qm="42";W.Al="43";W.axN="44";W.acc="45";
W.az5="46";W.awI="72";W.no="47";W.rn="48";W.RY="51";W.pg="52";W.v8="54";W.Ms="55";W.GN="56";W.jx="57";
W.pY="58";W.RJ="59";W.FB="60";W.OF="61";W.r9="70";W.jg="71";W.ap8="73";W.Rs="100";W.zi="101";W.Z5="102";
W.W_="103";W.hC="120";W.nL="121";W.PV="122";W.j4="230";W.aLM="231";W.S3="232";W.si="233";W.Eg="234";
W.pa="235";W.Ao="236";W.c6={};W.c6[W.YO]="tools/brush";W.c6[W.zZ]="tools/pencil";W.c6[W.bx]="tools/eraser";
W.c6[W.no]="tools/htype";W.$Y={PcTl:W.zZ,PbTl:W.YO,moveTool:W.HI,cloneStampTool:W.RF,typeCreateOrEditTool:W.no,artboardTool:W.r9,marqueeRectTool:W.qK,typeVerticalCreateOrEditTool:W.rn,perspectiveCropTool:W.TN,marqueeEllipTool:W.a5v,eyedropperTool:W.T3,eraserTool:W.bx,pathComponentSelectTool:W.RY,lassoTool:W.$v,backgroundEraserTool:W.L5,directSelectTool:W.pg,polySelTool:W.aLb,rectangleTool:W.v8,magneticLassoTool:W.a0O,gradientTool:W.Xy,quickSelectTool:W.$s,bucketTool:W.afD,ellipseTool:W.Ms,magicWandTool:W.bF,blurTool:W.mM,polygonTool:W.GN,cropTool:W.M7,sharpenTool:W.z6,lineTool:W.jx,sliceTool:W.vS,smudgeTool:W.lP,customShapeTool:W.pY,sliceSelectTool:W.U$,dodgeTool:W.qZ,spotHealingBrushTool:W.T2,burnInTool:W.Ot,saturationTool:W.oI,penTool:W.qm,redEyeTool:W.xm,freeformPenTool:W.Al,rulerTool:W.HD,paintbrushTool:W.YO,handTool:W.RJ,pencilTool:W.zZ,zoomTool:W.OF,objectSelectTool:W.acQ,healingBrushTool:W.KU,patchTool:W.OD,contentAwareMoveTool:W.QM,colorReplacementBrushTool:W.FL,curvaturePenTool:W.axN,rotareViewTool:W.FB};
W.j6=function(z,q,e){W.__.call(this,z,q,e);this.r1={brush:z?ia.ld():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.i=null;this.QR=null;this.Q0=null;this.bJ=null;this.kp=null;this.WS=null;this.cX=null;this.Fs=null;
this.zG=null;this.ml=null;this.$U=null;this.$f=null;this._Q=null;this.Zc=1;this.f7=!1;this.Bp=!1;this.VA=null;
this.Fg;this.caller=null};W.j6.prototype=new W.__;W.j6.prototype.VV=function(z,q){return z._W&&q.t(cz.XQ)};
W.j6.prototype.gr=function(z,q,e,V,P){if(V.t(cz.mh)){this.WS=new f5(P.x,P.y);var D=this.r1.brush.Brsh.v,B=D.Dmtr.v.val,A=D.Hrdn!=null?D.Hrdn.v.val:-1;
this.cX=[B,A,!0,T.G(this.r1.brush),P];this.ZP(e)}};W.j6.prototype.mI=function(z,q,e){var V=this.cX,P=z.A.C7,D=e.x-V[4].x,B=e.y-V[4].y,A=V[0],s=V[1],a=Math.abs(D)>Math.abs(B);
if(a&&V[2]){var M=Math.round(2*D/P);A+=M;e.x-=D-.5*M*P}if(!a&&!V[2]&&s!=-1){var M=Math.round(.25*B);
s+=M;e.y-=B-4*M}A=Math.max(1,A);s=V[1]==-1?-1:Math.max(0,Math.min(100,s));var $=V[3];$.Brsh.v.Dmtr.v.val=A;
if(s!=-1)$.Brsh.v.Hrdn.v.val=s;this.cX=[A,s,a,$,e];var U=bw.nC($,q.pL.Mf,P),o=U[1];o.x=Math.round(this.WS.x-o.s/2);
o.y=Math.round(this.WS.y-o.T/2);z.X.Iu=[U];var t=z.A.UK(this.WS.x,this.WS.y);z.X.bG={N3:[],mP:[t.x-A/2,t.y,t.x+A/2,t.y]};
if(s!=-1)z.X.bG.mP.push(t.x+50/P,t.y-s/2,t.x+50/P,t.y+s/2);z.XU=!0};W.j6.prototype.D1=function(z,q,e,V,P){if(this.id==W.OD||this.id==W.QM)return;
if(this.WS){this.WS=null;this.iD(T.G(this.cX[3]));z.X.Iu=[];z.X.bG=null;z.XU=!0;return}var D=new dW(_.E.b,!0);
D.data={p:_.m.R9,U:this.id,anx:"showBrushOpts",mZ:new f5(P.Go+4,P.x5)};q.K(D)};W.j6.prototype.iD=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.Ln,Lh:cR.LJ,DV:z};this.caller.K(q)};W.j6.J8=function(z,q,e,V,P,D){if(z==null)z="FrgC";
if(q==null)q="norm";if(e==null)e=1;if(P==null)P=!1;var B={classID:"Fl",Usng:{t:"enum",v:{FlCn:z}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(e*100)}},PrsT:{t:"bool",v:P},Md:{t:"enum",v:{BlnM:aA.bi(q)}}};
if(z=="Clr")B.Clr={t:"Objc",v:V};if(z=="contentAware")B.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(z=="Ptrn")B.Ptrn={t:"Objc",v:D};return{gQ:"fill",cj:B}};W.j6.prototype.If=function(z,q,e,V,P){this.Av=q;
var D=e.C2.length,B=D!=0?-1-e.C2[0]:e.j[0],A=e.Z[B],s=A&&A.add.SoLd&&A.add.SoLd.generativeDocInfo,a=z.p=="fromAction"&&z.Wp&&z.Wp.cj&&JSON.stringify(z.Wp.cj).indexOf("aiHeal")!=1;
if(D==0&&!a&&!e.Ov(q))return;if(z.p=="fromAction"){var M=z.Wp,$=M.cj;if($&&$.null&&$.null.v[0]&&$.null.v[0].v.classID=="Path"){var U=e.Kn(),o=U[0],t=U[1],c=o[t.length==0?0:t[0]].add.vmsk;
if(M.gQ=="fill"){var H=c.OX(),F=P.pQ,i=this.r1,X=F>>16&255,K=F>>8&255,f=F>>0&255;this.nN(e,A,H,X,K,f,Math.round(i.opacity*255),i.bmode,"Fill Path")}else{var d=$&&$.Prs&&$.Prs.v,L=JSON.stringify(this.r1.brush);
if(d)ia.aDI(this.r1.brush,[!1,!0]);var G=Date.now();for(var x=0;x<1e3;x++){var O=T.S.ha(c.B,x,!0);if(O==-1){this.AM(e,q,P,V,null);
break}var v=c.B[O],C=c.B.slice(O,O+1+v.length),S=T.R.EP(C,2).J,j=S.slice(0,8);for(var w=8;w<S.length;
w+=6)j.push(S[w-2],S[w-1],S[w],S[w+1],S[w+2],S[w+3],S[w+4],S[w+5]);var u={};u.Points=j;u.TextOnPathTRange=c.wi.slice(0);
var u=kB.gL(u,2,v.e==3),l=u[0],I=e.A.Gb(l[0],l[1]);if(d)I.HJ=0;if(x==0)this.Qy(e,q,P,V,I);else this.QR.moveTo(l[0],l[1],d?0:null);
var Q=l.length,b=v.e==0?Q+2:Q;for(var n=2;n<b;n+=2){I=e.A.Gb(l[n%Q],l[(n+1)%Q]);I._W=!0;if(d){var p=n/b;
I.HJ=2*Math.min(p,1-p)}this.Sf(e,q,P,V,I,this.r1.flow)}this.QR.finish();this.qw(e)}console.log(Date.now()-G);
if(d)this.r1.brush=JSON.parse(L)}}else if(M.gQ=="fill"){var k=$.PrsT?$.PrsT.v:!1,g=A?A.add.lspf:0;if(k&&A){A.add.lspf=g==null?1:g|1}var Y=($.Opct?$.Opct.v.val:100)/100,R=$.Md?aA.pd($.Md.v.BlnM):"norm";
Y=Math.round(255*Y);var m=$.Usng.v.FlCn;if(m=="contentAware"||m=="aiHeal"){if(e.h==null&&!s){alert("Select an area to heal first.");
return}if(m=="aiHeal"&&!jr.Tg(e))return;if(m=="contentAware"){this.Xk(e);this.jJ(e,0);var Z=e.h,E=Z.V.HX(new kk(0,0,e.s,e.T));
if(!E.bs(Z.V)){var N=T.n(E.D(),e.depth);T.KY(Z.o,Z.V,N,E);Z={o:N,V:E}}var h=T.n(Z.V.D()*4);T.yR(Z.o,h,3);
this.cg(e,"sheal",h,Z.V,Z.V);this.Kv(e,Z.V);this.finish(e,Z.V)}else{this.VY=e;this.i=P;var j5=jr.hk(P,3),r=function(){this.Fg=$.prmt.v;
jr.ajM(this.Fg,j5,e,this.aIm.bind(this),$.Lh);var bz=new dW(_.E.b,!0);bz.data={p:_.m.lu,MN:"Processing ..."};
q.K(bz);this.caller=q}.bind(this);if(j5||jr.k_(3))r();else jr.s7(r)}}else if(m=="Ptrn"){var l8=P.fr,aP=e.h?e.h.V.Y():new kk(0,0,e.s,e.T),bS=T.n(aP.D()*4);
hB._L($,bS,aP,l8,new f5(0,0));for(var n=0;n<bS.length;n+=4)bS[n+3]=Y;this.CQ(e,A,e.h,bS,R,[6,48,0,2])}else{var F;
if(m=="FrgC")F=P.pQ;else if(m=="BckC")F=P.Cp;else if(m=="Blck")F=0;else if(m=="Wht")F=16777215;else if(m=="Gry")F=8421504;
else if(m=="Clr"){var N=T.Yf.z8($.Clr.v);F=N.l<<16|N.I<<8|N.c}var X=F>>16&255,K=F>>8&255,f=F>>0&255;
this.nN(e,A,e.h,X,K,f,Y,R,[2,3])}if(k&&A){A.add.lspf=g==null?0:g}}else if(M.gQ=="delete"){var kR=B<0?1:A.oT,Z=e.h,lC;
if(Z==null)return;var j1=B<0?e.kv[-B-1]:kR<=0?null:kR==1?A.OX():A.kL(e).Eo,aP=kR<=0?A.V:j1.V,f6=kR<=0?Z.V.HX(aP):Z.V.Y();
if(f6.a8())return;var gx=f6.D();if(kR<=0){lC=T.n(gx*4,e.depth);T.aF(A.buffer,A.V,lC,f6)}else{lC=T.n(gx,e.depth);
j1.extend(f6);T.KY(j1.o,j1.V,lC,f6)}if(0<=B&&A.K1(e,Z)){if(kR<=0){lC.fill(0);T.aF(A.wC.sI,A.wC.Ch,lC,f6)}else{lC.fill(255);
T.KY(A.wC.sI,A.wC.Ch,lC,f6)}}else{if(kR<=0){var g2=T.n(lC.length>>2,e.depth);T.bl(lC,g2,3);T.w.Oy(T.n(Z.V.D(),e.depth),Z.V,g2,f6,Z.o,f6,1);
T.yR(g2,lC,3)}else{var dv=T.n(Z.V.D(),e.depth),X=P.Cp>>>16&255,K=P.Cp>>8&255,f=P.Cp>>0&255;dv.fill(Math.round(T.Vq(X,K,f)));
T.w.Oy(dv,Z.V,lC,f6,Z.o,f6,1)}}this.Yx(e,!0,[2,2],B,kR,f6,lC)}}if(z.p=="stroke"){var bv=z.agn,Z=e.h;
if(Z==null){Z={V:A.V.Y(),o:T.n(A.V.D())};T.bl(A.buffer,Z.o,3)}var eo=hB.NZ(bv),aL=W.cn.aHP(Z,Math.ceil(eo[0]),Math.ceil(eo[1])),F=T.Yf.z8(bv.Clr.v),X=Math.round(F.l),K=Math.round(F.I),f=Math.round(F.c);
this.nN(e,A,aL,X,K,f,Math.round(255*bv.Opct.v.val/100),aA.pd(bv.Md.v.BlnM),[14,9])}if(z.p=="fillBMP"){this.CQ(e,A,e.h,z.sw,z.Rj,z.JJ)}if(z.p=="draw"){var dh=z.QS,eM=dh.V;
this.Xk(e);var kg=e.Z[e.j[0]];if(z.a4D&&kg&&kg.oT<=0&&e.C2.length==0){eM=W.NU.a8A(dh,e);kg.buffer=dh.buffer.slice(0);
kg.V=eM.Y()}else{var jJ=this.r1.bmode,iL=this.r1.opacity;this.r1.bmode="norm";this.r1.opacity=1;this.cg(e,"draw",dh.buffer,eM,eM.HX(new kk(0,0,e.s,e.T)));
this.r1.bmode=jJ;this.r1.opacity=iL}this.Kv(e,eM);e.$k=!0;this.finish(e,eM,z.JJ,z.a4D)}};W.j6.prototype.aIm=function(z){var q=z.target.response,e=new Uint8Array(q);
if(this.a06){this.a06=!1;q=hZ.hS(y.vK(e))}else if(e[0]==123){var V=JSON.parse(y.vK(e)),n=0;console.log(V);
if(V.status=="error"){alert(V.message.prompt[0]);return}var P=V.image_links;if(P==null)P=V.output;var D=P[0],B=new XMLHttpRequest;
B.responseType="arraybuffer";while(!0){var A=new XMLHttpRequest;A.open("HEAD",D,!1);A.send();if(A.status!=404)break;
console.log("not ready");n++}B.open("GET",D,!0);B.onload=this.aIm.bind(this);this.a06=!0;B.send();return}if(q==null||q.byteLength==0){alert("An error occured.");
var s=new dW(_.E.b,!0);s.data={p:_.m.Rx,MN:"Processing ..."};this.caller.K(s);return}var a=hZ.HC.EY(q)[0],M=new Uint8Array(a.data),$=this.VY,U=jr.hL($)[0],o=jr.hL($)[1];
this.VY=null;var t=U.s/a.hp.s;if(t>1.1){var c=W.On.tU([M,a.hp],new e5(t,0,0,t,0,0));M=c.buffer}var H=$.Z[$.j[0]],F=H.add.SoLd&&$.h==null,i=F?H.OX():$.h,X=T.n(U.D()*4);
T.aF(T.EZ($.tW(),8),new kk(0,0,$.s,$.T),X,U);var K=T.n(U.D());T.KY(T.EZ(i.o,8),i.V,K,U);T.round(K);var f=new Uint32Array(X.buffer),d=new Uint32Array(M.buffer);
for(var n=0;n<f.length;n++)if(K[n]==0)d[n]=f[n];T.Aj.Fj(M,K,U,null,500*(1+o));var s=new dW(_.E.b,!0);
s.data={p:_.m.Rx,MN:"Processing ..."};this.caller.K(s);if(F){var s=new dW(_.E.z,!0);s.U=W.si;s.data={p:lK.yo,u:[M,U],a47:this.Fg};
this.caller.K(s)}else{var L=new hq(this.Fg),q=i.V.HX(new kk(0,0,$.s,$.T));L.s=q.s;L.T=q.T;L.do=$.do;
L.Z.push(L.cs());var H=L.OJ();H.V=q.Y();L.Z.push(H);H.up(this.Fg);H.buffer=T.n(H.V.D()*4);T.aF(M,U,H.buffer,H.V);
H.V.x=H.V.y=0;H=L.OJ();H.up("Variations");H.add.lsct=fH._j;H.pi="pass";H.b9=24;L.Z.push(H);L.Kv();var s=new dW(_.E.z,!0);
s.data={p:lK.V8,Va:L};s.U=W.si;this.caller.K(s);H=$.Z[$.j[0]];var G=H.add.SoLd;G.generativeDocInfo={t:"Objc",v:{classID:"generativeDocInfo",Vrsn:{t:"long",v:1},workflow:{t:"long",v:0}}};
W.DL.lp($,$.j,null,[q.x-H.V.x,q.y-H.V.y]);H.Eo=new lK.Eu;H.Eo.color=0;H.Eo.V=$.h.V.Y();H.Eo.o=$.h.o.slice(0);
$.Kv();s=new dW(_.E.zN,!0);s.data=W.cn.Im();this.caller.K(s);s=new dW(_.E.b);s.data={p:_.m.Qp,rF:dJ.Qf.mm};
this.caller.K(s)}if(jr.hk(this.i,3)==null)jr.lz("Inpaint",3)};W.j6.prototype.nN=function(z,q,e,V,P,D,B,A,s){var a=e==null?new kk(0,0,z.s,z.T):e.V,M=T.n(a.D()*4,z.depth);
if(z.depth==8)T.FH(M,B<<24|D<<16|P<<8|V<<0);else{var $=T.K8(z.depth)/255;for(var n=0;n<M.length;n+=4){M[n]=V*$;
M[n+1]=P*$;M[n+2]=D*$;M[n+3]=B*$}}this.CQ(z,q,e,M,A,s)};W.j6.prototype.CQ=function(z,q,e,V,P,D){var B=z.C2.length!=0?-1-z.C2[0]:z.j[0],A=B<0?1:q.oT,s=B<0?z.kv[-1-B]:A<=0?null:A==1?q.OX():q.kL(z).Eo,a=A<=0?q.V:s.V,M=e==null?new kk(0,0,z.s,z.T):e.V,$;
if(e)$=e.o;else{$=T.n(z.s*z.T,z.depth);$.fill(T.K8(z.depth))}if(e!=null)T.Zb($,V);var U=M.D(),o=T.n(U*4,z.depth);
if(A<=0)T.aF(q.buffer,q.V,o,M);else{s.extend(M);o.fill(255);T.A$(s.Sz(M),o)}if(0<=B&&e&&q.K1(z,e)&&A<=0){var t=q.wC.Sl,c=q.wC.Sl.slice(0);
if(A<=0)T.Yh(V,c);else T.Yh(fullc,c);var H=new ji([2,3],this);H.data={p:"drawtemp",H:z.j[0],Tn:A,aP9:t,aPk:c};
z.Q6(H);this.Yi(H.data,z)}else{if(A<=0){var F;if(q.rs(0)){F=T.n(M.D(),z.depth);T.bl(o,F,3)}T.w.Mt(P,V,M,o,M,M,1);
if(q.rs(0))T.yR(F,o,3)}else{T.w.Mt(P,V,M,o,M,M,1);var i=T.n(U,z.depth);T.tI(o,i);o=i}this.Yx(z,!0,D,B,A,M,o)}};
W.j6.prototype.Hp=function(z){if(cz.aM.indexOf(z)!=-1)return!0;return!1};W.j6.prototype.gi=function(z,q,e,V){var P=this.r1.brush,D=V.t(cz.mh),B=V.a4f(),A=D!=this.f7,s=B!=this.Bp;
this.f7=D;this.Bp=B;var a=W.j6.cG(P,V);if(a!=null)this.iD(a);if(!V.t(cz.EF)&&V.UP()!=-1&&this.id!=W.FL){var M=cz.acA(Math.round(this.r1.opacity*100),V.UP())/100;
this.X6({opacity:M},q)}if(this.id==W.$s&&A&&z!=null){var $=this.r1.qsmode;if($==2)$=z.h==null?0:1;else $=2;
this.X6({qsmode:$},q)}if(A||s){if(z)this.Zc=z.A.C7;this.ZP(e,V)}};W.j6.cG=function(z,q){var e=z.Brsh.v.Dmtr.v.val,V=z.Brsh.v.Hrdn!=null?z.Brsh.v.Hrdn.v.val:-1,P=z.Brsh.v.Angl.v.val,D=e,B=V,A=P,s=q.t(cz.XQ);
if(q.t(cz.NW)){if(s)V=25*Math.floor((V-1)/25);else{if(e<=10)e--;else if(e<=50)e=5*Math.floor((e-1)/5);
else if(e<=100)e=10*Math.floor((e-1)/10);else if(e<=200)e=25*Math.floor((e-1)/25);else if(e<=400)e=50*Math.floor((e-1)/50);
else e=100*Math.floor((e-1)/100)}}if(q.t(cz.WO)){if(s)V=25*Math.ceil((V+1)/25);else{if(e<10)e++;else if(e<50)e=5*Math.ceil((e+1)/5);
else if(e<100)e=10*Math.ceil((e+1)/10);else if(e<200)e=25*Math.ceil((e+1)/25);else if(e<400)e=50*Math.ceil((e+1)/50);
else e=100*Math.ceil((e+1)/100)}}var a=q.t(cz.kN),M=q.t(cz.YS);if(s&&(a||M)){P=(P+360+15*(a?1:-1))%360}e=Math.max(1,e);
V=Math.max(0,Math.min(100,V));if(B==-1)V=-1;if(e!=D||V!=B||P!=A){var $=T.G(z);$.Brsh.v.Dmtr.v.val=e;
$.Brsh.v.Angl.v.val=P;if(B!=-1)$.Brsh.v.Hrdn.v.val=V;return $}return null};W.j6.prototype.ZP=function(z,q,e,V){if(z.pL.list.length==0)return;
var P=this.id,D;if((P==W.RF||P==W.KU||P==W.YO||P==W.zZ)&&(q!=null&&q.t(cz.mh)||this.r1.alt[0]))D="crosshair";
else{var B=this.Zc,A=this.r1.brush;if((P==W.RF||P==W.KU)&&e&&this.$f&&this.$f.length==this.$U.D()*4){var s=e.A.UK(V.x,V.y),a=this.aG7(s),M=this.$f,$=this.$U,U=new kk($.x+a.x,$.y+a.y,$.s,$.T),o=bw.nC(A,z.pL.Mf,B),t=o[0],c=o[1],H=Math.ceil(c.s/B),F=new kk(Math.round(s.x-H/2),Math.round(s.y-H/2),H,H),i=T.n(F.D()*4),X,K;
if(e.depth==8)T.aF(M,U,i,F);else{var f=T.n(F.D()*4,e.depth);T.aF(M,U,f,F);i=T.EZ(f,8)}if(B==1){X=i;K=F}else{var d=new e5(B,0,0,B,0,0),L=W.On.tU([i,F],d,!0);
K=c.Y();K.x=L.V.x;K.y=L.V.y;if(K.bs(L.V))X=L.buffer;else{X=T.n(K.D()*4);T.aF(L.buffer,L.V,X,K)}}var G=this.r1.opacity/255;
for(var n=0;n<X.length;n+=4)X[n+3]=G*(t[n+3]*X[n+3]);bw.N6(new Uint32Array(X.buffer),K,4278190080,4294967295);
D={Nm:X,TP:K,ZO:new f5(K.s/2,K.T/2)}}else{D=bw.Tf(A,z.pL.Mf,B,P==W.FL||P==W.L5);if(this.Bp){D.Nm.fill(0);
bw.N6(new Uint32Array(D.Nm.buffer),D.TP,4278190080,4294967295)}}}var x=new dW(_.E.b,!0);x.data={p:_.m.XL,ia:D};
if(this.caller)this.caller.K(x)};W.j6.prototype.enable=function(z,q,e,V){this.i=e;this.caller=q;this.iD(T.G(this.r1.brush));
if(z&&z.A.C7!=0)this.Zc=z.A.C7;this.Bp=V.a4f();this.ZP(e,V)};W.j6.prototype.K5=function(z,q){if(q==cR.LJ){this.r1.brush=z.pL.AA;
this.ZP(z)}};W.j6.prototype.Ne=function(z,q,e,V,P){for(var D in z)this.r1[D]=z[D];if(this.r1.alt[0])this.ZP(P,V,e)};
W.j6.prototype.aaQ=function(z){var q=z.C2.length!=0?-1-z.C2[0]:z.j[0],e=z.Z[q],V=q<0?1:e.oT,P=q<0?z.kv[-q-1]:V<=0?null:V==1?e.OX():e.kL(z).Eo,D=P?P.o:e.buffer,B=(P?P.V:e.V).Y();
return[e,V,P,D,B]};W.j6.prototype.Xk=function(z,q){this._Q=z.h==null?null:{V:z.h.V.Y(),o:z.h.o.slice(0)};
var e=this.ml,V=this.aaQ(z),P=V[0],D=V[1],B=V[2];this.ml=V[3];this.zG=V[4];var A=new kk(0,0,z.s,z.T),s=A.X8(this.zG);
if((this.PC()&&D<=0||s.bs(this.zG))&&q!=!0){if(e&&e.length==this.ml.length){e.set(this.ml);this.ml=e}else this.ml=this.ml.slice(0)}else{if(B)B.extend(s);
else P.extend(s)}};W.j6.prototype.jJ=function(z,q){var e=this.aaQ(z),V=e[1],P=e[3],D=e[4],B=[P,D],A=q!=null?q:this.r1.sfrom;
if(V<=0&&A!=0){B[1]=new kk(0,0,z.s,z.T);B[0]=z.tW(A==1&&z.j[0]!=z.Z.length-1?z.j[0]:null).slice(0)}this.$U=B[1].Y();
this.$f=B[0].slice(0)};W.j6.prototype.Jt=function(z,q,e,V,P,D){if(P._W&&V.t(cz.mh)&&this.WS==null){if(D)this.p5=e.pQ;
var B=new dW(_.E.z,!0);B.U=W.T3;B.data={p:"pickhere",ayj:P};q.K(B);var A=W.SB.aGv(z,!1,!0,P,null,e.pQ,this.p5,1),B=new dW(_.E.b,!0);
B.data={p:_.m.XL,ia:A};q.K(B);return!0}return!1};W.j6.prototype.xC=function(z,q,e,V,P,D){if(this.id!=W.$s&&!z.Ov(this.caller)){this.QR=null;
return}if(this.id!=W.$s&&this.QR)return;this.Xk(z);var B=new kk(0,0,z.s,z.T),A=null;if(D!=null){var s=z.C2.length!=0?-1-z.C2[0]:z.j[0],a=z.Z[s],M=s<0?z.kv[-s-1]:a.oT<=0?null:a.oT==1?a.OX():a.kL(z).Eo;
A=T.n(B.D()*4,z.depth);if(M)W.j6.HU(this.ml,this.zG,M.color,A,B);else T.aF(this.ml,this.zG,A,B)}var $=this.r1;
if(this.QR&&this.id==W.$s&&$.qsmode!=0&&z.h!=null){}else{var U=q.pQ,o=q.Cp,H=null;if(this.VA=="erase"){var t=U;
U=o;o=t}var c=this.id==W.$s?this.zG:B;if(z.s_)H=[3];else if(z.Fi!=-1){var F=z.yj[z.Fi];H=[F.IT[0],F.IT[1],F.add.vmsk.B]}this.QR=new bw($.brush,q.pL.Mf,q.pL.yw,{Ws:P,aMI:D,a9e:$.smth*50/z.A.C7,GJ:this.id==W.zZ||$.emode==1,IT:H,depth:z.depth},U,o,c,A)}if(this.id==W.$s){this.QR.aiw($.brush,$.qsmode==2?0:16777215)}var i=z.A.UK(V.x,V.y);
if(e.t(cz.XQ)&&this.Q0){var X=this.Q0;this.QR.moveTo(X.x,X.y,V.HJ);this.QR.lineTo(.001*X.x+.999*i.x,.001*X.y+.999*i.y,V.HJ);
this.QR.lineTo(i.x,i.y,V.HJ)}else this.QR.moveTo(i.x,i.y,V.HJ);this.Q0=i;this.bJ=i.Y();this.kp=new e0(i,z.A.gV)};
W.j6.prototype.xI=function(z,q,e){if(z&&z.A.C7!=0&&z.A.C7!=this.Zc){this.Zc=z.A.C7;this.ZP(e)}};W.j6.prototype.nh=function(z,q,e,V){if(this.QR==null)return;
var P=z.Z[z.j[0]],D=z.A.UK(V.x,V.y),B=this.kp.Sm(D,e);if(B.bs(this.Q0))return 1;this.QR.lineTo(B.x,B.y,V.HJ);
this.Q0=B;if(this.id==W.RF||this.id==W.KU){var A=this.zW(),s=11;A=z.A.Gb(D.x-A.x,D.y-A.y);var a=s>>>1,M=new kk(Math.round(A.x)-a,Math.round(A.y)-a,s,s),$=T.n(M.D()*4);
for(var n=0;n<s;n++)$[(n*s+a)*4+3]=$[(s*a+n)*4+3]=255;z.X.QZ=[[$,M]];z.XU=!0}};W.j6.prototype.zs=function(z,q,e,V){if(e.Ai!=this.id)return;
if(this.id!=W.$s||z==null)return;if(z.h==null||z.j[0]!=this.a2X){this.a2X=z.j[0];this.X6({qsmode:0},q)}};
W.j6.prototype.Kv=function(z,q){if(z.C2.length!=0){z.XU=!0;return}var e=z.Z[z.j[0]];if(q==null){q=this.QR.Lt();
if(this.PC()&&e.oT<=0)q=q.HX(this.zG)}var V=e.oT;if(V==1||V==3){var P=Math.round((V==1?e.OX():e.kL(z).Eo).j_*2.4);
q=q.Y();q.Gm(P,P)}if(q.a8())return;if(V<=0){e.Kv(q)}if(V==1){e.OX().Ug=!0;e.ly(z,q)}if(V==3){e.Kv(q)}z.Kv(z.root.GQ(q,z,z.j[0],!0))};
W.j6.prototype.AM=function(z,q,e,V,P){if(this.QR==null)return;this.QR.finish();if(this.id!=W.T2&&this.id!=W.KU&&this.id!=W.$s)this.qw(z);
if(this.id==W.RF||this.id==W.KU){z.X.QZ=[];z.XU=!0}if(this.id==W.$s){var D=z.h;z.h=this._Q;var B=new dW(_.E.z,!0);
B.data={p:"setsel",JJ:this.name,h:D};B.U=W.qK;q.K(B);if(this.r1.qsmode==0)this.X6({qsmode:1},q)}else{this.finish(z,this.QR.CC());
this.QR=null;this.Fs=null}this.dir=0};W.j6.prototype.X6=function(z,q){for(var e in z)this.r1[e]=z[e];
var V=new dW(_.E.b,!0);V.data={p:_.m.R9,U:this.id,Td:z};q.K(V)};W.j6.prototype.PC=function(){var z=this.id;
return z==W.$s||z==W.bx||z==W.qZ||z==W.Ot||z==W.oI||z==W.xm};W.j6.prototype.finish=function(z,q,e,V,P){var D=z.C2.length!=0?-1-z.C2[0]:z.j[0],B=z.Z[D],A=D<0?1:B.oT,s=D<0?z.kv[-D-1]:A<=0?null:A==1?B.OX():B.kL(z).Eo,a=s?s.V:B.V,U;
if(this.PC()||!a.bs(this.zG)){if(s==null){if(this.PC())B.Sn();else{if(this.id!=W.YO&&this.id!=W.zZ){var M=q.X8(this.zG),$=T.n(M.D()*4,z.depth);
T.aF(B.buffer,B.V,$,M);B.buffer=$;B.V=M}}}else s.Sn();this.Kv(z,a)}if(A<=0){U=T.n(q.D()*4,z.depth);T.aF(this.ml,this.zG,U,q)}else{U=T.n(q.D(),z.depth);
U.fill(Math.round(T.K8(z.depth)*s.color/255));T.KY(this.ml,this.zG,U,q)}this.Yx(z,!1,e?e:this.name,D,A,q,U,V,P)};
W.j6.prototype.Yx=function(z,q,e,V,P,D,B,A,s){var a=B;if(P>0){a=T.n(D.D()*4,T.Gx(B));W.j6.HU(B,D,0,a,D)}var M=new ji(e,this);
M.data=[{H:V,Tn:P,TP:D,Hm:a}];if(A)M.data.a7e=[z.h,null];if(s)M.data.a7e=[this._Q,z.h];z.Q6(M);if(q)this.Yi(M.data,z);
else if(A)z.h=null;W.Jz.aOS(z,M.data)};W.j6.prototype.I7=function(z,q){this.ai$(z,q,!1)};W.j6.prototype.Yi=function(z,q){this.ai$(z,q,!0)};
W.j6.prototype.MM=function(z){return W.Jz.MM(z)};W.j6.prototype.ai$=function(z,q,e){if(z.p=="drawtemp"){var V=e?z.aPk:z.aP9,P=q.Z[z.H];
P.wC.Sl=V;P.EG(q,0,0,q.h);P.Kv();q.$k=!0}else{W.Jz.lr(q,z);if(z.a7e){q.h=z.a7e[e?1:0];q.ZI=!0}}q.Kv()};
W.j6.prototype.qw=function(z){var q=this.QR.Hz(),e=this.QR.$i(),V=this.QR.Lt(),P=this.QR.a99(V);if(P){q=P;
e=V}this.cg(z,this.VA,q,e,V);this.Kv(z)};W.j6.prototype.cg=function(z,q,e,V,P){var D=this.r1,B=z.Z[z.j[0]],A=z.C2.length!=0?z.kv[z.C2[0]]:B.oT<=0?null:B.oT==1?B.OX():B.kL(z).Eo,s=T.n(P.D()*4,z.depth),a,M=B.rs(0);
if(A==null){if(this.id==W.QM&&q=="heal")T.aF(B.buffer,B.V,s,P);else T.aF(this.ml,this.zG,s,P);if(M){a=T.n(P.D(),z.depth);
T.bl(s,a,3)}}else{W.j6.HU(this.ml,this.zG,A.color,s,P)}if(z.h&&q!="qselect"){var $=P.HX(z.h.V),U=T.n($.D()*4,z.depth);
if(q=="copy"){var o=T.n($.D(),z.depth);T.KY(z.h.o,z.h.V,o,$);T.aF(s,P,U,$);T.w.Dx(e,V,U,$,o,$,0,$,1,!1)}else{T.aF(e,V,U,$);
T.d5(z.h.o,z.h.V,U,$)}e=U;V=$}function t(F,aL){var eM=Math.max(aL.x,Math.min(aL.x+aL.s-1,F.x)),kg=Math.max(aL.y,Math.min(aL.y+aL.T-1,F.y));
return new f5(eM,kg)}if(q=="idraw"||q=="ierase"){if(this.Fs==null)this.Fs=T.n(this.zG.D());var c=D.samp,H=this.i.Cp,F=t(this.Q0,P),i=c==0?F:this.bJ,X=i.x,K=i.y,f=W.Ty.gY(this.ml,this.zG,[i,new f5(X-2,K),new f5(X+2,K),new f5(X,K-2),new f5(X,K+2)]);
if(c==2)f=[[H>>>16&255,H>>>8&255,H>>>0&255,255]];var d=W.Ty.a6(s,P,F,f,D.wconf),L=T.n(P.D());T.KY(this.Fs,this.zG,L,P);
T.mA.X8(d,L,L);T.KY(L,P,this.Fs,this.zG);T.d5(L,P,e,V);q=q.slice(1)}if(q=="erase"&&(W.Jz.aKo(z)!=16777215||A))q="draw";
if(q=="draw")T.w.Mt(D.bmode,e,V,s,P,P,D.opacity);else if(q=="erase"){var G=D.opacity;if(this.id==W.L5)G=1;
var x=T.n(P.D()*4,z.depth);T.aF(e,V,x,P);if(A==null){var O=T.n(P.D(),z.depth);T.bl(x,O,3);T.PY(O,G);
T.TG(O);T.d5(O,P,s,P)}else{T.gf(x,0,0,0);T.w.Mt("norm",x,P,s,P,P,G)}}else if(q=="clone"||q=="heal"){var v=this.zW(),C=this.$U.Y();
C.offset(v.x,v.y);var S=P.Y();S.Gm(1,1);var j=T.n(S.D()*4,z.depth),w=T.n(S.D(),z.depth);T.aF(e,V,j,S);
T.bl(j,w,3);j.fill(0);if(A==null){T.aF(this.$f,C,j,S);var u=T.n(S.D(),z.depth);T.bl(j,u,3);T.NK(u,w)}else W.j6.HU(this.$f,C,A.color,j,S);
if(q=="clone"){T.yR(w,j,3);T.w.Mt(D.bmode,j,S,s,P,P,D.opacity)}if(q=="heal"){var l=w.slice(0);T.round(l,T.K8(z.depth)/10);
var I=T.n(S.D()*4,z.depth);if(A==null)T.aF(this.ml,this.zG,I,S);else W.j6.HU(this.ml,this.zG,A.color,I,S);
T.w.Dx(j,S,I,S,l,S,0,S,1,!1);var Q=T.EZ(I,8);T.Aj.Fj(Q,l,S);T.EZ(Q,z.depth,I);T.w.Dx(I,S,s,P,w,S,0,P,1,!1)}}else if(q=="dodge"||q=="burn"){var b=P.D()*4,p=T.K8(z.depth),k=1/p,j=T.n(b,z.depth),Y=1,R=0,m=0,Z=0;
T.aF(e,V,j,P);var g=W.j6.mV;if(this.f7){if(q=="dodge")q="burn";else q="dodge"}var E=D.rng;if(q=="dodge"){R=[1-Y/2,1,1+Y][E];
m=[1,1/(1+Y),1][E];Z=[Y/2,0,0][E]}if(q=="burn"){R=[1/(1-Y/2),1,1-Y/2][E];m=[1,1+Y,1][E];Z=[-(Y/2)/(1-Y/2),0,0][E]}for(var n=0;
n<b;n+=4){var N=j[n+3]*k;s[n+0]=p*g(s[n+0]*k,R,m,Z,N);s[n+1]=p*g(s[n+1]*k,R,m,Z,N);s[n+2]=p*g(s[n+2]*k,R,m,Z,N)}}else if(q=="sponge"||q=="redeye"){var j=T.n(P.D()*4,z.depth),w=T.n(P.D(),z.depth);
T.aF(e,V,j,P);T.bl(j,w,3);T.Yh(s,j);var h=D.smode;if(this.f7)h=1-h;var j5=ak.g1("hue2");if(q=="sponge")jR.H5(j5,0,[0,[-50,46][h],[6,5][h]]);
else jR.H5(j5,1,{T_:[265,305,25,55],jr:[0,-90,-70]});var r=aM.LU("hue2",j5);aM.vl(r,j,j,P);T.w.Dx(j,P,s,P,w,P,0,P,1,!1)}else if(q=="copy")T.aF(e,V,s,P);
else if(q=="sheal"){var j=T.n(P.D()*4,z.depth),w=T.n(P.D(),z.depth);T.aF(e,V,j,P);T.bl(j,w,3);j.fill(0);
var l8=this.$f,aP=this.$U;if(A){console.log("mask");l8=T.n(aP.D()*4,z.depth);W.j6.HU(this.$f,aP,0,l8,aP)}else if(B.OX()&&B.OX().isEnabled){var bS=B.OX();
console.log(bS);if(bS.color==0){var kR=T.n(bS.V.D()*4);T.aF(l8,aP,kR,bS.V);T.yR(bS.o,kR,3);l8=kR;aP=bS.V}else{var l8=l8.slice(0);
T.d5(bS.o,bS.V,l8,aP)}}var j1=T.EZ(j,8),f6=T.mQ.Fj(T.EZ(l8,8),aP,T.EZ(w,8),j1,P);T.EZ(j1,z.depth,j);
if(f6!=0)T.aF(l8,aP,j,P);if(D.sfrom==0)T.aF(j,P,s,P);else{T.aF(this.ml,this.zG,s,P);T.yR(w,j,3);T.w.Mt("norm",j,P,s,P,P,1)}}else if(q=="qselect"){var gx=this.zG,lC=gx.s,g2=gx.T,dv=lC*g2,bv=T.EZ(this.QR.Hz(),8),eo=W.cn.VN,w=eo.Yr;
w.fill(128);for(var n=0;n<dv;n++){var aL=bv[n<<2],dh=bv[(n<<2)+3];if(dh==255&&(aL==0||aL==255))w[n]=aL}w[0]=w[lC-1]=0;
w[(g2>>>1)*lC]=w[(g2>>>1)*lC+lC-1]=0;W.e2.Gs(eo,!0,z);z.h={V:gx,o:T.EZ(eo.h.slice(0),z.depth)};z.ZI=!0}if(A==null){if(M)T.yR(a,s,3);
T.aF(s,P,B.buffer,B.V)}else W.j6.z5(s,P,A)};W.j6.zW=function(){return null};W.j6.mV=function(z,q,e,V,P){var D=V+q*Math.pow(z,e),B=D*P+z*(1-P);
return Math.max(0,Math.min(1,B))};W.j6.HU=function(z,q,e,V,P){var D=T.Gx(z),B=T.K8(D),A=T.n(P.D(),D);
A.fill(B*e/255);T.KY(z,q,A,P);V.fill(B);T.A$(A,V)};W.j6.z5=function(z,q,e){var V=T.n(q.D(),T.Gx(z));
T.tI(z,V);T.KY(V,q,e.o,e.V)};W.cn=function(z,q,e){W.__.call(this,z,q,e);this.r1={binop:0,feat:0,cstr:{L:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.O4=new f5(-1,-1);this.b2=new f5(-1,-1);this.Wq="default";this.Av=null;this.M1=!1;this.pp=new c3;
this.px=!1;this.BF=null;this.eH=null;this.fM=!1;this.aps=!1};W.cn.prototype=new W.__;W.cn.prototype.NA=function(){var z=this.r1,q=[z.binop,z.feat],e=z.wconf.slice(0);
e[1]=e[1]?1:0;e[2]=e[2]?1:0;var V=e.join(",")=="16,1,1";if(q[0]==0&&q[1]==0&&V)return null;if(!V)q.push(e);
return q};W.cn.prototype.SZ=function(z,q,e){var V=this.r1;if(z[0])V.binop=z[0];if(z[1])V.feat=z[1];if(z[2]){var P=V.wconf=z[2].slice(0);
if(typeof P[1]=="number"){P[1]=P[1]==1;P[2]=P[2]==1}}this.kG(e)};W.cn.prototype.kG=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.R9,U:this.id,r1:this.r1};z.K(q)};W.cn.VN={key:""};W.cn.S1=function(z,q,e){var V={gQ:z,cj:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(q)V.cj.T=q;if(e!=null)V.cj.AntA={t:"bool",v:e};return V};W.cn.CL=function(z,q,e){return W.cn.S1("set",{t:"Objc",v:{classID:z,Top:{t:"UntF",v:{type:"#Pxl",val:q.y}},Left:{t:"UntF",v:{type:"#Pxl",val:q.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:q.y+q.T}},Rght:{t:"UntF",v:{type:"#Pxl",val:q.x+q.s}}}},e)};
W.cn.Ll=function(z,q,e){var V=[],P=[],B="set";for(var n=0;n<z.length;n+=2){V.push(z[n]);P.push(z[n+1])}var D={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:V},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:P}]}}}};
if(q)B=["set","addTo","subtractFrom","interfaceWhite"][q];return W.cn.S1(B,D,e)};W.cn.aoY=function(z,q,e){var V={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:z.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:z.y}}}},P=W.cn.S1("set",V);
P.cj.Tlrn={t:"long",v:q[0]};P.cj.AntA={t:"bool",v:q[1]};P.cj.Cntg={t:"bool",v:q[2]};if(e==!0)P.cj.Mrgd={t:"bool",v:e};
return P};W.cn.Im=function(z){return W.cn.S1("set",{t:"enum",v:{Ordn:z?"Al":"None"}})};W.cn.qt=function(z,q,e){var V={classID:"null"};
if(z!="border")V.selectionModifyEffectAtCanvasBounds={t:"bool",v:e};var P={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[z[0]];
V[P]={t:"UntF",v:{type:"#Pxl",val:q}};return{gQ:z,cj:V}};W.cn.GK=function(z,q,e){var V={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},P={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:q}}]};
if(e)P.v.push({t:"name",v:{classID:"Lyr",val:e}});var D=[{classID:"null",null:V,T:P},{classID:"null",null:P,T:V},{classID:"null",null:P,From:V},{classID:"null",null:P,With:V}],B=["set","add","subtract","interfaceIconFrameDimmed"];
return{gQ:B[z],cj:D[z]}};W.cn.a1y=function(){return{gQ:"make",cj:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}};
W.cn.agL=function(z,q){var e=new dW(_.E.b,!0);e.data={p:_.m.Ln,Lh:cR._x};if(!q.s2)z.K(e);e.data={p:_.m.Ln,Lh:cR.ew};
if(!q.Y8.HZ)z.K(e)};W.cn.prototype.If=function(z,q,e,V,P){W.cn.agL(q,P);this.Av=q;var D=z.p,B,A,s=new kk(0,0,e.s,e.T),io=!1,la,e9,gM,j7;
if(D=="fromAction"){var a=z.Wp,M=a.gQ,$=a.cj,U=$?$.selectionModifyEffectAtCanvasBounds:null,o=U&&U.v;
if(M=="colorRange"){if($.Clrs){var t=$.Clrs.v.Clrs,c=0,H=255,F=["Shdw","Mdtn","Hghl"].indexOf(t),f=.4;
if(F==0)H=60;else if(F==1){c=100;H=150}else c=190;var i=["shadows","midtones","highlights"][F],X=$[i+"LowerLimit"],K=$[i+"UpperLimit"];
if(X)c=X.v;if(K)H=K.v;var d=$[i+"Fuzziness"];if(d)f=d.v/100;B=W.cn.Dr(e,c,H,f,!0)}else{var c=$.Mnm.v,H=$.Mxm.v,f;
c={eT:c.Lmnc.v,x6:c.A.v,c:c.B.v};H={eT:H.Lmnc.v,x6:H.A.v,c:H.B.v};f=$.Fzns.v/200;B=W.cn.Dr(e,c,H,f)}A=[7,8]}else if(M=="inverse"){if(e.h==null){alert("No selection!");
return}B={o:T.n(s.D(),e.depth),V:s};T.KY(e.h.o,e.h.V,B.o,B.V);T.TG(B.o);A=[7,2]}else if(M=="expand"){var L=$.By.v.val,G=e.h.V.Y();
G.Gm(L,L);var x=T.n(G.D()),O=T.n(G.D(),e.depth);T.KY(e.h.o,e.h.V,O,G);T.style.stroke(T.EZ(O,8),x,G,L);
B={o:T.EZ(x,e.depth),V:G};A=[7,4]}else if(M=="contract"){var L=$.By.v.val,v=e.h.V.Y();v.Gm(1,1);if(!o)v=v.HX(s);
var O=T.n(v.D(),e.depth),C=T.n(O.length,8);T.KY(e.h.o,e.h.V,O,v);T.TG(O);T.style.stroke(T.EZ(O,8),C,v,L);
T.TG(C);B={o:T.EZ(C,e.depth),V:v};T.Sn(B);A=[7,5]}else if(M=="border"){var L=$.Wdth.v.val;B=W.cn.aHP(e.h,L/2,L/2);
A=[7,9]}else if(M=="feather"||M=="smoothness"){var L=$.Rds.v.val;B=W.cn.a0s(e.h,L,M=="smoothness",s,o);
A=M=="feather"?[7,6]:[19,3,0]}else if(M=="move"){var S=$.T.v,G=e.h.V.Y();G.x+=S.Hrzn.v.val;G.y+=S.Vrtc.v.val;
B={o:e.h.o,V:G};A=[7,7]}else if(M=="grow"||M=="similar"){var j=this.r1.wconf.slice(0);if($.Tlrn)j[0]=$.Tlrn.v;
j[2]=M=="grow";var w=e.tW(),u=new kk(0,0,e.s,e.T),l=e.h.V,I=Math.max(1,Math.round(Math.sqrt(l.D())/10)),Q=T.n(u.D());
T.KY(e.h.o,l,Q,u);var b=[];for(var p=0;p<l.T;p+=I)for(var k=(l.D()+p)%I;k<l.s;k+=I)if(e.h.o[p*l.s+k]==255){var g=new f5(l.x+k,l.y+p);
b.push(g);if(j[2])T.mA.X8(W.Ty.a6(w,u,g,null,j),Q,Q)}if(!j[2])T.mA.X8(W.Ty.a6(w,u,g,W.Ty.gY(w,u,b),j),Q,Q);
B={o:Q,V:u};A=M=="grow"?"Grow Selection":"Similar Selection";console.log($)}else{var Y=$.null.v,R=$.AntA!=null&&$.AntA.v;
function m(g5){return T.R.JY(T.w0.$i(g5,e.s,e.T),!0)}function Z(g5){var d4=g5[0].arr,hx=g5[1].arr,hJ={J:[],_:[]};
for(var n=0;n<d4.length;n++){hJ._.push(n==0?"M":"L");hJ.J.push(d4[n],hx[n])}hJ._.push("Z");if(g5[0].uID=="#Prc")T.R.v(hJ.J,new e5(e.s/100,0,0,e.T/100,0,0),hJ.J);
return hJ}var E=["set","addTo","subtractFrom","interfaceWhite"].indexOf(M),N=$.T?$.T.v:null;if(N&&N.classID=="Elps"){B=this.acF(W.M8.a0z(m(N)),e.depth);
A=[10,4]}else if(N&&N.classID=="Rctn"){var h=m(N);B={o:T.n(h.D(),e.depth),V:h.Y()};B.o.fill(T.K8(e.depth));
A=[10,15]}else if(N&&N.classID=="ObSl"){var h=m(N),j5=W.cn.VN,r=j5.V,l8=j5.Yr,aP=r.s,bS=r.T,kR=h.x-r.x,j1=kR+h.s-1,f6=Math.max(kR,Math.min(j1,kR+j1>>>1)),gx=h.y-r.y,lC=gx+h.T-1,g2=Math.max(gx,Math.min(lC,gx+lC>>>1)),dv=Math.max(kR,0),bv=Math.min(j1,aP),eo=Math.max(gx,0),aL=Math.min(lC,bS);
l8.fill(128);if(0<=gx)for(var k=dv;k<bv;k++)l8[gx*aP+k]=0;if(lC<bS)for(var k=dv;k<bv;k++)l8[lC*aP+k]=0;
if(0<=kR)for(var p=eo;p<aL;p++)l8[p*aP+kR]=0;if(j1<aP)for(var p=eo;p<aL;p++)l8[p*aP+j1]=0;var dh=W.Pe.akr,eM=Math.round(h.s*dh),kg=Math.round(h.T*dh);
for(var k=Math.max(0,f6-eM);k<Math.min(aP,f6+eM);k++)l8[g2*aP+k]=255;for(var p=Math.max(0,g2-kg);p<Math.min(bS,g2+kg);
p++)l8[p*aP+f6]=255;W.e2.Gs(j5,!0);B={o:j5.h.slice(0),V:r.Y()};A=[10,44]}else if(N&&N.classID=="Plgn"){B=this.acF(Z(N.Pts.v.arr),e.depth);
A=[10,9]}else if(N&&N.classID=="Pnt"){B=W.Ty.amB(e,new f5(N.Hrzn.v.val,N.Vrtc.v.val),[$.Tlrn.v,R,$.Cntg==null||$.Cntg.v],$.Mrgd?$.Mrgd.v:!1);
A=[10,12]}else if(N&&N.Ordn=="None"){B=null;A=[7,1]}else if(N&&N.Ordn=="Al"){var jJ=s;if(e.j.length!=0){var iL=e.root.G6(e.j[0]);
while(iL.parent&&iL.parent.parent)iL=iL.parent;if(iL.H.add.artb)jJ=iL.H.Le()}B={o:T.n(jJ.D(),e.depth),V:jJ};
B.o.fill(T.K8(e.depth));A=[7,0]}else if(N&&N[0]&&N[0].v.keyID=="WrPt"){var bz={p:"frompath",HH:[-1,0,0]};
this.If(bz,q,e,V,P);return}else{var ks=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(M),gr=M=="set"?N:Y,hg=gr[0].v.enum,bz;
if(hg=="Trsp"||hg=="Gray"||hg=="Msk"||hg=="vectorMask"||hg=="Trgt"){var ci=e.j[0];if(gr.length==2)ci=fw.wk(e,gr[1]);
var fK=["Trsp","Msk","vectorMask"].indexOf(hg);if(hg=="Trgt"&&e.Z[ci].oT==1)fK=1;if(hg=="Gray")fK=-1;
bz={p:"fromlayer",HH:[ci,fK,ks]}}else{if(gr[0].t=="name"){var ci=0;for(var n=0;n<e.kv.length;n++)if(e.kv[n].name==gr[0].v.val)ci=n;
bz={p:"fromchannel",HH:[-5-ci,0,ks]}}else{var jN=["RGB","Rd","Grn","Bl"].indexOf(hg);bz={p:"fromchannel",HH:[-1-jN,0,ks]}}}this.If(bz,q,e,V,P);
return}if(B){if(!R)T.round(B.o);if($.Fthr)B=W.cn.a0s(B,$.Fthr.v.val,!1);if(M!="set"&&e.h!=null)B=T.mA.GV(B,e.h,E)}}if(M=="expand"||M=="contract")if(!o&&!s.contains(B.V)){var dD=B.V.HX(s),eF=T.n(dD.D(),e.depth);
T.KY(B.o,B.V,eF,dD);B.o=eF;B.V=dD}}if(D=="qmask"){io=!0;var cI=e.LG(),u=new kk(0,0,e.s,e.T);if(cI){window.locStor.setItem("__qmc",T.RC(cI.go));
B=cI.V.bs(u)&&T.Rh(cI.o,255)?null:{V:cI.V.Y(),o:cI.o.slice(0)};if(B&&cI.DO==0)T.TG(B.o);la=cI}else{var dL=window.locStor.getItem("__qmc");
B=null;e9=new lK.Eu;e9.color=0;e9.name="Quick Mask";e9.eq=!0;e9.DO=1;if(dL!=null)e9.go=T.H_(dL);if(e.h){e9.V=e.h.V.Y();
e9.o=e.h.o.slice(0)}else{e9.V=u;e9.o=T.n(e9.V.D());e9.o.fill(255)}}A=[6,6,1];e.$k=!0}if(D=="setsel"){B=z.h;
A=z.JJ}if(D=="crange"){var c=z.bj,H=z.p7;B=W.cn.Dr(e,c,H,z.AH);A=[7,8]}if(D=="fromlayer"||D=="fromchannel"||D=="frompath"){var cf=z.HH[0],fK=z.HH[1],E=z.HH[2];
if(D=="fromlayer"){if(cf==null)cf=e.j[0];var jA=e.Z[cf];if(fK<=0){if(jA.YZ()){var iL=e.root.G6(cf);B={o:T.n(0),V:new kk};
for(var n=0;n<iL.children.length;n++){var gI=iL.children[n].H;if(gI.V.a8())continue;var fM=T.n(gI.V.D());
T.bl(gI.buffer,fM,3);var a7={o:fM,V:gI.V.Y()};if(n==0)B=a7;else B=T.mA.GV(B,a7,1)}if(B.V.a8())return}else{var fv=jA.V,fq=jA.buffer;
if(fv.a8())return;var cu=T.n(fq.length>>>2,e.depth);if(fK==0)T.bl(fq,cu,3);if(fK==-1)T.tI(fq,cu);B={o:cu,V:fv.Y()}}}else{if(jA.Eo==null)jA.ly(e);
var ac=fK==1?jA.OX():jA.Eo;if(fK==3)ac=jA.kL(e).Eo;B=W.cn.agX(ac,s)}this.track(W.cn.GK(E,["Trsp","Msk"][fK],jA.getName()))}else if(D=="frompath"){var hN=e.Kn(),cQ=hN[1],hN=hN[0],cc=!0;
if(cf==null)if(hN.length==0||cQ.length==0)return;var d_=hN[cQ[0]];if(cf!=null)for(var n=0;n<hN.length;
n++)if(hN[n].XW==cf)d_=hN[n];var ac=d_.add.vmsk.OX(),cK=ac.$i();if(cK.D()==0)return;var cu=ac.I4();if(z.HH[3]!=null)cc=z.HH[3];
if(!cc){cu=cu.slice(0);T.round(cu)}gM=[JSON.stringify(e.o0),JSON.stringify(e.L3)];j7=["[]","[]"];e.o0=[];
e.L3=[];B={o:cu,V:cK}}else if(D=="fromchannel"){if(cf==null)cf=W.cn.a1u(e);B=W.cn.a6p(e,cf)}if(E!=0&&e.h)B=T.mA.GV(B,e.h,E);
A=[14,11]}if(D=="bgrm"){if(W.cn.aGF(e,q,z,P))return;var aH=window.locStor.getItem("bgrmt");if(aH==null)aH=0;
var jj=W.cn.axf.bind([e,q,z,P]),iG=Math.floor((Date.now()-aH)/1e3),hc=24*60*60;if(!jr.k_(1)&&jr.hk(P,1)==null){var kD=lA.aY(),l2="Watch a short ad to use this Premium feature?\n"+(kD?"You are out of AI credits :(":"To go Premium (around \u20AC1 a week), press Account at the top.");
ln.s7(jj,l2,"rmbg")}else jj();return}if(B!=null&&T.Rh(B.o,0)){B=null;A=[7,1]}if(B)T.Sn(B);var fZ=new ji(A,this);
fZ.data={p:"changesel",h:B,LG:io,a7c:la,aCm:e9,bL:gM,arx:j7};e.Q6(fZ);this.Yi(fZ.data,e)};W.cn.aGF=function(z,q,e,V){var P=z.Z[z.j[0]],D=P.V,B=T.EZ(P.buffer,8),A=D.s,s=D.T,a=[0,0,A-1,0,0,s-1,A-1,s-1],M=!0;
for(var n=0;n<4;n+=2){var $=(a[n+1]*A+a[n])*4,U=0;for(var o=0;o<3;o++){U+=(B[o]-B[$+o])*(B[o]-B[$+o])}if(U>25)M=!1}if(M&&P.OX()==null&&z.h==null){var t=T.n(A*s);
for(var n=0;n<4;n++){var c=a[n*2],H=a[n*2+1],F=20,i=1,X=null;if(t[H*A+c]>200)continue;while(F<120){var K=W.Ty.a6(B,D,new f5(c,H),null,[F,!0,!0]),f=0;
for(var o=0;o<K.length;o++)f+=K[o];var d=F<50?1.015:1.004;if(X&&f>i*d)break;X=K;i=f;F+=10}for(var o=0;
o<X.length;o++)t[o]=Math.max(t[o],X[o])}T.TG(t);W.cn.a6x(P,q,t,D,e.u,null);alert(jS.Mh("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};W.cn.axf=function(){var z=this[0],q=this[1],e=this[2],V=this[3],P=2,D=z.Z[z.j[0]],B=D.V,A=T.EZ(D.buffer,8),s=1,a=[4096,4096,2048][P];
while(Math.max(B.s,B.T)>a){var M=T.W6(A,B);B=M.V;A=M.Dm;s*=2}var $=hZ.nw("png"),U=hZ.nw("jpg"),o=U.gB([[A.buffer]],B.s,B.T),t=new FormData;
t.append("image",new Blob([o],{type:"ima"+"ge/j"+"pg"}));t.append("mode","mask");var c=new dW(_.E.b,!0);
c.data={p:_.m.lu,MN:"Processing ..."};q.K(c);window.azu=Date.now();var H=function(F){console.log(Date.now()-window.azu);
var i=F.target.response,X=new Uint8Array(i);if(X.length!=0){var K=$.EY(i)[0],f=K.hp,d=T.n(f.D());T.tI(new Uint8Array(K.data),d);
for(var n=0;n<d.length;n++){if(d[n]>250)d[n]=255}if(s!=1){var M=W.On.a6J([d,f],new e5(s,0,0,s,0,0));
f=M.V;d=M.o}f.x=D.V.x;f.y=D.V.y;W.cn.a6x(D,q,d,f,e.u,jS.Mh("AQVUYE\\{}"));if(jr.hk(V,1)==null){jr.lz("Rem"+"ove B"+"G",1);
window.locStor.setItem("bgrmt",Date.now())}}else{alert("An error occured :( we are trying to fix it.")}var c=new dW(_.E.b,!0);
c.data={p:_.m.Rx,MN:"Processing ..."};q.K(c)};jr.asd(jS.Mh("aQVUYEi<87<5=7:0#"),t,jr.hk(V,1),H)};W.cn.a6x=function(z,q,e,V,P,D){var B=new dW(_.E.z,!0);
if(P==1){B.U=W.si;B.data={p:lK.q0,WB:D,aNU:!0,Ml:"HdAl"};q.K(B);var A=z.OX();A.color=0;A.V=V;A.o=T.EZ(e,T.Gx(z.buffer));
A.Sn();z.ly()}else if(P==2){B.U=W.qK;B.data={p:"setsel",h:{o:e,V:V},JJ:"Select Subject"};q.K(B)}else throw"e"};
W.cn.a1u=function(z){var q=0;if(z.C2.length!=0)q=-5-z.C2[0];else if(JSON.stringify(z.A.Ox)=="[1,1,1]")q=-1;
else q=-2-z.A.Ox.indexOf(1);return q};W.cn.a6p=function(z,q){var e,V=new kk(0,0,z.s,z.T);if(-5<q&q<0){var P=-q-1,D=z.tW(),B=T.n(V.D());
if(P==0)T.tI(D,B);else T.bl(D,B,P-1);e={o:B,V:V.Y()}}if(q<-4){e=W.cn.agX(z.kv[-q-5],V)}return e};W.cn.agX=function(z,q){var e,V;
if(z.z8()==0){V=z.$i().Y();if(V.D()==0)return;e=z.I4().slice(0)}else{V=q;e=T.n(V.D());z.Xp(V,e)}if(z.DO!=1)T.TG(e);
return{o:e,V:V}};W.cn.prototype.VV=function(z){return this.px||z._W&&this.id!=W.$v};W.cn.prototype.Vp=function(z,q,e){var V=new dW(q,!0);
V.data=e;z.K(V)};W.cn.prototype.ahq=function(z,q){var e=new dW(_.E.b,!0);e.data={p:_.m.XL,ia:q};z.K(e)};
W.cn.prototype.$i=function(z,q,e){q=z.h==null||this.pp.Lf(1)||this.pp.Mg(1)?q:null;var V=this.O4,P=this.b2;
if(e){V.x=Math.max(0,Math.min(z.s,V.x));V.y=Math.max(0,Math.min(z.T,V.y));P.x=Math.max(0,Math.min(z.s,P.x));
P.y=Math.max(0,Math.min(z.T,P.y))}var D=W.LR.iu(V,P,q,!0,this.r1.cstr),B=D[0].x,A=D[0].y,s=new kk(B,A,D[1].x-B,D[1].y-A);
if(e){s.x=Math.max(s.x,0);s.y=Math.max(s.y,0)}return s};W.cn.prototype.Qy=function(z,q,e,V,P){this.aps=!0;
if(this.uH())return;this.Av=q;this.M1=!1;this.pp.Qy(V);this.O4=z.A.UK(P.x,P.y);this.O4=W.DL.N8(z,this.O4,e);
if(this.afS(z,this.O4,V)){this.px=!0;this.BF=z.h.V.Y();return}this.O3(z,e,V,P);z.A.hj=new kk};W.cn.prototype.afS=function(z,q,e){var V=e.t(cz.XQ),P=e.t(cz.mh);
if(z.h&&!V&&!P&&this.r1.binop==0)return T.U8(q,z.h.o,z.h.V);return!1};W.cn.prototype.Sf=function(z,q,e,V,P){this.Av=q;
if(this.fM)return;var D=z.A.UK(P.x,P.y);if(f5.h5(this.O4,D)*z.A.C7>5){this.M1=!0;this.pp.Sf()}if(V.t(cz.ii)){if(this.eH==null)this.eH=new f5(D.x-this.O4.x,D.y-this.O4.y);
this.O4.x=D.x-this.eH.x;this.O4.y=D.y-this.eH.y}else this.eH=null;this.b2=D;if(!this.px&&this.id!=W.$v)this.b2=W.DL.N8(z,this.b2,e);
if(this.afS(z,this.b2,V))this.ahq(q,"move");else this.ahq(q,this.Wq);if(this.px){var B=this.BF.Y();B.x+=this.b2.x-this.O4.x;
B.y+=this.b2.y-this.O4.y;var A=W.DL.ZH(z,B,e);z.h.V.x=Math.round(this.b2.x-this.O4.x+this.BF.x+A[0]);
z.h.V.y=Math.round(this.b2.y-this.O4.y+this.BF.y+A[1]);z.ZI=!0;W.DL.LA(z,B,A);return}this.Qh(z,e,V,P,q);
if(z.A.hj)z.A.hj=this.$i(z,V)};W.cn.prototype.uH=function(){return!1};W.cn.prototype.AM=function(z,q,e,V,P,D){var B=this.aps;
this.aps=!1;if(D||!B)return;z.A.hj=null;this.b2=z.A.UK(P.x,P.y);this.b2=W.DL.N8(z,this.b2,e);if(this.px){this.px=!1;
if(z!=null&&z.X.P7){z.X.P7=null;z.XU=!0}if(this.b2.bs(this.O4)&&this.dn()==0){this.Vp(q,_.E.zN,W.cn.Im());
return}this.aEU(z,this.BF,z.h.V.Y());return}this.lG(z,e,V,P,q);W.cn.agL(q,e);this.pp.AM();this.$t(q)};
W.cn.prototype.aEU=function(z,q,e){var V=z.$p();if(V!=null&&V.U==this&&V.data.p=="movesel"){}else{V=new ji([7,7],this);
V.data={p:"movesel",yP:q};z.Q6(V)}V.data.Ih=e;this.Yi(V.data,z)};W.cn.prototype.gr=function(z,q,e,V,P){this.fM=!0};
W.cn.prototype.D1=function(z,q,e,V,P){var D=new dW(_.E.b,!0);D.data={p:_.m.R9,U:this.id,uA:P,x2:z,i:e};
q.K(D);this.fM=!1};W.cn.prototype.gi=function(z,q,e,V){this.pp.gi(V);if(z!=null&&z.h!=null){var P=V.bh();
if(P.x!=0||P.y!=0){var D=z.h.V.Y();D.x+=P.x;D.y+=P.y;this.aEU(z,z.h.V.Y(),D)}}this.$t(q)};W.cn.prototype.$t=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.R9,U:this.id,Qc:this.dn()};z.K(q)};W.cn.prototype.dn=function(){var z=this.pp.Lf(0),q=this.pp.Mg(0);
return W.cn.Oe(this.r1.binop,z,q)};W.cn.Oe=function(z,q,e){if(q)z=1;if(e)z=2;if(q&&e)z=3;return z};W.cn.prototype.finish=function(z,q,e,V){var P=z.h,D=this.getSelection(z,q,e,V);
if(D==null)D=W.cn.Im();else{var B=this.r1.feat,A=this.dn();if(B!=0)D.cj.Fthr={t:"UntF",v:{type:"#Pxl",val:B}};
if(A!=0&&A!=4)D.gQ=["","addTo","subtractFrom","interfaceWhite",""][A]}this.Vp(this.Av,_.E.zN,D);this.O4.mX(-1,-1);
this.b2.mX(-1,-1)};W.cn.prototype.getSelection=function(z,q,e,V){return null};W.cn.prototype.O3=function(z,q,e,V){};
W.cn.prototype.Qh=function(z,q,e,V){};W.cn.prototype.lG=function(z,q,e,V){};W.cn.prototype.I7=function(z,q){var e=z.p;
if(e=="changesel"){var V=q.h;q.h=z.h;z.h=V}if(e=="movesel")q.h.V=z.yP;if(z.LG){if(z.a7c){q.C2=[q.kv.length];
q.kv.push(z.a7c)}else{q.kv.pop();q.C2=[]}}if(z.bL){q.o0=JSON.parse(z.bL[0]);q.L3=JSON.parse(z.bL[1])}q.ZI=!0};
W.cn.prototype.Yi=function(z,q){var e=z.p;if(e=="changesel"){var V=q.h;q.h=z.h;z.h=V}if(e=="movesel")q.h.V=z.Ih;
if(z.LG){if(z.aCm){q.C2=[q.kv.length];q.kv.push(z.aCm)}else{q.kv.pop();q.C2=[]}}if(z.bL){q.o0=JSON.parse(z.arx[0]);
q.L3=JSON.parse(z.arx[1])}q.ZI=!0};W.cn.prototype.MM=function(z){return z.p=="changesel"&&z.h?z.h.o.length:0};
W.cn.prototype.Ne=function(z){for(var q in z.r1)this.r1[q]=z.r1[q]};W.cn.prototype.acF=function(z,q){var e=T.R.b_(z.J);
if(e.a8())return null;var V=T.Hx(e.s,e.T);V.save();V.beginPath();V.translate(-e.x,-e.y);Typr.U.pathToContext({cmds:z._,crds:z.J},V);
V.closePath();V.fill();V.restore();var P=T.n(e.D()),D=V.getImageData(0,0,e.s,e.T);T.bl(new Uint8Array(D.data.buffer),P,3);
if(q!=8)P=T.EZ(P,q);return{V:e,o:P}};W.cn.a0s=function(z,q,e,V,P){if(e)q=Math.round(q*.7);var D=Math.ceil(2.6*q),B=z.V.Y();
B.Gm(D,D);if(V&&!P)B=B.HX(V);var A=T.n(B.D(),T.Gx(z.o));T.KY(z.o,z.V,A,B);T.BJ.uR(A,B,q);if(e){var s=A.length,a=T.K8(T.Gx(A)),M=a/2;
for(var n=0;n<s;n++){var $=(A[n]-M)*q*2.5;A[n]=Math.max(0,Math.min(a,M+$))}}return{o:A,V:B}};W.cn.aHP=function(z,q,e){var V=T.Gx(z.o),P=T.EZ(z.o,8),D=Math.max(1,Math.ceil(e)),B=z.V.Y();
B.Gm(D,D);var A=B.D(),s={o:T.n(A),V:B},a=T.n(A);T.KY(P,z.V,a,s.V);if(e!=0)T.style.stroke(a,s.o,s.V,e);
else T.Yh(a,s.o);var M=T.n(A);T.TG(a);if(q!=0)T.style.stroke(a,M,s.V,q);else T.Yh(a,M);T.mA.HX(s.o,M,s.o);
s.o=T.EZ(s.o,V);return s};W.cn.Dr=function(z,q,e,V,P){var D=new kk(0,0,z.s,z.T),B=z.tW();if(z.h){var A=z.h.V.HX(D),s=T.n(A.D()*4,z.depth);
T.aF(B,D,s,A);D=A;B=s}var a=D.D(),M=T.n(a,z.depth),$=1/V,U=255/T.K8(z.depth);if(P){if(q>=e)q=e-1;var o=q*(1-V),t=q,c=e,H=e+(255-e)*V,F=o==t?0:1/(t-o),i=c==H?0:1/(H-c);
for(var n=0;n<a;n++){var X=n<<2,K=T.Vq(B[X]*U,B[X+1]*U,B[X+2]*U),f=0;if(K<o)f=0;else if(K<t)f=(K-o)*F;
else if(K<=c)f=1;else if(K<=H)f=1-(K-c)*i;else f=0;M[n]=B[X+3]*f*f}}else for(var n=0;n<a;n++){var X=n<<2,d=T.zw(B[X]*U,B[X+1]*U,B[X+2]*U),f=T.aCS(d,q,e,V,$);
M[n]=B[X+3]*f}return{V:D,o:M}};W.q7=function(){W.j6.call(this,[10,18],W.mM,"tools/blur");this.VA="copy"};
W.q7.prototype=new W.j6;W.q7.prototype.Qy=function(z,q,e,V,P){var D=V.t(cz.mh)?bw.eV:bw.mM;this.xC(z,e,V,P,this.r1.strn,D);
if(this.QR==null)return;this.qw(z)};W.q7.prototype.Sf=function(z,q,e,V,P){this.xI(z,q,e);if(this.WS)this.mI(z,e,P);
if(this.QR==null)return;if(!P._W)return;this.nh(z,e,V,P);this.qw(z)};W.FZ=function(){W.j6.call(this,[10,0],W.YO,"tools/brush");
this.VA="draw"};W.FZ.prototype=new W.j6;W.FZ.prototype.Qy=function(z,q,e,V,P){if(this.Jt(z,q,e,V,P,!0))return;
this.xC(z,e,V,P,this.r1.flow);if(this.QR==null)return;this.qw(z)};W.FZ.prototype.Sf=function(z,q,e,V,P){if(this.Jt(z,q,e,V,P))return;
this.xI(z,q,e);if(this.WS)this.mI(z,e,P);if(this.QR==null){if(z)z.dS();return}if(!P._W)return;this.nh(z,e,V,P);
this.qw(z)};W.Lb=function(){W.j6.call(this,[10,42],W.FL,"tools/crepl");this.VA="idraw";this.r1.bmode="hue "};
W.Lb.prototype=new W.j6;W.Lb.prototype.Qy=function(z,q,e,V,P){if(this.Jt(z,q,e,V,P,!0))return;this.xC(z,e,V,P,this.r1.flow);
if(this.QR==null)return;this.qw(z)};W.Lb.prototype.Sf=function(z,q,e,V,P){if(this.Jt(z,q,e,V,P))return;
this.xI(z,q,e);if(this.WS)this.mI(z,e,P);if(this.QR==null)return;if(!P._W)return;this.nh(z,e,V,P);this.qw(z)};
W.f5=function(){W.j6.call(this,[10,43],W.xm,"tools/redeye");this.r1.smode=0;this.VA="redeye"};W.f5.prototype=new W.j6;
W.f5.prototype.Qy=function(z,q,e,V,P){this.xC(z,e,V,P,this.r1.flow);if(this.QR==null)return;this.qw(z)};
W.f5.prototype.Sf=function(z,q,e,V,P){this.xI(z,q,e);if(this.WS)this.mI(z,e,P);if(this.QR==null)return;
if(!P._W)return;this.nh(z,e,V,P);this.qw(z)};W.Zp=function(){W.j6.call(this,[10,38],W.zZ,"tools/pencil");
this.VA="draw"};W.Zp.prototype=new W.j6;W.Zp.prototype.Qy=function(z,q,e,V,P){if(this.Jt(z,q,e,V,P,!0))return;
this.xC(z,e,V,P,this.r1.flow);if(this.QR==null)return;this.qw(z)};W.Zp.prototype.Sf=function(z,q,e,V,P){if(this.Jt(z,q,e,V,P))return;
this.xI(z,q,e);if(this.WS)this.mI(z,e,P);if(this.QR==null){if(z)z.dS();return}if(!P._W)return;this.nh(z,e,V,P);
this.qw(z)};W.Rd=function(){W.j6.call(this,[10,22],W.Ot,"tools/burn");this.VA="burn"};W.Rd.prototype=new W.j6;
W.Rd.prototype.Qy=function(z,q,e,V,P){this.xC(z,e,V,P,this.r1.expo/Math.E);if(this.QR==null)return;this.qw(z)};
W.Rd.prototype.Sf=function(z,q,e,V,P){this.xI(z,q,e);if(this.WS)this.mI(z,e,P);if(this.QR==null)return;
if(!P._W)return;this.nh(z,e,V,P);this.qw(z)};W.hq=function(z,q,e){W.j6.call(this,z==""?null:z?z:[10,1],q?q:W.RF,e?e:"tools/clone");
this.VA="clone";this.jW=null;this.g=null};W.hq.prototype=new W.j6;W.hq.prototype.Qy=function(z,q,e,V,P){var D=this.r1,B=D.alt[0];
if(V.t(cz.mh)||V.t(cz.W3)||B){this.jW=z.A.UK(P.x,P.y);this.g=null;if(B)this.X6({alt:[!1]},q);this.jJ(z);
this.ZP(e,V,z,P);return}if(this.jW==null){alert(iE.get([15,7,0]));return}this.ZP(e,V);this.xC(z,e,V,P,this.r1.flow);
if(this.QR==null)return;this.g=this.aG7(z.A.UK(P.x,P.y));this.qw(z)};W.hq.prototype.aG7=function(z){var q=this.g;
if(q==null||!this.r1.algnd)q=new f5(Math.round(z.x-this.jW.x),Math.round(z.y-this.jW.y));return q};W.hq.prototype.Sf=function(z,q,e,V,P){this.xI(z,q,e);
if(this.WS)this.mI(z,e,P);if(this.QR==null){if(this.jW!=null)this.ZP(e,V,z,P);return}if(!P._W||this.jW==null)return;
this.nh(z,e,V,P);this.qw(z)};W.hq.prototype.zW=function(){return this.g};W.A8=function(){W.__.call(this,[10,53],W._q,"tools/csamp");
this.QY=-1;this.WE=null};W.A8.prototype=new W.__;W.A8.prototype.If=function(z,q,e,V,P){if(z.p=="fromAction"){var D=JSON.stringify(e.EC);
if(z.Wp.gQ=="make"){var B=z.Wp.cj.Pstn.v;e.EC.push({x:B.Hrzn.v.val,y:B.Vrtc.v.val})}else if(z.Wp.gQ=="delete"){e.EC=[]}e.XU=!0;
var A=new ji(this.name,this);A.data={Zz:D,oo:JSON.stringify(e.EC)};e.Q6(A)}};W.A8.prototype.Qy=function(z,q,e,V,P){this.WE=JSON.stringify(z.EC);
var D=z.A.UK(P.x,P.y),B=z.EC,A=1e9,s=-1;for(var n=0;n<B.length;n++){var a=B[n],M=D.x-a.x,$=D.y-a.y,U=M*M+$*$;
if(U<A){A=U;s=n}}var o=15/z.A.C7;s=A<o*o?s:-1;if(s==-1){s=B.length;B.push({x:D.x,y:D.y})}else if(V.t(cz.mh)){B.splice(s,1);
s=-1}this.QY=s;z.XU=!0};W.A8.prototype.Sf=function(z,q,e,V,P){var D=this.QY;if(D!=-1){var B=z.A.UK(P.x,P.y);
z.EC[D].x=B.x;z.EC[D].y=B.y;z.XU=!0}};W.A8.prototype.AM=function(z,q,e,V,P,D){var B=new ji(this.name,this);
B.data={Zz:this.WE,oo:JSON.stringify(z.EC)};z.Q6(B);this.QY=-1};W.A8.prototype.I7=function(z,q){q.EC=JSON.parse(z.Zz)};
W.A8.prototype.Yi=function(z,q){q.EC=JSON.parse(z.oo)};W.hV=function(z,q,e){W.__.call(this,z,q,e);this.r1={hr:{L:0,x:0,y:0},Tm:!1,N1:!1};
this.yA=!1;this.Wq=W._u();this.Em=null;this.cursor=null;this.aF7=0;this._n=null;this.O4=null;this.a36=null;
this.aCA=!1;this.RT=!1};W.hV.prototype=new W.__;W.hV.prototype.SZ=function(z,q,e){var V=this.r1.hr;if(z[0]!=null)V.L=z[0];
if(z[1]!=null)V.x=z[1];if(z[2]!=null)V.y=z[2];var P=new dW(_.E.b,!0);P.data={p:_.m.R9,U:this.id,$L:V};
e.K(P)};W.hV.prototype.ay=function(){return this.Em!=null};W.hV.prototype.VV=function(z){return this.O4!=null||this.Em&&this.Em.aJq()};
W.hV.prototype.Qy=function(z,q,e,V,P){this._n=P;var D=z.A.UK(P.x,P.y),B=this.r1.hr,A=B.L!=0?B.x/B.y:null,s=this.aCA;
this.aCA=!1;if(this.Em){var a=this.Em.s1(D,z.A.C7);if(s&&a==null){this.Em.clear(z);this.Em=null}else{this.Em.Qy(z,e,V,D,A,!1,P);
this.RT=!1;return}}this.O4=W.DL.N8(z,D,e)};W.hV.prototype.Mp=function(z,q,e){if(e==null)e=[z.x,z.y,z.x+z.s,z.y,z.x+z.s,z.y+z.T,z.x,z.y+z.T];
return new ik(e,!0,!1,this.id==W.TN,!0,q,this.id==W.TN?2:0,this.id==W.TN?4:3)};W.hV.prototype.ZP=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.XL,ia:this.cursor};z.K(q)};W.hV.prototype.enable=function(z,q,e,V){this.Av=q;this.cursor=this.Wq;
this.ZP(q);if(z!=null&&this.Em==null){var P=z.h?{ep:"cropby",aq0:3}:{ep:"config",r1:this.r1,aEh:!0};
this.Ne(P,q,z,V,e);if(z.h==null&&this.r1.hr.L==0)this.aCA=!0;this.RT=!0}};W.hV.prototype.Sf=function(z,q,e,V,P){this._n=P;
var D=z.A.UK(P.x,P.y);if(!P._W){var B=this.Wq;if(this.Em){var A=this.Em.s1(D,z.A.C7,null,P);if(A)B=A;
else B="default"}if(B!=this.cursor){this.cursor=B;this.ZP(q)}}if(this.Em)this.Em.Sf(z,e,V,D);else if(this.O4){if(this.yA){z.X.NI={_:["M","L"],J:[this.O4.x,this.O4.y,D.x,D.y]}}else{var s=W.LR.iu(this.O4,W.DL.N8(z,D,e),V,!0,this.r1.hr),a=s[0].x,M=s[0].y,$=this.a36=new kk(a,M,s[1].x-a,s[1].y-M);
z.X.NI=T.R.iR($);W.__.Lq(P,$,z,e)}z.XU=!0}};W.hV.aok=function(z,q,e){var V,P,A,s;if(q<=e){V=q;P=e}else{V=e;
P=q}var D=z-Math.floor((z+Math.PI)/(2*Math.PI))*2*Math.PI;D=Math.abs(D);if(D>Math.PI/2)D=Math.PI-D;var B=V/(P*Math.sin(D)+V*Math.cos(D));
if(q<=e){A=V*B;s=P*B}else{A=P*B;s=V*B}return{xL:A,Hi:s}};W.hV.prototype.AM=function(z,q,e,V,P){this._n=P;
var D=z.A.UK(P.x,P.y);if(this.Em==null){var B=this.a36;if(this.O4&&(B||this.yA)){if(this.yA){var A=this.O4,s=D,a=s.x-A.x,M=s.y-A.y;
if(Math.abs(a)<Math.abs(M))s=new f5(A.x-M,A.y+a);if(A.x>s.x){var $=A;A=s;s=$}var A=Math.atan2(-(s.y-A.y),s.x-A.x),U=W.hV.aok(A,z.s,z.T);
if(this.r1.N1){var o=T.R.iR(new kk(0,0,z.s,z.T)),t=new e5;t.rotate(A);T.R.v(o.J,t,o.J);U=T.R.b_(o.J);
U={xL:U.s,Hi:U.T}}var c=[0,0,U.xL,0,U.xL,U.Hi,0,U.Hi],H=new e5;H.translate(-U.xL/2,-U.Hi/2);H.rotate(A);
H.translate(z.s/2,z.T/2);T.R.v(c,H,c);this.Em=this.Mp(B,!1,c);this.yA=!1}else{var F=this.r1.hr;this.Em=this.Mp(B,F.L!=0)}this.RT=!1;
this.Em.kd(z,e);this.a36=null;this.Vp(q,_.E.b,{p:_.m.R9,U:this.id,pM:!0});this.O4=null;z.X.QZ=[];z.X.NI=null;
z.XU=!0}return}this.Em.AM(z,e,V,D);this.Vp(q,_.E.b,{p:_.m.R9,U:this.id,pM:!0});var c=this.Em.Uv();if(Math.abs(c[0]-c[4])<2&&Math.abs(c[1]-c[5])<2){this.VJ(z,q,null,V);
return}if(Date.now()-this.aF7<200&&this.Em.t6(D)){this.ph(z,e);this.VJ(z,q,e,V);return}this.aF7=Date.now()};
W.hV.prototype.gi=function(z,q,e,V){var P=this.Em;if(P==null||this._n&&this._n._W)return;if(V.t(cz.JN)){this.ph(z,e);
this.VJ(z,q,e,V)}else if(V.t(cz.Nf)){this.VJ(z,q,e,V)}else P.gi(z,e,V)};W.hV.aj4=function(z,q,e){var V={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:z[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:z[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:z[1]+z[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:z[0]+z[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:q!=null?q:0}},Dlt:{t:"bool",v:e!=null?e:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{gQ:"crop",cj:V}};W.hV.V7=function(z,q){if(q==null)q=[!0,!0,!0,!0];var e={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][z]}}},V=["Top","Left","Btom","Rght"];
for(var n=0;n<4;n++)e[V[n]]={t:"bool",v:q[n]};return{gQ:"trim",cj:e}};W.hV.XN=function(z,q,e,V,P){var D={classID:"null"};
if(V!=null){D.Wdth={t:"UntF",v:P?{type:"#Prc",val:z*100}:{type:"#Pxl",val:z}};D.Hght={t:"UntF",v:P?{type:"#Prc",val:q*100}:{type:"#Pxl",val:q}};
D.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][V]}}}if(e!=null)D.Rslt={t:"UntF",v:{type:"#Rsl",val:e}};
return{gQ:"imageSize",cj:D}};W.hV.abX=function(z,q,e,V){if(e==null)e=4;if(V==null)V=!1;var P=Math.floor(e/3),D=e%3;
return{gQ:"canvasSize",cj:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:z}},Hght:{t:"UntF",v:{type:"#Pxl",val:q}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][D]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][P]}},Rltv:{t:"bool",v:V}}}};
W.hV.prototype.If=function(z,q,e,V,P){var D=new kk(0,0,e.s,e.T),B=[11,3],A=e.do,s=e.s/2,a=e.T/2,j5=1,ci,fK,jN;
function M(j7,n){return j7[n]+2*j7[n+1]+j7[n+2]>>>2}if(z.p=="cropAndStr"){var $=e.Z[e.j[0]],U=$.buffer,o=$.V,t=o.s,c=o.T,H=t+2,F=[0,0,t-1,0,t-1,c-1,0,c-1],i,X=1e9,Q=0;
for(var n=0;n<4;n++)for(var K=n+1;K<4;K++){var f=F[2*n],d=F[2*n+1],L=(d*t+f)*4,G=(F[2*K+1]*t+F[2*K])*4,x=U[L]-U[G],O=U[L+1]-U[G+1],v=U[L+2]-U[G+2],C=x*x+O*O+v*v;
if(C<X){X=C;i=new f5(f+.5,d+.5)}}var S=Date.now(),j=W.Ty.a6($.buffer,o,i,null,[16,!1,!0]);T.TG(j);var w=o.Y();
w.Gm(1,1);var u=T.n(w.D());T.KY(j,o,u,w);var l=u.slice(0);for(var d=0;d<c;d++)for(var f=0;f<t;f++){var K=d*t+f;
if(j[K]==255&&M(U,K*4)>200){var n=(d+1)*H+f+1;u[n]=l[n-H]&l[n-1]&l[n+1]&l[n+H]}}var I=T.R._J(u,w.s,w.T,0),b=new dW(_.E.b,!0);
b.data={p:_.m.Mk};var S=Date.now();for(var p=0;p<I.length;p++){var k=I[p].path.J;if(I[p].sI.D()<2500)continue;
var g=T.R.amc(k,Q==3);for(var n=0;n<g.length;n++)g[n]-=1;var Y=new f5(g[0],g[1]),R=Math.ceil(f5.h5(Y,new f5(g[2],g[3]))),m=Math.ceil(f5.h5(Y,new f5(g[6],g[7]))),Z=new kk(0,0,R,m),E=T.n(Z.D()*4),k=T.O.AX(g,new kk(-1,-1,R+2,m+2));
k=T.O.TG(k);k=T.O.yW(k,T.O.Ak(new e5(o.s,0,0,o.T,o.x,o.y)));T.O.drawImage(k,$.buffer,o.s,o.T,E,Z);Q++;
var N=b.data.Va=new hq("Image "+Q+".psd");N.s=R;N.T=m;var h=N.OJ();h.up("Background");h.buffer=E;h.V=Z;
N.Z.push(h);q.K(b)}return}if(z.p=="fromAction"){var r=z.Wp,l8=r.gQ,aP=r.cj,bS=e.s/e.T,H=aP.Wdth?aP.Wdth.v.val:-1,kR=aP.Hght?aP.Hght.v.val:-1,A=aP.Rslt?aP.Rslt.v.val:null,j1=aP.Wdth?aP.Wdth.v.type:aP.Hght?aP.Hght.v.type:-1,f6=1,gx;
if(j1=="#Prc"){if(H!=-1)H=Math.round(e.s*H/100);if(kR!=-1)kR=Math.round(e.T*kR/100)}if(l8=="imageSize"){if(aP.Intr){if(aP.Intr.v.Intp=="Nrst")f6=0;
if(aP.Intr.v.Intp=="bicubicSharper")f6=2;if(H==-1&&kR==-1){var lC=A/e.do;H=Math.round(e.s*lC);kR=Math.round(e.T*lC)}if(aP.CnsP&&aP.CnsP.v){if(H==-1)H=Math.round(kR*bS);
if(kR==-1)kR=Math.round(H/bS)}}else{if(j1=="#Prc")A=Math.round(e.do*(e.s/H));else if(j1==-1)A=Math.round(A);
else throw"e";H=e.s;kR=e.T}gx={p:"imgsize",wV:H,DS:kR,sp:A,UO:f6}}else if(l8=="canvasSize"){if(H==-1)H=e.s;
if(kR==-1)kR=e.T;if(aP.Rltv&&aP.Rltv.v==!0){if(aP.Wdth)H+=e.s;if(aP.Hght)kR+=e.T}var g2=aP.Vrtc?aP.Vrtc.v.VrtL:"Cntr",dv=aP.Hrzn?aP.Hrzn.v.HrzL:"Cntr";
gx={p:"canvsize",wV:H,DS:kR,Lu:3*["Top","Cntr","Btom"].indexOf(g2)+["Left","Cntr","Rght"].indexOf(dv)}}else if(l8=="revealAll"){gx={p:"revealAll"}}else if(l8=="trim"){var bv={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[aP.trimBasedOn.v.trimBasedOn];
if(bv==null)throw"e";var eo=["Top","Left","Btom","Rght"],aL=[!0,!0,!0,!0];for(var n=0;n<4;n++)if(aP[eo[n]])aL[n]=aP[eo[n]].v;
gx={p:"trim",akh:bv,$L:aL}}else if(l8=="crop"){var f,d,t,c;if(aP.T){var dh=aP.T.v,f=Math.round(dh.Left.v.val),d=Math.round(dh.Top.v.val),t=Math.round(dh.Rght.v.val)-f,c=Math.round(dh.Btom.v.val)-d}else{var o=e.h.V;
f=o.x;d=o.y;t=o.s;c=o.T}gx={p:"canvsize",wV:t,DS:c,g:new f5(f,d),aCf:aP.Dlt!=null&&aP.Dlt.v}}else console.log(r);
if(gx)this.If(gx,q,e,V,P);return}else if(z.p=="imgsize"){D=new kk(0,0,z.wV,z.DS);if(z.sp)A=z.sp;j5=z.UO}else if(z.p=="canvsize"){var eM=z.Lu!=null?z.Lu:0;
D=new kk(0,0,z.wV,z.DS);var kg=e.s-z.wV,jJ=e.T-z.DS,iL=Math.round(kg/2),bz=Math.round(jJ/2);if(eM==1||eM==4||eM==7)D.x=iL;
if(eM==2||eM==5||eM==8)D.x=kg;if(eM==3||eM==4||eM==5)D.y=bz;if(eM==6||eM==7||eM==8)D.y=jJ;if(z.g){D.x=z.g.x;
D.y=z.g.y}}else if(z.p=="rot"&&(z.u+2*Math.PI)%(Math.PI/2)!=0){var ks=T.R.iR(D).J,gr=new e5;gr.translate(-s,-a);
gr.rotate(z.u);gr.translate(s,a);T.R.v(ks,gr,ks);D=T.R.b_(ks)}else if(z.p=="rot"&&z.u!=Math.PI&&z.u!=-Math.PI){D=new kk(s-e.T/2,a-e.s/2,e.T,e.s);
if((e.s+e.T&1)==1){s=Math.floor(s);a=Math.floor(a);D=new kk(s-Math.floor(e.T/2),a-Math.floor(e.s/2),e.T,e.s);
if((e.s&1)==1&&z.u!=-Math.PI/2)D.y--;if((e.T&1)==1&&z.u==-Math.PI/2)D.x--}}else if(z.p=="trim"){B=[11,12,0];
var hg=e.tW(),o=new kk(0,0,e.s,e.T);D=T.JB(hg,o,z.akh,z.$L);if(D.a8())D=o}else if(z.p=="revealAll"){B=[11,12,2];
D=e.root.$i(e,!0)}var dD=z.p=="canvsize"&&z.aCf;if(z.p=="imgsize"||z.p=="rot"||z.p=="scl"||dD){var eF=new e5;
if(z.p=="imgsize"){B=[11,10];eF.scale(z.wV/e.s,z.DS/e.T);jN=e.Il();for(var n=0;n<jN[0].length;n++)jN[0][n][1]*=jN[0][n][0]==0?eF.x6:eF.at}else if(dD){}else{eF.translate(-s,-a);
if(z.p=="rot")eF.rotate(z.u);if(z.p=="scl")eF.scale(z.u.x,z.u.y);eF.translate(s,a);B=z.JJ}fK=T.O.Ak(eF);
ci=this.du(e,P,!0,fK,j5,dD?D:null)}else if(z.p=="auto-align"){if(e.j.length<2){alert("Select two or more layers.");
return}var io=[];for(var n=0;n<e.j.length;n++){var $=e.Z[e.j[n]];if(!$.Be()&&$.add.SoLd==null){alert("Unsupported layer selected.");
return}if($.V.a8()){alert("Empty layer selected.");return}io.push([$.buffer,$.V])}var la=T.pF.qH(io);
if(la==null){alert("No similarity found.");return}fK=la[1];ci=this.du(e,P,!1,la,j5);D=e.root.$i(e,!0);
B=[2,10,1]}var e9=new kk(0,0,e.s,e.T);if(!D.a8()&&(!D.bs(e9)||ci!=null)){var gM=new ji(B,this);gM.data={aDm:e.do,sp:A,wE:ci,aBb:fK,xA:W.hV.aiu(e,D,e9,ci!=null)};
if(jN){gM.data.sT=e.Il();gM.data.ul=jN}W.hV.aOX(e,gM.data,D);e.Q6(gM);this.Yi(gM.data,e,!0)}};W.hV.aiu=function(z,q,e,V){if(z.tQ.length==0)return null;
var P=JSON.stringify(z.tQ),D=JSON.parse(P);W.zL.acH(D,q,e,V);D=JSON.stringify(D);return[P,D]};W.hV.prototype.du=function(z,q,e,V,P,D,B){var A={Z:[],Uc:null,a8j:!0};
if(e)A.Z=W.On.tk(z);else A.Z=z.j.slice(0);A.Uc=W.On.iw(z,A.Z,!0);var s=Math.abs(V[3]*V[1])>1e-9;W.On.w8(z,q,A.Z,A.Uc,P,V,null,!0,s&&T.O.NJ(V)?null:D);
if(e&&B&&z.Ov()){var a=z.Z[z.j[0]],M=a.buffer,$=a.V,U=s?$.Y():D.Y(),o=T.n(U.D()*4),t=T.n($.D());T.bl(M,t,3);
var c=T.n(U.D());T.KY(t,$,c,U);T.round(c,255);T.TG(c);var H=T.mQ.Fj(M,$,c,o,U);if(H==0){a.V=U;a.buffer=o}}return A};
W.hV.prototype.Yi=function(z,q,e){if(z.sp)q.do=z.sp;if(z.xA)q.tQ=JSON.parse(z.xA[1]);if(z.wE){W.hV.BT(q,T.O.uV(z.aBb));
if(e==null)W.On.el(q,z.wE);if(z.ul)q.m6(z.ul)}W.hV.SD(q,z)};W.hV.prototype.I7=function(z,q){if(z.aDm)q.do=z.aDm;
if(z.xA)q.tQ=JSON.parse(z.xA[0]);W.hV.kR(q,z);if(z.CA)q.A.g.Xs(z.CA);q.awp();if(z.wE){var e=T.O.uV(z.aBb).Y();
e.TG();W.hV.BT(q,e);W.On.el(q,z.wE);if(z.sT)q.m6(z.sT)}};W.hV.BT=function(z,q){for(var n=0;n<z.Z.length;
n++){var e=z.Z[n];if(e.add.artb==null)continue;var V=T.R.iR(e.Le()).J;T.R.v(V,q,V);var P=T.R.b_(V);e.Ig(P)}};
W.hV.Tq=function(z){var q=new kk,e=0,V=z.root.children.length;for(var n=0;n<V;n++){var P=z.root.children[n].H;
if(P.add.artb==null)continue;q=q.X8(P.Le());e++}var D=new kk(0,0,z.s,z.T);if(!q.a8()&&!D.bs(q))return q;
return null};W.hV.Iz=function(z){var q=W.hV.Tq(z);if(q)W.hV.Tm(z,q,!0);return q};W.hV.Tm=function(z,q,e){var V=z.s,P=z.T,D=q.s,B=q.T,A=q.x==0&&q.y==0;
if(A&&V==D&&P==B)return;z.s=D;z.T=B;var s=[];for(var n=0;n<z.Z.length;n++)s.push(n);if(!A)W.DL.zE(z,s,null,-q.x,-q.y);
for(var n=0;n<z.Z.length;n++){z.Z[n].ly(z)}z.awp();if(e){var a=z.A.g,M=z.A.C7;a.x+=Math.round((q.x+(D-V)/2)*M);
a.y+=Math.round((q.y+(B-P)/2)*M)}else z.A.g.mX(0,0);if(z.h)z.h.V.offset(-q.x,-q.y);var $=z.Il();for(var U=0;
U<$[0].length;U++)if($[1][U]==-1){var o=z.r3[U];o[1]-=o[0]==0?q.x:q.y}for(var n=0;n<z.kv.length;n++)z.kv[n].V.offset(-q.x,-q.y);
for(var n=0;n<z.yj.length;n++)T.S.Z8(z.yj[n].add.vmsk.B,new e5(1,0,0,1,-q.x,-q.y))};W.hV.prototype.Ne=function(z,q,e,V,P){if(z.ep=="commit"){this.ph(e,P);
this.VJ(e,q,null,V)}else if(z.ep=="cancel"){this.VJ(e,q,null,V)}var D=null,B=new kk(0,0,e.s,e.T),A=this.r1.hr;
if(z.ep=="config"){this.r1=z.r1;A=this.r1.hr;if(e==null||!z.aEh)return;D=B;if(A.L==1){var s=A.x/A.y;
if(D.s/s<D.T)D.T=Math.round(D.s/s);else D.s=Math.round(D.T*s)}if(A.L==2){D.s=A.x;D.T=A.y}D.x=Math.round((e.s-D.s)/2);
D.y=Math.round((e.T-D.T)/2);this.RT=!1}if(z.ep=="straighten"){alert("Draw a line in the image.");this.yA=!0}if(z.ep=="cropby"){if(e==null)return;
var a=z.aq0,D;if(a==0)D=e.root.$i(e,!0);if(a==1){if(e.j.length==0)alert("No layer is selected.");else{var M=e.root.G6(e.j[0]);
D=M.$i(e,!0)}}if(a==2){if(e.j.length==0)alert("No layer is selected.");else{D=T.JB(e.tW(),B,0);if(D.a8())D=B.Y()}}if(a==3){if(e.h!=null)D=e.h.V;
else alert("There is no selection.")}if(a==4){D=new kk(0,0,e.s,e.T)}}if(D&&D.a8())D=null;if(D!=null){this.Em=this.Mp(D,A.L!=0);
this.Em.kd(e,P);this.Vp(q,_.E.b,{p:_.m.R9,U:this.id,pM:!0})}};W.__.hu(W.hV);W.hV.prototype.ph=function(z,q){var e=this.Em.Uv(),V=T.R.b_(e),P=this.a2n(z,e),D=!1,B=this.r1,A=B.hr,s=B.Tm,a=A.x,M=A.y,o;
if(this.id==W.M7&&A.L==2&&P.D()!=a*M){P=new kk(P.x,P.y,a,M);D=!0}var $=T.O.AX(e,P);$=T.O.TG($);var U=!T.O.NJ($),t=Math.abs(Math.atan2($[3],$[0]))>1e-9,c=new kk(0,0,z.s,z.T);
if(!t&&!U&&!D&&P.bs(c))return;if(t||U||D||s||B.N1)o=this.du(z,q,!0,$,1,V,B.N1);var H=new ji(this.name,this);
H.data={wE:o,aBb:$,CA:z.A.g.Y(),xA:W.hV.aiu(z,P,c,!1)};if(A.do!=null){H.data.aDm=z.do;H.data.sp=A.do}W.hV.aOX(z,H.data,P);
z.Q6(H);this.Yi(H.data,z,!0);this.track(W.hV.aj4([V.x,V.y,V.s,V.T],null,s))};W.hV.aOX=function(z,q,e){if(e==null)return;
q.yP=new kk(0,0,z.s,z.T);q.Ih=e};W.hV.SD=function(z,q){if(q.Ih==null)return;W.hV.Tm(z,q.Ih)};W.hV.kR=function(z,q){if(q.Ih==null)return;
var e=q.yP.Y();e.offset(-q.Ih.x,-q.Ih.y);W.hV.Tm(z,e)};W.hV.prototype.a2n=function(z,q){var e=T.O.AX(q),V=T.O.NJ(e),P=T.O.uV(e),D=P.yK,B=P.ww,A=Math.atan2(P.c,P.x6);
P.rotate(A);var s=new kk(D,B,P.x6,P.at);if(!V){function a(X,n,K){var f=X[n]-X[K],d=X[n+1]-X[K+1];return Math.sqrt(f*f+d*d)}var M=a(q,0,2),$=a(q,4,6),U=Math.max(M,$),o=a(q,2,4),t=a(q,6,0),c=Math.max(o,t),H=W.hV.bZ(q,z.s/2,z.T/2),F,i;
if(isNaN(H)||H==Infinity||H==-Infinity||Math.min(H,1/H)<.1)H=(M+$)/(o+t);if(U/c>H){F=U*1;i=F/H}else{i=c*1;
F=i*H}s.s=F;s.T=i}s.x=Math.round(s.x);s.y=Math.round(s.y);s.s=Math.round(s.s);s.T=Math.round(s.T);return s};
W.hV.bZ=function(z,q,e){var V=z[0]-q,P=z[1]-e,D=z[2]-q,B=z[3]-e,A=z[6]-q,s=z[7]-e,a=z[4]-q,M=z[5]-e,$=((P-M)*A-(V-a)*s+V*M-P*a)/((B-M)*A-(D-a)*s+D*M-B*a),U=((P-M)*D-(V-a)*B+V*M-P*a)/((s-M)*D-(A-a)*B+A*M-s*a),o=-((U*s-P)*($*B-P)+(U*A-V)*($*D-V))/((U-1)*($-1));
function t(H){return H*H}var c=Math.sqrt((t($-1)+t($*B-P)/o+t($*D-V)/o)/(t(U-1)+t(U*s-P)/o+t(U*A-V)/o));
if($==1&&U==1)c=Math.sqrt((t(B-P)+t(D-V))/(t(s-P)+t(A-V)));return c};W.hV.prototype.VJ=function(z,q,e,V){if(z==null)return;
if(this.Em)this.Em.clear(z);this.Em=null;this.Vp(q,_.E.b,{p:_.m.R9,U:this.id,pM:!1})};W.hV.prototype.disable=function(z,q,e,V){if(this.Em&&!this.RT)this.ph(z,e);
this.VJ(z,q,e,V)};W.hV.prototype.Vp=function(z,q,e,V){var P=new dW(q,!0);P.data=e;if(V)P.U=V;z.K(P)};
W.a0t=function(){W.hV.call(this,[10,2],W.M7,"tools/rcrop")};W.a0t.prototype=new W.hV;W.akc=function(){W.hV.call(this,[10,39],W.TN,"tools/pcrop")};
W.akc.prototype=new W.hV;W.zv=function(){W.j6.call(this,[10,21],W.qZ,"tools/dodge");this.VA="dodge"};
W.zv.prototype=new W.j6;W.zv.prototype.Qy=function(z,q,e,V,P){this.xC(z,e,V,P,this.r1.expo/Math.PI);
if(this.QR==null)return;this.qw(z)};W.zv.prototype.Sf=function(z,q,e,V,P){this.xI(z,q,e);if(this.WS)this.mI(z,e,P);
if(this.QR==null)return;if(!P._W)return;this.nh(z,e,V,P);this.qw(z)};W.O1=function(){W.j6.call(this,[10,3],W.bx,"tools/eraser");
this.VA="erase"};W.O1.prototype=new W.j6;W.O1.prototype.Qy=function(z,q,e,V,P){this.xC(z,e,V,P,this.r1.flow);
if(this.QR==null)return;this.qw(z)};W.O1.prototype.Sf=function(z,q,e,V,P){this.xI(z,q,e);if(this.WS)this.mI(z,e,P);
if(this.QR==null)return;if(!P._W)return;var D=this.nh(z,e,V,P);this.qw(z)};W.MC=function(){W.j6.call(this,[10,45],W.L5,"tools/beraser");
this.VA="ierase"};W.MC.prototype=new W.j6;W.MC.prototype.Qy=function(z,q,e,V,P){if(this.Jt(z,q,e,V,P,!0))return;
this.xC(z,e,V,P,this.r1.flow);if(this.QR==null)return;this.qw(z)};W.MC.prototype.Sf=function(z,q,e,V,P){if(this.Jt(z,q,e,V,P))return;
this.xI(z,q,e);if(this.WS)this.mI(z,e,P);if(this.QR==null)return;if(!P._W)return;this.nh(z,e,V,P);this.qw(z)};
W.if=function(){W.cn.call(this,[10,15],W.qK,"tools/rselect");this.Wq=W._u()};W.if.prototype=new W.cn;
W.if.prototype.Qh=function(z,q,e,V){if(!V._W||!this.M1)return;var P=this.$i(z,e,!0);z.X.NI=T.R.iR(P);
z.XU=!0;W.__.Lq(V,P,z,q)};W.if.prototype.lG=function(z,q,e,V){z.X.NI=null;z.X.QZ=[];z.XU=!0;this.finish(z,q,e,V)};
W.if.prototype.getSelection=function(z,q,e,V){if(this.O4.bs(this.b2)||!this.M1)return null;var P=this.$i(z,e,!0);
if(P.a8())return null;return W.cn.CL("Rctn",P,this.r1.anta)};W.__.hu(W.if);W.M8=function(){W.cn.call(this,[10,4],W.a5v,"tools/eselect");
this.Wq=W._u()};W.M8.prototype=new W.cn;W.M8.prototype.Qh=function(z,q,e,V){if(!V._W||!this.M1)return;
var P=this.$i(z,e);z.X.NI=W.M8.a0z(P);z.XU=!0;W.__.Lq(V,P,z,q)};W.M8.prototype.lG=function(z,q,e,V){z.X.NI=null;
z.X.QZ=[];z.XU=!0;this.finish(z,q,e,V)};W.M8.prototype.getSelection=function(z,q,e,V){if(this.O4.bs(this.b2)||!this.M1)return null;
var P=this.$i(z,e);if(!P.Je(new kk(0,0,z.s,z.T)))return null;return W.cn.CL("Elps",P,this.r1.anta)};
W.M8.a0z=function(z){var q=z.x,e=z.y,V=z.x+z.s,P=z.y+z.T,D=(q+V)/2,B=(e+P)/2,A=(q-V)/2,s=(e-P)/2,a=.5522848,M={J:[D,B-s],_:["M","C","C","C","C"]};
M.J.push(D+a*A,B-s,D+A,B-a*s,D+A,B);M.J.push(D+A,B+a*s,D+a*A,B+s,D,B+s);M.J.push(D-a*A,B+s,D-A,B+a*s,D-A,B);
M.J.push(D-A,B-a*s,D-a*A,B-s,D,B-s);return M};W.__.hu(W.M8);W.SB=function(z){W.__.call(this,[10,5],z?W.W_:W.T3,"tools/eyedropper");
this.Hv=null;this.a0u=!1;this.p5=0;this.GS=null;this.aIF=1;this.aj=2;this.a1F=!0;this.vE=!1};W.SB.prototype=new W.__;
W.SB.prototype.VV=function(z){return z._W};W.SB.prototype.enable=function(z,q,e,V,P){W.__.prototype.enable.call(this,z,q,e,V,P);
this.a0u=P};W.SB.prototype.If=function(z,q,e,V,P){if(z.p=="pickhere")this.ap(e,q,P,null,z.ayj);if(z.p=="supertool")this.Hv=z.U};
W.SB.prototype.Qy=function(z,q,e,V,P){var D=this.Hv;if(D){D.Qy(z,q,e,V,P);return}if(cW==0){this.GS=P;
this.p5=e.pQ;var B=this.ap(z,null,e,V,P);this.ZP(z,q,B,P)}};W.SB.prototype.Sf=function(z,q,e,V,P){if(cW!=0)return;
var D=this.Hv;if(D){D.Sf(z,q,e,V,P);return}var B=this.GS;if(B){var A=P.x-B.x,s=P.y-B.y,a=1,M=new f5(B.x+A*a,B.y+s*a),$=this.ap(z,null,e,V,M);
this.ZP(z,q,$,M,new f5(A*(1-a),s*(1-a)))}};W.SB.prototype.ZP=function(z,q,e,V,P){var D=this.a1F,B=this.vE;
if(z.A.C7>4)B=!1;if(!B&&!D)return;var A=W.SB.aGv(z,B,D,V,P,e,this.p5,this.aIF),s=new dW(_.E.b,!0);s.data={p:_.m.XL,ia:A};
q.K(s)};W.SB.prototype.AM=function(z,q,e,V,P,D){var B=this.Hv;if(B){B.AM(z,q,e,V,P);return}if(cW==0){this.ap(z,q,e,V,P);
if(this.GS){this.GS=null;if(D)this.ap(z,q,e,V,P,this.p5);var A=new dW(_.E.b,!0);A.data={p:_.m.XL,ia:"default"};
q.K(A)}}else{var s=z.A.UK(P.x,P.y),a;if(V.t(cz.XQ)){var M=z.GM(),$=new Uint8Array(z.Vc(e)),U=Math.floor(s.x),o=Math.floor(s.y),n=(o-M.y)*M.s+U-M.x;
if(M.vG(new f5(U,o))){var t=$[n*4+3];if(t==0)a={oO:[1,1,1]};else a={oO:[$[n*4]/255,$[n*4+1]/255,$[n*4+2]/255]}}}else{var c=z.root.U8(new f5(Math.floor(s.x),Math.floor(s.y)));
if(c==null)return;var H=c.H.add,F=H.TySh,i=H.SoLd;a=H.vstl;if(a==null&&F){var X=F._1,K=dc.jb(X,0,1);
a={oO:K.c_.FillColor.Values.slice(1),i8:[]}}if(a==null&&i){var f=i.Idnt.v,d=z.VH(f,i.Crop?i.Crop.v:null),L=T.O.gK(i),G=d.De;
L.TG();var x=L.a0(s),O=(Math.floor(x.y)*G[1].s+Math.floor(x.x))*4;a={oO:[G[0][O]/255,G[0][O+1]/255,G[0][O+2]/255],i8:[]}}}if(a==null)return;
var A=new dW(_.E.b);A.data={p:_.m.Ln,Lh:cR.gF,u:T.G(a)};q.K(A)}};W.SB.prototype.ap=function(z,q,e,V,P,D){if(D==null)D=W.SB.Z9(z,P,this.aIF,this.aj);
var B=new dW(_.E.b);B.data={p:_.m.Ln,Lh:cR.RV,kE:!this.a0u&&V&&V.t(cz.mh)?1:0,u:D};if(q)q.K(B);return D};
W.SB.aGv=function(z,q,e,V,P,D,B,A){if(P==null)P=new f5(0,0);var s=new kk(0,0,z.s,z.T),a=z.tW(),M=12,$=11,U=(M*2+1)*$,o=new f5(U/2,U/2),t=new kk(0,0,U,U),c=T.n(t.D()*4),H=z.A.UK(V.x,V.y),F=Math.floor(H.x),i=Math.floor(H.y),X=new e5;
X.scale(1/$,1/$);X.translate(F-M,i-M);if(q)T.scale.qn(a,s,X,c,t);var K=(M-3.4)*$,f=(M-1.7)*$,d=M*$;for(var L=0;
L<U;L++)for(var G=0;G<U;G++){var x=f5.h5(new f5(G,L),o);if(x>K){if(e){var O=Math.max(0,K-x+1),v=(L*U+G)*4,C=c[v+3]<<24|c[v]<<16|c[v+1]<<8|c[v+2],S=255<<24|(L<d+$*.5?D:B);
if(x>f){O=Math.max(0,f-x+1);C=S;S=4286611584}else if(!q){C=S&16777215}c[v+0]=(1-O)*(S>>>16&255)+O*(C>>>16&255);
c[v+1]=(1-O)*(S>>>8&255)+O*(C>>>8&255);c[v+2]=(1-O)*(S>>>0&255)+O*(C>>>0&255);c[v+3]=(1-O)*(S>>>24&255)+O*(C>>>24&255)}if(x>d){c[(L*U+G)*4+3]=Math.max(0,255*(d-x+1))}}}function u(n){var r=n<<2;
c[r]=0;c[r+1]=0;c[r+2]=0;c[r+3]=255}function l(n){var r=n<<2;c[r]=255;c[r+1]=255;c[r+2]=255;c[r+3]=255}var I=A*$+2,Q=U-I>>>1,b=Q+I-1;
if(q&&I<U)for(var n=0;n<I;n++){var p=Q*U+Q+n,k=b*U+Q+n,g=(Q+n)*U+Q,Y=(Q+n)*U+b;u(p);u(k);u(g);u(Y);if(n!=0&&n!=I-1){l(p+U);
l(k-U);l(g+1);l(Y-1)}}if(!q)for(var n=-9;n<=9;n++){if(-3<n&&n<3)continue;var R=U>>>1,G=R*U+R+n,L=(R+n)*U+R;
l(G-U);u(G);l(G+U);l(L-1);u(L);l(L+1)}var m=D>>>16&255,Z=D>>>8&255,E=D>>>0&255,N="RGB "+m+","+Z+","+E,h=T.VB([m/255,Z/255,E/255]);
if(z.add.fcmy)N="CMYK "+h.map(function(r){return Math.round(r*100)}).join(",");var j5=W.__.jq(0,0,["#"+T.R0(D),N]),s=j5[1];
s.y=0;s.x=U-s.s>>>1;T.aF(j5[0],s,c,t);return{Nm:c,TP:t,ZO:new f5(o.x+P.x,o.y+P.y)}};W.SB.Z9=function(z,q,e,V,P){if(V==null)V=2;
var D=z.A.UK(q.x,q.y),B,A,s=z.j.length==1&&z.Z[z.j[0]].oT>0&&P!=!0,a=z.C2.length!=0,f=0,d=0,L=0;if(s||a){var M;
if(a)M=z.kv[z.C2[0]];else{var $=z.Z[z.j[0]];M=$.oT==1?$.OX():$.alo()}A=M.$i();if(!A.vG(D))return M.color==0?0:16777215;
B=T.n(A.D()*4);B.fill(255);var U=M.I4();T.A$(U,B)}else if(V==0&&z.j.length!=0){var $=z.Z[z.j[0]];B=$.buffer;
A=$.V}else{B=V==2?z.tW():z.tW(z.j[0]);A=new kk(0,0,z.s,z.T)}var o=Math.floor(D.x)-A.x,t=Math.floor(D.y)-A.y,c=(e-1)/2,H=Math.max(0,o-c),F=Math.max(0,t-c),i=Math.min(A.s,o+c+1),X=Math.min(A.T,t+c+1),K=(i-H)*(X-F);
for(var o=H;o<i;o++)for(var t=F;t<X;t++){var n=4*(t*A.s+o);f+=B[n];d+=B[n+1];L+=B[n+2]}var G=T.Gx(B),x=G==8?255:G==16?65535:1,O=255/(x*K);
f=Math.round(f*O);d=Math.round(d*O);L=Math.round(L*O);return f<<16|d<<8|L};W.SB.prototype.Ne=function(z){var q=z.r1;
this.aIF=[1,3,5,11,31][q[0]];this.aj=q[1];this.a1F=q[2];this.vE=q[3]};W.QT=function(){W.__.call(this,[10,6],W.Xy,"tools/gradient");
this.r1=JSON.parse(az.j3[6]);this.r1.Grad=JSON.parse(az.mo.aO1);this.Ly=!1;this.VY=null;this.cB=null};
W.QT.prototype=new W.__;W.QT.prototype.enable=function(z,q,e,V){W.__.prototype.enable.call(this,z,q,e,V);
this.VY=z;if(this.Ly)W.YH.Us(z)};W.QT.prototype.zs=function(z,q,e,V){if(e.Ai!=this.id)return;this.VY=z;
this.atm(z,q)};W.QT.prototype.disable=function(z,q,e,V){this.VY=null;if(this.Ly)W.YH.VD(z)};W.QT.prototype.atm=function(z,q){var e=W.YH.YJ(z);
this.Ly=e!=null;var V=new dW(_.E.b,!0);V.data={p:_.m.R9,U:this.id,Lh:e?z.Z[z.j[0]].add.GdFl:this.r1,S:this.Ly};
q.K(V);if(this.Ly)W.YH.Us(z);else W.YH.VD(z)};W.QT.prototype.Ne=function(z){var q=this.VY;if(this.Ly){var e=q.Z[q.j[0]],V=e.add.GdFl;
if(V==null)return;this.aFu=JSON.stringify(V);e.add.GdFl=z.Lh;e.ly(q);q.Kv();W.YH.abS(this,q);W.YH.Us(q)}else this.r1=z.Lh};
W.QT.prototype.Qy=function(z,q,e,V,P){if(this.Ly){W.YH.prototype.Qy.call(this,z,q,e,V,P);return}if(!z.Ov())return;
this.cB=W.DL.N8(z,z.A.UK(P.x,P.y),e)};W.QT.prototype.Sf=function(z,q,e,V,P){if(this.Ly){W.YH.prototype.Sf.call(this,z,q,e,V,P);
return}if(!this.cB)return;var D=z.A.UK(P.x,P.y);D=W.DL.N8(z,D,e);if(V.t(cz.XQ))D=W.QT.lW(this.cB,D);
z.X.NI={J:[this.cB.x,this.cB.y,D.x,D.y],_:["M","L"]};z.X.cU=[this.cB.x,this.cB.y,D.x,D.y];z.XU=!0};W.QT.prototype.AM=function(z,q,e,V,P){if(this.Ly){W.YH.prototype.AM.call(this,z,q,e,V,P);
return}if(!this.cB)return;var D=z.Z[z.j[0]],B=z.A.UK(P.x,P.y);B=W.DL.N8(z,B,e);if(V.t(cz.XQ))B=W.QT.lW(this.cB,B);
if(f5.h5(this.cB,B)>2){var A;if(z.h)A=z.h.V;else A=new kk(0,0,z.s,z.T);var s=T.n(A.D()*4,z.depth),a=this.r1,M=a.Type.v.GrdT,$=a.Opct.v.val,U=this.cB;
if(M=="Lnr")U=new f5((U.x+B.x)/2,(U.y+B.y)/2);T.Yf.Lv(U,B,A,a);hB.N0(a,s,A,z,null,null,e.pQ,e.Cp);var o=s.length,t=$/100;
if($!=100)for(var n=0;n<o;n+=4)s[n+3]=Math.round(s[n+3]*t);var c=new dW(_.E.z);c.U=W.bx;c.data={p:"fillBMP",sw:s,Rj:aA.pd(a.Md.v.BlnM),JJ:this.name};
q.K(c)}z.X.NI=null;z.X.cU=[];z.XU=!0;this.cB=null};W.QT.prototype.If=function(z,q,e,V,P){function D($){$=$.v;
var U=$.Hrzn.v.val,o=$.Vrtc.v.val;return e.A.Gb(U,o)}if(z.p=="fromAction"){var B=this.r1;this.r1=T.G(B);
var A=z.Wp.cj,s=["Grad","Type","Opct","Dthr"];for(var n=0;n<s.length;n++)if(A[s[n]])this.r1[s[n]]=A[s[n]];
var a=D(A.From),M=D(A.T);this.Qy(e,q,P,V,a);this.AM(e,q,P,V,M);this.r1=B}};W.QT.lW=function(z,q){if(z.bs(q))return z;
var e=q.x-z.x,V=q.y-z.y,P=Math.abs(e),D=Math.abs(V);if(P>D)D=P/2>D?0:P;if(D>P)P=D/2>P?0:D;P=e>0?P:-P;
D=V>0?D:-D;var B=Math.sqrt(e*e+V*V)/Math.sqrt(P*P+D*D);return new f5(z.x+P*B,z.y+D*B)};W.QT.sZ=function(z,q,e,V,P,D,B){var A=new kk(0,0,q,e),s=T.n(q*e*4);
T.w$(s,q,e,4);var a=Math.sin(V),M=Math.cos(V),$=T.n(q*e*4);T.Yf.dQ(z,$,A,[M*1/q,a*1/q,-a*1/e,M*1/e],q/2,e/2,!1,0,P,D);
T.w.Mt("norm",$,A,s,A,A,1);if(B)return new ImageData(new Uint8ClampedArray(s.buffer),q,e);else return hZ.Eq(s.buffer,q,e,null,null,!0)};
W.QT.aoI=function(z,q,e){var V=T.G(z);if(V.Clrs)for(var n=0;n<V.Clrs.v.length;n++){var P=V.Clrs.v[n].v,D=P.Type.v.Clry;
if(D=="UsrS")continue;var B=D=="FrgC"?q:e;P.Type.v.Clry="UsrS";P.Clr={t:"Objc",v:T.Yf.e8({l:B>>16&255,I:B>>8&255,c:B&255})}}return V};
W.QT.prototype.Yi=function(z,q){W.YH.prototype.Yi.call(this,z,q)};W.QT.prototype.I7=function(z,q){W.YH.prototype.I7.call(this,z,q)};
W.YH=function(){W.__.call(this,"Vector Gradient",W.ap8,"tools/gradient");this.Re=null;this.jk=null;this.QY=null;
this.aFu};W.YH.prototype=new W.__;W.YH.prototype.enable=function(z,q,e,V){W.YH.Us(z)};W.YH.prototype.zs=function(z,q,e,V){if(e.Ai!=this.id)return;
W.YH.Us(z)};W.YH.prototype.disable=function(z,q,e,V){W.YH.VD(z)};W.YH.VD=function(z){if(z==null)return;
z.X.VK=null;z.X.cU=[];z.XU=!0};W.YH.prototype.Qy=function(z,q,e,V,P){var D=W.YH.YJ(z);if(D==null&&cW==0){var B=new dW(_.E.zN,!0);
B.data=W.LR.J8(1);q.K(B);D=W.YH.YJ(z)}if(D==null)return;var A=W.DL.N8(z,z.A.UK(P.x,P.y),e),s=W.YH.fu(D,A,z),a=z.Z[z.j[0]],M=a.add.GdFl,$=a.add.vstl;
this.aFu=JSON.stringify(cW==0?M:$);this.Re=A;if(s==-1){var U=D[1];this.jk=[A.x,A.y,A.x+2,A.y];if(U[0]==1){this.jk.push(A.x,A.y-2);
U[2][4]=1}this.QY=1;W.YH.akI(z,this.jk)}else{this.jk=D[0];this.QY=s}};W.YH.prototype.Sf=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=W.YH.YJ(z),A=this.QY;
if(A!=null){var s=this.jk.slice(0);D=W.DL.N8(z,D,e);if(V.t(cz.XQ))D=W.QT.lW(new f5(s[0],s[1]),D);var a=D.x-s[A*2],M=D.y-s[A*2+1];
if(A==0){for(var n=0;n<s.length;n+=2){s[n]+=a;s[n+1]+=M}}else{s[A*2]+=a;s[A*2+1]+=M}W.YH.akI(z,s,A)}else if(B){var $=W.YH.fu(B,D,z),U=new dW(_.E.b,!0);
U.data={p:_.m.XL,ia:$==-1?"default":$==0?"move":"pointer"};q.K(U)}W.YH.Us(z)};W.YH.fu=function(z,q,e){var V=6*W.WU()/e.A.C7,P=z[0],D=T.R.NV(P,q.x,q.y,V);
if(D==0&&P.length==8&&P[0]==P[6]&&P[1]==P[7])D=3;if(D==-1&&z[1][0]==1)D=T.R.NV(P.slice(0,2),q.x,q.y,2*V);
return D};W.YH.prototype.AM=function(z,q,e,V,P){if(this.jk==null)return;this.jk=null;this.QY=null;W.YH.abS(this,z)};
W.YH.abS=function(z,q){var e=q.j[0],V=q.Z[e],P=V.add.GdFl,D=V.add.vstl,B=JSON.stringify(P?P:D),A=q.history[q.B5];
if(A&&A.U==z&&A.data.Wv==e)A.data.ul=B;else{var s=new ji("Change Gradient",z);s.data={Wv:e,sT:z.aFu,ul:B};
q.Q6(s)}};W.YH.akI=function(z,q,e){var V=z.Z[z.j[0]],P=V.add.GdFl,D=V.add.vstl,B=V.add.vmsk,A=new f5(q[0],q[1]),s=new f5(q[2],q[3]),a=new f5(q[4],q[5]),M=new f5(q[6],q[7]);
if(D){var $=D.oO[0],U=D.oO[2],o=jw.KJ(A,s,new e5),t=jw.cV($,o,B.B);if($==1){var c=f5.h5(a,A)/f5.h5(s,A);
if(Math.abs(c-1)<.03)c=1;t[2][4]=e==2?c:U[4];if(e==3){if(f5.h5(M,A)/f5.h5(s,A)<.05)M=A.Y();jw.a6N(t,A,s,M,t[2][4]);
if(t[2][6]>.999)t[2][6]=.999}else{t[2][5]=U[5];t[2][6]=U[6]}}t[1]=D.oO[1];D.oO=t}else{var $=P.Type.v.GrdT,H=V.V;
if($=="Lnr"||$=="Rflc"){A.x=(A.x+s.x)/2;A.y=(A.y+s.y)/2}T.Yf.Lv(A,s,H,P);V.ly(z)}z.Kv()};W.YH.YJ=function(z){if(z==null||z.j.length==0)return;
var q=z.Z[z.j[0]],e=q.add.GdFl,V=q.add.vstl;if(e==null&&V==null)return;if(V==null)V=hq.Q9(q.add,z);var P=V.oO;
if(P.length!=4)return;var D=q.add.vmsk?q.add.vmsk.B:T.S.nU.Rect(0,0,z.s,z.T),B=jw.w4(P,D),D=[0,0,1,0];
if(cW==1&&P[0]==1){var A=P[2][5]*Math.PI/180,s=P[2][6];D.push(0,-1,Math.cos(A)*s,-Math.sin(A)*s)}T.R.v(D,B,D);
return[D,P,B]};W.YH.Us=function(z){if(z)W.YH.VD(z);var q=W.YH.YJ(z);if(q==null)return;var e=q[0],V=q[1],P=q[2],D={J:e.slice(0,4),_:["M","L"]};
if(V[0]==1){var B=T.S.nU.f4(-1,-1,2,2),A=T.R.EP(B);T.R.v(A.J,P,A.J);T.R.concat(D,A)}z.X.VK=D;z.X.cU=e;
z.XU=!0};W.YH.prototype.Yi=function(z,q){var e=q.Z[z.Wv],V=cW==0?"GdFl":"vstl";if(z.ul){e.add[V]=JSON.parse(z.ul);
e.ly(q);q.Kv();W.YH.VD(q)}};W.YH.prototype.I7=function(z,q){var e=q.Z[z.Wv],V=cW==0?"GdFl":"vstl";if(z.ul){e.add[V]=JSON.parse(z.sT);
e.ly(q);q.Kv();W.YH.VD(q)}};W.fp=function(){W.__.call(this,[10,7],W.RJ,"tools/hand");this.uv=!1;this.GS=new f5(0,0);
this.Q1=null;this.fF=0;this.Qt=!1};W.fp.prototype=new W.__;W.fp.prototype.Ne=function(z,q,e,V){this.uv=z.uv};
W.fp.prototype.If=function(z,q,e,V,P){var D=z.p;if(D=="setcls"){e.A.Ox=z.Ox;e.XU=!0;e.y8=!0}if(D=="scroll"){if(V.t(cz.EF))W.fp.ct(e,e.A.g.x-z.Ew.y,e.A.g.y-z.Ew.x);
else W.fp.ct(e,e.A.g.x-z.Ew.x,e.A.g.y-z.Ew.y)}};W.fp.prototype.enable=function(z,q,e,V){this.Q1=null;
var P=new dW(_.E.b,!0);P.data={p:_.m.XL,ia:"grab"};q.K(P);if(cW<2&&z&&Date.now()-this.fF<300){P.e=_.E.z;
P.U=W.OF;P.data={p:"adapt",u:"fitscr"};q.K(P)}this.fF=Date.now()};W.fp.prototype.Qy=function(z,q,e,V,P){this.Q1=z.A.g.Y();
this.GS.mX(P.x,P.y);if(cW==2){this.Qt=z.m.MU;if(this.Qt){var D=new dW(_.E.b,!0);D.data={p:_.m.D$};q.K(D)}}};
W.fp.prototype.Sf=function(z,q,e,V,P){if(!P._W)return;if(this.Q1==null)this.Qy(z,q,e,V,P);var D=this.uv?q.nk:[z];
for(var n=0;n<D.length;n++)W.fp.ct(D[n],this.Q1.x+(P.x-this.GS.x),this.Q1.y+(P.y-this.GS.y))};W.fp.prototype.AM=function(z,q,e,V,P){this.Q1=null;
if(cW==2&&this.Qt){var D=new dW(_.E.b,!0);D.data={p:_.m.D$};q.K(D)}};W.fp.ct=function(z,q,e){var V=z.A.C7,P=z.A.bX,D=P.s,B=P.T,A=T.R.iR(new kk(0,0,z.s,z.T)).J,s=new e5;
s.rotate(z.A.gV);T.R.v(A,s,A);var a=T.R.mB(A),M=a.s*V,$=a.T*V,U=M<D&&$<B,o=D/2+M/2-64,t=B/2+$/2-64;if(cW==1||cW==2){o=t=1e9}z.A.g.mX(Math.max(-o,Math.min(o,q)),Math.max(-t,Math.min(t,e)));
z.y8=!0};W.v_=function(){W.__.call(this,[10,47],W.FB,"tools/rview");this.GS=new f5(0,0);this.Q0=null;
this.sV=null;this.fF=0};W.v_.prototype=new W.__;W.v_.prototype.enable=function(z,q,e,V){this.Q1=null;
var P=new dW(_.E.b,!0);P.data={p:_.m.XL,ia:"grab"};q.K(P);if(z&&Date.now()-this.fF<300&&z.A.gV!=0){z.A.gV=0;
z.XU=!0}this.fF=Date.now();if(z)this.JW(z,q)};W.v_.prototype.disable=function(z,q,e,V,P){if(z)this.JW(z,q)};
W.v_.prototype.wv=function(z,q,e,V){if(z)this.JW(z,q)};W.v_.prototype.Qy=function(z,q,e,V,P){this.GS.mX(P.x,P.y);
var D=z.A;this.Q0=D.UK(D.bX.s/2,D.bX.T/2);this.sV=D.VL();var B=D.UK(D.bX.s/2,D.bX.T/2),A=Math.min(D.bX.s,D.bX.T)*.35/D.C7,s=A*.2,a=B.x,M=B.y;
z.X.NI={_:"M L L L L L".split(" "),J:[a,M,a,M-A,a+s,M,a,M+A,a-s,M,a,M-A]};z.XU=!0};W.v_.prototype.azV=function(z){var q=z.A,e=q.UK(q.bX.s/2,q.bX.T/2);
z.X.NI={_:["M","L"],J:[e.x,e.y,e.x,e.y-200]}};W.v_.prototype.Sf=function(z,q,e,V,P){if(!P._W)return;
var D=z.A,B=this.Q0,A=this.GS,s=new f5(D.bX.s/2,D.bX.T/2),a=Math.atan2(P.y-s.y,P.x-s.x),M=Math.atan2(A.y-s.y,A.x-s.x),$=Math.atan2(this.sV.c,this.sV.x6),U=a-M,o=Math.PI/4;
if(V.t(cz.XQ)){U=$+o*Math.round((U-$)/o)}this.a7K(z,q,this.sV.Y(),B,U)};W.v_.prototype.AM=function(z,q,e,V,P){z.X.NI=null;
z.XU=!0};W.v_.prototype.Ne=function(z,q,e,V){this.a7K(e,q,null,null,z.Ba-e.A.gV);e.A.gV=z.Ba};W.v_.prototype.a7K=function(z,q,e,V,P){var D=z.A;
if(e==null)e=D.VL();if(V==null)V=D.UK(D.bX.s/2,D.bX.T/2);e.translate(-V.x,-V.y);e.rotate(P);e.translate(V.x,V.y);
D.ayA(e);if(z.s*D.C7<D.bX.s&&z.T*D.C7<D.bX.T)D.g.mX(0,0);z.XU=!0;this.JW(z,q)};W.v_.prototype.JW=function(z,q){var e=new dW(_.E.b,!0);
e.data={p:_.m.R9,U:this.id,Ba:z.A.gV};q.K(e)};W.Ow=function(){W.hq.call(this,[10,25],W.KU,"tools/hbrush")};
W.Ow.prototype=new W.hq("");W.Ow.prototype.AM=function(z,q,e,V,P){if(this.QR==null)return;this.cg(z,"heal",this.QR.Hz(),this.QR.$i(),this.QR.CC());
this.Kv(z,this.QR.CC());W.j6.prototype.AM.call(this,z,q,e,V,P);if(!this.r1.algnd)this.g=null};W.FX=function(z){W.__.call(this,z?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],z?W.rn:W.no,z?"tools/vtype":"tools/htype");
this.jR=[];this.i=null;this.caller=null;this.$J=1;this.p3=0;this.BN=null;this.ac$=0;this.lQ=0;this.a03=0;
this.adk=null;this.ahn=null;this.yk=null;this.Pb=null;this.oV=null;this.Cs=null;this.aKU=null;this.XB=null;
this.Em=null;this.Ks=null;this.aa1=null;this.NB=!1;this.og=!1;this.cy=!1;this.t4=null;this.GC=null;this.aM4=null;
this.aBg=!1;this.HY=!1;this.N4=-1;this.T9=-1;this.ER=document.createElement("textarea");this.ER.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.ER.addEventListener("input",this._T.bind(this),!1);this.ER.addEventListener("keydown",this.auJ.bind(this),!1);
this.ER.addEventListener("keyup",this.aoc.bind(this),!1)};W.FX.prototype=new W.__;W.FX.prototype.VV=function(z){return z._W};
W.FX.prototype.zs=function(z,q,e,V){if(this.yk!=null||this.id==W.rn)return;this.caller=q;var P=this.apX(z);
if(P.length!=0){var D=null,B=[],A=[];for(var n=0;n<P.length;n++){var s=z.Z[P[n]],a=s.add.TySh,M=0,$=dc.VQ(a._1).length-2,U=dc.jb(a._1,M,$);
dc.An(U,a.v.vx());if(U.c_.Font!=null)U.c_.Font=U.GD[U.c_.Font].Name;D=U.GD;B.push(U.c_);A.push(U.S$)}var U={GD:D,c_:dc.yW(B),S$:dc.yW(A)};
if(U.c_.Font!=null)dc.v3(U,U.c_.Font);this.a4u(q,U,a)}};W.FX.prototype.apX=function(z){var q=[];for(var n=0;
n<z.j.length;n++)if(z.Z[z.j[n]]&&z.Z[z.j[n]].add.TySh)q.push(z.j[n]);return q};W.FX.prototype.If=function(z,q,e,V,P){var D=z.p=="insertGlyph",B=z.p=="copyText",A=z.p=="selectAll";
if((D||B||z.p=="insertText"||A)&&this.yk){var s=D?String.fromCharCode(65533):z.u,a=this.ER,M=a.value,$=a.selectionStart,U=a.selectionEnd;
if(B){gC.da(new Blob([M.slice($,U)],{type:"text/plain"}))}else if(A){this.N4=a.selectionStart=0;this.T9=a.selectionEnd=M.length;
this.RK(e);a.focus()}else{a.value=M.slice(0,$)+s+M.slice(U);a.selectionStart=a.selectionEnd=$+s.length;
this._T(null,D?z.u:null);a.focus()}}if(z.p=="updateStyles"){if(this.yk==null){var o=this.apX(e),t=!1;
if(o.length!=0){this.lx(e,q,P,o);for(var n=0;n<o.length;n++){var c=e.Z[o[n]],H=c.add.TySh;dc.ru(H,this.$J);
H.h8.VAlign.v=this.p3;this.yk=c;var F=dc.VQ(H._1);this.N4=0;this.T9=F.length-1;dc.Vy(H._1,this.N4,this.T9,this.$S(P,H));
var i=this.tM(e,P);if(i==!1)t=!0}if(t){this.aBg=!0;return}this.wI(e,q,!0)}return}this.IH(P)}if(z.p.startsWith("warp")){var X=this.HY;
if(z.p=="warp"||z.p=="warpCancel"){if(this.yk==null)return;if(z.p=="warp")this.yk.add.TySh.au=z.OL;else this.yk.add.TySh.au=this.aKU;
this.tM(e,P);if(!X)this.RK(e)}if(z.p!="warp")this.ER.focus();if((z.p=="warpConfirm"||z.p=="warpCancel")&&X){this.HY=!1;
if(z.p=="warpConfirm")this.wI(e,q);else this.oC(e,q)}}if(z.p=="editCurr"){if(P.Ai!=W.no){this.BN=P.Ai;
var K=new dW(_.E.b,!0);K.data={p:_.m.uB,U:W.no};q.K(K)}if(this.yk!=null)this.disable(e,q,P,V);this.i=P;
this.caller=q;this.lx(e,q,P,[z.f0]);var F=dc.VQ(this.yk.add.TySh._1);this.N4=0;this.T9=F.length-1;this.RK(e);
this.Rk();this.ER.focus()}if(z.p=="switchPntPrgr"){if(this.yk)return;var c=e.Z[e.j[0]],H=c.add.TySh,f=H.v.vx(),d=c.$i(),L=T.G(H._1),G=dc.hQ(L),x=G==1?dc.s0(L):[0,0,Math.round(d.s*1.05/f),Math.round(d.T*1.25/f)],O=dc.jb(L,0,0),v=O.GD[O.c_.Font].Name,C=P.Se.dN(v),S=[0,x[2],x[2]/2][O.S$.Justification%3],j=(C?kB.M4(C):.8)*O.c_.FontSize;
dc.M_(L,1-G);if(G==0){S=-S;j=-j;dc.v7(L,[0,0,x[2],x[3]])}var w=new e5(1,0,0,1,S,j);w.concat(H.v);this.If({ZF:e.j[0],p:"newED",adA:L,v:w,aM1:[16,3,G==1?0:1]},q,e,V,P)}if(z.p=="newED"){var c=e.Z[z.ZF],H=c.add.TySh,u=this.Fd(e,[z.ZF]);
H._1=z.adA;if(z.v)H.v=z.v;if(ey.vM(H,P.Se,q)){ey.tM(c,P.Se,e);e.Kv()}else e.HA=!0;var l=new ji(z.aM1?z.aM1:this.name,this);
l.data={EV:u,awA:this.Fd(e,[z.ZF])};e.Q6(l)}if(z.p=="fromAction"){var I;if(z.Wp.gQ=="set"){I=z.Wp.cj.T.v}else{I=z.Wp.cj.Usng.v;
window.acv=I;var Q=I.TxtC.v,b=[];for(var n=0;n<2;n++){var p=Q[n==0?"Hrzn":"Vrtc"].v,s=p.val;if(p.type=="#Prc")s=(n==0?e.s:e.T)*(s/100);
b[n]=s}this.AF(e,q,P,V,e.A.Gb(b[0],b[1]),!0)}var c=e.Z[e.j[0]],H=c.add.TySh,k=H._1,M=dc.VQ(k);dc.ZD(k,0,M.length-1);
dc.o5(k,0,I.Txt.v.replace(/\r/g,"\n"));dc.a25(I,k,e);if(ey.rB(e,P.Se,q))ey.tM(c,P.Se,e);else e.HA=!0;
e.Kv();this.wI(e,q)}};W.FX.prototype.IH=function(z){var q=Math.min(this.N4,this.T9),e=Math.max(this.N4,this.T9),V=this.yk.add.TySh;
dc.ru(V,this.$J);V.h8.VAlign.v=this.p3;var P=this.$S(z,V);dc.Vy(V._1,q,e-1,P);var D=this.caller.yT(),B=this.tM(D,z);
if(B)this.RK(D);if(document.activeElement.tagName.toLowerCase()!="input")this.ER.focus()};W.FX.prototype.Hp=function(z){return this.jR.indexOf(z)!=-1};
W.FX.prototype.enable=function(z,q,e,V){var P=this.ER;q.$.appendChild(P);this.XB="default";this.ZP(q)};
W.FX.prototype.ay=function(){return this.yk!=null};W.FX.tv=function(z,q){var e=new f5(q.x,q.y);for(var n=z.Z.length-1;
n>=0;n--){var V=z.Z[n],P=V.add.TySh;if(P&&z.a8k(n)){var D=e,B=V.V;if(cW==1){var A=P.v.Y();A.TG();D=A.a0(e);
B=V.J3.NY}if(!B.vG(D))continue;var s=V.rs(31);return s?-2:n}}return-1};W.FX.prototype.Qy=function(z,q,e,V,P){this.i=e;
this.caller=q;var D=z.A.UK(P.x,P.y),B=this.yk==null;if(B){var A=W.FX.tv(z,D);if(A==-2){alert(iE.get([6,57,0]));
return}if(A>=0&&!V.t(cz.XQ)){if(!ey.vM(z.Z[A].add.TySh,e.Se,q)){alert("Fonts not loaded yet");return}this.lx(z,q,e,[A])}else{this.cy=!0;
this.t4=P;return}}var s=B?-1:dc.hQ(this.yk.add.TySh._1),a=this.Ks?this.Ks:this.Em,M=a&&a.Qy(z,e,V,D,null,null,P)&&T.OL.nD(this.yk.add.TySh.au),$=!B&&T.R.ayk(D,this.yk.$i())>20/z.A.C7&&(s==0||s==1),U=W.uE.TH(z,D);
if(this.Ks&&U){alert("moving curve range");this.Qs=U}else if(M||$){this.NB=!0;this.GC=D;this.aM4=this.yk.add.TySh.v.Y();
if(this.N4==-1&&this.T9==-1)this.N4=this.T9=this.L2(D)}else{if(this.oV==null){alert("Fonts not loaded yet");
return}this.og=!0;this.N4=this.T9=this.L2(D);var o=Date.now();if(o-this.ac$>300)this.lQ=0;this.lQ++;
this.ac$=o;if(this.lQ==2)this.ana();if(this.lQ==3)this.aNn();if(this.lQ>1){this.og=!1}}this.Rk();this.RK(z)};
W.FX.prototype.lx=function(z,q,e,V){var P=z.Z[V[0]];this.yk=P;this.Vp(q,_.E.b,{p:_.m.R9,U:this.id,ep:"showactive"});
this.Pb=V;z.j=V.slice(0);z.uf();z.de=!0;this.Cs=this.Fd(z,V);this.At(P.add.TySh);this.tM(z,e)};W.FX.prototype.At=function(z){if(dc.hQ(z._1)!=1)return;
var q=dc.s0(z._1);q=new kk(0,0,q[2]-q[0],q[3]-q[1]);var e=[q.x,q.y,q.x+q.s,q.y,q.x+q.s,q.y+q.T,q.x,q.y+q.T];
T.R.v(e,z.v,e);this.Em=new ik(e,!1,!1,!1,!0);this.Em.it(0)};W.FX.prototype.ana=function(){var z=dc.VQ(this.yk.add.TySh._1);
this.N4=this.anC(z,this.N4);this.T9=this.aH7(z,this.N4)};W.FX.prototype.anC=function(z,q){var e=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",V=[];
for(var n=0;n<e.length;n++)V.push(e.charAt(n));var P=V.indexOf(z[q])==-1?!0:!1;for(var n=q-1;n>=0;n--)if(V.indexOf(z.charAt(n))!=-1==P)return n+1;
return 0};W.FX.prototype.aH7=function(z,q){var e=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",V=[];for(var n=0;
n<e.length;n++)V.push(e.charAt(n));var P=V.indexOf(z[q])==-1?!0:!1;for(var n=q+1;n<z.length;n++)if(V.indexOf(z.charAt(n))!=-1==P)return n;
return z.length-1};W.FX.prototype.aNn=function(){var z=this.oV.azb(this.N4);this.N4=z[0];this.T9=z[1]};
W.FX.prototype.ZP=function(z){var q=new dW(_.E.b,!0);q.data={p:_.m.XL,ia:this.XB};z.K(q)};W.FX.prototype.Sf=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=this.yk;
if(!P._W){var A="default",s=this.Em,a=this.Ks?this.Ks:s;if(a&&T.OL.nD(B.add.TySh.au)){var M=a.s1(D,z.A.C7,null,P);
if(M)A=M;else if(a==s&&s.t6(D))A="text";var $=W.uE.TH(z,D);if($)A="default"}else if(B&&T.R.ayk(D,B.$i())>20/z.A.C7)A="move";
else if(W.FX.tv(z,D)>=0)A="text";if(A!=this.XB){this.XB=A;this.ZP(q)}}var U=this.t4;if(this.cy&&Math.min(P.x-U.x,P.y-U.y)>4/z.A.C7){this.cy=!1;
this.AF(z,q,e,V,P);B=this.yk;this.NB=!0;this.Em=new ik(null,!1,!1,!1,!0);this.Em.it(0);var o=z.A.UK(this.t4.x,this.t4.y);
o.x=Math.round(o.x);o.y=Math.round(o.y);this.Em.Qy(z,e,V,o,null,null,P,z.A.gV)}if(this.Qs){var t=B.add.TySh,s=this.Qs,c=s[3].add.vmsk;
W.uE.aiL(s,c,D);t.add={vmsk:c};dc._6(t);this.tM(z,e)}if(this.NB){var t=B.add.TySh;if(this.Ks){this.Ks.Sf(z,e,V,D);
var H=T.O.uV(T.O.AX(this.Ks.Uv(),this.aa1));t.v=H;this.tM(z,e);dc.nR(t)}else if(this.Em){this.Em.Sf(z,e,V,D);
var F=t.v.Y(),i=Math.atan2(F.c,F.x6);F.rotate(i);var H=T.O.uV(T.O.AX(this.Em.Uv())),X=Math.atan2(H.c,H.x6);
H.rotate(X);if(!isNaN(H.x6)&&H.x6*H.at-H.c*H.I$!=0){var K=new kk(0,0,H.x6/F.x6,H.at/F.at),f=K.s,d=K.T,L=t._1.Curve;
if(L){var G=dc.s0(t._1),x=new e5(f/G[2],0,0,d/G[3],0,0);T.R.v(L.Points,x,L.Points);dc.nR(t)}dc.v7(t._1,[0,0,f,d]);
t.v=T.O.uV(T.O.AX(this.Em.Uv(),K));this.tM(z,e);dc.nR(t)}}else{var O=D.x-this.GC.x,v=D.y-this.GC.y;t.v=this.aM4.Y();
var C=new f5(t.v.yK+O,t.v.ww+v);C=W.DL.N8(z,C,e);t.v.yK=C.x;t.v.ww=C.y;this.tM(z,e)}}if(this.og)this.T9=this.L2(D);
if(this.NB||this.og)this.RK(z)};W.FX.prototype.AF=function(z,q,e,V,P,D){var B=z.Kn(),A=B[0],s=B[1],a=z.OJ();
a.add.lnsr="rend";var M=z.Z.slice(0);a.up("Text layer "+M.length);this.yk=a;var $=z.j.length==0?z.Z.length-1:z.j[z.j.length-1],U=$+1;
if(M[$].add.lsct==fH._j)U--;this.Cs={gx:M.slice(0),_Q:z.j.slice(0)};M.splice(U,0,a);z.j=[U];this.N4=this.T9=0;
z.l_(M);this.Cs.qM=M.slice(0);this.Cs.Nz=z.j.slice(0);this.Vp(q,_.E.b,{p:_.m.R9,U:this.id,ep:"showactive"});
var o=z.A.UK(P.x,P.y),t=e.Zh;console.log(t);if(this.id==W.rn){t=T.G(t);t.c_.BaselineDirection=1}a.add.TySh=dc.Pj(o.x,o.y,t,z.A.gV);
var c=a.add.TySh,H=c._1;if(this.id==W.rn)H._LineOrientation=2;dc.ru(c,this.$J);c.h8.VAlign.v=this.p3;
if(P._W)dc.M_(H,1);else{dc.M_(H,0);var F=A[s.pop()],i=F?F.add.vmsk:null;if(D)i=null;if(i&&!V.t(cz.XQ)){i=i.Y();
var X=i.B,f,d;for(var n=0;n<X.length;n++)if(X[n].xq!=null)X[n].xq=0;var K=5/z.A.C7;f=T.S.U8(i.B,o,!0,K);
if(f.XW==-1)f=T.S.U8(i.B,o);if(f.XW!=-1){dc.M_(H,1);var L=T.S.ha(X,f.XW),G=T.S.Ua(X,f.XW)-1;X=i.B=X.slice(0,2).concat(X.slice(L,L+G+1));
i.j=[];c.add={vmsk:i,vogk:lK.T4(X)};H.Curve={};dc._6(c);if(f.b3!=null){var x=kB.gL(H.Curve);T.R.v(x[0],c.v,x[0]);
var O=T.R.NV(x[0],o.x,o.y),v=e.Zh.S$.Justification;if(v==2||v==5){var C=(x[2][O]+x[3]*.5)%x[3];O=kB.to(C,x[2])}var S=x[1][O];
S=S%G;i.wi=[S,S];dc._6(c)}else this.At(c)}}}return a};W.FX.prototype.AM=function(z,q,e,V,P,D){if(D){this.cy=!1;
return}if(this.yk==null&&!this.cy)return;var B=z.A.UK(P.x,P.y),A=this.cy;if(this.cy){this.cy=!1;this.AF(z,q,e,V,P);
this.og=!0}if(this.NB||this.og||this.Qs){this.RK(z);this.Rk();if(A)this.IH(e)}this.Qs=null;if(this.NB&&this.Em)this.Em.AM(z,e,V,B);
this.NB=this.og=!1;this.ER.focus()};W.FX.prototype.Rk=function(){var z=this.yk.add.TySh,q=Math.min(this.N4,this.T9),e=Math.max(this.N4,this.T9),V,P;
if(q==e){var D=dc.VQ(z._1);if(q==0||D.charAt(q-1)=="\n")V=P=q;else V=P=q-1}else{V=q;P=e-1}var B=dc.jb(z._1,V,P);
dc.An(B,z.v.vx());this.a4u(this.caller,B,z)};W.FX.prototype.a4u=function(z,q,e){this.Vp(z,_.E.b,{p:_.m.Ln,Lh:cR.k3,Zh:q});
var V=this.$J=dc.yx(e),P=this.p3=e.h8.VAlign.v;this.Vp(this.caller,_.E.b,{p:_.m.R9,U:this.id,ep:"changeOther",Mm:V,aFd:P})};
W.FX.prototype.D1=function(z,q,e,V,P){if(z==null)return;var D=z.A.UK(P.x,P.y),B=W.FX.tv(z,D);if(B==-1)return;
var A=new dW(_.E.b,!0);A.data={p:_.m.R9,U:this.id,ep:"showpan",aKt:this.yk!=null,f0:B,uA:P,x2:z,i:e};
q.K(A)};W.FX.prototype.aaA=function(){var z=this.yk;if(z&&!this.NB&&this.Ks!=null){var q=this.caller.yT();
this.Ks.AM(q,this.i,null,null);this.Ks=null;this.At(z.add.TySh);this.RK(q)}};W.FX.prototype.disable=function(z,q,e,V){var P=this.yk;
this.wI(z,q)};W.FX.prototype.Ne=function(z,q,e,V,P){if(this.HY)return;if(z.ep=="commit")this.wI(e,q);
if(z.ep=="cancel")this.oC(e,q);if(z.ep=="changeOther"){this.$J=z.Mm;this.p3=z.aFd;if(e!=null)this.If({p:"updateStyles"},q,e,V,P)}if(z.ep=="showwarp"){if(e==null)return;
if(this.yk==null){var D=e.Z[e.j[0]],B=D.add.TySh;if(B==null)return;this.lx(e,q,P,[e.j[0]]);this.ER.focus();
this.HY=!0}this.aKU=this.yk.add.TySh.au;var A=new dW(_.E.b,!0);A.data={p:_.m.wa,rF:"textwarp"};q.K(A)}};
W.FX.prototype.K5=function(z,q){if(q!=cR.oD)return;if(this.aBg&&this.Pb){this.aBg=!1;var e=this.caller.yT(),V=this.Pb;
for(var n=0;n<V.length;n++){this.yk=e.Z[V[n]];this.tM(e,z)}this.wI(e,this.caller);return}if(this.yk)this.IH(z)};
W.FX.prototype.$S=function(z,q){var e=T.G(z.Zh);dc.An(e,1/q.v.vx());return e};W.FX.prototype.Yi=function(z,q){if(z.EV!=null)this.aD(q,z.awA);
else this.a5O(q,z.qM,z.Nz)};W.FX.prototype.I7=function(z,q){if(z.EV!=null)this.aD(q,z.EV);else this.a5O(q,z.gx,z._Q)};
W.FX.prototype.aD=function(z,q){for(var n=0;n<q.length;n++){var e=q[n],V=e.ZF,P=z.Z[V];P.buffer=e.Hm;
P.V=e.TP.Y();P.Kv();P.J3.dE=null;P.J3.path=null;var D=P.add.TySh;D.au=e.OL;D.iB=e.iB.Y();D.v=e.v.Y();
D._1=T.G(e._1);if(D.add)dc.nR(D);P.sD()}z.Kv()};W.FX.prototype.Fd=function(z,q){var e=[];for(var n=0;
n<q.length;n++){var V=q[n],P=z.Z[V],D=P.add.TySh;e.push({ZF:V,v:D.v.Y(),OL:T.G(D.au),iB:D.iB.Y(),_1:T.G(D._1),Hm:P.buffer.slice(0),TP:P.V.Y()})}return e};
W.FX.prototype.a5O=function(z,q,e){z.j=e;z.l_(q);z.Kv();z.$k=!0};W.FX.prototype.tM=function(z,q,e){if(e==null)e=!1;
var V=this.yk.add.TySh;if(!ey.vM(V,q.Se,this.caller))return!1;if(!e){var P=dc.VQ(V._1);this.ER.value=P.slice(0,P.length-1)}var D=this.yk.V,B=ey.tM(this.yk,q.Se,z);
this.oV=B[1];var A=this.oV.Vf();if(T.OL.nD(V.au))V.iB=new kk;else{if(dc.hQ(V._1)==1){var s=dc.s0(V._1),hE=A.y;
V.iB=new kk(0,hE,s[2]-s[0],s[3]-s[1]-hE)}else V.iB=A}z.To();if(B[2])z.Kv(z.root.GQ(B[2].TP.X8(D),z,z.Z.indexOf(this.yk)));
return!0};W.FX.prototype._T=function(z,q){if(this.yk==null||this.HY)return;var e=this.ER.selectionStart,V=this.yk.add.TySh,P=dc.VQ(V._1),D=this.ER.value+"\n",B=Math.min(this.N4,this.T9),A=Math.max(this.N4,this.T9),U=!1;
this.N4=Math.min(e,B);if(D.length-e<P.length-this.T9)this.T9=P.length-D.length+e;if(P!=D){while(this.N4>0&&P.charAt(this.N4-1)!=D.charAt(this.N4-1))this.N4--}var s=P.substring(0,this.N4),a=P.substring(this.T9,P.length),M=D.substring(this.N4,D.length-a.length);
dc.ZD(V._1,this.N4,this.T9);dc.o5(V._1,this.N4,M);if(q!=null)dc.awy(V._1,this.N4,q);var $=this.$S(this.i,V),o=-1,t=Array.from(M);
for(var n=0;n<t.length;n++)o=Math.max(o,t[n].codePointAt(0));if(o!=-1&&o>32&&o!=65533&&$.c_.Font!=null){var c=$.GD[$.c_.Font].Name,H=this.i.Se.ah4(o,c,$.GD);
if(c!=H){dc.v3($,H);U=!0}}if(this.ahn!=null&&M==this.ahn){var F=JSON.parse(this.adk);dc.An(F,1/V.v.vx());
$.c_=F.c_;$.GD=F.GD;U=!0}dc.Vy(V._1,this.N4,this.N4+M.length-1,$);this.N4=this.T9=s.length+M.length;
var i=this.caller.yT(),X=this.tM(i,this.i,!0);if(X)this.RK(i,!0);if(U)this.Rk()};W.FX.prototype.aoc=function(z){var q=cz;
if(!z.ctrlKey)this.aaA();z.stopPropagation()};W.FX.prototype.auJ=function(z){z.stopPropagation();var q=z.ctrlKey||z.metaKey,e=cz,s=0,a=0,X=0,j=!1;
if(this.yk==null||this.HY)return;if(this.yk==null)return;if(this.caller.$m.I6())return;var V=this.caller.yT();
if(this.Ks==null&&q){var P=this.yk.add.TySh,D=dc.hQ(P._1),B;if(D==1){B=dc.s0(P._1);B=new kk(0,0,B[2]-B[0],B[3]-B[1])}else B=this.oV.Vf();
var A=[B.x,B.y,B.x+B.s,B.y,B.x+B.s,B.y+B.T,B.x,B.y+B.T];T.R.v(A,P.v,A);this.Ks=new ik(A,!0,!0,!1,!1);
this.Ks.it(0);this.aa1=B;this.RK(V)}if(e.Kz(z.code,e.YS))s=1;if(e.Kz(z.code,e.kN))s=-1;if(e.Kz(z.code,e.CM))a=-1;
if(e.Kz(z.code,e.P3))a=1;var M=e.Kz(z.code,cz.YP),$=e.Kz(z.code,cz.aw_);if(e.Kz(z.code,cz.JN)&&q){this.wI(V,this.caller);
return}if(e.Kz(z.code,cz.Nf)){this.oC(V,this.caller);return}if(e.Kz(z.code,cz.ji)){z.preventDefault();
var U=this.ER,o=U.value,t=U.selectionStart,c=U.selectionEnd;U.value=o.substring(0,t)+"\t"+o.substring(c);
U.selectionStart=U.selectionEnd=t+1;this._T(null);return}var H=e.Kz(z.code,e.Zj),F=e.Kz(z.code,e.w1);
if(q&&(H||F)){z.preventDefault();var i=new dW(_.E.z,!0);i.U=W.OF;i.data={p:"zoom",pn:H};this.caller.K(i)}if(e.Kz(z.code,e.SS))X=1;
if(e.Kz(z.code,e.Wu))X=-1;var K=this.N4==this.T9,f=q&&z.shiftKey&&X!=0&&!K;if(f||z.altKey&&s!=0){var d=T.G(this.i.Zh);
if(f){var L=d.c_.FontSize;if(L==null)L=16;d.c_.FontSize=Math.max(1,L+X*(z.altKey?5:1))}else{if(K){d.c_.Kerning+=20*s;
d.c_.AutoKerning=!1}else d.c_.Tracking+=20*s}z.preventDefault();var G=new dW(_.E.b,!0);G.data={p:_.m.Ln,Lh:cR.k3,Zh:d};
this.caller.K(G);var i=new dW(_.E.z,!0);i.U=W.no;i.data={p:"updateStyles"};this.caller.K(i);return}if((e.Kz(z.code,e.jj)||e.Kz(z.code,e.s$))&&q){var x=this.N4,O=this.T9;
if(x>O){var v=x;x=O;O=v}var P=this.yk.add.TySh,C=dc.VQ(P._1);if(x!=O){this.ahn=C.slice(x,O);this.adk=JSON.stringify(this.i.Zh)}}var S=dc.VQ(this.yk.add.TySh._1);
if(s!=0||a!=0||M||$){z.preventDefault();var w=this.N4;if(s!=0){if(q&&s==-1)w=this.anC(S,this.N4-1);else if(q&&s==1)w=this.aH7(S,this.N4);
else{var U=this.ER,o=U.value;w=this.N4+s;if(w!=0&&o.codePointAt(w-1)>65535)w+=s}}else if(a!=0){var u=this.oV.MJ(this.N4);
if(a==-1&&u.P8==0)w=0;else if(a==1&&u.P8==this.oV.a69()-1)w=99999999999;else w=this.oV.a9v(new f5(u.TP.x+u.TP.s/2,0),u.P8+a)}else if(M){var l=this.N4-1;
while(l>0&&S.charCodeAt(l)!=10)l--;w=l==0?0:l+1}else if($){var l=this.N4;while(l<S.length-1&&S.charCodeAt(l)!=10)l++;
w=l}w=Math.max(0,Math.min(S.length-1,w));if(z.shiftKey)this.N4=w;else this.N4=this.T9=w;j=!0}if(q&&e.aMj(z,cz.m)){this.N4=0;
this.T9=S.length-1;j=!0}if(j){this.Rk();this.RK(V)}};W.FX.a2Q=function(z,q){var e=z.length;if(e!=q.length)return!1;
for(var n=0;n<e;n++)if(z[n].ZF!=q[n].ZF)return!1;return!0};W.FX.prototype.wI=function(z,q,e){if(this.yk==null)return;
if(Date.now()-this.a03<5e3)e=!0;this.a03=Date.now();this.yk.sD();var V=this.Cs;if(V instanceof Array){var P=this.Fd(z,this.Pb),D=z.$p();
if(D!=null&&D.U==this&&D.data.EV&&W.FX.a2Q(D.data.EV,V)&&e)D.data.awA=P;else{var B=new ji(this.name,this);
B.data={EV:V,awA:P};z.Q6(B)}}else{var B=new ji(this.name,this);B.data={gx:V.gx,qM:V.qM,_Q:V._Q,Nz:V.Nz};
z.Q6(B);var A=this.yk.add.TySh,s=A._1,a=dc.VQ(s).slice(0,-1),M={classID:"null",null:fw.y5("TxLr"),Usng:{t:"Objc",v:{classID:"TxLr",Txt:{t:"TEXT",v:a},TxtC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:100*A.v.yK/z.s}},Vrtc:{t:"UntF",v:{type:"#Prc",val:100*A.v.ww/z.T}}}}}}};
dc.aqZ(M.Usng.v,s,z);this.Av=q;this.track({gQ:"make",cj:M})}this.escape(z,q)};W.FX.prototype.oC=function(z,q){if(this.yk==null)return;
if(this.Cs instanceof Array){this.aD(z,this.Cs);if(this.yk)dc.nR(this.yk.add.TySh)}else{z.j=this.Cs._Q;
z.l_(this.Cs.gx);z.$k=!0}z.Kv();this.escape(z,q)};W.FX.prototype.escape=function(z,q){this.aaA();this.yk=null;
this.Pb=null;this.oV=null;this.Em=null;this.ER.blur();z.X.NI=null;z.X.kf=null;z.X.Bj=[];z.XU=!0;this.NB=!1;
this.og=!1;this.N4=this.T9=-1;this.Vp(q,_.E.b,{p:_.m.R9,U:this.id,ep:"hideactive"});if(this.BN){var e=new dW(_.E.b,!0);
e.data={p:_.m.uB,U:this.BN};q.K(e);this.BN=null}};W.FX.prototype.Vp=function(z,q,e,V){var P=new dW(q,!0);
P.data=e;if(V)P.U=V;z.K(P)};W.FX.prototype.L2=function(z){var q=this.yk.add.TySh,e=this.oV,V=q.v.Y();
V.TG();var P=V.a0(z),D=dc.$i(q,e),B=T.OL.GZ(q.au,D),A=T.BQ.aI(B,P);if(A==null)A=new Float64Array(2);
P=new f5(D.x+A[0]*D.s,D.y+A[1]*D.T);if(e.jS){var s=e.jS.Y();s.TG();P=s.a0(P)}var a=e.a9v(P);return a};
W.FX.prototype.RK=function(z,q){if(q==null)q=!1;var e=this.yk.add.TySh,V=dc.hQ(e._1),P=this.oV,D=P?dc.$i(e,P):null;
z.X.Bj=[];z.X.NI=null;z.X.kf=null;var B=this.Ks?this.Ks:this.Em;if(B){B.kd(z,this.i,!T.OL.nD(e.au));
var A=e.v.Y();A.TG();if(P&&P.jS&&P.DO==1){var s=P.jS.Y();s.TG();A.concat(s)}T.R.v(z.X.Bj,A,z.X.Bj);T.R.v(z.X.NI.J,A,z.X.NI.J);
if(P&&P.jS==null&&P.aeg()){var a=D.s-20,M=D.T+8;z.X.NI.J.push(a,M,a+10,M,a+5,M-5,a+5,M+5);z.X.NI._.push("M","L","M","L")}}else if(V==0)this.awC(z,e,P);
else z.X.NI={J:[],_:[]};var $=Math.min(this.N4,this.T9),U=Math.max(this.N4,this.T9);if(!q){this.ER.selectionStart=$;
this.ER.selectionEnd=U}if(P!=null){var o=function(B,K){var f=B.x,d=B.y+B.T,L=new e5;L.translate(-f,-d);
L.rotate(-K);L.translate(f,d);B.y+=B.T*.27;var X=T.R.iR(B);T.R.v(X.J,L,X.J);return X};if($==U){$=Math.max($,0);
var t=P.MJ($);if(t){var c=t.TP,H=this.i.Zh.c_.FontSize;if(H!=null&&H!=0){H/=e.v.vx();c.y+=c.T-H;c.T=H}var F=P.agQ($);
if(F!=null&&F.ga==1)c.x+=c.s;var i=o(c,t.gV).J;z.X.NI._.push("M","L");z.X.NI.J.push(i[0],i[1]-1,i[6],i[7]-1)}}else if(this.caller.$m.I6()==null){z.X.kf={J:[],_:[]};
for(var n=$;n<U;n++){var t=P.MJ(n),X=o(t.TP,t.gV);T.R.concat(z.X.kf,X)}}}z.X.NI=ey.$P(z.X.NI,e,P,!0);
z.X.kf=ey.$P(z.X.kf,e,P,!0);z.X.Bj=ey.$P({J:z.X.Bj},e,P,!0).J;z.XU=!0};W.FX.prototype.awC=function(z,q,e){if(e==null)return;
z.X.Bj.push(0,0);if(z.X.NI==null)z.X.NI={_:[],J:[]};for(var n=0;n<e.S$.length;n++){var V=e.S$[n];for(var P=0;
P<V.oA.length;P++){var D=V.oA[P],B=V.R5.x+D.R5.x+D.TP.x,A=V.R5.y+D.R5.y+D.TP.y+D.TP.T;z.X.NI._.push("M","L");
z.X.NI.J.push(B,A,B+D.TP.s,A)}}z.XU=!0};W.Zv=function(){W.FX.call(this,!0)};W.Zv.prototype=new W.FX;
W.QL=function(z){W.cn.call(this,z?"Magic Replace":[10,9],z?W.asZ:W.$v,z?"tools/mremove":"tools/lasso");
this.o6=null;this.jC=null;this.GC=null};W.QL.prototype=new W.cn;W.QL.prototype.O3=function(z,q,e,V){this.o6=this.O4;
this.jC={J:[this.o6.x,this.o6.y],_:["M"]}};W.QL.prototype.Qh=function(z,q,e,V){this.GC=V;var P=this.jC;
if(P==null)return;if(!V._W){if(this.jC!=null&&this.pp.Mg(1)&&e.t(cz.mh)){P.J.pop();P.J.pop();P.J.push(this.b2.x,this.b2.y);
z.X.NI=P;z.XU=!0}return}P._.push("L");P.J.push(this.b2.x,this.b2.y);this.o6=this.b2;if(this.M1){z.X.NI=P;
z.XU=!0}};W.QL.prototype.ay=function(){return this.jC!=null};W.QL.prototype.uH=function(){return this.jC!=null};
W.QL.prototype.gi=function(z,q,e,V){W.cn.prototype.gi.call(this,z,q,e,V);if(this.jC&&this.pp.Mg(1)&&this.GC&&!this.GC._W&&!V.t(cz.mh))this.a5F(z,e,V)};
W.QL.prototype.lG=function(z,q,e,V){this.GC=V;var P=this.jC;if(P==null)return;if(this.pp.Mg(1)&&e.t(cz.mh)){P._.push("L");
P.J.push(this.b2.x,this.b2.y);return}this.a5F(z,q,e)};W.QL.prototype.a5F=function(z,q,e){this.finish(z,q,e,this.GC);
this.jC=null;z.X.NI=null;z.XU=!0};W.QL.prototype.getSelection=function(z,q,e,V){if(this.O4.bs(this.b2)||!this.M1)return null;
return W.cn.Ll(this.jC.J,null,this.r1.anta)};W.DL=function(){W.__.call(this,[10,11],W.HI,"tools/move");
this.Ca=new f5(0,0);this.j2=new f5(0,0);this.BW=null;this.kp=null;this.tZ=new f5(0,0);this.Va=null;this.i=null;
this.Av=null;this.fF=0;this.Pm=null;this.TD=[];this.VP=null;this.th=null;this.E2=!1;this.p=0;this.a00=null;
this.fR=null;this.aW=null;this.nE=!1;this.r1={X1:!0,ub:cW==1,bG:!1,as0:1};this.ay0=!1;this.a8I=!1;this.Em=null;
this._E=null;this.a9c=null;var z=[];for(var n=0;n<T.tR.k6.length;n++)z.push({name:T.tR.k6[n],d:function(q,e,V){return{yc:e.Y8.oZ==V}}});
z[z.length-1].tL=!0;z.push({name:[8,3],d:function(q,e){return{yc:e.pq}},r0:[cz.EF,cz.Qf]});this.C9=new gu(z);
this.C9.Q("select",this.h6,this)};W.DL.prototype=new W.__;W.__.prototype.VV=function(z){return this.E2&&this.p!=2};
W.DL.prototype.aJ4=function(){return this.E2&&(this.p==0||this.p==1)};W.DL.prototype.wv=function(z,q,e,V){this.po(z,-this.tZ.x,-this.tZ.y);
this.tZ.mX(0,0);this.Ng(z,null,e);this.Us(z)};W.DL.prototype.NA=function(){var z=this.r1;if(z.X1&&!z.ub&&!z.bG)return null;
return[z.X1?1:0,z.ub?1:0,z.bG?1:0]};W.DL.prototype.SZ=function(z,q,e){var V=this.r1;if(z&&z[0]!=null)V.X1=z[0]==1;
if(z&&z[1]!=null)V.ub=z[1]==1;if(z&&z[2]!=null)V.bG=z[2]==1;if(cW==1)V.ub=!0;var P=new dW(_.E.b,!0);
P.data={p:_.m.R9,U:this.id,ee:V,aaT:q};e.K(P)};W.DL.aaa=function(z,q,e,V,P,D,B){if(B==null)B=[!1,!0];
var A=z.u4(null,P,!0),s,a=P==null?z.j[0]:P;if(z.add.artd&&(P!=null||z.j.length==1)&&z.Z[a].add.artb){var M=z.Z[a].Le();
s=z.fK(A,M,M)[0]}else{var $=new kk(0,0,z.s,z.T),s=z.fK(A,B[0]?$:null,B[1]?null:$)[0];delete s.add.artd;
if(B[1]){var U=T.JB(s.tW(),new kk(0,0,s.s,s.T),2);W.hV.Tm(s,U)}}if(e!=1){var o=new kk(0,0,Math.round(s.s*e),Math.round(s.T*e));
W.hV.Tm(s,o);var t=[];for(var n=0;n<s.Z.length;n++)t.push(n);var c=W.On.iw(s,t,!0);W.hV.BT(s,new e5(e,0,0,e,0,0));
W.On.w8(s,V,t,c,1,T.O.Ak(new e5(e,0,0,e,0,0)),null,!0);s.n9()}var H=[];for(var n=0;n<q.length;n++)if(s.s*s.T!=0)H.push(hZ.zK(s,q[n].toUpperCase(),null,null,D?D[n]:null,V));
return H};W.DL.prototype.a7X=function(z,q,e,V,P){if(z==null||z.j.length==0)return;var D=W.DL.aaa(z,[q],e,V,null);
if(D.length==0){alert("Empty layer selected.");return}var B=D[0],A=new dW(_.E.b,!0),s=z.Z[z.j[0]].getName().trim();
if(s==".")s="x";A.data={p:_.m.RB,data:B,name:s+(e==1?"":"@"+e+"x")+"."+q};P.K(A)};W.DL.prototype.Ne=function(z,q,e,V,P){if(z.kE=="getPNG"){this.a7X(e,"png",z.oB,P,q)}else if(z.kE=="getSVG"){this.a7X(e,"svg",z.oB,P,q)}if(z.kE=="prms"){this.r1=z;
this.Us(e)}};W.DL.aor=function(z){var hE=z.length,e=0;z.sort(function(D,B){return D[0]+D[1]/2-(B[0]+B[1]/2)});
var q=z[hE-1][0]+z[hE-1][1]-z[0][0];for(var n=0;n<hE;n++)e+=z[n][1];var V=Math.round((q-e)/(hE-1)),P=z[0][0];
for(var n=0;n<hE;n++){z[n][0]=P;P+=z[n][1]+V}};W.DL.prototype.If=function(z,q,e,V,P){var D=z.p;if(D=="trsl"){var B=Math.round(z.d8),A=Math.round(z.Zf);
this.tZ.mX(B,A);this.qF(e,q,V,P,!1,z.H);this.po(e,B,A);this.Ng(e,null,P)}else if(D=="fcmy"||D=="fvec"){var s=["RGB","CMYK"][z.u]+" Color";
if(D=="fvec")s=["Raster","Vector"][z.u]+" Mode";var a=new ji(s,this);a.data={p:z.p,Zz:e.add[D]==null?0:e.add[D],oo:z.u};
e.Q6(a);this.Yi(a.data,e)}else if(D=="pview"){var D=new ji([8,14],this);D.data={p:z.p};e.Q6(D);this.Yi(D.data,e)}else if(D=="lockguides"){if(e)e._t=!e._t}else if(D=="gids"||D=="gidsFromLayer"){var M=z.fR,$,U;
if(M==null)M=e.Il();if(D=="gids"){$=z.an;var o=M[0].length,t=$[0].length;U=o==t?[23,2]:o>t?[23,3]:[23,4];
if(t==0)U=[11,15,0]}else if(D=="gidsFromLayer"){var c=[],H=[],F=e.PM();for(var n=0;n<e.j.length;n++){var i=e.Z[e.j[n]].V;
if(i.a8())continue;c.push([0,i.x],[1,i.y],[0,i.x+i.s],[1,i.y+i.T]);H.push(F,F,F,F)}U=[11,15,1];$=e.Il();
W.DL.uu($,[c,H])}if(JSON.stringify(M)==JSON.stringify($))return;var D=new ji(U,this);D.data={p:2,fR:M,an:$};
e.Q6(D);this.Yi(D.data,e)}else if(D=="algn"){var X=z.u,K=z.aJe,Q=0,b=0;if(e==null)return;if(e.j.length<2&&!(e.h!=null&&X!=3&&X!=7)&&K!=1){alert(iE.get([15,7,5]));
return}var f=e.h;e.h=null;var i=K==1?new kk(0,0,e.s,e.T):f?f.V:W.On.$i(e);this.qF(e,q,V,P,!1);if(!this.E2)return;
var d=this.Pm,L={},G=[],x=[],O=[];for(var n=0;n<d.length;n++){var v=d[n];while(e.Z[v].getName()=="</Layer group>")v++;
var C=e.root.G6(v),S=C;while(C.parent!=null){C=C.parent;if(d.indexOf(C.index)!=-1)S=C}var j=x.indexOf(S.index);
if(j==-1){j=x.length;x.push(S.index)}G[n]=j}var w=[],u=[],l=[],I=new kk;for(var n=0;n<x.length;n++){var p=W.On.$i(e,e.u4(!0,x[n]));
l.push(p);I=I.X8(p);Q=Math.max(Q,p.s);b=Math.max(b,p.T);var k=X==3?[p.y,p.T]:[p.x,p.s];w[n]=k;u.push(k)}W.DL.aor(u);
if(X==8){var g=z.cols,Y=T.tR.rp(z.aHI,e.do,e.s,P.Y8.oZ),R=T.tR.rp(z.a8a,e.do,e.s,P.Y8.oZ);for(var n=0;
n<x.length;n++){var m=Math.floor(n/g),j=n-m*g,p=l[n],Z=I.x+j*(Q+Y),E=I.y+m*(b+R);O.push(Math.round(Z-p.x),Math.round(E-p.y))}}else for(var n=0;
n<x.length;n++){var p=l[n],Z=p.x,E=p.y;if(X==0)Z=i.x;if(X==1)Z=i.x+(i.s-p.s)/2;if(X==2)Z=i.x+(i.s-p.s);
if(X==3)E=w[n][0];if(X==4)E=i.y;if(X==5)E=i.y+(i.T-p.T)/2;if(X==6)E=i.y+(i.T-p.T);if(X==7)Z=w[n][0];
O.push(Math.round(Z-p.x),Math.round(E-p.y))}var N=[];for(var n=0;n<d.length;n++){var h=G[n];N[2*n]=O[2*h];
N[2*n+1]=O[2*h+1]}this.po(e,0,0,null,N);var j5=X==3||X==7?[20,4,6]:[20,4,X<3?X:X-1];if(X==8)j5=[2,10,1];
this.Ng(e,null,P,N,j5);e.h=f}else if(D=="disabAuto"){this.SZ([!1],null,q)}};W.DL.uu=function(z,q){for(var n=0;
n<q[0].length;n++){var e=q[0][n],V=q[1][n],P=!1;for(var D=0;D<z[0].length;D++){var B=z[0][D],A=z[1][D];
if(e[0]==B[0]&&e[1]==B[1]&&V==A)P=!0}if(!P){z[0].push(e.slice(0));z[1].push(V)}}};W.DL.prototype.enable=function(z,q,e,V,P){this.i=e;
this.Av=q;this.nE=P?!0:!1;this.Us(z);this.ZP("default",q);this.gi(z,q,e,V)};W.DL.prototype.disable=function(z,q,e,V){this.VD(z)};
W.DL.prototype.VD=function(z){if(z==null)return;if(this.Em){this.Em.clear(z);this.Em=null}if(z.X.bG){z.X.bG=null;
z.XU=!0}if(z.X.P7){z.X.P7=null;z.XU=!0}if(z.X.fD[this.id]){delete z.X.fD[this.id];z.XU=!0}if(z.X.QZ.length!=0){z.X.QZ=[];
z.XU=!0}};W.DL.prototype.zs=function(z,q,e,V){if(e.Ai!=this.id)return;this.Us(z)};W.DL.prototype.Us=function(z,q){if(z==null)return;
var e=this.r1;this.VD(z);if(!this.nE){var V;if(e.ub||e.bG){V=W.On.$i(z);if(cW==0)V=T.R.JY(V)}if(e.ub&&!V.a8()){var P=z.Z[z.j[0]],D=T.R.iR(V).J;
if(cW==1&&z.j.length==1){if(P.add.vmsk)D=P.add.vmsk.UD();if(P.add.SoLd)D=W.On.a3(P.add.SoLd.nonAffineTransform);
if(P.add.TySh){D=T.R.iR(P.J3.NY).J;T.R.v(D,P.add.TySh.v,D)}}this.Em=new ik(D,!0);this.Em.kd(z,this.i)}if(e.bG){var B=null,U=null,o=!1;
if(z.PM()!=-1)B=z.Z[z.PM()].Le();else B=new kk(0,0,z.s,z.T);z.X.bG={N3:[V],mP:[]};var A=z.X.bG.mP,s=V.x+V.s,a=V.y+V.T,M=V.x+Math.floor(V.s/2),$=V.y+Math.floor(V.T/2);
if(q){var t=z.root.U8(new f5(Math.floor(q.x),Math.floor(q.y)));if(t){U=T.R.JY(t.H.$i(z));if(U.Je(V)){o=(U.oq(V)||V.oq(U))&&!V.bs(U);
if(!o)U=null}}}this.akw(V,A);if(U!=null){z.X.bG.N3.push(U);var c=U.x+U.s,H=U.y+U.T,F=U.x+Math.floor(U.s/2),i=U.y+Math.floor(U.T/2);
if(o){var X=M,K=$;if(V.oq(U)){X=F;K=i}A.push(V.x,K,U.x,K);A.push(s,K,c,K);A.push(X,V.y,X,U.y);A.push(X,a,X,H)}else{this.akw(U,A);
var f=a<U.y||H<V.y,d=s<U.x||c<V.x;if(s<U.x)A.push(s,$,U.x,$);if(c<V.x)A.push(c,$,V.x,$);if(a<U.y)A.push(M,a,M,U.y);
if(H<V.y)A.push(M,H,M,V.y);if(f&&!d){if(V.x<U.x)A.push(V.x,i,U.x,i);if(U.x<V.x)A.push(U.x,$,V.x,$)}}}else{if(V.y>B.y)A.push(M,B.y,M,V.y);
if(a<B.y+B.T)A.push(M,a,M,B.y+B.T);if(V.x>B.x)A.push(B.x,$,V.x,$);if(s<B.x+B.s)A.push(s,$,B.x+B.s,$)}z.XU=!0}}if(this.p==2&&this.E2){var L=new kk(z.A.Gq.x,z.A.Gq.y,z.s,z.T),G=z.PM();
if(G!=-1){var x=z.Il(),O=x[1][this.Pm];if(O==-1)O=G;L=z.Z[O].Le()}var v=z.r3[this.Pm],C=v[0],S=(C==0?"X":"Y")+": "+T.tR.Xw(v[1]-(C==0?L.x:L.y),z.do,this.i,C==0?L.s:L.T,!0);
W.__.jq(Math.round(this.BW.x)+10,Math.round(this.BW.y)-10,[S],z);z.XU=!0}if(this.p==2.5&&this.E2){var j=z.A.Gq,w={_:["M","L","M","L"],J:[j.x,-1e5,j.x,1e5,-1e5,j.y,1e5,j.y]};
z.X.fD[this.id]={NI:w};z.XU=!0}if(this.p==3&&this.E2){var w=T.R.iR(this.a00);z.X.fD[this.id]={NI:w};
z.XU=!0}};W.DL.prototype.akw=function(z,q){var e=z.s,V=z.T,P=z.x+Math.floor(e*.2),D=z.y+Math.floor(V*.2);
q.push(P,z.y,P,z.y+V);q.push(z.x,D,z.x+e,D)};W.DL.prototype.ZP=function(z,q){var e={p:_.m.XL,ia:z},V=new dW(_.E.b,!0);
V.data=e;q.K(V)};W.DL.prototype.jM=function(z){var q=this._E.Gv()[0],e=this.a9c.length;if(q<e){var V=this.Va,P=this.a9c[q];
this.db(V,P)}else{var D=new dW(q==e?_.E.b:_.E.z,!0);if(q==e)D.data={p:_.m.u9,gh:"psd"};else{D.U=W.qK;
D.data={p:"bgrm",u:1}}this.Av.K(D)}};W.DL.prototype.h6=function(z){var q=this.C9.Gv()[0],e=T.G(this.i.Y8);
e.oZ=q;var V=new dW(_.E.b,!0);if(q==5)V.data={p:_.m.Ln,Lh:cR.Ww};else V.data={p:_.m.Ln,Lh:cR.qU,oo:e};
this.Av.K(V)};W.DL.prototype.D1=function(z,q,e,V,P){if(this.E2)this.AM(z,q,e,V,P);this.Va=z;this.i=e;
this.Av=q;var D=z.A.UK(P.x,P.y),B;if(W.DL.lh(e,P,z.A)){B=this.C9}else{if(this._E)this._E.removeEventListener("select",this.jM);
var A=[];z.root.U8(D,A);if(A.length==0)return;if(V.t(cz.mh)){this.db(z,A[0]);return}var s=[];this.a9c=A;
for(var n=0;n<A.length;n++)s.push({name:z.Z[A[n]].getName(),tL:n==A.length-1});s.push({name:[1,18],o$:!0});
s.push({name:"Remove BG",d:a5.ajh});B=this._E=new gu(s);B.Q("select",this.jM,this)}B.parent=q;B.W();
B.update(z,e);var a=new dW(_.E.b,!0);a.data={p:_.m.wL,MR:B,x:P.Go+2,y:P.x5+1};q.K(a)};W.DL.prototype.a5t=function(z,q,e,V,P){var D=W.DL.vD(z,P);
return D!=-1||W.DL.lh(e,P,z.A)};W.DL.vD=function(z,q){if(z==null||z.add.artd==null)return-1;var e=z.A.UK(q.x,q.y),V=12*W.WU()/z.A.C7;
for(var n=0;n<z.Z.length;n++){var P=z.Z[n];if(!P.Sw()||P.add.artb==null)continue;var D=P.Le(),B=new kk(D.x,D.y-1.7*V,V*P.getName().length*.5,V);
if(B.vG(e))return n}return-1};W.DL.prototype.Qy=function(z,q,e,V,P){var D=W.DL.vD(z,P),B=W.DL.auh(z,z.A.UK(P.x,P.y));
if(D!=-1){z.j=[D];if(e.Ai==W.HI){var A=new dW(_.E.b);A.data={p:_.m.uB,U:W.r9};q.K(A)}return}if(B!=-1){z.A.TU=B;
z.y8=!0;var A=new dW(_.E.b,!0);A.data={p:_.m.Qp,rF:dJ.Qf.ai8};q.K(A);return}this.BW=P;this.Ca.mX(P.x,P.y);
this.j2=z.A.UK(P.x,P.y);this.kp=new e0(this.j2);this.qF(z,q,V,e,!0)};W.DL.lh=function(z,q,e,V){var P=T.tR._l,D=e.bX.T;
return z.pq&&(0<q.x&&q.x<P||0<q.y&&q.y<P||V&&0<q.x&&q.x<4*P&&D-P<q.y&&q.y<D)};W.DL.prototype.qF=function(z,q,e,V,P,D){var B,A=this.j2,s=!1;
if(P){var a=V.s2&&V.Y8.r3;if(W.DL.lh(V,this.Ca,z.A)){B=z.Il();var M=z.Il(),$=null;if(this.Ca.x<T.tR._l){$=[0,A.x]}if(this.Ca.y<T.tR._l){if($){this.p=2.5;
this.E2=!0;return}$=[1,A.y]}M[0].push($);M[1].push(z.PM(!0));z.m6(M);if(!a){var U=new dW(_.E.b);if(!V.Y8.r3){U.data={p:_.m.Ln,Lh:cR.ja};
q.K(U)}if(!V.s2){U.data={p:_.m.Ln,Lh:cR._x};q.K(U)}a=!0}}var o=this.aP3(z,A);if(a&&o!=null&&!z._t){this.p=2;
this.fR=B?B:z.Il();this.Pm=o;this.E2=!0;this.th=W.On.$i(z);return}if(z.C2.length!=0){this.p=4;this.th=z.kv[z.C2[0]].V.Y();
this.E2=!0;return}if(this.Em&&this.Em.s1(A,z.A.C7,!0,this.BW)!=null){var U=new dW(_.E.b);U.data={p:_.m.uB,U:W.Rs,ajy:!0};
q.K(U);return}if(z.h&&z.h.V.vG(A)){var t=Math.round(A.x),c=Math.round(A.y),H=z.h.V;s=z.h.o[(c-H.y)*H.s+t-H.x]>T.K8(z.depth)/2}var F=this.r1.X1||cW==1;
if(!s&&(!this.nE&&F||this.nE&&F&&(e.t(cz.XQ)||z.j.length<2))){var i=this.aiQ(z,A,e);if(!i){z.j=[];z.L3=null;
z.$k=z.Du=!0;this.p=3;this.a00=new kk;this.E2=!0;return}}if(e.t(cz.mh)&&!s){var X=new dW(_.E.z);X.U=W.si;
X.data={p:lK.Mi,anZ:!0};q.K(X)}}if(z.C2.length!=0){this.p=4;this.th=z.kv[z.C2[0]].V.Y();this.E2=!0;return}this.Pm=z.u4(D==null,D,null,!0);
for(var n=0;n<this.Pm.length;n++){var K=this.Pm[n],f=z.Z[K];if(f.rs(2)||f.rs(31)||z.rz(K)){alert(iE.get([6,57,0]));
return}}if(z.add.artd&&P){var d=this.Pm,L=!1;for(var n=0;n<d.length;n++)if(z.Z[d[n]].add.artb)L=!0;if(!L){this.VP=[z,z.Z.slice(0),z.j.slice(0),-1];
this.Pm.sort(function(w,u){return w-u})}}this.TD=W.DL.ax_(z,this.Pm);this.p=0;if(z.h&&(!P||s)&&z.j.length==1&&z.Ov(!1)){if(!z.a5_()){this.E2=!1;
return}var G=z.Z[z.j[0]],x=e.t(cz.mh);this.p=1;var O=z.history[z.B5];if(O.U==this&&O.data.p==1&&O.data.H==z.j[0]&&G.oT==G.wC.oT&&!x){this.aW=O}else{var v=G.wC,C=!1,S;
if(!G.K1(z,z.h)||x){C=!0;G.Da(z,z.h,x)}if(G.wC.oT<=0){S=T.n(G.wC.Sl.length>>2,z.depth);T.bl(G.wC.Sl,S,3)}else S=z.h.o.slice(0);
var j={V:G.wC.Ds.Y(),o:S};this.aW=new ji(x?[12,53]:[12,54],this);this.aW.data={p:1,H:z.j[0],wC:G.wC,Yc:v,NE:C,_Q:z.h,Nz:j,at:new f5(0,0)};
z.Q6(this.aW);z.h=j;z.ZI=!0}}this.E2=!0;this.th=W.On.$i(z)};W.DL.prototype.aiQ=function(z,q,e){var V=z.root.U8(new f5(Math.floor(q.x),Math.floor(q.y)));
if(V){if(V.H.add.vmsk)z.XU=!0;var P=z.Z.indexOf(V.H);if(this.r1.as0==0){var D=z.root.G6(P);while(D.parent&&D.parent.depth!=0&&D.parent.H.add.artb==null)D=D.parent;
P=D.index}if(e.t(cz.XQ)){var B=z.j.indexOf(P);if(B==-1)z.j.push(P);else if(z.j.length>1)z.j.splice(B,1)}else if(z.j.indexOf(P)==-1){this.db(z,P)}}return V!=null};
W.DL.prototype.db=function(z,q){z.Z[q].oT=0;z.j=[q];z.L3=null;z.uf();z.de=!0;z.$k=!0};W.DL.auh=function(z,q){var e=z.add.Anno;
if(e==null||e.length==0)return-1;var V=30/z.A.C7;for(var n=0;n<e.length;n++)if(new kk(e[n][0],e[n][1],V,V).vG(q))return n;
return-1};W.DL.prototype.Sf=function(z,q,e,V,P){this.BW=P;var D=z.A.UK(P.x,P.y),o,t;if(this.kp&&this.p<2)D=this.kp.Sm(D,V);
if(!this.E2){if(e.s2&&e.Y8.r3&&z&&!z._t){var B=this.aP3(z,D),A="default",s=W.DL.vD(z,P);if(B!=null)A=["col-resize","row-resize"][z.r3[B][0]];
else if(this.Em){var a=this.Em.s1(D,z.A.C7,null,P);if(a)A=a}else if(s!=-1||W.DL.auh(z,D)!=-1){A="pointer"}this.ZP(A,q)}this.Us(z,D);
return}var M=this.j2,$=Math.round(D.x-M.x)-this.tZ.x,U=Math.round(D.y-M.y)-this.tZ.y;if(this.th){if(this.p==2){var c=[];
if(z.h)c.push(z.h.V);if(this.th)c.push(this.th);if(z.A.hj)c.push(z.A.hj);D=W.DL.N8(z,D,e,[!1,c,!0,!0])}else{t=this.th.Y();
t.offset(this.tZ.x+$,this.tZ.y+U);o=W.DL.ZH(z,t,e);var H=this.kp.agI(V);if(H==1){o[0]=0;o[2]=1e9}if(H==2){o[1]=0;
o[3]=1e9}$+=Math.round(o[0]);U+=Math.round(o[1])}}this.tZ.x+=$;this.tZ.y+=U;var F=this.VP;if(F&&z==F[0]){z.l_(F[1]);
z.j=F[2].slice(0);F[3]=-1}this.po(z,$,U,D,null,V.t(cz.XQ));if(F&&z==F[0]){var i=this.th.Y();i.offset(this.tZ.x,this.tZ.y);
var X=D,s=z.PM(),K=-1;for(var n=0;n<z.Z.length;n++){var f=z.Z[n];if(!f.Sw()||f.add.artb==null)continue;
var d=f.Le();if(d.vG(X))K=n}if(K!=-1&&K!=s){var L=W.NU.h4(z,this.Pm,K,!0,null,!1);z.l_(L[0]);z.j=L[1];
F[3]=K}}this.Us(z,D);if(o)W.DL.LA(z,t,o)};W.DL.prototype.aP3=function(z,q){var e=W.DG(z,this.BW);q=[q.x,q.y];
var V=z.Il(),P=z.PM();for(var n=0;n<V[0].length;n++){var D=V[0][n],B=V[1][n];if(B!=-1&&B!=P)continue;
if(Math.abs(D[1]-q[D[0]])<e)return n}return null};W.DL.prototype.po=function(z,q,e,V,P,D){if(this.p==0){if(P)W.DL.lp(z,this.Pm,this.TD,P);
else W.DL.zE(z,this.Pm,this.TD,q,e)}else if(this.p==1){var B=this.aW.data;B.at.offset(q,e);W.DL.XM(z,B.H,q,e)}else if(this.p==2){var A=1e-4;
if(D)A=z.A.C7<=1?10:1;var s=A*Math.round(V.x/A),a=A*Math.round(V.y/A),M=[s,a],$=z.r3[this.Pm];$[1]=M[$[0]]}else if(this.p==2.5){z.A.Gq=V.Y()}else if(this.p==3){var U=this.j2,o=T.R.b_([U.x,U.y,V.x,V.y]);
this.a00=o;var t=[];z.root.SN(o,t);if(JSON.stringify(z.j)!=JSON.stringify(t)){z.j=t;z.$k=z.Du=!0}}else if(this.p==4){for(var n=0;
n<z.C2.length;n++)z.kv[z.C2[n]].V.offset(q,e);z.XU=!0}};W.DL.XM=function(z,q,e,V){var P=z.Z[q];z.h.V.offset(e,V);
P.EG(z,e,V,z.h);z.ZI=!0;z.Kv()};W.DL.prototype.AM=function(z,q,e,V,P,D){this.Ng(z,P,e);this.Us(z);if(Date.now()-this.fF<300&&!D){var B=W.FX.tv(z,z.A.UK(P.x,P.y));
if(W.DL.lh(e,P,z.A,!0)){var A=new dW(_.E.b);if(P.y>z.A.bX.T-20){A.data={p:_.m.wa,rF:"doczoom",Zz:z.A.C7*100,DI:{N:_.E.z,U:W.OF,M:{p:"pzoom"}}}}else{A.data={p:_.m.wa,rF:"preferences"}}q.K(A)}else if(B>=0){var s=new dW(_.E.z,!0);
s.U=W.no;s.data={p:"editCurr",f0:B};q.K(s)}}this.fF=Date.now();W.hV.Iz(z)};W.DL.prototype.Ng=function(z,q,e,V,P){if(!this.E2)return;
this.E2=!1;if(this.p<=1){if(V){this.akC(z,null,V,P)}else{if(this.tZ.x==0&&this.tZ.y==0)return;this.akC(z,this.tZ.Y())}z.y8=!0}else if(this.p==2){var D=0;
q=[q.x,q.y];var B=this.Pm,A=z.r3[B],jZ=this.fR[0].length,s=z.r3.length;if(e.pq&&q[A[0]]<T.tR._l){var a=z.Il();
a[0].splice(B,1);a[1].splice(B,1);z.m6(a);D=1;if(jZ==s-1)return}if(jZ<s)D=2;var M=new ji([[23,2],[23,3],[23,4]][D],this);
M.data={p:2,fR:this.fR,an:z.Il()};z.Q6(M)}else if(this.p==2.5){if(q.x<T.tR._l&&q.y<T.tR._l)z.A.Gq=new f5(0,0)}else if(this.p==4){var M=new ji([12,54],this);
M.data={p:4,j:z.C2.slice(0),g:this.tZ.Y()};z.Q6(M)}this.tZ.mX(0,0)};W.DL.prototype.gi=function(z,q,e,V){var P=V.bh(z?z.A.gV:0);
if(z!=null&&(P.x!=0||P.y!=0)){if(V.t(cz.mh)&&z.h==null){var D=new dW(_.E.z);D.U=W.si;D.data={p:lK.Mi,anZ:!0};
q.K(D)}this.tZ.mX(P.x,P.y);this.qF(z,q,V,e,!1);if(!this.E2)return;this.po(z,P.x,P.y);this.Ng(z,null,e);
this.Us(z)}var B=V.t(cz.EF);if(!this.nE&&this.a8I!=B){if(B){this.ay0=this.r1.X1;this.r1.X1=!0}else{this.r1.X1=this.ay0}this.a8I=B;
var A=new dW(_.E.b,!0);A.data={p:_.m.R9,U:this.id,ee:this.r1};q.K(A)}};W.DL.prototype.I7=function(z,q){if(z.p==0){var e=z.arv;
if(e){q.l_(e.gx);q.j=e.AQ.slice(0);q.Kv();q.$k=!0}W.DL.lp(q,z.j,z.Fb,z.hX,!0);W.hV.Iz(q)}else if(z.p=="fcmy"||z.p=="fvec"){if(z.Zz==0)delete q.add[z.p];
else q.add[z.p]=z.Zz;q.XU=!0}else if(z.p=="pview"){q.s_=!q.s_;q.Kv()}else if(z.p==2){q.m6(z.fR);q.XU=!0}else if(z.p==4){for(var n=0;
n<z.j.length;n++)q.kv[z.j[n]].V.offset(-z.g.x,-z.g.y);q.XU=!0}else{var V=q.Z[z.H];if(z.NE){V.cl(q,z.Yc);
q.h=z._Q;q.ZI=!0;q.Kv();V.Kv()}else{W.DL.XM(q,z.H,-z.at.x,-z.at.y)}}};W.DL.prototype.Yi=function(z,q){if(z.p==0){W.DL.lp(q,z.j,z.Fb,z.hX);
var e=z.arv;if(e){q.l_(e.qM);q.j=e.Ap.slice(0);q.Kv();q.$k=!0}W.hV.Iz(q)}else if(z.p=="fcmy"||z.p=="fvec"){if(z.oo==0)delete q.add[z.p];
else q.add[z.p]=z.oo;q.XU=!0}else if(z.p=="pview"){q.s_=!q.s_;q.Kv()}else if(z.p==2){q.m6(z.an);q.XU=!0}else if(z.p==4){for(var n=0;
n<z.j.length;n++)q.kv[z.j[n]].V.offset(z.g.x,z.g.y);q.XU=!0}else{var V=q.Z[z.H];if(z.NE){V.wC=z.wC;q.h=z.Nz;
W.DL.XM(q,z.H,0,0);V.Kv()}else{W.DL.XM(q,z.H,z.at.x,z.at.y)}}};W.DL.prototype.akC=function(z,q,e,V){if(e){var P=!0;
for(var n=0;n<e.length;n++)if(e[n]!=0)P=!1;if(P)return}var D=z.history[z.B5],B=this.VP,A=B!=null&&B[3]!=-1&&B[0]==z;
if(!A&&e==null&&D.data&&D.U==this&&D.data.p==0&&JSON.stringify(D.data.j)==JSON.stringify(this.Pm)&&JSON.stringify(D.data.Fb)==JSON.stringify(this.TD)){var s=D.data.hX,a=D.data.a4I.cj.T.v;
a.Hrzn.v.val+=q.x;a.Vrtc.v.val+=q.y;for(var n=0;n<s.length;n+=2){s[n]+=q.x;s[n+1]+=q.y}}else{if(q==null)q=new f5(e[0],e[1]);
var M={gQ:this.p==0?"move":"cut",cj:{classID:"null",null:this.p==0?fw.y5("Lyr",!0):{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:q.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:q.y}}}}}},$=null;
if(A)$={gx:B[1],AQ:B[2],qM:z.Z.slice(0),Ap:z.j.slice(0)};this.VP=null;this.track(M);if(this.p!=0)return;
var U=new ji(V?V:[12,54],this);if(e)U.data={p:0,j:this.Pm,Fb:this.TD,arv:$,hX:e};else U.data={p:0,j:this.Pm,Fb:this.TD,arv:$,hX:W.DL.ayW(this.Pm,q.x,q.y)};
U.data.a4I=M;z.Q6(U)}};W.DL.ayW=function(z,q,e){var V=[];for(var n=0;n<z.length;n++)V.push(q,e);return V};
W.DL.zE=function(z,q,e,V,P){W.DL.lp(z,q,e,W.DL.ayW(q,V,P))};W.DL.lp=function(z,q,e,V,P){if(q.length==0)return;
if(e==null){e=[];for(var n=0;n<q.length;n++){e.push(z.Z[q[n]].L1(z,!0))}}var D=new kk,B=new kk(0,0,z.s,z.T);
for(var n=0;n<q.length;n++){var A=V[2*n],s=V[2*n+1];if(P){A=-A;s=-s}var a=z.Z[q[n]],M=e[n];if(a.add.fxrp&&(M.indexOf(0)!=-1||a.mp()))a.add.fxrp.offset(A,s);
for(var $=0;$<M.length;$++){var U=M[$];if(U==0){a.V.offset(A,s);if(a.LL()&&a.kL(z))a.kL(z).V.offset(A,s);
if(a.add.artb){var o=a.Le();o.offset(A,s);a.Ig(o);var t=a.add.artb.guideIndeces;t=t?t.v:[];for(var c=0;
c<t.length;c++){var H=z.r3[t[c].v];H[1]+=H[0]==0?A:s}}if(a.add.TySh){a.add.TySh.v.translate(A,s);if(a.add.TySh.add){a.add.TySh.add.vmsk.offset(A,s)}}if(a.add.SoLd){var F=new e5(1,0,0,1,A,s),i=a.add.SoLd,X=W.On.a3(i.Trnf),K=W.On.a3(i.nonAffineTransform);
T.R.v(X,F,X);T.R.v(K,F,K);i.Trnf=W.On.V1(X);i.nonAffineTransform=W.On.V1(K);W.On.aNZ(i,F)}}if(U==1)a.OX().V.offset(A,s);
if(U==2){a.add.vmsk.offset(A,s);if(a.add.vogk)T.w0.v(a.add.vogk,[1,0,A,0,1,s,0,0],[]);if(a.J3.jC){var f=a.J3.jC.tT.J;
T.R.v(f,new e5(1,0,0,1,A,s),f)}}if(U==3){a.kL(z).Eo.V.offset(A,s);if(M.length==1)a.Kv()}}if(M.length>0){var d=a.add.GdFl;
if(d==null)d=a.add.PtFl;if(a.mp()&&(!a.eU()||a.OX().ck)&&a.add.vmsk!=null&&T.S.nB(a.add.vmsk.B)&&a.add.vmsk.uI==255&&(d==null||d.Algn&&d.Algn.v)){a.V.offset(A,s)}else a.ly(z);
var L=z.root.GQ(a.$i(z),z,q[n]);if(a.add.artb)L=L.X8(a.Le());D=D.X8(L);L.offset(-A,-s);D=D.X8(L);if(a.zA()&&a.Eo&&a.Eo.color==255)D=D.X8(B);
a.aK0()}}z.Kv(T.R.JY(D))};W.DL.ax_=function(z,q){var e=[];for(var n=0;n<q.length;n++){var V=z.Z[q[n]];
e.push(V.L1(z))}return e};W.DL.LA=function(z,q,e){var V={J:[],_:[]},P=q.x+e[0],D=q.y+e[1];if(e[2]!=1e9){V._.push("M","L");
var B=D+q.T;if(e[4])V.J.push(e[2],Math.min(D,B,e[4][1]),e[2],Math.max(D,B,e[4][1]));else V.J.push(e[2],D,e[2],D+q.T)}if(e[3]!=1e9){V._.push("M","L");
var A=P+q.s;if(e[5])V.J.push(Math.min(P,A,e[5][0]),e[3],Math.max(P,A,e[5][0]),e[3]);else V.J.push(P,e[3],A,e[3])}if(V.J.length!=0){z.X.P7=V;
z.XU=!0}};W.DL.N8=function(z,q,e,V){var P=W.DL.aIv(z,[[q.x],[q.y]],e,V);return new f5(q.x+P[0],q.y+P[1])};
W.DL.ZH=function(z,q,e,V,P){var D=P==!0?1:.5,B=W.DL.aIv(z,[[q.x,q.x+Math.round(q.s*D),q.x+q.s],[q.y,q.y+Math.round(q.T*D),q.y+q.T]],e,V);
return B};W.DL.aIv=function(z,q,e,V){if(V==null)V=[!0,null,!0];var P=[0,0,1e9,1e9,null,null];if(!e.Ti)return P;
var D=T.G(q);for(var B=0;B<2;B++){var A=1e9,s=q[B],a=0,M=null;for(var $=0;$<s.length;$++){var U=W.DL.a4v(z,s[$],D[1-B][$],B,e,V),o=U[0];
if(o!=1e9)D[B][$]=o;if(o!=1e9&&Math.abs(o-s[$])<Math.abs(A)){A=o-s[$];a=o;M=U[1]}}if(A!=1e9){P[B]=A;
P[B+2]=a;P[B+4]=M}}return P};W.DL.a4v=function(z,q,e,V,P,D){var B=1e9,A=null,s=P.k5,a=P.Y8,M=[z.root];
while(M.length!=0&&s[2]){var $=M.pop(),U=$.H,o=U.V;if(!U.Sw())continue;if($.children)for(var n=0;n<$.children.length;
n++)M.push($.children[n]);if(z.j.indexOf($.index)!=-1||o.a8())continue;var t=o.s,c=t>>>1,H=o.T,F=H>>>1,i=B;
if(V==0){if(Math.abs(o.x-q)<Math.abs(B-q))B=o.x;if(Math.abs(o.x+c-q)<Math.abs(B-q))B=o.x+c;if(Math.abs(o.x+t-q)<Math.abs(B-q))B=o.x+t}else{if(Math.abs(o.y-q)<Math.abs(B-q))B=o.y;
if(Math.abs(o.y+F-q)<Math.abs(B-q))B=o.y+F;if(Math.abs(o.y+H-q)<Math.abs(B-q))B=o.y+H}if(i!=B){A=[o.x+c,o.y+F]}}var X=B;
B=1e9;if(D[0]&&s[0]&&a.r3&&P.s2){var K=z.Il(),f=K[0],d=K[1],L=z.PM();for(var n=0;n<f.length;n++)if((d[n]==-1||d[n]==L)&&f[n][0]==V&&Math.abs(f[n][1]-q)<Math.abs(B-q))B=f[n][1]}if(s[1]&&a.l0&&P.s2){var G=V==0||a.AG==0?a.kV:a.AG,x=Math.round(T.tR.rp(G/a.fB,z.do,z.s,a.Uu));
if(V==1&&a.Qm==1){var O=e*.5*Math.sqrt(4/3),v;x*=Math.sqrt(4/3);v=Math.round((q-O)/x)*x+O;if(Math.abs(v-q)<Math.abs(B-q))B=v;
v=Math.round((q+O)/x)*x-O;if(Math.abs(v-q)<Math.abs(B-q))B=v}else{var v=Math.round(q/x)*x;if(Math.abs(v-q)<Math.abs(B-q))B=v}}var C=z.tQ;
if(s[3]&&a.tQ&&P.s2&&C.length!=0){for(var n=0;n<C.length;n++){if(!D[2]&&z.gH.indexOf(n)!=-1)continue;
var S=W.zL.xl(C,n);for(var j=0;j<3;j+=2)if(S[j+V]!=q&&Math.abs(S[j+V]-q)<Math.abs(B-q))B=S[j+V]}}if(D[1])for(var w=0;
w<D[1].length;w++){var o=D[1][w],t=o.s,H=o.T,c=t>>>1,F=H>>>1;if(D[3]){c=t/2;F=H/2}var u=[o.x,o.y,o.x+c,o.y+F,o.x+t,o.y+H];
for(var n=0;n<6;n+=2)if(Math.abs(u[n+V]-q)<Math.abs(B-q))B=u[n+V]}if(s[4]){var o=new kk(0,0,z.s,z.T),L=z.PM();
if(L!=-1)o=z.Z[L].Le();var t=o.s,H=o.T,c=t>>>1,F=H>>>1;if(D[3]){c=t/2;F=H/2}var u=[o.x,o.y,o.x+c,o.y+F,o.x+t,o.y+H];
for(var n=0;n<6;n+=2)if(Math.abs(u[n+V]-q)<Math.abs(B-q))B=u[n+V]}if(Math.abs(B-q)<=Math.abs(X-q))A=null;
else B=X;var l=Math.abs(B-q)<=4*W.WU()/z.A.C7?B:1e9;return[l,A]};W._m=function(z){if(z==0)W.__.call(this,[10,11],W.HI,"tools/move");
else W.__.call(this,[10,0],W.YO,"tools/brush");this.p=0;this.q9=0;this.j2=null;this.WE=null;this.GS=new f5(0,0);
this.Q1=null;this.Qt=!1};W._m.prototype=new W.__;W._m.aNN=function(z,q,e){var V=q?z.A.UK(q.x,q.y):null,P=z.xf(),D=J.k("canvas"),B=D.getContext("2d"),A=new ToContext2D(B),s=id.lk(P,A,595.44,gs.vc(z.m.U6,z)/z.m.rU,!0),a=s[0],M=s[1],$=s[2],o=1e9,t=0;
for(var n=0;n<$.length;n++){var U=$[n];U[1]=new f5(U[1].x-595.44/2,-(U[1].y-M+595.44/2))}for(var n=0;
n<$.length;n++){var U=$[n],c=V?f5.h5(V,U[1]):Math.abs(U[0]*z.m.rU-e);if(c<o){o=c;t=U}}return t};W._m.prototype.Qy=function(z,q,e,V,P){if(z.add.prvw==1){var D=W._m.aNN(z,P),B=z.m.MU,A=new dW(_.E.b,!0);
A.data={p:_.m.D$};if(B)q.K(A);z.m.U6=gs.TR(D[0]*z.m.rU,z);if(B)q.K(A);z.XU=!0;return}var s=W._m.aeU(z,P),M=0;
if(s!=-1){var A=new dW(_.E.b,!0);A.data={p:_.m.KC,u:[9,s,127]};q.K(A);this.q9=s;this.p=4;return}if(W._m.aOq(z,P)){this.p=5;
this.Q1=z.A.g.Y();this.GS.mX(P.x,P.y);this.Qt=z.m.MU;if(this.Qt){var A=new dW(_.E.b,!0);A.data={p:_.m.D$};
q.K(A)}return}var a=this.j2=z.A.Lc(P.x,P.y),$=V.t(cz.EF);if($){for(var n=z.Z.length-1;n>=0;n--){if(!z.Z[n].Sw())continue;
var U=z.Z[n].m,o=W._m.$$(a.x,a.y,a.x+1,a.y+.01,U.list);if(o.length!=0){z.j=[n];$=!1;break}}}var t=z.Z[z.j[0]],U=t.m,c=W._m.aLp(a.x,a.y,U.list,z),H=W._m.$$(a.x,a.y,a.x+1,a.y+.01,U.list);
if(1<z.j.length){this.p=3;var F=new ji("Move Tracks",this);F.data={p:1,ML:z.j.slice(0),E$:0,LH:0};z.Q6(F)}else if(c==-1&&H.length==0){if(this.id==W.HI){this.p=0;
U.j=[]}else{var F=new ji("Add Note",this);F.data={p:0,aA:z.j[0],Zz:[JSON.stringify(U.list),JSON.stringify(U.j)],oo:null};
z.Q6(F);var hE=[W._m.bA(a.x,z),W._m.FM(z),Math.floor(a.y),127];U.list.push(hE);U.j=[U.list.length-1];
this.p=2;W._m.mq(U)}}else if(c==-1&&H){this.p=1;H=H.pop();var i=U.j.indexOf(H);if(V.t(cz.XQ)||$){if(i==-1)U.j.push(H);
else U.j.splice(i,1)}else if(i==-1)U.j=[H]}else if(c!=-1){this.p=2;if(U.j.indexOf(c)==-1)U.j=[c]}z.XU=!0};
W._m.prototype.Sf=function(z,q,e,V,P){if(z.add.prvw==1)return;if(this.p==4&&P._W){var D=W._m.aeU(z,P);
if(D==this.q9)return;var B=new dW(_.E.b,!0);if(this.q9!=-1){B.data={p:_.m.KC,u:[8,this.q9,127]};q.K(B)}if(D!=-1){B.data={p:_.m.KC,u:[9,D,127]};
q.K(B)}this.q9=D;return}if(this.p==5&&P._W){W.fp.ct(z,this.Q1.x+(P.x-this.GS.x),this.Q1.y);return}var A=z.Z[z.j[0]],s=A.m,a=this.j2,M=z.A.Lc(P.x,P.y),$=0;
if(P._W){var U=Math.round(M.x-a.x),o=Math.round(M.y-a.y);if(this.p==3){var t=z.history[z.B5];this.I7(t.data,z);
var c=s.list[0];t.data.E$=W._m.bA(c[0]+U,z)-c[0];t.data.LH=o;this.Yi(t.data,z)}else if(this.p==0){var H=Math.min(M.x,a.x),F=Math.max(M.x,a.x),i=Math.min(M.y,a.y),X=Math.max(M.y,a.y);
z.X.NI=T.R.iR(new kk(H,i,F-H,X-i));s.j=W._m.$$(H,i,F,X,s.list)}else{if(this.WE==null)this.WE=[JSON.stringify(s.list),JSON.stringify(s.j)];
s.list=JSON.parse(this.WE[0]);s.j=JSON.parse(this.WE[1]);for(var n=0;n<s.j.length;n++){var c=s.list[s.j[n]];
if(this.p==1){if(n==0)U=W._m.bA(c[0]+U,z)-c[0];c[0]+=U;c[2]+=o}else{if(n==0)U=W._m.bA(c[0]+c[1]+U,z)-c[0]-c[1];
c[1]=Math.max(W._m.FM(z),c[1]+U)}}W._m.mq(s)}}else{var K=W._m.aLp(M.x,M.y,s.list,z),B=new dW(_.E.b,!0);
B.data={p:_.m.XL,ia:W._m.aOq(z,P)?"grab":K==-1?"default":"ew-resize"};q.K(B)}z.XU=!0};W._m.prototype.AM=function(z,q,e,V,P){if(z.add.prvw==1)return;
if(this.p==4){var D=new dW(_.E.b,!0);D.data={p:_.m.KC,u:[8,this.q9,127]};q.K(D);return}if(this.p==5){if(this.Qt){var D=new dW(_.E.b,!0);
D.data={p:_.m.D$};q.K(D)}return}var B=z.Z[z.j[0]],A=B.m;if(this.WE){var s,a=z.history[z.B5];if(a.U==this&&a.data.p==0&&a.data.oo==null)s=a;
else{s=new ji((this.p==1?"Move":"Resize")+" Note"+(A.j.length==1?"":"s"),this);s.data={p:0,aA:z.j[0],Zz:this.WE};
z.Q6(s)}s.data.oo=[JSON.stringify(A.list),JSON.stringify(A.j)];this.WE=null}z.X.NI=null;z.XU=!0};W._m.prototype.Hp=function(z,q){return z==cz.Dv||z==cz.QI};
W._m.prototype.gi=function(z,q,e,V){if(z==null||z.j.length==0)return;var P=z.Z[z.j[0]],D=P.m,B=V.bh(z?z.A.gV:0),A=[JSON.stringify(D.list),JSON.stringify(D.j)],s;
if(z!=null&&(B.x!=0||B.y!=0)){s="Move Notes";var a=Math.sign(B.x)*Math.round(z.m.rU/(V.t(cz.XQ)?1:12)),M=-Math.sign(B.y)*(V.t(cz.XQ)?12:1);
if(z.j.length>1||D.j.length==0){var $=z.history[z.B5],U;if($.U==this&&$.data.p==1&&JSON.stringify($.data.ML)==JSON.stringify(z.j)){this.I7($.data,z);
U=$;U.data.E$+=a;U.data.LH+=M}else{U=new ji("Move Tracks",this);U.data={p:1,ML:z.j.slice(0),E$:a,LH:M};
z.Q6(U)}this.Yi(U.data,z);return}for(var n=0;n<D.j.length;n++){var hE=D.list[D.j[n]];hE[0]+=a;hE[2]+=M}W._m.mq(D)}if(D.j.length!=0&&V.t(cz.QI)||V.t(cz.Dv)){s="Delete Notes";
W._m.avN(D)}if(s){z.XU=!0;var U=new ji(s,this);U.data={p:0,aA:z.j[0],Zz:A,oo:[JSON.stringify(D.list),JSON.stringify(D.j)]};
z.Q6(U)}};W._m.prototype.If=function(z,q,e,V,P){if(z.p=="append"||z.p=="remove"||z.p=="replaced"){var D=e.Z[e.j[0]].m,B=new ji(z.JJ,this);
e.Q6(B);B.data={p:0,aA:e.j[0],Zz:[JSON.stringify(D.list),JSON.stringify(D.j)],oo:null};if(z.p=="append"){D.j=[];
for(var n=0;n<z.ju.length;n++){D.j.push(D.list.length);D.list.push(z.ju[n])}W._m.mq(D)}else if(z.p=="remove")W._m.avN(D);
else if(z.p=="replaced"){B.data.Zz[0]=z.Zz}B.data.oo=[JSON.stringify(D.list),JSON.stringify(D.j)];e.XU=!0}else if(z.p=="nprop"){var D=e.Z[e.j[0]].m,B=new ji("Note Change",this);
e.Q6(B);B.data={p:0,aA:e.j[0],Zz:[JSON.stringify(D.list),JSON.stringify(D.j)],oo:null};for(var n=0;n<D.j.length;
n++){D.list[D.j[n]][3]=z.oo}B.data.oo=[JSON.stringify(D.list),JSON.stringify(D.j)]}};W._m.prototype.I7=function(z,q){if(z.p==0){var e=q.Z[z.aA],V=z.Zz;
e.m.list=JSON.parse(V[0]);e.m.j=JSON.parse(V[1])}else for(var n=0;n<z.ML.length;n++)W._m.asw(q.Z[z.ML[n]].m.list,-z.E$,-z.LH);
q.XU=!0};W._m.prototype.Yi=function(z,q){if(z.p==0){var e=q.Z[z.aA],V=z.oo;e.m.list=JSON.parse(V[0]);
e.m.j=JSON.parse(V[1])}else for(var n=0;n<z.ML.length;n++)W._m.asw(q.Z[z.ML[n]].m.list,z.E$,z.LH);q.XU=!0};
W._m.asw=function(z,q,e){for(var n=0;n<z.length;n++){var hE=z[n];hE[0]+=q;hE[2]+=e}};W._m.FM=function(z){return z.m.rU>>>3};
W._m.bA=function(z,q){var e=W._m.FM(q);return e*Math.round(z/e)};W._m.mq=function(z){var q=[];for(var n=0;
n<z.j.length;n++)q[n]=z.list[z.j[n]];z.list.sort(function(e,V){return e[0]-V[0]});z.j=[];for(var n=0;
n<q.length;n++)z.j[n]=z.list.indexOf(q[n])};W._m.avN=function(z){z.j.sort(function(q,e){return q-e});
for(var n=z.j.length-1;n>=0;n--)z.list.splice(z.j[n],1);z.j=[]};W._m.$$=function(z,q,e,V,P){var D=new kk(z,q,e-z,V-q),B=[];
for(var n=0;n<P.length;n++){var A=P[n],s=new kk(A[0],A[2],Math.max(1,A[1]),1);if(!s.HX(D).a8())B.push(n)}return B};
W._m.aLp=function(z,q,e,V){var P=V.m.rU/(24*V.A.C7);q=Math.floor(q);z+=2;for(var n=0;n<e.length;n++){var D=e[n];
if(D[2]==q&&Math.abs(D[0]+D[1]-z)<P)return n}return-1};W._m.aeU=function(z,q){var e=z.Z[z.j[0]].m,V=(e.Aa==200?2.2:1)*50*J.WU();
if(q.x>V)return-1;var P=z.A.Lc(q.x,q.y).y;if(q.x>V*.6&&e.Aa!=200){var D=Math.floor(7*(P%12)/12);P=12*Math.floor(P/12)+[0,2,4,5,7,9,11][D]}P=Math.floor(P);
return P};W._m.aOq=function(z,q){var e=W.WU()*16;if(q.y<e||z.A.bX.T-e<q.y)return!0};W.Ty=function(){W.cn.call(this,[10,12],W.bF,"tools/mwand");
this.Re=null};W.Ty.prototype=new W.cn;W.Ty.prototype.O3=function(z,q,e,V){this.Re=V;this.aNp=this.r1.wconf[0];
this.finish(z,q,e,V)};W.Ty.prototype.Qh=function(z,q,e,V,P){if(!V._W)return;var D=new dW(_.E.z);D.U=W.S3;
D.data={p:"h_stepbck"};P.K(D);var B=V.x-this.Re.x,A=Math.max(0,Math.min(255,Math.round(this.aNp+B/4)));
this.r1.wconf[0]=A;this.kG(P);this.finish(z,q,e,this.Re)};W.Ty.prototype.lG=function(z,q,e,V,P){this.r1.wconf[0]=this.aNp;
this.kG(P)};W.Ty.prototype.getSelection=function(z,q,e,V){var P=this.b2;P=z.A.UK(V.x,V.y);var D=W.cn.aoY(new f5(Math.floor(P.x),Math.floor(P.y)),this.r1.wconf,this.r1.sall);
return D};W.Ty.amB=function(z,q,e,V,P){if(q.x<0||q.x>z.s||q.y<0||q.y>z.T)return null;var D,B=new kk(0,0,z.s,z.T);
if(V)D=z.tW();else{var A=z.j.length,a=null;if(A!=1){alert(A==0?"No layer selected.":"More than one layer selected.");
return null}var s=z.Z[z.j[0]],M=s.oT<=0?null:s.oT==1?s.OX():s.kL(z).Eo;if(P||M&&M.eq)a=M;if(a==null&&s.add.lsct!=null&&s.add.lsct!=fH.Oj){alert("No layer selected.");
return null}if(a==null&&B.bs(s.V))D=s.buffer;else{D=T.n(B.D()*4,z.depth);if(a==null)T.aF(s.buffer,s.V,D,B);
else W.j6.HU(a.o,a.V,a.color,D,B)}}var $=W.Ty.a6(D,B,q,null,e),U=T.KI($,B),o=T.n(U.D(),z.depth);T.KY($,B,o,U);
return{V:U,o:o}};W.Ty.gY=function(z,q,e){var V=q.s,P=q.T,B=0,A=0,s=0,a=0;z=new Uint32Array(z.buffer);
var D=[],M=e.length;for(var n=0;n<M;n++){var $=e[n],U=Math.round($.x-.5-q.x),o=Math.round($.y-.5-q.y);
U=Math.max(0,Math.min(V-1,U));o=Math.max(0,Math.min(P-1,o));var t=o*V+U,c=z[t];D.push([c&255,c>>8&255,c>>16&255,c>>>24])}return D};
W.Ty.a6=function(z,q,e,V,P){var D=T.Gx(z);z=T.EZ(z,8);z=new Uint32Array(z.buffer);var B=q.s,A=q.T,s=B*A;
if(V==null)V=W.Ty.gY(z,q,[e]);var a=Math.round(e.x-.5-q.x),M=Math.round(e.y-.5-q.y),$=M*B+a,U=Date.now(),o=T.n(B*A),t=P[0],c=1/t,H=P[1]&&t>0?255:0;
if(P[2]){var F=T.n(o.length),i=new Uint32Array(s),X=1;i[0]=a<<16|M;F[$]=1;while(X>0){var K=i[X-1];X--;
var f=K>>>16,d=K&65535,n=d*B+f,L=W.Ty.Aq(z[n],V);if(L>t){var G=H*(1-Math.max(0,Math.min(1,(L-t)*c)));
o[n]=~~G}else{o[n]=255;if(d!=A-1&&F[n+B]==0){i[X++]=f<<16|d+1;F[n+B]=1}if(d!=0&&F[n-B]==0){i[X++]=f<<16|d-1;
F[n-B]=1}if(f!=B-1&&F[n+1]==0){i[X++]=f+1<<16|d;F[n+1]=1}if(f!=0&&F[n-1]==0){i[X++]=f-1<<16|d;F[n-1]=1}}}}else{for(var n=0;
n<s;n++){var L=W.Ty.Aq(z[n],V);if(L<=t)o[n]=255}for(var d=0;d<A;d++)for(var f=0;f<B;f++){var n=d*B+f;
if(o[n]==0&&(f>0&&(o[n-1]==255||d>0&&o[n-B-1]==255||d<A-1&&o[n+B-1]==255)||f<B-1&&(o[n+1]==255||d>0&&o[n-B+1]==255||d<A-1&&o[n+B+1]==255)||d>0&&o[n-B]==255||d<A-1&&o[n+B]==255)){var L=W.Ty.Aq(z[n],V),G=H*(1-Math.max(0,Math.min(1,(L-t)*c)));
o[n]=~~G}}}o=T.EZ(o,D);return o};W.Ty.Aq=function(z,q){var e=q.length,V=W.Ty.aLE(z,q[0]),n=1;while(n!=e){V=Math.min(V,W.Ty.aLE(z,q[n]));
n++}return V};W.Ty.aLE=function(z,q){var e=z&255,V=z>>>8&255,P=z>>>16&255,D=z>>>24&255;if(q[3]==0)return D<5?0:255;
var B=Math.max(Math.abs(e-q[0]),Math.max(Math.abs(V-q[1]),Math.abs(P-q[2])));return D==0?255:B};W.B6=function(z,q){if(q)W.j6.call(this);
else if(z)W.j6.call(this,[10,49],W.QM,"tools/camove");else W.j6.call(this,[10,26],W.OD,"tools/patch");
this.o6=null;this.jC=null;this.g=null;this.R5=null;this.ac8=new f5;this.aFj=null;this.azM=null};W.B6.prototype=new W.j6;
W.B6.prototype.Qy=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y);if(z.h&&T.U8(D,z.h.o,z.h.V)){var B=new kk(0,0,z.s,z.T),A=B.HX(z.h.V);
if(!z.Ov()||A.a8())return;if(!0){var s=T.n(A.D(),z.depth);T.KY(z.h.o,z.h.V,s,A);z.h={o:s,V:A}}this.Xk(z);
this.jJ(z);this.R5=D;this.ac8=new f5(D.x-z.h.V.x,D.y-z.h.V.y);this.azM=T.n(z.h.V.D()*4,z.depth);this.azM.fill(T.K8(z.depth));
if(this.r1.patch==1){var a=z.Z[z.j[0]];a.Da(z,z.h,!0);if(a.wC==null)this.R5=null}this.aFj=z.h.V.Y()}else{this.jC={J:[D.x,D.y],_:["M"]};
this.o6=D}};W.B6.prototype.Sf=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y);if(this.R5){if(this.r1.patch==1){if(z.C2.length==0){var B=z.Z[z.j[0]].wC,A=D.x-this.ac8.x,s=D.y-this.ac8.y;
W.DL.XM(z,z.j[0],Math.round(A-B.Ds.x),Math.round(s-B.Ds.y))}}else this.aMv(z,D,"clone")}if(this.o6){this.jC._.push("L");
this.jC.J.push(D.x,D.y);this.o6=D;z.X.NI=this.jC;z.XU=!0}};W.B6.prototype.AM=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y);
if(this.R5){var B=z.h.V.Y();if(this.id==W.QM){var A=z.Z[z.j[0]];A.cl(z,A.wC);z.h.V=this.aFj.Y();var s=T.n(z.h.V.D()*4,z.depth);
T.yR(z.h.o,s,3);this.cg(z,"sheal",s,z.h.V,z.h.V);z.h.V=B;B=B.X8(this.aFj)}this.aMv(z,D,"heal");this.finish(z,B,null,null,!0);
z.Kv(B);this.R5=null}if(this.o6){var a=W.cn.Oe(this.r1.setop,V.t(cz.XQ),V.t(cz.mh)),M=new dW(_.E.zN,!0);
if(this.jC.J.length<=4)M.data=W.cn.Im();else M.data=W.cn.Ll(this.jC.J,a);q.K(M);this.o6=null;z.X.NI=null;
z.XU=!0}};W.B6.prototype.zW=function(){return this.g};W.B6.prototype.Ne=function(z,q,e,V,P){W.j6.prototype.Ne.call(this,z,q,e,V,P);
this.ZP(P,V)};W.B6.prototype.ZP=function(z,q){var e="auto;";if(q!=null&&q.t(cz.XQ)&&!q.t(cz.mh)||this.r1.setop=="union")e="copy";
var V=new dW(_.E.b,!0);V.data={p:_.m.XL,ia:e};if(this.caller)this.caller.K(V)};W.B6.prototype.aMv=function(z,q,e){var V=new f5(Math.round(this.R5.x-q.x),Math.round(this.R5.y-q.y));
if(this.r1.patch==1)V.mX(-V.x,-V.y);this.g=V;this.cg(z,e,this.azM,z.h.V,z.h.V);this.Kv(z,z.h.V)};W.am_=function(){W.B6.call(this,!0);
this.r1.patch=1};W.am_.prototype=new W.B6(!0,!0);W.PE=function(z){if(z)W.j6.call(this,[10,52],W.aFO,"tools/meraser");
else W.j6.call(this,[10,13],W.afD,"tools/pbucket");this.Ei=!1;this.agC=z};W.PE.prototype=new W.j6;W.PE.prototype.enable=function(z,q,e,V){var P=new dW(_.E.b,!0);
P.data={p:_.m.XL,ia:"default"};q.K(P)};W.PE.prototype.K5=function(z,q){};W.PE.prototype.Qy=function(z,q,e,V,P){if(this.Jt(z,q,e,V,P,!0))return;
this.Ei=!0};W.PE.prototype.Sf=function(z,q,e,V,P){if(this.Jt(z,q,e,V,P))return};W.PE.prototype.AM=function(z,q,e,V,P,D){this.enable(z,q,e,V);
var B=this.Ei;this.Ei=!1;if(!B||D)return;if(!z.Ov())return;var A=z.A.UK(P.x,P.y),s=W.Ty.amB(z,A,this.r1.wconf,this.r1.sall,!0);
if(s==null)return;if(z.h){var a=z.h.V.HX(s.V);if(a.D()<s.V.D()){var M=T.n(a.D(),z.depth);T.KY(s.o,s.V,M,a);
s.V=a;s.o=M}}var $=T.n(s.V.D()*4,z.depth),U=T.H_(e.pQ,1);T.gf($,U.l,U.I,U.c);T.yR(s.o,$,3);this.Xk(z);
this.cg(z,this.agC?"erase":"draw",$,s.V,s.V);this.Kv(z,s.V);this.finish(z,s.V)};W.IG=function(){W.cn.call(this,[10,14],W.aLb,"tools/plasso");
this.jR=[];this.rW=null;this.jC=null;this.a4a=0};W.IG.prototype=new W.cn;W.IG.prototype.disable=function(z,q,e,V){this.NT(z)};
W.IG.prototype.O3=function(z,q,e,V){this.jR=[cz.Dv,cz.QI]};W.IG.prototype.Hp=function(z){return this.jR.indexOf(z)!=-1};
W.IG.prototype.VV=function(z){return this.jC!=null};W.IG.prototype.uH=function(){return this.jC!=null};
W.IG.prototype.ay=function(){return this.jC!=null};W.IG.prototype.Qh=function(z,q,e,V){if(this.jC==null)return;
var P=this.jC,D=P.J,B=D.length-2,A=this.b2;if(this.pp.Mg(1)&&e.t(cz.mh)&&V._W){D.push(0,0);P._.push("L");
B+=2}else if(e.t(cz.XQ))A=W.QT.lW(new f5(D[B-2],D[B-1]),A);D[B]=A.x;D[B+1]=A.y;z.X.NI=P;z.XU=!0};W.IG.prototype.lG=function(z,q,e,V){var P=Date.now();
if(this.jC==null)this.jC={J:[this.b2.x,this.b2.y,this.b2.x,this.b2.y],_:["M","L"]};else{this.Qh(z,q,e,V);
if(P-this.a4a<250||f5.h5(this.b2,new f5(this.jC.J[0],this.jC.J[1]))<W.DG(z,V)){this.rW=this.jC;this.finish(z,q,e,V);
this.NT(z);return}this.jC._.push("L");this.jC.J.push(this.b2.x,this.b2.y)}this.a4a=P;z.X.NI=this.jC};
W.IG.prototype.NT=function(z){this.jC=null;this.jR=[];if(z!=null){z.X.NI=null;z.XU=!0}};W.IG.prototype.gi=function(z,q,e,V){W.cn.prototype.gi.call(this,z,q,e,V);
if(V.t(cz.Nf)&&this.jC==null&&this.rW&&z.h!=null){var P=new dW(_.E.z);P.U=W.S3;P.data={p:"h_stepbck"};
q.K(P);this.O3(z,e,V,null);this.jC=this.rW;return}if(this.jC==null)return;if(V.t(cz.Dv)||V.t(cz.QI)){this.jC.J.pop();
this.jC.J.pop();this.jC._.pop();this.Qh(z,e,V)}if(V.t(cz.JN)){if(this.jC.J.length>4){this.rW=this.jC;
this.finish(z,e,V)}this.jC=null}if(V.t(cz.Nf)){this.jC=null}z.X.NI=this.jC;z.XU=!0};W.IG.prototype.getSelection=function(z,q,e,V){return W.cn.Ll(this.jC.J,null,this.r1.anta)};
W.hU=function(){W.cn.call(this,[10,10],W.a0O,"tools/mlasso");this.jR=[];this.B=[];this.GL=[];this.oA=[];
this.afH=null;this.ajH=0;this.ag=null;this.Ma=null;this.fF=0;this.Dh=0};W.hU.prototype=new W.cn;W.hU.prototype.disable=function(z,q,e,V){this.clear(z)};
W.hU.prototype.VV=function(z){return this.B.length!=0};W.hU.prototype.ay=function(){return this.B.length!=0};
W.hU.prototype.Hp=function(z){return this.jR.indexOf(z)!=-1};W.hU.prototype.O3=function(z,q,e,V){this.jR=[cz.Dv,cz.QI];
var P=this.fS(this.O4,z);if(this.B.length!=0&&(f5.h5(P,this.B[0])<W.DG(z,V)||Date.now()-this.fF<300)){this.Ni(z,this.B[0]);
this.finish(z,q,e);this.clear(z);return}this.fF=Date.now();if(this.B.length!=0)P=this.zV(P,z);else{var D=z.s,B=z.T,A=T.EZ(z.tW(),8),s=UZIP.adler(A,0,A.length);
if(s==this.ajH){}else{var a=T.n(D*B),M=D*B*4;for(var n=0;n<M;n+=4)a[n>>>2]=~~(.5+T.Vq(A[n],A[n+1],A[n+2])*(A[n+3]*(1/255)));
this.afH=T.z7.aq3(a,D,B);this.ajH=s}this.Ma=new Uint16Array(D*B)}this.Ni(z,P);this.Dh=e.t(cz.mh)?1:0;
this.zk(z)};W.hU.prototype.Ni=function(z,q){var e=this.B;this.GL[e.length]=this.oA.length;if(e.length!=0){T.z7.Ed(this.ag,q.y*z.s+q.x);
var V=this.av(z,q);V.reverse();var P=W.hU.ayh(z,V);this.oA=this.oA.concat(P)}e.push(q);this.aoG(z)};
W.hU.prototype.aoG=function(z){var q=this.B[this.B.length-1],e=q.y*z.s+q.x;this.ag=T.z7.af$(this.afH,e,z.s,z.T);
this.Ma.fill(0)};W.hU.prototype.fS=function(z,q){return new f5(Math.floor(Math.max(0,Math.min(q.s-1,z.x))),Math.floor(Math.max(0,Math.min(q.T-1,z.y))))};
W.hU.prototype.clear=function(z){this.oA=[];this.B=[];this.GL=[];this.ag=null;this.Ma=null;if(z!=null){z.X.NI=null;
z.X.Bj=[];z.XU=!0}this.jR=[]};W.hU.prototype.Qh=function(z,q,e,V){var P=this.B,D=P.length;if(D==0)return;
var B=this.zV(this.fS(this.b2,z),z),A=this.av(z,B);for(var n=0;n<A.length;n++){var s=A[n],a=new f5(s%z.s,Math.floor(s/z.s));
if(this.Ma[s]>30&&f5.h5(a,P[D-1])>20){this.Ni(z,a);return}this.Ma[s]++}if(this.Dh==1&&V._W)this.Ni(z,B);
this.zk(z)};W.hU.prototype.zk=function(z){var q=this.B;if(q.length!=0){var e=this.zV(this.fS(this.b2,z),z),V=this.av(z,e);
V.reverse();var P=W.hU.ayh(z,V),D=this.oA.concat(P),B=z.X.NI={J:D,_:["M"]};for(var n=2;n<D.length;n+=2)B._.push("L")}z.X.Bj=[];
for(var n=0;n<q.length;n++)z.X.Bj.push(q[n].x+.5,q[n].y+.5);z.XU=!0};W.hU.prototype.lG=function(z,q,e,V){};
W.hU.prototype.gi=function(z,q,e,V){if(this.B.length==0)return;if(V.t(cz.Dv)||V.t(cz.QI)){this.B.pop();
this.oA=this.oA.slice(0,this.GL[this.B.length]);this.GL.pop();if(this.B.length==0)this.clear(z);else this.aoG(z);
this.zk(z)}if(V.t(cz.JN)){var P=this.fS(this.b2,z);this.Ni(z,P);this.finish(z,e,V);this.clear(z)}if(V.t(cz.Nf)){this.clear(z)}};
W.hU.prototype.getSelection=function(z,q,e,V){return W.cn.Ll(this.oA,null,this.r1.anta)};W.hU.prototype.av=function(z,q){var e=this.B[this.B.length-1],V=e.y*z.s+e.x,P=q.y*z.s+q.x;
if(this.Dh==1)return[P,V];var D=[P];while(P!=V){P=P+this.ag.WF[P];D.push(P);if(D.length>5e3){console.log(D);
throw"e"}}return D};W.hU.ayh=function(z,q){var e=[],V=z.s;for(var n=0;n<q.length;n++){var P=q[n];e.push(P%V+.5,Math.floor(P/V)+.5)}return e};
W.hU.prototype.zV=function(z,q){var e=q.s,V=q.T,P=z.Y(),B=3;T.z7.Ed(this.ag,z.y*e+z.x);var D=this.ag.bv[z.y*e+z.x];
for(var A=-B+1;A<B;A++)for(var s=-B+1;s<B;s++){var a=z.x+s,M=z.y+A;if(a<0||a>=e||M<0||M>=V)continue;
T.z7.Ed(this.ag,M*e+a);if(this.ag.bv[M*e+a]<D)P.mX(a,M)}return P};W.kl=function(){W.__.call(this,[10,36],W.HD,"tools/ruler");
this.wi=null;this.az=null;this._H=null;this.aa2=null;this.ayc=null};W.kl.prototype=new W.__;W.kl.prototype.VV=function(z){return z._W};
W.kl.prototype.enable=function(z,q,e,V){W.__.prototype.enable.call(this,z,q,V,e);if(z){this.Us(z)}};
W.kl.prototype.disable=function(z,q,e,V){if(z)this.NT(z)};W.kl.prototype.If=function(z,q,e,V,P){if(z.p=="unit"){var D=this.wi,B=z.u;
e.eJ={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:B[0]},logicalLength:{t:"doub",v:B[1]},logicalUnits:{t:"TEXT",v:B[2]}}}};
this.Vp(q,_.E.b,{p:_.m.R9,U:this.id,aog:D[0],kb:D[1],Ya:D[2],do:e.do,at5:e.s,eJ:e.eJ})}if(z.p=="reset"){this.wi=this._H=null;
this.Us(e)}};W.kl.prototype.Qy=function(z,q,e,V,P){var D=W.DG(z,P),B=z.A.UK(P.x,P.y);B.x=Math.round(B.x);
B.y=Math.round(B.y);var A=this.wi;this.az=A?A.slice(0):null;var s=A&&f5.h5(B,A[0])<D,a=A&&f5.h5(B,A[1])<D,M=A&&A[2]&&f5.h5(B,A[2])<D;
if(s||a||M){if(V.t(cz.mh)&&A.length==2){if(a){var $=A[0];A[0]=A[1];A[1]=$}A[2]=A[0].Y();this._H=[2]}else this._H=[s?0:a?1:2]}else if(A&&W.kl.azf(A[0],A[1],B)<D&&Math.min(A[0].x,A[1].x)-5<=B.x&&B.x<=Math.max(A[0].x,A[1].x)+5&&Math.min(A[0].y,A[1].y)-5<=B.y&&B.y<=Math.max(A[0].y,A[1].y)+5){this._H=[];
this.ayc=[];for(var n=0;n<A.length;n++){this._H.push(n);this.ayc.push(A[n].Y())}this.aa2=B}else{this.wi=[B.Y(),B.Y()];
this._H=[1]}};W.kl.prototype.Sf=function(z,q,e,V,P){if(this._H==null)return;var D=this.wi,B=this._H,A=z.A.UK(P.x,P.y);
A.x=Math.round(A.x);A.y=Math.round(A.y);if(B.length>1){var s=A.x-this.aa2.x,a=A.y-this.aa2.y;for(var n=0;
n<D.length;n++){D[n]=this.ayc[n].Y();D[n].offset(s,a)}}else{D[B[0]].mX(A.x,A.y);if(V.t(cz.XQ)){D[B[0]]=W.QT.lW(D[1-B[0]],D[B[0]])}}this.Us(z);
this.Vp(q,_.E.b,{p:_.m.R9,U:this.id,aog:D[0],kb:D[1],Ya:D[2],do:z.do,at5:z.s,eJ:z.eJ});z.A.hj=T.R.b_([D[0].x,D[0].y,D[1].x,D[1].y])};
W.kl.prototype.AM=function(z,q,e,V,P,D){this._H=null;if(D){this.wi=this.az.slice(0);this.Us(z)}};W.kl.prototype.Vp=function(z,q,e){var V=new dW(q,!0);
V.data=e;z.K(V)};W.kl.prototype.Us=function(z){var q=this.wi;if(q==null)this.NT(z);else{var e=[q[1].x,q[1].y,q[0].x,q[0].y],V=["M","L"];
if(q.length>2){e.push(q[2].x,q[2].y);V.push("L")}z.X.NI={_:V,J:e};z.X.Bj=e}z.XU=!0};W.kl.prototype.NT=function(z){z.X.NI=null;
z.X.Bj=[]};W.kl.azf=function(z,q,e){var V=q.x-z.x,P=q.y-z.y,D=Math.abs(P*e.x-V*e.y+q.x*z.y-q.y*z.x),B=Math.sqrt(V*V+P*P);
return B==0?0:D/B};W.Lj=function(){W.j6.call(this,[10,19],W.z6,"tools/sharpen");this.VA="copy"};W.Lj.prototype=new W.j6;
W.Lj.prototype.Qy=function(z,q,e,V,P){var D=this.r1.pdetail?bw.eV:bw.z6;if(V.t(cz.mh))D=bw.mM;this.xC(z,e,V,P,this.r1.strn,D);
if(this.QR==null)return;this.qw(z)};W.Lj.prototype.Sf=function(z,q,e,V,P){this.xI(z,q,e);if(this.WS)this.mI(z,e,P);
if(this.QR==null)return;if(!P._W)return;this.nh(z,e,V,P);this.qw(z)};W.TF=function(){W.j6.call(this,[10,24],W.T2,"tools/shbrush");
this.VA="draw";this.r1.opacity=.5};W.TF.prototype=new W.j6;W.TF.prototype.Qy=function(z,q,e,V,P){this.xC(z,e,V,P,1);
if(this.QR==null)return;this.jJ(z);this.qw(z)};W.TF.prototype.Sf=function(z,q,e,V,P){this.xI(z,q,e);
if(this.WS)this.mI(z,e,P);if(this.QR==null)return;if(!P._W)return;this.nh(z,e,V,P);this.qw(z)};W.TF.prototype.AM=function(z,q,e,V,P){if(this.QR==null)return;
this.cg(z,"sheal",this.QR.Hz(),this.QR.$i(),this.QR.CC(),null);this.Kv(z,this.QR.CC());W.j6.prototype.AM.call(this,z,q,e,V,P)};
W._Z=function(){W.j6.call(this,[10,20],W.lP,"tools/smudge");this.VA="copy"};W._Z.prototype=new W.j6;
W._Z.prototype.Qy=function(z,q,e,V,P){var D=this.r1.brush.toolOptions;this.xC(z,e,V,P,this.r1.strn,bw.lP);
if(this.QR==null)return;this.qw(z)};W._Z.prototype.Sf=function(z,q,e,V,P){this.xI(z,q,e);if(this.WS)this.mI(z,e,P);
if(this.QR==null)return;if(!P._W)return;this.nh(z,e,V,P);this.qw(z)};W.No=function(){W.j6.call(this,[10,23],W.oI,"tools/sponge");
this.VA="sponge"};W.No.prototype=new W.j6;W.No.prototype.Qy=function(z,q,e,V,P){this.xC(z,e,V,P,this.r1.flow);
if(this.QR==null)return;this.qw(z)};W.No.prototype.Sf=function(z,q,e,V,P){this.xI(z,q,e);if(this.WS)this.mI(z,e,P);
if(this.QR==null)return;if(!P._W)return;this.nh(z,e,V,P);this.qw(z)};W.jH=function(){W.__.call(this,[10,17],W.OF,"tools/zoom");
this.TG=!1;this.pn=!0;this.uv=!1;this.oL=0;this.YX=null;this.cB=null;this.aBW=0;this.CA=null;this.aMC=0;
this.C9=new gu([{name:[8,0],r0:"Ctrl + +"},{name:[8,1],r0:"Ctrl + -",tL:!0},{name:[20,3],r0:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],r0:"Ctrl + 1"}],[{N:_.E.z,U:W.OF,M:{p:"zoom",pn:!0}},{N:_.E.z,U:W.OF,M:{p:"zoom",pn:!1}},{N:_.E.z,U:W.OF,M:{p:"adapt",u:"fitscr"}},{N:_.E.z,U:W.OF,M:{p:"adapt",u:"pixel"}}])};
W.jH.prototype=new W.__;W.jH.prototype.D1=function(z,q,e,V,P){var D=this.C9;D.W();D.parent=q;D.update(z,e);
var B=new dW(_.E.b,!0);B.data={p:_.m.wL,MR:D,x:P.Go+2,y:P.x5+1};q.K(B)};W.jH.prototype.enable=function(z,q,e,V){this.x$(q,V);
if(cW<2&&z&&Date.now()-this.oL<300)this.If({p:"adapt",u:"pixel"},q,z,V,e);this.oL=Date.now()};W.jH.prototype.Qy=function(z,q,e,V,P){this.cB=new f5(P.x,P.y);
this.aBW=z.A.C7;this.CA=z.A.g.Y()};W.jH.prototype.Sf=function(z,q,e,V,P){if(this.cB==null)return;var D=Math.exp(Math.log(this.aBW)+(P.x-this.cB.x)/64);
D=Math.max(.02,Math.min(W.jH.ae[0],D));z.A.C7=this.aBW;z.A.g=this.CA.Y();this.If({p:"zoom",C7:D,BW:this.cB,uv:this.uv},q,z,V,e)};
W.jH.prototype.AM=function(z,q,e,V,P){if(f5.h5(this.cB,P)<4){var D=this.apV(V);this.If({p:"zoom",pn:D,BW:P,uv:this.uv},q,z,V,e)}this.cB=null};
W.jH.ae=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
W.jH.nQ=function(z,q,e,V){var P=1;while(z*P*1/2>e||q*P*1/2>V)P*=1/2;if(z*P*2/3>e||q*P*2/3>V)P*=1/2;else if(z*P>e||q*P>V)P*=2/3;
return P};W.jH.aAW=function(z,q){var e=W.jH.abD(z);if(q&&e==0)return z;if(!q&&e==W.jH.ae.length-1)return z;
return W.jH.ae[q?e-1:e+1]};W.jH.abD=function(z){var q=0;while(W.jH.ae[q]>z)q++;return q};W.jH.zo=function(z,q,e,V){var P=z.Va;
if(V==0||V==null){V=W.jH.aAW(z.C7,e);if(V==z.C7)return}var D=z.UK(q.x,q.y);if(cW==1||cW==2){}else{D.x=Math.max(0,Math.min(P.s,D.x));
D.y=Math.max(0,Math.min(P.T,D.y))}if(!1){}else{var B=z.VL(),A=z.C7/V;B.translate(-D.x,-D.y);B.scale(A,A);
B.translate(D.x,D.y);var s=z.g.y;z.ayA(B)}};W.jH.prototype.If=function(z,q,e,V,P){if(z.p=="pzoom"){if(typeof z.u=="string")return;
z={p:"zoom",C7:z.u/100}}if(z.p=="prvw"){if(e.add.prvw==null)e.add.prvw=0;e.add.prvw=1-e.add.prvw;e.XU=!0;
if(cW==2){var D=e.A.DH(),B=gs.TR(-e.A.g.x*D.x6,e);e.A.C7=1;e.A.g=new f5(0,0);if(e.add.prvw==1){var A=e.A.bX;
e.A.C7=Math.min(.9*A.s,W.WU()*1030)/595.44;e.A.g.y=595.44*.5*e.A.C7-A.T*.5+A.s*.07;e.m.U6=B;var s=W._m.aNN(e,null,gs.vc(e.m.U6,e)),A=e.A.bX,a=e.A.UK(A.s/2,A.T*.333);
if(s)e.A.g.y+=(a.y-s[1].y)*e.A.C7}else{var D=e.A.DH();D.TG();if(e.add.prvw!=1)e.A.g.x=-gs.vc(e.m.U6,e)*D.x6;
e.XU=!0}e.A.yO=e.A.g.Y();e.A.Zi=e.A.C7}}var M=0,$=!1,U=null;if(z.p=="adapt"){var o=0;if(z.u=="pixel")o=1;
if(z.u=="fitscr"){var o=0,t=e.A.bX.s,c=e.A.bX.T,H=new kk(0,0,e.s,e.T),F=T.R.iR(H).J,i=new e5;i.rotate(e.A.gV);
T.R.v(F,i,F);var X=T.R.mB(F),K=P.pq?T.tR._l+4:8;o=Math.min((t-K*2)/X.s,(c-K*2)/X.T);e.A.g.mX(0,0)}U=new f5(Math.round(e.A.bX.s/2),Math.round(e.A.bX.T/2));
M=o;W.jH.zo(e.A,U,$,M);e.y8=!0}if(z.p.startsWith("multi")){function f(Q){var Y=Q[0].x-Q[1].x,R=Q[0].y-Q[1].y;
return Math.sqrt(Y*Y+R*R)}function d(Q){return new f5((Q[0].x+Q[1].x)/2,(Q[0].y+Q[1].y)/2)}function L(Q){var Y=Q[0].x-Q[1].x,R=Q[0].y-Q[1].y;
return Math.atan2(R,Y)}var G=z.uL,x=d(G);if(z.p=="multidown"){this.YX=[G,e.A.C7,e.A.UK(x.x,x.y),e.A.gV]}else{var O=W.jH.ae;
M=this.YX[1]*f(G)/f(this.YX[0]);M=Math.max(O[O.length-1],Math.min(O[0],M));if(M!=e.A.C7)W.jH.zo(e.A,x,$,M);
var v=this.YX[2],C=e.A.Gb(v.x,v.y),S=e.A.g;S.x=Math.round(S.x+x.x-C.x);S.y=Math.round(S.y+x.y-C.y);var j=this.YX[3]+(L(G)-L(this.YX[0])),w=2*Math.PI,u=[0,w/4,w/2,w*3/4,w];
while(j<0)j+=w;j=j%w;for(var n=0;n<u.length;n++)if(Math.abs(j-u[n])<.08){j=u[n];break}if(cW<2)e.A.gV=j;
e.y8=!0}}if(z.p=="scroll"){U=z.BW;var O=W.jH.ae,l=z.Ew.y,I=1+Math.abs(l)*8e-4*(z.aMb?10:1);if(l>0)I=1/I;
M=e.A.C7*I;W.jH.zo(e.A,U,$,Math.min(O[0],Math.max(O[O.length-1],M)));e.y8=!0}if(z.p=="zoom"){var Q=z.uv?q.nk:[e];
for(var n=0;n<Q.length;n++){var b=Q[n],p=b.A;U=z.BW?z.BW:new f5(Math.round(p.bX.s/2),Math.round(p.bX.T/2));
if(z.C7!=null)M=z.C7;else $=z.pn;W.jH.zo(p,U,$,M);b.y8=!0}}if(z.p=="mskView"){var k=e.Z[e.j[0]];if(k.oT<=0){k.oT=1;
e.$k=!0}var g=k.oT==3?k.kL(e).Eo:k.OX();if(z.u==0){e.A.Ox=[1,1,1];g.eq=!1}if(z.u==1){e.A.Ox=[1,1,1];
g.eq=!0}if(z.u==2){e.A.Ox=[0,0,0];g.eq=!0}for(var n=0;n<e.kv.length;n++)e.kv[n].eq=!1;e.C2=[];e.XU=!0}};
W.jH.prototype.gi=function(z,q,e,V){if(this.TG!=V.t(cz.mh)){this.TG=V.t(cz.mh);var P={p:_.m.R9,U:this.id,TG:this.TG},D=new dW(_.E.b,!0);
D.data=P;q.K(D);this.x$(q,V)}};W.jH.prototype.x$=function(z,q){var e=new dW(_.E.b,!0),V=this.apV(q);
e.data={p:_.m.XL,ia:V?"zoom-in":"zoom-out"};z.K(e)};W.jH.prototype.Ne=function(z,q,e,V){this.pn=z.pn;
this.uv=z.uv;this.x$(q,V)};W.jH.prototype.apV=function(z){var q=this.pn;if(z.t(cz.ii)&&z.t(cz.EF))q=!0;
if(this.TG)q=!q;return q};W.jH.aCq=function(z,q){if(z.t(cz.Zj)||z.t(cz.avF)){q.U=W.OF;q.data={p:"zoom",pn:!0}}if(z.t(cz.w1)){q.U=W.OF;
q.data={p:"zoom",pn:!1}}if(z.t(cz.rJ)){q.U=W.OF;q.data={p:"adapt",u:"fitscr"}}if(z.t(cz.bC)){q.U=W.OF;
q.data={p:"adapt",u:"pixel"}}};W.H6=function(z,q,e){W.__.call(this,z,q,e);this.Va=null;this.i=null;this.Av=null;
this.a5z=0;this.VO=null;this.rc=-1;this.aC6=null;this.aqH=null};W.H6.prototype=new W.__;W.H6.KV=function(z,q){var e={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},V=z==null?{classID:"null",null:e,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:e,Usng:{t:"type",v:{classID:z}},__name:"Stroke"};
if(q)V.Prs={t:"bool",v:!0};return{gQ:z==null?"fill":"stroke",cj:V}};W.H6.EJ=function(n){var z={t:"Enmr",v:{classID:"Path",typeID:"Path",enum:"vectorMask"}},V;
if(n==3){var q=fw.y5("Lyr",!0);q.v.unshift(z);return{gQ:"delete",cj:{classID:"Dlt",null:q}}}var q=fw.y5("Path"),e={t:"obj ",v:[z]};
if(n<2)V={t:"enum",v:{vectorMaskEnabled:n==0?"RvlA":"HdAl"}};else V=fw.y5("Path",!0);return{gQ:"make",cj:{classID:"Mk",null:q,At:e,Usng:V}}};
W.H6.prototype.enable=function(z,q,e,V,P){this.i=e;var D=new dW(_.E.b,!0);D.data={p:_.m.XL,ia:"default"};
q.K(D)};W.H6.prototype.D1=function(z,q,e,V,P){var D=z.Kn(),B=D[0],A=D[1];if(A.length==0)return;var s=B[A[0]],a=s.add.vmsk,M=z.A.UK(P.x,P.y),$=4*W.WU()/z.A.C7,U=new kk(M.x-$,M.y-$,$*2,$*2),o=T.S.W4(a.B,U)[0];
if(o.length!=0){a.V3=o;z.XU=!0}var t=T.S.U8(a.B,M).XW;if(t!=-1){a.j=[t];z.XU=!0}var c=new dW(_.E.b,!0);
c.data={p:_.m.R9,U:this.id,uA:P,x2:z,i:e};q.K(c)};W.H6.prototype.aBM=function(z,q){var e=new dW(_.E.b,!0);
e.data={p:_.m.Ln,Lh:cR._x};if(!q.s2)z.K(e);e.data={p:_.m.Ln,Lh:cR.Ex};if(!q.Y8.yj)z.K(e)};W.H6.prototype.zs=function(z,q,e,V,P){if(this.VO&&this.rc==-1){console.log("updating over live");
this.n6(z,e)}if([W.v8,W.Ms,W.GN,W.jx,W.pY].indexOf(this.id)!=-1)W.__.a2r.call(this,z,q,e,V);if(z==null)return;
if(e.Ai!=this.id&&P==null)return;if(z.j.length==0)return;var D=z.Z[z.j[0]],B=D.add.vmsk,A=D.add.vstk;
if(cW==0){var s=az.W0(D.add);this.Va=z;this.Av=q;if(D.mp()&&B!=null&&(JSON.stringify(A)!=JSON.stringify(e.Fh)||JSON.stringify(s)!=JSON.stringify(e.wY))){this.a5z=Date.now();
var a=new dW(_.E.b,!0);a.data={p:_.m.Ln,Lh:cR.wg,u:s};q.K(a);a.data={p:_.m.Ln,Lh:cR.Vj,u:A};q.K(a)}}else{var M=null;
for(var n=0;n<z.j.length;n++){var D=z.Z[z.j[n]],$=D.add.vstl;if($==null)continue;if(M==null)M=T.G($);
else{for(var U in $){if(M[U]==null)continue;if($[U]==$.i8){if(JSON.stringify($[U])!=JSON.stringify(M[U]))delete M[U]}else if($[U]==$.oO){if(JSON.stringify($[U])!=JSON.stringify(M[U]))delete M[U]}else if($[U]!=M[U])delete M[U]}}}if(M==null)return;
var o=JSON.stringify(M);if(o!=JSON.stringify(e.kQ)){var a=new dW(_.E.b,!0);a.data={p:_.m.Ln,Lh:cR.gF,u:M};
q.K(a)}}};W.H6.prototype.K5=function(z,q){if(q==cR.qU||q==cR.zu)this.zs(null,null,z,null);if(this.Va==null)return;
if(q==cR.zu||q==cR.wg||q==cR.Vj){if(Date.now()-this.a5z<50)return;var e=q==cR.wg,V=this.Va,P=e?z.wY:z.Fh,D=[],B=V.j;
for(var n=0;n<B.length;n++){var A=B[n],s=V.Z[A];if(!s.mp()||s.add.vmsk==null)continue;D.push(A)}var a=new dW(_.E.z,!0);
a.U=W.si;a.data={p:lK.eB,ML:D,vt:e,u:P};if(D.length!=0)this.Av.K(a)}};W.H6.prototype.aj2=function(z){if(typeof z=="number"){var q=new dW(_.E.zN,!0);
q.data=W.LR.J8(0);q.data.cj.Usng.v.Type.v.Clr.v=T.Yf.e8({l:z>>>16&255,I:z>>>8&255,c:z>>>0&255});this.Av.K(q)}};
W.H6.prototype.If=function(z,q,e,V,P){this.Av=q;if(z.p=="newfill"){if(z.DO==0){var D=new dW(_.E.b,!0);
D.data={p:_.m.wa,rF:"colorpicker",go:P.pQ,QW:this.aj2.bind(this)};q.K(D)}}else if(z.p=="smplp"){if(e==null)return;
var B=e.Kn(),A=B[0],s=B[1];if(s.length==0){alert("No paths selected");return}var a=A[s[0]];if(a.add.vmsk.j.length<=0){alert("No paths selected");
return}if(this.Kw==null){this.Kw=a.add.vmsk.Y();this.YC=JSON.stringify(a.add.vogk);this.jC=a;this.Va=e}var D=new dW(_.E.b,!0);
D.data={p:_.m.wa,rF:"simplifypath",Zz:100,Wm:this.aJo.bind(this)};q.K(D)}else if(z.p=="pathedit"){var M=z.kE,$="",U=e.yj.slice(0),o=e.o0.slice(0),t=e.yj.slice(0),c=e.o0.slice(0),H=e.Fi,F=e.Fi;
if(M=="rnm"){var i=-1-z.XW,X=U[i],K=hq.Hj(z.name,X.add);if(i!=0)t[i]=K;else{c=[t.length];t.push(K);t[0]=hq.Hj("Work Path")}$="Rename"}else if(M=="sspath"){if(z.u==-1){F=-1;
c=[]}else if(z.u==1&&e.Fi!=-1)c=[e.Fi];else if(e.o0.length!=0){if(e.s_){alert("Symmetry can't be used in the Pattern Preview");
return}F=e.o0[0]}else return;$="Symmetry"}else if(M=="new"){var K=hq.Hj("Path "+U.length);if(z.tT)K=z.tT;
if(z.aih){var B=e.Kn(),A=B[0],s=B[1],f=A[s[0]];K.add.vmsk=f.add.vmsk.Y();K.add.vogk=T.G(f.add.vogk);
if(f.XW==-1){var d=t[c[0]]=hq.Hj("Path "+U.length);d.name=f.name;d.XW=f.XW}}t.push(K);c=[t.length-1];
$="New";if(z.IT!=null){if(e.s_){alert("Symmetry can't be used in the Pattern Preview");return}var L=z.IT[0],G=z.IT[1];
K.name=iE.get(T.NO.list[L][0]);var x=T.NO.av(L,G),O=Math.min(e.s,e.T),v=(e.s-O)/2,C=(e.T-O)/2;T.R.v(x.J,new e5(O,0,0,O,v,C),x.J);
K.add.vmsk.B=T.R.XI(x);K.IT=[T.NO.list[L][1],G];F=c[0];$="New Symmetry"}}else if(M=="del"){if(e.L3&&e.L3.length!=0){var D=new dW(_.E.zN,!0);
D.data=W.H6.EJ(3);q.K(D)}if(c.length==0)return;c.sort(function(j,g2){return j-g2});if(c[0]==0){t[0]=hq.Hj(U[0].name);
c=c.slice(1)}var S=0;while(c.length!=0){t.splice(c[0]-S,1);c=c.slice(1);S++}$="Delete"}else if(M=="fromsel"){var a=t[0]=hq.Hj("Work Path");
c=[0];W.H6.arn(e.h,a);$="Selection to"}var j=new ji($+" Path",this);j.data={az:U,auu:o,aaw:t,atU:c,aG3:H,alr:F};
if(M=="fromsel"){j.data._Q=e.h;j.data.Nz=null}e.Q6(j);this.Yi(j.data,e);if(M=="new"&&z.IT||M=="sspath"&&z.u!=-1){var D=new dW(_.E.b,!0);
D.data={p:_.m.uB,U:W.Rs};q.K(D)}}else{var w=z.JJ,B=e.Kn(z.p=="append"||z.p=="fromAction"),A=B[0],s=B[1],a=A[s[0]],u=a.add.vmsk,l=a.add.vogk,I=u.Y(),Q=u.Y(),b=JSON.stringify(l);
if(z.p=="fromAction"){var p=z.Wp,k=p.gQ,g=p.cj,Y=g.T;if(k=="set"){if(Y){l=[T.w0.J_(Y,e.s,e.T)];Q.B.push({e:0,xq:1,length:0});
T.w0.BS(l,Q);w=[12,76,0]}else throw g}else if(k=="draw"){l=[T.w0.J_(g.Shp,e.s,e.T)];Q.B.push({e:0,xq:1,length:0});
T.w0.BS(l,Q);W.H6.ako(Q.B,g.AntA.v,P.pQ,q);return}else throw k}else if(z.p=="remove"){if(z.ty&&Q.V3.length!=0){Q.B=T.S.asS(Q.B,Q.V3,l,z.aD9);
var R=T.S.S2(Q.B);for(var n=0;n<Q.j.length;n++)if(Q.j[n]>=R){Q.j.splice(n,1);n--}Q.V3=[];w="Delete Anchors"}else{if(Q.j.length==0)return;
var S=0;for(var n=0;n<Q.j.length;n++){l.splice(Q.j[n]+S,1);S--}Q.B=T.S.a5a(Q.B,Q.j);Q.j=[];Q.V3=[];if(w==null)w="Delete Paths"}}else if(z.p=="average"){if(Q.V3.length==0){alert("Select points first");
return}var m=0,Z=0,R=0;for(var n=0;n<Q.V3.length;n++){var E=Q.B[Q.V3[n]];m+=E.O0.x;Z+=E.O0.y;R++}m/=R;
Z/=R;for(var n=0;n<Q.V3.length;n++){var E=Q.B[Q.V3[n]],N=new f5(m-E.O0.x,Z-E.O0.y);E.li=E.li.add(N);
E.O0=E.O0.add(N);E.kS=E.kS.add(N)}w=[24,3,0]}else if(z.p=="join"){if(Q.V3.length!=2){alert("Select two points");
return}var h=Q.B,j5=T.S.HG(h,Q.V3[0],!0),r=T.S.ha(h,j5,!0),l8=T.S.HG(h,Q.V3[1],!0),aP=T.S.ha(h,l8,!0),bS=h[r],kR=h[aP];
if(bS.e==0||kR.e==0){alert("You can only join points of open paths.")}if(j5==l8){for(var n=0;n<bS.length+1;
n++)h[r+n].e-=3}else{var bS=Math.min(Q.V3[0],Q.V3[1]),kR=Math.max(Q.V3[0],Q.V3[1]),j1=Math.min(r,aP),f6=Math.max(r,aP),j5=h[j1],l8=h[f6];
if(bS==j1+1)T.S.uK(h,j1);if(kR==f6+l8.length)T.S.uK(h,f6);var gx=j1+j5.length+1,lC=f6+l8.length+1;Q.B=h=h.slice(0,gx).concat(h.slice(f6+1,lC)).concat(h.slice(lC,f6)).concat(h.slice(lC));
j5.length+=l8.length;if(f5.h5(h[gx-1].O0,h[gx].O0)<.1){h[gx-1].kS=h[gx].kS;h.splice(gx,1);j5.length--}}w="Join Paths"}else if(z.p=="append"){W.H6.A2(z.ju,Q,l)}this.Ju(e,a.XW,Q,l);
this.Y4(e,w,a.XW,I,Q.Y(),null,b,JSON.stringify(l))}};W.H6.arn=function(z,q){if(z==null)return;var e=z.o.slice(0);
for(var n=0;n<e.length;n++)e[n]=e[n]>128?2:1;var V=z.V.Y();V.Gm(1,1);var P=T.n(V.D());T.KY(e,z.V,P,V);
var D=jL.UW(P,V.s,V.T,Math.round(V.D()*2e-5)),B=jL.Kn(D),A=new e5(1,0,0,1,-1+z.V.x,-1+z.V.y);for(var n=0;
n<B.length;n++)T.R.v(B[n].path.J,A,B[n].path.J);for(var n=0;n<B.length;n++){var s=B[n];if(s.color==1&&s.parent==-1)continue;
var a=T.R.XI(B[n].path,!1);a[2].xq=0;q.add.vmsk.B=q.add.vmsk.B.concat(a.slice(2))}q.add.vogk=lK.T4(q.add.vmsk.B)};
W.H6.ako=function(z,q,e,V){var P=new lK.cI;P.B=P.B.concat(z.slice(2));var D=P.OX();if(!q)T.round(D.o);
var B=T.n(D.V.D()*4);T.FH(B,(e&255)<<16|(e>>8&255)<<8|(e>>16&255)<<0);T.yR(D.o,B,3);var A=new dW(_.E.z,!0);
A.U=W.YO;A.data={p:"draw",QS:{buffer:B,V:D.V.Y()},JJ:this.name};V.K(A)};W.H6.Ra=function(z,q){var e=T.S.aqq(z.B,z.j),V=[];
for(var n=0;n<z.j.length;n++)V.push(T.G(q[z.j[n]]));return[e,V]};W.H6.A2=function(z,q,e){var V=T.S.S2(q.B),P=T.S.S2(z[0]);
q.B=q.B.concat(z[0].slice(2));q.j=[];for(var n=0;n<P;n++)q.j.push(V+n);for(var n=0;n<P;n++)e.push(T.G(z[1][n]))};
W.H6.prototype.Hp=function(z,q){if(q==null)return!1;var e=q.Kn(),V=e[0],P=e[1];if(P.length==0)return!1;
var D=V[P[0]],B=D.add.vmsk;if(B&&B.j.length+B.V3.length!=0)return[cz.Dv,cz.QI].indexOf(z)!=-1};W.H6.prototype.gi=function(z,q,e,V){if(z==null)return;
var P=z.Kn(),D=P[0],B=P[1];if(B.length==0)return;var A=D[B[0]],s=A.add.vmsk;if(V.t(cz.Nf)||V.t(cz.JN)||this.id==W.qm&&V.t(cz.qv)&&s.V3.length==1){s.V3=[];
z.XU=!0}if(s.j.length!=0){var a=V.bh(z?z.A.gV:0);if(a.x!=0||a.y!=0){var M=s.Y(),$=s.Y(),U=new e5(1,0,0,1,a.x,a.y),o=A.add.vogk,t=JSON.stringify(o);
if(V.t(cz.mh)){var c=W.H6.Ra($,o);W.H6.A2(c,$,o)}T.S.Z8($.B,U,$.j);T.w0.v(o,T.O.Ak(U),$.j);this.Ju(z,A.XW,$,o);
this.Y4(z,"Move Paths",A.XW,M,$.Y(),!0,t,JSON.stringify(o))}if(V.t(cz.Dv)||V.t(cz.QI))this.If({p:"remove",ty:this.id==W.qm},q,z,V,e)}};
W.H6.prototype.Y4=function(z,q,e,V,P,D,B,A){var s=new ji(q,this);s.data={Jb:e,aqQ:V,HS:P,aaS:D,aPr:B,aOV:A};
z.Q6(s)};W.H6.prototype.Yi=function(z,q){if(z.Jb!=null)this.Ju(q,z.Jb,z.HS.Y(),JSON.parse(z.aOV));else{q.yj=z.aaw.slice(0);
q.o0=z.atU.slice(0);q.XU=q.$k=!0}if(z._Q||z.Nz){q.h=z.Nz;q.ZI=!0}if(z.alr!=null)q.Fi=z.alr};W.H6.prototype.I7=function(z,q){if(z.Jb!=null)this.Ju(q,z.Jb,z.aqQ.Y(),JSON.parse(z.aPr));
else{q.yj=z.az.slice(0);q.o0=z.auu.slice(0);q.XU=q.$k=!0}if(z._Q||z.Nz){q.h=z._Q;q.ZI=!0}if(z.aG3!=null)q.Fi=z.aG3};
W.H6.prototype.Ju=function(z,q,e,V){var P=q<0?z.yj[-1-q]:q<1e6?z.Z[q]:z.Z[q-1e6].add.TySh,D=P.add.vmsk;
D.o=null;D.Ug=!0;if(D.Ro){D.Ro.o=null;D.Ro.Ug=!0}P.add.vmsk=e;P.add.vogk=V;if(1e6<=q){dc._6(P);var B=z.Z[q-1e6],A=P,s=this.i;
ey.tM(B,s.Se);z.Kv()}else if(0<=q){e.Ug=!0;P.ly(z);z.Kv()}z.XU=z.$k=!0};W.H6.prototype.n6=function(z,q,e){if(!e)this.akK(z,q);
var V=z.Kn(),P=V[0],D=V[1];for(var B=0;B<D.length;B++){var A=P[D[B]],s=T.w0.acs(A.add.vogk,A.add.vmsk.j,z.A);
if(s==null)continue;z.XU=!0;if(s[1])z.X.cU=s[1];if(e){this.VO[0]=s;return}var a=new ik(s[3],!1,!1);a.kd(z,q);
this.VO=[s,a,A]}};W.H6.prototype.akK=function(z,q){var e=this.VO;if(e==null)return;z.X.cU=[];z.X.QZ=[];
e[1].clear(z);this.VO=null};W.H6.prototype.a0f=function(z,q,e,V,P){var D=this.VO,B=this.rc;if(D==null)return!1;
var A=z.A.UK(P.x,P.y);if(B!=-1){var s=D[0],a=D[1],M=D[2],$=this.Kw.Y(),U=JSON.parse(this.YC);if(B==10){D[1].Sf(z,e,V,A);
var o=T.O.AX(D[1].Uv()),t=T.O.yW(o,T.O.TG(this.aqH));T.w0.v(U,t,$.j);T.w0.BS(U,$);this.Ju(z,M.XW,$,U)}else{var c=JSON.parse(this.aC6),H=new f5(s[2][B*2],s[2][B*2+1]),F=new f5(s[4][0],s[4][1]),i=Math.round(f5.h5(H,A)/Math.sqrt(2));
if(f5.h5(A,F)>f5.h5(H,F))i=0;W.__.jq(P.x+20,P.y,[iE.get([12,56])+": "+i+" px"],z);if(c[0]==8)c[3]=i;
else{var X=i-c[3][B];if(V.t(cz.mh))c[3][B]=i;else for(var n=0;n<4;n++)c[3][n]=Math.max(c[3][n]+X,0)}var K=new dW(_.E.z,!0);
K.U=W.si;K.data={p:lK.wF,u:c};q.K(K)}this.n6(z,e,!0);return!0}else{var f=D[1].s1(A,z.A.C7,!0);if(f==null&&D[0][1]){var d=T.R.NV(D[0][1],A.x,A.y,7/z.A.C7);
if(d!=-1)f="default"}var K=new dW(_.E.b,!0);K.data={p:_.m.XL,ia:f?f:W._u()};q.K(K)}};W.H6.prototype.a3o=function(z,q,e,V,P){var D=this.VO;
if(D==null)return!1;var B=z.A.UK(P.x,P.y),A=-1;if(D[1].s1(B,z.A.C7,!0)&&D[1].Qy(z,e,V,B))A=10;else if(D[0][1]){var s=T.R.NV(D[0][1],B.x,B.y,7/z.A.C7);
if(s!=-1)A=s}if(A!=-1){var a=D[2];this.Kw=a.add.vmsk.Y();this.YC=JSON.stringify(a.add.vogk);this.rc=A;
this.aC6=JSON.stringify(T.w0.AX(z));this.aqH=T.O.AX(D[1].Uv());return!0}};W.H6.prototype.arj=function(z,q,e,V,P){var D=this.VO,B=this.rc;
if(B==-1)return!1;var A=z.A.UK(P.x,P.y);if(B==10){D[1].AM(z,e,V,A);var s=D[2];this.Y4(z,[10,16],s.XW,this.Kw,s.add.vmsk,null,this.YC,JSON.stringify(s.add.vogk))}this.rc=-1;
this.n6(z,e)};W.LR=function(z,q,e,V){W.H6.call(this,z,q,e);this.r1={shape:lh.g1(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{L:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.a7z=V;this.Fy=null;this.aBh=null;this.Hk=null;this.pp=new c3};W.LR.prototype=new W.H6;W.LR.prototype.VV=function(z){return z._W&&this.id!=W.Al};
W.LR.prototype.enable=function(z,q,e,V,P){this.i=e;var D=new dW(_.E.b,!0);D.data={p:_.m.XL,ia:W._u()};
q.K(D);this.n6(z,e)};W.LR.prototype.disable=function(z,q,e,V){this.akK(z,e)};W.LR.prototype.gi=function(z,q,e,V){W.H6.prototype.gi.call(this,z,q,e,V);
this.pp.gi(V);this.$t(q,e)};W.LR.prototype.$t=function(z,q){var e=new dW(_.E.b,!0);e.data={p:_.m.R9,U:this.id,Qc:this.dn(q)};
z.K(e)};W.LR.prototype.dn=function(z){var q=this.pp.Lf(0),e=this.pp.Mg(0),V=W.cn.Oe(this.r1.binop,q,e),P=this.id==W.Al?z.EW:z.LS;
if(P==1&&V==0)V=1;return V};W.LR.prototype.DA=function(z,q,e,V){};W.LR.prototype.Qy=function(z,q,e,V,P){if(this.a3o(z,q,e,V,P))return;
var D=this.id==W.Al?e.EW:e.LS;if(D!=2)this.aBM(q,e);if(D==2&&!z.Ov())return;var B=z.A.UK(P.x,P.y);B=W.DL.N8(z,B,e);
this.Hk=[B.x,B.y];this.Fy=B;this.aBh=new f5(0,0);this.pp.Qy(V)};W.LR.prototype.aJg=function(z,q,e,V){var P=[this.Fy.Y(),q.Y()];
e=this.pp.Lf(1)||e.t(cz.XQ)||this.pp.Mg(1)?e:null;if(this.a7z)P=W.LR.iu(P[0],P[1],e,!0,this.r1.cstr);
if(z)z.A.hj=new kk(P[0].x,P[0].y,P[1].x-P[0].x,P[1].y-P[0].y);return this.DA(P[0],P[1],this.pp.Lf(1)&&e.t(cz.XQ),this.Hk,z.A,V)};
W.LR.prototype.a3m=function(z,q,e){var V=z.A.UK(q.x,q.y);if(this.id==W.Al)return V;var P=this.r1.cstr;
if(P.L==2){var D=new kk(V.x-P.x,V.y-P.y,P.x,P.y),B=W.DL.ZH(z,D,e);V.x+=B[0];V.y+=B[1];W.DL.LA(z,D,B)}else V=W.DL.N8(z,V,e);
return V};W.LR.prototype.Sf=function(z,q,e,V,P){if(this.a0f(z,q,e,V,P))return;if(this.Fy==null)return;
var D=this.Hk,B=D.length,A=P?this.a3m(z,P,e):new f5(D[B-2],D[B-1]);if(V.t(cz.ii))this.Fy=A.SV(this.aBh);
else this.aBh=A.SV(this.Fy);D.push(A.x,A.y);if(this.r1.shape==null)this.r1.shape=e.u_[0];var s=this.aJg(z,A,V,!0)[0],a=T.R.EP(s);
z.X.NI=a;if(this.id!=W.Al&&this.id!=W.GN&&this.id!=W.jx)W.__.Lq(P,z.A.hj,z,e);z.XU=!0;this.pp.Sf()};
W.LR.prototype.aao=function(z,q,e,V){var P=z[4].Y();if(V){P.x-=q/2;P.y-=e/2}if(this.id==W.GN){q/=2;e/=2;
P.x+=q;P.y+=e;e=-e;q=0}var D=this.DA(P,new f5(P.x+q,P.y+e),!1,this.Hk);this.adl(z[0],z[1],z[2],D)};W.LR.prototype.adl=function(z,q,e,V){var P=this.id==W.Al?e.EW:e.LS,D=new dW(_.E.zN,!0);
if(P==0)D.data=W.LR.azW(V[1],e);else if(P==1){var B={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:V[1]};
D.data={gQ:"set",cj:B}}else{var B={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:V[1]};D.data={gQ:"draw",cj:B}}q.K(D);
if(V[1].v.classID=="customShape"&&V[1].v.Nm.v.startsWith("--")){var A=z.Kn(),s=A[0],a=A[1],M=s[a.pop()],$=M.add.vmsk,U=M.add.vogk;
T.w0.WV(U);var o=$.Y();o.B=V[0];this.Ju(z,M.XW,o,U)}if(this.id==W.v8||this.id==W.Ms){var A=z.Kn(),s=A[0],a=A[1],M=s[a.pop()],$=M.add.vmsk;
$.j=[0];this.n6(z,e)}};W.LR.prototype.AM=function(z,q,e,V,P,D){if(this.arj(z,q,e,V,P))return;if(this.Fy==null)return;
var B=this.a3m(z,P,e),A=this.dn(e),s=this.id==W.Al?e.EW:e.LS,a=this.Hk,M=a.length;if(this.id==W.Al&&M<=4){}else if(M<=4){B.x=Math.round(B.x);
B.y=Math.round(B.y);var $=new dW(_.E.b);$.data={p:_.m.wa,rF:"createshape",aFD:this.aao.bind(this),aHA:this.name,aLD:[z,q,e,V,B]};
if(!D)q.K($)}else if(M!=2){var U=this.aJg(z,B,V),o=U[0],t=z.Kn(!0),c=t[0],H=t[1],F=H.length-1;if(s==1&&o.length>2||s==0&&A!=0&&F!=-1&&c[H[F]].XW>=0){o[2].xq=[1,2,3,0][A-1];
var i=c[H.pop()],X=i.add.vmsk,K=i.add.vogk,f=X.Y(),d=X.Y(),L=JSON.stringify(K);d.B=d.B.concat(o.slice(2));
d.j=[T.S.S2(d.B)-1];var G=T.w0.J_(U[1]);K.push(G?G:T.w0.hz());this.Ju(z,i.XW,d,K);this.Y4(z,this.name,i.XW,f,d,null,L,JSON.stringify(K))}else if(s==0){this.adl(z,q,e,U)}else if(s==2){W.H6.ako(o,this.r1.anta,e.pQ,q)}}this.Fy=null;
z.X.NI=null;z.X.P7=null;z.X.QZ=[];z.A.hj=null;z.XU=!0;this.pp.AM();this.$t(q,e)};W.LR.prototype.Ne=function(z,q,e,V,P){for(var e in z)this.r1[e]=z[e]};
W.LR.iu=function(z,q,e,V,P){var D=z.x,B=z.y,A=q.x,s=q.y;if(P&&P.L==2){if(V){A=Math.round(A);s=Math.round(s)}D=A-P.x;
B=s-P.y}else{var a=0;if(P&&P.L==1)a=P.y/P.x;else if(e&&e.t(cz.XQ))a=1;if(a!=0){if(V){if(D<A)D=Math.floor(D);
else D=Math.ceil(D);if(B<s)B=Math.floor(B);else B=Math.ceil(B)}var M=Math.abs(A-D),$=Math.abs(s-B),U=M;
if($/M<a)U*=$/M/a;A=A>D?D+U:D-U;s=s>B?B+U*a:B-U*a}if(e&&e.t(cz.mh)){D-=A-D;B-=s-B}}var z=new f5(D,B),q=new f5(A,s);
if(V)W.LR.a5K(z,q);return[z,q]};W.LR.a5K=function(z,q){if(z.x>q.x){var e=z.x;z.x=q.x;q.x=e}if(z.y>q.y){var e=z.y;
z.y=q.y;q.y=e}z.x=Math.floor(z.x);z.y=Math.floor(z.y);q.x=Math.ceil(q.x);q.y=Math.ceil(q.y)};W.LR.aH8=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
W.LR.J8=function(z,q){var e=W.LR.aH8(),V=e.Usng.v.Type;if(q==null){V.v=T.G(az.zO[z]);V.v.classID=["solidColorLayer","gradientLayer","patternLayer"][z]}else W.NU.Ey(q,V.v,z);
return{gQ:"make",cj:e}};W.LR.azW=function(z,q){var e=q.wY,V=T.G(q.Fh);V.fillEnabled.v=e.y3!=0;var P=W.LR.J8(Math.max(0,e.y3-1),e.j5);
P.cj.Usng.v.Shp=z;P.cj.Usng.v.strokeStyle={t:"Objc",v:V};return P};W.dM=function(z){W.H6.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][z],[W.qm,W.axN,W.acc,W.az5,W.awI][z],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][z]);
this.Dh=z;this.w6=null;this.GC=null;this.Kw=null;this.YC=null;this.a6l=0;this.lT=null;this.Q_=!1;this.k4=!1;
this.aD3=!1;this.X_=!1;this.aud=!1;this.ajs=!1;this.oL=0};W.dM.prototype=new W.H6;W.dM.prototype.VV=function(z){return this.Kw!=null};
W.dM.prototype.gi=function(z,q,e,V){if(!V.t(cz.mh))this.aud=!1;if(this.Dh==1&&(V.t(cz.Dv)||V.t(cz.QI))&&this.Hp(cz.Dv,z)){this.If({p:"remove",ty:!0},q,z,V,e);
return}if(this.GC)this.ZP(z,q,e,V,this.GC);W.H6.prototype.gi.call(this,z,q,e,V)};W.dM.prototype.pN=function(z,q,e,V){var P=z.A.UK(V.x,V.y,cW==0),D=W.DL.N8(z,P,q),B=this.Dh,A=q.EW,s=this.a6l;
if(A==2)A=0;var a=z.Kn(),M=a[0],$=a[1],U=$.length==0?null:M[$.pop()],o=U?U.add.vmsk:null;if(A==0&&s!=0&&U&&U.XW>=0)A=1;
var t=W.DG(z,V);if(B<=1&&A==0&&(o==null||o.V3.length==0&&T.S.U8(o.B,P,!0,t).XW==-1))return["new",!0];
if(B<=1&&A==1&&o==null)return["new"];if(o==null)return[null];var c=o.B,H=T.S.W4(c,new kk(P.x-t,P.y-t,t*2,t*2),o.V3,!0),F=T.S.U8(c,P,!0,t);
if(B<3&&F.XW!=-1&&H[0].length==0)return["add"];if((H[3]!=0||F.XW!=-1)&&(e.t(cz.mh)||B==4))return["cnv"];
var i=H[0].length==1&&c[H[0][0]-1]&&(c[H[0][0]-1].O0!=null||c[H[0][0]-1].e==0||c[H[0][0]-1].length==1);
if(i){if(B==3)return["del"];var X=T.S.ha(c,T.S.HG(c,H[0][0],!0),!0);if(H[0][0]==X+c[X].length&&c[X].e==3)return["mon"];
return[B==0||B==3?"del":B==2?"mva":"mov"]}if(B<2){var X=T.S.ha(c,T.S.HG(c,o.V3[0],!0),!0);if(X!=-1&&f5.h5(P,c[X+1].O0)<t)return[o.V3.length==0&&c[X].e==3?"mon":"fin"];
if(o.V3.length!=1)return["new"];return["nrm"]}return[null]};W.dM.prototype.Qy=function(z,q,e,V,P){var D=z.o0.indexOf(0)!=-1,B=z.A.UK(P.x,P.y,cW==0),A=W.DL.N8(z,B,e),s=this.Dh,a=e.EW,M=this.a6l;
if(a==2)a=0;var $=z.Kn(a==1),U=$[0],o=$[1],t=U[o.pop()],c=t?t.add.vmsk:null;if(a==0&&M!=0&&t&&t.XW>=0)a=1;
var H=W.DG(z,P),F=this.pN(z,e,V,P);if(F[0]==null)return;if(F[1]){var i=new dW(_.E.zN,!0),X=T.w0.Tk("customShape",[0,0,1,1],null,null,null,"--");
i.data=W.LR.azW(X,e);q.K(i);this.ajs=!0;$=z.Kn(!0);U=$[0];o=$[1];t=U[o.pop()];c=t.add.vmsk;c.B=c.B.slice(0,2)}var K=t.add.vogk,f=c.B;
this.Kw=c.Y();this.YC=JSON.stringify(K);if(t.name=="Work Path"&&!D){f=c.B=f.slice(0,2);K=[]}this.w6=P;
this.aBM(q,e);var d=T.S.W4(f,new kk(B.x-H,B.y-H,H*2,H*2),c.V3,!0),L=T.S.U8(f,B,!0,H,!0);if(F[0]=="add"){var G=T.S.ha(f,L.XW,!0),x=f[G].length,O={e:4,li:A.Y(),O0:A.Y(),kS:A.Y()},v=G+2+L.b3,C=G+1+(1+L.b3)%x,S=f[v-1],j=f[C];
if(!S.O0.bs(S.kS)||!j.li.bs(j.O0)){var w=T.R.auY(S.O0,S.kS,j.li,j.O0,L.mZ);S.kS=w[0];O.li=w[1];O.O0=w[2];
O.kS=w[3];j.li=w[4]}this.X_=!0;f.splice(v,0,O);f[G].length++;c.V3=[v];if(s==1){O.li.x+=2;this.$C(c)}}else if(F[0]=="cnv"){var u=-1;
if(d[0].length!=0){u=d[0][0];var l=f[u],I=l.e>=3?3:0,Q=u==f.length-1;l.e=I+1;if(!(s==4&&V.t(cz.mh))&&!(s==0&&Q))l.li=l.O0.Y();
l.kS=l.O0.Y();this.X_=!0;if(s==0&&!Q)this.aud=!0}else if(d[1].length+d[2].length!=0){var u=d[2][0];if(u==null){u=d[1][0];
this.k4=!0}var l=f[u],I=l.e>=3?3:0;l.e=I+2}else u=T.S.ha(f,L.XW,!0)+L.b3+1;if(u!=-1)c.V3=[u]}else if(F[0]=="mva"){this.aD3=!0;
c.V3=[d[0][0]]}else if(F[0]=="mov"){var u=d[0][0],b=f[u],p=b.O0,k=Math.abs(T.R.WQ(b.li.x,b.li.y,p.x,p.y,b.kS.x,b.kS.y));
if(k>.01){b.li=p.Y();b.kS=p.Y()}if(Date.now()-this.oL<300){var g=b.li.bs(p)&&b.kS.bs(p);if(g)b.kS.offset(2,2);
else{b.li=p.Y();b.kS=p.Y()}this.oL=0}else this.oL=Date.now();c.V3=[u];this.$C(c)}else if(F[0]=="mon"){var u=d[0][0],G=T.S.ha(f,T.S.HG(f,u,!0),!0);
if(u==G+1){T.S.uK(f,G);u=G+f[G].length}c.V3=[u]}else if(F[0]=="del"){var u=d[0][0],G=T.S.ha(f,T.S.HG(f,u,!0),!0),X=f[G],Y=G+X.length;
if(u!=Y||X.e==0){f[G].length--;f.splice(u,1);Y--;if(X.length==0){f.splice(G,1);Y=-1}}if(Y!=-1)c.V3=[Y];
else c.V3=[]}else if(F[0]=="fin"){var G=T.S.ha(f,T.S.HG(f,c.V3[0],!0),!0);f[G].e=0;c.V3=[G+1];this.lT=A;
this.Q_=!0;this.X_=!0}else{var R=0;if(F[0]=="new"){c.j=[T.S.S2(f)];f.push({e:3,length:1,xq:[1,2,3,0][Math.max(0,M-1)],HO:2,yL:0,xr:0});
R=f.length;K.push(T.w0.hz())}if(F[0]=="nrm"){var G=T.S.ha(f,T.S.HG(f,c.V3[0])),b=G+f[G].length;f[G].length++;
R=b+1;if(b==G+1&&f[G].length!=2)R=G+1}if(V.t(cz.XQ)&&f[R-1]&&f[R-1].O0)A=W.QT.lW(f[R-1].O0,A);var O={e:4,li:A.Y(),O0:A.Y(),kS:A.Y()};
f.splice(R,0,O);c.V3=[R];this.lT=A;if(this.Dh==1){O.li.x+=2;this.$C(c)}this.X_=!0;this.oL=Date.now()}this.Ju(z,t.XW,c,K);
z.XU=!0};W.dM.prototype.$C=function(z){var q=z.B,e=z.V3[0],V=T.S.ha(q,T.S.HG(q,e))+1,P=q[V-1].length;
if(P<3)return;var D=[],B=[];for(var n=0;n<5;n++){var A=V+(e-V-2+n+5*P)%P;B.push(A);var s=q[A].O0;D.push(s.x,s.y)}var a=T.R.aGu(D);
for(var n=1;n<4;n++){var M=n*4,$=q[B[n]],s=$.O0,U=$.li.bs(s)&&$.kS.bs(s);if(!U){$.li.mX(a[M],a[M+1]);
$.kS.mX(a[M+2],a[M+3])}else{$.li=s.Y();$.kS=s.Y()}}};W.dM.prototype.ZP=function(z,q,e,V,P){var D=this.pN(z,e,V,P)[0],B=null;
if(D==null)B="default";else B=W.dM.Tf(D);var A=new dW(_.E.b,!0);A.data={p:_.m.XL,ia:B};q.K(A)};W.dM.prototype.Sf=function(z,q,e,V,P){this.GC=P;
if(this.Kw==null){this.ZP(z,q,e,V,P);return}var D=this.w6;if(D&&f5.h5(D,P)<W.DG({A:{C7:1}},P))return;
this.w6=null;var B=z.A.UK(P.x,P.y),A=W.DL.N8(z,B,e),s=z.Kn(e.EW==1),a=s[0],M=s[1],$=a[M.pop()],U=$.add.vmsk,o=U.B,t=o[U.V3[0]];
if(this.Dh==1){var c=t.O0.bs(t.li)&&t.O0.bs(t.kS);t.O0=B.Y();t.li=B.Y();t.kS=B.Y();if(!c)t.li.x+=2;this.$C(U)}else if(V.t(cz.ii)){if(V.t(cz.XQ))A=W.QT.lW(this.lT,A);
var H=t.O0.SV(t.kS),F=t.li.SV(t.O0);t.kS=A;t.O0=A.add(H);t.li=t.O0.add(F)}else if(this.aD3){var i=t.li.SV(t.O0),X=t.kS.SV(t.O0);
t.O0=A;t.li=t.O0.add(i);t.kS=t.O0.add(X)}else{if(V.t(cz.XQ))A=W.QT.lW(t.O0,A);if(this.k4){var K=t.li;
t.li=t.kS;t.kS=K}if(this.Q_){var f=f5.h5(t.O0,A),d=f==0?0:f5.h5(t.O0,t.kS)/f;t.kS.x=t.O0.x+d*(A.x-t.O0.x);
t.kS.y=t.O0.y+d*(A.y-t.O0.y)}else t.kS=A;var L=t.e>=3?3:0;if(this.X_&&!this.aud)t.e=L+V.t(cz.mh)?2:1;
if(t.e-L==1){t.li=t.O0.add(t.O0.SV(A))}this.lT=A;if(this.k4){var K=t.li;t.li=t.kS;t.kS=K}}this.Ju(z,$.XW,U,$.add.vogk);
z.XU=!0};W.dM.prototype.AM=function(z,q,e,V,P){if(this.Kw==null)return;var D=z.Kn(e.EW==1),B=D[0],A=D[1],s=B[A.pop()],a=s.add.vmsk,M=s.add.vogk;
if(this.Q_){a.V3=[];this.Ju(z,s.XW,a,s.add.vogk)}var $=this.Kw.B.length,U=a.B.length;if(!this.ajs)this.Y4(z,this.Q_?"Close Path":($==U?"Move":$<U?"Add":"Delete")+" Anchor Point",s.XW,this.Kw,a.Y(),null,this.YC,JSON.stringify(M));
this.ajs=!1;this.Q_=!1;this.k4=!1;this.aD3=!1;this.X_=!1;this.Kw=null};W.dM.prototype.Ne=function(z,q,e,V,P){this.a6l=z.binop};
W.dM.arh={};W.dM.Tf=function(z){var q=W.dM.arh[z],e=64,A=2,s=10,a=25,M=5,$=35;if(q)return q;var V=new kk(0,0,e,e),P=-.38,D=T.Hx(e,e);
D.clearRect(0,0,e,e);var B=W.WU();D.save();D.lineWidth=A;D.translate(4-A/2,4-A/2);D.rotate(P);if(B<1.5){var U=.66;
s*=U;a*=U;M*=U;$*=U}D.lineJoin="miter";D.beginPath();if(z=="cnv"){D.moveTo(-s,a);D.lineTo(0,0);D.lineTo(s,a);
D.stroke()}else{D.moveTo(0,0);D.lineTo(s,a);D.lineTo(M,$);D.lineTo(-M,$);D.lineTo(-s,a);D.lineTo(0,0);
D.moveTo(0,0);D.lineTo(0,a);D.fillStyle="white";D.fill();D.stroke();D.fillStyle="black";D.fillRect(-M-1,$,2*M+2,6);
D.beginPath();D.arc(0,a-2,2.5,0,2*Math.PI,!1);D.fill();D.rotate(-P);D.translate(24,7);D.beginPath();
if(z=="add"||z=="del"||z=="new"){D.moveTo(-5,0);D.lineTo(5,0);if(z=="add"){D.moveTo(0,-5);D.lineTo(0,5)}if(z=="new"){D.moveTo(-2.5,-4.5);
D.lineTo(2.5,4.5);D.moveTo(2.5,-4.5);D.lineTo(-2.5,4.5)}}else if(z=="fin")D.arc(0,0,5,0,2*Math.PI,!1);
else if(z=="mov"||z=="mva"){for(var n=0;n<4;n++){D.moveTo(0,0);D.lineTo(-7,0);var o=1+A;D.moveTo(-7+o,-o);
D.lineTo(-7,0);D.lineTo(-7+o,o);D.rotate(Math.PI/2)}}else if(z=="mon"){var t=[-7,0,-3,0,-3,-3,3,-3,3,0,7,0,3,0,3,3,-3,3,-3,0];
D.moveTo(t[0],t[1]);for(var n=2;n<t.length;n+=2)D.lineTo(t[n],t[n+1])}D.stroke()}D.restore();var c=new Uint8Array(D.getImageData(0,0,e,e).data.buffer),H=T.n(e*e);
T.bl(c,H,3);var F=T.n(e*e),i=[3,5,3,4,8,4,3,5,3];i=T.WZ.zt(i);T.WZ.pf(H,F,e,e,i);for(var n=0;n<F.length;
n++)F[n]=Math.min(255,F[n]*2);T.WZ.pf(F,H,e,e,i);for(var n=0;n<H.length;n++)H[n]=Math.min(255,H[n]*2);
var X=c.slice(0);c.fill(255);T.yR(H,c,3);T.w.Mt("norm",X,V,c,V,V,1);W.dM.arh[z]=q={Nm:c,TP:V,ZO:new f5(4,4)};
return q};W.s8=function(){W.LR.call(this,[10,30],W.Al,"tools/fpen",!1)};W.s8.prototype=new W.LR;W.s8.prototype.DA=function(z,q,e,V,P,D){var B=V.length-1,A=Math.sqrt((V[B-1]-V[0])*(V[B-1]-V[0])+(V[B]-V[1])*(V[B]-V[1]))<6/P.C7;
return[T.S.YR(V,A,D),T.w0.Tk("customShape",[0,0,1,1],null,null,null,"--")]};W.uE=function(){W.H6.call(this,[10,27],W.RY,"tools/pselect");
this.v9=null;this.RX=!1;this.jC=null;this.Kw=null;this.aL$=null;this.YC=null;this.aHp=null;this.th=null;
this.Qs=null;this.kp=null};W.uE.prototype=new W.H6;W.uE.prototype.VV=function(z){return z._W};W.uE.TH=function(z,q){var e=z.Kn(),V=e[0],P=e[1];
for(var n=0;n<P.length;n++){var D=V[P[n]],B=D.add.vmsk;for(var A=0;A<B.wi.length;A++){var s=T.S.a7p(B.B,B.wi[A]);
if(s==null)continue;var a=f5.h5(s,q);if(a<5*W.WU()/z.A.C7){var M=z.Z[D.XW-1e6].add.TySh,$=M._1.Curve,U=M.v,o=$.Reversed;
$.Reversed=!1;var $=kB.gL(M._1.Curve);$.Reversed=o;T.R.v($[0],U,$[0]);return[$,A,U.x6*U.at-U.c*U.I$,D]}}}};
W.uE.aiL=function(z,q,e){var V=z[0][0],P=T.R.NV(V,e.x,e.y);q.wi[z[1]]=z[0][1][P];var D=V[P*2],B=V[P*2+1],A=(V[P*2+2]-D)*(e.y-B)-(V[P*2+3]-B)*(e.x-D);
if(z[2]<0)A=-A;q.dX=A>0};W.uE.prototype.Qy=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=z.Kn(),A=B[0],s=B[1],a,M;
for(var n=0;n<s.length;n++){var $=A[s[n]],U=$.add.vmsk,o=T.S.U8(U.B,D).XW;if(o!=-1){this.jC=a=$;M=o}}var t=W.uE.TH(z,D);
if(t){this.Qs=t;this.jC=a=t.pop();M=0}if(a!=null){var U=a.add.vmsk;U.V3=[];var c=U.j.indexOf(M);if(V.t(cz.XQ)){if(c==-1){U.j.push(M);
this.RX=!0}else U.j.splice(c,1)}else{if(c==-1)U.j=[M];this.RX=!0}this.th=T.S.O5(U.B,U.j)}this.v9=D;this.kp=new e0(D);
z.$k=!0;z.XU=!0};W.uE.prototype.Sf=function(z,q,e,V,P){if(this.v9==null)return;var D=z.A.UK(P.x,P.y);
if(this.RX){D=this.kp.Sm(D,V);var B=this.jC;if(this.Kw==null){this.Kw=this.aL$=B.add.vmsk.Y();this.YC=this.aHp=JSON.stringify(B.add.vogk);
if(V.t(cz.mh)){var A=this.Kw.Y(),s=JSON.parse(this.YC),a=W.H6.Ra(A,s);W.H6.A2(a,A,s);this.aL$=A;this.aHp=JSON.stringify(s)}}var A=this.aL$.Y(),s=JSON.parse(this.aHp);
if(this.Qs){W.uE.aiL(this.Qs,A,D)}else{var M=this.th.Y(),$=M.x,U=M.y;M.offset(D.x-this.v9.x,D.y-this.v9.y);
M.x=Math.round(M.x);M.y=Math.round(M.y);var o=W.DL.ZH(z,M,e),t=new e5(1,0,0,1,M.x-$+o[0],M.y-U+o[1]);
T.S.Z8(A.B,t,A.j);T.w0.v(s,T.O.Ak(t),A.j);W.DL.LA(z,M,o)}this.Ju(z,B.XW,A,s)}else{var c=this.v9;z.X.NI=T.R.iR(new kk(c.x,c.y,D.x-c.x,D.y-c.y));
z.XU=!0}};W.uE.prototype.AM=function(z,q,e,V,P){if(this.v9==null)return;var D=z.A.UK(P.x,P.y),B=this.jC,A=B?B.add.vmsk:null;
if(this.RX){var s=JSON.stringify(B.add.vogk);if(!this.v9.bs(D))this.Y4(z,"Move Paths",B.XW,this.Kw,A,null,this.YC,s);
if(z!=null&&z.X.P7){z.X.P7=null;z.XU=!0}}else{var a=z.Kn(),M=a[0],$=a[1];if($.length!=0){var U=M[$[0]];
A=U.add.vmsk;var o=this.v9,t=new kk(o.x,o.y,D.x-o.x,D.y-o.y),c=T.S.a5d(A.B,t);if(V.t(cz.XQ)){for(var n=0;
n<c.length;n++)if(A.j.indexOf(c[n])==-1)A.j.push(c[n])}else A.j=c}z.X.NI=null;z.XU=!0}this.v9=null;this.Kw=null;
this.Qs=null;this.RX=!1;this.kp=null};W.uE.prototype.aJo=function(z){var q=this.jC,e=this.Va,V=q.add.vmsk,P=q.add.vogk,D=P.length;
if(z=="confirm"){if(V!=this.Kw)this.Y4(e,[12,94,2],q.XW,this.Kw,V,null,this.YC,JSON.stringify(P));this.NT();
return}if(z=="cancel"){this.Ju(this.Va,this.jC.XW,this.Kw.Y(),JSON.parse(this.YC));this.NT()}else{var V=this.Kw.Y(),P=JSON.parse(this.YC);
V.B=T.S.ag2(V.B,V.j,z);this.Ju(this.Va,this.jC.XW,V,P)}};W.uE.prototype.NT=function(){this.jC=null;this.Kw=null;
this.v9=null;this.BI=this.o2=-1;this.kp=null};W.uE.prototype.zs=function(z,q,e,V){W.H6.prototype.zs.call(this,z,q,e,V);
if(e.Ai!=this.id)return;if(z.j.length==0)return;var P=z.Kn(),D=P[0],B=P[1];if(B.length==0)return;var A=D[B[0]],s=A.add.vmsk,a=A.add.vstk,M=A.add.vogk,$=new dW(_.E.b,!0);
$.data={p:_.m.R9,U:this.id,ep:"main",i5:s?s:null,w0:M};q.K($)};W.uE.prototype.Ne=function(z,q,e,V,P){var D=z.HH;
if(D.i5){var B=e.Kn(),A=B[0],s=B[1];if(s.length==0)return;var a=A[s[0]],M=a.add.vmsk.Y(),$=JSON.stringify(a.add.vogk),U=D.i5;
this.Ju(e,a.XW,U,D.w0);var o=[18,5];if(M.B.length==U.B.length)o=M.j[0]==U.j[0]?"Fill Rule":"Path Order";
this.Y4(e,o,a.XW,M,U,null,$,JSON.stringify(D.w0))}};W.iK=function(){W.H6.call(this,[10,28],W.pg,"tools/dselect");
this.BI=-1;this.o2=-1;this.MA=null;this.v9=null;this.Vr=null;this.jC=null;this.Kw=null;this.YC=null;
this.fF=0;this._U={psnap:!1};this.kp=null};W.iK.prototype=new W.H6;W.iK.prototype.VV=function(z){return z._W};
W.iK.prototype.Ne=function(z){this._U=z};W.iK.prototype.If=function(z,q,e,V,P){if(z.p=="crnr"){if(e==null)return;
var D=e.Kn(),B=D[0],A=D[1];if(A.length==0){alert("No paths selected");return}var s=B[A[0]],a=s.add.vmsk;
if(a.V3.length==0){alert("No corners selected");return}for(var n=0;n<a.V3.length;n++){var M=a.B[a.V3[n]];
if(!M.O0.bs(M.kS)||!M.O0.bs(M.li)){alert("Only sharp corners can be rounded");return}}if(this.Kw==null){this.Kw=s.add.vmsk.Y();
this.YC=JSON.stringify(s.add.vogk);this.jC=s;this.Va=e}var $=new dW(_.E.b,!0);$.data={p:_.m.wa,rF:"cornerradius",Zz:5,Wm:this.a9p.bind(this)};
q.K($)}else W.H6.prototype.If.call(this,z,q,e,V,P)};W.iK.prototype.a9p=function(z){if(z=="confirm"){var q=this.Va,e=this.jC,V=e.add.vmsk,P=e.add.vogk;
this.Y4(q,[12,94,0],e.XW,this.Kw,V,null,this.YC,JSON.stringify(P));this.NT();return}var V=this.Kw.Y(),P=JSON.parse(this.YC),D=V.V3;
if(z=="cancel"){}else{var B=[];for(var n=0;n<D.length;n++){var A=D[n],s=T.S.HG(V.B,A,!0),$=0;if(B.indexOf(s)!=-1)continue;
B.push(s);var a=T.S.ha(V.B,s,!0),M=V.B[a].length,U=[];for(var o=0;o<M;o++){var t=V.V3.indexOf(a+o+1)==-1?0:z;
U.push(t);if(t!=0)$++}T.S.h2(V.B,a,U);for(var o=0;o<D.length;o++)if(D[o]>a+M)D[o]+=$}this.H8(V,P);V.V3=[]}this.Ju(this.Va,this.jC.XW,V,P);
if(z=="cancel")this.NT()};W.iK.prototype.disable=function(z,q,e,V){this.vO(z)};W.iK.prototype.Qy=function(z,q,e,V,P){this.vO(z);
var D=z.A.UK(P.x,P.y),$,U,o;this.MA=D.Y();var B=z.Kn(),A=B[0],s=B[1];if(s.length==0)return;var a=W.DG(z,P),M=new kk(D.x-a,D.y-a,a*2,a*2);
for(var t=0;t<s.length;t++){$=this.jC=A[s[t]];U=$.add.vmsk;o=T.S.W4(U.B,M);if(o[0].length+o[1].length+o[2].length!=0)break}var c=[!1,!1,!1];
for(var n=0;n<3;n++){for(var H=0;H<o[n].length;H++){var F=o[n][H],i=U.B[F];if(U.V3.indexOf(F)!=-1||n==1&&U.V3.indexOf(F-1)!=-1&&!i.O0.bs(i.li)||n==2&&U.V3.indexOf(F+1)!=-1&&!i.O0.bs(i.kS)){o[n]=[F];
c[n]=!0;break}}}if(o[0].length!=0&&(c[0]||!c[1]&&!c[2])){var X=o[0][0],K=U.V3.indexOf(X);if(V.t(cz.XQ)){if(K==-1)U.V3.push(X);
else{U.V3.splice(K,1);z.XU=!0;return}}else if(K==-1)U.V3=[X];this.BI=X;this.o2=0}else if(o[1].length!=0&&c[1]){this.BI=o[1][0];
this.o2=1}else if(o[2].length!=0&&c[2]){this.BI=o[2][0];this.o2=2}else{var f=T.S.U8(U.B,D,!0,a);if(f.XW==-1)this.v9=D;
else{this.Vr=f;var d=T.S.ha(U.B,f.XW);U.j=[f.XW];U.V3=[d+1+f.b3]}}if(this.Kw==null){this.Kw=$.add.vmsk.Y();
this.YC=JSON.stringify($.add.vogk)}this.kp=new e0(D);z.XU=!0};W.iK.prototype.Sf=function(z,q,e,V,P){if(z==null)return;
var D=z.A.UK(P.x,P.y),B=this.jC;if(this.BI!=-1){var A=this.Kw.Y(),s=B.add.vogk,a=A.B[this.BI];a=[a.O0,a.li,a.kS][this.o2];
if(V.t(cz.XQ)){if(this.o2==0){D=this.kp.Sm(D,V);D.x+=a.x-this.MA.x;D.y+=a.y-this.MA.y}else D=W.QT.lW(A.B[this.BI].O0,D)}else{if(this._U.psnap){D.x=Math.round(D.x);
D.y=Math.round(D.y)}D=W.DL.N8(z,D,e)}if(this.o2==0){var M=new e5(1,0,0,1,D.x-a.x,D.y-a.y);T.S.Z8(A.B,M,null,A.V3)}else{var $=A.B[this.BI];
if(V.t(cz.mh)&&($.e==1||$.e==4))$.e++;W.iK.uN($,D,this.o2==1)}this.H8(A,s);this.Ju(z,B.XW,A,s)}else if(this.v9!=null){var U=this.v9;
z.X.NI=T.R.iR(new kk(U.x,U.y,D.x-U.x,D.y-U.y));z.XU=!0}else if(this.Vr!=null){var A=this.Kw.Y(),s=B.add.vogk,o=this.Vr,t=this.MA,c=T.S.ha(A.B,o.XW),H=A.B[c].length,F,i=o.mZ;
if(i<=1/6)F=0;else if(i<=.5)F=Math.pow((6*i-1)/2,3)/2;else if(i<=5/6)F=(1-Math.pow((6*(1-i)-1)/2,3))/2+.5;
else F=1;var X=D.x-t.x,K=D.y-t.y,f=(1-F)/(3*i*(1-i)*(1-i)),d=F/(3*i*i*(1-i)),L=A.B[c+1+o.b3];L.kS.offset(f*X,f*K);
var G=A.B[c+1+(o.b3+1)%H];G.li.offset(d*X,d*K);W.iK.uN(L,L.kS,!1);W.iK.uN(G,G.li,!0);this.H8(A,s);this.Ju(z,B.XW,A,s)}else{var x=z.Kn(),O=x[0],v=x[1],B,A,j;
if(v.length==0)return;var C=W.DG(z,P),S=new kk(D.x-C,D.y-C,C*2,C*2);for(var w=0;w<v.length;w++){B=O[v[w]];
A=B.add.vmsk;j=T.S.W4(A.B,S);if(j[0].length+j[1].length+j[2].length!=0)break}this.vO(z);for(var n=0;
n<3;n++){for(var u=0;u<j[n].length;u++){var l=j[n][u],I=A.B[l];I=n==0?I.O0:n==1?I.li:I.kS;z.X.cU.push(I.x,I.y);
z.XU=!0}}}};W.iK.prototype.vO=function(z){if(z&&z.X.cU.length!=0){z.X.cU=[];z.XU=!0}};W.iK.prototype.AM=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=this.jC,A=B?B.add.vmsk:null,s=B?B.add.vogk:null;
if(this.BI!=-1||this.Vr){if(Date.now()-this.fF<300){var a=A.B[this.BI],M=this.o2,$=null;if(M==0){var U=a.li.bs(a.O0),o=a.kS.bs(a.O0);
if(!U&&!o){$="Anchor Type";if(a.e==1||a.e==4)a.e++;else{a.e--;a.kS=a.O0.add(a.O0.SV(a.li))}}else{$="Add Handles";
if(U&&o){a.li.x-=30;a.kS.x+=30}else if(U)a.li=a.O0.add(a.O0.SV(a.kS));else if(o)a.kS=a.O0.add(a.O0.SV(a.li))}}else{$="Remove Handle";
if(M==1)a.li.Xs(a.O0);else a.kS.Xs(a.O0)}this.H8(A,s);this.Ju(z,B.XW,A,s);this.Y4(z,$,B.XW,this.Kw,A,null,this.YC,JSON.stringify(s))}else if(this.Vr||!this.MA.bs(D)){this.Y4(z,"Drag Anchors",B.XW,this.Kw,A,null,this.YC,JSON.stringify(s))}this.Vr=null;
this.fF=Date.now()}else if(this.v9!=null){var t=this.v9,c=new kk(t.x,t.y,D.x-t.x,D.y-t.y);if(c.s<0)c.x+=c.s;
if(c.T<0)c.y+=c.T;c.s=Math.abs(c.s);c.T=Math.abs(c.T);var H=T.S.W4(A.B,c);A.V3=H[0].concat(V.t(cz.XQ)?A.V3:[]);
z.X.NI=null}this.NT();z.XU=!0};W.iK.prototype.NT=function(){this.jC=null;this.Kw=null;this.v9=null;this.BI=this.o2=-1;
this.kp=null};W.iK.prototype.H8=function(z,q){for(var n=0;n<z.V3.length;n++){var e=T.S.HG(z.B,z.V3[n]);
T.w0.Oi(q,e)}};W.iK.prototype.gi=function(z,q,e,V){if(z==null)return;var P=z.Kn(),D=P[0],B=P[1];if(B.length==0)return;
var A=D[B[0]],s=A.add.vmsk;if(s==null||s.V3.length==0)return;var a=A.add.vogk,M=JSON.stringify(a),$=V.bh(z?z.A.gV:0);
if($.x!=0||$.y!=0){var U=s.Y(),o=s.Y(),t=new e5(1,0,0,1,$.x,$.y);T.S.Z8(o.B,t,null,o.V3);this.H8(o,a);
this.Ju(z,A.XW,o,a);this.Y4(z,"Move Anchors",z.j[0],U,o.Y(),!0,M,JSON.stringify(a))}if(V.t(cz.Dv)||V.t(cz.QI))this.If({p:"remove",ty:!0,aD9:!0},q,z,V,e)};
W.iK.prototype.Y4=function(z,q,e,V,P,D,B,A){var s=z.$p();if(D&&s!=null&&s.U==this&&s.data.aaS&&s.data.Jb==e&&JSON.stringify(s.data.aqQ.V3)==JSON.stringify(V.V3)){s.data.HS=P;
s.data.aOV=A}else{var s=new ji(q,this);s.data={Jb:e,aqQ:V,HS:P,aaS:D,aPr:B,aOV:A};z.Q6(s)}};W.iK.uN=function(z,q,e){var V=z.li,P=z.kS;
if(!e){V=z.kS;P=z.li}V.mX(q.x,q.y);if(z.e==1||z.e==4){var D=f5.h5(V,z.O0),B=f5.h5(P,z.O0);if(B!=0){P.x=z.O0.x-(V.x-z.O0.x)*(B/D);
P.y=z.O0.y-(V.y-z.O0.y)*(B/D)}}};W.Rect=function(){W.LR.call(this,[10,32],W.v8,"tools/rect",!0)};W.Rect.prototype=new W.LR;
W.Rect.prototype.DA=function(z,q,e){var V=this.r1.crad,P=q.x-z.x,D=q.y-z.y;return[T.S.nU.Rect(z.x,z.y,P,D,V),T.w0.Tk("Rctn",[z.x,z.y,q.x,q.y],[V,V,V,V])]};
W.f4=function(){W.LR.call(this,[10,33],W.Ms,"tools/ellipse",!0)};W.f4.prototype=new W.LR;W.f4.prototype.DA=function(z,q,e){var V=q.x-z.x,P=q.y-z.y;
return[T.S.nU.f4(z.x,z.y,V,P),T.w0.Tk("Elps",[z.x,z.y,q.x,q.y])]};W.ve=function(){W.LR.call(this,[10,34],W.GN,"tools/pshape",!1);
this.r1.aopts=[!1,!0,50,100,0]};W.ve.prototype=new W.LR;W.ve.prototype.DA=function(z,q,e){var V=this.r1.pshape,P=this.r1.crad,D=this.r1.irad/100,B=this.r1.sides,A=this.r1.width,s=this.r1.aopts,a=this.r1.length,M=this.r1.rows,$=this.r1.cols,U=this.r1.brdr,X;
q=q.Y();var o=z.x,t=z.y,c=q.x,H=q.y,F=Math.sqrt((c-o)*(c-o)+(H-t)*(H-t)),i=Math.atan2(-H+t,c-o);if(e)i=Math.round(i*180/Math.PI/15)*15*Math.PI/180;
if(V==0)X=T.S.nU.Bf(o,t,F,i,B,P);if(V==1)X=T.S.nU.q$(o,t,F,i,B,P,D);if(V==2)X=T.S.nU.G1(z.x,z.y,q.x,q.y,A,s);
if(V==3){if(o>c){var K=o;o=c;c=K}if(t>H){var K=t;t=H;H=K}if(e){if($>M)H=t+(c-o-U)*M/$+U;else c=o+(H-t-U)*$/M+U}X=T.S.nU.aqw(o,t,c,H,M,$,U)}if(V==4)X=T.S.nU.auX(o,t,F,i,a);
return[X,T.w0.Tk("customShape",[z.x,z.y,q.x,q.y],null,null,null,"--")]};W.ve.prototype.gi=function(z,q,e,V){W.LR.prototype.gi.call(this,z,q,e,V);
var P=V.bh(),D=this.r1,B,A;if(P.y!=0){var s=-P.y,a=D.pshape;if(a<2){B="sides";A=Math.max(3,Math.min(100,D.sides+s))}else if(a==2){B="width";
A=Math.max(1,Math.min(100,D.width+s))}else if(a==3){B="length";A=Math.max(4,Math.min(40,D.length+s))}}if(P.x!=0){B="pshape";
A=Math.max(0,Math.min(3,D.pshape+P.x))}if(B){var M=new dW(_.E.b,!0),$={};$[B]=A;D[B]=A;M.data={p:_.m.R9,U:this.id,kE:"vals",aj8:$};
q.K(M);this.Sf(z,q,e,V)}};W.l1=function(){W.LR.call(this,[10,35],W.jx,"tools/line",!1)};W.l1.prototype=new W.LR;
W.l1.prototype.DA=function(z,q,e){var V=this.r1.width,P=this.r1.aopts;q=q.Y();if(e){q=W.QT.lW(z,q)}if(cW==1)V=0;
return[T.S.nU.G1(z.x,z.y,q.x,q.y,V,P),T.w0.Tk("Ln",null,null,[z.x,z.y,q.x,q.y],V,null,P)]};W.R8=function(){W.LR.call(this,[10,31],W.pY,"tools/cshape",!0)};
W.R8.prototype=new W.LR;W.R8.prototype.DA=function(z,q,e){var V=this.r1.shape,P=V.sI.s/V.sI.T,D=lK.cI.QD(V.B);
q=q.Y();if(e){q.y=z.y+(q.x-z.x)/P}var B=q.x-z.x,A=q.y-z.y;T.S.Z8(D,new e5(B,0,0,A,z.x,z.y));return[D,T.w0.Tk("customShape",[z.x,z.y,q.x,q.y],null,null,null,V.v2)]};
W.On=function(z,q,e){W.__.call(this,z,q,e);this._a=0;this.Z=null;this.Uc=null;this.i=null;this.UO=1;
this.Qg=0;this.w7=!0;this.Jv=!1;this.cursor=null;this.Yc=null;this._Q=null;this.NE=!1;this.Pp=null;this.adb=0;
this.xd=null;this.Dh=0;this.yP=null;this.Em=null;this.Z1=null;this.B2=null;this.am6=null;this.Sb=null};
W.On.prototype=new W.__;W.On.lL=function(z,q,e){var V={classID:"null",null:fw.y5(e?"Lyr":"Dcmn",!0)};
if(z)V.Angl={t:"UntF",v:{type:"#Ang",val:q}};else V.Axis={t:"enum",v:{Ornt:q}};return{gQ:z?"rotateEventEnum":"flip",cj:V}};
W.On.prototype.D1=function(z,q,e,V,P){var D=new dW(_.E.b,!0);D.data={p:_.m.R9,U:this.id,uA:P,x2:z,i:e};
q.K(D);this.fM=!1};W.On.prototype.VV=function(z){return this.Em&&this.Em.aJq()};W.On.prototype.If=function(z,q,e,V,P){this.i=P;
if(z.p=="again"&&this.xd==null)return;if(z.p=="cmode"){if(e.depth==z.u)return;var D=W.On.tk(e),B=W.On.iw(e,D,!0),A=new ji("Mode: "+e.depth+"-Bit to "+z.u+"-Bit",this);
A.data={e:0,Z:D,Uc:B,a8j:!0,depth:e.depth};e.Q6(A);W.On.alw(e,D,z.u);return}if(z.p=="cprof"){var s=e.qh(),D,B;
s=s?s[0]:null;var a=hq.aT[hq.sP.indexOf(z.u)];if(a){if(e.depth==32)a=a+"_lin";a=a=="icc/srgb"?null:hZ.ui.get(a)}if(z.aov){D=W.On.tk(e);
B=W.On.iw(e,D,!0)}var A=new ji((D?"Convert To":"Assign")+" Profile: "+z.u,this);A.data={e:0,Z:D,Uc:B,a8j:!0,a77:[s]};
e.Q6(A);if(z.aov)W.On.a7A(e,D,a);e.L4(a);return}if(!this.tA(e,P))return;if(this.Em){this.aOp(z,this.Em.om(),q,e,V,P);
this.CX(e,P,0,!0);this.VR(e);return}this.anS(e,z.H==null,z.H);this.ab6(e);this.aOp(z,z.ac4,q,e,V,P);
this.wI(e,q,z.JJ,!1)};W.On.prototype.aOp=function(z,q,e,V,P,D){var B=z.Lu!=null?z.Lu:4;this.Em.are(B);
if(q==null)q=this.Em.om();var A=this.yP,s=q.x,a=q.y;if(z.p=="rot"&&z.u!=Math.PI&&(A.s+A.T&1)==1){s=Math.floor(s);
a=Math.floor(a)}var M=new e5;M.translate(-s,-a);if(z.p=="rot")M.rotate(z.u);if(z.p=="scl")M.scale(z.u.x,z.u.y);
if(z.p=="mat")M.concat(z.u);M.translate(s,a);if(z.p=="again")M=this.xd;var $=T.O.Ak(M);if(z.p=="dtr"){var U=T.O;
$=U.yW(z.u,U.n(-s,-a));$=U.yW(U.n(s,a),$)}var o=this.Em.Uv();T.O.v($,o);if(z.p=="reset"){var t=V.Z[V.j[0]].add.SoLd,c=t.Sz.v,H=c.Wdth.v,F=c.Hght.v;
console.log(t);var $=this.Em.om(),i=new kk(Math.round($.x-H/2),Math.round($.y-F/2),H,F);o=T.R.iR(i).J;
t.quiltWarp.v=T.OL.n(i)}this.Em.Uq(o);if(B==9)this.Em.aKC(q);if(z.xN){var X=z.xN.v;this.Ne({ep:"switchWarp"},e,V,P);
this.Ne({ep:"wrp",xN:X},e,V,P)}};W.On.prototype.ay=function(){return!0};W.On.prototype.tA=function(z,q,e){if(z==null)return!1;
if(this.id==W.zi)return z.h!=null;var V=z.u4(!0,null,null,!0);if(this.id==W.Z5&&z.Z[V[0]].V.a8()){alert("Layer is empty.");
return!1}if(z.o0.length!=0)return!0;for(var n=0;n<V.length;n++){var P=z.Z[V[n]];if(P.rs(2)||P.rs(31)){alert(iE.get([6,57,0]));
return!1}if(P.add.artb){alert("You can not transform the whole artboard");return!1}if(P.add.TySh)if(!ey.vM(P.add.TySh,q.Se))return!1;
if(P.add.SoLd){if(V.length==1&&(e&&e.Ml==-1)&&(P.OX()&&P.OX().ck||P.add.vmsk&&P.add.vmsk.ck)){alert("Unlink masks before transforming Smart Object");
return!1}if(!z.aoU(P.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+z.mn(P.add.SoLd.Idnt.v).hb+")");
return!1}}}if(z.h==null)return!0;if(!z.Ov())return!1;return z.a5_()};W.On.prototype.Qy=function(z,q,e,V,P){var D=this.XE(P,z),B=D[0],A=D[1],s=this.Dh==0?this.Em:this.Z1;
z.A.C7*=A;this.Jv=s.Qy(z,e,V,B,null,null,P);if(!this.Jv&&cW==1){this.wI(z,q,null,!0);return}this.VR(z,B);
z.A.C7/=A;if(this.Jv&&s.t6(B)){if(Date.now()-this.adb<250)this.wI(z,q,null,!0);this.adb=Date.now()}};
W.On.prototype.ZP=function(z){var q=new dW(_.E.b,!0);q.data={p:_.m.XL,ia:this.cursor};z.K(q)};W.On.prototype.XE=function(z,q){var e=1;
z=q.A.UK(z.x,z.y);if(this.Dh==1){var V=T.O.AX(this.Em.Uv(),this.yP);e=T.O.uV(V).vx();var P=T.O.TG(V);
z=T.O.a7_(P,z)}return[z,e]};W.On.prototype.Sf=function(z,q,e,V,P){var D=this.XE(P,z),B=D[0],A=D[1],s=this.Dh==0?this.Em:this.Z1;
if(!P._W){var a="default";if(s){var M=s.s1(B,z.A.C7*A,null,P,null,V);if(M)a=M}if(a!=this.cursor){this.cursor=a;
this.ZP(q)}if(this.Z1){this.VR(z,B)}}if(!this.Jv)return;z.A.C7*=A;var $=this.Iy=s.Sf(z,e,V,B,this.w7);
z.A.C7/=A;this.CX(z,e,0,!0);this.VR(z,B);this.qY(q,null,z)};W.On.prototype.AM=function(z,q,e,V,P){var D=this.XE(P,z),B=D[0],A=D[1];
this.Em.AM(z,e,V,B);if(this.Z1){var s=this.Z1.AM(z,e,V,B);if(s){this.qY(q,!0,z);this.VR(z)}}if(this.Iy){var a=this.hv(),M=T.R.iR(this.yP).J;
T.O.v(a,M);this.Em.Uq(M);this.Iy=null}this.Jv=!1};W.On.prototype.gi=function(z,q,e,V){if(V.t(cz.JN))this.wI(z,q,null,!0);
else if(V.t(cz.Nf))this.oC(z,q);else{var P=this.Em.gi(z,e,V);if(P){this.CX(z,e,0,!0);this.qY(q,null,z)}}};
W.On.prototype.Ne=function(z,q,e,V){if(z.ep=="commit")this.wI(e,q,null,!0);else if(z.ep=="cancel")this.oC(e,q);
else if(z.ep=="switchWarp"){this.Dh=1-this.Dh;this.a2v();this.VR(e);this.qY(q,null,e)}else if(z.ep=="wrp"){this.Z1.aoa(z.xN);
this.VR(e);this.CX(e,this.i,0,!0)}else if(z.ep=="splt")this.Z1.any(z.u);else if(z.ep=="ctyp"){this.Em.are(z.afu);
this.VR(e);this.qY(q,null,e)}else if(z.ep=="cen"){this.Em.aKC(z.ZO);this.VR(e);this.CX(e,this.i,0,!0);
this.qY(q,null,e)}else if(z.ep=="trn"){var P=T.O.Ak(z.dr),D=this.yP,B=T.O.AX(this.Em.Uv(),this.yP);P[6]=B[6],P[7]=B[7];
var A=[D.x,D.y,D.x+D.s,D.y,D.x+D.s,D.y+D.T,D.x,D.y+D.T];T.O.v(P,A);this.UO=z.UO;if(z.Qg!=this.Qg){this.Qg=z.Qg;
this.ad7(e)}this.w7=z.w7;this.Em.Uq(A);this.VR(e);this.CX(e,this.i,0,!0)}};W.On.prototype.VR=function(z,q){if(this.Dh==0)this.Em.kd(z,this.i);
else{this.Z1.kd(z,q);var e=this.hv();T.O.v(e,z.X.st.J);T.O.v(e,z.X.uX);T.O.v(e,z.X.y6)}};W.On.prototype.wI=function(z,q,e,V){this.CX(z,this.i,this.UO);
var P=new ji(e?e:this.name,this);if(this._a==0)P.data={e:this._a,Z:this.Z,Uc:this.Uc};else if(this._a==1){var D=z.Z[this.Z[0]],B;
if(D.wC.oT<=0){B=T.n(D.wC.Ds.D(),z.depth);T.bl(D.wC.Sl,B,3)}else B=z.h.o;var A={V:D.wC.Ds.Y(),o:B};P.data={e:this._a,H:this.Z[0],_Q:this._Q,Nz:A,Yc:this.Yc,NE:this.NE,wC:D.wC,Pp:this.Pp,LK:{TP:D.wC.Ds,Hm:D.wC.Sl}}}else if(this._a==2){P.data={e:this._a,_Q:this._Q,Nz:{V:z.h.V.Y(),o:z.h.o.slice(0)}}}z.Q6(P);
var s=T.O.AX(this.Em.Uv(),this.yP),a=this.Uc,M=a?a[0]:null;if(a&&a.length==1&&M[4]){var $=W.On.a3(M[4].nonAffineTransform),U=T.R.mB(T.OL.GZ(M[4].quiltWarp.v)[3]),o=T.O.AX($,U);
s=T.O.yW(s,T.O.TG(o))}var t=this.Z1?this.Z1.wq():null;if(t&&T.OL.nD(t))t=null;var c=this.Em.Uv();T.O.v(T.O.TG(s),c);
var H=this.Em.om(c),F=T.O;s=F.yW(F.yW(F.n(-H.x,-H.y),s),F.n(H.x,H.y));var i=W.On.aow(s,this.Em.dH,H,t);
if(this.id==W.zi)i.null.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};this.Av=q;this.track({gQ:"transform",cj:i});
this.escape(z,q,V)};W.On.aLj={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};W.On.aow=function(z,q,e,V){var P=T.O.uV(z),D=P.yK,B=P.ww,A=-Math.atan2(-P.c,P.x6),a="Qcsi";
P.rotate(A);function s(o,t){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][t],val:o}}}var M=W.On.aLj;
for(var $ in M)if(M[$]==q)a=$;var U={classID:"null",null:fw.y5("Lyr",!0),FTcs:{t:"enum",v:{QCSt:a}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:s(D,0),Vrtc:s(B,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:s(Math.atan(P.I$/P.at)*180/Math.PI,2),Vrtc:s(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:s(100*z[6],1),Vrtc:s(100*z[7],1)}},Wdth:s(P.x6*100,1),Hght:s(P.at*100,1),Angl:s(A*180/Math.PI,2)};
if(q==9)U.Pstn={t:"Objc",v:{Hrzn:s(e.x,0),Vrtc:s(e.y,0)}};if(V)U.quiltWarp={t:"Objc",v:V};return U};
W.On.a3s=function(z){var q=1,e=1,V=0,P=0,D=0,B=0,A=0,U=null,o=null;if(z.Wdth)q=z.Wdth.v.val/100;if(z.Hght)e=z.Hght.v.val/100;
if(z.Skew){var s=z.Skew.v;V=s.Hrzn.v.val;P=s.Vrtc.v.val}if(z.Ofst){var a=z.Ofst.v;B=a.Hrzn.v.val;A=a.Vrtc.v.val}if(z.Angl)D=z.Angl.v.val;
var M=new e5;M.concat(new e5(q,q*Math.tan(P*Math.PI/180),e*Math.tan(V*Math.PI/180),e,0,0));M.rotate(-D*Math.PI/180);
M.translate(B,A);var $=T.O.Ak(M);if(z.Usng){var a=z.Usng.v;$[6]=a.Hrzn.v.val/100;$[7]=a.Vrtc.v.val/100}var t=z.FTcs.v.QCSt;
if(t=="Qcsi"){var c=z.Pstn.v;U=new f5(c.Hrzn.v.val,c.Vrtc.v.val);o=9}else o=W.On.aLj[t];var H=z.warp;
if(H&&H.v.classID!="quiltWarp")H=T.OL.a44(H);return{p:"dtr",Lu:o,u:$,xN:H,ac4:U}};W.On.prototype.oC=function(z,q){if(this._a==0)W.On.axR(z,this.Z,this.Uc);
else if(this._a==1){var e=z.Z[this.Z[0]];z.h=this._Q;if(!this.NE){e.wC.Ds=this.Pp.TP;e.wC.Sl=this.Pp.Hm;
e.EG(z,0,0,z.h)}else{e.cl(z,this.Yc)}z.Kv();z.ZI=!0}else if(this._a==2){z.h=this._Q;z.ZI=!0}this.escape(z,q,!0)};
W.On.prototype.escape=function(z,q,e){this.Em.clear(z);if(this.Z1)this.Z1.clear(z);this.Em=null;this.Z1=null;
this.Sb=null;this.Dh=0;if(e)this.Vp(q,_.E.b,{p:_.m.Kb})};W.On.prototype.Yi=function(z,q){if(z.e==0)W.On.el(q,z);
else{if(z.e==1){var e=q.Z[z.H];if(z.NE){e.wC=z.wC}else{e.wC.Ds=z.LK.TP;e.wC.Sl=z.LK.Hm}e.EG(q,0,0,q.h);
q.Kv()}q.h={V:z.Nz.V.Y(),o:z.Nz.o.slice(0)};q.ZI=!0}};W.On.prototype.I7=function(z,q){if(z.e==0)W.On.el(q,z);
else{if(z.e==1){var e=q.Z[z.H];if(z.NE){e.cl(q,z.Yc)}else{e.wC.Ds=z.Pp.TP;e.wC.Sl=z.Pp.Hm;e.EG(q,0,0,q.h)}q.Kv()}q.h=z._Q;
q.ZI=!0}};W.On.prototype.anS=function(z,q,e){z.Kn();var V=[];if(e==null)for(var n=0;n<z.o0.length;n++)if(z.yj[z.o0[n]].add.vmsk.B.length>2)V.push(-1-z.o0[n]);
var P=[],D=z.A.Ox;if(D[0]+D[1]+D[2]==3)if(e!=null||V.length==0||z.L3!=null&&z.L3.length!=0){if(z.j.length==1){var B=z.Z[z.j[0]];
if(B.YZ()&&B.bS)P=[z.j[0]]}if(P.length==0)P=z.u4(q,e,null,!0)}P=P.concat(V);for(var n=0;n<z.C2.length;
n++)P.push(-1e3-z.C2[n]);this.Z=P};W.On.prototype.enable=function(z,q,e,V,P,D){if(this.cursor==null)this.cursor="default";
this.ZP(q);if(this.Em)return;this.i=e;this.anS(z,!0);this.ab6(z,D&&D.Ml!=null&&D.Ml!=-1?D.Ml:null);this.qY(q,null,z);
this.VR(z);if(D&&D.Ml==-1)this.Ne({ep:"switchWarp"},q,z,V)};W.On.prototype.NA=function(){return this.w7?null:[0]};
W.On.prototype.SZ=function(z,q,e){if(z&&z[0]!=null)this.w7=z[0]==1};W.On.prototype.qY=function(z,q,e){var V={p:_.m.R9,U:this.id};
if(this.Dh==0){var P=T.O.AX(this.Em.Uv(),this.yP),D=T.O.uV(P);V.dr={Hn:D,afu:this.Em.ap3(),ZO:this.Em.om(),TP:this.yP.Y(),w7:this.w7,Gq:e.A.Gq}}else{V.aNb=q;
V.xN=this.Z1.wq()}if(e){V.kv=["---"];for(var n=0;n<e.kv.length;n++)V.kv.push(e.kv[n].name)}V.ayH=this.Z1!=null;
V.ak8=!1;if(e)for(var n=0;n<e.j.length;n++){var B=e.Z[e.j[n]];if(!(B.add.SoLd||B.add.TySh||B.mp()||B.YZ()))V.ak8=!0}this.Vp(z,_.E.b,V)};
W.On.prototype.ab6=function(z,q){var e=this.id==W.zi,V=!0,P=this.Z[0],D=z.Z[P],A=null,s=null,a=null,U=null;
if(e){this._a=2;this._Q=z.h}else if(z.h&&this.Z.length==1&&P>=0&&!D.V.a8()){this._a=1;this._Q=z.h;this.Yc=D.wC;
this.NE=!1;if(!D.K1(z,z.h)){this.NE=!0;D.Da(z,z.h,!1)}this.Pp={Hm:D.wC.Sl,TP:D.wC.Ds}}else{this._a=0;
this.Uc=W.On.iw(z,this.Z,null);for(var n=0;n<this.Uc.length;n++)if(this.Uc[n][3]!=null)V=!1}var B=this._a==1;
if(this.Uc&&this.Uc.length==1){var M=this.Uc[0];if(M[2]!=null)s=M[2].i5;if(M[3]==null)B=!0;if(M[3]!=null)a=M[3];
if(M[4]!=null){A=z.Z[this.Z[0]].add.SoLd;if(M[1]||M[2])B=!1}}var $=e?z.h.V.Y():W.On.$i(z,this.Z);this.yP=$;
if(!e&&s&&cW==1){U=s.UD();this.B2=T.O.AX(U,this.yP)}else if(!e&&a&&cW==1){var o=z.Z[this.Z[0]],a=o.add.TySh;
U=T.R.iR(o.J3.NY).J;T.R.v(U,a.v,U);this.B2=T.O.AX(U,this.yP)}else if(!e&&A){U=W.On.a3(A.nonAffineTransform);
this.yP=T.R.mB(T.OL.GZ(A.quiltWarp.v)[3]);if(B)this.Z1=new ay(A.quiltWarp.v);this.B2=T.O.AX(U,this.yP)}else{if(B||e)this.Z1=new ay(T.OL.n(this.yP));
this.B2=[1,0,0,0,1,0,0,0];if(this.id==W.Z5)q=3;U=[$.x,$.y,$.x+$.s,$.y,$.x+$.s,$.y+$.T,$.x,$.y+$.T]}this.Em=new ik(U,!0,!0,V,!1,!1,q);
this.am6=[1,0,0,0,1,0,0,0];this.ad7(z)};W.On.prototype.ad7=function(z){if(this.id==W.Z5){var q,e,D=null;
if(this.Uc&&z.h==null){var V=this.Uc[0][0],P=V.uz;q=P[0];e=P[1]}else if(this.Pp){q=this.Pp.Hm;e=this.Pp.TP}if(this.Qg!=0)D=z.kv[this.Qg-1].Xp(e);
this.Sb=T.L7.acn(T.EZ(q,8),e.s,e.T,D)}};W.On.$i=function(z,q){if(q==null)q=z.u4(!0,null,null,!0);var e=new kk,V=new kk;
if(z.h&&q.length==1&&q[0]>=0)e=z.h.V.Y();else for(var n=0;n<q.length;n++){var P=q[n],D=0<=P?z.Z[P]:-1e3<P?z.yj[-1-P]:z.kv[-1e3-P],B=D.add?D.add.vmsk:null,A=0<=P?D.$i(z,q.length==1,!1,!0):-1e3<P?T.S.O5(B.B,q.length==1&&B.j.length!=0?B.j:null):D.V.Y();
e=e.X8(A);if(P>0&&D.add.artb)V=V.X8(D.Le())}if(!V.a8())return V;if(e.s==0){if(e.T==0)return e;e.x-=10;
e.s+=20}if(e.T==0){e.y-=10;e.T+=20}return e};W.On.prototype.Vp=function(z,q,e,V){var P=new dW(q,!0);
P.data=e;if(V)P.U=V;z.K(P)};W.On.tk=function(z){var q=[];for(var n=0;n<z.Z.length;n++)q.push(n);for(var n=0;
n<z.yj.length;n++)q.push(-1-n);for(var n=0;n<z.kv.length;n++)q.push(-1e3-n);return q};W.On.iw=function(z,q,e){var V=[];
for(var n=0;n<q.length;n++){var P=q[n],D,B;if(P>=0){D=z.Z[P];B=D.L1(z,e,!0)}else if(P>-1e3){D=z.yj[-1-P];
B=[2]}else{V.push([null,null,null,null,null,null,null,z.kv[-1e3-P].Y()]);continue}var A=[],s=B.indexOf(0)!=-1;
if(s){var a={uz:D.add.SoLd?null:[D.buffer.slice(0),D.V.Y()]};A.push(a);if(D.LL()){var M=D.kL(z);a.aNQ=M.buffer.slice(0);
a.af3=M.V.Y()}}else A.push(null);if(B.indexOf(1)!=-1)A.push(D.OX().Y());else A.push(null);if(B.indexOf(2)!=-1)A.push({i5:D.add.vmsk.Y(),Y1:D.add.vstk?T.G(D.add.vstk):null,j5:D.add.vstk?az.W0(z.Z[P].add):null,kQ:D.add.vstl?JSON.stringify(D.add.vstl):null,w0:D.add.vogk?T.G(D.add.vogk):null});
else A.push(null);if(D.add.TySh&&s){dc._6(D.add.TySh);A.push(D.add.TySh.v.Y())}else A.push(null);if(D.add.SoLd&&s)A.push(T.G(D.add.SoLd));
else A.push(null);if(B.indexOf(3)!=-1)A.push(D.kL(z).Eo.Y());else A.push(null);if(D.add.lmfx)A.push(JSON.stringify(D.add.lmfx));
else A.push(null);V.push(A)}return V};W.On.axR=function(z,q,e){for(var n=0;n<q.length;n++){var V=q[n],P=0<=V?z.Z[V]:-1e3<V?z.yj[-1-V]:z.kv[-1e3-V],D=e[n];
if(D[0]){if(D[0].uz){P.V=D[0].uz[1].Y();P.buffer=D[0].uz[0].slice(0)}if(P.LL()){var B=P.kL(z);B.buffer=D[0].aNQ.slice(0);
B.V=D[0].af3.Y()}}if(D[1]){P.OX().o=D[1].o.slice(0);P.OX().V=D[1].V.Y();P.OX().Ug=!0}if(D[2]){P.add.vmsk=D[2].i5.Y();
if(D[2].j5)az.hn(P.add,D[2].j5);if(D[2].Y1)P.add.vstk=T.G(D[2].Y1);if(D[2].w0)P.add.vogk=T.G(D[2].w0);
if(D[2].kQ)P.add.vstl=JSON.parse(D[2].kQ)}if(D[3]){P.add.TySh.v=D[3].Y();dc.nR(P.add.TySh)}if(D[4]){P.add.SoLd=T.G(D[4])}if(D[5]){var A=P.kL(z).Eo;
A.o=D[5].o.slice(0);A.V=D[5].V.Y()}if(D[6]){P.add.lmfx=JSON.parse(D[6])}if(D[7]){P.o=D[7].o.slice(0);
P.V=D[7].V.Y();P.Ug=!0}if(0<=V){P.ly(z);P.Kv();if(D[4])P.N7(z,!1)}}z.Kv()};W.On.alw=function(z,q,e){var V=W.On.amj,P=z.aPH(z.depth,e);
z.depth=e;z.buffer=T.n(z.s*z.T*4,e);for(var n=0;n<q.length;n++){var D=q[n];if(0<=D){var B=z.Z[D],A=B.OX();
if(A){A.o=V(A.o,e,P);A.Ug=!0}if(B.add.vmsk)B.add.vmsk.Ug=!0;if(B.mp())B.ly(z);else if(B.add.SoLd){if(B.LL()){var s=B.kL(z),A=s.Eo;
if(A){A.o=V(A.o,e,P);A.Ug=!0}}B.N7(z)}else{B.buffer=V(B.buffer,e,P)}B.Kv()}else if(-1e3<D){}else{var A=z.kv[-1e3-D];
A.o=V(A.o,e,P)}}z.Kv()};W.On.amj=function(z,q,e){var V=T.EZ(z,q);if(e){if(q!=32)T.D2(V);else T.$n(V)}return V};
W.On.a7A=function(z,q,e){var V,P,D=17,B=z.qh();if(B){D=B[2];V=B[3].slice(0)}if(e){var A=ICC.R(e.buffer);
P=ICC.U.sampleLUT(A,D,!0)}for(var n=0;n<q.length;n++){var s=q[n];if(0<=s){var a=z.Z[s];if(a.mp())a.ly(z);
else if(a.add.SoLd){}else{if(V)ICC.U.applyLUT(V,D,a.buffer,a.buffer);if(P)ICC.U.applyLUT(P,D,a.buffer,a.buffer)}a.Kv()}}z.Kv()};
W.On.el=function(z,q){if(q.a77){var e=z.qh();z.L4(q.a77[0]);q.a77=[e?e[0]:null]}if(q.Z==null)return;
var V=W.On.iw(z,q.Z,q.a8j);if(q.depth!=null){var P=z.aPH(z.depth,q.depth),D=q.depth;q.depth=z.depth;
z.depth=D;z.buffer=T.n(z.s*z.T*4,z.depth);z.Kv()}W.On.axR(z,q.Z,q.Uc);q.Uc=V};W.On.w8=function(z,q,e,V,P,D,B,A,s,a){if(typeof D[0]=="number"){var M=[];
for(var n=0;n<e.length;n++)M[n]=D;D=M}for(var n=0;n<e.length;n++){var $=D[n],U=T.O.uV($),o=U.vx(),t=e[n],c=0<=t?z.Z[t]:-1e3<t?z.yj[-1-t]:z.kv[-1e3-t],H=V[n];
if(c.add&&c.add.lmfx&&A)hB.Ns(c.add.lmfx,o);if(H[0]&&!H[3]&&!H[4]&&!H[5]){var F=H[0].uz;if(s){var i=s.HX(F[1]),X=T.n(i.D()*4);
T.aF(F[0],F[1],X,i);F=[X,i]}var K=W.On.Nv(F,P,$,B,P==0?c.buffer.buffer:null,null,a);if(K){c.V=K.V;c.buffer=K.buffer}}if(H[1]){var f=c.OX();
W.On.mf(z,H[1],f,P,$,B,f.ck&&B&&!T.OL.nD(B)&&H[0]?H[0].uz[1]:null);if(s){var i=f.V.HX(s),d=T.n(i.D());
T.KY(f.o,f.V,d,i);f.o=d;f.V=i}}if(H[2]){var L=B&&!T.OL.nD(B),G=H[2].i5.Y(),x=e.length==1&&G.j.length!=0,O=e.length==1&&G.V3.length>1;
if(O)x=!1;var v=x?G.j:null,C=O?G.V3:null;if(L){var S=T.OL.GZ(B);T.O.v($,S[3]);T.S.aES(G.B,S,v,C)}else T.S.aN1(G.B,$,v,C);
if(c.add.vstk&&A){c.add.vstk.strokeStyleLineWidth.v.val=H[2].Y1.strokeStyleLineWidth.v.val*o;var j=H[2].j5;
if(j&&j.y3==3){j=T.G(j);var w=j.j5.phase.v;j.j5.Scl.v.val=Math.round(j.j5.Scl.v.val*o);w.Hrzn.v=Math.round(w.Hrzn.v*o);
w.Vrtc.v=Math.round(w.Vrtc.v*o);az.hn(c.add,j)}}if(c.add.vogk){c.add.vogk=T.G(H[2].w0);if(L||O)T.w0.WV(c.add.vogk);
else T.w0.v(c.add.vogk,$,e.length>1?[]:G.j,A)}if(c.add.vstl){var u=c.add.vstl=JSON.parse(H[2].kQ);for(var l=0;
l<2;l++){var I=l==0?u.oO:u.i8;if(I==null||I[3]==null)continue;var Q=I[3],b=new e5(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]);
b.concat(U);I[3]=[b.x6,b.c,b.I$,b.at,b.yK,b.ww]}}G.j_*=o;var p=new e5;p.rotate(G.HR);p.concat(U);G.HR=Math.atan2(-p.c,p.x6);
c.add.vmsk=G;if(c.add.vogk)T.w0.BS(c.add.vogk,c.add.vmsk)}if(H[3]){var b=H[3].Y();b.concat(U);c.add.TySh.v=b;
dc.nR(c.add.TySh);ey.tM(c,q.Se)}if(H[4]){var k=c.add.SoLd,g=W.On.a3(H[4].nonAffineTransform);T.O.v($,g);
var Y=T.R.b_(g);if(ik.a7(g)){if(B){var R=T.R.mB(T.OL.GZ(H[4].quiltWarp.v)[3]),d=T.O.AX(g,R),m=T.R.mB(T.OL.GZ(B)[3]);
g=[m.x,m.y,m.x+m.s,m.y,m.x+m.s,m.y+m.T,m.x,m.y+m.T];T.O.v(d,g);k.quiltWarp.v=B}var Z=T.O.AX(g),E=g;if(!T.O.NJ(Z)){Z[6]=Z[7]=0;
E=[0,0,1,0,1,1,0,1];T.O.v(Z,E)}k.Trnf=W.On.V1(E);k.nonAffineTransform=W.On.V1(g);if(k.filterFX)k.filterFX=T.G(H[4].filterFX);
W.On.aNZ(k,U);c.N7(z,P==0,q.Se)}}if(H[5])W.On.mf(z,H[5],c.kL(z).Eo,P,$,B);if(H[7])W.On.mf(z,H[7],c,P,$,B);
if(0<=t){if(!a)c.Sn();c.ly(z);c.Kv();if(c.J3)c.J3.uC=!0}}z.Kv()};W.On.a6J=function(z,q){var e=q.vx(),V=0;
T.wD(z);var P=T.aN2(z,q,.3,4);V=P[0];q=P[1];var D=z[V],B=z[V+1],A=T.Gx(D),s=B.s,a=B.T,M=T.R.iR(B).J;
T.R.v(M,q,M);var $=T.R.b_(M),U=T.n($.D(),A),o=$.x,t=$.y,c=$.s,H=$.T,F=q.Y();F.TG();var i=F.a0(new f5(0,0)),X=F.a0(new f5(1,0)),K=X.x-i.x,f=X.y-i.y;
for(var d=0;d<H;d++){var L=F.x6*(o+.5)+F.I$*(d+t+.5)+F.yK,G=F.c*(o+.5)+F.at*(d+t+.5)+F.ww;if(A==8)for(var x=0;
x<c;x++){if(.5<L&&L<s-.5&&.5<G&&G<a-.5)U[d*c+x]=Math.floor(.5+T.O.arK(L,G,D,s,a));L+=K;G+=f}else if(A==16)for(var x=0;
x<c;x++){if(.5<L&&L<s-.5&&.5<G&&G<a-.5)U[d*c+x]=Math.floor(.5+T.O.agy(L,G,D,s,a));L+=K;G+=f}else if(A==32)for(var x=0;
x<c;x++){if(.5<L&&L<s-.5&&.5<G&&G<a-.5)U[d*c+x]=T.O.agy(L,G,D,s,a);L+=K;G+=f}}return{V:$,o:U}};W.On.tU=function(z,q,e,V,P){if(e==null)e=!1;
return W.On.Nv(z,e?0:1,T.O.Ak(q),null,V,P,e)};W.On.Nv=function(z,q,e,V,P,D,B){if(B==null)B=!1;if(B&&D)throw"e";
var A=T.Gx(z[0]),s={},U=0;if(V&&!T.OL.nD(V)){var a=T.OL.GZ(V);T.O.v(e,a[3]);s.V=T.R.b_(a[3]);s.buffer=T.n(s.V.D()*4,A);
var M=T.OL.$i(V);M.x=M.y=0;var $=z[1].Y();if(Math.abs(M.s-$.s)<2&&Math.abs(M.T-$.T)<2){$.x=$.y=0;M=$.Y()}T.BQ.drawImage(a,z[0],$,M,s.buffer,s.V,q==0);
return s}if(T.O.NJ(e)){T.Jr(z);var o=.3,U=0,t=T.O.uV(e),c=z[1],H=c.D()*t.vx();if(B&&H>4e6)o=H>8e6?2.2:1.2;
var F=T.aN2(z,t,o,16);U=F[0];e=T.O.Ak(F[1])}var i=z[U],c=z[U+1],X=T.O.yW(e,T.O.Ak(new e5(c.s,0,0,c.T,c.x,c.y))),K=[0,0,1,0,1,1,0,1];
for(var f=.1;f<.99;f+=.1)K.push(0,f,f,0,1,f,f,1);T.O.v(X,K);s.V=T.R.b_(K,!0);if(D)s.V=s.V.HX(D);if(B){while((s.V.s&3)!=0)s.V.s++;
while((s.V.T&3)!=0)s.V.T++}if(s.V.s>1e5||s.V.T>1e5||s.V.D()>3e4*3e4)return null;var d=s.V.D()*4;if(A==8&&P&&P.byteLength>=d&&d>=P.byteLength>>2){s.buffer=new Uint8Array(P)}else{s.buffer=T.n(d,A)}T.O.drawImage(X,i,c.s,c.T,s.buffer,s.V,q==0,B);
if(q==2&&s.buffer){var L=s.V.s,G=s.V.T,x;x=[0,-1,0,-1,16,-1,0,-1,0];x=T.WZ.zt(x);var O=s.buffer.slice(0);
T.WZ.SR(O,s.buffer,L,G,x,!0,!1)}if(s.buffer)return s};W.On.mf=function(z,q,e,V,P,D,B){var A=q.V,s=q.o;
if(B){A=B;s=q.Xp(A)}if(q.color==255)T.TG(s);var a=T.n(A.D()*4,z.depth);T.yR(s,a,3);var M=W.On.Nv([a,A],V,P,D);
if(M){e.V=M.V;e.o=T.n(M.V.D(),z.depth);T.bl(M.buffer,e.o,3);e.Ug=!0}if(q.color==255){T.TG(s);if(M)T.TG(e.o)}};
W.On.aNZ=function(z,q){var e=z.filterFX;if(e)e=e.v.filterFXList;if(e)e=e.v;if(e)for(var V=0;V<e.length;
V++){var P=e[V].v.Fltr;if(P==null)continue;var D=P.v.classID;P=P.v;if(D!="rigidTransform"&&D!="blurbTransform"&&D!="perspectiveWarpTransform")continue;
var B=[];for(var A=0;A<4;A++)B.push(P["PuX"+A].v,P["PuY"+A].v);var s=B.slice(0);T.R.v(B,q,B);for(var A=0;
A<4;A++){P["PuX"+A].v=B[A*2];P["PuY"+A].v=B[A*2+1]}if(D=="rigidTransform"){var a=["PinP","posFinalPins"],M=["originalVertexArray","deformedVertexArray"],$=P.puppetShapeList.v;
for(var U=0;U<$.length;U++){var o=$[U].v;for(var t=0;t<a.length;t++){var H=W.On.a3(o[a[t]]);T.R.v(H,q,H);
o[a[t]]=W.On.V1(H);var F=new Uint8Array(o[M[t]].v),s=new Float32Array(F.buffer);T.R.v(s,q,s);var X=[];
for(var K=0;K<F.length;K++)X[K]=F[K];o[M[t]].v=X}}}if(D=="blurbTransform"){var f=T.XR.vr(P);T.XR.v(f,q);
T.XR.LM(f[0],P)}if(D=="perspectiveWarpTransform"){var d=T.O8.aLG(P);T.R.v(d.Ej,q,d.Ej);T.R.v(d.Hr,q,d.Hr);
T.O8.GF(d,P)}}};W.On.a3=function(z){var q=[],e=z.v.length;for(var n=0;n<e;n++)q.push(z.v[n].v);return q};
W.On.V1=function(z){var q={t:"VlLs",v:[]},e=z.length;for(var n=0;n<e;n++)q.v.push({t:"doub",v:z[n]});
return q};W.On.prototype.a2v=function(){var z=T.R.mB(T.OL.GZ(this.Z1.wq())[3]),q=T.O.AX(this.Em.Uv(),this.yP),e=[z.x,z.y,z.x+z.s,z.y,z.x+z.s,z.y+z.T,z.x,z.y+z.T];
T.O.v(q,e);this.Em.Uq(e);this.yP=z};W.On.prototype.hv=function(){var z=T.O.AX(this.Em.Uv(),this.yP);
if(this.Iy)z=T.O.yW(z,T.O.Ak(this.Iy));return z};W.On.prototype.CX=function(z,q,e,V){var P=this.hv();
P=T.O.yW(P,T.O.TG(this.B2));var D=this.Z1?this.Z1.wq():null;if(this._a==0){var B=this.xd=T.O.uV(P);if(this.id==W.Z5){var A=this.Uc[0][0],s=A.uz,a=s[1],M=~~(a.s*Math.max(0,B.x6)),$=~~(a.T*Math.max(0,B.at)),U=new kk(Math.round(B.x6*a.x+B.yK),Math.round(B.at*a.y+B.ww),M,$),o=T.L7.v(this.Sb,U),t=z.Z[this.Z[0]];
t.buffer=T.EZ(o,z.depth);t.V=U;t.Kv();z.Kv()}else W.On.w8(z,q,this.Z,this.Uc,e,P,D,null,null,V)}else if(this._a==1){var c=z.Z[this.Z[0]],a=this.Pp.TP;
if(c.oT<=0){var H=this.Pp.Hm,F=this._Q,i=null;if(D&&!T.OL.nD(D)&&!F.V.bs(a)){var o=T.n(F.V.D()*4);T.aF(H,a,o,F.V);
H=o;a=F.V}if(this.id==W.Z5){var B=this.xd=T.O.uV(P),M=~~(a.s*Math.max(0,B.x6)),$=~~(a.T*Math.max(0,B.at)),U=new kk(Math.round(B.x6*a.x+B.yK),Math.round(B.at*a.y+B.ww),M,$),o=T.L7.v(this.Sb,U);
i={buffer:T.EZ(o,z.depth),V:U}}else i=W.On.Nv([H,a],e,P,D);if(i){c.wC.Sl=i.buffer;c.wC.Ds=i.V;var X=T.n(i.V.D(),z.depth);
T.bl(c.wC.Sl,X,3);z.h={o:X,V:c.wC.Ds.Y()}}}else{var K=T.n(a.D()*4);T.yR(this.Pp.Hm,K,3);var i=W.On.Nv([K,a],e,P,D);
if(i){c.wC.Sl=T.n(i.V.D());T.bl(i.buffer,c.wC.Sl,3);c.wC.Ds=i.V}this.a68(z,e,P,D)}c.EG(z,0,0,z.h);if(e!=0){c.Sn();
T.Sn(z.h)}z.ZI=!0;z.Kv()}else if(this._a==2)this.a68(z,e,P,D)};W.On.prototype.a68=function(z,q,e,V){var P=this._Q.V,D=T.n(P.D()*4);
T.yR(this._Q.o,D,3);var B=W.On.Nv([D,P],q,e,V),A=T.n(B.V.D());T.bl(B.buffer,A,3);z.h={o:A,V:B.V};z.ZI=!0};
W.On.prototype.disable=function(z,q,e,V){if(this.Em)this.wI(z,q,null,!0)};W.a5q=function(){W.On.call(this,[10,16],W.Rs,"tools/transform")};
W.a5q.prototype=new W.On;W.aE8=function(){W.On.call(this,[7,10],W.zi,"tools/transform")};W.aE8.prototype=new W.On;
W.a33=function(){W.On.call(this,[10,48],W.Z5,"tools/transform")};W.a33.prototype=new W.On;W.zL=function(z,q,e){W.__.call(this,z?z:[10,40],q?q:W.vS,e?e:"tools/slice");
this.VY=null;this.Av=null;this.hr={L:0,x:0,y:0};this.eF=null;this.adu=null;this.EA=null;this.C9=null};
W.zL.prototype=new W.__;W.zL.U8=function(z,q){var e=-1;for(var n=0;n<z.length;n++){var V=W.zL.xl(z,n);
if(V[0]<=q.x&&q.x<=V[2]&&V[1]<=q.y&&q.y<=V[3]){e=n;break}}return e};W.zL.prototype.If=function(z,q,e,V,P){if(e==null)return;
this.rx(e);if(z.p=="fromAction"){var D=z.Wp,B=D.gQ,A=D.cj,s=e.Il(),a=e.PM(),M=a==-1?new kk(0,0,e.s,e.T):e.Z[a].Le();
if(B=="divide"){if(e.gH.length!=0){var $=e.gH[0],U=W.zL.xl(e.tQ,$);M=new kk(U[0],U[1],U[2]-U[0],U[3]-U[1]);
e.tQ.splice($,1);e.gH=[]}s=[[],[]];for(var o=0;o<2;o++){var t=["Across","Down"][o],c=A["pixels"+t]?0:1,H=A[["pixels","slices"][c]+t];
if(H==null)continue;H=H.v;var F=o==0?M.x:M.y,i=o==0?M.s:M.T;if(c==0)for(var n=1;n*H<i;n++){s[0].push([o,F+n*H]);
s[1].push(a)}else{var X=Math.floor(i/H);for(var n=1;n<H;n++){s[0].push([o,F+n*X]);s[1].push(a)}}}}var K=[M.x,M.x+M.s],f=[M.y,M.y+M.T];
for(var n=0;n<s[0].length;n++){var d=s[0][n],L=Math.round(d[1]),G=s[1][n];if(G!=-1&&G!=a)continue;if(d[0]==0&&K.indexOf(L)==-1)K.push(L);
if(d[0]==1&&f.indexOf(L)==-1)f.push(L)}K.sort(function(I,Q){return I-Q});f.sort(function(I,Q){return I-Q});
for(var x=1;x<f.length;x++)for(var O=1;O<K.length;O++){e.tQ.push(W.zL.Sh());W.zL.Ac(e.tQ,e.tQ.length-1,[K[O-1],f[x-1],K[O],f[x]]);
e.XU=!0}}else if(z.p=="reorder"){if(e.gH.length==0)return;var v=e.tQ,C=e.gH;C.sort(function(I,Q){return I-Q});
console.log(C);var S=v.slice(0),j=[],w=[];for(var n=0;n<C.length;n++){var $=C[n],u=v[$];w.push(u);S.splice(S.indexOf(u),1)}var l=Math.max(0,Math.min(S.length,C[0]-z.dir));
for(var n=0;n<w.length;n++){S.splice(l+n,0,w[n]);j.push(l+n)}e.tQ=S;e.gH=j}else if(z.p=="delete"){var v=e.tQ.slice(0);
for(var n=0;n<e.gH.length;n++)e.tQ.splice(e.tQ.indexOf(v[e.gH[n]]),1);e.gH=[]}else if(z.p=="deleteAll"){e.tQ=[];
e.gH=[]}else{e.tQ[e.gH[0]].v=z;e.XU=!0}this.tn(e)};W.zL.prototype.enable=function(z,q,e,V,P,D){W.__.prototype.enable.call(this,z,q,e,V,P,D);
if(!e.Y8.tQ){var B=new dW(_.E.b,!0);B.data={p:_.m.Ln,Lh:cR.$d};q.K(B)}};W.zL.prototype.disable=function(){this.VY=null;
this.Av=null};W.zL.prototype.D1=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=W.zL.U8(z.tQ,D);this.VY=z;
this.Av=q;z.gH=B==-1?[]:[B];z.XU=!0;if(this.C9==null){var A=function(z){return{d:z.gH.length!=0}};this.C9=new gu([{name:[5,4],d:A},{name:[8,11,1],d:A,o$:!0},{name:[15,10,22],o$:!0}]);
this.C9.Q("select",this.h6,this)}var s=this.C9;s.parent=q;s.W();s.update(z,e);var a=new dW(_.E.b,!0);
a.data={p:_.m.wL,MR:s,x:P.Go+2,y:P.x5+1};q.K(a)};W.zL.prototype.h6=function(z){var q=this.C9.Gv()[0],e=this.VY;
if(q==0){this.rx(e);e.tQ.splice(e.gH[0],1);e.gH=[];e.XU=!0;this.tn(e)}else{var V=new dW(_.E.b,!0);if(q==1)V.data={p:_.m.wa,rF:"soptions",u:e.tQ[e.gH[0]].v};
else V.data={p:_.m.wa,rF:"divslice"};this.Av.K(V)}};W.zL.prototype.Qy=function(z,q,e,V,P){if(z==null)return;
this.rx(z);var D=z.A.UK(P.x,P.y);D=W.DL.N8(z,D,e,[!0,null,!1]);D.x=Math.round(D.x);D.y=Math.round(D.y);
this.EA=D;z.tQ.unshift(W.zL.Sh());z.gH=[0];W.zL.Ac(z.tQ,0,[D.x,D.y,D.x+20,D.y+20]);z.XU=!0};W.zL.prototype.Sf=function(z,q,e,V,P){if(this.eF==null)return;
var D=z.A.UK(P.x,P.y),B=this.EA;D=W.DL.N8(z,D,e,[!0,null,!1]);var A=W.LR.iu(B,D,V,!0,this.hr);B=A[0];
D=A[1];var s=[B.x,B.y,D.x,D.y];W.zL.aNO(s);W.zL.Ac(z.tQ,0,s);z.XU=!0};W.zL.prototype.AM=function(z,q,e,V,P){this.tn(z);
this.EA=null};W.zL.prototype.rx=function(z){this.eF=JSON.stringify(z.tQ);this.adu=JSON.stringify(z.gH)};
W.zL.prototype.tn=function(z){var q=JSON.stringify(z.tQ);if(q!=this.eF){var e=new ji(this.name,this);
e.data={Pp:this.eF,LK:q,a37:this.adu,aB_:JSON.stringify(z.gH)};z.Q6(e)}this.eF=null};W.zL.prototype.I7=function(z,q){q.tQ=JSON.parse(z.Pp);
q.gH=JSON.parse(z.a37);q.XU=!0};W.zL.prototype.Yi=function(z,q){q.tQ=JSON.parse(z.LK);q.gH=JSON.parse(z.aB_);
q.XU=!0};W.zL.prototype.Hp=function(z,q){return q!=null&&q.gH.length!=0&&(z==cz.Dv||z==cz.QI)};W.zL.prototype.gi=function(z,q,e,V){if(z==null)return;
if(V.t(cz.Dv)||V.t(cz.QI))this.If({p:"delete"},q,z,V,e);var P=V.bh();if(P.x!=0||P.y!=0){this.rx(z);W.zL.og(z,P);
this.tn(z)}};W.zL.prototype.Ne=function(z,q,e,V,P){this.hr=z.$L};W.zL.acH=function(z,q,e,V){var P=new f5(-q.x,-q.y),D=q.s/e.s,B=q.T/e.T,A=[0,0,q.s,q.T];
for(var n=0;n<z.length;n++){var s=W.zL.xl(z,n);if(V){s[0]=Math.round(s[0]*D);s[1]=Math.round(s[1]*B);
s[2]=Math.round(s[2]*D);s[3]=Math.round(s[3]*B)}else{W.zL.BM(s,P);W.zL.avR(s,A)}if(s[0]>=s[2]||s[1]>=s[3]){z.splice(n,1);
n--;continue}W.zL.Ac(z,n,s)}};W.zL.og=function(z,q){var e=z.tQ;for(var n=0;n<z.gH.length;n++){var V=W.zL.xl(e,z.gH[n]);
W.zL.BM(V,q);W.zL.Ac(e,z.gH[n],V)}};W.zL.avR=function(z,q){if(z[0]<q[0])z[0]=q[0];if(z[1]<q[1])z[1]=q[1];
if(q[2]<z[2])z[2]=q[2];if(q[3]<z[3])z[3]=q[3]};W.zL.BM=function(z,q){z[0]=Math.round(z[0]+q.x);z[2]=Math.round(z[2]+q.x);
z[1]=Math.round(z[1]+q.y);z[3]=Math.round(z[3]+q.y)};W.zL.Ac=function(z,n,q){var e=z[n].v.bounds.v;e.Left.v=q[0];
e.Top.v=q[1];e.Rght.v=q[2];e.Btom.v=q[3]};W.zL.xl=function(z,n){var q=z[n].v.bounds.v;return[q.Left.v,q.Top.v,q.Rght.v,q.Btom.v,n]};
W.zL.aNO=function(z){if(z[2]<z[0]){var q=z[0];z[0]=z[2];z[2]=q}if(z[2]==z[0])z[2]++;if(z[3]<z[1]){var q=z[1];
z[1]=z[3];z[3]=q}if(z[3]==z[1])z[3]++};W.zL.mB=function(z,q){var e=1e9,V=-1e9,P=1e9,D=-1e9;for(var n=0;
n<q.length;n++){var B=W.zL.xl(z,q[n]);e=Math.min(e,B[0]);P=Math.min(P,B[1]);V=Math.max(V,B[2]);D=Math.max(D,B[3])}return[e,P,V,D]};
W.zL.Sh=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
W.hJ=function(){W.zL.call(this,[10,41],W.U$,"tools/sselect");this.EA=null;this.hA=null;this.I0=null;
this.Nl=null;this.aeB=!1};W.hJ.prototype=new W.zL;W.hJ.prototype.Qy=function(z,q,e,V,P){if(z==null)return;
var D=z.A.UK(P.x,P.y),B=W.hJ.aa_(D,4/z.A.C7,z.tQ,z.gH);B.pop();if(B.length!=0){this.EA=D;this.I0=B;this.rx(z);
return}var A=z.tQ,s=W.zL.U8(A,D);if(s==-1)z.gH=[];else{var a=z.gH.indexOf(s);if(V.t(cz.XQ)){if(a==-1)z.gH.push(s);
else z.gH.splice(a,1)}else{z.gH.sort(function(c,H){return c-H});if(a==-1)z.gH=[s];this.EA=D;this.rx(z);
this.hA=W.zL.mB(A,z.gH);this.Nl=[];for(var n=0;n<z.gH.length;n++)this.Nl.push(W.zL.xl(A,z.gH[n]));if(V.t(cz.mh)){var M=A.slice(0),$=z.gH,U=[];
for(var n=0;n<$.length;n++){var s=$[n],o=M[s],t=A.indexOf(o);U.push(t);A.splice(t,0,T.G(o))}z.gH=U}}}z.XU=!0};
W.hJ.prototype.Sf=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y);if(this.EA==null){var B=W.hJ.aa_(D,4/z.A.C7,z.tQ,z.gH),A=B.pop(),s=B.length==0?"default":["ew","nwse","ns","nesw"][A]+"-resize",a=new dW(_.E.b,!0);
a.data={p:_.m.XL,ia:s};q.K(a);return}if(!this.aeB&&D.bs(this.EA))return;this.aeB=!0;var M=z.tQ,B=this.I0;
if(B){D=W.DL.N8(z,D,e,[!0,null,!1]);var $=Math.round(D.x),U=Math.round(D.y);for(var n=0;n<B.length;n+=2){var o=W.zL.xl(M,B[n]),t=B[n+1];
o[t]=(t&1)==0?$:U;W.zL.aNO(o);W.zL.Ac(M,B[n],o)}}else{var c=D.SV(this.EA),H=this.hA.slice(0);W.zL.BM(H,c);
var F=new kk(H[0],H[1],H[2]-H[0],H[3]-H[1]),i=W.DL.ZH(z,F,e,[!0,null,!1],!0);W.DL.LA(z,F,i);c.x+=i[0];
c.y+=i[1];for(var n=0;n<z.gH.length;n++)W.zL.Ac(M,z.gH[n],this.Nl[n]);W.zL.og(z,c)}z.XU=!0};W.hJ.prototype.AM=function(z,q,e,V,P){if(this.EA==null)return;
this.tn(z);z.X.P7=null;z.XU=!0;this.EA=null;this.I0=null;this.Nl=null;this.aeB=!1};W.hJ.aa_=function(z,q,e,V){var P=z.x,D=z.y,B=[],A=-1,s=[];
for(var n=0;n<V.length;n++){var a=V[n],M=W.zL.xl(e,a),$=M[0],U=M[1],o=M[2],t=M[3];if(P<$-q||o+q<P||D<U-q||t+q<D)continue;
var c=[P<$+q,D<U+q,o-q<P,t-q<D],H=-1;for(var F=0;F<4;F++){if(c[F]&&c[F+1&3])H=1+2*(F&1);if(c[F])B.push(a,F)}if(H==-1){if(c[0]||c[2])H=0;
if(c[1]||c[3])H=2}if(H!=-1){A=H;s.push(a)}}var i=B.length;for(var n=0;n<i;n+=2){var a=B[n],X=B[n+1],K=W.zL.xl(e,a)[X];
for(var F=0;F<V.length;F++){var f=V[F];if(s.indexOf(f)!=-1)continue;var M=W.zL.xl(e,f);if(M[X&1]==K)B.push(f,X&1);
if(M[2+(X&1)]==K)B.push(f,2+(X&1))}}B.push(A);return B};W.ht=function(z,q,e){W.__.call(this,z,q,e);this.gT=null;
this.a7u=null;this.JS=null;this.ba=null;this.OY=null;this.WA=null;this.GC=null;this.$g=[]};W.ht.prototype=new W.__;
W.ht.prototype.ay=function(){return!0};W.ht.Tg=function(z){if(z==null)return!1;if(z.j.length!=1)return!1;
var q=z.Z[z.j[0]];return q.add.SoLd||z.Ov(!1)};W.ht.prototype.tA=function(z,q){return W.ht.Tg(z)};W.ht.prototype.Hp=function(z,q){return z==cz.Dv||z==cz.QI};
W.ht.prototype.enable=function(z,q,e,V,P,D,B){this.a7u=D.D4;var A=D.D4,s,t=null;if(A){var a=z.Z[A.H];
if(a.add.SoLd.filterFX!=null){var M=a.add.SoLd.filterFX.v.filterFXList.v;if(M[A.index])s=T.G(M[A.index].v.Fltr.v)}}var a=z.Z[z.j[0]],$=a.buffer,U=a.V,o=a.add.SoLd;
if(o){var c=o.nonAffineTransform.v;t=[];for(var n=0;n<4;n++)t.push(c[n*2].v,c[n*2+1].v);if(s==null)this.HN("edit",q);
var H=a.kL(z);$=H.buffer;U=H.V}this.ba={buffer:$.slice(0),V:U.Y(),tK:t};this.Ht(s,z,q,D.aPh);this.qc(q);
var F=new dW(_.E.b,!0);F.data={p:_.m.XL,ia:"default"};q.K(F)};W.ht.prototype.qc=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.R9,U:this.id,Lh:this.OY};z.K(q)};W.ht.prototype.disable=function(z,q,e,V){if(this.WA)this.wI(z,q,!0)};
W.ht.prototype.HN=function(z,q){var e=new dW(_.E.z,!0);e.U=W.pa;e.data={p:z,D4:this.a7u,gT:this.gT,YY:this.JS};
q.K(e)};W.ht.prototype.wI=function(z,q,e){this.HN("confirm",q);this.escape(z,q,e)};W.ht.prototype.oC=function(z,q,e){this.HN("cancel",q);
this.escape(z,q,e)};W.Nk=function(z,q,e){W.ht.call(this,[10,46],W.hC,"tools/transform");this.gT="rigidTransform";
this.OY=[1,1,2,!0]};W.Nk.prototype=new W.ht;W.Nk.prototype.Ht=function(z,q,e){this.JS=z?z:W.Nk.Jm(this.ba,this.OY);
this.WA=W.Nk.Ou(this.JS,this.OY);this.tm();this.Us(q);if(z==null)this.LE(e)};W.Nk.prototype.tm=function(z){var q=this.WA;
this.$g=[];for(var n=0;n<q.length;n++){var e=q[n];for(var V=0;V<e.j.length;V++)this.$g.push([n,e.j[n]]);
e.uP=T.L0.a2V(e);if(z)T.L0.aF4(e)}};W.Nk.prototype.Ne=function(z,q,e,V){if(z.ep=="commit")this.wI(e,q,!0);
else if(z.ep=="cancel")this.oC(e,q,!0);else if(z.ep=="prm"){var P=!1;for(var n=0;n<3;n++)if(this.OY[n]!=z.Lh[n])P=!0;
this.OY=z.Lh;if(P){this.JS=W.Nk.Jm(this.ba,this.OY,this.JS);this.WA=W.Nk.Ou(this.JS,this.OY);this.tm(!0);
this.LE(q)}this.Us(e)}else if(z.ep=="moveDepth"){var D=this.WA;for(var B=0;B<D.length;B++){var A=D[B];
for(var n=0;n<A.j.length;n++){var s=A.j[n];A.Ko[s]+=z.aC4?1:-1}}this.LE(q)}};W.Nk.prototype.gi=function(z,q,e,V){var P=V.bh();
if(V.t(cz.JN))this.wI(z,q,!0);else if(V.t(cz.Nf))this.oC(z,q,!0);else if(V.t(cz.Dv)||V.t(cz.QI)){var D=this.WA;
for(var B=0;B<D.length;B++){var A=D[B];A.j.sort(function(M,$){return $-M});for(var n=0;n<A.j.length;
n++){var s=A.j[n],a=s*2;A.Ko.splice(s,1);A.nT.splice(s,1);A.dq.splice(s,1);A._V.splice(s,1);A.Pn.splice(a,2);
A.Hr.splice(a,2)}A.j=[];if(A._V.length==0){A.ab7=A.uZ.slice(0);A.kW=A.uZ.slice(0)}}this.tm(!0);this.LE(q);
this.Us(z)}else if(P.x!=0||P.y!=0){this.a5J(z,P.x,P.y,q);this.JE=null}};W.Nk.prototype.escape=function(z,q,e){z.X.NI=null;
z.X.cU=[];z.X.EO=[];z.XU=!0;this.WA=null;var V=new dW(_.E.b,!0);V.data={p:_.m.Kb};if(e)q.K(V)};W.Nk.prototype.Qy=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=D.x,A=D.y,s=this.WA,a=null,M=[0,2,4,1.2,1.2,1.2],$=-1,U=W.DG(z,P);
for(var n=0;n<s.length;n++){var o=s[n],t=T.R.NV(o.Hr,B,A,U);if(t!=-1)a=[n,t];if($==-1&&T.L0.a4b.aCa(o.kW,o.Vt,B,A))$=n}if(a==null&&$!=-1){var o=s[$];
W.Nk.au$(o,B,A,B,A,0);a=[$,o._V.length-1];o.uP=T.L0.a2V(o)}this.GC=D;if(a){var c=s[a[0]].j.indexOf(a[1])!=-1;
if(V.t(cz.XQ)&&!c){s[a[0]].j.push(a[1]);this.$g.push(a)}else if(!c){s[a[0]].j=[a[1]];this.$g=[a]}}this.Us(z)};
W.Nk.au$=function(z,q,e,V,P,D){var B=T.R.NV(z.kW,q,e);z._V.push(B);z.Hr.push(V,P);z.Pn.push(z.kW[B*2]-q,z.kW[B*2+1]-e);
z.dq.push(0);z.nT.push(!1);z.Ko.push(D)};W.Nk.prototype.Sf=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=this.GC;
if(B)this.a5J(z,D.x-B.x,D.y-B.y,q)};W.Nk.prototype.a5J=function(z,q,e,V){var P={},D=this.$g,B=this.WA;
if(this.JE==null){this.JE=[];for(var n=0;n<B.length;n++)this.JE.push(B[n].Hr.slice(0))}for(var n=0;n<D.length;
n++){var A=this.$g[n],s=A[0],a=B[A[0]],M=A[1]*2;a.Hr[M+0]=this.JE[s][M+0]+q;a.Hr[M+1]=this.JE[s][M+1]+e;
P[s]=s}for(var s in P)T.L0.aF4(this.WA[P[s]]);this.Us(z);this.LE(V)};W.Nk.prototype.AM=function(z,q,e,V,P){this.GC=null;
this.JE=null};W.Nk.prototype.LE=function(z){W.Nk.a0A(this.WA,this.OY,this.JS);this.HN("edit",z)};W.Nk.prototype.Us=function(z){var q=this.WA,e=this.JS;
z.X.NI={J:[],_:[]};z.X.cU=[];z.X.EO=[];for(var n=0;n<q.length;n++){var V=q[n];for(var P=0;P<V.Hr.length;
P+=2){var D=z.X.EO;if(V.j.indexOf(P>>>1)!=-1)D=z.X.cU;D.push(V.Hr[P],V.Hr[P+1])}if(this.OY[3])T.R.concat(z.X.NI,T.R.ajW(V.kW,V.Vt))}z.XU=!0};
W.Nk.Jm=function(z,q,e){var V=z.buffer,P=z.V,D=z.tK,B=ak.g1("rigidTransform");if(D)for(var n=0;n<4;n++){B["PuX"+n].v=D[n*2];
B["PuY"+n].v=D[n*2+1]}var A=B.puppetShapeList.v,s=T.L0.atX(V,P.s,P.T,q[1],q[2]),a=[];for(var M=0;M<s.length;
M++){var $={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
$.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var U=s[M];A.push({t:"Objc",v:$});var o=U.uZ.slice(0);T.R.v(o,new e5(1,0,0,1,P.x,P.y),o);var t=U.Vt;
for(var n=0;n<t.length;n+=3){var c=t[n+1];t[n+1]=t[n+2];t[n+2]=c}a.push({Vt:t,uZ:o,ab7:o,kW:o,_V:[],Pn:[],Hr:[],uP:null,j:[],dq:[],nT:[],Ko:[]})}if(e){var H=W.Nk.Ou(e,[]),F=a[0];
for(var n=0;n<H.length;n++){var i=H[n];for(var X=0;X<i.j.length;X++)F.j.push((F.Hr.length>>>1)+i.j[X]);
for(var X=0;X<i._V.length;X++){var K=i._V[X]*2,f=i.uZ[K]-i.Pn[X*2],d=i.uZ[K+1]-i.Pn[X*2+1];W.Nk.au$(F,f,d,i.Hr[X*2],i.Hr[X*2+1],i.Ko[X])}}}W.Nk.a0A(a,q,B);
return B};W.Nk.Ou=function(z,q){var e=W.On.a3,V=z.puppetShapeList.v,P=[];for(var D=0;D<V.length;D++){var B=V[D].v;
q[0]=B.meshRigidity.v-1;q[1]=B.meshQuality.v-1;q[2]=B.meshExpansion.v;var A=B.pinVertexIndices.v.length,s=B.meshBoundaryPath.v.pathComponents.v;
if(s.length!=0){var a=s[0].v.SbpL.v[0].v.Pts;a.v=[]}var M=new Uint32Array(new Uint8Array(B.indexArray.v).buffer),$=new Float32Array(new Uint8Array(B.originalVertexArray.v).buffer),U=new Float32Array(new Uint8Array(B.deformedVertexArray.v).buffer),o=[],t=[],c=[];
for(var n=0;n<M.length;n++)o.push(M[n]);for(var n=0;n<$.length;n++){t.push($[n]);c.push(U[n])}var H=e(B.pinVertexIndices),F=e(B.pinOffsets),i=e(B.posFinalPins),X=e(B.PnRt),K=e(B.PnOv),f=e(B.PnDp),d=e(B.selectedPin);
P.push({Vt:o,uZ:t,ab7:c.slice(0),kW:c,_V:H,Pn:F,Hr:i,uP:null,dq:X,nT:K,Ko:f,j:d})}return P};W.Nk.a0A=function(z,q,e){function V(U,o){var t=[];
for(var n=0;n<U.length;n++)t.push({t:o,v:U[n]});return t}function P(U,o,t){var c=new(t?Uint32Array:Float32Array)(U),H=new Uint8Array(c.buffer);
for(var n=0;n<H.length;n++)o[n]=H[n]}var D=e.puppetShapeList.v;for(var B=0;B<D.length;B++){var A=z[B],s=D[B].v;
s.meshRigidity.v=q[0]+1;s.meshQuality.v=q[1]+1;s.meshExpansion.v=q[2];P(A.Vt,s.indexArray.v,!0);P(A.uZ,s.originalVertexArray.v);
P(A.kW,s.deformedVertexArray.v);var a=[];for(var n=0;n<A._V.length;n++){var M=A._V[n]*2,$=n*2;a[$]=A.uZ[M]-A.Pn[$];
a[$+1]=A.uZ[M+1]-A.Pn[$+1]}s.PinP.v=V(a,"doub");s.pinVertexIndices.v=V(A._V,"long");s.pinOffsets.v=V(A.Pn,"doub");
s.posFinalPins.v=V(A.Hr,"doub");s.PnRt.v=V(A.dq,"long");s.PnOv.v=V(A.nT,"bool");s.PnDp.v=V(A.Ko,"doub");
s.selectedPin.v=V(A.j,"long")}};W.Hs=function(z,q,e){W.ht.call(this,"Perspective Warp",W.nL,"tools/transform");
this.gT="perspectiveWarpTransform";this.QY=-1;this.f8=-1;this.j9=!1;this.aMp=!1};W.Hs.prototype=new W.ht;
W.Hs.prototype.Ht=function(z,q,e){this.JS=z?z:ak.g1(this.gT);this.WA=T.O8.aLG(this.JS);if(this.ba.tK){this.WA.tK=this.ba.tK;
T.O8.GF(this.WA,this.JS)}this.OY=this.WA.Ml;this.qc(e);this.Us(q)};W.Hs.prototype.Qy=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=this.WA,A=B.Ml,s=A==0?B.Ej:B.Hr;
this.j9=!0;var a=W.DG(z,P);this.QY=T.R.NV(s,D.x,D.y,a);if(A==0&&this.QY==-1){var M=s.length>>>1,$=-(z.s+z.T>>>4);
B.J0.push(M,M+1,M+2,M+3);s.push(D.x,D.y,D.x+$,D.y,D.x+$,D.y+$,D.x,D.y+$);B.Hr=s.slice(0);this.aMp=!0;
this.QY=M;T.O8.GF(B,this.JS);this.Us(z)}if(this.QY!=-1)this.f8=this.QY};W.Hs.prototype.Sf=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=this.WA,A=B.Ml,s=A==0?B.Ej:B.Hr,a=B.J0;
if(this.j9){var M=this.QY,$=s.slice(0);$[M*2]=D.x;$[M*2+1]=D.y;for(var n=0;n<a.length;n+=4){var U=[];
for(var o=0;o<4;o++)U.push($[2*a[n+o]],$[2*a[n+o]+1]);if(!ik.a7(U))return}if(A==0){B.Ej=$;if(this.aMp)B.Hr=$.slice(0)}else{B.Hr=$;
this.aMp=!1}T.O8.GF(B,this.JS);if(A==1)this.HN("edit",q)}else{var t=W.DG(z,P);this.QY=T.R.NV(s,D.x,D.y,t)}this.Us(z)};
W.Hs.prototype.AM=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=this.WA,A=B.Ml,s=A==0?B.Ej:B.Hr,a=B.J0,M=this.QY;
this.j9=!1;if(A==0&&M!=-1){var $=W.DG(z,P),U=T.R.NV(s,D.x,D.y,$,M);if(U!=-1){if(U<M){var o=M;M=U;U=o}var t=a.slice(0),c=s.slice(0);
c.splice(U*2,2);for(var n=0;n<t.length;n++){if(t[n]==U)t[n]=M;else if(t[n]>U)t[n]--}for(var n=0;n<t.length;
n+=4){for(var H=0;H<4;H++)for(var F=H+1;F<4;F++)if(t[n+H]==t[n+F])return}B.J0=t;if(A==0)B.Ej=c;else B.Hr=c;
T.O8.GF(B,this.JS);this.Us(z)}}};W.Hs.prototype.gi=function(z,q,e,V,P){var D=V.bh(),B=this.f8,A=this.WA,s=A.Ml;
if(V.t(cz.JN))this.wI(z,q,!0);else if(V.t(cz.Nf))this.oC(z,q,!0);else if(V.t(cz.Dv)||V.t(cz.QI)||P)if(s==0&&B!=-1){var a=A.J0;
for(var n=0;n<a.length;n+=4){if(a[n]==B||a[n+1]==B||a[n+2]==B||a[n+3]==B){a.splice(n,4);n-=4}}var M=[];
for(var n=0;n<A.Ej.length;n++)M.push(n);for(var n=(A.Ej.length>>>1)-1;n>=0;n--){if(a.indexOf(n)==-1){M.splice(n,1);
A.Ej.splice(n*2,2);A.Hr.splice(n*2,2)}}for(var n=0;n<a.length;n++)a[n]=M.indexOf(a[n]);T.O8.GF(A,this.JS);
this.f8=-1;this.Us(z)}};W.Hs.prototype.Ne=function(z,q,e,V){if(z.ep=="commit")this.wI(e,q,!0);else if(z.ep=="cancel")this.oC(e,q,!0);
else if(z.ep=="delete")this.gi(e,q,null,V,!0);else{this.WA.Ml=z.Lh;T.O8.GF(this.WA,this.JS);this.Us(e);
this.HN("edit",q)}};W.Hs.prototype.escape=function(z,q,e){z.X.VK=null;z.X.cU=[];z.X.EO=[];z.XU=!0;this.WA=null;
var V=new dW(_.E.b,!0);V.data={p:_.m.Kb};if(e)q.K(V)};W.Hs.prototype.Us=function(z){var q=this.WA,e=this.QY,V=this.f8,P=q.Ml==0?q.Ej:q.Hr,D=q.J0;
z.X.EO=P.slice(0);z.X.cU=[];if(V>e){var B=e;e=V;V=B}if(e!=-1){z.X.cU.push(P[e*2],P[e*2+1]);z.X.EO.splice(e*2,2)}if(V!=-1&&V!=e){z.X.cU.push(P[V*2],P[V*2+1]);
z.X.EO.splice(V*2,2)}z.X.VK={J:[],_:[]};for(var n=0;n<D.length;n+=4){z.X.VK._.push("M","L","L","L","Z");
for(var A=0;A<4;A++)z.X.VK.J.push(P[2*D[n+A]],P[2*D[n+A]+1])}z.XU=!0};W.fv=function(){W.ht.call(this,"Blur Gallery",W.PV,"tools/ruler");
this.gT="blurbTransform";this.OY=[0,[],null];this.QY=-1};W.fv.prototype=new W.ht;W.fv.prototype.Ht=function(z,q,e,V){this.WA={};
var P=z==null;if(z==null){z=ak.g1(this.gT);T.XR.a9J(z,V,q.s/2,q.T/2);var D=[!1,!1,!1,!1,!1,!1];D[V]=!0;
T.XR.ams(z,D)}this.JS=z;this.OY[0]=T.XR.a0E(z);this.OY[1]=T.XR.aHv(z);this.Us(q);if(P)this.HN("edit",e)};
W.fv.prototype.gi=function(z,q,e,V){if(V.t(cz.JN))this.wI(z,q,!0);else if(V.t(cz.Nf))this.oC(z,q,!0);
else if(V.t(cz.Dv)||V.t(cz.QI)){var P=this.QY;if(P==-1)return;var D=this.OY[0],B=T.XR.vr(this.JS)[0],A=B[D];
if(D==0)A.splice(P,1);if(D==1||D==5)A.splice(Math.floor(P/6),1);if(D==3)A.splice(Math.floor(P/5),1);
if(D==4)A.splice(Math.floor(P/4),1);T.XR.LM(B,this.JS);T.XR.a6z(this.JS,D);this.QY=-1;this.Us(z);this.HN("edit",q)}};
W.fv.prototype.Ne=function(z,q,e,V){if(z.ep=="commit")this.wI(e,q,!0);else if(z.ep=="cancel")this.oC(e,q,!0);
else{this.OY=z.Lh;var P=this.OY[0],D=this.QY;T.XR.ams(this.JS,this.OY[1]);if(this.OY[2]){var B=T.XR.vr(this.JS)[0],A=B[P];
if(P==0)A[D][2]=this.OY[2][0];if(P==1||P==5)A[Math.floor(D/6)][14]=this.OY[2][0];if(P==3)A[Math.floor(D/5)][10]=this.OY[2][0];
if(P==4){A[0][4]=this.OY[2][0]/100;var s=(D&3)<2?0:5,a=A[Math.floor(D/4)],M=a[s],$=a[s+1],U=a[s+2]-M,o=a[s+3]-$,t=Math.sqrt(U*U+o*o),c=this.OY[2][1];
if(t==0){a[s+2]=M+c;a[s+3]=$}else{a[s+2]=M+c*U/t;a[s+3]=$+c*o/t}}T.XR.LM(B,this.JS)}T.XR.a6z(this.JS,P);
this.Us(e);this.HN("edit",q)}};W.fv.prototype.escape=function(z,q,e){z.X.st=null;z.X.VK=null;z.X.IY=null;
z.X.cU=[];z.X.EO=[];z.XU=!0;this.WA=null;var V=new dW(_.E.b,!0);V.data={p:_.m.Kb};if(e)q.K(V)};W.fv.prototype.Us=function(z){var q=T.XR.vr(this.JS)[0];
z.X.cU=[];z.X.EO=[];var e=z.X.st={J:[],_:[]},V=z.X.VK={J:[],_:[]},P=z.X.IY={J:[],_:[]};this.$g=[];this.arq=[];
var D=this.OY[0],B=this.QY,A=q[D];for(var n=0;n<A.length;n++){var s=A[n];if(D==0){if(n==B){z.X.cU.push(s[0],s[1]);
this.OY[2]=[s[2]]}else z.X.EO.push(s[0],s[1]);this.arq.push([]);this.$g.push(s[0],s[1])}else if(D==1||D==5){var a=T.XR.aoq(s);
a.TG();var M=[0,-1,1,0,0,1,-1,0,0,0,1-s[10],0];T.R.v(M,a,M);for(var $=0;$<M.length;$+=2){if(B==n*6+($>>>1)){z.X.cU.push(M[$],M[$+1]);
this.OY[2]=[s[14]]}else z.X.EO.push(M[$],M[$+1]);this.$g.push(M[$],M[$+1])}var U=T.R.EP(T.S.nU.f4(-1,-1,2,2));
T.R.concat(e,U,a)}else if(D==3){var o=s[0],t=s[1],c=s[2]-s[0],H=s[3]-s[1],F=Math.sqrt(c*c+H*H),i=H*1e4/F,X=-c*1e4/F;
for(var $=0;$<10;$+=2){if(B==n*5+($>>>1)){z.X.cU.push(s[$],s[$+1]);this.OY[2]=[s[10]]}else z.X.EO.push(s[$],s[$+1]);
this.$g.push(s[$],s[$+1]);if($==0)continue;if(Math.floor(B/5)!=n)continue;e.J.push(s[$]-i,s[$+1]-X,s[$]+i,s[$+1]+X);
e._.push("M","L")}}else if(D==4){P.J.push(s[0],s[1],s[5],s[6]);P._.push("M","L");for(var $=0;$<2;$++){var K=$*5,o=s[K],t=s[K+1],f=s[K+2],d=s[K+3],c=f-o,H=d-t,L=Math.sqrt(c*c+H*H),G=25;
if(L!=0){c/=L;H/=L}if((B&14)==n*4+$*2){z.X.cU.push(o,t,f,d);this.OY[2]=[s[4]*100,L]}else z.X.EO.push(o,t,f,d);
V.J.push(o,t,f,d);V._.push("M","L");this.$g.push(o,t,f,d);if(L==0)continue;var x=-c*G*2,O=-H*G*2;V.J.push(f,d,f+(-H*G+x),d+(c*G+O));
V.J.push(f,d,f+(H*G+x),d+(-c*G+O));V._.push("M","L","M","L","M","L")}}}z.XU=!0};W.fv.prototype.Sf=function(z,q,e,V,P){function D(Y,n,R){var d=Y[n]-Y[R],L=Y[n+1]-Y[R+1];
return Math.sqrt(d*d+L*L)}var B=z.A.UK(P.x,P.y),A=T.R.NV(this.$g,B.x,B.y,6/z.A.C7);if(this.GC){var s=this.QY,a=this.OY,M=a[0],$=T.XR.vr(this.JS)[0],U=$[M];
if(M==0){U[s][0]=B.x;U[s][1]=B.y}if(M==1||M==5){var o=Math.floor(s/6),t=s-o*6,c=U[o],H=D(c,0,2)/2,F=D(c,2,4)/2,i=c[8],X=c[9],K=Math.atan2(-c[3]+c[1],c[2]-c[0]),f=c[10],d=B.x-i,L=B.y-X,G=Math.sqrt(d*d+L*L);
if(t<4){K=Math.atan2(-L,d)+(-1+t)*Math.PI/2;if(t==0||t==2)F=G;else H=G}if(t==4){i=B.x;X=B.y}if(t==5)f=Math.max(0,Math.min(1,1-G/H));
var x=new e5;x.scale(H,F);x.rotate(K);x.translate(i,X);var O=U[o]=[-1,-1,1,-1,1,1,-1,1,0,0];T.R.v(O,x,O);
O.push(f,f,f,f,c[14])}if(M==3){var o=Math.floor(s/5),t=s-o*5,c=U[o],v=c[0],C=c[1],S=D(c,0,2),j=D(c,0,4),w=D(c,0,6),u=D(c,0,8),K=Math.atan2(-c[3]+c[1],c[2]-c[0]),d=B.x-v,L=B.y-C,G=Math.sqrt(d*d+L*L);
if(t==0){v=B.x;C=B.y}if(t==1)S=Math.max(w*1.1,G);if(t==2)j=Math.max(u*1.1,G);if(t==3)w=Math.min(S,G);
if(t==4)u=Math.min(j,G);if(t==1)K=Math.atan2(-L,d);if(t==2)K=Math.atan2(L,-d);var O=U[o]=[0,0,-S,0,j,0,-w,0,u,0],x=new e5;
x.rotate(K+Math.PI);x.translate(v,C);T.R.v(O,x,O);O.push(c[10])}if(M==4){var o=Math.floor(s/4),t=s-o*4,c=U[o],l=t<2?0:5;
if((t&1)==0){var I=[c[2]-c[0],c[3]-c[1],c[7]-c[5],c[8]-c[6]],Q=Math.atan2(-(c[6]-c[1]),c[5]-c[0]);c[l]=B.x;
c[l+1]=B.y;var b=Math.atan2(-(c[6]-c[1]),c[5]-c[0]),x=new e5;x.rotate(b-Q);for(var n=0;n<2;n++){var p=new f5(I[n*2],I[n*2+1]);
p=x.a0(p);c[n*5+2]=c[n*5]+p.x;c[n*5+3]=c[n*5+1]+p.y}}else{c[l+2]=B.x;c[l+3]=B.y}}T.XR.LM($,this.JS);
T.XR.a6z(this.JS,M);this.Us(z)}else{var k="default";if(A!=-1)k="pointer";var g=new dW(_.E.b,!0);g.data={p:_.m.XL,ia:k};
q.K(g)}};W.fv.prototype.Qy=function(z,q,e,V,P){var D=this.OY[0],B=z.A.UK(P.x,P.y),A=B.x,s=B.y,a=T.R.NV(this.$g,A,s,10/z.A.C7);
if(a==-1){a=T.XR.a9J(this.JS,D,A,s)}this.GC=B;this.QY=a;this.Us(z)};W.fv.prototype.AM=function(z,q,e,V,P){if(this.GC){this.HN("edit",q);
this.qc(q)}this.GC=null};W.Pe=function(){W.cn.call(this,[10,44],W.acQ,"tools/oselect");this.Wq="crosshair";
this.aFl=0};W.Pe.prototype=new W.cn;W.Pe.prototype.O3=function(z,q,e,V){if(Math.random()<1/(1+this.aFl)){alert("The cross should be fully inside the object.",3500);
this.aFl++}};W.Pe.prototype.Qh=function(z,q,e,V){W.e2.iI(z,W.cn.VN,this.Av);if(!V._W||!this.M1)return;
var P=this.$i(z,e,!1),D=P.s,B=P.T,A=P.x,s=P.y,a=P.x+D,M=P.y+B,$=A+D/2,U=s+B/2,o=W.Pe.akr;z.X.NI={J:[A,s,a,s,a,M,A,M,$-D*o,U,$+D*o,U,$,U-B*o,$,U+B*o],_:"M L L L Z M L M L".split(" ")};
z.XU=!0};W.Pe.akr=.12;W.Pe.prototype.lG=function(z,q,e,V){z.X.NI=null;z.XU=!0;this.finish(z,q,e,V)};
W.Pe.prototype.getSelection=function(z,q,e,V){if(this.O4.bs(this.b2)||!this.M1)return null;var P=this.$i(z,e,!1),D=z.Z[z.j[0]];
if(P.a8()||!P.Je(D.V))return null;return W.cn.CL("ObSl",P)};W.e2=function(){W.j6.call(this,[10,37],W.$s,"tools/qselect");
this.VA="qselect"};W.e2.prototype=new W.j6;W.e2.prototype.Qy=function(z,q,e,V,P){if(z.j.length==0){alert("Select a layer first.");
return}W.e2.iI(z,W.cn.VN,q,!0);this.xC(z,e,V,P,1);if(this.QR==null)return;this.qw(z)};W.e2.prototype.Sf=function(z,q,e,V,P){this.xI(z,q,e);
W.e2.iI(z,W.cn.VN,q);if(this.WS)this.mI(z,e,P);if(this.QR==null)return;if(!P._W)return;var D=this.nh(z,e,V,P);
if(D!=1)this.qw(z)};W.e2.iI=function(z,q,e,V){if(z.j.length==0)return;if(z&&q.key!=W.e2.XP(z)){q.key=W.e2.XP(z);
var P=z.Z[z.j[0]].V.D(),B="Image Analysis ...";if(P==0)return;var D=P>1e6&&V!=!0,A=new dW(_.E.b,!0);
A.data={p:_.m.lu,MN:B};if(D)e.K(A);var s=function(){var a=W.e2.a0r(z);for(var M in a)q[M]=a[M];var A=new dW(_.E.b,!0);
A.data={p:_.m.Rx,MN:B};if(D)e.K(A)};if(V)s();else setTimeout(s,30)}};W.e2.XP=function(z){var q=z.j[0],e=z.Z[q],V=e.V,P=V.s,D=V.T,B=P*D,A=T.EZ(e.buffer,8);
return[q,V.x,V.y,P,D,A[0],A[1],A[2],A[3]].join(",")};W.e2.a0r=function(z){var q=z.j[0],e=z.Z[q],V=e.V,P=V.s,D=V.T,B=P*D,A=T.EZ(e.buffer,8),s=Date.now(),a=T.n(B);
a.fill(128);var M=T.xQ.oj(A,P,D);console.log(Date.now()-s);var $={key:W.e2.XP(z),E1:A,V:V.Y(),xL:P,Hi:D,AH:12,Yr:a,ns:M,h:T.n(B),RM:null,t0:null,KX:null};
W.e2.Gs($,null,z);return $};W.e2.Gs=function(z,q,e){var V=z.xL,P=z.Hi,D=0,B=0,A=Date.now(),s=z.RM!=null&&T.xQ.akd(z.RM.Vt,z.RM.W3,z.Yr)==-1;
D=Date.now()-A;A=Date.now();if(!s){var a=T.xQ.akd(z.ns.Vt,z.ns.W3,z.Yr),M=0;while(a!=-1){var $=[],U=[],o=z.ns.Vt;
for(var t=0;t<P;t++)for(var c=0;c<V;c++){var n=t*V+c;if(o[n]==a){var H=z.Yr[n];if(H==0)$.push(c,t);if(H==255)U.push(c,t)}}var F=e.Z[e.j[0]],i=T.EZ(F.buffer,8);
T.xQ.oj.V9(i,V,P,z.ns,$,U);a=T.xQ.akd(z.ns.Vt,z.ns.W3,z.Yr);M++;if(M>=10){console.log("too many subdivisions");
break}}z.RM=T.xQ.YR(z.ns,V,P,z.Yr,z.AH);z.t0=T.xQ.a24(z.E1,V,P,z.RM.Vt,z.RM.W3);z.KX=[z.t0[0].slice(0),[]];
B=Date.now()-A;A=Date.now()}var A=Date.now();if(q){z.KX[0].set(z.t0[0]);var X=z.t0[1],K=z.KX[1];for(var f=0;
f<X.length;f++)K[f]=X[f].slice(0);T.xQ.ax3(z.RM.Vt,V,P,z.RM.W3,z.Yr,z.h,z.KX)}};W.IQ=function(){W.__.call(this,[10,50],W.r9,"tools/artb");
this.Ip=null;this.a9P=!1;this.Em=null;this.qW=!1;this.a31=null;this.dd=100;this.iz=null;this.fF=0};W.IQ.prototype=new W.__;
W.IQ.prototype.If=function(z,q,e,V,P){this.BX(e,z.ae5,q,z.Ml)};W.IQ.amH=function(z,q){var e=z[0],V=0,P=0;
if(e==0)P=-1;else if(e==1)V=1;else if(e==2)P=1;else V=-1;return[20/q.Zi,z[1]+V*60/q.Zi,z[2]+P*60/q.Zi]};
W.IQ.prototype.Ne=function(z,q,e,V,P){this.Ip=z.Lh;this.fF=Date.now()};W.IQ.prototype.zs=function(z,q,e,V){if(e.Ai!=this.id)return;
if(z==null||z.j.length!=1){this.NT(z);return}var P=z.j[0],D=z.Z[P],B=D.add.artb;if(B==null){this.NT(z);
return}if(this.qW)return;if(Date.now()-this.fF>50){this.Ip={};var A=["artboardBackgroundType","Clr"];
for(var n=0;n<A.length;n++)if(B[A[n]])this.Ip[A[n]]=T.G(B[A[n]]);var s=new dW(_.E.b,!0);s.data={p:_.m.R9,U:this.id,ee:this.Ip};
q.K(s)}var a=D.Le(),M=T.R.iR(a).J,$=this.Em=new ik(M,!0,!1,!1,!0,!1,3,!1);$.kd(z,e,!1);var U={J:[1,0],_:["M"]};
for(var n=1;n<30;n++){var o=Math.PI*2*n/30;U.J.push(Math.cos(o),Math.sin(o));U._.push("L")}U._.push("Z","M","L","M","L");
U.J.push(-.5,0,.5,0,0,-.5,0,.5);var t=a.x+a.s/2,c=a.y+a.T/2,H=this.dd*1.1,F=this.a31=[t,a.y,a.x+a.s,c,t,a.y+a.T,a.x,c],i=[0,-H,H,0,0,H,-H,0],X=z.root.children;
z.X.Hg=[];for(var n=0;n<4;n++){var K=new f5(F[n*2]+i[n*2],F[n*2+1]+i[n*2+1]),f=!1;for(var d=0;d<X.length;
d++){var D=X[d].H;if(D.add.artb==null)continue;var a=D.Le();if(a.vG(K))f=!0}if(f){F[n*2]=1e9;continue}z.X.Hg.push([n,F[n*2],F[n*2+1]])}};
W.IQ.prototype.disable=function(z,q,e,V,P){this.NT(z)};W.IQ.prototype.NT=function(z){if(this.Em){this.Em.clear(z);
this.Em=null;z.X.Hg=null}};W.IQ.prototype.Qy=function(z,q,e,V,P){this.fF=Date.now();var D=z.A.UK(P.x,P.y),B=this.Em;
if(B){var A=new dW(_.E.z),s=B.pN(null,D,z,P);if(s<9){this.qW=B.Qy(z,e,V,D,null,!0,P);return}else if(B.t6(D)){A.U=W.HI;
A.data={p:"disabAuto"};q.K(A);var a=new dW(_.E.b);a.data={p:_.m.uB,U:W.HI,ajy:!0};q.K(a);return}else{var M=-1,$=z.X.Hg;
for(var n=0;n<$.length;n++){var U=W.IQ.amH($[n],z.A);if(f5.h5(D,new f5(U[1],U[2]))<U[0])M=$[n][0]}if(M!=-1){var o=z.Z[z.j[0]].Le(),t=o.Y(),c=(M==0||M==2?o.T:o.s)+this.dd;
if(M==0||M==3)c=-c;if(M==0||M==2)o.y+=c;else o.x+=c;if(V.t(cz.mh)){var H=new kk(0,0,z.s,z.T);A.U=W.si;
A.data={p:lK.Mi};q.K(A);W.DL.zE(z,z.u4(null,z.j[0],null,!0),null,o.x-t.x,o.y-t.y);z.j=z.j.slice(z.j.length-1);
var F=W.hV.Iz(z);if(F){var i=z.$p();i.data.yP=H;i.data.Ih=F;i.data.Ap=z.j}}else this.BX(z,o,q);return}}}this.iz=W.DL.N8(z,D,e)};
W.IQ.prototype.BX=function(z,q,e,V){if(V==null)V=0;var P=z.Z.slice(0),D=[z.Z.length+1],B=z.OJ();B.up(iE.get([1,16,0])+" "+(z.add.artd==null?1:z.root.children.length+1));
B.add.lsct=fH._j;B.Ig(q);if(this.Ip){var A=B.add.artb,s=this.Ip;for(var a in s)A[a]=s[a]}B.pi="pass";
B.b9=24;if(V==0){if(z.add.artd||q.HX(new kk(0,0,z.s,z.T)).a8())P.push(z.cs());else P.unshift(z.cs())}else{var M=z.u4();
M.sort(function(c,H){return c-H});var $=W.NU.h4(z,M,P.length-1,!1,null,!1),U=$.pop(),o=$.pop();P=$.pop();
P.splice(z.Z.length-M.length,0,z.cs())}P.push(B);var t=new dW(_.E.z);t.U=W.si;t.data={p:lK.te,qM:P,Nz:D,JJ:[1,16,2]};
e.K(t)};W.IQ.prototype.Sf=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=this.Em,A=this.iz;if(B){if(this.qW){B.Sf(z,e,V,D)}else{var s=B.s1(D,z.A.C7,null,P);
if(s==null)s="default";var a=new dW(_.E.b,!0);a.data={p:_.m.XL,ia:s};q.K(a)}}if(A){var M=this.xl(z,D,V,e);
z.X.NI=T.R.iR(M);z.XU=!0;W.__.Lq(P,M,z,e)}};W.IQ.prototype.AM=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=this.iz;
if(this.qW){this.Em.AM(z,e,V,D);this.qW=!1;var A=T.R.b_(this.Em.Uv()),s=lK.bO(A),a=z.Z[z.j[0]],M=T.G(a.add.artb);
M.artboardRect.v=s;var $=new dW(_.E.z,!0);$.U=W.si;$.data={p:lK.x8,Tc:M};q.K($)}if(B){var U=this.xl(z,D,V,e);
if(U.D()>20)this.BX(z,U,q);z.X.NI=null;z.XU=!0;this.iz=null;z.X.QZ=[]}};W.IQ.prototype.xl=function(z,q,e,V){var P=this.iz,D=W.DL.N8(z,q,V),B=W.LR.iu(P,D,e,!0);
P=B[0];D=B[1];return T.R.b_([P.x,P.y,D.x,D.y])};W.Fr=function(){W.__.call(this,[10,50],W.jg,"tools/artb");
this.Em=null;this.mT=!1;this.i=null;this.arZ=null;this.ts=null;this.afV=null;this.aI0=null;this.I_=null;
this.Re=null};W.Fr.prototype=new W.__;W.Fr.prototype.Hp=function(z,q){return z==cz.Dv||z==cz.QI};W.Fr.prototype.gi=function(z,q,e,V){if(V.t(cz.Dv)||V.t(cz.QI))this.If({p:"del"},q,z,V,e)};
W.Fr.prototype.If=function(z,q,e,V,P){var D=e.add.arts;this.arZ=JSON.stringify(D);if(z.p=="del"){for(var n=0;
n<D.length;n++)if(D[n].j){D.splice(n,1);n--}}if(z.p=="new"){for(var n=0;n<D.length;n++)D[n].j=!1;var B=e.GM(),A=B.x+B.s+20;
D.push({Q7:"Artboard "+(D.length+1),sI:[A,B.y,A+100,B.y+100],j:!0})}if(z.p=="rpl"){var s=0;for(var n=0;
n<D.length;n++)if(D[n].j)s=n;D[s]=z.u}if(z.p=="adapt"){var a=[];for(var n=0;n<e.Z.length;n++)a.push(n);
var M=W.On.$i(e,a),$=D[D.length-1];$.sI=[M.x,M.y,M.x+M.s,M.y+M.T]}this.aDZ(e);this.M5(e)};W.Fr.prototype.disable=function(z,q,e,V,P){this.mT=!1};
W.Fr.prototype.enable=function(z,q,e,V,P){this.mT=!0;this.i=e;this.M5(z)};W.Fr.prototype.NT=function(z){};
W.Fr.prototype.Qy=function(z,q,e,V,P){var D=this.Re=z.A.UK(P.x,P.y),B=z.add.arts;this.arZ=JSON.stringify(B);
var A=this.Em,s=A?A.s1(D,z.A.C7,null,P):null,a=V.t(cz.EF)||V.t(cz.XQ);if(A&&!a&&(T.R.mB(A.Uv()).vG(D)||s)){}else{var M=-1;
for(var n=0;n<B.length;n++)if(T.R.mB(B[n].sI).vG(D))M=n;if(M==-1)this.xe(z,-1);else if(a)B[M].j=!B[M].j;
else this.xe(z,M);this.M5(z)}if(this.Em){this.Em.Qy(z,e,V,D,null,!0,P)}z.XU=!0};W.Fr.prototype.Sf=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=z.add.arts,A=JSON.parse(this.ts);
if(this.Em){this.Em.Sf(z,e,V,D);if(P._W){var s=T.R.mB(this.Em.Uv()),a=this.aI0,M=new e5;M.translate(-a.x,-a.y);
M.scale(s.s/a.s,s.T/a.T);M.translate(s.x,s.y);var $=this.Em.pN(V,D,z,P);for(var n=0;n<B.length;n++){var U=B[n];
if(!U.j)continue;if(T.R.mB(A[n].sI).a8())U.sI=[s.x,s.y,s.x+s.s,s.y+s.T];else{U.sI=A[n].sI.slice(0);T.R.v(U.sI,M,U.sI)}}if($==10){W.DL.zE(z,this.afV,null,s.x-this.I_.x,s.y-this.I_.y);
this.I_=s}z.Kv()}var o="default",t=this.Em.s1(D,z.A.C7,null,P);if(t)o=t;var c=new dW(_.E.b,!0);c.data={p:_.m.XL,ia:o};
q.K(c)}else if(P._W&&f5.h5(D,this.Re)>=6/z.A.C7){B.push({Q7:"Artboard "+(B.length+1),sI:[0,0,0,0],j:!0});
this.M5(z);this.Em.Qy(z,e,V,this.Re,null,!0,P)}};W.Fr.prototype.AM=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y),B=z.add.arts,A=JSON.parse(this.ts),s=V.t(cz.EF)||V.t(cz.XQ);
if(!s&&f5.h5(this.Re,D)<6/z.A.C7){var a=-1;for(var n=0;n<B.length;n++)if(T.R.mB(B[n].sI).vG(D))a=n;if(a!=-1){this.xe(z,a);
this.M5(z)}if(T.R.mB(A[A.length-1].sI).a8()){this.Em.clear(z);B.pop()}}if(this.Em){var M=this.Em.pN(V,D,z,P);
this.Em.AM(z,e,V,D);if(!D.bs(this.Re))this.aDZ(z,M==10?D.SV(this.Re):null)}};W.Fr.prototype.aDZ=function(z,q){var e=new ji([10,50],this);
e.data={Zz:this.arZ,oo:JSON.stringify(z.add.arts)};if(q){e.data.j=this.afV;e.data.oX=q}z.Q6(e)};W.Fr.prototype.M5=function(z){var q=z.add.arts,e=new kk,V=0,P=[];
for(var n=0;n<q.length;n++)if(q[n].j){var D=T.R.mB(q[n].sI);e=e.X8(D);z.root.SN(D,P);V++}if(V==0){if(this.Em)this.Em.clear(z);
z.XU=!0;this.Em=null;return}this.ts=JSON.stringify(q);this.afV=P;this.aI0=this.I_=e;var B=T.R.iR(e).J;
this.Em=new ik(e.a8()?null:B,!0,!1,!1,!1,!1,3);if(!e.a8())this.Em.kd(z,this.i)};W.Fr.prototype.xe=function(z,q){var e=z.add.arts;
for(var n=0;n<e.length;n++)e[n].j=q==n};W.Fr.prototype.Yi=function(z,q){q.add.arts=JSON.parse(z.oo);
if(z.j)W.DL.zE(q,z.j,null,z.oX.x,z.oX.y);if(this.mT)this.M5(q);q.XU};W.Fr.prototype.I7=function(z,q){q.add.arts=JSON.parse(z.Zz);
if(z.j)W.DL.zE(q,z.j,null,-z.oX.x,-z.oX.y);if(this.mT)this.M5(q);q.XU};function ik(z,q,e,V,P,D,B,A){this.az=null;
this.wi=z?z.slice(0):null;this.x0=1;this.dH=4;this.b2=null;this.p8=null;this.w6=null;this.QY=-1;this.GC=null;
this.aJm=!1;this.aE2=[];for(var n=0;n<8;n++)this.aE2.push(hZ.aej(0,PIMG.rotate,-.5,-.5,-45-n*45));this.aEN=q;
this.a6F=e;this.aJ1=V;this.aDt=P;this.aPM=D;this.Ml=B;this.ao6=A==null?1:A}ik.prototype.aJq=function(){return this.QY!=-1};
ik.prototype.Uv=function(){return this.wi.slice(0)};ik.prototype.Uq=function(z){this.wi=z};ik.prototype.aMG=function(){return this.Wr(this.wi)};
ik.prototype.ap3=function(){return this.dH};ik.prototype.are=function(z){this.dH=z};ik.prototype.om=function(z){if(z==null)z=this.wi;
if(this.dH==9)return this.b2;else return this.Wr(z)[this.dH]};ik.prototype.aKC=function(z){if(this.dH==9)this.b2=z.Y();
else{var q=this.om(),e=new e5(1,0,0,1,z.x-q.x,z.y-q.y);T.R.v(this.wi,e,this.wi)}};ik.prototype.it=function(z){this.x0=z};
ik.prototype.s1=function(z,q,e,V,P,D){var B=this.fu(D,z,q,V),A;if(B==9)return"default";if(B==10){if(e)return null;
return!this.aEN?"move":null}if(B==-1||B==4)return null;if(B==11){var s=this.om().SV(z);if(P==null)P=Math.atan2(s.y,s.x);
A=90-P*180/Math.PI;var a=Math.round(8*(A/360));a=(a+8)%8;return this.aE2[a]}else{var M=this.ah(z,this.wi);
A=[135,90,45,180,0,0,225,270,315][B]*Math.PI/180;var $=T.O.AX(this.wi);return ik.aiB($[0],$[3],A)}};
ik.aiB=function(z,q,e){var V=Math.atan2(-q,z);if(e)V+=e;var P="ew nesw ns nwse ew nesw ns nwse".split(" "),D=Math.round(8*(V/(2*Math.PI)));
D=(D+8)%8;return P[D]+"-resize"};ik.prototype.ah=function(z,q){var e=T.O.TG(T.O.AX(q)),V=new Float64Array(2);
T.O.xt(z.x,z.y,e,V);return new f5(V[0],V[1])};ik.prototype.t6=function(z){var q=this.ah(z,this.wi);return 0<=q.x&&q.x<=1&&0<=q.y&&q.y<=1};
ik.prototype.Qy=function(z,q,e,V,P,D,B,A){this.aJm=D;this.GC=V;var s=z.A.C7,a;if(this.wi==null)V=W.DL.N8(z,V,q);
this.w6=V.Y();if(this.wi==null){if(A==null)A=0;var M=new e5;M.rotate(A);var $=M.a0(new f5(1,1));this.w6.offset($.x,$.y);
var U=P==null?1:1/P,o=this.wi=[0,0,1,0,1,U,0,U];M.translate(V.x,V.y);T.R.v(this.wi,M,this.wi);a=8}else{a=this.fu(e,V,s,B);
var t=e.t(cz.EF)&&(a==1||a==3||a==5||a==7);if(0<=a&&a<=8&&!t)this.w6=this.Wr(this.wi)[a];if(a==9){this.dH=9;
this.b2=V.Y()}}this.az=this.wi.slice(0);this.QY=a;this.kd(z,q);this.p8=this.om();return a!=-1};ik.prototype.pN=function(z,q,e,V){return this.fu(z,q,e.A.C7,V)};
ik.prototype.fu=function(z,q,e,V){var P=z&&z.t(cz.EF),D=-1,B=this.Wr(),A=[0,2,6,8,1,3,5,7],s=V?W.DG({A:{C7:e}},V):8*W.WU()/e,a=f5.h5(B[0],B[2]),M=f5.h5(B[0],B[6]),$=this.ah(q,this.wi);
$.x*=a;$.y*=M;var U=new kk(0,0,a,M);U.Gm(s,s);if(D==-1)if(f5.h5(this.om(),q)<s)D=9;if(D==-1)for(var n=0;
n<A.length;n++)if(f5.h5(B[A[n]],q)<s)D=A[n];if(D==-1&&U.vG($)){if(Math.abs($.y-0)<s)D=1;if(Math.abs($.x-0)<s)D=3;
if(Math.abs($.y-M)<s)D=7;if(Math.abs($.x-a)<s)D=5}if(D==-1&&z&&z.t(cz.mh))D=9;if(D==-1||this.Ml==4){if(this.t6(q)){if(this.aEN)D=10}else{var o=[3,.85][cW];
U.Gm(o*s,o*s);D=U.vG($)&&this.Ml!=3?11:10;if(D==10&&cW==1)D=-1}}return D};ik.prototype.Sf=function(z,q,e,V,P){if(this.QY==-1)return;
this.GC=V;var D=e&&e.t(cz.XQ),B=e&&e.t(cz.mh),A=e&&e.t(cz.EF),s=z.A.C7,a=this.w6,M=this.QY,$=M==0||M==2||M==6||M==8,U=this.Wr(),o=W.DL.N8(z,a,q),t=W.DL.N8(z,V,q),c,H;
if(M==9){var U=this.Wr(),F=-1;for(var n=0;n<U.length;n++)if(f5.h5(U[n],t)*s<10)F=n;this.dH=F==-1?9:F;
this.b2=D?W.QT.lW(o,t):t.Y()}else if(M==10){H=T.R.mB(this.az);var i=H.x,X=H.y;H.offset(V.x-a.x,V.y-a.y);
if(this.aLH()){H.x=Math.round(H.x);H.y=Math.round(H.y)}c=W.DL.ZH(z,H,q);var K=new e5(1,0,0,1,H.x-i+c[0],H.y-X+c[1]);
T.R.v(this.az,K,this.wi)}else if(M==11){var f=this.om(this.az),d=f.SV(V),L=f.SV(a),G=Math.atan2(d.y,d.x),x=Math.atan2(L.y,L.x),K=new e5(1,0,0,1,-f.x,-f.y),O=Math.PI/12;
if(D)K.rotate(Math.round((x-G)/O)*O);else K.rotate(x-G);K.translate(f.x,f.y);T.R.v(this.az,K,this.wi)}else{var v=D,C;
if(P&&!A)v=!v;if(this.aPM)v=!0;var S=this.az;if(this.Ml==1){if($)D=B=A=!0}else if(this.Ml==2&&$&&this.aJm!=!0)A=!0;
if(this.Ml==3)A=!1;else if(this.Ml==5){D=A=!0}if(this.aJ1&&$&&A){var n=[0,0,2,0,0,0,6,0,4,0][M],j=-1,w=t.x,u=t.y;
if(D){var l=n+6&7,I=n+10&7,Q=ik.aJA(S[n],S[n+1],S[l],S[l+1],t.x,t.y),b=ik.aJA(S[n],S[n+1],S[I],S[I+1],t.x,t.y),p=Q[2]<b[2]?Q:b;
w=p[0];u=p[1];if(B)j=Q[2]<b[2]?l:I}else if(B)j=n+4&7;C=S.slice(0);if(j!=-1){var k=S[j],g=S[j+1],Y=(S[n]+k)/2,R=(S[n+1]+g)/2;
C[j]=Y-(w-Y);C[j+1]=R-(u-R)}C[n]=w;C[n+1]=u}else if($&&B){var f=this.p8,m=f.x,Z=f.y,E=o.x-m,N=o.y-Z,h=1,j5=1;
if(Math.abs(E)>=1)h=(t.x-m)/E;if(Math.abs(N)>=1)j5=(t.y-Z)/N;if(v)h=j5=(h+j5)/2;var K=new e5;K.translate(-m,-Z);
K.scale(h,j5);K.translate(m,Z);C=S.slice(0);T.R.v(C,K,C)}else if(!$&&A&&this.a6F){function r(eF,io,g2){var gx=io[0]-eF[0],lC=io[1]-eF[1],aL=T.R.WM(g2[0],g2[1],-lC,gx,eF[0],eF[1],gx,lC);
return aL}var l8=[1,5,7,3].indexOf(M),aP=l8+1&3,bS=S.slice(l8*2,l8*2+2),kR=S.slice(aP*2,aP*2+2),j1=t;
if(D){var f6=r(bS,kR,[t.x,t.y]);j1=new f5(t.x-f6*(kR[1]-bS[1]),t.y+f6*(kR[0]-bS[0]))}var gx=j1.x-a.x,lC=j1.y-a.y,g2=[this.p8.x,this.p8.y],dv=[g2[0]+kR[0]-bS[0],g2[1]+kR[1]-bS[1]],bv=r(g2,dv,[a.x,a.y]);
C=S.slice(0);for(var n=0;n<4;n++){if(!B&&n!=l8&&n!=aP)continue;var eo=S.slice(n*2,n*2+2),aL=r(g2,dv,eo)/bv;
C[n*2]+=aL*gx;C[n*2+1]+=aL*lC}}else{if(this.aLH()){t.x=Math.round(t.x);t.y=Math.round(t.y)}var dh=[0,1,2,5,8,7,6,3],eM=dh[(dh.indexOf(M)+4)%8],kg=[];
for(var n=0;n<3;n++)for(var j=0;j<3;j++)kg.push(new f5(j/2,n/2));var f=this.p8,jJ=B&&(this.dH==4||this.dH==9)?this.ah(f,S):kg[eM],iL=B&&(this.dH==4||this.dH==9)?f:U[eM];
if($&&v){function bz(eF,io,g2){var gx=io[0]-eF[0],lC=io[1]-eF[1],aL=T.R.WM(g2[0],g2[1],-lC,gx,eF[0],eF[1],gx,lC);
return[g2[0]-lC*aL,g2[1]+gx*aL]}while(!0){var ks=bz([iL.x,iL.y],[a.x,a.y],[t.x,t.y]);ks=new f5(ks[0],ks[1]);
ks=W.DL.N8(z,ks,q);if(f5.h5(ks,t)<1e-6)break;t=ks}}var gr=this.ah(t,S),hg=this.ah(a,S),ci=new e5,fK=new e5,h=(gr.x-jJ.x)/(hg.x-jJ.x);
if(h==0)h=1e-4;var j5=(gr.y-jJ.y)/(hg.y-jJ.y);if(j5==0)j5=1e-4;if(this.aDt){h=Math.max(h,0);j5=Math.max(j5,0)}if($){if(v)ci.scale(h,h);
else ci.scale(h,j5)}else if(M!=4){var jN=v,dD=A&&D;if(dD)jN=!1;if(M==1||M==7)ci.scale(jN?j5:1,dD?1:j5);
else ci.scale(dD?1:h,jN?h:1);if(this.a6F&&A){if(M==1||M==7)fK.I$=(gr.x-jJ.x)/(gr.y-jJ.y);else fK.c=(gr.y-jJ.y)/(gr.x-jJ.x)}}var K=new e5;
K.translate(-jJ.x,-jJ.y);K.concat(ci);K.concat(fK);K.translate(jJ.x,jJ.y);C=[0,0,1,0,1,1,0,1];T.R.v(C,K,C);
var p=T.O.AX(S);T.O.v(p,C)}if(ik.a7(C))this.wi=C}this.kd(z,q);if(c)W.DL.LA(z,H,c)};ik.aJA=function(z,q,e,V,P,D){var B=e-z,A=V-q,s=P-z,a=D-q,M=B*B+A*A,$=s*B+a*A,U=$/M,o=z+U*B,t=q+U*A,c=P-o,H=D-t;
return[o,t,Math.sqrt(c*c+H*H)]};ik.prototype.aLH=function(){var z=this.wi;return Math.abs(z[1]-z[3])<1e-6&&Math.abs(z[2]-z[4])<1e-6||Math.abs(z[0]-z[2])<1e-6&&Math.abs(z[3]-z[5])<1e-6};
ik.a7=function(z){return T.R.apE(z)||T.R.apE([z[6],z[7],z[4],z[5],z[2],z[3],z[0],z[1]])};ik.prototype.AM=function(z,q,e,V){this.QY=-1;
this.GC=null;z.X.P7=null;z.X.QZ=[];z.XU=!0};ik.prototype.gi=function(z,q,e){var V=e.bh(z?z.A.gV:0);if(V.x||V.y){var P=new e5(1,0,0,1,V.x,V.y);
T.R.v(this.wi,P,this.wi);this.kd(z,q);return!0}return!1};ik.prototype.Wr=function(z){if(z==null)z=this.wi;
var q=z[6]-z[0],e=z[7]-z[1],V=z[4]-z[2],P=z[5]-z[3],D=[z[0],z[1],z[2],z[3],z[0]+q/2,z[1]+e/2,z[2]+V/2,z[3]+P/2,z[6],z[7],z[4],z[5]],B=[];
for(var n=0;n<3;n++){var A=n*4,s=D[A+0],a=D[A+1],M=D[A+2],$=D[A+3];B.push(new f5(s,a));B.push(new f5(s+(M-s)/2,a+($-a)/2));
B.push(new f5(M,$))}return B};ik.prototype.kd=function(z,q,e){if(z.X==null)return;if(e==null)e=!1;var V=this.x0,P=this.Wr(),D=P[0],B=P[2],A=P[6],s=P[8],a={_:[],J:[]};
if(V==0)z.X.NI=a;else z.X.st=a;var M=T.O.AX([D.x,D.y,B.x,B.y,s.x,s.y,A.x,A.y]);a._.push("M","L","L","L","Z");
a.J.push(0,0,1,0,1,1,0,1);var $=this.ao6;if($>1){z.X.Fl=T.G(a);T.O.v(M,z.X.Fl.J);for(var n=1;n<$;n++){var U=n/$;
a._.push("M","L","M","L");a.J.push(0,U,1,U,U,0,U,1)}}T.O.v(M,a.J);z.A.hj=new kk(0,0,f5.h5(P[0],P[2]),f5.h5(P[0],P[6]));
if(this.QY!=-1&&this.QY<9&&this.GC){var o=z.A.Gb(this.GC.x,this.GC.y);W.__.Lq(o,z.A.hj,z,q)}if(!e){var t=[];
if(V==0)z.X.Bj=t;else z.X.uX=t;for(var n=0;n<P.length;n++)if(n!=4)t.push(P[n].x,P[n].y);var c=this.om();
t.push(c.x,c.y)}z.XU=!0};ik.prototype.clear=function(z){z.A.hj=null;z.X.P7=null;z.X.NI=null;z.X.st=null;
z.X.Fl=null;z.X.Bj=[];z.X.uX=[];z.XU=!0};function ay(z){this.OL=null;this.QY=-1;this.atF=null;this.aas=null;
this.CN=null;this.ko=-1;this.au1=null;this.aoa(z)}ay.prototype.wq=function(){return T.G(this.OL)};ay.prototype.aoa=function(z){this.OL=T.G(z)};
ay.prototype.any=function(z){this.ko=z};ay.prototype.t6=function(z){return!0};ay.prototype.s1=function(z,q,e,V){var P=this.fu(z,q,V);
if(P==-1)return"default";return"pointer"};ay.prototype.Qy=function(z,q,e,V,P,D,B){if(this.ko!=-1)return!0;
this.QY=this.fu(V,z.A.C7,B);var A=T.OL.GZ(this.OL),s=T.BQ.aI(A,V),a=0<s[0]&&s[0]<1&&0<s[1]&&s[1]<1;this.atF=a?s:null;
this.aas=JSON.stringify(A);this.au1=JSON.stringify(this.OL);this.CN=V;return this.QY!=-1||a};ay.prototype.fu=function(z,q,e){var V=e?W.DG({A:{C7:q}},e)*2:20*W.WU()/q,P=this.OL,D=ay.apL(P),B=-1;
if(D){B=T.R.NV(D,z.x,z.y,V);if(B!=-1)B+=1e6}else{var A=T.OL.GZ(P);B=T.R.NV(A[3],z.x,z.y,V);if(B!=-1&&this.zn(A,B)==null)B=-1}return B};
ay.prototype.Sf=function(z,q,e,V){if(this.ko!=-1)return;var P=this.OL,D=this.QY,B=this.atF,A=JSON.parse(this.aas),s=A[0],a=A[1],M=A[3];
if(D>=1e6){var $=P.warpStyle.v.warpStyle,U=T.OL.$i(P);if($=="warpCylinder"){this.OL=P=JSON.parse(this.au1);
var o=W.On.a3(P.warpValues),t=(o[2]-o[0])/(o[1]-o[3]),c=o[4]*t*U.T,H=o[5]*t*U.T,F=V.x-this.CN.x,i=V.y-this.CN.y;
o[0]=U.x;o[1]=U.y+U.T;o[2]=U.x+U.s;o[3]=U.y;D-=1e6;if(D==0){o[0]+=F;o[1]+=i}if(D==1){o[2]+=F;o[3]+=i}if(D==2){c+=2*i;
H+=2*i}if(D==3){H+=2*i}if(D==4){o[6]=Math.max(0,Math.min(1,o[6]-2*F/U.s))}var X=T.R.mB(o.slice(0,4)),K=X.s/U.s,f=X.T/U.T;
o[4]=c/X.s;o[5]=H/X.s;P.warpValues=W.On.V1(o);var d=new e5;d.translate(-U.x,-U.y);d.scale(K,f);d.translate(X.x,X.y);
if(D<4)return d}else{var L=P.warpRotate.v.Ornt,G=L=="Vrtc",x=T.OL.akT[$],O=G?-V.x/U.s:-V.y/U.T;O+=x[1];
if(x[1]>.5)O=-O;O/=x[2];var K=U.s/U.T;if(G)K=1/K;if(x[3])O/=K;P.warpValue.v=100*Math.max(-1,Math.min(1,O))}}else if(D!=-1){var v=[D],F=V.x-M[D*2],i=V.y-M[D*2+1];
if(s*a>16){var C=this.zn(A,D);if(C[0]==0){var S=Math.floor(D/s),j=D-S*s;if(j>0)v.push(D-1);if(j<s-1)v.push(D+1);
if(S>0)v.push(D-s);if(S<a-1)v.push(D+s)}}for(var n=0;n<v.length;n++){M[v[n]*2]+=F;M[v[n]*2+1]+=i}T.OL.qj(P,A)}else if(B){T.BQ.a8_(A,B[0],B[1],V.x-this.CN.x,V.y-this.CN.y);
T.OL.qj(P,A)}};ay.prototype.AM=function(z,q,e,V){var P=this.ko;this.atF=null;this.ko=-1;if(P!=-1){var D=T.OL.GZ(this.OL),B=T.BQ.aI(D,V);
if(P==0||P==1)T.BQ.split(D,0,B[0]);if(P==0||P==2)T.BQ.split(D,1,B[1]);T.OL.qj(this.OL,D)}z.XU=!0;return P!=-1};
ay.prototype.gi=function(z,q,e){var V=e.bh();if(V.x||V.y){var P=new e5(1,0,0,1,V.x,V.y);T.R.v(this.wi,P,this.wi);
this.kd(z)}};ay.prototype.zn=function(z,n){var q=z[0],e=z[1],V=this.QY,P=Math.floor(V/q),D=V-P*q,B=V%3,A=V%3,s=B==0&&A==0,P=Math.floor(n/q),D=n-P*q,B=D%3,A=P%3;
if(B!=0&&A!=0)return null;if(B==0&&A==0)return[0];else{var a=0;if(A==0)a=B==1?n-1:n+1;if(B==0)a=A==1?n-q:n+q;
if(q*e>16){var M=V==n||V==n+1||V==n-1||V==n+q||V==n-q;if(s&&(M||V==n+2||V==n-2||V==n+2*q||V==n-2*q)){}else if(!s&&M){}else return null}return[1,a]}};
ay.apL=function(z,q){var q=z.warpStyle.v.warpStyle,V;if(q=="warpCustom"||q=="warpNone")return null;var e=T.OL.GZ(z);
if(q=="warpCylinder"){var P=z.warpValues.v;V=[0,1,1,0,.5,0,.5,1,.75-.25*P[6].v,.5]}else{var D=z.warpRotate.v.Ornt,B=T.OL.akT[q];
V=D=="Hrzn"?[B[0],B[1]]:[B[1],B[0]]}T.BQ.v(e,V,new kk(0,0,1,1));return V};ay.prototype.kd=function(z,q){var e=this.OL,V=e.warpStyle.v.warpStyle,P=T.OL.GZ(e),D=P[0],B=P[1],A=P[3],s=z.X.st={_:[],J:[]},a=z.X.uX=[],M=z.X.y6=[],$=this.QY;
if(V=="warpCustom"||V=="warpNone")for(var U=0;U<B;U++)for(var o=0;o<D;o++){var n=U*D+o,t=this.zn(P,n);
if(t==null)continue;var c=A[2*n],H=A[2*n+1],F=M;if(t[0]==0)F=n==$&&D*B>16?M:a;else{var i=t[1];s._.push("M","L");
s.J.push(c,H,A[2*i],A[2*i+1])}F.push(c,H)}else{var X=ay.apL(e);if(X)for(var n=0;n<X.length;n++)a.push(X[n])}for(var U=0;
U+1<B;U+=3)for(var o=0;o+1<D;o+=3){s._.push("M","C","C","C","C");var n=U*D+o,K=n+D+D,f=[n,n+1,n+2,n+3,n+D+3,K+3,K+D+3,K+D+2,K+D+1,K+D,K,n+D,n];
for(var n=0;n<f.length;n++){var c=A[f[n]*2],H=A[f[n]*2+1];s.J.push(c,H)}}var d=[],L=[];function G(x,o,C){for(var f=0;
f<=C;f++){L.push(f==0?"M":"L");if(x==0)d.push(o,f/C);else d.push(f/C,o)}}if(q)q=T.BQ.aI(P,q);for(var x=0;
x<2;x++){var O=P[2][x],v=x==0?D:B,C=v*5;for(var S=1;S<v;S++){var j=Math.floor((S-1)/3),w=S-(1+j*3);if(w==0)continue;
var o=O[j]+w/3*(O[j+1]-O[j]);G(x,o,C)}var u=this.ko;if(q&&u!=-1&&(u==0||u-1==x))G(x,q[x],C)}T.BQ.v(P,d,new kk(0,0,1,1));
T.R.concat(s,{J:d,_:L});z.XU=!0};ay.prototype.clear=function(z){z.X.st=null;z.X.uX=[];z.X.y6=[];z.XU=!0};
function c3(){this.j9=!1;this._B=!1;this.atI=!1;this.asF=!1;this.aIU=!1;this.f7=!1;this.fw=0;this.f1=0}c3.prototype.Qy=function(z){this.j9=!0;
this._B=!1;this.aIU=z.t(cz.XQ);this.f7=z.t(cz.mh);this.fw=this.aIU?0:1;this.f1=this.f7?0:1};c3.prototype.gi=function(z){var q=this.asF=z.t(cz.XQ),e=this.atI=z.t(cz.mh);
if(this._B){if(this.fw==0&&!q)this.fw++;if(this.fw==1&&q)this.fw++;if(this.f1==0&&!e)this.f1++;if(this.f1==1&&e)this.f1++}};
c3.prototype.Sf=function(){this._B=!0};c3.prototype.AM=function(){this.j9=!1};c3.prototype.Mg=function(n){if(n==0)return this.j9?this.f7:this.atI;
if(n==1)return this._B?this.f1==2:!1};c3.prototype.Lf=function(n){if(n==0)return this.j9?this.aIU:this.asF;
if(n==1)return this._B?this.fw==2:!1};W.History=function(){W.__.call(this,"History",W.S3);this.awl=!0;
this.aAc=0};W.History.prototype=new W.__;W.History.prototype.If=function(z,q,e,V){e.y8=!0;if(z.p=="h_itemchange"){if(z.index<e.B5)for(var n=e.B5;
n>z.index;n--)this.TM(e);if(z.index>e.B5)for(var n=e.B5;n<z.index;n++)this.wm(e)}if(z.p=="h_stepfwd")this.wm(e);
if(z.p=="h_stepbck")this.TM(e);if(z.p=="h_undoredo"){var P=this.awl||this.aAc!=e.B5;if(P){this.TM(e);
P=!1}else{this.wm(e);P=!0}this.awl=P;this.aAc=e.B5}if(z.p=="h_clear"){if(z.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
e.history=[new ji([1,0],null)];e.B5=0}else this.awl=!0};W.History.prototype.TM=function(z){if(z.B5==0)return;
var q=z.history[z.B5];q.U.I7(q.data,z);z.B5--};W.History.prototype.wm=function(z){if(z.B5==z.history.length-1)return;
var q=z.history[z.B5+1];q.U.Yi(q.data,z);z.B5++};W.NU=function(){W.__.call(this,"Layers",W.si);this.Av=null};
W.NU.prototype=new W.__;W.NU.prototype.If=function(z,q,e,V,P){this.Av=q;var D=z.p,B=z.H!=null?z.H:e.j.length!=0?e.j[0]:e.Z.length-1,A=e.Z[B];
e.$k=!0;var s=V.t(cz.mh),a=V.t(cz.XQ),M=V.t(cz.EF);if(D==lK.uk&&e.h==null&&(e.j.length>1||!e.Ov(!1)||e.Z[e.j[0]].YZ()))D=lK.Mi;
if(D==lK.Kj){var $=new ji([6,33],this),U=A.YZ()?["pass"].concat(aA.q2):aA.q2,o=U[z.oo],t=z.H!=null?[z.H]:e.j,c=JSON.stringify(t),H=[];
for(var n=0;n<t.length;n++)H.push(e.Z[t[n]].pi);$.data={p:D,ML:c,Gk:H,oo:o};e.Q6($);this.Yi($.data,e);
this.track(fw.vo("Md",{t:"enum",v:{BlnM:aA.bi(o)}}))}if(D==lK.tS){var $,F=e.$p(),t=z.H!=null?[z.H]:e.j,c=JSON.stringify(t);
if(F&&F.data&&F.data.p==D&&F.data.ML==c)$=F;else{var i=fw.vo("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(i);var H=[];for(var n=0;n<t.length;n++)H.push(e.Z[t[n]].vz);$=new ji([6,32],this);$.data={p:D,ML:c,Gk:H,oo:z.oo,a3q:i.cj};
e.Q6($)}$.data.oo=z.oo;$.data.a3q.T.v.Opct.v.val=Math.round(z.oo*100/255);this.Yi($.data,e)}if(D==lK.UC){var $,F=e.$p(),t=z.H!=null?[z.H]:e.j,c=JSON.stringify(t);
if(F&&F.data&&F.data.p==D&&F.data.ML==c)$=F;else{var H=[];for(var n=0;n<t.length;n++){var X=e.Z[t[n]].add.iOpa;
H.push(X==null?255:X)}$=new ji("Fill Opacity Change",this);$.data={p:D,ML:c,Gk:H,oo:z.oo};e.Q6($)}$.data.oo=z.oo;
this.Yi($.data,e)}if(D==lK.rd){var K=A.m,$,F=e.$p();if(F&&F.data&&F.data.p==D&&F.data.H==B)$=F;else{$=new ji("Audio Change",this);
$.data={p:D,H:B,Gk:{Aa:K.Aa,volume:K.volume}};e.Q6($)}$.data.oo=z.oo;this.Yi($.data,e)}if(D==lK.rY){var K=e.m,$,F=e.$p();
if(F&&F.data&&F.data.p==D)$=F;else{$=new ji("Project Audio",this);$.data={p:D,Gk:{Ul:K.Ul,HL:K.HL}};
e.Q6($)}$.data.oo=z.oo;this.Yi($.data,e)}if(D==lK.B4){var f=z.oo,d=z.H!=null?[z.H]:e.j.slice(0),L=[],G=[],$;
for(var x=0;x<d.length;x++){var O=e.Z[d[x]];if(O.add.lspf==null)O.add.lspf=0;var H=O.add.lspf,o=H;for(var n=0;
n<f[0].length;n++){var v=f[1][n],C=1<<v;if((o&C)==0&&f[0][n])o^=C;else if((o&C)!=0&&!f[0][n])o^=C}L.push(H);
G.push(o)}var F=e.$p(),t=JSON.stringify(d);if(F&&F.data&&F.data.p==D&&JSON.stringify(F.data.ML)==t){$=F;
$.data.oo=G}else{var $=new ji([6,57,1],this);$.data={p:D,ML:t,Gk:L,oo:G};e.Q6($)}this.Yi($.data,e)}if(D==lK.lC){var S="----",j=z.Pz,o=null;
for(var n=0;n<ae.mt.P$.length;n++)if(A.add[ae.mt.P$[n]])S=ae.mt.P$[n];var w=A.add[S];if(j=="TySh")o=dc.Pj(50,50,P.Zh);
var $=new ji("Layer Type",this);$.data={p:D,H:B,ak3:[S,w],Pz:[j,o]};e.Q6($);this.Yi($.data,e)}if(D==lK.rC){var d=[];
if(s){var u=e.$p(),l=u?u.data:null;if(u!=null&&u.U==this&&l.p==lK.rC&&l.ML.length!=1){var I=new dW(_.E.z);
I.U=W.S3;I.data={p:"h_stepbck"};q.K(I);if(l.H==B)return}var Q=e.root.G6(B),b=Q,p=[z.H];while(b.parent!=e.root){p.push(b.parent.index);
b=b.parent}for(var n=0;n<e.Z.length;n++){var k=e.Z[n],b=e.root.G6(n),g=p.indexOf(n)!=-1?!0:k.Sw()&&Q.depth<b.depth;
if(g!=k.Sw())d.push(n)}}else if(z.ML)d=z.ML;else{d.push(B);var Y=e.Z[B].Sw(),i={gQ:Y?"hide":"show",cj:{classID:Y?"Hd":"Shw",null:{t:"VlLs",v:[fw.y5("Lyr",!0)]}}};
this.track(i)}var $=new ji("Layer visibility",this,!0);$.data={p:D,ML:d,H:B};e.Q6($);this.Yi($.data,e)}if(D==lK.eb){if(P.Ai==W.r9){var R=new dW(_.E.b);
R.data={p:_.m.uB,U:W.HI};q.K(R)}var m=z.aEH,Z=z.es,h,escape=!1,j5=!1;if(z.al1){if(M&&(Z==0||Z==1||Z==2)){var E=0;
if(a)E++;if(s)E+=2;var N=new dW(_.E.z,!0);N.U=W.qK;N.data={p:"fromlayer",HH:[z.H,Z,E]};q.K(N);return}}var i={gQ:"select",cj:{classID:"null",MkVs:{t:"bool",v:!1}}};
e.a2g();if(V.t(cz.EF)||z.afc==0){var r=e.j.indexOf(B);if(r==-1)e.j.push(B);else if(e.j.length>1){if(z.afc!=0)e.j.splice(r,1)}e.j.sort(function($,b1){return $-b1});
i.cj.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};h=B}else if(a&&!s&&Z>0){D=Z==1?lK.ce:Z==2?lK.qT:lK.Ee;
escape=!0}else if((a||z.afc==1)&&e.j.length>0){var l8=Math.min(B,e.j[0]),aP=Math.max(B,e.j[e.j.length-1]);
e.j=[];for(var n=l8;n<=aP;n++)if(e.Z[n].add.lsct!=fH.pR)e.j.push(n);i.cj.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
h=B}else{h=B;if(B>=e.Z.length)return;var k=e.Z[B];if(k&&k.YZ()&&z.aAe)k.add.lsct=fH._j;else if(e.j.length==1&&e.j[0]==B&&Math.max(0,Z)==k.oT){j5=!0;
e.$k=!1}if(!j5){e.j=[B];e.uf()}}if(!j5){if(h!=null&&h<e.Z.length){i.cj.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:e.Z[h].getName()}}]},this.track(i)}if(!escape){console.log("no escape");
if(e.j.length==1){var bS=e.j[0];for(var n=0;n<e.Z.length;n++){if(n==bS)continue;var O=e.Z[n];O.oT=0;
O.bS=!1}var A=e.Z[bS];if(Z==2){A.bS=!A.bS;e.o0=[]}else if(A){A.oT=Z<=0?0:Z}}else for(var n=0;n<e.Z.length;
n++){var O=e.Z[n];O.oT=0;O.bS=!1}e.L3=null;e.y8=!0}}if(z.al1&&s){if((Z==1||Z==3)&&m!=null){var N=new dW(_.E.z,!0);
N.U=W.OF;N.data={p:"mskView",u:m!=0?0:a?1:2};q.K(N)}else{this.If({p:lK.Cr,H:z.H},q,e,V,P)}}}if(D==lK.ce||D==lK.Ee){var kR=D==lK.ce,j1=kR?A.OX():A.kL(e).Eo;
if(j1==null)return;var $=new ji(j1.isEnabled?kR?[6,15]:[6,42]:kR?[6,14]:[6,41],this);$.data={p:D,H:B};
e.Q6($);this.Yi($.data,e)}if(D==lK.qT){var j1=A.add.vmsk;if(j1==null)return;var $=new ji(j1.isEnabled?[6,17]:[6,16],this);
$.data={p:D,H:B};e.Q6($);this.Yi($.data,e)}if(D==lK.axv){var f6=A.add.lsct==fH._j?fH.OI:fH._j,b=e.root.G6(e.Z.indexOf(A)),g2=!1;
if(V.t(cz.EF)){var gx=b.parent;for(var n=0;n<gx.children.length;n++){var lC=gx.children[n].H;if(lC.YZ())lC.add.lsct=f6}}else A.add.lsct=f6;
for(var n=0;n<e.j.length;n++){var dv=e.j[n];if(b.Iq<dv&&dv<b.index)g2=!0}if(g2)e.j=[b.index];e.y8=!0}if(D==lK.Cr){if(!e.ri(B))return;
var $=new ji(A.Ev?[6,19]:[6,18],this);$.data={p:D,H:B};e.Q6($);if(z.oo==null||z.oo!=A.Ev)this.Yi($.data,e)}if(D==lK.acp){if(A.yh())A.b9-=32;
else A.b9+=32;e.y8=!0}if(D==lK.qJ||D==lK.l$){var $;if(D==lK.qJ)$=new ji(A.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(D==lK.l$)$=new ji(A.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);$.data={p:D,H:B};e.Q6($);this.Yi($.data,e)}if(D==lK.dB||D==lK.kU){var bS=z.index,$;
if(D==lK.dB)$=new ji(A.add.lmfx[az.cx[bS[0]]].v[bS[1]].v.enab.v?[6,30,0]:[6,29],this);if(D==lK.kU)$=new ji(A.add.SoLd.filterFX.v.filterFXList.v[bS].v.enab.v?[6,44]:[6,43],this);
$.data={p:D,H:B,index:z.index};e.Q6($);this.Yi($.data,e)}if(D==lK.xb){if(z.src==z.$b)return;var bv=e.Z[z.src],eo=e.Z[z.$b],aL=bv.add.lmfx?JSON.stringify(bv.add.lmfx):"",dh=eo.add.lmfx?JSON.stringify(eo.add.lmfx):"";
if(eo.add.lmfx==null){eo.add.lmfx=JSON.parse(az.default);for(var n=0;n<az.order.length;n++)eo.add.lmfx[az.cx[n]]={t:"VlLs",v:[]}}if(z.T0==null){eo.add.lmfx=JSON.parse(aL);
if(!s)delete bv.add.lmfx}else{var eM=z.T0[0],kg=az.cx[eM];if(az.atR.indexOf(az.order[eM])==-1)eo.add.lmfx[kg].v=[];
eo.add.lmfx[kg].v.push(bv.add.lmfx[kg].v[z.T0[1]]);if(!s)bv.add.lmfx[kg].v.splice(z.T0[1],1)}var jJ=bv.add.lmfx?JSON.stringify(bv.add.lmfx):"",iL=eo.add.lmfx?JSON.stringify(eo.add.lmfx):"";
if(!eo.yh())eo.b9+=32;var $=new ji("Move Layer Styles",this);$.data={p:D,Mv:z.src,KP:z.$b,aqW:aL,a53:dh,arY:jJ,ae0:iL};
e.Q6($);this.Yi($.data,e)}if(D==lK.tP){if(z.src!=null)B=z.src;var O=e.Z[B],bz=JSON.stringify(O.add.SoLd),ks=JSON.parse(bz),gr=ks.filterFX.v.filterFXList.v;
gr.splice(z.T0,1);var $=new ji([6,53],this);$.data={p:lK.OZ,Fb:[{Jb:B,Cm:[bz,JSON.stringify(ks)]}]};
e.Q6($);this.Yi($.data,e)}if(D==lK.arS){var hg=s,bv=e.Z[z.src],eo=e.Z[z.$b],ci=[];if(bv!=eo&&eo.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(bv==eo&&!hg&&z.T0==z.wT)return;if(bv==eo&&z.T0==-1)return;var fK=bv.kL(e),bz=JSON.stringify(bv.add.SoLd),ks=JSON.parse(bz),gr=ks.filterFX.v.filterFXList.v;
if(bv==eo){gr.splice(z.wT,0,gr[z.T0]);if(!hg)gr.splice(z.T0+(z.T0<z.wT?0:1),1);ci.push({Jb:z.src,Cm:[bz,JSON.stringify(ks)]})}else if(z.T0==-1){var jN=ks.filterFX;
if(!hg){delete ks.filterFX;ci.push({Jb:z.src,Cm:[bz,JSON.stringify(ks)],PD:[fK,null]})}var dD=eo.LL()?eo.kL(e):null,eF=hq.ane(fK),io=JSON.stringify(eo.add.SoLd),la=JSON.parse(io);
la.placed.v=eF.id;la.filterFX=jN;ci.push({Jb:z.$b,Cm:[io,JSON.stringify(la)],PD:[dD,eF]})}else{var e9=gr[z.T0];
if(!hg){gr.splice(z.T0,1);ci.push({Jb:z.src,Cm:[bz,JSON.stringify(ks)]})}var io=JSON.stringify(eo.add.SoLd),la=JSON.parse(io);
if(la.filterFX==null)la.filterFX=ak.Ea();var gM=la.filterFX.v.filterFXList.v;gM.splice(z.wT,0,e9);var j7={Jb:z.$b,Cm:[io,JSON.stringify(la)]};
if(!eo.LL()){var eF=hq.aEK(eo.add.SoLd.placed.v,e.depth);j7.PD=[null,eF]}ci.push(j7)}var $=new ji([6,52],this);
$.data={p:lK.OZ,Fb:ci};e.Q6($);this.Yi($.data,e)}if(D==lK.KW){var j1=A.OX(),$=new ji(j1.ck?[6,26]:[6,25],this);
$.data={p:D,H:B};e.Q6($);this.Yi($.data,e);this.track({gQ:"set",cj:{classID:"setd",null:{t:"obj ",v:[fw.y5("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:j1.ck}}}}})}if(D==lK.rT){var j1=A.add.vmsk,$=new ji(j1.ck?[6,28]:[6,27],this);
$.data={p:D,H:B};e.Q6($);this.Yi($.data,e)}if(D==lK.hY){var $=new ji("Variables / Datasets",this),cI=JSON.stringify([e.G5,e.gd]);
if(cI==z.u)return;$.data={p:D,aGT:cI,aws:z.u};e.Q6($);this.Yi($.data,e)}if(D==lK.wF){var dL=[],$;for(var n=0;
n<e.j.length;n++){var x=e.j[n],k=e.Z[x];if(k.add.vogk)dL.push(x,JSON.stringify(k.add.vogk))}for(var n=0;
n<e.o0.length;n++){var x=e.o0[n],k=e.yj[x];if(k.add.vogk)dL.push(-1-x,JSON.stringify(k.add.vogk))}T.w0.aNf(e,z.u,z.aDM);
var cf=[];for(var n=0;n<e.j.length;n++){var x=e.j[n],k=e.Z[x];if(k.add.vogk)cf.push(x,JSON.stringify(k.add.vogk))}for(var n=0;
n<e.o0.length;n++){var x=e.o0[n],k=e.yj[x];if(k.add.vogk)cf.push(-1-x,JSON.stringify(k.add.vogk))}var F=e.$p();
if(F&&F.data&&F.data.p==D){var jA=!0;for(var n=0;n<dL.length;n+=2)if(dL[n]!=F.data.za[n])jA=!1;if(jA){$=F;
$.data.Td=cf}}if($==null){var $=new ji([12,91,1],this);$.data={p:D,za:dL,Td:cf};e.Q6($)}this.Yi($.data,e)}if(D==lK.x8){var gI=JSON.stringify(A.add.artb),fM=JSON.stringify(z.Tc),$;
e.Z[B].add.artb=JSON.parse(fM);var a7=new kk(0,0,e.s,e.T),k6=W.hV.Tq(e),F=e.$p();if(F&&F.data&&F.data.p==D&&F.data.H==B){$=F;
$.data.Tc=fM}if($==null){var $=new ji("Editing Artboard",this);$.data={p:D,H:B,ayb:gI,Tc:fM,yP:a7};e.Q6($)}$.data.Ih=k6;
this.Yi($.data,e)}if(D==lK.$T){var cf=e.kv.slice(0),fv=e.C2.slice(0),fq=e.h,cu=e.h,g=e.A.Ox.slice(0),ac=null;
if(z.kE=="seltochannel"){var hN=z.HH[0],cQ=cf[hN]=cf[hN].Y(),b=T.mA.GV(e.h,cQ,z.HH[1]);cQ.o=b.o;cQ.V=b.V}if(z.kE=="fromAction"){var d_=z.u.gQ,cK=z.u.cj;
if(d_=="make"||d_=="duplicate"){var cc=cf.length,jj=!1,iG=!1;if(e.LG())cc--;var aH=new lK.Eu(e.depth);
aH.name="Alpha "+(cc+1);if(d_=="make"){console.log(cK);var hc=cK.Nw.v;aH.color=0;fv=[cc];aH.eq=!0;aH.Or=hc.Opct.v;
if(hc.Nm)aH.name=hc.Nm.v;if(hc.Clr)aH.go=T.Yf.z8(hc.Clr.v);if(hc.classID=="SCch"){jj=!0;cu=null;aH.DO=2;
iG=!0;if(hc.Nm==null)aH.name="Spot Color "+(cc+1);ac="copts"}else g=[0,0,0];for(var n=0;n<e.kv.length;
n++){if(e.kv[n].name!="Quick Mask")e.kv[n].eq=!1}}else{var k=e.Z[e.j[0]],kD=k.oT==1?k.OX():k.oT==3?k.kL(e).Eo:null,l2=cK.null.v[0].v;
if(cK.Nm)aH.name=cK.Nm.v;if(l2.keyID=="fsel")jj=!0;else if(kD){aH.o=kD.o.slice(0);aH.V=kD.V.Y();aH.color=kD.color}else{var fZ=W.cn.a1u(e);
cu=W.cn.a6p(e,fZ);aH.color=0;aH.V=cu.V;aH.o=cu.o}}if(jj){aH.color=0;if(e.h){aH.V=e.h.V.Y();aH.o=e.h.o.slice(0)}if(iG){aH.color=255-aH.color;
T.TG(aH.o)}}cf.splice(cc,0,aH)}else if(d_=="delete"){if(A&&A.OX()&&A.oT==1){this.If({p:lK.Ab},q,e,V,P);
return}var g5=e.C2;g5.sort(function($,b1){return b1-$});if(g5.length==0)return;for(var n=0;n<g5.length;
n++)cf.splice(g5[n],1);fv=[];g=[1,1,1]}else if(d_=="show"||d_=="hide"){var d4=cK.null.v,hx=null,hJ=!1;
for(var n=0;n<d4.length;n++){var gU=d4[n].v[0].v,lg=gU.enum;if(lg=="Trgt"){if(cf[fv[0]]==null)continue;
cf[fv[0]]=cf[fv[0]].Y();cf[fv[0]].eq=d_=="show";hJ=!0}else{var hN=["Rd","Grn","Bl"].indexOf(lg);if(hx==null)hx=e.A.Ox.slice(0);
hx[hN]=d_=="show"?1:0}}if(hx){var I=new dW(_.E.z,!0);I.U=W.RJ;I.data={p:"setcls",Ox:hx};q.K(I);if(!hJ)return}}}if(z.kE=="rnm"){var kD=cf[z.XW]=cf[z.XW].Y();
if(z.name!=null)kD.name=z.name;if(z.DO!=null){if(kD.DO+z.DO==1){T.TG(kD.o);kD.color=255-kD.color}kD.DO=z.DO}if(z.go!=null)kD.go=z.go;
if(z.Or!=null)kD.Or=z.Or}var $=new ji("Channel Edit",this);$.data={p:D,za:e.kv.slice(0),auu:e.C2.slice(0),Td:cf,atU:fv,_Q:fq,Nz:cu,aL9:e.A.Ox.slice(0),a9y:g};
this.Yi($.data,e);e.Q6($);if(ac){var gW=new dW(_.E.b,!0);gW.data={p:_.m.wa,rF:ac};q.K(gW)}}if(D==lK.te){var iF=new kk(0,0,e.s,e.T),$=new ji(z.JJ,this);
$.data={p:lK.te,gx:e.Z.slice(0),qM:z.qM,AQ:e.j.slice(0),Ap:z.Nz};e.Q6($);this.Yi($.data,e);var aO=W.hV.Iz(e);
if(aO){$.data.yP=iF;$.data.Ih=aO}}if(D==lK.t$){var kX=e.u4(null,z.H),k5=1e10;if(kX.length==0)return;
if(e.Z.length==kX.length){alert("Project must have at least 1 layer");return}var e3=[];for(var n=0;n<e.Z.length;
n++)if(kX.indexOf(n)==-1)e3.push(e.Z[n]);for(var n=0;n<kX.length;n++)k5=Math.min(k5,kX[n]);while(k5>e3.length-1)k5--;
k5=Math.max(k5-1,0);while(e3[k5].name=="</Layer group>")k5++;this.track({gQ:"delete",cj:{classID:"Dlt",null:fw.y5("Lyr",!0)}});
var a7=new kk(0,0,e.s,e.T),$=new ji([6,31],this);$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:[k5]};
e.Q6($);this.Yi($.data,e);var k6=W.hV.Tq(e);if(k6){$.data.Ih=k6;$.data.yP=a7;W.hV.Iz(e)}}if(D==lK.nZ){if(!V.t(cz.XQ))return;
var $=new ji("Switch Layer Link",this);$.data={p:D,H:z.H};e.Q6($);this.Yi($.data,e)}if(D==lK.Df){var g5=z.a1f?z.a1f:e.j,h0=0,bW=!1;
if(g5.length==0)return;if(g5.length==1&&e.Z[g5[0]].Km==0){alert(iE.get([15,7,5]));return}var aS=[];for(var n=0;
n<e.Z.length;n++){var jM=e.Z[n].Km;aS.push(jM);h0=Math.max(h0,jM)}var hS=-1,ap=-1;for(var n=0;n<g5.length;
n++){var jM=e.Z[g5[n]].Km;if(jM==0)bW=!0;else if(hS==-1||hS==jM)hS=jM;else ap=jM}if(!bW)for(var n=0;
n<g5.length;n++)e.Z[g5[n]].Km=0;else if(hS!=-1&&ap==-1)for(var n=0;n<g5.length;n++)e.Z[g5[n]].Km=hS;
else for(var n=0;n<g5.length;n++)e.Z[g5[n]].Km=h0+1;var dB=[];for(var n=0;n<e.Z.length;n++){var jM=e.Z[n].Km;
if(dB[jM]==null)dB[jM]=0;dB[jM]++}for(var n=0;n<e.Z.length;n++){var jM=e.Z[n].Km;if(dB[jM]==1)e.Z[n].Km=0}var f8=aS;
aS=[];for(var n=0;n<e.Z.length;n++){var jM=e.Z[n].Km;aS.push(jM);h0=Math.max(h0,jM)}var $=new ji(bW?[6,54,0]:[6,54,1],this);
$.data={p:lK.Df,anU:f8,avG:aS};e.Q6($);this.Yi($.data,e)}if(D==lK.Mi&&(z.H!=null||e.j.length!=0)||D==lK.KQ){var bu=e._i(D==lK.Mi?z.H:B,null,z.anZ),fO;
if(D==lK.KQ){var O=bu[0],d_=O.add.SoLd.Idnt.v,iQ=e.mn(d_).Y();O.add.SoLd.Idnt.v=iQ.PP=hq.ky()+d_.slice(8);
e.add.lnk2.push(iQ)}if(D==lK.Mi){var gb={gQ:"duplicate",cj:{classID:"null",null:fw.y5("Lyr",!0)}};if(z.WB){bu[bu.length-1].up(z.WB);
gb.Nm={t:"TEXT",v:z.WB}}this.track(gb);z.akx=z.H}D=lK.vU;z.Z=bu;z.Jp=e;z.ME=e}if(D==lK.vU){var k9=z.Jp,e2=z.ME,cB=0,iY=0,e_=k9.PM(),je=!1,ea,iZ=0,dY=0;
if(k9!=e2){console.log("ADDLAYERS different projs");var fL=new kk(0,0,e2.s,e2.T),jI=[],gi=[],hu=new kk;
for(var n=0;n<z.Z.length;n++){var O=z.Z[n];hu=hu.X8(O.V);if(O.add.SoLd==null)continue;var d_=O.add.SoLd.Idnt.v;
if(jI.indexOf(d_)==-1){jI.push(d_);gi.push(hq.ky()+d_.slice(8))}O.add.SoLd.Idnt.v=gi[jI.indexOf(d_)];
var fK=O.kL(k9);if(fK){k9.yl(fK);e2.Zl(fK)}}if(e_==-1&&z.vf==null&&z.aq8&&!fL.Je(hu)){cB=-hu.x;iY=-hu.y}if(jI.length>0){if(e2.add.lnk2==null)e2.add.lnk2=[];
for(var n=0;n<jI.length;n++){var bk=k9.mn(jI[n]),iQ=bk.Y();iQ.PP=gi[n];e2.add.lnk2.push(iQ)}}var lG=z.Jp.awk(z.Z)[2];
if(lG)for(var n=0;n<lG.length;n++)e2.hI(lG[n])}var fq=e2.j.slice(0);fq.sort(function($,b1){return $-b1});
var e3=e2.Z.slice(0),cu=[],h8=-1;for(var n=0;n<fq.length;n++)h8=Math.max(h8,fq[n]);if(z.akx!=null)h8=z.akx;
if(z.vf!=null){h8=z.vf-1;var iR=e2.Z[z.vf].Le();cB+=iR.x;iY+=iR.y}if(e_!=-1&&(k9!=e2||z.vf)){var bm=k9.Z[e_].Le();
cB-=bm.x;iY-=bm.y}var bL=e2.Il();for(var n=0;n<bL[0].length;n++){var hU=bL[1][n];if(hU!=-1)bL[1][n]=e3[hU]}h8++;
for(var n=0;n<z.Z.length;n++){var k=z.Z[n],fn=k.add.artb;e3.splice(h8,0,k);cu.push(h8);h8++;if(fn){ea=!0;
var hi=fn.guideIndeces;if(hi){hi=hi.v;for(var lF=0;lF<hi.length;lF++){bL[0].push(k9.r3[hi[lF].v].slice(0));
bL[1].push(k);je=!0}}}}for(var n=0;n<bL[0].length;n++){var hU=bL[1][n];if(hU!=-1)bL[1][n]=e3.indexOf(hU)}for(var n=0;
n<z.Z.length;n++){var k=z.Z[n];if(k.add.lsct==fH.pR){if(iZ==0)dY++;iZ++}else if(k.YZ())iZ--}if(dY==1)cu=[h8-1];
var fI=z.avP;if(fI){var t=[];for(var n=0;n<cu.length;n++)t.push(e3[cu[n]]);for(var n=0;n<fI.length;n++)e3.splice(e3.indexOf(fI[n]),1);
cu=[];for(var n=0;n<t.length;n++)cu.push(e3.indexOf(t[n]))}var $=new ji([6,0],this);$.data={p:lK.te,gx:e2.Z.slice(0),qM:e3,AQ:fq,Ap:cu};
if(je){$.data.yC=[e2.Il(),bL]}e2.Q6($);this.Yi($.data,e2);if(cB!=0||iY!=0)W.DL.zE(e2,e2.u4(),null,cB,iY);
if(ea){$.data.yP=new kk(0,0,e2.s,e2.T);$.data.Ih=W.hV.Tq(e2);W.hV.Iz(e2)}if(k9.depth!=e2.depth){alert("Converting from "+k9.depth+"-bit mode to "+e2.depth+"-bit mode.");
W.On.alw(e2,e2.j,e2.depth)}if(k9.s!=e2.s||k9.T!=e2.T)for(var n=0;n<z.Z.length;n++){var k=z.Z[n];if(k.mp()&&k.add.vmsk==null)k.ly(e2)}var f9=k9.qh(),dq=e2.qh();
if(k9!=e2&&(f9||dq)){if(f9&&dq&&T.bs(f9[0],dq[0])){}else{alert("Converting between color spaces");var g$=17;
if(f9){var aq=f9[1],aD=ICC.U.sampleLUT(aq,g$);for(var n=0;n<z.Z.length;n++){var b1=z.Z[n].buffer;ICC.U.applyLUT(aD,g$,b1,b1)}}if(dq){var aq=dq[1],aD=ICC.U.sampleLUT(aq,g$,!0);
for(var n=0;n<z.Z.length;n++){var b1=z.Z[n].buffer;ICC.U.applyLUT(aD,g$,b1,b1)}}}}}if(D==lK.Xc){var hC=z.H!=null?[z.H]:e.u4(),e3=e.Z.slice(0);
for(var n=0;n<hC.length;n++){var k=e.Z[hC[n]].Y();k.Io(e);e3.splice(hC[n],1,k)}var $=new ji([6,8],this);
$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:e.j.slice(0)};e.Q6($);this.Yi($.data,e)}if(D==lK.aHx){var e3=e.Z.slice(0),k=e3[e.j[0]]=e3[e.j[0]].Y(),dx=k.add.lmfx,eP,iR;
delete k.add.lmfx;var d3=e.j[0],a$=d3+1;if(k.YZ()){var bM=e.Z[e.j[0]].J3;iR=bM.afa;eP=bM.$Z;var b=e.root.G6(d3);
d3=b.Iq}else{iR=k.V;eP=T.n(iR.D());T.bl(T.EZ(k.buffer,8),eP,3)}var dR=hB.eu(dx,k.add.fxrp,eP,iR,e,iR),c6=dR.e;
hB.aM6(dR);for(var n=0;n<az.order.length;n++){var h2=az.order[n],fE=c6[h2];fE.reverse();for(var lF=0;
lF<fE.length;lF++){var gy=fE[lF],t=e.OJ(),eu=n>7;if(h2=="ebbl"){if(gy.nd||gy.xn){var iC=gy.nd?gy.nd:gy.xn;
if(gy.nd)delete gy.nd;else delete gy.xn;if(gy.xn||gy.Hu)lF--}else if(gy.Hu||gy.mW){var iC=gy.mW?gy.mW:gy.Hu;
if(gy.mW){delete gy.mW;if(gy.Hu)lF--}eu=!0}gy=iC}t.pi=gy.Rj;t.vz=Math.round(255*gy.Qc);t.buffer=T.EZ(gy.Dm,e.depth);
t.V=gy.nu.Y();t.V.offset(iR.x,iR.y);if(h2=="FrFX"){t.buffer=t.buffer.slice(0);T.yR(T.EZ(gy.sj?gy.sj:gy.VZ,e.depth),t.buffer,3);
if(gy.sj){eu=!0;delete gy.sj;if(gy.VZ)lF--}}t.Ev=!eu;t.up(k.getName()+"'s "+iE.get(az.names[n]));e3.splice(eu?d3:a$,0,t);
if(eu)a$++}}var $=new ji("Styles to Layers",this);$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:[a$-1]};
e.Q6($);this.Yi($.data,e)}if(D==lK.a9i){var hC=e.u4(),e3=e.Z.slice(0),cA=new kk(0,0,e.s,e.T);for(var n=0;
n<hC.length;n++){var jq=e.Z[hC[n]],kI=jq.Sw();jq.Bm(!0);var i6=e.root.G6(hC[n]);if(jq.YZ())continue;
if(i6==null)continue;var k=jq.Y();k.Io(e);var ez=i6.$i(e,!0),c7=e.Z;e.l_([jq]);e.Kv();e.n9();k.buffer=T.n(ez.D()*4);
T.aF(e.tW(),cA,k.buffer,ez);k.V=ez;k.vz=255;k.add.iOpa=255;k.pi="norm";k.Kv();k.J3.uC=!0;e.l_(c7);if(k.add.lmfx)delete k.add.lmfx;
k.Eo=k.Ro=null;e3.splice(hC[n],1,k);k.Bm(kI);jq.Bm(kI)}var $=new ji([6,34],this);$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:e.j.slice(0)};
e.Q6($);this.Yi($.data,e)}if(D==lK.Ki){var hC=e.u4(),e3=e.Z.slice(0);for(var n=0;n<hC.length;n++){var k=e.Z[hC[n]],iS=k.add.TySh;
if(iS==null)continue;var O=new kB(iS._1,P.Se,iS.h8),cn=T.R.xU(ey.WK(O,iS,!0));for(var d5 in cn){var an=cn[d5],lC=k.Y();
delete lC.add.TySh;lC.b9=lC.b9|1<<4;var hT=new lK.cI;hT.B=T.R.XI(an,!1);if(lC.add.vmsk!=null){lC.add.vmsk.alf();
hT.concat(lC.add.vmsk)}lC.add.vmsk=hT;lC.add.vstk=az.Y1.g1(!0);lC.T4();var ah=parseInt(d5.slice(1,3),16),bn=parseInt(d5.slice(3,5),16),b1=parseInt(d5.slice(5,7),16);
if(cW==0){lC.add.SoCo=T.G(az.zO[0]);var ge=lC.add.SoCo.Clr.v;ge.Rd.v=ah;ge.Grn.v=bn;ge.Bl.v=b1;lC.ly(e)}else{lC.add.vstl=az.kQ.g1();
lC.add.vstl.oO=[ah/255,bn/255,b1/255];lC.add.vstl.i8=[]}e3.splice(e3.indexOf(k),0,lC)}e3.splice(e3.indexOf(k),1)}var cu=e.j.slice(0);
for(var n=cu.length-1;n>=0;n--)if(cu[n]>=e3.length)cu.splice(n,1);var $=new ji([6,40],this);$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:cu};
e.Q6($);this.Yi($.data,e)}if(D==lK.aBs){var kp=e.j.length,bZ,lf;if(kp<2){alert("Select two or more layers.");
return}for(var n=0;n<kp;n++){var bm=e.Z[e.j[n]].V;bZ=n==0?bm:bZ.HX(bm);lf=n==0?bm:lf.X8(bm)}if(bZ.D()*1.2>lf.D()){alert("stacking images");
var kz=[],h7=[];for(var n=0;n<kp;n++){var k=e.Z[e.j[n]];kz.push(k.buffer);h7.push(k.V)}var kJ=T.ab$.eM(kz,h7),cq=kJ[0],ah=kJ[1],bq=[];
for(var n=0;n<kp;n++){var j1=new lK.Eu(e.depth);j1.color=255;j1.V=ah;j1.o=cq[n];bq.push(e.j[n],null,j1)}var $=new ji("Focus-Stack",this);
$.data={p:lK.oW,BD:bq};e.Q6($);this.Yi($.data,e);return}if(!e.YM())return;var lC=e.Z[e.j[0]].Y(),e3=[];
for(var n=0;n<e.Z.length;n++)if(e.j.indexOf(n)==-1)e3.push(e.Z[n]);e3.splice(e.j[0],0,lC);for(var n=1;
n<kp;n++)if(e.Z[e.j[n]].V.D()>2e6){alert("Blended areas are too large.");return}for(var n=1;n<kp;n++){var k=e.Z[e.j[n]],ah=k.V.Y();
ah.Gm(1,1);var b1=T.n(ah.D()*4);T.aF(k.buffer,k.V,b1,ah);lC.extend(ah);var b$=T.n(ah.D()*4);T.aF(lC.buffer,lC.V,b$,ah);
var $=T.n(ah.D());T.bl(b1,$,3);T.round($,200);T.yR($,b1,3);T.w.Mt("norm",b1,ah,b$,ah,ah,1);T.Aj.Fj(b$,$,ah);
T.aF(b$,ah,lC.buffer,lC.V)}var $=new ji([2,10,0],this);$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:[e.j[0]]};
e.Q6($);this.Yi($.data,e)}if(D==lK.RA){var e3=e.Z.slice(0),fv=e.j.slice(0);for(var n=0;n<e3.length;n++){var k=e3[n],iI=k.add.vmsk;
if(k.mp()&&iI&&k.add.vstk.strokeEnabled.v&&!k.add.vstk.fillEnabled.v){var le=iI.B,aX=0,dH=-1;for(var lF=0;
lF<le.length;lF++){if((le[lF].e==0||le[lF].e==3)&&le[lF].xq!=-1){aX++;if(le[lF].e==3&&dH==-1){le[lF].HO=le[lF].xq=1;
dH=lF}}}if(aX>1&&dH!=-1&&aX<10){console.log("separating an open path into a new layer");k=k.Y();iI=k.add.vmsk;
le=iI.B;var t=le[dH].length,fI=k.Y();fI.add.lyid=e.iH();iI.B=le.slice(0,2).concat(le.slice(dH,dH+t+1));
iI.j=[];k.ly(e);k.Kv();var aT=fI.add.vmsk.B;fI.add.vmsk.B=aT.slice(0,dH).concat(aT.slice(dH+t+1,aT.length));
fI.add.vmsk.j=[];fI.ly(e);e3[n]=k;e3.splice(n+1,0,fI);for(var lF=0;lF<fv.length;lF++)if(fv[lF]>n)fv[lF]++;
var eh=fv.indexOf(n);if(eh!=-1){fv.splice(eh+1,0,n+1)}}}}if(e3.length!=e.Z.length){var $=new ji("Splitting open paths",this);
$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:fv};e.Q6($);this.Yi($.data,e)}}if(D==lK.Dn){this.If({p:lK.RA},q,e,V,P);
var fq=e.j.slice(0),c7=e.Z.slice(0),hC=e.u4();if(hC.length==0)return;e.abc(hC,!1,z.gh);var $=new ji([6,36,0],this);
$.data={p:lK.te,gx:c7,qM:e.Z.slice(),AQ:fq,Ap:e.j.slice(0)};e.Q6($);this.Yi($.data,e)}if(D==lK.avL){var bz=A.add.SoLd;
if(bz==null)return;var d_=bz.Idnt.v,al=e.mn(d_);al.tW(!1);var d7=T.EZ(al.De[0],8),ah=al.De[1];if(T.Ep(d7)){alert("The smart object contains transparency.");
return}var k3=hZ.nw("jpg").gB([[d7.buffer]],ah.s,ah.T,[90]);this.If({p:lK.q5,data:new Uint8Array(k3),hb:"image.jpg"},q,e,V,P);
console.log(e.add);return}if(D==lK.yo){var bz=A.add.SoLd,gS=!1;if(bz==null)return;var d_=bz.Idnt.v,bp=new hq;
dE.iA(e.VH(d_).raw.buffer,bp);if(z.kE!="del")for(var n=1;n<bp.Z.length-1;n++)bp.Z[n].Bm(!1);if(z.kE=="switch"){bp.Z[z.u].Bm(!0);
gS=!0}else if(z.kE=="del"){bp.Z.splice(z.u,1);bp.j=[bp.Z.length-1]}else{var k=bp.OJ();k.V=A.V.Y();k.up(z.a47);
var fa=k.buffer=T.n(k.V.D()*4);T.aF(z.u[0],z.u[1],fa,k.V);k.V.x=k.V.y=0;bp.Z.splice(bp.Z.length-1,0,k)}var c0=hZ.X3.gB(bp);
this.If({p:lK.q5,data:new Uint8Array(c0),hb:"image.psd",id:d_,aJL:gS},q,e,V,P);return}if(D==lK.q5){var cA=z.Va,d_=z.id;
if(cA==null)cA=e;if(d_==null)d_=A.add.SoLd.Idnt.v;var bk=cA.mn(d_),iQ=bk.Y();iQ.raw=z.data;iQ.hb=z.hb;
var ce=hZ.J7(z.data.buffer);if(ce=="psd"){iQ.ya="8BIM";iQ.y3="8BPB"}else{iQ.ya="    ";iQ.y3="    "}iQ.tW(!1);
bk.tW(!1);var u=e.$p();if(z.aJL&&u&&u.U==this&&u.data.p==D&&u.data.id==d_){$=u;$.data.oE=iQ}else{var $=new ji(z.aJL?"Select Variation":[6,36,1],this);
$.data={p:lK.q5,id:d_,arN:bk,oE:iQ};cA.Q6($)}this.Yi($.data,cA)}if(D==lK.S_){var $=new ji([6,36,4],this);
$.data={p:D,H:B,Zz:A.add.SoLd.Impr.v.classID,oo:z.oo};e.Q6($);this.Yi($.data,e)}if(D==lK.V8){var fB,ki;
if(z.Xu){fB=z.Va;ki=z.Xu}else{z.Va.To();z.Va.b$();z.Va.Kv();z.Va.n9();z.Va.tW();fB=hZ.nw("PSD").gB(z.Va,0,0,[!0,!0]);
ki=z.Va.name}if(!(fB instanceof ArrayBuffer))throw"e";fB=new Uint8Array(fB);var r=z.f0;if(r==null){if(e.j.length==0)r=e.j.length;
else{var dv=e.j[e.j.length-1],t=e.Z[dv];r=t.YZ()?dv:dv+1}}var a6=new kk(0,0,e.s,e.T),dy=e.PM();if(dy!=-1)a6=e.Z[dy].Le();
var f$=e.Ql(fB,ki,null,null,a6,P.Se,q),e3=e.Z.slice(0);e3.splice(r,0,f$);var $=new ji([6,36,2],this);
$.data={p:lK.te,gx:e.Z.slice(),qM:e3,AQ:e.j.slice(0),Ap:[e3.indexOf(f$)]};e.Q6($);this.Yi($.data,e)}if(D==lK.vj&&z.kE=="merge"){var e$=[],bJ=e.root.children,fl=0;
for(var n=0;n<bJ.length;n++){var b=bJ[n],k=b.H,aV=b.children,hm=!0;if(!k.YZ()||aV.length==0)continue;
for(var lF=0;lF<aV.length;lF++)if(!aV[lF].H.getName().startsWith("_a_")){hm=!1;break}if(hm)e$.push(e.Z.indexOf(k))}var j6=[];
for(var n=0;n<e$.length;n++)if(e.j.indexOf(e$[n])!=-1)j6.push(e$[n]);if(j6.length>=2)e$=j6;if(e$.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var dr=[];for(var n=0;n<e$.length;n++)dr.push(e.Z[e$[n]].getName());var fE=[];for(var f3=0;f3<e$.length;
f3++){var b=e.root.G6(e$[f3]),j7=[[],[],0,f3];fE.push(j7);for(var n=0;n<b.children.length;n++){var x=b.children[n].index,k=b.children[n].H,aH=k.getName(),cF=20,fS=aH.split(",");
if(fS.length>1){var gP=parseInt(fS.pop());if(!isNaN(gP)&&gP!=0)cF=gP}if(cF<17)cF=17;j7[0].push(k);j7[1].push(cF);
j7[2]+=cF}}fE.sort(function($,b1){return b1[2]-$[2]});if(fE[0][2]>2e3){var jm=0,kG=0;for(var n=0;n<fE.length;
n++){var h_=fE[n][1].length/fE[n][2];if(h_>kG){kG=h_;jm=n}}var iH=(fE[0][2]/1e3).toFixed(1),cS=window.confirm("- \""+dr[fE[0][3]]+"\" is "+iH+" seconds long\n"+"- \""+dr[fE[jm][3]]+"\" is playing at "+Math.round(kG*1e3)+" frames per second\n"+"A merged animation must be "+iH+" sec, up to "+Math.round(fE[0][2]*kG)+" frames. Proceed?");
if(!cS)return}var i9=fE[0],aU=i9[2];for(var hU=1;hU<fE.length;hU++){var j7=fE[hU],kN=1,hV=j7[1].slice(0),cl=0;
while((kN+1)*j7[2]<=i9[2]){kN++;hV=hV.concat(j7[1])}j7[1]=hV;j7[2]*=kN;var a8=i9[2]/j7[2];for(var n=0;
n<j7[1].length;n++){var eg=Math.floor(j7[1][n]*a8);j7[1][n]=eg;cl+=eg}while(cl<aU){cl++;j7[1][j7[1].length-1]++}j7[2]=cl}var iT=[],cL=[],eg=[];
for(var n=0;n<fE.length;n++){iT.push(0);cL.push(0)}while(fl<aU){var ep=1e9,cc=-1;for(var n=0;n<fE.length;
n++){var hW=fE[n][1],d3=iT[n];if(d3!=hW.length&&cL[n]+hW[d3]<fl+ep){cc=n;ep=cL[n]+hW[d3]-fl}}cL[cc]+=fE[cc][1][iT[cc]];
iT[cc]++;if(ep!=0){eg.push(ep);fl+=ep}}for(var n=1;n<eg.length;n++){var hd=eg[n];if(hd<16&&(eg[n-1]<16||n<eg.length-1&&16<=eg[n+1])){eg[n-1]+=hd;
eg.splice(n,1);n--}}var kI=[],cA=new kk(0,0,e.s,e.T);for(var n=0;n<e.Z.length;n++){kI[n]=e.Z[n].Sw();
e.Z[n].Bm(!1)}var iV=e.j.slice(0);e.j=e$;var kX=e.u4();kX.sort(function($,b1){return $-b1});var e3=[];
for(var n=0;n<e.Z.length;n++){if(kX.indexOf(n)==-1)e3.push(e.Z[n])}fE.sort(function($,b1){return $[3]-b1[3]});
function ad(hW,eI){var n=0,go=0;while(go+hW[n]<=eI){go+=hW[n];n++}return n}fl=0;e3.splice(kX[0],0,e.cs());
for(var iq=0;iq<eg.length;iq++){var d=[];for(var n=0;n<fE.length;n++){var d3=ad(fE[n][1],fl)%fE[n][0].length,k=fE[n][0][d3];
d.push(k)}var k=e.OJ();for(var n=0;n<fE.length;n++){var dA=d[n],gx=e.Z[e$[n]];dA.Bm(!0);gx.Bm(!0)}e.Kv();
e.n9();var d7=e.tW();k.V=T.JB(d7,cA,2);k.buffer=T.n(k.V.D()*4);T.aF(d7,cA,k.buffer,k.V);for(var n=0;
n<fE.length;n++){var dA=d[n],gx=e.Z[e$[n]];dA.Bm(!1);gx.Bm(!1)}k.Bm(iq==0);k.up("_a_frm"+iq+","+eg[iq]);
e3.splice(kX[0]+1+iq,0,k);fl+=eg[iq]}var k=e.OJ();k.up(dr.join(" + "));k.pi="pass";k.add.lsct=fH.OI;
k.b9=24;e3.splice(kX[0]+1+eg.length,0,k);for(var n=0;n<e.Z.length;n++)e.Z[n].Bm(kI[n]);var $=new ji([6,12,0],this);
$.data={p:lK.te,gx:e.Z,qM:e3,AQ:iV,Ap:[kX[0]+1+eg.length]};e.Q6($);this.Yi($.data,e)}if(D==lK.o1){var fF=z.mA,ff=e.j.slice(0);
ff.sort(function($,b1){return $-b1});if(ff.length<2){alert("Select at least two layers.");return}for(var n=0;
n<ff.length;n++)if(!e.Z[ff[n]].mp()){alert("Select only vector shapes.");return}var ju=[["AuB"],["AsB"],["AiB"],["AsB","BsA"],["AsB","BsA","AiB"],["AsB","B"],["AuB"],["BsAs","AiB"],["BsAs","AiBs","AsBs"],["BsA"]],bu=[],fD=ju[fF],eV=lK.cI.QD,dP=e.Z[ff[0]].add.vmsk,lI=e.Z[ff[1]].add.vmsk,K=eV(dP.B),aK=eV(lI.B);
for(var n=2;n<ff.length;n++)aK=aK.concat(e.Z[ff[n]].add.vmsk.B.slice(2));K[2].HO=dP.HO==0?2:1;for(var n=3;
n<K.length;n++)if(K[n].xq!=null)K[n].xq=-1;aK[2].HO=lI.HO==0?2:1;for(var n=3;n<aK.length;n++)if(aK[n].xq!=null)aK[n].xq=-1;
if(fD.length>1)bu.push(e.cs());for(var n=0;n<fD.length;n++){var b7=fD[n],k=e.Z[ff[fF==1?0:ff.length-1]].Y(),iI=k.add.vmsk;
T.w0.WV(k.add.vogk);bu.push(k);if(b7.length==1)iI.B=eV(b7=="A"?K:aK);else{var $=K,b1=aK;if(b7[0]=="B"){$=aK;
b1=K}$=eV($);b1=eV(b1);for(var lF=0;lF<b1.length;lF++)if(b1[lF].xq!=null&&b1[lF].xq!=-1)b1[lF].xq={u:1,s:2,i:3}[b7[1]];
iI.B=T.S.A4($.concat(b1.slice(2)));if(b7[3]=="s")k.add.vstl.oO=[]}}if(fD.length>1){var k=e.OJ();k.up("<Group>");
bu.push(k);k.add.lsct=fH.OI;k.pi="pass";k.b9=24}var e3=[],cu=[];for(var n=0;n<e.Z.length;n++)if(ff.indexOf(n)==-1)e3.push(e.Z[n]);
for(var n=0;n<bu.length;n++){e3.splice(ff[0]+n,0,bu[n]);cu.push(ff[0]+n)}var $=new ji("Pathfinder",this);
$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j,Ap:cu};e.Q6($);this.Yi($.data,e)}if(D==lK.aui){var e3=e.Z.slice(0),cu=[],cc=e.j[0],dv=0;
e3.splice(cc,1);var jq=e.Z[cc];while(!0){var k=jq.Y(),iI=k.add.vmsk,le=iI.B,ex=T.S.ha(le,dv),ed=T.S.ha(le,dv+1);
if(ex==-1)break;if(ed==-1)ed=1e9;iI.B=le.slice(0,2).concat(le.slice(ex,ed));k.ly(e);e3.splice(cc+dv,0,k);
cu.push(cc+dv);dv++}var $=new ji([6,12,0],this);$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:cu};
e.Q6($);this.Yi($.data,e)}if(D==lK.xs||D==lK.CF){var gf=D!=lK.CF&&e.j.length==1&&!e.Z[e.j[0]].YZ(),jH=!0,f$=null,cu;
if(gf&&e.j[0]==0)return;var cp=D==lK.xs&&z.H!=null&&e.j.indexOf(z.H)==-1,c7=e.Z.slice(0),fq=e.j.slice(0);
if(gf||cp)e.j=[B,B-1];if(D==lK.CF){e.j=[];for(var n=0;n<e.Z.length;n++)if(e.Z[n].Sw())e.j.push(n)}var hC=e.u4();
hC.sort(function($,b1){return $-b1});var ag=new kk,cA=new kk(0,0,e.s,e.T);for(var n=0;n<hC.length;n++){var x=hC[n],k=e.Z[x];
if(k.YZ()||k.getName()=="</Layer group>")continue;jH=jH&&k.mp()&&k.add.vmsk!=null;ag=ag.X8(e.root.G6(x).$i(e,!0))}if(z.mA!=null&&!jH){alert("Select shape layers only.");
return}if(jH){var iI=null,fF=z.mA;for(var n=0;n<hC.length;n++){var t=e.Z[hC[n]];if(cW==0&&t.V.D()==0)continue;
if(f$==null){f$=t.Y();iI=f$.add.vmsk}else{var t=e.Z[hC[n]],aT=lK.cI.QD(t.add.vmsk.B);if(fF!=null)for(var lF=0;
lF<aT.length;lF++)if(aT[lF].xq!=null&&aT[lF].xq!=-1)aT[lF].xq=[1,2,3,0][fF];iI.B=iI.B.concat(aT.slice(2));
f$.add.vogk=f$.add.vogk.concat(T.G(t.add.vogk))}}f$.add.vmsk.Ug=!0;f$.ly(e)}else if(cA.oq(ag)){f$=e.OJ();
f$.up(e.Z[hC[hC.length-1]].getName());f$.V=ag;f$.buffer=T.n(ag.D()*4,e.depth);var hs=e.add.artd;delete e.add.artd;
var jx=e.tW(hC);if(hs)e.add.artd=hs;T.aF(jx,cA,f$.buffer,ag);f$.Sn();f$.Kv()}else{e.abc(hC,!0);f$=e.Z[e.j[0]];
e.Z.splice(e.j[0],1);var ll=e.mn(f$.add.SoLd.Idnt.v);e.add.lnk2.splice(e.add.lnk2.indexOf(ll),1);delete f$.add.SoLd}var im=s,b2=-1;
if(z.cj&&z.cj.Dplc&&z.cj.Dplc.v)im=!0;if(im&&D==lK.CF&&fq.length!=0&&e.Z[fq[0]].Be()&&e.Z[fq[0]].V.a8()){b2=fq[0]}if(b2!=-1||gf){var cG=e.Z[b2!=-1?b2:B-1];
f$.up(cG.getName());f$.add.lclr=cG.add.lclr}var e3=[];for(var n=0;n<e.Z.length;n++)if(im||hC.indexOf(n)==-1)if(n!=b2)e3.push(e.Z[n]);
var bN=hC[hC.length-1],hK=bN==e.Z.length-1?null:e.Z[bN+1],b_=hK?e3.indexOf(hK):e3.length;e3.splice(b_,0,f$);
cu=[b_];if(cp)cu=fq.slice(0);var $=new ji([6,12,0],this);$.data={p:lK.te,gx:c7,qM:e3,AQ:fq,Ap:cu};e.Q6($);
this.Yi($.data,e)}if(D==lK.az6){var lC=e.OJ();lC.V=new kk(0,0,e.s,e.T);lC.buffer=T.n(lC.V.D()*4,e.depth);
lC.buffer.fill(T.K8(e.depth));T.w.Mt("norm",e.tW(),lC.V,lC.buffer,lC.V,lC.V,1);lC.up("Background");lC.add.lspf=1<<2;
var $=new ji([6,12,1],this);$.data={p:lK.te,gx:e.Z.slice(),qM:[lC],AQ:e.j.slice(0),Ap:[0]};e.Q6($);this.Yi($.data,e)}var hh=D==lK.uk||D==lK.zJ;
if(D==lK.Ag||D==lK.Nq||D==lK.Ax||D==lK.ZZ||hh){var k=hh?e._i()[0]:e.OJ(),gK=iE.get([0,3]),bV=z.WB,ii=!1,dF,dz;
if(D==lK.Ax)gK=iE.get([12,76,1]);if(hh){if(e.h){var jq=e.Z[e.j[0]],aG=jq.JV(e,e.h);if(aG==null){alert("Copied area is empty");
return}k.V=aG.V;k.buffer=aG.Hm;k.Io(e);k.Bm(!0)}else bV=k.getName();k.add.lspf=0;k.Ev=!1;if((k.b9&1)!=0)k.b9--}if(D==lK.ZZ){var iM=T.Gx(k.buffer),jt=z.QS.buffer.slice(0);
k.V=W.NU.a8A(z.QS,e);if(iM==32&&T.Gx(jt)==8)T.$n(jt);k.buffer=T.EZ(jt,iM);if(z.aJ2&&e.h){k.Eo=new lK.Eu(e.depth);
k.Eo.V=e.h.V;k.Eo.color=0;k.Eo.o=e.h.o.slice(0)}}if(D==lK.Ag){this.track({gQ:"make",cj:{classID:"Mk",null:fw.y5("Lyr")}})}if(D==lK.Nq){k.b9|=16;
var gh=z.cj.Usng.v,aB=gh.Type.v,lw=aM.Sa[aB.classID];gK=iE.get(aM.names[lw]);if(gh.Nm)bV=gh.Nm.v;k.add[lw]=ak.g1(lw);
if(k.add[lw]==null)k.add[lw]={};for(var aN in aB)k.add[lw][aN]=T.G(aB[aN]);k.Eo=W.NU.ao9(e);k.oT=1}if(D==lK.Ax){k.b9|=16;
var cK=z.cj,gh=cK.Usng.v,jg=gh.Type.v,cM=gh.Shp;if(gh.Nm)bV=gh.Nm.v;if(cM==null){var gm=e.Kn(),cn=gm[0],d0=gm[1];
if(d0.length!=0&&cn[d0[0]].XW<0){var hb=cn[d0[0]].add;k.add.vmsk=hb.vmsk.Y();k.add.vstk=az.Y1.g1(!0);
k.add.vogk=T.G(hb.vogk);e.o0=[]}else k.Eo=W.NU.ao9(e)}else{k.add.vmsk=new lK.cI;k.add.vstk=T.G(gh.strokeStyle?gh.strokeStyle.v:az.Y1.g1(!0));
k.add.vogk=[];if(cM){var dj=T.w0.J_(cM,e.s,e.T);if(dj){k.add.vogk=[dj];k.add.vmsk.B.push({e:0,xq:1,length:0});
T.w0.BS(k.add.vogk,k.add.vmsk)}else{cM=cM.v;var kC=cM.classID;if(kC=="Plgn"){var gU=cM.Cntr.v,bm=cM.corner.v;
gU=new f5(gU.Hrzn.v.val,gU.Vrtc.v.val);bm=new f5(bm.Hrzn.v.val,bm.Vrtc.v.val);k.add.vmsk.B=T.S.nU.Bf(gU.x,gU.y,Math.sqrt(bm.x*bm.x+bm.y*bm.y),Math.atan2(bm.y,bm.x),cM.sides.v,0)}else if(kC=="customShape"){var fu=T.w0.cT(cM),eb=fu[2]-fu[0],lc=fu[3]-fu[1],kZ=P.u_,d$,ib;
for(var n=0;n<kZ.length;n++)if(kZ[n].v2==cM.Nm.v)d$=kZ[n];if(d$){ib=lK.cI.QD(d$.B);T.S.Z8(ib,new e5(eb,0,0,lc,fu[0],fu[1]))}else ib=T.S.nU.Rect(fu[0],fu[1],eb,lc,0);
k.add.vmsk.B=ib}k.T4()}}}if(cW==0){var gn={solidColorLayer:0,gradientLayer:1,patternLayer:2}[jg.classID],dp=["SoCo","GdFl","PtFl"][gn];
k.add[dp]=T.G(az.zO[gn]);if(gn==0)k.add[dp].Clr.v=T.Yf.e8(T.H_(P.pQ));W.NU.Ey(jg,k.add[dp],gn);if(cM==null)gK=iE.get([6,48,0,gn]);
var ck=e.PM();if(dp=="GdFl"&&ck!=-1){var iR=e.Z[ck].Le(),aF=iR.x+iR.s/2,it=iR.y+iR.T/2,iO=k.add[dp].Ofst.v;
iO.Hrzn.v.val=Math.round(100*(-.5+aF/e.s));iO.Vrtc.v.val=Math.round(100*(-.5+it/e.T));var a8=Math.min(iR.s/e.s,iR.T/e.T);
k.add[dp].Scl.v.val=Math.round(100*a8)}if(dp=="PtFl"){var jk=k.add[dp].Ptrn.v,fS=hB.i6(jk,P.fr);if(fS==null)fS=hB.i6(jk,e.add.Patt);
if(fS==null)fS=P.fr[0];jk.Idnt.v=fS.id;e.hI(fS)}k.ly(e)}else{k.add.vstl=T.G(P.aBJ)}}var kp=W.NU.w3(e,gK+" ");
k.up(gK+" "+(kp+1));if(bV)k.up(bV);var gt=e.j.length==0?e.Z.length-1:e.j[e.j.length-1],bP=e.Z[gt];if(cW==0&&D==lK.Ax&&bP.Be()&&bP.V.a8()){ii=!0;
k.up(bP.getName());dF=gt}else{dF=gt+(D==lK.Ag&&M&&!a?0:1);if(bP&&bP.add.lsct==fH._j)dF--}if(z.a4j)dF=Math.max(0,dF-1);
var e3=e.Z.slice(0);if(D==lK.zJ){var h1=e3[e.j[0]]=e3[e.j[0]].Y(),cT=e.h.o.slice(0);T.TG(cT);T.d5(cT,e.h.V,h1.buffer,h1.V)}e3.splice(dF,ii?1:0,k);
var iN=[5,2];if(D==lK.Ag)iN=[6,13];if(D==lK.Nq)iN=[6,1];if(D==lK.Ax){iN=[6,48,1];var cM=z.cj.Usng.v.Shp;
if(cM){var fo={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[cM.v.classID];
if(fo)iN=fo}}if(hh){iN=[6,49,D==lK.uk?0:1]}if(hh||D==lK.Ax||D==lK.ZZ||D==lK.Nq)if(e.h)dz=[e.h,null];
var $=new ji(iN,this);$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:[dF],UR:dz};e.Q6($);this.Yi($.data,e);
if(D==lK.Ax&&cM==null&&gn!=0||D==lK.Nq){var R=new dW(_.E.b);R.data={p:_.m.Qp,rF:dJ.Qf.mm};q.K(R)}}if(D==lK.au9){var e3=e.Z.slice(0),k=e.Z[e.j[0]],d2=k.V.D(),jf=d2*4,bS=e3.indexOf(k),cG=e.OJ();
cG.up("Decomposition");cG.add.lsct=fH._j;cG.pi="pass";cG.b9=24;e3.splice(bS+1,0,cG);e3.splice(bS+1,0,e.cs());
var cj=k.Y();cj.up("Residual");e3.splice(bS+2,0,cj);function ep($,b1,n){b1[n]+=128-$[n];b1[n+1]+=128-$[n+1];
b1[n+2]+=128-$[n+2];b1[n+4]+=128-$[n+4];b1[n+5]+=128-$[n+5];b1[n+6]+=128-$[n+6]}e3.splice(bS,0);var fU=Date.now();
for(var kn=0;kn<5;kn++){var fI=cj.Y();e3.splice(bS+3,0,fI);fI.vz=128;fI.pi="lLit";fI.up("Scale "+(kn+1));
ak.on(1<<kn,1,cj.buffer,k.V);var fu=cj.buffer,kq=new Uint8ClampedArray(fI.buffer.buffer);for(var n=0;
n<jf;n+=8)ep(fu,kq,n)}var $=new ji("Wavelet Decompose",this);$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:[bS+2]};
e.Q6($);this.Yi($.data,e)}if(D==lK.o8){var k=e.OJ(),gK=iE.get([0,4]),kp=W.NU.w3(e,gK+" ");k.up(gK+" "+(kp+1));
k.pi="pass";k.add.lsct=fH._j;k.b9=24;if(z.WB)k.up(z.WB);if(z.l2!=null)k.add.lclr=z.l2;var jv=e.cs(),gt=B,dF=gt+(M?0:1),e3=e.Z.slice(0);
e3.splice(dF,0,jv,k);var $=new ji([6,20],this);$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:[dF+1]};
e.Q6($);this.Yi($.data,e)}if(D==lK.lV||D==lK.Zs){var jO=D==lK.lV?z.source:e.j[0],g0,de,dQ,ep=null;if(z.H!=null)jO=z.H;
var da=e.j.indexOf(jO)!=-1,hL=s|z.auS;if(da)dQ=e.u4();else dQ=e.U3(jO);dQ.sort(function($,b1){return $-b1});
if(D==lK.lV){g0=z.target;de=z.gp>.5}else if(z.target!=null){g0=Math.min(z.target,e.Z.length-1);de=z.target<e.Z.length;
e.de=!0}else{var as=z.kE;de=as>1;if(as==0){g0=e.Z.length-1}if(as==1){g0=dQ[dQ.length-1]+1;var t=e.U3(g0);
if(t.indexOf(jO)==-1)g0+=t.length-1}if(as==2){g0=dQ[0]-1;var t=e.U3(g0);if(t.indexOf(jO)==-1)g0-=t.length-1}if(as==3){g0=0;
if(e.Z[0].add.lnsr=="bgnd")g0++}if(g0<0||g0>e.Z.length-1)return;e.de=!0}if(dQ.indexOf(g0)!=-1&&!hL)return;
var gc=W.NU.h4(e,dQ,g0,de,hL?e._i(da?null:jO):null,D==lK.lV&&z.gp>.8),kt=gc.pop(),fv=gc.pop(),e3=gc.pop(),fV=e.j;
e.j=[jO];var e_=e.PM();e.j=[g0];var aD=e.PM();if(aD==g0&&!de)aD=-1;e.j=fV;if(jO==e_){}else if(e_!=aD){var ep=new f5(0,0);
if(e_!=-1){var ah=e.Z[e_].Le();ep.x-=ah.x;ep.y-=ah.y}if(aD!=-1){var ah=e.Z[aD].Le();ep.x+=ah.x;ep.y+=ah.y}}var $=new ji(hL?[6,0]:[6,35],this);
$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:fv,cP:ep};e.Q6($);this.Yi($.data,e);var cK={classID:"move",null:fw.y5("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:kt+(de?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:hL}};
this.track({gQ:"move",cj:cK})}if(D==lK.cZ){var bP=z.Qe;if(z.wb){if(A==null||!A.YZ())return;var b=e.root.G6(B),hY=e.Z.indexOf(b.apO),e3=e.Z.slice(0);
e3.splice(B,1);e3.splice(hY,1);var fv=[];for(var n=hY;n<B-1;n++)fv.push(n);if(bP){var l8=B-2;e3[l8]=e3[l8].Y();
e3[l8].Qe=!1}var $=new ji(bP?[6,6,0]:"Ungroup Layers",this);$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:fv};
e.Q6($);this.Yi($.data,e)}else{var k=e.OJ(),dU=iE.get([0,4])+" ";k.up(dU+(W.NU.w3(e,dU)+1));k.pi="pass";
if(bP){if(e.j.length==1){alert("Select more than one layer for a clipping group.");return}k.up("<Clip Group>")}if(z.WB)k.up(z.WB);
if(z.l2!=null)k.add.lclr=z.l2;k.add.lsct=e.j.length==1?fH._j:fH.OI;k.b9=24;var jv=e.cs(),dQ=e.u4();if(dQ.length==0)return;
dQ.sort(function($,b1){return $-b1});var e3=[];for(var n=0;n<e.Z.length;n++)if(dQ.indexOf(n)==-1)e3.push(e.Z[n]);
var gt=e.j[e.j.length-1]-dQ.length;e3.splice(gt+1,0,jv);for(var n=0;n<dQ.length;n++)e3.splice(gt+2+n,0,e.Z[dQ[n]]);
e3.splice(gt+2+dQ.length,0,k);if(bP){var l8=gt+dQ.length+1;e3[l8]=e3[l8].Y();e3[l8].Qe=!0}var $=new ji(bP?[6,6,0]:[6,9],this);
$.data={p:lK.te,gx:e.Z.slice(0),qM:e3,AQ:e.j.slice(0),Ap:[e3.indexOf(k)]};e.Q6($);this.Yi($.data,e);
var i={gQ:"make",rD:!0};i.cj={classID:"Mk",null:fw.y5("layerSection"),From:fw.y5("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:k.getName()}}}};
this.track(i)}}if(D==lK.aof){if(e.j.length!=1)return;var r=e.j[0],iJ=s;if(e.Z[r].OX()==null&&!V.t(cz.EF)){D=lK.q0;
z.Ml=e.h?!iJ?"RvlS":"HdSl":!iJ?"RvlA":"HdAl"}else{D=lK.wo;z.a2P=!0}}if(D==lK.q0){if(e.j.length!=1)return;
var r=e.j[0],k=e.Z[r];if(k.add.vmsk&&k.Eo==null)k.ly(e);var hf=k.OX();if(hf==null||z.aNU){var $=new ji(z.WB?z.WB:[6,21],this),ku=new lK.Eu(e.depth),kM=z.Ml,hw=kM=="RvlS"||kM=="HdSl";
if(kM=="RvlS"||kM=="HdAl"||kM=="Trns")ku.color=0;if(hw){ku.o=e.h.o.slice(0);ku.V=e.h.V.Y();if(kM=="HdSl")T.TG(ku.o)}if(kM=="Trns"){ku.V=k.V.Y();
ku.o=T.n(k.V.D());T.bl(k.buffer,ku.o,3)}$.data={p:lK.oW,BD:[r,hf,ku],UR:hw?[e.h,null]:null,a93:kM=="Trns"};
e.Q6($);this.Yi($.data,e);e.Z[r].oT=1;this.track({gQ:"make",cj:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:kM}}}})}}else if(D==lK.amq){var bv=e.Z[z.src],eo=e.Z[z.$b],$=new ji([6,21],this),is=bv.OX(),jc=eo.OX(),j1=[z.src,is,null,z.$b,jc,is];
if(s||a){var aH=is.Y();if(s)j1=[z.$b,jc,aH];else j1[5]=aH;if(a){T.TG(aH.o);aH.color=255-aH.color}}$.data={p:lK.oW,BD:j1};
e.Q6($);this.Yi($.data,e)}if(D==lK.Ab){if(e.j.length!=1)return;var r=B,dt=e.Z[r].OX();if(dt!=null){var $=new ji([6,22],this);
$.data={p:lK.oW,BD:[B,dt,null]};e.Q6($);this.Yi($.data,e)}}if(D==lK.aX){var c7=e.Z.slice(0),lC=A.Y(),kD=lC.OX();
T.d5(kD.Xp(lC.V),lC.V,lC.buffer,lC.V);W.NU.gw(e,lC);lC.Sn();e.Z[e.j[0]]=lC;var $=new ji([5,8],this);
$.data={p:lK.te,gx:c7,qM:e.Z.slice(),AQ:e.j.slice(0),Ap:e.j.slice(0)};e.Q6($);this.Yi($.data,e)}if(D==lK.UT){if(e.j.length!=1)return;
var r=e.j[0];if(e.Z[r].kL(e).Eo==null){var $=new ji([6,45],this);$.data={p:D,H:r,Eo:new lK.Eu(e.depth)};
e.Q6($);this.Yi($.data,e)}}if(D==lK.Fo){if(e.j.length!=1)return;var r=e.j[0];if(e.Z[r].kL(e).Eo!=null){var $=new ji([6,46],this);
$.data={p:D,H:r,Eo:e.Z[r].kL(e).Eo};e.Q6($);this.Yi($.data,e)}}if(D==lK.j7){if(z.src==null&&e.j.length!=1)return;
if(z.src!=null)B=z.src;if(e.Z[B].LL()){var $=new ji([6,47],this),bz=JSON.stringify(e.Z[B].add.SoLd),ks=JSON.parse(bz);
delete ks.filterFX;$.data={p:lK.OZ,Fb:[{Jb:B,Cm:[bz,JSON.stringify(ks)],PD:[e.Z[B].kL(e),null]}]};e.Q6($);
this.Yi($.data,e)}}if(D==lK.wo){if(e.j.length!=1)return;if(A.add.vmsk==null){var $=new ji([6,23],this),le=e.Kn(),g5=le[1],le=le[0],ku,dj;
if(z.a2P&&g5.length!=0){var hb=le[g5[0]].add;ku=hb.vmsk.Y();dj=hb.vogk}else{ku=new lK.cI;dj=[];ku.B[1].all=z.ar9?0:1}$.data={p:D,H:B,aqL:!0,Eo:ku,w0:JSON.stringify(dj),Y1:null};
if(A.mp()){$.data.Y1=Stroke.Y1.g1(!0)}e.Q6($);this.Yi($.data,e)}}if(D==lK.UH){var bv=e.Z[z.src],eo=e.Z[z.$b];
if(eo.add.vmsk)return;var $=new ji([6,23],this),iI=bv.add.vmsk;$.data={H:z.$b,aqL:bv.bS,Eo:iI.Y(),w0:JSON.stringify(bv.add.vogk),Y1:bv.add.vstk?JSON.stringify(bv.add.vstk):null};
if(s){$.data.p=lK.wo}else{$.data.p=D;$.data.src=z.src;$.data.$b=z.$b}e.Q6($);this.Yi($.data,e)}if(D==lK.Et||D==lK.PZ){if(e.j.length!=1)return;
var k=e.Z[B],iI=k.add.vmsk;if(iI!=null){var bQ=D==lK.PZ,$=new ji(bQ?[6,8]:[6,24],this);$.data={p:lK.Et,H:B,aqL:k.bS,Eo:iI,w0:JSON.stringify(k.add.vogk),Y1:k.add.vstk?JSON.stringify(k.add.vstk):null};
if(bQ){$.data.Ro=iI.OX(k.add.vstk);$.data.Ro.HF=!1}e.Q6($);this.Yi($.data,e)}}if(D==lK.E8){var $=new ji("Metadata",this);
$.data={p:D,Pp:JSON.stringify(e.MX),LK:JSON.stringify(z.LK)};e.Q6($);this.Yi($.data,e)}if(D==lK.Lk){var fX=z.$b?z.$b:e,jb=fX.name,bV=z.u+"."+jb.split(".").pop();
if(jb==bV)return;var $=new ji([6,37],this);$.data={p:D,aP1:jb,WB:bV};if(z.aO4!=!0)fX.Q6($);this.Yi($.data,fX)}if(D==lK.vj&&z.kE.endsWith("makeframes")){var jF=[],eH=z.kE.startsWith("make");
for(var n=0;n<e.j.length;n++){var x=e.j[n],k=e.Z[x],bK=k.getName(),gA=bK.startsWith("_a_");if(eH==gA||k.add.lsct==fH.pR)continue;
var gL=eH?"_a_"+bK:bK.slice(3);jF.push([x,bK,gL,k.add.lnsr,null])}var $=new ji([6,37],this);$.data={p:lK.mH,Lh:jF};
e.Q6($);this.Yi($.data,e)}if(D==lK.mH){var jb=A.getName(),bV=z.name.substring(0,255);if(jb==bV)return;
var $=new ji([6,37],this);$.data={p:D,Lh:[[B,jb,bV,A.add.lnsr,null]]};e.Q6($);this.Yi($.data,e);this.track(fw.vo("Nm",{t:"TEXT",v:bV}))}if(D==lK.x_){var gJ=e.u4(),lk=[],hD=[];
for(var n=0;n<gJ.length;n++){lk.push(e.Z[gJ[n]].add.lclr);hD.push(z.alV)}var $=new ji([6,38],this);$.data={p:D,Z:gJ,aK1:lk,l2:hD};
e.Q6($);this.Yi($.data,e)}if(D==lK.Ke){var $=e.history[e.B5];if($!=null&&$.U==this&&$.data.p==D&&$.data.H==z.HM&&$.data.oo.wA==z.z1.wA)$.data.oo=z.z1;
else{$=new ji("Mask Density / Feather",this);$.data={p:D,H:z.HM,Zz:e.Z[z.HM].lj(z.z1.wA),oo:z.z1};e.Q6($)}this.Yi($.data,e)}if(D==lK.eB){var hr=JSON.stringify(z.u),j2=JSON.parse(hr),$=e.history[e.B5];
if($!=null&&$.U==this&&$.data.p==D&&$.data.vt==z.vt&&$.data.ML.join(",")==z.ML.join(",")){for(var n=0;
n<z.ML.length;n++)$.data.aPi[n]=j2;if($.data.cj&&j2.y3!=0)W.NU.Ey(j2.j5,$.data.cj.T.v,j2.y3-1)}else{$=new ji([11,6],this);
$.data={p:D,ML:z.ML,vt:z.vt,afz:[],aPi:[]};var cb=!1;for(var n=0;n<z.ML.length;n++){var x=z.ML[n],k=e.Z[x],ih=z.vt?az.W0(k.add):T.G(k.add.vstk);
$.data.afz.push(ih);$.data.aPi.push(j2);if(JSON.stringify(ih)!=hr)cb=!0}if(!cb)return;e.Q6($);if(z.vt&&j2.y3>0){var cK=$.data.cj={classID:"setd",null:fw.y5("contentLayer",!0),T:{t:"Objc",v:{}}};
W.NU.Ey(j2.j5,cK.T.v,j2.y3-1);this.track({gQ:"set",cj:cK})}}if(z.vt&&j2.y3==3)e.hI(hB.i6(j2.j5.Ptrn.v,P.fr));
if(!z.vt){var hy=j2.strokeStyleContent.v;if(hy.classID==az.Y1.U0[2])e.hI(hB.i6(hy.Ptrn.v,P.fr))}this.Yi($.data,e)}if(D==lK.VS){var eK=P.kQ,bD=[];
for(var n=0;n<e.j.length;n++){var x=e.j[n],k=e.Z[x],dN=k.add.vstl;if(dN==null)continue;var ih=JSON.stringify(dN);
for(var cA in eK)dN[cA]=eK[cA];var j2=JSON.stringify(dN);if(ih==j2)continue;bD.push([x,ih,j2])}if(bD.length!=0){var u=e.$p();
if(u&&u.U==this&&u.data.p==D&&u.data.m1.length==bD.length){var jA=!0;for(var n=0;n<bD.length;n++)if(bD[n][0]!=u.data.m1[n][0])jA=!1;
if(jA){for(var n=0;n<bD.length;n++)u.data.m1[n][2]=bD[n][2];e.Kv();return}}var $=new ji("Style Change",this);
$.data={p:D,m1:bD};e.Q6($);e.Kv()}}};W.NU.h4=function(z,q,e,V,P,D){var B=z.Z[e],A=[];if(P)A=z.Z.slice(0);
else for(var n=0;n<z.Z.length;n++)if(q.indexOf(n)==-1)A.push(z.Z[n]);var s=A.indexOf(B);if(D&&B.YZ()&&B.add.lsct==fH.OI)s-=z.U3(e).length-1;
var a=[];for(var n=0;n<q.length;n++){var M=s+(V?0:1)+n,$=P?P[n]:z.Z[q[n]];A.splice(M,0,$);a.push(M)}return[A,a,s]};
W.NU.Ey=function(z,q,e){var V=[az.RS,az.dW,az.lA][e];if(q.classID==null)q.classID=["solidColorLayer","gradientLayer","patternLayer"][e];
for(var n=0;n<V.length;n++)if(z[V[n]])q[V[n]]=T.G(z[V[n]])};W.NU.ao9=function(z){var q=new lK.Eu(z.depth);
if(z.h!=null){q.color=0;q.o=z.h.o.slice(0);q.V=z.h.V.Y()}return q};W.NU.Dj=function(z,q,e,V,P){var D=V.$U,B=e.$U,A=V.do/e.do,s=D.s/B.s,a=D.T/B.T,M=D.s/2,$=D.T/2;
s/=A;a/=A;var U=T.R.iR(D).J;for(var n=0;n<z.Z.length;n++){var o=z.Z[n],t=o.add.SoLd;if(t==null||t.Idnt.v!=q)continue;
var c=s!=1||a!=1;if(c){var H=W.On.a3(t.nonAffineTransform),F=T.O.AX(H,D),i=new e5;i.translate(-M,-$);
i.scale(s,a);i.translate(M,$);var X=T.O.yW(F,T.O.Ak(i)),K=U.slice(0);T.O.v(X,K);if(T.OL.nD(t.quiltWarp.v)){t.Trnf=W.On.V1(K);
t.nonAffineTransform=W.On.V1(K)}if(t.quiltWarp){var f=t.quiltWarp.v.bounds.v;if(f.Rght.v.val!=null){f.Rght.v.val=D.s;
f.Btom.v.val=D.T}else{f.Rght.v=D.s;f.Btom.v=D.T}}}o.N7(z,null,P,!c)}z.Kv()};W.NU.a4B=function(z,q,e){q.color=255-q.color;
T.TG(q.o);q.Ug=!0;z.ly(e);e.Kv()};W.NU.prototype.I7=function(z,q){var e=z.p,V=q.Z[z.H];q.$k=!0;if(e==lK.q5){var n=q.add.lnk2.indexOf(q.mn(z.id));
if(n==-1)throw"e";q.add.lnk2[n]=z.arN;W.NU.Dj(q,z.id,z.oE,z.arN)}if(e==lK.S_){V.add.SoLd.Impr.v.classID=z.Zz;
V.N7(q)}if(e==lK.Kj){var P=JSON.parse(z.ML);for(var n=0;n<P.length;n++)q.Z[P[n]].pi=z.Gk[n];q.Kv()}if(e==lK.tS){var P=JSON.parse(z.ML);
for(var n=0;n<P.length;n++)q.Z[P[n]].vz=z.Gk[n];q.Kv()}if(e==lK.UC){var P=JSON.parse(z.ML);for(var n=0;
n<P.length;n++)q.Z[P[n]].add.iOpa=z.Gk[n];q.Kv()}if(e==lK.rd){V.m.Aa=z.Gk.Aa;V.m.volume=z.Gk.volume}if(e==lK.rY){q.m.Ul=z.Gk.Ul;
q.m.HL=z.Gk.HL}if(e==lK.B4){var P=JSON.parse(z.ML);for(var n=0;n<P.length;n++)if(q.Z[P[n]].add.lsct!=fH.pR)q.Z[P[n]].add.lspf=z.Gk[n]}if(e==lK.lC){var D=z.Pz,B=z.ak3;
delete V.add[D[0]];if(B[0]!="----")V.add[B[0]]=B[1]}if(e==lK.rC){for(var n=0;n<z.ML.length;n++){var A=q.Z[z.ML[n]];
A.Bm(!A.Sw())}q.Kv()}if(e==lK.ce){var s=V.OX();s.isEnabled=!s.isEnabled;V.ly(q);q.Kv()}if(e==lK.Ee){var s=V.kL(q).Eo;
s.isEnabled=!s.isEnabled;V.Kv();q.Kv()}if(e==lK.qT){var s=V.add.vmsk;s.isEnabled=!s.isEnabled;if(!s.isEnabled){if(V.Ro){V.Eo=V.Ro;
V.Ro=null}else V.Eo=null}else if(V.Eo){V.Ro=V.Eo;V.Eo=null}V.ly(q);q.Kv()}if(e==lK.Cr){V.Ev=!V.Ev;q.Kv()}if(e==lK.qJ){V.add.lmfx.masterFXSwitch.v=!V.add.lmfx.masterFXSwitch.v;
V.J3.uC=!0;q.Kv()}if(e==lK.l$){V.add.SoLd.filterFX.v.enab.v=!V.add.SoLd.filterFX.v.enab.v;V.AE(q);q.Kv()}if(e==lK.dB){var a=z.index,M=V.add.lmfx[az.cx[a[0]]].v[a[1]].v;
M.enab.v=!M.enab.v;V.J3.uC=!0;q.Kv()}if(e==lK.xb){var $=q.Z[z.Mv],U=q.Z[z.KP],o=z.aqW,t=z.a53;if(o=="")delete $.add.lmfx;
else $.add.lmfx=JSON.parse(o);if(t=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(t);$.J3.uC=!0;U.J3.uC=!0;
q.Kv()}if(e==lK.kU){var c=V.add.SoLd.filterFX.v.filterFXList.v[z.index].v;c.enab.v=!c.enab.v;V.AE(q);
q.Kv()}if(e==lK.afA){V.add.SoLd.filterFX.v=T.G(z.aag);V.AE(q);q.Kv()}if(e==lK.KW){var s=V.OX();s.ck=!s.ck}if(e==lK.rT){var s=V.add.vmsk;
s.ck=!s.ck}if(e==lK.hY){var H=JSON.parse(z.aGT);q.G5=H[0];q.gd=H[1]}if(e==lK.wF){var H=z.za;for(var n=0;
n<H.length;n+=2){var F=H[n],A=F>=0?q.Z[F]:q.yj[-1-F];A.add.vogk=JSON.parse(H[n+1]);T.w0.BS(A.add.vogk,A.add.vmsk);
if(F>=0)A.ly(q)}q.Kv()}if(e==lK.x8){V.add.artb=JSON.parse(z.ayb);q.Kv();W.hV.kR(q,z)}if(e==lK.$T){q.h=z._Q;
if(z.aL9)q.A.Ox=z.aL9.slice(0);q.kv=z.za.slice(0);q.C2=z.auu.slice(0);q.XU=q.y8=!0}if(e==lK.nZ){V.l6=!V.l6}if(e==lK.Df){var i=z.anU;
for(var n=0;n<i.length;n++)q.Z[n].Km=i[n]}if(e==lK.te){if(z.cP)W.DL.zE(q,q.j,null,-z.cP.x,-z.cP.y);if(z.AQ)q.j=z.AQ;
if(z.UR)q.h=z.UR[0];q.L3=null;q.Kv();W.hV.kR(q,z);q.l_(z.gx);if(z.yC)q.m6(z.yC[0])}if(e==lK.oW){for(var n=0;
n<z.BD.length;n+=3)W.NU.gw(q,q.Z[z.BD[n]],z.BD[n+1]);if(z.UR){var X=z.UR[0];if(X==null)delete q.h;else q.h=X}if(z.a93){var A=q.Z[z.BD[0]];
T.yR(z.BD[2].o,A.buffer,3)}}if(e==lK.UT){V.kL(q).Eo=null;V.Kv();q.Kv()}if(e==lK.Fo){V.kL(q).Eo=z.Eo;
V.Kv();q.Kv()}if(e==lK.OZ){W.NU.aEd(q,z.Fb,0)}if(e==lK.wo){W.NU.ir(q,V,!0)}if(e==lK.UH){W.NU.ir(q,q.Z[z.$b],z.Eo.isEnabled);
W.NU.PG(q,q.Z[z.src],z)}if(e==lK.Et){if(z.Ro)W.NU.gw(q,V,null);W.NU.PG(q,V,z)}if(e==lK.E8){q.MX=JSON.parse(z.Pp)}if(e==lK.Lk){q.name=z.aP1}if(e==lK.mH){for(var n=0;
n<z.Lh.length;n++){var K=z.Lh[n],A=q.Z[K[0]];A.up(K[1]);if(K[3])A.add.lnsr=K[3];else delete A.add.lnsr}}if(e==lK.x_){for(var n=0;
n<z.Z.length;n++)q.Z[z.Z[n]].add.lclr=z.aK1[n]}if(e==lK.eB){var f=z.afz;for(var n=0;n<z.ML.length;n++){var A=q.Z[z.ML[n]],d=f[n];
if(!z.vt)A.add.vstk=T.G(d);else az.hn(A.add,T.G(d));A.D3(q)}q.Kv()}if(e==lK.VS){for(var n=0;n<z.m1.length;
n++){var L=z.m1[n];q.Z[L[0]].add.vstl=JSON.parse(L[1])}q.Kv()}if(e==lK.Ke){V.aFz(z.Zz);V.ly(q);q.Kv()}q.y8=!0};
W.NU.prototype.Yi=function(z,q){var e=z.p,V=q.Z[z.H];q.$k=!0;if(e==lK.q5){var n=q.add.lnk2.indexOf(q.mn(z.id));
if(n==-1)throw"e";q.add.lnk2[n]=z.oE;W.NU.Dj(q,z.id,z.arN,z.oE)}if(e==lK.S_){V.add.SoLd.Impr.v.classID=z.oo;
V.N7(q)}if(e==lK.Kj){var P=JSON.parse(z.ML);for(var n=0;n<P.length;n++)q.Z[P[n]].pi=z.oo;q.Kv()}if(e==lK.tS){var P=JSON.parse(z.ML);
for(var n=0;n<P.length;n++)q.Z[P[n]].vz=z.oo;q.Kv()}if(e==lK.UC){var P=JSON.parse(z.ML);for(var n=0;
n<P.length;n++)q.Z[P[n]].add.iOpa=z.oo;q.Kv()}if(e==lK.rd){V.m.Aa=z.oo.Aa;V.m.volume=z.oo.volume}if(e==lK.rY){q.m.Ul=z.oo.Ul;
q.m.HL=z.oo.HL}if(e==lK.B4){var P=JSON.parse(z.ML);for(var n=0;n<P.length;n++)if(q.Z[P[n]].add.lsct!=fH.pR)q.Z[P[n]].add.lspf=z.oo[n]}if(e==lK.lC){var D=z.ak3,B=z.Pz;
delete V.add[D[0]];if(B[0]!="----")V.add[B[0]]=B[1]}if(e==lK.rC){for(var n=0;n<z.ML.length;n++){var A=q.Z[z.ML[n]];
A.Bm(!A.Sw())}q.Kv()}if(e==lK.ce){var s=V.OX();s.isEnabled=!s.isEnabled;V.ly(q);q.Kv()}if(e==lK.Ee){var s=V.kL(q).Eo;
s.isEnabled=!s.isEnabled;V.Kv();q.Kv()}if(e==lK.qT){var s=V.add.vmsk;s.isEnabled=!s.isEnabled;if(!s.isEnabled){if(V.Ro){V.Eo=V.Ro;
V.Ro=null}else V.Eo=null}else if(V.Eo){V.Ro=V.Eo;V.Eo=null}V.ly(q);q.Kv()}if(e==lK.Cr){V.Ev=!V.Ev;q.Kv()}if(e==lK.qJ){V.add.lmfx.masterFXSwitch.v=!V.add.lmfx.masterFXSwitch.v;
V.J3.uC=!0;q.Kv()}if(e==lK.l$){V.add.SoLd.filterFX.v.enab.v=!V.add.SoLd.filterFX.v.enab.v;V.AE(q);q.Kv()}if(e==lK.dB){var a=z.index,M=V.add.lmfx[az.cx[a[0]]].v[a[1]].v;
M.enab.v=!M.enab.v;V.J3.uC=!0;q.Kv()}if(e==lK.xb){var $=q.Z[z.Mv],U=q.Z[z.KP],o=z.arY,t=z.ae0;if(o=="")delete $.add.lmfx;
else $.add.lmfx=JSON.parse(o);if(t=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(t);$.J3.uC=!0;U.J3.uC=!0;
q.Kv()}if(e==lK.kU){var c=V.add.SoLd.filterFX.v.filterFXList.v[z.index].v;c.enab.v=!c.enab.v;V.AE(q);
q.Kv()}if(e==lK.afA){V.add.SoLd.filterFX.v=T.G(z.aup);V.AE(q);q.Kv()}if(e==lK.KW){var s=V.OX();s.ck=!s.ck}if(e==lK.rT){var s=V.add.vmsk;
s.ck=!s.ck}if(e==lK.hY){var H=JSON.parse(z.aws);q.G5=H[0];q.gd=H[1]}if(e==lK.wF){var H=z.Td;for(var n=0;
n<H.length;n+=2){var F=H[n],A=F>=0?q.Z[F]:q.yj[-1-F];A.add.vogk=JSON.parse(H[n+1]);T.w0.BS(A.add.vogk,A.add.vmsk);
if(F>=0)A.ly(q)}q.Kv()}if(e==lK.x8){V.add.artb=JSON.parse(z.Tc);q.Kv();W.hV.SD(q,z)}if(e==lK.$T){q.h=z.Nz;
if(z.a9y)q.A.Ox=z.a9y.slice(0);q.kv=z.Td.slice(0);q.C2=z.atU.slice(0);q.XU=q.y8=!0}if(e==lK.nZ){V.l6=!V.l6}if(e==lK.Df){var i=z.avG;
for(var n=0;n<i.length;n++)q.Z[n].Km=i[n]}if(e==lK.te){q.a2g();var X=z.qM,K=0,f;for(var n=0;n<X.length;
n++){var A=X[n],d=A.add.lsct;if(d==fH.pR)K++;else if(d==fH._j||d==fH.OI)K--;if(A.add.artb&&K!=0)f="Artboards can not be inside folders."}if(f){q.history.pop();
q.B5--;alert(f);return}if(z.Ap)q.j=z.Ap;if(z.UR)q.h=z.UR[1];q.L3=null;q.Kv();q.l_(z.qM);W.hV.SD(q,z);
if(z.cP)W.DL.zE(q,q.j,null,z.cP.x,z.cP.y);if(z.yC)q.m6(z.yC[1])}if(e==lK.oW){for(var n=0;n<z.BD.length;
n+=3)W.NU.gw(q,q.Z[z.BD[n]],z.BD[n+2]);if(z.UR){var L=z.UR[1];if(L==null)delete q.h;else q.h=L}if(z.a93){var A=q.Z[z.BD[0]],G=A.buffer;
for(var n=0;n<G.length;n+=4)G[n+3]=255}}if(e==lK.UT){V.kL(q).Eo=z.Eo;V.oT=0;V.Kv();q.Kv()}if(e==lK.Fo){V.kL(q).Eo=null;
V.oT=0;V.Kv();q.Kv()}if(e==lK.OZ){W.NU.aEd(q,z.Fb,1)}if(e==lK.wo){W.NU.PG(q,V,z)}if(e==lK.UH){W.NU.ir(q,q.Z[z.src],z.Eo.isEnabled);
W.NU.PG(q,q.Z[z.$b],z)}if(e==lK.Et){W.NU.ir(q,V,z.Eo.isEnabled);if(z.Ro)W.NU.gw(q,V,z.Ro)}if(e==lK.E8){q.MX=JSON.parse(z.LK)}if(e==lK.Lk){q.name=z.WB}if(e==lK.mH){for(var n=0;
n<z.Lh.length;n++){var x=z.Lh[n],A=q.Z[x[0]];A.up(x[2]);if(x[4])A.add.lnsr=x[4];else delete A.add.lnsr}}if(e==lK.x_){for(var n=0;
n<z.Z.length;n++)q.Z[z.Z[n]].add.lclr=z.l2[n]}if(e==lK.eB){var O=z.aPi;for(var n=0;n<z.ML.length;n++){var A=q.Z[z.ML[n]],v=O[n];
if(!z.vt)A.add.vstk=T.G(v);else az.hn(A.add,T.G(v));A.D3(q)}q.Kv()}if(e==lK.VS){for(var n=0;n<z.m1.length;
n++){var C=z.m1[n];q.Z[C[0]].add.vstl=JSON.parse(C[2])}q.Kv()}if(e==lK.Ke){V.aFz(z.oo);V.ly(q);q.Kv()}q.y8=!0};
W.NU.w3=function(z,q){var e=0;for(var n=0;n<z.Z.length;n++){var V=z.Z[n].getName();if(V.startsWith(q)){var P=V.slice(q.length).trim(),D=parseInt(P);
if(!isNaN(D)&&D+""==P&&D>e)e=D}}return e};W.NU.aEd=function(z,q,e){for(var n=0;n<q.length;n++){var V=q[n],P=z.Z[V.Jb];
if(V.Cm){P.add.SoLd=JSON.parse(V.Cm[e])}if(V.PD){if(V.PD[1-e]!=null)z.yl(V.PD[1-e]);if(V.PD[e]!=null)z.Zl(V.PD[e]);
else P.oT=0}P.N7(z)}};W.NU.a8A=function(z,q){var e=z.zG,V=z.V.Y();if(e!=null&&(e.x!=q.s||e.y!=q.T)){V.x=Math.floor((q.s-V.s)/2);
V.y=Math.floor((q.T-V.T)/2)}else if(e==null){var P=new kk(0,0,q.s,q.T),D=q.PM();if(D!=-1)P=q.Z[D].Le();
V.x+=P.x;V.y+=P.y}return V};W.NU.ajS=function(z,q){if(q.Ro)q.Ro=null;else q.Eo=null;q.ly(z);z.Kv();q.oT=0};
W.NU.gw=function(z,q,e){var V=q.OX();if(V==null&&e==null)return;if(V)W.NU.ajS(z,q);if(e==null)return;
if(q.Eo)q.Ro=e;else q.Eo=e;q.ly(z);z.Kv()};W.NU.ir=function(z,q,e){if(q.Ro&&e){q.Eo=q.Ro;q.Ro=null}else if(q.Eo&&e){q.Eo=null}delete q.add.vogk;
delete q.add.vstk;delete q.add.vmsk;q.ly(z);q.bS=!1;z.L3=[];z.Kv()};W.NU.PG=function(z,q,e){q.add.vogk=JSON.parse(e.w0);
if(e.Y1)q.add.vstk=JSON.parse(e.Y1);else delete q.add.vstk;q.add.vmsk=e.Eo.Y();if(q.Eo&&q.add.vmsk.isEnabled)q.Ro=q.Eo;
q.ly(z);q.bS=e.aqL;z.L3=[z.Z.indexOf(q)];z.o0=[];z.Kv()};W.ID=function(){W.__.call(this,"Layer Styles",W.Eg);
this.J1=null;this.Jf=null;this.Qn=null;this.j3=[];this.er=null};W.ID.prototype=new W.__;W.ID.prototype.If=function(z,q,e,V,P){var D=z.H;
if(D==null)D=e.j[0];var B=e.Z[D],A=z.XW;if(this.J1==null){this.Qn=W.ID._N(e,B);this.J1=JSON.stringify(this.Qn);
if(B.add.lmfx)this.Jf=JSON.stringify(B.add.lmfx)}if(B.add.lmfx==null){B.add.lmfx=JSON.parse(az.default);
for(var n=0;n<az.order.length;n++)B.add.lmfx[az.cx[n]]={t:"VlLs",v:[]}}if(z.p=="scaleeffects"){if(z.u=="confirm"||z.u=="cancel"){this.If({p:z.u},q,e,V,P);
return}B.add.lmfx=JSON.parse(this.Jf);hB.Ns(B.add.lmfx,z.u/100)}else if(z.p=="changeprop"){var s=null;
if(A!=0){var a=this.j3[A[0]];if(a==null)a=az.j3[A[0]];a=JSON.parse(a);var M=B.add.lmfx[az.cx[A[0]]].v;
if(M[A[1]]==null)M[A[1]]={t:"Objc",v:a};s=M[A[1]].v;for(var $ in a)if(s[$]==null)s[$]=a[$]}if(z.p=="changeprop"){if(A==0){this.Qn[z.MY].v=z.u;
W.ID.QH(e,B,this.Qn)}else if(z.MY=="lagl"){if(s.uglg&&s.uglg.v){e.Ru(z.u.val);this.Qn.gagl.v.val=e.RP()}else s[z.MY].v=z.u}else if(z.MY=="Lald"){if(s.uglg.v){e.nP(z.u.val);
this.Qn.globalAlt=e.jL()}else s[z.MY].v=z.u}else if((A[0]==3||A[0]==8)&&(z.MY=="Clr"||z.MY=="Grad")){if(z.MY=="Clr"){s.Clr={t:"Objc",v:z.u};
delete s.Grad}if(z.MY=="Grad"){s.Grad={t:"Objc",v:z.u};delete s.Clr}}else{s[z.MY].v=z.u}if(A!=0)this.j3[A[0]]=JSON.stringify(s)}if(A!=0)if(s.Ptrn)e.hI(hB.i6(s.Ptrn.v,P.fr))}else if(z.p=="setstl"){var U=z.u.Lefx;
if(U)hB.asl(U,e,P.fr);hB.aMg(z.u,B,null,e);this.Qn=W.ID._N(e,B)}else if(z.p=="st_dupsingle"){var o=B.add.lmfx[az.cx[z.J0[0]]].v;
if(o[z.J0[1]]==null)return;var t=T.G(o[z.J0[1]]);o.splice(z.J0[1],0,t)}else if(z.p=="st_movsingle"){var c=z.J0[1],o=B.add.lmfx[az.cx[z.J0[0]]].v;
if(o[z.J0[1]]==null)return;var H=Math.max(0,Math.min(o.length-1,c+z.a1_)),F=o[H];o[H]=o[c];o[c]=F}else if(z.p=="cancel"){if(this.Jf==null)delete B.add.lmfx;
else B.add.lmfx=JSON.parse(this.Jf);W.ID.QH(e,B,JSON.parse(this.J1));this.J1=null;this.Jf=null}else if(z.p=="confirm"){var i=JSON.stringify(B.add.lmfx),X=new ji([11,6],this);
X.data={Z:[D],aDa:[this.Jf],aFn:[i],atw:[this.J1],aGP:[JSON.stringify(this.Qn)]};e.Q6(X);this.J1=null;
this.Jf=null;if(i!=null){var K=JSON.parse(i);d1.QC(K);K.classID="Lefx";delete K.masterFXSwitch;var f=new dW(_.E.zN);
f.Hf=!0;f.data={gQ:"set",rD:!0};var d=fw.y5("Lyr",!0);d.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
f.data.cj={__name:"Set",classID:"setd",null:d,T:{t:"Objc",v:K}};q.K(f)}}else if(z.p=="st_copy"){this.er=[this.J1,this.Jf];
this.J1=null;this.Jf=null}else if(z.p=="st_paste"||z.p=="st_clear"){if(z.p=="st_paste"&&this.er==null)return;
var L=z.H!=null?[z.H]:e.j.slice(0),G=[],x=[],O=[],v=[];for(var n=0;n<L.length;n++){var B=e.Z[L[n]],C=W.ID._N(e,B);
G.push(B.add.lmfx?JSON.stringify(B.add.lmfx):null);O.push(JSON.stringify(C));if(z.p=="st_paste"){x.push(this.er[1]);
v.push(this.er[0])}else{x.push(null);C.lrMd.v=0;C.Opct.v.val=100;C.iOpa.v.val=100;C.blIf={v:[]};for(var S=0;
S<10;S++)C.blIf.v.push(0,0,255,255);v.push(JSON.stringify(C))}}var X=new ji([11,6],this);X.data={Z:L,aDa:G,aFn:x,atw:O,aGP:v};
this.Yi(X.data,e);e.Q6(X);this.J1=null;this.Jf=null}else{var w=this.Qn,K=null;if(z.p=="st_delsingle"){K=JSON.parse(this.Jf);
K[az.cx[z.J0[0]]].v.splice(z.J0[1],1);K=JSON.stringify(K)}if(K==null)delete B.add.lmfx;else B.add.lmfx=JSON.parse(K);
if(w!=null)W.ID.QH(e,B,w);var X=new ji([11,6],this);X.data={Z:[z.H],aDa:[this.Jf],aFn:[K],atw:[this.J1],aGP:[JSON.stringify(w)]};
e.Q6(X);this.J1=null;this.Jf=null}B.J3.uC=!0;e.$k=!0;e.Kv()};W.ID._N=function(z,q){if(q.add.iOpa==null)q.add.iOpa=255;
if(q.add.brst==null)q.add.brst=[1,1,1];var e=q.YZ()?["pass"].concat(aA.q2):aA.q2;return{lrMd:{v:e.indexOf(q.pi)},Opct:{v:{type:"#Prc",val:Math.round(q.vz*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(q.add.iOpa*100/255)},t:"UntF"},blIf:{v:q.sy.slice(0)},brst:{v:q.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:z.RP()}},globalAlt:z.jL(),isFolder:q.YZ()}};
W.ID.QH=function(z,q,e){var V=q.YZ()?["pass"].concat(aA.q2):aA.q2;q.pi=V[e.lrMd.v];q.vz=Math.round(e.Opct.v.val*255/100);
q.add.iOpa=Math.round(e.iOpa.v.val*255/100);q.sy=e.blIf.v.slice(0);q.add.brst=e.brst.v.slice(0);z.Ru(e.gagl.v.val);
z.nP(e.globalAlt)};W.ID.prototype.I7=function(z,q){for(var n=0;n<z.Z.length;n++){var e=q.Z[z.Z[n]],V=z.aDa[n];
if(V==null)delete e.add.lmfx;else e.add.lmfx=JSON.parse(V);W.ID.QH(q,e,JSON.parse(z.atw[n]));e.J3.uC=!0}q.$k=!0;
q.Kv()};W.ID.prototype.Yi=function(z,q){for(var n=0;n<z.Z.length;n++){var e=q.Z[z.Z[n]],V=z.aFn[n];if(V==null)delete e.add.lmfx;
else e.add.lmfx=JSON.parse(V);W.ID.QH(q,e,JSON.parse(z.aGP[n]));e.J3.uC=!0}q.$k=!0;q.Kv()};W.$I=function(){W.__.call(this,"Layer Comps",W.Ao)};
W.$I.prototype=new W.__;W.$I.prototype.If=function(z,q,e,V){var P=T.G(e.jA),D=T.G(e.jA),B=null,A=null,s=null,a=-1,M=!1;
if(z.p=="delLC"){var $=W.$I.Ae(e.jA,z.XW),U=e.jA.lastAppliedComp?e.jA.lastAppliedComp.v:0;D.list.v.splice($,1);
if(U==z.XW)delete D.lastAppliedComp;B="Delete Layer Comp"}if(z.p=="editLC"){var $=W.$I.Ae(e.jA,z.XW),o=D.list.v[$].v;
if(z.WB!=null)o.Nm.v=z.WB;if(z.azq!=null){var t=z.azq,c=o.capturedInfo.v,H=c&(1<<t)-1;c=c>>t;if((c&1)==1)c--;
else c++;o.capturedInfo.v=(c<<t)+H}B="Layer Comp properties"}if(z.p=="setLC"){W.$I.Cu(e);if(z.XW==0)delete D.lastAppliedComp;
else D.lastAppliedComp={t:"long",v:z.XW};B="Switch Layer Comp";M=!0}if(z.p=="updLC"){W.$I.Cu(e);A=W.$I.agt(e,z.XW);
s=W.$I.Xx(e,z.XW);D.lastAppliedComp={t:"long",v:z.XW};B="Update Layer Comp";a=z.XW;M=!0}if(z.p=="addLC"){W.$I.Cu(e);
var F=1;for(var n=0;n<D.list.v.length;n++)F=Math.max(F,D.list.v[n].v.compID.v)+1;F+=Math.floor(Math.random()*1e4);
var i={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(D.list.v.length+1)},compID:{t:"long",v:F},capturedInfo:{t:"long",v:7}}};
D.list.v.push(i);D.lastAppliedComp={t:"long",v:F};B="New Layer Comp";var X=W.$I.Xx(e,F);W.$I.MW(e,X,F)}var K=new ji(B,this);
K.data={aJp:P,aLP:D,ama:A,aDf:s,XW:a,zk:M};this.Yi(K.data,e);e.Q6(K)};W.$I.prototype.Yi=function(z,q){q.jA=z.aLP;
q.$k=!0;if(z.aDf)W.$I.MW(q,z.aDf,z.XW);if(z.zk){var e=q.jA.lastAppliedComp?q.jA.lastAppliedComp.v:0,V=W.$I.Ae(q.jA,e),P=V==-1?null:q.jA.list.v[V].v,D=P?P.capturedInfo.v:7;
W.$I.KF(q,e,D);q.Kv()}};W.$I.prototype.I7=function(z,q){q.jA=z.aJp;q.$k=!0;if(z.ama)W.$I.MW(q,z.ama,z.XW);
if(z.zk){var e=q.jA.lastAppliedComp?q.jA.lastAppliedComp.v:0,V=W.$I.Ae(q.jA,e),P=V==-1?null:q.jA.list.v[V].v,D=P?P.capturedInfo.v:7;
W.$I.KF(q,e,D);q.Kv()}};W.$I.Cu=function(z){if(z.jA.lastAppliedComp!=null||!z.aKf)return;var q=W.$I.Xx(z,0);
W.$I.MW(z,q,0);z.aKf=!1};W.$I.Uy=function(z,q,e){z.v.Hrzn.v+=q;z.v.Vrtc.v+=e};W.$I.Ae=function(z,q){var e=z.list.v;
for(var n=0;n<e.length;n++)if(e[n].v.compID.v==q)return n;return-1};W.$I.atK=function(z){var q=z.layerSettings.v,P=null;
if(q.length==0)return;var e="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),V=q[0].v;
if(V.enab==null)V.enab={t:"bool",v:!0};if(V.Ofst==null)V.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var n=0;n<q.length;n++){var D=q[n].v;if(P==null)P=T.G(D);else for(var B=0;B<e.length;B++){var A=e[B];
if(D[A])P[A]=T.G(D[A])}q[n].v=T.G(P)}};W.$I.a9t=function(z,q){var e=z.add.shmd.cmls,V=e.layerSettings.v;
for(var P=0;P<V.length;P++){var D=V[P].v,B=D.compList.v[0].v;if(B==q)return P}return-1};W.$I.acI=function(z,q){var e=W.$I.a9t(z,q);
return e==-1?null:z.add.shmd.cmls.layerSettings.v[e].v};W.$I.KF=function(z,q,e){for(var n=0;n<z.Z.length;
n++){var V=z.Z[n],P=V.add.shmd.cmls;if(P==null)continue;var D=P.layerSettings.v,B=W.$I.acI(V,q);if(B==null){V.Bm(!1);
continue}if((e&1)!=0){if(B.enab)V.Bm(B.enab.v);else V.Bm(!0)}if((e&2)!=0){if(B.Ofst){var A=B.Ofst.v,s=V.$i(z),a=Math.round(A.Hrzn.v-s.x),M=Math.round(A.Vrtc.v-s.y);
if(a!=0||M!=0)W.DL.zE(z,[n],null,a,M)}}if((e&4)!=0){if(B.Lefx){var $=T.G(B.Lefx.v);d1.mE($);if(JSON.stringify($)!=JSON.stringify(V.add.lmfx)){V.add.lmfx=$;
V.J3.uC=!0}}else delete V.add.lmfx;if(B.blendOptions){var U=B.blendOptions.v;if(U.Opct)V.vz=Math.round(255*U.Opct.v.val/100);
if(U.fillOpacity)V.add.iOpa=Math.round(255*U.fillOpacity.v.val/100);if(U.Md)V.pi=V.add.lsct==fH.pR?"norm":aA.pd(U.Md.v.BlnM)}else{V.vz=255;
V.pi=V.YZ()?"pass":"norm";V.add.iOpa=255}}}};W.$I.agt=function(z,q){var e={};for(var n=0;n<z.Z.length;
n++){var V=z.Z[n];if(V.add.shmd==null||V.add.shmd.cmls==null)continue;e["l"+V.add.lyid]=T.G(W.$I.acI(V,q))}return e};
W.$I.Xx=function(z,q){var e={};for(var n=0;n<z.Z.length;n++){var V=z.Z[n],P=V.add.lyid;e["l"+P]=W.$I.azR(z,V,q)}return e};
W.$I.azR=function(z,q,e){var V=q.add.shmd?q.add.shmd.cmls:null,P={classID:"null"},D=q.$i(z),B={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:D.x},Vrtc:{t:"long",v:D.y}}};
P.compList={t:"VlLs",v:[{t:"long",v:e}]};P.enab={t:"bool",v:q.Sw()};P.Ofst=T.G(B);P.FXRefPoint=T.G(V&&V.origFXRefPoint?V.origFXRefPoint:B);
P.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:aA.bi(q.pi)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*q.vz/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:q.add.iOpa!=null?100*q.add.iOpa/255:100}}}};
if(q.add.vmsk){P.vectorMask={t:"Objc",v:{classID:"null"}};P.vectorMask.v.Ofst=T.G(B)}if(q.add.lmfx){P.Lefx={t:"Objc",v:T.G(q.add.lmfx)};
d1.QC(P.Lefx.v)}return P};W.$I.ajZ=function(z,q){var e=q.add.lyid;if(q.add.shmd==null)q.add.shmd={};
if(q.add.shmd.cmls==null){q.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:e},layerSettings:{t:"VlLs",v:[{t:"Objc",v:W.$I.azR(z,q,0)}]}}}};
W.$I.MW=function(z,q,e){for(var n=0;n<z.Z.length;n++){var V=z.Z[n],P=V.add.lyid;W.$I.ajZ(z,V);var D=V.add.shmd.cmls,B=D.layerSettings.v,A=q["l"+P];
if(A!=null)A={t:"Objc",v:T.G(A)};var s=W.$I.a9t(V,e);if(s==-1){if(A==null)continue;else B.push(A)}else{if(A==null)B.splice(s,1);
else B[s]=A}}};W.$I.CB=function(z,q){for(var n=0;n<z.Z.length;n++){var e=z.Z[n],V=e.add.lyid;if(e.add.shmd==null||e.add.shmd.cmls==null)continue;
var P=e.$i(z),D=Math.round(P.x),B=Math.round(P.y);if(!q){D=-D;B=-B}var A=e.add.shmd.cmls,s=A.layerSettings.v;
if(A.origFXRefPoint)W.$I.Uy(A.origFXRefPoint,-D,-B);for(var a=0;a<s.length;a++){var M=s[a].v;W.$I.Uy(M.Ofst,D,B);
var $=M.imageMask,U=M.vectorMask;if($&&$.v.Ofst)W.$I.Uy($.v.Ofst,D,B);if(U&&U.v.Ofst)W.$I.Uy(U.v.Ofst,D,B)}}};
W.Jz=function(){W.__.call(this,"Adjust Edit",W.j4);this.LK=null;this.Mj=null};W.Jz.prototype=new W.__;
W.Jz.D9=function(z,q,e,V){if(V)q/=4;var P=0,D=0,B=255,A=0,s=0,a=255;while(D+z[P]<q){D+=z[P];P++}while(A+z[B]<q){A+=z[B];
B--}if(V){P-=Math.round(z[P]/(e/32));B+=Math.round(z[B]/(e/32));if(P<0)s=Math.round(-P*255/(B-P));if(B>255)a=255-Math.round((B-255)*255/(B-P))}return[Math.max(P,0),Math.min(B,255),s,a,100]};
W.Jz.prototype.If=function(z,q,e,V,P){var D=z.p;if(D=="auto"){var B=z.aFV,A=W.Jz.getData(e);for(var n=0;
n<A.length;n++){var s=A[n],a;if(B<3){}else{var M=ak.g1("hue2");jR.H5(M,0,[0,-100,0]);a=aM.LU("hue2",M)}aM.vl(a,s.Hm,s.vw,s.TP)}W.Jz.uT(e,A);
W.Jz.ue(e,A,B<3?[4,16,B]:[19,7,0],this);e.Kv()}if(D=="edit_layer")this.ahF(z,q,e,V);if(D=="edit"||D=="confirm"||D=="cancel")this.ws(z,q,e,P,!0);
if(D=="start"){if(e.j.length==0)return;var $=e.Z[e.j[0]];if($.add.SoLd&&$.oT<=0&&e.C2.length==0){var U=new dW(_.E.z,!0);
U.U=W.pa;U.data={p:"start",gT:z.xJ,YY:z.YY};q.K(U);return}if(!e.YM(q,null,!0))return;if(e1[z.xJ]&&z.YY==null){if(e.j.length!=1)alert("Will be applied to "+e.j.length+" layers.");
var U=new dW(_.E.b,!0);U.data={p:_.m.wa,rF:"afw_"+z.xJ};q.K(U)}else{this.ws({p:"edit",YY:z.YY,gT:z.xJ},q,e,P);
this.ws({p:"confirm",gT:z.xJ},q,e,P)}}};W.Jz.prototype.ahF=function(z,q,e,V){var P=z.p,D=e.j[0],B=e.Z[D],A=aM.get(B.add),U;
if(B.add[A]==null)return;var s=T.G(B.add[A]);for(var a in z.u)s[a]=z.u[a];var M=T.G(s);for(var a in aM.Sa)if(aM.Sa[a]==A)M.classID=a;
var $=e.history[e.B5];if($&&$.U==this&&$.data.Zz!=null&&$.data.H==D)U=$;else{var o=new dW(_.E.zN,!0),t={classID:"setd",null:fw.y5("AdjL",!0),T:{t:"Objc",v:M}};
o.data={rD:!0,gQ:"set",cj:t};q.K(o);var U=new ji([6,39],this);U.data={H:D,Zz:B.add[A],oo:s,a3q:t};e.Q6(U)}U.data.oo=s;
U.data.a3q.T.v=M;this.Yi(U.data,e)};W.Jz.getData=function(z,q,e){var V=[],P=new kk(0,0,z.s,z.T),D=z.C2.length!=0?[-1-z.C2[0]]:z.j;
for(var n=0;n<D.length;n++){var B=D[n],A=B<0?null:z.Z[B],s={H:B,Tn:B<0?1:A.oT};V.push(s);var a=z.kv[-1-B];
if(0<=B)a=A.oT<=0?null:A.oT==1?A.OX():A.kL(z).Eo;var M=a?a.V:A.V;if(z.h){s.TP=z.h.V.HX(q||a!=null?P:M)}else s.TP=q||a!=null?M.X8(P):M.Y();
if(e)s.TP=e[n].TP.Y();var $=s.TP.D();s.Hm=T.n($*4,z.depth);if(a)W.j6.HU(a.o,a.V,a.color,s.Hm,s.TP);else T.aF(A.buffer,M,s.Hm,s.TP);
s.vw=s.Hm.slice(0);if(z.h){s.BD=T.n($,z.depth);T.KY(z.h.o,z.h.V,s.BD,s.TP)}}return V};W.Jz.aan=function(z,q,e){if(q==null)return q;
var V=aM.oP(z,q),D;if(V==-1)return q;var P=e.length>>>2,B=T.Wy(e),A=.001*P;if(V==0||V==2)D=[[0,255,0,255,100],W.Jz.D9(B[1],A,P,V==2),W.Jz.D9(B[2],A,P,V==2),W.Jz.D9(B[3],A,P,V==2)];
if(V==1)D=[W.Jz.D9(B[0],A*.33,P,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var s=ak.g1("levl");
for(var n=0;n<4;n++)hG.H5(s,n,D[n]);return s};W.Jz.aFC=function(z,q,e,V){var P,D;if(e.t=="name"){var B=0;
for(var A=0;A<z.Z.length;A++)if(z.Z[A].getName()==e.v.val)B=A;if(z==q&&B==V.H){P=V.Hm;D=V.TP}else{var s=z.Z[B];
P=s.buffer;D=s.V}}else{D=new kk(0,0,z.s,z.T);P=z==q?V.Nm:z.tW()}return[P,D]};W.Jz.prototype.ws=function(z,q,e,V){var P=e.h,D=z.gT=="matc"&&z.YY;
if(this.LK==null){if(z.gT=="aply")e.Z[e.j[0]].extend(new kk(0,0,e.s,e.T));if(D)e.h=null;this.LK=W.Jz.getData(e,null,z.gT=="fade"?e.$p().data:null);
e.h=P;if(z.gT=="aply"||z.gT=="matc")this.LK[0].Nm=e.tW()}if(z.p=="edit"){this.Mj=[z.gT,z.YY];var B=this.LK[0],A=W.Jz.aan(z.gT,z.YY,B.Hm),s=aM.LU(z.gT,A);
if(z.gT=="fade"||z.gT=="matc"||z.gT=="aply")s=z.YY;if(s!=null){for(var a=0;a<this.LK.length;a++){var M=this.LK[a];
if(z.mv)T.Yh(M.Hm,M.vw);else if(z.gT=="fade"){var $=aA.pd(z.YY.Md.v.BlnM),U=z.YY.Opct.v.val/100,o=e.$p().data[a];
T.Yh(o.Hm,M.vw);if($=="norm")T.w.Dx(M.Hm,M.TP,M.vw,M.TP,null,null,null,M.TP,U);else{var t=hB.xj();t.Wl=!0;
for(var n=0;n<o.Hm.length;n+=4)if(o.Hm[n+3]!=M.Hm[n+3]){t=null;break}T.w.Mt($,M.Hm,M.TP,M.vw,M.TP,M.TP,U,t)}}else if(z.gT=="matc"){function c(g,Y){if(Y==null)return g;
var R=T.n(Y[1].D()*4);T.aF(g,Y[0],R,Y[1]);return R}var H,F,L=null,G=null,x=null;if(s.noReference&&s.noReference.v){H=M.Hm;
F=M.TP}else{var i=s.Srce.v,X=i[1].v.val,K=q.nk,f=e;for(var n=0;n<K.length;n++)if(K[n].name==X)f=K[n];
var d=W.Jz.aFC(f,e,i[0],M);H=d[0];F=d[1]}if(P&&s.selectedSourceAreas&&s.selectedSourceAreas.v)G=[F,P.V];
if(P&&s.SlcA&&s.SlcA.v)L=[M.TP,P.V];if(P&&s.fsel&&s.fsel.v)x=[M.TP,P.V];M.vw.set(M.Hm);var O=c(M.vw,x);
c5(c(M.Hm,L),c(H,G),O,[s.Lght.v,s.ClrR.v,s.Fade.v,s.neutralizeColor?s.neutralizeColor.v:!1]);if(x)T.aF(O,P.V,M.vw,M.TP)}else if(z.gT=="aply"){s=s.With.v;
var v=s.T.v,d=W.Jz.aFC(e,e,v[1],M),H=d[0],F=d[1],C=s.Clcl?s.Clcl.v.Clcn:null,$=C?aA.pd(C):"norm",U=s.Opct?s.Opct.v.val/100:1,S=["RGB","Rd","Grn","Bl","Trsp"].indexOf(v[0].v.enum),A=s.Invr&&s.Invr.v;
if(A||S!=0){H=H.slice(0);if(A)T.ah9(H);if(S!=0){var j=T.n(F.D());T.bl(H,j,S-1);if(S==4)T.TG(j);for(var w=0;
w<3;w++)T.yR(j,H,w)}}if(C=="Add"||C=="Sbtr"){var u=1/s.Scl.v,l=s.Ofst.v,I=C=="Add"?1:-1,Q=new Uint8ClampedArray(M.vw.buffer);
for(var n=0;n<H.length;n+=4){Q[n]=(M.Hm[n]+I*H[n])*u+l;Q[n+1]=(M.Hm[n+1]+I*H[n+1])*u+l;Q[n+2]=(M.Hm[n+2]+I*H[n+2])*u+l}}else{var t=hB.xj();
t.Wl=s.PrsT&&s.PrsT.v;M.vw.fill(0);M.vw.set(M.Hm);T.w.Mt($,H,F,M.vw,M.TP,M.TP,U,t)}}else aM.vl(s,M.Hm,M.vw,M.TP)}if(D)e.h=null;
W.Jz.uT(e,this.LK);e.h=P}}if(z.p=="cancel"){W.Jz.an3(e,this.LK);this.LK=null}if(z.p=="confirm"){var b={fade:[2,11],aply:[2,12],matc:[4,18]},p=b[z.gT];
if(p==null)p=aM.names[z.gT];var k=aM.oP(z.gT,this.Mj[1]);if(k!=-1)p=[4,16,k];W.Jz.ue(e,this.LK,p,this);
this.LK=null;if(k==-1)W.Jz.lz(q,this.Mj)}e.Kv()};W.Jz.lz=function(z,q){var e=q[0],V=q[1],P,D;if(aM.$Y[e]){P=aM.$Y[e];
if(e1[e])D=V}if(ak.$Y[e]){P=ak.$Y[e];if(e1[e])D=V}if(e=="fade"){P="fade";D=V}if(e=="matc"){P="matchColor";
D=V}if(e=="aply"){P="applyImageEvent";D=V}if(e=="GEfc"){if(D.GEfs)D=D.GEfs.v[0].v}if(P==null)return;
var B=new dW(_.E.zN,!0);B.data={rD:!0,gQ:P};if(D){D=T.G(D);B.data.cj=D}z.K(B)};W.Jz.an3=function(z,q){W.Jz.lr(z,q)};
W.Jz.ue=function(z,q,e,V){for(var n=0;n<q.length;n++){var P=q[n],D=z.Z[P.H],B=P.H<0?z.kv[-1-P.H]:P.Tn<=0?null:P.Tn==1?D.OX():D.kL(z).Eo;
if(B){B.Sn();B.Ug=!0;if(D)D.ly(z)}else{D.Sn();D.Kv()}delete P.vw;delete P.BD}var A=new ji(e,V);A.data=q;
z.Q6(A);z.$k=!0};W.Jz.uT=function(z,q,e){for(var n=0;n<q.length;n++){var V=q[n],P=z.Z[V.H],D=e?V.Hm:V.vw,B=V.TP;
if(V.Tn==0){P.extend(B);if(V.BD){T.aF(V.Hm,B,P.buffer,P.V);T.w.Dx(D,B,P.buffer,P.V,V.BD,B,0,B,1)}else T.aF(D,B,P.buffer,P.V)}else{var A=V.H<0?z.kv[-1-V.H]:V.Tn==1?P.OX():P.kL(z).Eo;
A.extend(B);if(V.BD){var s=T.n(B.D()*4);T.Yh(V.Hm,s);T.w.Dx(D,B,s,B,V.BD,B,0,B,1);W.j6.z5(s,B,A)}else W.j6.z5(D,B,A);
A.Ug=!0;if(P)P.ly(z)}if(P)P.Kv()}if(!e)W.Jz.aOS(z,q)};W.Jz.lr=function(z,q){for(var n=0;n<q.length;n++){var e=q[n],V=z.Z[e.H],P=e.TP,D=T.n(P.D()*4,z.depth);
if(e.Tn==0){T.aF(V.buffer,V.V,D,P);V.extend(P);T.aF(e.Hm,P,V.buffer,V.V);V.Sn()}else{var B=e.H<0?z.kv[-1-e.H]:e.Tn==1?V.OX():V.kL(z).Eo;
W.j6.HU(B.o,B.V,B.color,D,P);B.extend(P);W.j6.z5(e.Hm,P,B);B.Sn();B.Ug=!0;if(V)V.ly(z)}e.Hm=D;if(V)V.Kv()}z.$k=!0};
W.Jz.MM=function(z){var q=0;for(var n=0;n<z.length;n++)q+=z[n].Hm.length;return q};W.Jz.aOS=function(z,q){var e=W.Jz.aKo(z),V=~e;
if(e==16777215)return;var P=z.A.Ox;for(var n=0;n<q.length;n++){var D=q[n],B=z.Z[D.H],A=D.TP;if(D.Tn!=0)continue;
B.extend(A);var s=A.x-B.V.x,a=A.y-B.V.y,M=B.V.s;if(z.depth==8){var $=new Uint32Array(D.Hm.buffer),U=new Uint32Array(B.buffer.buffer);
for(var o=0;o<A.T;o++)for(var t=0;t<A.s;t++){var c=o*A.s+t,H=(o+a)*M+(t+s);U[H]=U[H]&e|$[c]&V}}else{for(var o=0;
o<A.T;o++)for(var t=0;t<A.s;t++){var c=o*A.s+t,H=(o+a)*M+(t+s);if(P[0]==0)B.buffer[H*4]=D.Hm[c*4];if(P[1]==0)B.buffer[H*4+1]=D.Hm[c*4+1];
if(P[2]==0)B.buffer[H*4+2]=D.Hm[c*4+2]}}B.Sn();B.Kv()}z.Kv()};W.Jz.aKo=function(z){var q=z.A.Ox;return q[2]*16711680|q[1]*65280|q[0]*255};
W.Jz.prototype.I7=function(z,q){var e=q.Z[z.H];if(z.Zz!=null)e.add[aM.get(e.add)]=z.Zz;else W.Jz.lr(q,z);
q.Kv()};W.Jz.prototype.Yi=function(z,q){var e=q.Z[z.H];if(z.Zz!=null)e.add[aM.get(e.add)]=z.oo;else W.Jz.lr(q,z);
q.Kv()};W.Jz.prototype.MM=function(z){return z.Zz==null?W.Jz.MM(z):0};W.et=function(){W.__.call(this,"Filter Edit",W.pa);
this.LK=null;this.gg=null;this.p=null;this.Mj=null;this.s5=null};W.et.prototype=new W.__;W.et.prototype.If=function(z,q,e,V,P){if(z.p=="start"){if(e.j.length==0)return;
var D=e.Z[e.j[0]];if(D.add.SoLd&&D.oT<=0&&e.C2.length==0){}else if(!e.YM(q,null,!0))return;var B=z.gT;
if((e1[B]||ak.jc[B])&&z.YY==null){if(e.j.length!=1)alert("Will be applied to "+e.j.length+" layers.");
var A=new dW(_.E.b,!0);A.data=W.et.rH(B,this.qy(e,B),z.aPh);q.K(A)}else{var s={p:"edit",gT:B,YY:z.YY,D4:this.qy(e)};
this.If(s,q,e,V,P);s.p="confirm";delete s.YY;this.If(s,q,e,V,P)}}if(z.p=="edit"||z.p=="cancel"||z.p=="confirm"){if(z.p=="edit"){this.Mj=[z.gT,z.YY];
if(aM.names[z.gT]==null)this.s5=this.Mj}if(z.D4)this.azH(z,q,e,P);else this.ajr(z,q,e,P)}if(z.p=="applylast"&&this.s5!=null){var B=this.s5[0],a=this.s5[1];
if(V.t(cz.mh)&&(e1[B]||ak.jc[B])){var A=new dW(_.E.b,!0);A.data=W.et.rH(B,this.qy(e,B),null,a);q.K(A)}else{var s={p:"edit",gT:B,YY:a,D4:this.qy(e)};
this.If(s,q,e,V,P);s.p="confirm";delete s.YY;this.If(s,q,e,V,P)}}};W.et.rH=function(z,q,e,V){var P=ak.jc[z];
if(P)return{p:_.m.uB,U:P,ee:{D4:q,aPh:e}};else return{p:_.m.wa,rF:"afw_"+z,D4:q,Sh:V}};W.et.prototype.qy=function(z,q){var e=z.Z[z.j[0]],V;
if(e.add.SoLd&&e.oT<=0&&z.C2.length==0){V={H:z.j[0],index:0};if(e.add.SoLd.filterFX!=null){var P=e.add.SoLd.filterFX.v.filterFXList.v;
V.index=P.length;for(var n=0;n<P.length;n++)if(ak.s4(P[n].v)=="rigidTransform")V.index=n}}return V};
W.et.prototype.azH=function(z,q,e,V){var P=e.Z[z.D4.H],D=z.gT;if(z.p=="edit"){if(this.p==null){var B=ak.names[D];
if(B==null)B=aM.names[D];if(D=="blendOptions")B=[14,10];this.p=new ji(B,this);this.p.data={D4:z.D4,ae$:T.G(P.add.SoLd)}}if(!P.LL()){P.add.SoLd.filterFX=ak.Ea();
var A=this.p.data.PD=hq.aEK(P.add.SoLd.placed.v,e.depth);e.Zl(A);if(e.h){A.Eo.o=e.h.o.slice(0);A.Eo.V=e.h.V.Y();
A.Eo.color=0;this.p.data._Q=e.h;e.h=null}P.N7(e)}var s=P.add.SoLd.filterFX.v.filterFXList.v;if(s[z.D4.index]==null){s.push(ak.Zq(D,V))}if(z.YY){s[z.D4.index].v.enab.v=z.mv!=!0;
if(D=="blendOptions")s[z.D4.index].v.blendOptions.v=z.YY;else s[z.D4.index].v.Fltr.v=z.YY}this.p.data.a81=T.G(P.add.SoLd);
this.Yi(this.p.data,e)}if(z.p=="cancel"){if(this.p)this.I7(this.p.data,e);this.p=null}if(z.p=="confirm"){if(this.p)e.Q6(this.p);
if(this.Mj)W.Jz.lz(q,this.Mj);this.p=null}};W.et.prototype.ajr=function(z,q,e,V){if(this.LK==null){var P=ak.KZ(z.gT,z.YY);
this.LK=W.Jz.getData(e,P.x!=0||P.y!=0,z.gT=="VaPo"?[{TP:z.Nm[1]}]:null)}if(z.p=="edit"){var D=JSON.stringify(z.YY);
if((z.YY==null||D!=this.gg)&&z.mv!=!0)for(var n=0;n<this.LK.length;n++){var B=this.LK[n],A={V:B.TP,buffer:B.Hm},s={V:B.TP,buffer:B.vw};
if(z.gT=="Avrg"&&B.BD){A.buffer=B.Hm.slice(0);T.Zb(B.BD,A.buffer)}ak.vl(z.gT,A,z.YY,T.H_(V.pQ),T.H_(V.Cp),s,[e.add.lnk2?e.add.lnk2:[],e.Z[e.j[0]].OX(),e.kv,e.Kn()]);
if(z.gT=="VaPo"){T.aF(z.Nm[0],z.Nm[1],s.buffer,s.V)}if(z.gT=="Avrg"&&B.BD){var a=B.Hm.length;for(var n=0;
n<a;n+=4)B.vw[n+3]=B.Hm[n+3]}this.gg=D}W.Jz.uT(e,this.LK,z.mv)}if(z.p=="cancel"){W.Jz.an3(e,this.LK);
this.LK=null;this.gg=null}if(z.p=="confirm"){if(z.gT=="VaPo"){this.LK.adf=JSON.stringify(e.pT);this.LK.a3h=JSON.stringify(z.u);
e.pT=z.u}W.Jz.ue(e,this.LK,ak.names[z.gT],this);this.LK=null;this.gg=null;W.Jz.lz(q,this.Mj)}e.Kv();
e.$k=!0};W.et.prototype.I7=function(z,q){if(z.a3h)q.pT=JSON.parse(z.adf);if(z.D4){var e=q.Z[z.D4.H];
if(z.PD)q.yl(z.PD);if(z._Q)q.h=z._Q;e.add.SoLd=T.G(z.ae$);if(e.LL())e.AE(q);else{e.N7(q);e.oT=0}}else W.Jz.lr(q,z);
q.Kv();q.$k=!0};W.et.prototype.Yi=function(z,q){if(z.a3h)q.pT=JSON.parse(z.a3h);if(z.D4){var e=q.Z[z.D4.H];
if(z.PD)q.Zl(z.PD);if(z._Q)q.h=null;e.add.SoLd=T.G(z.a81);if(e.LL())e.AE(q);else e.N7(q);if(!e.yh())e.b9+=32}else W.Jz.lr(q,z);
q.Kv();q.$k=!0};W.et.prototype.MM=function(z){return z.D4==null?W.Jz.MM(z):0};var gs={};gs.UG=function(z){var q=[[0,300,12,z.m.HL]];
for(var n=0;n<z.Z.length;n++)if(z.Z[n].m.Aa==501)q=q.concat(z.Z[n].m.list);gs.KH(q);return q};gs.lb=function(z){var q=[[0,300,12,z.m.Ul]];
for(var n=0;n<z.Z.length;n++){var e=z.Z[n];if(e.m&&e.m.Aa==500)q=q.concat(e.m.list)}gs.KH(q);return q};
gs.KH=function(z){z.sort(function(q,e){return q[0]-e[0]});for(var n=1;n<z.length;n++)if(z[n-1][0]==z[n][0]){z.splice(n-1,1);
n--}};gs.E3=function(z){var q=0;for(var n=0;n<z.Z.length;n++){var e=z.Z[n].m.list;if(e.length==0)continue;
var V=e[e.length-1];q=Math.max(q,V[0]+V[1])}return q};gs.vc=function(z,q){var e=gs.lb(q),V=q.m.Ul,P=0,D=0;
for(var n=0;n<e.length;n++){var B=e[n],A=(B[0]-P)/(V/60*q.m.rU);if(A<z-D){P=B[0];D+=A;V=B[3]}else break}P+=(z-D)*(V/60)*q.m.rU;
return P};gs.TR=function(z,q){var e=gs.lb(q),V=q.m.Ul,P=0,D=0;for(var n=0;n<e.length;n++){var B=e[n],A=(B[0]-P)/(V/60*q.m.rU);
if(B[0]<z){P=B[0];D+=A;V=B[3]}else break}D+=(z-P)/(V/60*q.m.rU);return D};gs.Bl=function(z){return z[0]*4/z[1]};
gs.a1Q=function(z){var q=new Uint32Array(128);for(var n=0;n<z.length;n++)q[z[n][2]]+=1;return q};gs.afr=function(z){var q="C,C#,D,D#,E,F,F#,G,G#,A,A#,B".split(","),e=[],B=0,A=0;
for(var n=0;n<12;n++)e.push([n,q[n],0]);var V=-1,P=[1,V,1,V,1,1,V,1,V,1,V,1];for(var D=0;D<12;D++){for(var hE=0;
hE<128;hE++)e[D][2]+=z[hE]*P[(hE+12-D)%12]}e.sort(function(s,a){return a[2]-s[2]});for(var n=0;n<z.length;
n++){B+=n*z[n];A+=z[n]}return{key:e,GW:B/A}};gs.afi=function(z){var q=[],e={};for(var n=0;n<z.length;
n++){var V=z[n],P=V[0],hE=V[2],D=e[P];if(D==null){D=e[P]=q.length;q.push([])}var B=q[D];B.push(V);B.sort(function(A,s){return A[2]-s[2]})}return q};
(function(){var z=6*12,q=[7,2,9,4,11,6,1],e=[z+5,z,z+7,z+2,z-3,z+4,z-1],V=[5,10,3,8,1,6,11],P=[z-1,z+4,z-3,z+2,z-5,z,z-7],D=[[]],B=[],A=[];
for(var n=0;n<6;n++){A=D[V[n]]=A.slice(0);A.push([P[n],-1]);B=D[q[n]]=B.slice(0);B.push([e[n],1])}var s=[];
for(var M=0;M<12;M++){var $=[[0,0],[0,1],[1,0],[1,1],[2,0],[3,0],[3,1],[4,0],[4,1],[5,0],[5,1],[6,0]];
s.push($);var U=D[M];if(U==null)continue;if(M!=0&&U[0][1]==-1)for(var n=0;n<12;n++)if($[n][1]==1){$[n][0]++;
$[n][1]=-1}}gs.Cc=D;gs.akU=s;gs.axU="C C# D D# E F F# G G# A A# B".split(" ")}());gs.Yq={};gs.Yq.ajg=function(z,q,e,V,P,D){if(V==null)V=!0;
if(P==null)P=!0;if(D==null)D=!0;var z=JSON.parse(JSON.stringify(z)),B=q>>>3;for(var n=0;n<z.length;n++){var A=z[n],s=A[0],a=A[0]+A[1];
if(V)s=B*Math.round(s/B);A[0]=s;if(P){var M=0,$=1e9;for(var U=0;U<5;U++){var o=q>>>U,t=o*Math.round(a/o);
if(Math.abs(t-a)/(a-s)<.35){a=t;break}}A[1]=a-s}}if(D){var c=gs.afi(z);for(var n=0;n<c.length;n++){var H=c[n],s=H[0][0],F=e*q*Math.ceil((s+1)/(e*q)),i=0;
for(var U=0;U<H.length;U++)i=Math.max(i,H[U][1]);var X=n==c.length-1?F:c[n+1][0][0],K=Math.min(F,X)-s;
for(var U=0;U<H.length;U++)H[U][1]=K}}return z};gs.ann=function(){function z(V){var P=V.m.rU,D=gs.UG(V),B=gs.lb(V),A=[],s=[],a=[],M=0,$=new Uint32Array(128),L=0,G=0;
for(var n=0;n<V.Z.length;n++){var U=V.Z[n];if(!U.Sw())continue;if(U.m.Aa==300){var o=[],t={};for(var c=0;
c<U.m.list.length;c++){var H=U.m.list[c][3];if(H.startsWith("@")){var F=H[1];if(t[F]==null)t[F]=[];t[F].push(H.slice(2))}else{var i=H.split("::");
if(i.length!=2)continue;o.push({L$:i[0],BY:i[1].split(";;").join("\n")})}}for(var F in t){var X=t[F];
if(F=="T"){o.push({L$:"title",BY:X[0]});if(X[1])o.push({L$:"subtitle",BY:X[1]})}if(F=="I")o.push({L$:"lyricist",BY:X.join("\n")})}if(o.length!=0)a.push({L:"VBox",xX:o})}if(201<=U.m.Aa)continue;
var K=U.m.list[U.m.list.length-1],f=K?K[0]+K[1]:0;M=Math.max(M,Math.ceil(f/P));for(var c=0;c<U.m.list.length;
c++)$[U.m.list[c][2]]++}var d=gs.afr($);while(d.key[L][0]!=0)L++;if(d.key[L][2]==d.key[G][2])G=L;var x=d.key[G][0];
for(var O=0;O<V.Z.length;O++){var U=V.Z[O];if(!U.Sw()||201<=U.m.Aa)continue;var v=id.a91.aku(U.m.list,U.m.Aa,P,gs.Bl(D[0][3])),C={Aa:U.m.Aa,ub:0,fQ:[],Q7:U.getName()};
s.push(C);for(var S=0;S<v.length;S++){C.fQ.push({Xt:U.m.Aa==200?-17:v[S][1],a3H:!0});var j=0,w=0,u=0,l=0,I=[];
A.push(I);for(var Q=0;Q<M;){var b=Q*P;while(l+1!=D.length&&b>=D[l+1][0]){l++}var p=D[l][3],k=gs.Bl(p);
while(u+1!=B.length&&b>=B[u+1][0]){u++}var g=B[u][3],Y=e(v[S][0],b,b+k*P,k,P);if(w!=g&&A.length==1&&!(g==120&&Q==0))Y.unshift({L:"Tempo",u:g});
if(j!=k)Y.unshift({L:"TimeSig",u:p});if(0!=x)Y.unshift({L:"KeySig",u:gs.Cc[x][0][1]*gs.Cc[x].length});
Q+=k;I.push({L:"Measure",mk:[Y]});j=k;w=g}}}var R={g2:s,fQ:A,Pr:a};return R}function q(V,P){return P*Math.round(V/P)}function e(V,P,D,B,A){var s=A>>>2,a=Math.round((D-P)/s),M=[],F=0;
for(var n=0;n<a;n++){var $={OB:2,list:[],apl:(n&3)==0};M.push($)}for(var n=0;n<V.length;n++){var U=V[n],o=q(U[0],s),t=q(U[0]+U[1],s)-o;
if(o+t<P||D<o)continue;o-=P;for(var c=0;c<a;c++){var H=c*s;if(o<=H&&H+s<=o+t)M[c].list.push({Wo:U[2],PK:U[3],i9:o<H})}}while(F<2){var i=!1;
for(var c=0;c<M.length-1;c++){var X=M[c],K=M[c+1],f=X.list,d=K.list,L=X.OB/K.OB;if(L<1)L=1/L;if(F==0&&L!=1)continue;
if(F==1&&L>2)continue;if(f.length==d.length&&!(B==3&&f.length==0&&X.OB==8)&&!(B==3&&f.length==0&&K.apl)){var hE=0;
for(var G=0;G<f.length;G++)if(f[G].Wo==d[G].Wo&&d[G].i9)hE++;if(hE==f.length){X.OB+=K.OB;M.splice(c+1,1);
c--;i=!0}}}if(!i)F++}if(B==3&&M.length==3&&M[0].list.length==0&&M[1].list.length==0&&M[2].list.length==0){M.pop();
M.pop();M[0].OB=32}var x=[];for(var n=0;n<M.length;n++){var O=M[n],v=O.OB,C=0;if([16+8,8+4,4+2,2+1].indexOf(v)!=-1){v=Math.round(2*v/3);
C++}if(v>32)v=32;var L={32:0,16:1,8:2,4:3,2:4}[v];if(L==null)throw O;var S={L:"Chord",OB:L,Gp:C,u:O.list};
x.push(S);if(O.list.length==0){S.L="Rest";delete S.u}}return x}return z}();gs.$X=function(){function z(P,D){var B=D.OJ(),t=0;
B.m={Aa:500,list:[],j:[]};D.Z.push(B);var A=D.OJ();A.m={Aa:501,list:[],j:[]};D.Z.push(A);for(var s=0;
s<P.Pr.length;s++){var a=D.OJ();a.m={Aa:300,list:[],j:[]};D.Z.push(a);a.up("Text");var M=P.Pr[s];for(var $=0;
$<M.xX.length;$++){var U=M.xX[$],o=U.BY.split("\n").join(";;");a.m.list.push([0,100,8,U.L$+"::"+o])}}var c=q(P);
for(var H=0;H<P.g2.length;H++){var F=P.g2[H],i={};for(var X=0;X<F.fQ.length;X++,t++){var K=D.OJ(),d=0;
K.m.Aa=F.Aa;K.up(MIDDB.list[F.Aa]);if(F.Q7!=null&&F.Q7!="")K.up(F.Q7);if(F.fQ[X].Xt==-17)K.m.Aa=200;
var f=P.fQ[t];for(var L=0;L<f.length;L++){var G=f[L];if(G.L!="Measure")throw"e";if(L==0||c[L].join(",")!=c[L-1].join(","))A.m.list.push([d,100,50,c[L]]);
for(var x=0;x<G.mk.length;x++){var O=1,v=G.mk[x],$=d,C=0;for(var S=0;S<v.length;S++){var j=v[S];if(j.L=="TimeSig"){}else if(j.L=="Tempo"){B.m.list.push([$,100,50,j.u]);
D.m.Ul=j.u}else if(j.L=="Chord"){var w=e(j,D,O);if(j.eP||j.aw){w=w>>>1;C+=w}else{w-=C;C=0}for(var n=0;
n<j.u.length;n++){var u=j.u[n],l=[$,w,u.Wo,u.PK];if(u.i9)i[u.Wo][1]+=w;else K.m.list.push(l);i[u.Wo]=l}$+=w}else if(j.L=="Harmony"&&K.m.Aa!=200){var u=(60+(j.gV-14)*7)%12;
K.m.list.push([$,D.m.rU,48+u,127]);K.m.list.push([$,D.m.rU,(j.Q7=="m"?51:52)+u,127]);K.m.list.push([$,D.m.rU,55+u,127]);
K.m.list.push([$,D.m.rU,60+u,127])}else if(j.L=="Rest")$+=e(j,D,O);else if(j.L=="location")$+=Math.round(j.u*D.m.rU*gs.Bl(D.m.HL));
else if(j.L=="Tuplet")O=j.u[0]/j.u[1];else if(j.L=="endTuplet")O=1}}d+=gs.Bl(c[L])*D.m.rU}if(K.m.list.length!=0)D.Z.push(K)}}D.Uk();
D.xf(P)}function q(P){var D=P.fQ[0],B=[],A=[4,4];if(D==null)return[];for(var s=0;s<D.length;s++){var a=D[s],M=a.mk[0];
for(var $=0;$<M.length;$++){var U=M[$];if(U.L=="TimeSig")A=U.u}B.push(a.Z7?a.Z7:A)}return B}function e(P,D,B){return Math.round(B*D.m.rU*V(P)[0])}function V(P){if(P.L=="location")return[P.u*4,P.u*4];
if(P.L=="TimeSig")return[0,0];if(P.L=="Tempo")return[0,0];if(P.L=="Clef")return[0,0];if(P.L=="LayoutBreak")return[0,0];
if(P.L=="Text")return[0,0];if(P.OB==null)return[0,0];var D=4/Math.pow(2,P.OB);if(P.Gp==0){}else if(P.Gp==1)D+=D*.5;
else if(P.Gp==2)D+=D*.75;else if(P.Gp==3)D+=D*1.875;else if(P.Gp==4)D+=D*(1.875+.5*.125);else throw P.Gp;
return[D,D]}z.a3R=V;z.alb=q;return z}();var id=function(){var z=9.5;function q(H,F){var i={Pr:H.Pr,g2:JSON.parse(JSON.stringify(H.g2)),fQ:H.fQ.slice(0)},X=0;
for(var K=0;K<i.g2.length;K++){var f=i.g2[K];for(var d=0;d<f.fQ.length;d++){var L=i.fQ[X+d],G=!0;for(var x=0;
x<L.length;x++){var O=L[x].mk[0];for(var n=0;n<O.length;n++){if(O[n].L=="Chord")G=!1}}if(F&&!f.fQ[d].a3H)G=!0;
if(G){f.fQ.splice(d,1);i.fQ.splice(X+d,1);d--}}if(f.fQ.length==0){i.g2.splice(K,1);K--}X+=f.fQ.length}return i}function e(H,F,i){var X=id.sb(F),K=X.BH,f=X.ahL,d=X.aJh,L=X.aPE,G=d*(5+z*H.fQ.length+(i?z:0)),x=U(H,F-K*2,f);
return x.length*G+H.Pr.length*17*d}function V(H){var F=0;for(var n=0;n<H.length;n++){var i=H[n],X=1;
if(!1){}else if(".,'".indexOf(i)!=-1)X=.5;else if("ilt()\"! ".indexOf(i)!=-1)X=.6;else if("IJ".indexOf(i)!=-1)X=1;
else if("0123456789-".indexOf(i)!=-1)X=1.15;else if("wm".indexOf(i)!=-1)X=1.4;else if("WM".indexOf(i)!=-1)X=1.6;
else if(i.toLowerCase()!=i)X=1.4;else X=1;F+=X}return F*.46}function P(H,F,i,X,K){H=q(H,!1);K=!1;var f=id.sb(i),d=f.BH,L=f.ahL,G=f.aJh,x=f.aPE,O=G*(5+z*H.fQ.length+(K?z:0)),v=H.fQ,C=U(H,i-d*2,L),S=C.length*O+H.Pr.length*17*G,j=new e5(1,0,0,-1,0,S),w=UDOC.getState(),u=0,eo=0;
F.StartPage(0,0,i,S);if(H.fQ.length!=0){var l=H.fQ[0][0].mk[0][0];if(l.L=="KeySig")for(var n=1;n<12;
n++)if(gs.Cc[n].length==Math.abs(l.u)&&gs.Cc[n][0][1]==Math.sign(l.u))u=n}var I={_:[],J:[]},Q={_:[],J:[]},b={_:[],J:[]},p={_:[],J:[]},k={_:[],J:[]},g={_:[],J:[]},Y={_:[],J:[]},R={_:[],J:[]},m=[],Z={};
w.font.Tf="Times-Roman";w.font.Tfs=G;var E=[],N=[],h=[];for(var j5=0;j5<H.g2.length;j5++){var r=H.g2[j5];
for(var l8=0;l8<r.fQ.length;l8++){E.push(r.fQ[l8].Xt);N.push(r.Q7);h.push(r.ub)}}if(!$(H))N=null;var aP=[];
for(var l8=0;l8<H.fQ.length;l8++){aP.push({})}var bS=gs.$X.alb(H);for(var kR=0;kR<H.Pr.length;kR++){var j1=H.Pr[kR],f6=new e5;
f6.translate(d,d+kR*15*G);f6.concat(j);T.R.concat(I,{_:["M","L","L","L","Z"],J:[0,0,i-d-d,0,i-d-d,12*G,0,12*G]},f6);
for(var n=0;n<j1.xX.length;n++){var gx=j1.xX[n];if(gx.L$=="title"){D(F,w,f6,gx.BY,G*5,(i-d-d-V(gx.BY)*G*5)/2,G*3.5)}if(gx.L$=="instrument name (part)"){D(F,w,f6,gx.BY,G*2,0,G*1.5)}if(gx.L$=="composer"||gx.L$=="subtitle"||gx.L$=="lyricist"){var lC=gx.BY.trim().split("\n");
for(var g2=0;g2<lC.length;g2++){var dv=i-d-d-V(lC[g2])*G*2.6,bv=G*12-(lC.length-1-g2)*G*3;if(gx.L$=="subtitle"){dv/=2;
bv=G*7.5+g2*3*G}if(gx.L$=="lyricist")dv=0;D(F,w,f6,lC[g2],G*2.6,dv,bv)}}}}var aL={_:["M","L"],J:[0,0,0,O-G*(z+1)]},dh=N!=null?2*L:0;
for(var eM=0;eM<C.length;eM++){var kg=eM==0?2*dh:dh,f6=new e5;f6.translate(d+kg,H.Pr.length*17*G+d+eM*O);
f6.concat(j);var jJ=[];for(var iL=0;iL<v.length;iL++){var bz=new e5;bz.translate(0,iL*G*z);bz.concat(f6);
jJ.push(bz)}var ks={J:[],_:[]};for(var n=0;n<5;n++){ks._.push("M","L");ks.J.push(0,n*G,i-d*2-kg,n*G)}for(var iL=0;
iL<v.length;iL++)T.R.concat(I,ks,jJ[iL]);T.R.concat(Q,aL,f6);var gr=L+2*L;for(var hg=0;hg<C[eM].length;
hg++){var ci=C[eM][hg];if(hg==0)D(F,w,f6,ci+1+"",G*1.4,gr-L,-G);var fK=gr,jN=s(v,ci,E);for(var l8=0;
l8<v.length;l8++){var dD=jJ[l8];if(hg==0){var eF=new e5;eF.translate(L*.25,0);eF.concat(dD);T.R.concat(k,f.aDb[E[l8]],eF);
if(kg!=0){var io=N[l8];if(eM!=0&&io.length>5)io=io.slice(0,4)+".";eF=new e5;eF.translate(-G-V(io)*G*1.75,G*2.6);
eF.concat(dD);D(F,w,eF,io,G*1.75,0,0)}var la=gs.Cc[u];for(var n=0;n<la.length;n++){var eF=new e5,e9=la[n],gM=e9[0],j7=t(gM,0,E[l8]<=-12?2:0),cI=o(j7)*G;
eF.translate(gr-L+G*n*.4,cI);eF.concat(dD);T.R.concat(Q,e9[1]==1?f.aeG:f.aJP,eF)}}var dL=v[l8][ci].mk;
for(var jA=0;jA<dL.length;jA++){var gI=jA==0?k:jA==1?g:Y,fM=jA==0?Q:jA==1?b:p,a7=dL[jA],dv=gr,k6={},la=gs.Cc[u],ac=0,hN=0,cQ=0,d_=1,cK=null;
for(var n=0;n<la.length;n++){var fv=la[n];for(var g2=0;g2<10;g2++){var fq=g2*12+fv[0]%12,cu=t(fq,0,jN[l8][0][0][1])[0];
k6[cu]=fv[1]}}for(var cc=0;cc<a7.length;cc++){var aH=jN[l8][jA][cc],jj=a7[cc];dv=gr+aH[0]*L;if(jj.L=="Chord"){var iG=eo+cQ,hc=1e9,l2,fZ=!1;
if(Z[iG]==null&&!jj.eP&&!jj.aw){m.push([iG,jJ[0].a0(new f5(dv,0))]);Z[iG]=!0}var kD=-1e9;for(var g5=0;
g5<jj.u.length;g5++){var gM=jj.u[g5],d4;if(gM.auB=="slash")fZ=!0;var eF=new e5,j7=t(gM.Wo-h[l8],u,aH[1]),cu=j7[0],cI=fZ?2:o(j7);
eF.translate(dv,cI*G);eF.concat(dD);if(cI<hc)hc=cI;if(cI>kD)kD=cI;if(jj.OB<=1)T.R.concat(fM,fZ?{_:["M","L","L","L"],J:[-x*2.5,G,0,-G,x*2.5,-G,0,G]}:f.apF,eF);
else T.R.concat(fZ?fM:gI,fZ?{_:["M","L"],J:[-x*1.5,G,x*1.5,-G]}:f.a6R,eF);A(jj,gI,f,eF,G);if(k6[cu]==null)k6[cu]=0;
if(k6[cu]<j7[1]){k6[cu]++;T.R.concat(fM,k6[cu]==0?f.as2:f.aeG,eF)}else if(k6[cu]>j7[1]){k6[cu]--;T.R.concat(fM,k6[cu]==0?f.as2:f.aJP,eF)}var hx=aP[l8][gM.Wo];
if(gM.i9&&hx){var hJ=fZ?1:M(cI,cI),gU=hJ==1?-1:1,lg=dv-(hx[1]==eM?hx[0]:dv-L),gW=gU*G/2,iF=gU*(G/2+G),aO=iF*.85,kX=lg*.2,e3=lg*.3;
if(fZ)eF.translate(0,.4*G);T.R.concat(gI,{_:["M","C","C"],J:[0,gW,-kX,iF,-lg+kX,iF,-lg,gW,-lg+e3,aO,-e3,aO,0,gW]},eF)}aP[l8][gM.Wo]=[dv,eM]}for(var bv=-1;
bv>=hc;bv--)T.R.concat(I,{_:["M","L"],J:[dv-G,bv*G,dv+G,bv*G]},dD);for(var bv=5;bv<=kD;bv++)T.R.concat(I,{_:["M","L"],J:[dv-G,bv*G,dv+G,bv*G]},dD);
if(hN==0&&3<=jj.OB){var k5=cc+1,h0=gs.Bl(bS[ci]);while(k5<a7.length){var aS=a7[k5],jM=jN[l8][jA][k5][2];
if(aS.L=="Rest"||aS.L=="Tuplet"||aS.L=="endTuplet"||aS.OB<3||h0==3&&jM==1.5||h0==4&&jM==2||(h0&1)==0&&jM>0&&jM==Math.round(jM)&&a7[k5-1].OB>3||(jj.eP!=aS.eP||jj.aw!=aS.aw))break;
k5++}while(a7[k5-1].L!="Chord")k5--;if(k5>cc+1){ac=cc;hN=k5-cc;l2=[]}else{hN=0}}if(hN!=0){if(cc<ac+hN)l2.push(hc*G,kD*G,jj.OB,aH[0]);
if(cc==ac+hN-1){var gW=1e9,iF=-gW,bW=l2.length>>>2;for(var n=0;n<bW;n++){gW=Math.min(gW,l2[n*4+0]);iF=Math.max(iF,l2[n*4+1])}var hS=M(gW/G,iF/G);
if(jj.eP||jj.aw)hS=0;var gU=hS==1?1:-1,ap=l2[3],dB=l2[bW*4-4+3],f8=l2[hS],fO=l2[bW*4-4+hS],iQ=(fO-f8)/(dB-ap);
iQ=Math.max(-G*.25,Math.min(G*.4,iQ));if((iF-gW)/G>3)iQ*=.25;for(var n=0;n<bW;n++){if(hS==1)f8=Math.max(f8,l2[n*4+hS]-(l2[n*4+3]-l2[3])*iQ);
if(hS==0)f8=Math.min(f8,l2[n*4+hS]-(l2[n*4+3]-l2[3])*iQ)}var gb=[],k9=[],e2=[],cB=[],iY=ap-dB;for(var n=0;
n<bW;n++){var e_=l2[n*4+3]-ap,fL=(iY+e_)*L-gU*x,jI=f8+gU*2.7*G+e_*iQ,gi=-gU*G;k9.push("M","L");gb.push(fL,l2[n*4+(1-hS)],fL,jI);
var lg=n==bW-1?1:l2[n*4+4+3]-l2[n*4+3];if(n<bW-1){a(fL,jI+gi*.2,lg*L,lg*iQ,G*.4,cB,e2)}if(l2[n*4+2]>=4){var hu=0;
if(n<bW-1)hu=l2[(n+1)*4+2]>=4?1:.3;else if(l2[(n-1)*4+2]<4)hu=-.3;if(hu!=0)a(fL,jI+gi*.8,lg*L*hu,lg*iQ*hu,G*.4,cB,e2);
if(l2[n*4+2]>=5){hu=0;if(n<bW-1)hu=l2[(n+1)*4+2]>=5?1:.3;else if(l2[(n-1)*4+2]<5)hu=-.3;if(hu!=0)a(fL,jI+gi*1.4,lg*L*hu,lg*iQ*hu,G*.4,cB,e2)}}}var eF=new e5;
eF.translate(dv,0);eF.concat(dD);T.R.concat(fM,{_:k9,J:gb},eF);T.R.concat(gI,{_:cB,J:e2},eF);if(d_!=1)D(F,w,eF,cK[1]+"",G*1.1,iY/2*L-L*.1-gU*x,f8-iQ*(iY/2)+gU*3.5*G+G*.4);
hN=0}}else{var hJ=fZ?1:M(hc,kD),gU=hJ==1?1:-1,bk=f.a1p[hJ],eF=new e5;eF.translate(dv-(fZ?x/2:0),(hJ?kD:hc)*G+(fZ?G:0));
eF.concat(dD);if(jj.OB!=0)T.R.concat(fM,{_:["M","L"],J:[-gU*x,-gU*(kD-hc)*G,-gU*x,gU*3*G]},eF);if(jj.OB>=3){T.R.concat(gI,bk[1],eF);
if(jj.OB>=4){T.R.concat(gI,bk[2],eF)}if(jj.OB>=5){T.R.concat(gI,bk[3],eF)}}}}else if(jj.L=="Rest"){var eF=new e5;
eF.translate(dv,0);eF.concat(dD);T.R.concat(gI,f.ank[jj.OB],eF);var eF=new e5;eF.translate(dv,2*G);eF.concat(dD);
A(jj,gI,f,eF,G)}else if(jj.L=="TimeSig"){D(F,w,dD,jj.u[0]+"",G*2.7,dv-L/2,1.9*G,!0);D(F,w,dD,jj.u[1]+"",G*2.7,dv-L/2,4*G,!0)}else if(jj.L=="Tempo"){D(F,w,dD,"= "+Math.round(jj.u),G*1.8,dv-L/2,-2*G,!0);
var eF=new e5;eF.scale(.7,.7);eF.translate(dv-L*.8,-2.2*G);eF.concat(dD);T.R.concat(gI,f.apF,eF);T.R.concat(fM,{_:["M","L"],J:[G*.5,0,G*.5,-1.8*G]},eF)}else if(jj.L=="Harmony"){var lG=(60+(jj.gV-14)*7)%12,h8=gs.axU[lG]+(jj.Q7?jj.Q7:"");
if(jj.awB!=null){lG=(60+(jj.awB-14)*7)%12;h8+="/"+gs.axU[lG]}D(F,w,dD,h8,G*1.6,dv-x,-2*G)}else if(jj.L=="StaffText"){D(F,w,dD,jj.u,G*1.4,dv-x,-3.4*G)}else if(jj.L=="RehearsalMark"){var eF=new e5;
eF.translate(dv,-3*G);eF.concat(dD);B(fM,eF,-G*.4,0,V(jj.u)*G*2+G,-2.2*G);D(F,w,dD,jj.u,G*2,dv,-3.4*G,!0)}else if(jj.L=="Clef"){var eF=new e5;
eF.translate(dv-L/2,0);eF.concat(dD);T.R.concat(gI,jj.u==-12?f.aCG:f.aox,eF);E[l8]=jj.u}else if(jj.L=="Tuplet"){d_=jj.u[0]/jj.u[1];
cK=jj.u}else if(jj.L=="endTuplet"){d_=1;cK=null}if(!jj.eP&&!jj.aw)cQ+=gs.$X.a3R(jj)[0]*d_}dv+=L;if(dv>fK)fK=dv}}gr=fK;
for(var l8=0;l8<H.fQ.length;l8++)T.R.concat(Q,{_:["M","L"],J:[gr,0,gr,4*G]},jJ[l8]);gr+=L;eo+=gs.Bl(bS[ci])}}m.sort(function(bm,bL){return bm[0]-bL[0]});
if(X!=-1&&m.length!=0){var iR=0;while(m[iR+1]&&m[iR+1][0]<X)iR++;var bm=m[iR],bL=m[iR==m.length-1?iR:iR+1],ks=bm[1],je=bL[1],gI=bm[0]==bL[0]?0:(X-bm[0])/(bL[0]-bm[0]),dv=ks.x+(je.x-ks.x)*gI,bv=ks.y==je.y?ks.y+Math.sin(gI*Math.PI)*G:ks.y+(je.y-ks.y)*gI,fM=G/2;
T.R.concat(R,{_:["M","L","L","Z"],J:[dv-fM,bv+fM,dv,bv,dv+fM,bv+fM]})}var ea=[0,0,0],hU=[.5,0,0],fn=[0,.5,0];
w.lwidth=G*.06;c(w,I);w.COLR=ea;F.Stroke(w);w.lwidth=G*.1;c(w,Q);w.COLR=ea;F.Stroke(w);c(w,b);w.COLR=ea;
F.Stroke(w);c(w,b);w.COLR=hU;F.Stroke(w);c(w,p);w.COLR=fn;F.Stroke(w);c(w,k);w.colr=ea;F.Fill(w);c(w,g);
w.colr=hU;F.Fill(w);c(w,Y);w.colr=fn;F.Fill(w);c(w,R);w.colr=[1,0,0];F.Fill(w);F.ShowPage();F.Done();
return[i,S,m]}function D(H,F,i,X,K,f,d,L){var G=F.font.Tf,x=F.font.Tfs;if(L)F.font.Tf="Times-Bold";F.font.Tfs=K;
F.ctm=[i.x6,i.c,i.I$,-i.at,i.yK+f,i.ww-d];H.PutText(F,X);F.font.Tf=G;F.font.Tfs=x}function B(H,F,i,X,K,f){T.R.concat(H,{_:["M","L","L","L","Z"],J:[i,X,i+K,X,i+K,X+f,i,X+f]},F)}function A(H,F,i,X,K){for(var n=0;
n<H.Gp;n++){var f=new e5;f.translate(K*(.5*n),0);f.concat(X);T.R.concat(F,i.S6,f)}}function s(H,F,i,X){var K=[],f=[],p=0;
for(var d=0;d<H.length;d++){var L=H[d][F],G=[],x=!1;f.push(G);for(var O=0;O<L.mk.length;O++){var v=L.mk[O],C=[],S=0,j=0,w=1;
G.push(C);for(var u=0;u<v.length;u++){var l=v[u];if(l.L=="Tuplet")w=l.u[0]/l.u[1];if(l.L=="endTuplet")w=1;
var I=gs.$X.a3R(l)[0]*w,Q=l.eP||l.aw;if(Q){j+=I}else if(j!=0){S-=j;j=0}var b=[0,i[d],S,S+I];C.push(b);
K.push([S-(Q?10:0)+(x?1:0),0,b,l,d]);S+=I;if(l.L=="TimeSig")x=!0}}}K.sort(function(Y,R){return Y[0]-R[0]});
K[0][1].ac2=0;for(var n=1;n<K.length;n++){if(Math.abs(K[n][0]-K[n-1][0])>.001)p++;K[n][1]=p}if(X)return p+2;
i=i.slice(0);for(var n=0;n<K.length;n++){var k=K[n],g=k[2],l=k[3],d=k[4];if(l.L=="Clef")i[d]=l.u;g[0]=k[1];
g[1]=i[d]}return f}function a(H,F,i,X,K,f,d){var L=H+i,G=F+X,x=K/2;f.push("M","L","L","L");d.push(H,F-x,L,G-x,L,G+x,H,F+x)}function M(H,F){return(H+F)*.5<2.0001?1:0}function $(H){if(H.g2.length==0)return!1;
var F=H.g2[0].Q7,i=!0;for(var n=1;n<H.g2.length;n++)if(H.g2[n].Q7!=F)i=!1;return!i}function U(H,F,i){var X=$(H)?2*i:0,K=H.fQ,d=0;
if(K.length==0)return[];var f=[],L=2*i+X*2;for(var G=0;G<K[0].length;G++){var x=s(K,G,[],!0)*i;if(L+x>F&&n!=0){d++;
L=2*i+X}if(f[d]==null)f[d]=[];f[d].push(G);L+=x}return f}function o(H){return 5-H[0]*.5}function t(H,F,i){var X=Math.floor(H/12),K=gs.akU[F][H%12];
return[7*(X-5)-i+K[0],K[1]]}function c(H,F){H.pth={crds:F.J,cmds:F._}}return{lk:P,gX:e}}();id.sb=function(){function z(P,D){T.R.v(P.J,D,P.J)}var q=0,e=null;
function V(P){if(P==q)return e;q=P;var D=P,c=1.2,f=1.3;P=595.44;var B=P*.05,A=B*2,s=P*.008,a=s/2,M=s/4,$=2.8*s,U=s*.08,o={_:"M L M L M L M L M L".split(" "),J:[0,0,D-A,0,0,s,D-A,s,0,2*s,D-A,2*s,0,3*s,D-A,3*s,0,4*s,D-A,4*s]},t=T.G(o);
t._.push("M","L");t.J.push(0,5*s,D-A,5*s);var H={_:["M","C","C"],J:[-1,0,-1,-1,1,-1,1,0,1,1,-1,1,-1,0]},F=JSON.parse(JSON.stringify(H));
z(H,new e5(a*c,-.25*a*c,0,a*.9*c,0,0));z(F,new e5(2*U,0,0,2.7*U,s,0));var i=T.G(H);z(i,new e5(1.1,0,0,1.1,0,0));
var X={_:["M","C"],J:[-$*.3,M,-$*.4,a,-$*.6,a,-$*.7,M]},K={_:["M","C"],J:[-$*.3,-M,-$*.4,-a,-$*.6,-a,-$*.7,-M]},d={_:"M L M L M L M L".split(" "),J:[-3,-f,3,-f,-3,f,3,f,-f,-3,-f,3,f,-3,f,3]};
z(d,new e5(1.45*U,-.4*U,0,2.5*U,-s,0));var L={_:"M L L M L L".split(" "),J:[-1,-3,-1,1,1,1,1,3,1,-1,-1,-1]};
z(L,new e5(2*U,-.4*U,0,3.3*U,-s,0));var G={_:["M","L","C"],J:[-1,-4,-1,1,1,1,1,-2.5,-1,-.7]};z(G,new e5(4.2*U,0,0,4.2*U,-s*.9,0));
var x=Typr.U.SVGToPath("m5.1 8.2c0.1-3 3-7.9 4.8-8.4 1.3-0.3 3.1 7.1 3.1 10.1 0 3.7-2.3 6.7-4.7 9.5 0.5 1.8 1.5 5.4 1.5 5.4 4.1 0 7 3.3 7 6.8 0 2-0.9 5-4.7 6.4 0 0 0.1 3.8 0.1 4.3-0.2 3.1-2.4 5.9-5.5 5.9-2.8 0-5.1-2.3-5.1-5.1 0-1.6 1.4-2.7 3-2.7 1.4 0 2.4 1.2 2.4 2.7 0 1.3-1 2.7-3.2 2.3 0 0 1.7 1.7 3 1.7 2.5 0 4.1-2.4 4.3-5 0-0.5-0.2-3.9-0.2-3.9-7.9 0.8-10.9-4.2-10.9-9.5 0-4.6 3.4-8 6.5-11.5-0.5-1.6-1.4-4.6-1.4-9m6.9 28.7c1.7-0.6 2.9-2.4 2.9-4.2 0-2.4-1.7-4.7-4.5-5 0.6 3 1.2 6 1.6 9.2m-3.8-2.8c0.7 0.3 0.2 1.2-0.5 0.9-2.2-0.8-3.2-3.1-3.2-4.9 0-2.3 1.5-4.5 4.1-5.1q-0.5-2.3-1.2-4.6c-2.8 3.1-5.5 6.3-5.5 10.5 0 3.5 3.9 6.9 9 6.3-0.1-1.7-1.6-9.5-1.6-9.5-4.7 1.1-3.3 5.4-1.1 6.4m-0.9-17.9c2.2-2.7 4.4-6.2 3.3-11.8-3.5 2.3-4.1 9.1-3.3 11.8");
x={J:x.crds,_:x.cmds};z(x,new e5(s*.13,0,0,s*.13,0,-s));var O=Typr.U.SVGToPath("m3.9 6.3c-0.8-0.9 1.4-4.8 5.5-4.8 4.7 0 7 3.7 7 8.1-0.2 13.5-16.4 22.4-16.4 22.4l0.6 0.9c0 0 22.2-9.5 22-21.7-0.2-8.4-6.7-11.4-12.8-11.2-4.3 0.1-8.8 3.7-8.8 7.9 0 4.4 2.2 5.3 5 5.3 2.6 0.1 4.4-1.9 4.3-3.9-0.1-2.2-3.1-4-6.4-3m22.2 1.3c-1.2 0-2.2-1-2.2-2.2 0-1.2 1-2.1 2.2-2.1 1.2 0 2.1 0.9 2.1 2.1 0 1.2-0.9 2.2-2.1 2.2m0 9.1c-1.2 0-2.2-0.9-2.2-2.1 0-1.2 1-2.2 2.2-2.2 1.2 0 2.1 1 2.1 2.2 0 1.2-0.9 2.1-2.1 2.1");
O={J:O.crds,_:O.cmds};z(O,new e5(s*.095,0,0,s*.095,0,0));var v=Typr.U.SVGToPath("m10.4 0h-10.4v93h10.4M5.3 93h3.3v-46c7.6 7 11.2 21 11.2 21 2.2-12.6 7.2-13.3 10.2-13.3 3.5 0 8.2 2.6 8.2 17 0 15.3-6.4 18.2-10.7 18.4q-2-0.2-3.4-1-1.4-0.7-1.4-1.7c0-0.6 3.7-5.4 3.7-7 0-2.7-2.8-6-6.4-6-4 0-5.8 3.7-5.8 6 0 4 2.4 11.8 15.8 11.8 4 0 19.8-2.7 19.8-20.7 0-17-13.7-20.5-17.2-20.5q-4 0-8.4 1.7l-4.2-6.7 4.2-6.7q3 1.8 7.8 2c3 0 17.8-2.3 17.8-20.5 0-19.2-17.8-21.3-20.5-21.3-13.2 0-15.2 9-15.3 11.3 0 1.8 2 6.7 6.2 6.7 4.2 0 6-3 6-5.8 0-3-3.6-4.3-3.6-6.7 0-0.8 2.3-2.5 4.5-2.5 3.2 0 11 0.2 11 18.5 0 15-4.6 16.4-8 16.4-1.4 0-8.5-1.3-10.4-13.4 0 0-2.7 14-11 21v-45.5h-3.3");
v={J:v.crds,_:v.cmds};z(v,new e5(s*.043,0,0,s*.043,0,0));var C=Typr.U.SVGToPath("m13.2 0c4.4 0 7 3.1 6.9 6.4 0 4.2-6.3 7-6.3 7 0 0 3.8 3.4 3.8 8.1 0 4-4.2 8.6-10 8.6-3.8 0-7.7-2.2-7.7-6.8 0-5.6 7.4-9.1 7.4-9.1 0 0-2.5-3.1-2.5-7 0-3.6 3-7.2 8.3-7.2m-0.6 11.4c3.5-2.6 3-10.6 0.1-10.6-3.3 0-3.3 7.5-0.1 10.6m-5 16.5c4.2 0 5.6-9.1 0.6-13-3.6 2.6-5.1 13-0.6 13");
C={J:C.crds,_:C.cmds};z(C,new e5(s*.028,0,0,s*.023,0,0));var S=JSON.parse(JSON.stringify(x));T.R.concat(S,C,new e5(1,0,0,1,s*.65,s*5.25));
var j=JSON.parse(JSON.stringify(O));T.R.concat(j,C,new e5(1,0,0,1,s*.65,s*2.75));var w=s*.6,u=s,l={_:"M L L L M L L L".split(" "),J:[0,s,w,s,w,3*s,0,3*s,u,s,u+w,s,u+w,3*s,u,3*s]},I=a*c,Q=s*3,b=Typr.U.SVGToPath("m6.5 19c2.5-6.9 0.6-10.2-2.1-11.8-4.4-2.8-4.2-2.1-4.2-7.3 0.9 2.7 3.2 3.9 5.9 6 5.3 4.2 2.3 10.3 0.4 13.1");
T.R.v(b.crds,new e5(U*1.2,0,0,U*1.2,0,0),b.crds);var p=T.G({J:b.crds,_:b.cmds});z(p,new e5(1,0,0,1.25,I,-Q));
var k=T.G(p);z(k,new e5(1,0,0,1,0,s*.5));var g=T.G(p);z(g,new e5(1,0,0,1,0,s*1));var Y=T.G({J:b.crds,_:b.cmds});
z(Y,new e5(1,0,0,-1.25,-I,Q));var R=T.G(Y);z(R,new e5(1,0,0,1,0,-s*.5));var m=T.G(Y);z(m,new e5(1,0,0,1,0,-s*1));
var Z=[[{_:["M","L"],J:[I,0,I,-Q]},p,k,g],[{_:["M","L"],J:[-I,0,-I,Q]},Y,R,m]],E=Typr.U.SVGToPath("m4.3-0.1c1.2-0.7 8.2 7.6 8.2 9.3-0.1 2.1-5.6 4.2-5.6 7.7 0.1 3.5 6.1 7.8 4.4 8.9-8.1-4-8.7-1.7-6 6-7.2-9-6.6-13.6 2-9.9-11.6-12.3-2.8-8.9-0.9-14.7 1.2-3.5-3.4-6.5-2.1-7.3");
E={_:E.cmds,J:E.crds};z(E,new e5(.8*U,0,0,.8*U,-s/6,s));var N=Typr.U.SVGToPath("m12.3 1.5c1.1 0.2-6.1 21.8-6.1 21.8l-2-0.6 4.9-15.9c0 0-7.2 2.6-8.6-1.5-1.3-4.2 2.6-5.8 4.5-4.7 2.8 1.6 1 4 2.8 4.4 2 0.3 2.8-3.7 4.5-3.5");
N={_:N.cmds,J:N.crds},z(N,new e5(.9*U,0,0,.9*U,-s/3,s*1.4));var h=s*.6,j5=[{_:["M","L","L","L"],J:[-h,s,h,s,h,s*1.5,-h,s*1.5]},{_:["M","L","L","L"],J:[-h,s*1.5,h,s*1.5,h,s*2,-h,s*2]},E,N];
for(var n=0;n<2;n++){var r=T.G(j5[3]);j5.push(r);for(var l8=0;l8<n+1;l8++){var aP=T.G(r);z(aP,new e5(1,0,0,1,-s/4,s*.75));
r._=r._.concat(aP._);r.J=r.J.concat(aP.J)}}e={BH:B,ahL:$,aJh:s,aPE:I,aFg:o,a0x:t,aox:x,aCG:O,aDb:{"0":x,"-6":v,"-12":O,"-7":S,"-19":j,"-17":l},apF:H,a6R:i,a1p:Z,S6:F,aeG:d,as2:L,aJP:G,a6k:K,aym:X,ank:j5};
return e}return V}();id.a91=function(){function z(o,t,c){var H=Math.abs(o[c][2]-o[t][2]);if(H<=12)return 0;
if(H<=14)return 20;return 100}function q(o,t){var c=0,H=o.length,F=14;if(0<t)c+=z(o,0,t-1);if(t<H)c+=z(o,t,H-1);
for(var n=0;n<o.length;n++){var i=o[n][2];if(n<t&&65<i)c+=F;if(t<=n&&i<55)c+=F}return c}function e(o,t,c){var H=o[t][1];
for(var n=t+1;n<=c;n++)if(o[n][1]!=H)return!1;return!0}function V(o,t){var c=0,H=o.length;if(0<t&&e(o,0,t-1))c-=10;
if(t<H&&e(o,t,H-1))c-=10;return c}function P(o,t){var c=t,H=o.length-t;if(c!=0&&H!=0&&c<H)return 5;if(H==0&&1<c)return 10;
return 0}function D(o,t,c){return c-t==2&&o[c-1]-o[t]==12}function B(o,t,c,H){var F=0,i=o.length,X=t.length;
if(0<c&&0<H){if(D(o,0,c)&&D(t,0,H))F-=12;else if(1<c&&1<H)F-=5}if(c<i&&H<X){if(D(o,c,i)&&D(t,H,X))F-=12;
else if(1<i-c&&1<X-H)F-=5}if(c==1&&H==1)F-=Math.abs(o[0][2]-t[0][2])<=22?12:8;if(i-c==1&&X-H==1)F-=Math.abs(o[c][2]-t[H][2])<=22?12:8;
return F}function A(o,t,c,H){var F=0,i=o.length,X=t.length,K={};for(var n=0;n<t.length;n++){var hE=t[n][2];
K[hE]=n<H?1:2}for(var n=0;n<o.length;n++){var hE=o[n][2],f=n<c?1:2;if(K[hE]&&K[hE]!=f)F+=24}return F}function s(o,t,c,H,F,i,X,K){var f=0,d=t,L=c;
while(o<i[d][0][0]+H){var G=i[d];if(X){var x=0;for(var n=0;n<L;n++){var O=G[n][0]+G[n][1];if(x<O)x=O}if(o<x)f+=10}if(K){var x=0;
for(var n=L;n<G.length;n++){var O=G[n][0]+G[n][1];if(x<O)x=O}if(o<x)f+=10}if(d==0)break;L=F[d][L][1];
d--}return f}function a(o){var t=[],c=0;for(var H=0;H<o.length;H++){var F=o[H],i=0;for(var n=0;n<F.length;
n++)i=Math.max(i,F[n][1]);if(c<i)c=i;var X=[];t.push(X);for(var K=0;K<=F.length;K++){var f=q(F,K)+V(F,K)+P(F,K),d=[f,-1],G=1e9;
X.push(d);if(H==0)continue;var L=-1,x=o[H-1];for(var O=0;O<=x.length;O++){var v=t[H-1][O][0],C=B(F,x,K,O),S=A(F,x,K,O),j=s(F[0][0],H-1,O,c,t,o,0<K,K<F.length);
v+=C+S+j;if(H>1)v+=A(F,o[H-2],K,t[H-1][O][1])>>>1;if(v<G){G=v;L=O}}d[0]+=G;d[1]=L}}return t}function M(o,t){var c=[],H=[],X=1e9;
if(o.length==0)return[[c,0]];var F=o[o.length-1],i=-1;for(var n=0;n<F.length;n++){var K=F[n];if(K[0]<X){X=K[0];
i=n}}for(var f=t.length-1;f>=0;f--){var d=t[f],L=i==d.length?1e9:d[i][2];for(var G=0;G<d.length;G++){var x=d[G],O=x[2]<L?c:H;
O.push(x)}i=o[f][i][1]}var v=function(C,S){return C[0]-S[0]};c.sort(v);H.sort(v);return[[H,0],[c,-12]]}function $(o){var t=gs.afi(o),c=a(t);
return M(c,t)}function U(o,t,c,H){function F(O){return gs.Yq.ajg(O,c,H)}o=gs.Yq.ajg(o,c,H,!0,!1,!1);
var i=t>>>3,X=!1,K=0,f=0;if(i==3)return[[F(o),-7]];if(i==4)return[[F(o),-19]];if(i==5||i==10)X=!0;var d=o.length;
for(var n=0;n<d;n++){var L=o[n],G=L[2];if(60<=G)K++;if(G<=60)f++}if(.8<K/d||X&&f<K)return[[F(o),0]];
if(.8<f/d||X&&K<f)return[[F(o),-12]];var x=$(o);for(var n=0;n<x.length;n++){x[n][0]=F(x[n][0]);if(x[n][0].length==0){x.splice(n,1);
n--}}return x}return{aku:U}}();function cy(){}cy.prototype=new ToContext2D;var bC=function(){var z=[64,59,55,50,45,40],q=[-1,-1,-1,-1,-1,-1,-1];
function e(s,a){var M=[],$=[],U=[],o=[],K=0;for(var n=0;n<s.length;n++){var t=s[n],c=t.list,H=[],F=[];
for(var i=0;i<c.length;i++){var hE=c[i].u;if(H.indexOf(hE)==-1&&z[5]<=hE){H.push(hE);if(c[i].axH)F.push(hE)}}$[n]=H.length!=0;
if(H.length!=0)M.push(H);U.push(F)}if(M.length==0){for(var n=0;n<s.length;n++)o.push(q);return o}var X=V(M,a);
for(var n=0;n<s.length;n++){var f=q;if($[n]){f=X[K];K++;for(var i=0;i<6;i++)if(f[i]!=-1){var hE=z[i]+f[i];
if(U[n].indexOf(hE)!=-1)f[i]=-1}}o.push(f)}return o}function V(s,a){var M=[],$={},U=[],f=1e9,d=0;for(var n=0;
n<s.length;n++){var o=s[n],t=D(o);while(t.length==0){o.pop();t=D(o)}M.push(t);for(var c=0;c<t.length;
c++)$[n+","+c]=t[c]}var H=[null],F={},i={},X={};for(var n=0;n<M[0].length;n++){var K=0+","+n;F[K]=0;
T.GH.O6(H,[K,0,n])}while(!0){var L=T.GH.oU(H);if(L==null)break;if(L[1]==M.length-1){if(F[L[0]]<f){f=F[L[0]];
d=L[0]}continue}var K=L[0],G=L[1]+1,x=M[G];for(var n=0;n<x.length;n++){var O=G+","+n;if(X[K])continue;
var v=F[K]+P($[K],$[O]),C=F[O];if(C==null||v<C){F[O]=v;i[O]=K}T.GH.O6(H,[O,G,n])}X[K]=!0}var S=[];while(d!=null){S.push($[d]);
d=i[d]}S.reverse();return S}function P(s,a){var M=s[7],$=a[7],U=s[8]+a[8],c=0;if(M!=-1&&$!=-1)U+=Math.abs(M-$);
var o=s[6],t=a[6];if(o!=-1&&o==t){for(var n=0;n<6;n++){var H=s[n],F=a[n];if(H==F||F==-1){}else if(F==0){throw"e"}else if(H==-1){if(F!=o)c++}else{if(o==H&&H<F)c+=1;
else if(o==F&&H>F)c+=1;else if(o<H&&H<F)c+=1.5;else if(o<F&&F<H)c+=1.5;else{console.log(o,H,F);throw"e"}}}}else{if(o!=-1||t!=-1)c+=1;
for(var n=0;n<6;n++){var H=s[n],F=a[n];if(H==F||F==-1){}else if(F==0){if(H>0)c+=1}else if(H<=0)c+=1;
else c+=1.5}}return U+c}function D(s){if(s.length==0)return[[-1,-1,-1,-1,-1,-1,-1,-1,0]];var a=[],M=[-1,-1,-1,-1,-1,-1];
B(s,0,M,100,-100,a);return a}function B(s,a,M,$,U,o){if((U+$)/2<10&&U-$>3)return;if(U-$>4)return;if(a==s.length){var t=M.slice(0),c=0,hE=0;
o.push(t);if($>U){t.push(-1,-1,0);return}for(var n=0;n<t.length;n++)if(t[n]>0){c+=t[n];hE++}var H=c/hE,F=(U-$)*.2;
if(U-$>4)F+=10;if(H>11)F+=5;if(hE>2)F++;F+=Math.sqrt(H)*.2;t.push(-1,H,F);var i=A(t);if(i!=-1){t=t.slice(0);
t[6]=i;if(hE>2)t[8]-=1;o.push(t);if(1<=hE&&hE<=1)for(var n=0;n<3;n++)if($>1+n){t=t.slice(0);t[6]=$-1-n;
o.push(t)}}return}var X=s[a];for(var K=0;K<M.length;K++){if(M[K]!=-1)continue;if(z[K]<=X&&X<=z[K]+17){var f=X-z[K];
M[K]=f;B(s,a+1,M,f==0?$:Math.min($,f),f==0?U:Math.max(U,f),o);M[K]=-1}}}function A(s){var a=100;for(var n=0;
n<6;n++){if(s[n]!=-1&&s[n]<a)a=s[n]}if(a==100||a==0)return-1;else return a}return{fV:e}}(),jo=function(){var z=!1,q=0,e=0,V,P,D,B=null,A=0,s=-1,a="\t\tvar LST = []; \t\tvar waiting=0; \t\tclass P extends AudioWorkletProcessor {\t\t\tconstructor() {\t\t\t\tsuper();\t\t\t\tthis.port.onmessage = function(e) {\t\t\t\t  LST=LST.concat(e.data);  waiting-=e.data.length; \t\t\t\t};\t\t\t  }\t\t\tprocess(inputs, outputs, parameters) {\t\t\t\twhile(LST.length!=0 && LST[0][0]<currentFrame) LST.shift(); \t\t\t\tif(LST.length+waiting<8) {  this.port.postMessage([currentFrame+(LST.length+waiting)*128,sampleRate]);  waiting+=8;  } \t\t\t\tvar os = outputs[0];\t\t\t\tif(LST.length!=0) {  var L=LST.shift();  os[0].set(L[1]);  os[1].set(L[2]);   }\t\t\t\telse {    }; \t\t\t\t\t\t\t\treturn true;\t\t\t}\t\t}\t\tregisterProcessor('p', P);\t\t",M=new Float32Array(1024),$=new Float32Array(1024),U;
async function o(){if(D)return;D=new AudioContext;var d=new Blob([a],{type:"application/javascript"}),L=URL.createObjectURL(d);
await D.audioWorklet.addModule(L);U=new AudioWorkletNode(D,"p",{outputChannelCount:[2]});U.connect(D.destination);
U.port.onmessage=t}function t(d){var L=d.data[0],G=d.data[1];M.fill(0);$.fill(0);if(B){if(A==0)A=Date.now()*.001-s;
var x=kl.aL(B,P,M,$,A*G,G);if(!x){s=-1;B.Z[0].m.list=[]}A+=M.length/G}if(z){if(e==0)e=Date.now()*.001-q;
kl.aL(V,P,M,$,e*G+1024,G);e+=M.length/G;var O=V.m.rU*4*V.m.HL[0]/V.m.HL[1],v=Math.ceil(gs.E3(V)/O)*O,C=gs.TR(v,V);
if(e>C-.1&&!V.m.o9){e-=C;q=Date.now()*.001}}var S=[];for(var n=0;n<8;n++)S.push([L+n*128,M.slice(n*128,(n+1)*128),$.slice(n*128,(n+1)*128)]);
U.port.postMessage(S)}function c(d){jo.zc();z=!0;q=Date.now()*.001-(d?d:0);e=0}function H(){z=!1}function F(d,L){V=d;
P=L}function i(){return Date.now()/1e3-q}var X={};function K(d,L){if(B==null){var G=B=new hq;G.m={rU:960,Ul:60,MU:!1};
var x=G.OJ();x.m={list:[],j:[],Aa:0,volume:1};G.Z.push(x)}if(s==-1){s=Date.now()*.001;A=0}var O=Date.now()*.001,v=d[3]?d[3]*.001:O,C=Math.round((v-s+0)*960),G=B,S=G.Z[0].m;
S.Aa=L<=200?L:0;if(V&&V.m.o9){G=V;S=G.Z[G.j[0]].m;C=Math.round(gs.vc(G.m.U6+v-O,G));var j=G.m.rU>>2}if(d[0]==9){var w=X[d[1]]=[C,1e6,d[1],d[2]];
S.list.push(w)}if(d[0]==8){var w=X[d[1]];w[1]=Math.max(C-w[0],G.m.rU>>3)}W._m.mq(S);jo.zc()}function f(){var d=V,L=d.m.rU*4*d.m.HL[0]/d.m.HL[1],G=Math.ceil(gs.E3(d)/L)*L,x=gs.TR(G,d),O=8e3,v=Math.round(x*O);
console.log(v);var C=new Float32Array(v),S=new Float32Array(v),e=Date.now();kl.aL(d,P,C,S,0,O);console.log(Date.now()-e)}return{zc:o,play:c,apd:K,pause:H,SZ:F,getTime:i,azC:f}}(),kl=function(){var z,q=0,e=3;
function V(t,c,H,F,i,X){q=X;z=c;var K=H.length,f=i/q,d=f+K/q,L=gs.vc(Math.max(0,f-e),t),G=gs.vc(d,t),x=!1;
for(var O=0;O<t.Z.length;O++){var v=t.Z[O],C=v.m,S=C.list;if(!v.Sw())continue;if(C.Aa>200)continue;for(var n=0;
n<S.length;n++){var j=S[n];if(j[0]<G&&L<j[0]+j[1]&&j[3]!=0){var w=gs.TR(j[0],t),u=gs.TR(j[0]+j[1],t);
P(j[2],C.Aa,w-f,u-f,j[3],C.volume,H,F);x=!0}}}for(var n=0;n<H.length;n++){if(H[n]<-1)H[n]=-1;else if(H[n]>1)H[n]=1;
if(F[n]<-1)F[n]=-1;else if(F[n]>1)F[n]=1}return x}function P(t,c,H,F,i,X,K,f){var d=Math.max(Math.round(H*q),0),L=Math.min(Math.round((F+e)*q),K.length),G=b5.gY(z,c,t,i),x=F-H,O=1/q,v=b5.sb;
for(var C=0;C<G.length;C++){var S=G[C],j=S[v.loop],w=B(S),l8=1;w[1]=Math.max(w[1],.01);var u=z.aIX[S[v.afq]],l=u.start,I=u.end-l,Q=z._K[l][0];
if(z._K[l][1]){l=0;I=Q.length}var b=u.ao5-l+S[v.a2S]+S[v.a3l]*32768,p=u.aJK-l+S[v.a21]+S[v.am3]*32768,k=t+S[v.a1A]+S[v.a3I]/100,g=S[v.aq6];
if(g==null||g==-1)g=u.ajk;g-=u.apv/100;var Y=u.Mr*a(k)/a(g),R=X*(i/127)*(1/65536)*A(.4*S[v.aam]),m=.5+S[v.Fm]/1e3,Z=a(S[v.abV]/100),E=S[v.a8o];
if(Z>15e3)E=0;var N=Math.ceil(.5*Y/Z),h=1-Math.max(0,Math.min(1,-E/100)),j5=$(x,w),r=1/w[5];for(var n=d;
n<L;n++){var aP=n*O-H,bS=aP*Y;if(j!=0){if(p<bS)bS=b+(bS-b)%(p-b)}else if(bS>=I)break;if(aP<x)l8=$(aP,w);
else{l8=j5*M(1-(aP-x)*r);if(l8<.002)break}var kR=U(l+bS,Q);if(E!=0){var j1=o(l+bS,Q,N);kR=j1+h*(kR-j1)}var f6=R*l8*kR;
K[n]+=(1-m)*f6;f[n]+=m*f6}}}var D=[0,1/1e3,1/1e3,1/1e3,1,20/1e3];function B(t){var c=b5.sb,H=[t[c.aF8],t[c.aDu],t[c.ayw],t[c.a3u],t[c.apu],t[c.a7k]],F=0;
for(var n=0;n<6;n++){var i=H[n];if(i==null){H[n]=D[n];F++}else if(n==4)H[n]=A(Math.max(i,0));else H[n]=Math.pow(2,i/1200)}return H}function A(t){return 1/Math.pow(10,t/200)}function s(t){return Math.log10(t/27.5)/Math.log10(Math.pow(2,1/12))+21}function a(hE){return 27.5*Math.pow(2,(hE-21)/12)}function M(t){return t*t*t}function $(t,c){var H=c[0],F=c[1],i=c[2],X=c[3],K=c[4];
if(t<H)return 0;t-=H;return t<F+i?Math.min(1,M(t/F)):Math.max(K,K+(1-K)*((F+i+X-t)/X))}function U(n,t){var c=~~n,H=n-c;
return t[c]*(1-H)+t[c+1]*H}function o(n,t,c){var H=~~n,F=H+1,i=0;for(var X=0;X<c;X++)i+=t[H-X]+t[F+X];
return i/(c*2)}return{aL:V}}(),cg=function(){var z="03B80E5A-EDE8-4B33-A751-6CE34EC4C700".toLowerCase(),q="7772E5DB-3868-4112-A1A9-F2669D106BF3".toLowerCase(),e,V=0,P,D,B;
function A(t){P=t.data;D=0;$(Date.now())}function s(t){e=t;navigator.requestMIDIAccess().then(function(c){c.inputs.forEach(function(H){alert("MIDI device \""+H.name+"\" connected!");
cg.anR=!0;H.onmidimessage=A})},function(c){alert(c)})}function a(t){e=t;navigator.bluetooth.requestDevice({filters:[{services:[z]}]}).then(device=>{console.log(device);
return device.gatt.connect()}).then(server=>{console.log(server);return server.getPrimaryService(z)}).then(service=>{console.log(service);
return service.getCharacteristic(q)}).then(cha=>{console.log(cha);return cha.startNotifications()}).then(cha=>{cha.addEventListener("characteristicvaluechanged",M);
alert("MIDI device \""+cha.service.device.name+"\" connected!");cg.aGJ=!0}).catch(function(c){alert(c)})}function M(t){var c=Date.now(),F=0;
P=new Uint8Array(t.target.value.buffer);D=0;var H=U()&63;while(D<P.length){var i=U()&127;if(i<F){H++}F=i;
var X=(H<<7)+F;if(V==0)V=c-X;var K=c-V,f=Math.floor(K/8192)*8192+X;while(f-K>4096)f-=8192;while(f-K<-4096)f+=8192;
var d=V+f;$(Date.now())}if(D!=P.length){throw"e"}}function $(t){var c=U();if(c==255){console.log("meta event")}else if(c==240){console.log("sysex event")}else{if(c<128){c=B;
D--}if(c>>>4==15){console.log(c.toString(2),av)}else{var H=c>>>4,F=c&15,i=[];i.push(H,F);if(!1){}else if(H==8){i.push(U(),U())}else if(H==9){i.push(U(),U())}else if(H==10){i.push(U(),U())}else if(H==11){i.push(U(),U())}else if(H==12){i.push(U())}else if(H==13){i.push(U())}else if(H==14){var X=U(),K=U();
i.push(K*128+X)}else throw H;var f=[i[0],i[2],i[3],t],i=new dW(_.E.b,!0);i.data={p:_.m.KC,u:f};e.K(i)}B=c}}function U(){return P[D++]}function o(){var t,c;
if((c=P[D++])&128){c&=127;do{c=(c<<7)+((t=P[D++])&127)}while(t&128)}return[c,D]}return{a2c:s,a9f:a,aGJ:!1,anR:!1}}(),cR={zu:"0",YO:"1",Ku:"2",Kc:"3",la:"3.5",TI:"4",gv:"5",nl:"6",qg:"7",gO:"7.5",z:"8",$O:"8.5",JC:"8.8",t2:"9",oD:"10",ajV:"10.5",k3:"11",wg:"12",Vj:"13",LJ:"14",af2:"14.5",Ym:"15",FU:"16",CJ:"17",Bn:"18",gF:"19",RV:"21",Ww:"22",_x:"23",qU:"23.0",ja:"23.1",sv:"23.2",Ex:"23.3",Xi:"23.4",$d:"23.5",ew:"23.6",aGy:"30",UY:"31",BL:"40",zh:"41",bc:"42",gS:"43"};
cR.Ld={};cR.Ld[cR.YO]=["abr","brushes",cP,[9,3],3];cR.Ld[cR.Ku]=["grd","gradients",ai,[12,37],4,36,36];
cR.Ld[cR.Kc]=["shc","contours",jX,[12,21],0];cR.Ld[cR.la]=["acv","curves",k8,[4,2],0];cR.Ld[cR.TI]=["asl","styles",bE,[12,22],5];
cR.Ld[cR.gv]=["pat","patterns",gH,[12,62],6];cR.Ld[cR.nl]=["csh","shapes",lh,[12,77],7];cR.Ld[cR.qg]=["aco","swatches",kH,[9,8],0,22,22];
cR.Ld[cR.gO]=["act","color tables",ko,"Color tables",0,22,22];cR.Ld[cR.z]=["atn","actions",at,[9,9],2];
cR.Ld[cR.$O]=["tpl","tpresets",d6,[9,12],0];cR.Ld[cR.JC]=["icc","profiles",k2,"LUTs",8];cR.kk={};cR.kk[cR.qg]=!0;
function ji(z,q,e){if(e==null)e=!1;this.name=z;this.U=q;this.aEo=e;this.data=null;this.ak5=Date.now()}ji.prototype.MM=function(){return this.U?this.U.MM(this.data):0};
var fw={};fw.y5=function(z,q,e){var V={t:"Clss",v:{classID:z}};if(q)V={t:"Enmr",v:{classID:z,typeID:"Ordn",enum:e?e:"Trgt"}};
return{t:"obj ",v:[V]}};fw.vo=function(z,q){var e={classID:"Lyr"};e[z]=q;return{gQ:"set",cj:{classID:"null",null:fw.y5("Lyr",!0),T:{t:"Objc",v:e}}}};
fw.anu=function(z,q,e,V,P){var D=new dW(_.E.zN,!0),B=[],n=0,A=fw.V4(q,e,V,B);while(B.length!=0){var s=B.pop();
n++;if(!s.d)continue;console.log(n-1);if(s.gQ=="conditional"){var a=z.Z[z.j[0]],M=s.cj.null.v.Cndt,$=!1;
if(M=="Bckg")$=!1;else if(M=="Pxel"&&z.Ov(!1))$=!0;else if(M=="Adjs"&&aM.get(a.add))$=!0;else if(M=="Shp"&&a.add.vogk)$=!0;
else if(M=="Grup"&&a.YZ())$=!0;else if(M=="Opn"&&z!=null)$=!0;else if(M=="32Bt")$=!1;else if(M=="RGB")$=!0;
var U=s.cj.then,o=s.cj.else;if($&&U)fw.V4(q,U.v[0].v.val,U.v[1].v.val,B);if(!$&&o)fw.V4(q,o.v[0].v.val,o.v[1].v.val,B)}else if(s.gQ=="stop"){if(s.cj.Cntn&&s.cj.Cntn.v==!0)window.confirm(s.cj.Msge.v);
else{alert(s.cj.Msge.v);break}}else if(s.gQ=="play"){var t=s.cj.null.v,c=new dW(_.E.b,!0);c.data={p:_.m.g8,HH:[t[0].v.val,t[1].v.val]};
P.K(c)}else{D.data={gQ:s.gQ,cj:s.cj};P.K(D)}}};fw.UF=function(z,q,e){var V;for(var n=0;n<z.length;n++){if(z[n].JJ!=e)continue;
var P=z[n].bX;for(var D=0;D<P.length;D++){if(P[D].JJ!=q)continue;V=P[D]}}return V};fw.V4=function(z,q,e,V){var P=fw.UF(z,q,e).bX,D=P.length;
for(var n=0;n<D;n++)V.push(P[D-1-n])};fw.amk=function(z){var q=z.gQ,e=z.cj,V,B,A,s,a;if(e&&e.null)V=e.null.v[0];
if(e&&V==null&&e.At)V=e.At.v[0];if(V&&V.t=="obj ")V=V.v[0];var P=V&&V.v?V.v.classID:null,D=["purge"];
if(D.indexOf(q)!=-1)return q[0].toUpperCase()+q.slice(1);if(q=="GEfc"||q=="paintDaubs")return gY.names[e.GEfk.v.GEft][1];
a=aM.$Y;for(B in a)if(a[B]==q)A=B;a=ak.$Y;for(B in a)if(a[B]==q)s=B;a=ak.$Y;for(B in a)if(B==q)s=B;if(A){var M=aM.oP(A,e);
if(M!=-1)return[4,16,M];return aM.names[A]}if(s)return ak.names[s];var $=fw.acx;if(q=="make"){if(V){if(P=="AdjL")return[6,1];
else if(P=="layerSection")return e.From?[6,9]:[6,20];else if(P=="Lyr")return[6,13];else if(P=="Chnl"&&V.v.enum=="Msk")return[6,2];
else if(P=="contentLayer")return[6,48,1];else if(P=="BckL")return"Make Background Layer";else if(P=="Path")return"Make Path";
else if(P=="TxLr")return"Make Text Layer";else if(P=="slice")return"Make Slices";else if(P=="Dcmn")return[11,7];
else if(P=="Gd")return[23,4];else if(P=="Brsh")return["VAR0: VAR1",[12,87],[9,3]];else if(P=="ClSm")return["Make VAR0",[10,53]]}if(e.Nw){P=e.Nw.v.classID;
if(P=="Dcmn")return[11,7];else if(P=="Chnl"||P=="SCch")return"New Channel"}}else if(q=="deselect"){if(P=="Path")return"Deselect current path";
else throw P}else if(q=="draw"){return"Draw"}else if(q=="select"){if(P=="Chnl"){var U={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[V.v.enum];
if(U==null)U="";return"Select "+U+" Channel"}else if(P=="Mn")return"Select Panel \""+V.v.enum+"\"";else if(P=="Lyr"){if(V.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[V.v.enum]+" Layer";
return"Select Layer \""+V.v.val+"\""}else if(P=="Path")return"Select Path";else if(P=="Brsh")return"Select Brush";
else if(P=="Dcmn")return"Select Document";else if(P=="HstS")return"Select History State"}else if($[q]&&P=="Chnl"){var o=V.v.keyID=="fsel";
return $[q]+" "+(o?"Selection":"Channel")}else if(q=="set"){if(P=="Lyr")return"Set Current Layer";else if(P=="AdjL")return[6,39];
else if(P=="contentLayer")return[6,48,2];else if(P=="Prpr"){var t=V.v.keyID;if(t=="TxtS")return"Set Text Style";
else if(t=="paragraphStyle")return"Set Paragraph Style";else if(t=="Lefx")return[11,6];else if(t=="FlIn")return"Set "+iE.get([1,14]);
else if(t=="GnrP")return"Set General Preferences";else if(t=="QucM")return["+ VAR0",[6,6,1]];else console.log(t)}else if(P=="Clr")return"Set "+(V.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(P=="Brsh")return"Set Brush";else if(P=="Path")return"Set Work Path";else console.log(P)}else if(q=="move"){if(P=="Lyr")return"Move Layer";
else if(P=="Chnl"&&V.v.keyID=="fsel")return[7,7];else console.log(P)}else if(q=="show"||q=="hide"){var c="";
if(P=="Lyr")c="Layer";if(P=="Chnl")c="Channel";if(P=="filterFX")c="Filter Effect";return(q=="show"?"Show":"Hide")+" "+c}else if(q=="reset"){if(P=="Clr")return"Reset Colors"}else if(q=="exchange"){if(P=="Clr")return[22,7,0]}else if(q=="rotateEventEnum")return[2,5];
else if(q=="flip"){var H=e.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,H?2:3]]}if(q=="duplicate"&&P=="Dcmn")return"Duplicate first document";
if(P=="Chnl"){if(q=="duplicate"){if(V.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(q=="delete")return"Delete Channel"}if(q=="transform")return V&&V.v.keyID=="fsel"?[7,10]:[10,16];
if(q=="convertMode"){var F="Convert Mode",i=e.Dpth;if(i)F+=" To "+i.v+"-Bit";return F}var X={cut:[5,0],copyEvent:[5,1],clearEvent:["- VAR0",[6,6,1]],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:e?{Lyr:[6,31],ASet:"Delete Action Set",Gd:[11,15,0],Path:"Delete Path",ClSm:"Delete Color Sample"}[P]:[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerMakeCopy:"New Smart Obj. via Copy",placedLayerEditContents:"Edit Contents",placedLayerResetTransforms:"Reset Transform",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",placedLayerConvertToLayers:"Convert To Layers",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",assignProfile:"Assign Profile",convertToProfile:"Convert To Profile",conditional:"If"},K=X[q];
if(K==null)K=fw.aDk[q];if(K)return K;return q};fw.aDk={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
fw.acx={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
fw.alJ=function(z,q,e,V){var P=z.gQ,D=z.cj,B=!1,A=new dW(_.E.z,!0),$,U,o,t;A.U=W.si;var s=new dW(_.E.b,!0),a=["purge","updatePlacedLayer"];
if(a.indexOf(P)!=-1)return;var M=P;while(M.length<4)M+=" ";t=aM.$Y;for($ in t)if(t[$]==M)U=$;t=ak.$Y;
for($ in t)if(t[$]==M)o=$;t=ak.$Y;for($ in t)if($==M)o=$;if(P=="fade")U=P;if(P=="matchColor")U="matc";
if(P=="applyImageEvent")U="aply";if(U){A.U=W.j4;A.data={p:"start",xJ:U,YY:D}}else if(o){A.U=W.pa;A.data={p:"start",gT:o,YY:D}}else if(P=="GEfc"||P=="paintDaubs"){A.U=W.pa;
A.data={p:"start",gT:"GEfc",YY:D}}else if(P=="convertMode"){var c=D.Dpth;if(c==null)return;A.U=W.Rs;
A.data={p:"cmode",u:c.v}}else if(P=="assignProfile"||P=="convertToProfile"){var H=D.profile;if(H==null)H=D.T;
A.U=W.Rs;A.data={p:"cprof",u:H?H.v:null,aov:P[0]=="c"}}else if(P=="imageSize"||P=="canvasSize"||P=="revealAll"||P=="trim"||P=="crop"){A.U=W.M7;
A.data={p:"fromAction",Wp:z}}else if(P=="fill"||P=="stroke"||P=="delete"&&D==null){var F=null;if(V.j.length!=0)F=V.Z[V.j[0]];
if(D&&JSON.stringify(D).indexOf("aiHeal")!=-1)F=null;var i=T.H_(e.pQ);if(F!=null&&P=="fill"&&F.add.TySh){var X="var c = new SolidColor();  c.rgb.red="+i.l+";  c.rgb.green="+i.I+";  c.rgb.blue="+i.c+";  app.activeDocument.activeLayer.textItem.color = c;";
s.data={p:_.m.Lo,u5:X}}else if(F!=null&&P=="delete"&&F.add.TySh){A.U=W.no;A.data={p:"insertText",u:""}}else if(F!=null&&P=="fill"&&F.mp()&&F.es<=0){var A=new dW(_.E.zN,!0),D={classID:"setd",null:fw.y5("contentLayer",!0),T:{t:"Objc",v:{}}};
W.NU.Ey({Clr:{t:"Objc",v:T.Yf.e8(T.H_(e.pQ))}},D.T.v,0);A.data={gQ:"set",cj:D};q.K(A);return}else if(P=="stroke"&&D&&D.null==null){A.U=W.bx;
A.data={p:"stroke",agn:D}}else{if(P=="stroke"&&D&&D.Usng)A.U=W.$Y[D.Usng.v.classID];else A.U=e.Ai==W.zZ?W.zZ:W.YO;
A.data={p:"fromAction",Wp:z}}}else if(P=="colorRange"||P=="grow"||P=="similar"){A.U=W.bF;A.data={p:"fromAction",Wp:z}}else if(P=="set"&&D&&D.T&&D.T.v.Ordn=="Al"&&e.Ai==W.no&&q.dD().ay()){A.U=W.no;
A.data={p:"selectAll"}}else if(P=="clearEvent"){A.U=W.qK;A.data={p:"qmask"}}else if(P=="set"&&D&&D.null&&D.null.v[0]&&D.null.v[0].v.keyID=="QucM"){A.U=W.qK;
A.data={p:"qmask"}}else if(cW==2&&P=="set"&&D.T){var F=V.Z[V.j[0]];if(F)F.m.j=[];if(D.T.v.Ordn=="Al"&&F)for(var n=0;
n<F.m.list.length;n++)F.m.j.push(n);V.XU=!0;return}else if(fw.aDk[P]||fw.acx[P]&&(!1||D.With&&D.With.v[0].v.keyID=="fsel"||D.From&&D.From.v[0].v.keyID=="fsel"||D.null&&D.null.v[0].v.keyID=="fsel"||D.T.v[0]&&D.T.v[0].v.keyID=="fsel")){A.U=W.qK;
A.data={p:"fromAction",Wp:z}}else if(P=="rasterizeLayer"){A.data={p:D.What?D.What.v.rasterizeItem=="vectorMask"?lK.PZ:lK.a9i:lK.Xc}}var K={copyToLayer:lK.uk,cutToLayer:lK.zJ,mergeLayersNew:lK.xs,mergeVisible:lK.CF,flattenImage:lK.az6,newPlacedLayer:lK.Dn,placedLayerMakeCopy:lK.KQ};
if(K[P])A.data={p:K[P],cj:D};if(A.data){q.K(A);return}if(P=="collapseAllGroupsEvent"){for(var n=0;n<V.Z.length;
n++){var F=V.Z[n];if(F.YZ())F.add.lsct=fH.OI}V.y8=!0;return}if(P=="desaturate"||P=="Dstt"){A.U=W.j4;
A.data={p:"auto",aFV:3};if(V&&V.Z[V.j[0]].add.SoLd==null)q.K(A);return}if(P=="close"){if(D&&D.Svng.v.YsN=="Ys"){s.data={p:_.m.UL};
q.K(s)}s.data={p:_.m.zd,Bt:V};q.K(s);return}if(P=="save"){s.data={p:_.m.UL};q.K(s);return}if(P=="copyMerged"){s.data={p:_.m.K$,J4:!0,XC:!0};
q.K(s);return}if(P=="placedLayerReplaceContents")s.data={p:_.m.Bd,TA:!0};if(P=="placedLayerConvertToLayers"){s.data={p:_.m.Ny};
q.K(s);var f=q.nk[q.nk.length-1];f.j=[];for(var n=0;n<f.Z.length;n++)f.j.push(n);A.U=W.si;A.data={p:lK.cZ};
q.K(A);var d=V.Z[V.j[0]];A.U=W.si;A.data={p:lK.vU,Z:f._i(),Jp:f,ME:V,avP:[d]};q.K(A);s.data={p:_.m.zd};
q.K(s);var L=V.history[V.history.length-1];L.name="Convert to Layers";var G=V.Z[V.j[0]];G.up(d.getName());
W.DL.zE(V,V.u4(),null,d.V.x,d.V.y);return}if(P=="placedLayerResetTransforms"){A.U=W.Rs;A.data={p:"reset",JJ:"Reset Transform"};
q.K(A);return}var K={placedLayerEditContents:_.m.Ny,placedLayerExportContents:_.m.awU,copyEvent:_.m.K$,paste:_.m.AW};
if(K[P])s.data={p:K[P],XC:!0};if(s.data){q.K(s);return}var x=D.null?D.null.v:null,O=x?x[0].v.classID:"";
if(P=="make"){if(D.null==null&&D.Nw)O=D.Nw.v.classID;if(O=="contentLayer"&&D.Usng&&D.Usng.v.Type&&aM.Ij[D.Usng.v.Type.v.classID])O="AdjL";
if(O=="AdjL"){A.data={p:lK.Nq,cj:D}}else if(O=="layerSection"){A.data=D.From?{p:lK.cZ}:{p:lK.o8};if(D.Usng){var v=D.Usng.v;
if(v.Nm)A.data.WB=v.Nm.v;if(v.Clr)A.data.l2=fw.H9(v)}}else if(O=="Lyr"){if(D.Usng&&D.Usng.v.length==2)A.data={p:lK.aHx};
else{A.data={p:lK.Ag};if(D.Usng)A.data.WB=D.Usng.v.Nm.v;if(D.below&&D.below.v)A.data.a4j=!0}}else if(O=="Chnl"&&D.At&&D.At.v[0].v.enum=="Msk"){A.data={p:lK.q0,Ml:D.Usng.v.UsrM}}else if(O=="Chnl"||O=="SCch"){A.data={p:lK.$T,kE:"fromAction",u:z}}else if(O=="contentLayer"){A.data={p:lK.Ax,cj:D}}else if(O=="BckL"){V.Z[V.j[0]].a3$();
return}else if(O=="Dcmn"){if(D.Nw==null)return;var C=D.Nw.v;s.data={p:_.m.Mk,Va:hq.a97(C,e)}}else if(O=="Ptrn")s.data={p:_.m.rf,Lh:0};
else if(O=="Brsh")s.data={p:_.m.rf,Lh:1};else if(O=="Path"){var S=D.At;if(S&&S.v&&S.v[0]&&S.v[0].v&&S.v[0].v.enum=="vectorMask"){A.U=W.si;
var j=!1,w=!1;if(D&&D.Usng){var v=D.Usng.v;j=v.vectorMaskEnabled=="RvlA";w=v[0]&&v[0].v.classID=="Path"}A.data={p:lK.wo,ar9:!j,a2P:w}}else{A.U=W.RY;
A.data={p:"pathedit",kE:"fromsel"}}}else if(O=="TxLr"){A.U=W.no;A.data={p:"fromAction",Wp:z}}else if(O=="slice"){A.U=W.vS;
A.data={p:"fromAction",Wp:z}}else if(O=="Gd"){var u=[[],[]],C=D.Nw.v;u[C.Ornt.v.Ornt=="Vrtc"?0:1].push(C.Pstn.v.val);
var l=i3.aLQ(u);W.DL.uu(l,V.Il());A.U=W.HI;A.data={p:"gids",an:l}}else if(O=="ClSm"){A.U=W._q;A.data={p:"fromAction",Wp:z}}else{console.log(P,O,D);
throw"e"}}else if(P=="divide"){A.U=W.vS;A.data={p:"fromAction",Wp:z}}else if(P=="deselect"){if(O=="Path"){V.o0=[];
V.L3=[];V.y8=V.XU=!0;return}else throw O}else if(P=="selectNoLayers"){V.j=[];V.$k=!0}else if(P=="selectAllLayers"){V.j=[];
for(var n=0;n<V.Z.length;n++)V.j.push(n);V.$k=!0;return}else if(P=="select"){var I=W.$Y;if(O=="Lyr"){var Q=D.selectionModifier,b=Q?Q.v.selectionModifierType:null,p=fw.wk(V,x[0]),k=0;
if(p==-1){alert("Layer "+x[0].v.val+" does not exist.");return}var F=V.Z[p];if(F.YZ()&&F.OX()&&Q==null)k=1;
A.data={p:lK.eb,H:p,afc:b?["addToSelection","addToSelectionContinuous"].indexOf(b):null,es:k}}else if(O=="Path"){if(x[0].v.keyID=="WrPt"){V.o0=[0];
V.y8=V.XU=!0;return}else if(x[0].t=="name"){for(var n=0;n<V.yj.length;n++)if(V.yj[n].name==x[0].v.val){V.o0=[n];
V.y8=V.XU=!0;return}}else throw x[0]}else if(O=="Chnl"){var g=x?x[0].v.enum:"",Y=["Rd","Grn","Bl"].indexOf(g);
if(Y!=-1){var R=D.Extd&&D.Extd.v?V.A.Ox.slice(0):[0,0,0];R[Y]=1;A.U=W.RJ;A.data={p:"setcls",Ox:R}}else A.data={p:lK.eb,H:p,es:g=="RGB"?0:1}}else if(O=="Dcmn"){if(q.nk.length<2)return;
s.data={p:_.m.ayT,dir:D.null.v[0].v.val}}else if(O=="Brsh"){var m=e.pL.list,Z;for(var n=0;n<m.length;
n++){if(m[n].v.Nm.v.split("/").pop()==x[0].v.val)Z=m[n].v}if(e.Ai==W.HI){s.data={p:_.m.uB,U:W.YO};q.K(s)}s.data={p:_.m.Ln,Lh:cR.LJ,DV:Z}}else if(O=="Mn"){if(x[0].v.enum=="FrTr")s.data={p:_.m.uB,U:W.Rs};
if(x[0].v.enum=="Scl")s.data={p:_.m.uB,U:W.Rs,ee:{Ml:3}};if(x[0].v.enum=="Plce")s.data={p:_.m.Bd,a3v:!0};
if(x[0].v.enum=="ZmIn"){A.U=W.OF;A.data={p:"zoom",pn:!0}}if(x[0].v.enum=="ZmOt"){A.U=W.OF;A.data={p:"zoom",pn:!1}}if(x[0].v.enum=="FtOn"){A.U=W.OF;
A.data={p:"adapt",u:"fitscr"}}}else if(O=="HstS"){A.U=W.S3;if(x[0].v.enum=="Prvs")A.data={p:"h_stepbck"};
else throw"e"}else if(I[O]){s.data={p:_.m.uB,U:I[O]}}else throw O}else if(P=="draw"){A.U=W.RY;A.data={p:"fromAction",Wp:z}}else if(P=="gradientClassEvent"){A.U=W.Xy;
A.data={p:"fromAction",Wp:z}}else if((P=="set"||P=="reset"||P=="exchange")&&O=="Clr"){s.data={p:_.m.Ln,Lh:cR.RV,kE:P=="reset"?3:2};
if(P=="set"){s.data.kE=x[0].v.keyID=="FrgC"?0:1;var E=T.Yf.z8(D.T.v);s.data.u=E.l<<16|E.I<<8|E.c}}else if(P=="set"){if(O=="AdjL"){var N=D.T.v.classID;
N=aM.Sa[N];A.U=W.j4;if(N)A.data={p:"edit_layer",u:D.T.v}}else if(O=="Lyr"){var h=D.T.v,p=fw.wk(V,x[0]);
for(var j5 in h){if(j5=="classID")continue;A.U=W.si;if(j5=="Nm")A.data={p:lK.mH,name:h.Nm.v};else if(j5=="Opct")A.data={p:lK.tS,oo:Math.round(h.Opct.v.val*255/100)};
else if(j5=="fillOpacity")A.data={p:lK.UC,oo:Math.round(h.fillOpacity.v.val*255/100)};else if(j5=="Md")A.data={p:lK.Kj,oo:aA.nq.indexOf(h.Md.v.BlnM)+(V.Z[p].YZ()?1:0)};
else if(j5=="Usrs")A.data={p:lK.KW,H:p};else if(j5=="Blnd"){A.U=W.Eg;A.data={p:"setstl",H:p,u:{blendOptions:{t:"objc",v:h}}};
q.K(A);A.data={p:"confirm",H:p}}else if(j5=="userMaskFeather"||j5=="userMaskDensity"){var r=h.userMaskFeather,c=h.userMaskDensity,p=V.j[0],l8=V.Z[p].lj(0);
if(r)l8.zl=r.v.val;if(c)l8.n2=c.v.val;A.data={p:lK.Ke,HM:p,z1:l8}}else if(j5=="Clr"){var i=fw.H9(h);
A.data={p:lK.x_,alV:i}}else if(j5=="Lefx")fw.a4C(q,p,h.Lefx.v,e);else if(j5=="UsrM"){if(h[j5].v==V.Z[p].OX().isEnabled)return;
A.data={p:lK.ce,H:p}}else{console.log(D);throw j5}if(A.data){q.K(A);delete A.data}}A.data={};var F=V.Z[p];
F.a5R()}else if(O=="Prpr"){var h=T.G(D.T.v),p=fw.wk(V,D.null.v[1]),F=V.Z[p],aP=x[0].v.keyID;if(aP=="TxtS"||aP=="paragraphStyle"){var bS=F.add.TySh,kR=T.G(bS._1),j1=dc.VQ(kR),f6=dc.jb(kR,0,j1.length-2);
if(aP=="TxtS")dc.OO(h,f6.c_);else dc.OO(h,f6.S$);dc.Vy(kR,0,j1.length-1,f6);A.U=W.no;A.data={p:"newED",ZF:p,adA:kR}}else if(aP=="Lefx"){for(var gx in h)if(h[gx].v){if(gx=="Scl")h[gx].v.val=100}fw.a4C(q,p,h,e);
A.data={}}else if(aP=="FlIn"||aP=="GnrP")return;else throw aP}else if(O=="contentLayer"){var p=fw.wk(V,x[0]),h=D.T.v,lC=!0;
if(h.classID=="shapeStyle"){if(h.strokeStyle){h=h.strokeStyle.v;lC=!1}else h=h.FlCn.v}if(lC){var g2={solidColorLayer:0,gradientLayer:1,patternLayer:2}[h.classID],dv=az.W0(V.Z[p].add),o=dv.y3==g2+1?dv.j5:az.zO[g2];
o=T.G(o);W.NU.Ey(h,o,g2);A.data={p:lK.eB,ML:[p],vt:!0,u:{y3:g2+1,j5:o}}}else{var bv=T.G(V.Z[p].add.vstk);
for(var gx in h)bv[gx]=h[gx];A.data={p:lK.eB,ML:[p],vt:!1,u:bv}}}else if(O=="Brsh"){var Z=T.G(e.pL.AA),eo=D.T.v;
if(eo.masterDiameter)Z.Brsh.v.Dmtr.v.val=eo.masterDiameter.v.val;else console.log("unknown brush parameters");
s.data={p:_.m.Ln,Lh:cR.LJ,DV:Z}}else if(O=="Path"){A.U=W.RY;A.data={p:"fromAction",Wp:z}}else if(O=="TxLr"){A.U=W.no;
A.data={p:"fromAction",Wp:z}}else{console.log(x[0],D);throw O}}else if(P=="move"){if(O=="Lyr"){var h=D.T.v;
if(h.classID=="Ofst"){A.data={p:"trsl",d8:h.Hrzn.v.val,Zf:h.Vrtc.v.val};A.U=W.HI}else{var aL,dh,p;if(h[0].t=="Enmr"){if(h[0].v.enum=="Frnt")dh=0;
else if(h[0].v.enum=="Nxt")dh=1;else if(h[0].v.enum=="Prvs")dh=2;else if(h[0].v.enum=="Back")dh=3;else throw"e"}else aL=h[0].v.val;
if(x){p=fw.wk(V,x[0]);if(p==-1)p=null}A.data={p:lK.Zs,H:p,target:aL,kE:dh,auS:D.Dplc?D.Dplc.v:!1}}}else if(O=="Chnl"&&x[0].v.keyID=="fsel"){A.U=W.qK;
A.data={p:"fromAction",Wp:z}}}else if(P=="cut"){var h=D.T.v,eM=h.Hrzn.v.val,kg=h.Vrtc.v.val;A.data={p:"trsl",d8:eM,Zf:kg};
A.U=W.HI}else if(P=="groupEvent"||P=="ungroup")A.data={p:lK.Cr};else if(P=="show"||P=="hide"){var jJ=D.null.t;
if(jJ=="obj "){if(x[0].v.val!=null)A.data={p:lK.kU,index:x[0].v.val-1};else A.data={p:lK.l$}}else if(jJ=="VlLs"){var O=x[0].v[0].v.classID;
if(O=="Chnl")A.data={p:lK.$T,kE:"fromAction",u:z};else{var iL=O=="filterFX"?x:x[0].v;for(var n=0;n<iL.length;
n++){if(O=="filterFX")A.data={p:lK.kU,index:iL[n].v[0].v.val-1};else if(iL[n].v.enum=="Trgt"){var bz=[];
for(var ks=0;ks<V.j.length;ks++){var p=V.j[ks],gr=V.Z[p].Sw();if(P=="show"&&gr||P=="hide"&&!gr)continue;
bz.push(p)}A.data={p:lK.rC,ML:bz}}else{var p=fw.wk(V,iL[n]),gr=V.Z[p].Sw();if(P=="show"&&gr||P=="hide"&&!gr)continue;
A.data={p:lK.rC,ML:[p]}}q.K(A)}return}}else throw jJ}else if(P=="rotateEventEnum"){A.U=O=="Lyr"?W.Rs:W.M7;
var hg=D.Angl.v.val;A.data={p:"rot",JJ:[2,5],u:-hg*Math.PI/180}}else if(P=="flip"){A.U=O=="Lyr"?W.Rs:W.M7;
var ci=D.Axis.v.Ornt=="Hrzn",fK=ci?new f5(-1,1):new f5(1,-1);A.data={p:"scl",JJ:[[2,6],[22,4,ci?2:3]],u:fK}}else if(P=="transform"){var x=D.null;
if(x&&x.v instanceof Array)x=x.v[0];A.U=x&&x.v.keyID=="fsel"?W.zi:W.Rs;A.data=W.On.a3s(D)}else if(P=="duplicate"){if(O=="Chnl")A.data={p:lK.$T,kE:"fromAction",u:z};
else if(O=="Dcmn"){var jN=V.Z,dD=[];if(D.Mrgd&&D.Mrgd.v){var eF=V.OJ();eF.up("Layer 1");eF.V=new kk(0,0,V.s,V.T);
eF.buffer=V.tW().slice(0);V.Z=[eF];V.j=[]}var io=hZ.nw("PSD").gB(V);V.Z=jN;V.j=dD;gC.BU({url:V.name},io,q);
return}else if(O=="Actn"){var la=e.$K,e9=x[1].v.val,gM=null;for(var n=0;n<la.length;n++)if(la[n].JJ==e9)gM=la[n];
var j7=fw.UF(la,x[0].v.val,e9);j7=T.G(j7);j7.JJ+=" copy";gM.bX.push(j7);return}else A.data={p:lK.Mi,WB:D.Nm?D.Nm.v:null}}else if(P=="delete"){if(O=="filterFX"){if(x[0].v.val!=null)A.data={p:lK.tP,T0:x[0].v.val-1};
else A.data={p:lK.j7}}else if(O=="Path"){if(x&&x.length==2&&x[0].v.enum=="vectorMask"&&x[1].v.classID=="Lyr"){A.U=W.si;
A.data={p:lK.Et}}else{A.U=W.RY;A.data={p:"pathedit",kE:"del"}}}else if(O=="Lyr")A.data={p:lK.t$};else if(O=="Chnl"&&x[0].v.enum=="Msk")A.data={p:lK.Ab};
else if(O=="Chnl")A.data={p:lK.$T,kE:"fromAction",u:z};else if(O=="Cmnd"){var la=e.$K,e9=x[2].v.val,j7=fw.UF(la,x[1].v.val,e9);
j7.bX.splice(x[0].v.val-1,1);return}else if(O=="Actn"){var la=e.$K,e9=x[1].v.val,gM=null;for(var n=0;
n<la.length;n++)if(la[n].JJ==e9)gM=la[n];var j7=fw.UF(la,x[0].v.val,e9);gM.bX.splice(gM.bX.indexOf(j7),1);
return}else if(O=="ASet"){var la=e.$K,e9=x[0].v.val,gM=null;for(var n=0;n<la.length;n++)if(la[n].JJ==e9)gM=la[n];
if(gM==null)return;la.splice(la.indexOf(gM),1);V.$k=!0;return}else if(O=="Gd"){A.U=W.HI;A.data={p:"gids",an:[[],[]]}}else if(O=="ClSm"){A.U=W._q;
A.data={p:"fromAction",Wp:z}}else throw O}else if(P=="align"){if(D.Aply&&D.Aply.v.projection=="Auto"){A.U=W.M7;
A.data={p:"auto-align"}}else{A.U=W.HI;var cI=D.Usng.v.ADSt,U={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[cI];
if(U==null)throw cI;A.data={p:"algn",u:U}}}else if(P=="applyLocking"){var dL=D.layerLocking.v,cf;if(dL.protectTransparency)cf=[[dL.protectTransparency.v],[0]];
else if(dL.protectNone)cf=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(dL);throw"e"}A.data={p:lK.B4,oo:cf}}else if(P=="play"){var x=D.target.v;
s.data={p:_.m.g8,HH:[x[0].v.val,x[1].v.val]}}if(A.data)q.K(A);else if(s.data)q.K(s);else{console.log(z);
alert("Unknown action \""+P+"\"");throw"e"}};fw.a4C=function(z,q,e,V){e=T.G(e);d1.mE(e);if(e.masterFXSwitch==null)e.masterFXSwitch={t:"bool",v:!0};
console.log(e);var P=az.cx;for(var D=0;D<P.length;D++)if(e[P[D]]){for(var n=0;n<e[P[D]].v.length;n++){var B=e[P[D]].v[n].v;
for(var A=0;A<2;A++){var s=B[A==0?"TrnS":"MpgS"];if(s&&s.v.Crv==null){var a=s.v,M=a.Nm.v.split("=").pop(),$=V.fa,U=0;
for(var o=0;o<$.length;o++){var t=$[o].Nm.v.split("=").pop();if(t==M)U=o}a.Crv=T.G($[U].Crv)}}}}var c=new dW(_.E.z,!0);
c.U=W.Eg;c.data={p:"setstl",H:q,u:{Lefx:{t:"objc",v:e}}};z.K(c);c.data={p:"confirm",H:q};z.K(c)};fw.H9=function(z){var q={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[z.Clr.v.Clr];
if(q==null)throw z.Clr.v.Clr;return q};fw.wk=function(z,q){var e=1e6,V=0,P=z.Z.length;for(var n=0;n<z.j.length;
n++){e=Math.min(e,z.j[n]);V=Math.max(V,z.j[n])}var D=q.t,B=-1;if(D=="name"){var A=q.v.val,B=-1;for(var n=0;
n<P;n++)if(z.Z[n].getName()==A){B=n;break}}else if(D=="Enmr"){if(z.j.length!=0)B=z.j[0];if(q.v.enum=="Frwr")B=V+1;
if(q.v.enum=="Bckw")B=e-1;if(q.v.enum=="Back")B=0;if(q.v.enum=="Frnt")B=P-1;B=(B+P)%P}else if(D=="prop"){if(q.v.keyID=="Bckg")B=0}else if(D=="indx")B=q.v.val-1;
return B};var aM={};aM.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
aM.aCu=["expA","clrL","selc"];aM.rL=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];aM.aeI=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
aM.Y0=[[13,1,1],[13,1,4],[13,1,5]];aM.Ij={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
aM.Sa=function(){var z=T.G(aM.Ij);delete z.GrMp;z.GdMp="grdm";return z}();aM.$Y={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
aM.keys={levl:[cz.EF,cz.eT],curv:[cz.EF,cz.BH],hue2:[cz.EF,cz.dO],nvrt:[cz.EF,cz.Pd],blnc:[cz.EF,cz.RI]};
aM.GB=function(z){var q=ak.g1("mixr");q.Mnch={t:"bool",v:z.JZ};function e(V,n){var P={classID:"ChMx"},D={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var B in D)P[B]={t:"UntF",v:{type:"#Prc",val:V[n+D[B]]}};return{t:"Objc",v:P}}if(z.JZ)q.Gry=e(z.u,0);
else{q.Rd=e(z.u,0);q.Grn=e(z.u,5);q.Bl=e(z.u,10)}return q};aM.PJ=function(z){function q(V,P,n){var D={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var B in D)if(V[B])P[n+D[B]]=V[B].v.val}var e={JZ:!1,u:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(z.Mnch&&z.Mnch.v)e.JZ=!0;if(e.JZ)q(z.Gry.v,e.u,0);else{q(z.Rd.v,e.u,0);q(z.Grn.v,e.u,5);q(z.Bl.v,e.u,10)}return e};
aM.get=function(z){for(var q in aM.names)if(z[q]!=null)return q;return null};aM.LU=function(z,q){var e=aM.jQ,V;
if(z=="brit"){var P=q.Brgh?q.Brgh.v:0,D=q.Cntr?q.Cntr.v:0,B=q.useLegacy?q.useLegacy.v:!1;if(B){var A=P/255,s=1+D/100;
if(s>1)s=1+Math.tan(Math.PI/2*D/101);var a=(1-s)/2,M=T.DB.Kf(A,A,A),$=[s,0,0,a,0,s,0,a,0,0,s,a,0,0,0,1],U=T.DB.multiply($,M),o={l:new Float32Array(256),I:new Float32Array(256),c:new Float32Array(256)};
for(var n=0;n<256;n++)o.l[n]=n/255;T.DB.mK(o,o,U);V={e:e.ST,jS:o.l,df:o.l,Rj:o.l,_C:!1,yZ:!1}}else{var t=1024,c=-30+60*(D+100)/200,H=[];
for(var n=0;n<4;n++)H.push(T.JQ.Az(n/3*255,n/3*255,!0));H[1].v.Hrzn.v=64;H[1].v.Vrtc.v=64-c;H[2].v.Hrzn.v=128+64;
H[2].v.Vrtc.v=128+64+c;H.sort(function(iQ,gb){return iQ.v.Hrzn.v-gb.v.Hrzn.v});var F=T.JQ.YN(H,t);function i(iQ,t){var H=[],hE=3;
for(var n=0;n<hE+1;n++)H.push(T.JQ.Az(n/hE*255,n/hE*255,!0));H[1].v.Hrzn.v=130-iQ*26;H[1].v.Vrtc.v=130+iQ*51;
H[2].v.Hrzn.v=233-iQ*48;H[2].v.Vrtc.v=233+iQ*10;return T.JQ.YN(H,t)}var X=i(Math.abs(P)/100,t);if(P<0){var K=[],f=1/t;
for(var n=0;n<t;n++){var d=n*f,L=n;while(X[L]>d&&L>1)L--;K[n]=L*f}X=K}var G=new Float32Array(t);for(var n=0;
n<t;n++){var x=Math.round((t-1)*X[n]);G[n]=F[x]}V={e:e.ST,jS:G,df:G,Rj:G,_C:!1,yZ:!1}}}if(z=="levl"){var O=[],v,C,M,S,j,w,u=256;
for(var n=0;n<4;n++)O.push(hG.Rg(q,n));var l=u-1;v=-O[0][0]/255;C=1/(O[0][1]/255-O[0][0]/255);M=T.DB.multiply(T.DB.pK(C,C,C),T.DB.Kf(v,v,v));
S=T.DB.pK(1/(O[1][1]/255-O[1][0]/255),1/(O[2][1]/255-O[2][0]/255),1/(O[3][1]/255-O[3][0]/255));j=T.DB.Kf(-O[1][0]/255,-O[2][0]/255,-O[3][0]/255);
w=T.DB.multiply(S,j);var G={l:new Float32Array(u),I:new Float32Array(u),c:new Float32Array(u)};for(var n=0;
n<u;n++)G.l[n]=G.I[n]=G.c[n]=n/l;var I=1/(O[0][4]/100),Q=1/(O[1][4]/100),b=1/(O[2][4]/100),p=1/(O[3][4]/100);
T.DB.mK(G,G,w);for(var n=0;n<u;n++){G.l[n]=Math.max(0,Math.min(1,Math.pow(G.l[n],Q)));G.I[n]=Math.max(0,Math.min(1,Math.pow(G.I[n],b)));
G.c[n]=Math.max(0,Math.min(1,Math.pow(G.c[n],p)))}T.DB.mK(G,G,M);for(var n=0;n<u;n++){G.l[n]=Math.max(0,Math.min(1,Math.pow(G.l[n],I)));
G.I[n]=Math.max(0,Math.min(1,Math.pow(G.I[n],I)));G.c[n]=Math.max(0,Math.min(1,Math.pow(G.c[n],I)))}v=O[0][2]/255;
C=O[0][3]/255-O[0][2]/255;M=T.DB.multiply(T.DB.Kf(v,v,v),T.DB.pK(C,C,C));S=T.DB.pK(O[1][3]/255-O[1][2]/255,O[2][3]/255-O[2][2]/255,O[3][3]/255-O[3][2]/255);
j=T.DB.Kf(O[1][2]/255,O[2][2]/255,O[3][2]/255);w=T.DB.multiply(j,S);T.DB.mK(G,G,T.DB.multiply(M,w));
V={e:e.ST,jS:G.l,df:G.I,Rj:G.c,_C:!1,yZ:!1}}if(z=="curv"){var k=k8.Rg(q,0).length==256?1:0,g=[];if(k==0){var Y=T.JQ.YN(k8.Rg(q,0),256);
for(var n=1;n<4;n++){var R=T.JQ.YN(k8.Rg(q,n),256);g.push(T.JQ.arO(R,Y))}}else{var m=[];for(var n=0;
n<4;n++){var Z=new Float32Array(256);m.push(Z);var E=k8.Rg(q,n);for(var L=0;L<256;L++)Z[L]=E[L]/255}for(var n=1;
n<4;n++)g.push(T.JQ.arO(m[n],m[0]))}V={e:e.ST,jS:g[0],df:g[1],Rj:g[2],_C:!1,yZ:!1}}if(z=="expA"){var N=q.Exps,h=q.Ofst,j5=q.gammaCorrection,r=N?N.v:0,l8=h?h.v:0,aP=j5?j5.v:1,G=new Float32Array(256);
for(var n=0;n<256;n++){var q=n/255,bS=Math.pow(Math.abs(l8),1/(Math.PI/2));if(l8>0){q=Math.max(l8/Math.E,q);
q=q*Math.exp(l8/1.75+r/Math.PI);q=(1-bS)*q+bS*1}else{q=q*Math.exp(-l8*1.75+r/Math.PI);q=q+-bS*1.14}q=Math.pow(q,1/aP);
G[n]=Math.max(0,Math.min(1,q))}V={e:e.ST,jS:G,df:G,Rj:G,_C:!1,yZ:!1}}if(z=="vibA"){var kR=(q.vibrance?q.vibrance.v:0)/100,j1=(q.Strt?q.Strt.v:0)/100,bS=1+kR*(kR>0?.25:.5),f6=.8+.2/bS;
V={e:e.ni,Lh:[kR,j1,f6,bS]}}if(z=="hue2"){var gx=[],lC=[],g2=[],dv=q.Clrz?q.Clrz.v:!1,u=256,l=u-1;for(var n=0;
n<u;n++){gx[n]=n/l;lC[n]=0;g2[n]=0}var bv=jR.Rg(q,0),eo=aM.yq(bv[1]/100);if(dv){var aL=bv[0]/360;for(var n=0;
n<u;n++){gx[n]=aL;lC[n]=eo}}else{for(var n=0;n<u;n++){var dh=gx[n],eM=lC[n];gx[n]+=bv[0]/360;for(var L=0;
L<6;L++){var kg=jR.Rg(q,L+1),jJ=kg.jr,iL=kg.T_,bS=0;for(var bz=1;bz<4;bz++)if(iL[bz]<iL[0])iL[bz]+=360;
var ks=iL[0],gr=iL[1],hg=iL[2],ci=iL[3],fK=dh*360;if(fK<iL[0])fK+=360;var dD=(fK-ks)/(gr-ks),eF=(fK-hg)/(ci-hg);
if(dD<0)bS=0;else if(dD<1)bS=dD;else if(eF<0)bS=1;else if(eF<1)bS=1-eF;else bS=0;var s=aM.yq(jJ[1]/100);
gx[n]+=bS*jJ[0]/360;lC[n]+=bS*s;g2[n]+=bS*jJ[2]/100}}for(var n=0;n<u;n++){lC[n]=(1+lC[n])*(1+eo)-1;g2[n]=Math.max(-1,Math.min(1,g2[n]))}}var G=T.n(u*4*1,32);
for(var n=0;n<u;n++){G[4*n]=gx[n];G[4*n+1]=aM.aGM(lC[n]);G[4*n+2]=g2[n]}var io=bv[2]/100,la=io<0?-io:io,e9=io<0?0:1;
V={e:e.rE,map:G,aeV:la*e9,aeT:1-la,aOL:bv[2]/100,ac7:dv?1:0}}if(z=="nvrt"){var G=new Float32Array(256);
for(var n=0;n<256;n++)G[n]=1-n/255;V={e:e.ST,jS:G,df:G,Rj:G,_C:!1,yZ:!1}}if(z=="post"){var gM=q.Lvls.v,G=new Float32Array(256),bS=gM/255.001,j7=1/(gM-1);
for(var n=0;n<256;n++)G[n]=Math.floor(n*bS)*j7;V={e:e.ST,jS:G,df:G,Rj:G,_C:!1,yZ:!1}}if(z=="grdm"){var cI=q.Grad.v,dL=q.Rvrs,cf=q.gs99,t=1024,jA=T.Yf.avd(cI,t,dL?dL.v:!1,0,0,cf?cf.v.gradientInterpolationMethodType:"Gcls"),gI=new Float32Array(t),fM=new Float32Array(t),a7=new Float32Array(t);
T.bl(jA,gI,0);T.bl(jA,fM,1);T.bl(jA,a7,2);V={e:e.ST,jS:gI,df:fM,Rj:a7,_C:!0,yZ:!1}}if(z=="selc"){var fv=new Float32Array(9*3*2),fq=q.ov,cu=q.Mthd?q.Mthd.v.CrcM=="Absl":!1;
for(var L=0;L<9;L++){var ac=L*6,hN=a0.Rg(q,L),cQ=hN[0]/100,d_=hN[1]/100,cK=hN[2]/100,cc=hN[3]/100;if(cu){fv[ac]=fv[ac+1]=fv[ac+2]=1;
fv[ac+3]=cQ*(1+cc)+cc;fv[ac+4]=d_*(1+cc)+cc;fv[ac+5]=cK*(1+cc)+cc}else{fv[ac+0]=(1+cQ)*(1+cc);fv[ac+1]=(1+d_)*(1+cc);
fv[ac+2]=(1+cK)*(1+cc)}}V={e:e.FJ,avI:fv}}if(z=="blwh"){var aH="Rd Yllw Grn Cyn Bl Mgnt".split(" "),V=[],fZ=0,g5=0;
for(var n=0;n<6;n++)V.push(q[aH[n]]?q[aH[n]].v:50);V.push(q.useTint.v,q.tintColor.v);var jj=[];for(var n=0;
n<6;n++)jj.push((V[n]-50)/50);var iG=T.Yf.z8(V[7]);iG.l/=255;iG.I/=255;iG.c/=255;var hc=T.Pw(iG.l,iG.I,iG.c),kD=T.w5(T.Yy(hc.Hi,1,.5)),l2=hc.fY*hc.YY;
if(kD==.5)fZ=g5=.5;else{fZ=l2*(.5-kD)/(.5/kD-1);g5=1-l2*(.5-kD)-1/(2*(1-kD));g5/=1-1/(2*(1-kD))}V={e:e.ie,aub:jj,s3:V[6]?1:0,awQ:hc.Hi,w5:kD,axB:l2,JR:fZ,avQ:g5}}if(z=="blnc"){var O=[],d4=["ShdL","MdtL","HghL"];
for(var n=0;n<3;n++){if(q[d4[n]]==null){O[n]=[0,0,0];continue}var gM=q[d4[n]].v,hx=gM[0].v/100,hJ=gM[1].v/100,gU=gM[2].v/100,lg=q.PrsL==null||q.PrsL.v?(Math.min(hx,hJ,gU)+Math.max(hx,hJ,gU))/2:0;
O[n]=[hx-lg,hJ-lg,gU-lg]}var g=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];for(var L=0;
L<3;L++)for(var n=0;n<256;n++){var d=n*(1/255),gW=0,c=0,iF=0;c=O[2][L];iF=Math.abs(c);if(c<0)gW=Math.pow(d,Math.SQRT2);
else gW=1.63*(Math.pow(d+.04,.5)-.2);d=iF*gW+(1-iF)*d;c=O[1][L];iF=Math.abs(c);if(c<0)gW=Math.pow(d,2);
else gW=Math.min(2.35*(Math.pow(d+.09,.5)-.3),Math.pow(d,1/2));d=iF*gW+(1-iF)*d;c=O[0][L];iF=Math.abs(c);
if(c<0)gW=d<.4?0:Math.pow((d-.4)/.6,Math.SQRT2);else gW=Math.pow(d,Math.SQRT2/2);d=iF*gW+(1-iF)*d;d=Math.max(0,Math.min(1,d));
g[L][n]=d}V={e:e.ST,jS:g[0],df:g[1],Rj:g[2],_C:!1,yZ:!1}}if(z=="phfl"){var aO=T.Yf.z8(q.Clr.v),kX=[aO.l/255,aO.I/255,aO.c/255],e3=q.Dnst.v/100,g=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];
for(var L=0;L<3;L++)for(var n=0;n<256;n++){var d=n*(1/255),k5=d*kX[L];k5=Math.max(0,Math.min(1,k5));
d=e3*k5+(1-e3)*d;g[L][n]=d}V={e:e.ST,jS:g[0],df:g[1],Rj:g[2],_C:!1,yZ:q.PrsL.v}}if(z=="thrs"){var G=new Float32Array(256);
for(var n=q.Lvl.v;n<256;n++)G[n]=1;V={e:e.ST,jS:G,df:G,Rj:G,_C:!0,yZ:!1}}if(z=="mixr"){var h0=aM.PJ(q),U=[];
for(var n=0;n<h0.u.length;n++)if(n%5!=3)U.push(h0.u[n]/100);if(h0.JZ){for(var aS=1;aS<3;aS++)for(var d=0;
d<4;d++)U[aS*4+d]=U[d]}V={e:e.g7,Hn:U}}if(z=="rplc"){var jM=q.Mnm.v,bW=q.Mxm.v;V={e:e.Uw,bj:[jM.Lmnc.v,jM.A.v,jM.B.v],p7:[bW.Lmnc.v,bW.A.v,bW.B.v],shift:[q.H.v/360,q.Strt.v/100,q.Lght.v/100],AH:q.Fzns.v/150}}if(z=="clrL"&&q.profile){var hS=new Uint8Array(q.profile.v),ap=ICC.R(hS.buffer),dB=[],f8=17,dB=ICC.U.sampleLUT(ap,f8);
V={e:e.AS,Hm:ICC.U.lutToRGBA32(dB,f8),jD:dB,pm:f8}}var s=q?q.showClipping:null;if(s){var bu=[V.jS,V.df,V.Rj],fO=s.v==1?1/255:253/255;
for(var Z=0;Z<3;Z++)for(var n=0;n<bu[Z].length;n++)bu[Z][n]=bu[Z][n]<fO?0:1}return V};aM.oP=function(z,q){var e=-1;
if(z!="levl"||q==null)e=-1;else if(q.Auto)e=0;else if(q.AuCo)e=1;else if(q.autoBlackWhite)e=2;return e};
aM.jQ={ST:0,rE:1,ni:2,FJ:3,ie:4,g7:5,Uw:6,AS:7};aM.yq=function(z){if(z<0)return z;return Math.pow(Math.tan(Math.PI/2*z),1.3)};
aM.aGM=function(z){if(z<0)return z;z=Math.pow(z,1/1.3);return Math.atan2(z,1)/(Math.PI/2)};aM.vl=function(z,q,e,V){var P=aM.jQ,D=Date.now();
if(ee.$x&&V.D()>300*300&&z.e!=P.ST&&z.e!=P.AS){V=V.Y();V.x=V.y=0;var B=ee.xu(0,V.s,V.T,T.Gx(q));B.set(q);
ee.k$(B,V);B.Nd(V);aM.ej(z,B.kn,B.depth);B.get(e);return}var A=q.length,s=T.Gx(q),a=s==8?255:s==16?65535:1,M=1/a;
if(s==32){q=q.slice(0);T.D2(q)}for(var n=0;n<A;n+=4)e[n+3]=q[n+3];if(z.e==P.AS){var $=z.jD,U=z.pm;ICC.U.applyLUT($,U,q,e);
var A=q.length}if(z.e==P.g7)T.DB.a0q(q,e,z.Hn);if(z.e==P.ie){var o=z.axB,t=z.w5,c=z.JR,H=z.avQ,A=q.length;
for(var n=0;n<A;n+=4){var V=q[n]*M,F=q[n+1]*M,i=q[n+2]*M,X=T.ND(V,F,i),K=0;for(var f=0;f<6;f++)K+=Math.min(1,1.7*(1-X.bY))*X.fY*z.aub[f]*aM.aE9(X.Hi,f*(1/6));
var d=Math.max(0,Math.min(1,X.bY*(1+K)));if(z.s3==1){var L=0;if(d<c)L=d*(.5/t);else if(d<H)L=d+o*(.5-t);
else L=1-(1-d)*.5/(1-t);X.Hi=z.awQ;X.fY=Math.min(1,o+3*o*Math.abs(d-.5*(c+H)));X.bY=L}else{X.Hi=0;X.fY=0;
X.bY=d}var G=T.Yy(X.Hi,X.fY,X.bY);e[n]=G.l*a;e[n+1]=G.I*a;e[n+2]=G.c*a}}if(z.e==P.FJ){var x=z.avI,A=q.length,O=1/255;
for(var n=0;n<A;n+=4){var V=q[n]*O,F=q[n+1]*O,i=q[n+2]*O,X=T.ND(V,F,i),v=Math.max(V,Math.max(F,i)),C=Math.min(V,Math.min(F,i)),S=1-V,j=1-F,w=1-i,u=0,l=0,I=0;
for(var f=0;f<9;f++){var Q=f*6,g=0;if(x[Q]==1&&x[Q+1]==1&&x[Q+2]==1&&x[Q+3]==0&&x[Q+4]==0&&x[Q+5]==0)continue;
var b=S*x[Q]+x[Q+3],p=j*x[Q+1]+x[Q+4],k=w*x[Q+2]+x[Q+5];if(f<6)g=aM.aE9(X.Hi,f*(1/6))*X.fY*2*Math.min(X.bY,1-X.bY);
else if(f==6)g=Math.max(0,C-.5)*2;else if(f==7)g=1-(Math.abs(v-.5)+Math.abs(C-.5));else g=Math.max(0,.5-v)*2;
u+=(Math.max(0,Math.min(1,b))-S)*g;l+=(Math.max(0,Math.min(1,p))-j)*g;I+=(Math.max(0,Math.min(1,k))-w)*g}S=Math.max(0,Math.min(1,S+u));
j=Math.max(0,Math.min(1,j+l));w=Math.max(0,Math.min(1,w+I));V=1-S;F=1-j;i=1-w;e[n]=Math.round(V*255);
e[n+1]=Math.round(F*255);e[n+2]=Math.round(i*255)}}if(z.e==P.ST){T.aBY(q,e,z.jS,z.df,z.Rj,z._C,z.yZ)}if(z.e==P.rE){if(aM.aIl==null){aM.aIl=new Float64Array(1024);
for(var n=0;n<1024;n++)aM.aIl[n]=aM.yq(-1+2*n/1023)}var Y=aM.aIl,R=(z.map.length>>>2)-1,m=z.map;for(var n=0;
n<A;n+=4){var V=q[n]*M,F=q[n+1]*M,i=q[n+2]*M,Z=Math.min(V,F,i),E=Math.max(V,F,i),N=(T.ND(V,F,i).Hi+5e-4)*R,h=0,j5=0,r=N-Math.floor(N),l8=Math.floor(N)*4,aP=Math.min(R*4,l8+4),bS=(1-r)*m[l8]+r*m[aP+0],kR=(1-r)*m[l8+1]+r*m[aP+1],j1=(1-r)*m[l8+2]+r*m[aP+2],K=-j1,f6=Z;
if(0<j1){K=j1;f6=E}var gx=z.aeV+z.aeT*K*f6,lC=z.aeT*(1-K);V=gx+lC*V;F=gx+lC*F;i=gx+lC*i;E=Math.max(V,F,i);
Z=Math.min(V,F,i);j5=(E+Z)*.5;if(E!=Z){var g2=E-Z;h=j5>.5?g2/(2-(E+Z)):g2/(E+Z)}var dv=kR;if(z.ac7==0){kR=Y[Math.floor((1+kR)*511.5)];
dv=Math.min(h*(1+kR),1)}var G=T.Yy(bS,dv,j5);V=G.l;F=G.I;i=G.c;e[n]=V*a;e[n+1]=F*a;e[n+2]=i*a}}if(z.e==P.Uw){T.Yh(q,e);
var bv=new Uint32Array(q.buffer),eo=new Uint32Array(e.buffer),A=bv.length,aL=z.AH,dh=1/aL,eM={eT:z.bj[0],x6:z.bj[1],c:z.bj[2]},kg={eT:z.p7[0],x6:z.p7[1],c:z.p7[2]};
for(var n=0;n<A;n++){var jJ=bv[n],iL=jJ&255,bz=jJ>>>8&255,ks=jJ>>>16&255,V=iL*(1/255),F=bz*(1/255),i=ks*(1/255),gr=jJ>>>24,hg=T.zw(iL,bz,ks),ci=T.aCS(hg,eM,kg,aL,dh);
if(ci==0)continue;var X=T.ND(V,F,i),bS=2+X.Hi+z.shift[0];X.Hi=bS-~~bS;X.fY=Math.max(0,Math.min(1,X.fY+z.shift[1]));
X.bY=Math.max(0,Math.min(1,X.bY+z.shift[2]));var G=T.Yy(X.Hi,X.fY,X.bY);V=(1-ci)*V+ci*G.l;F=(1-ci)*F+ci*G.I;
i=(1-ci)*i+ci*G.c;eo[n]=gr<<24|i*255<<16|F*255<<8|V*255}}if(z.e==P.ni){var fK=z.Lh[0],jN=z.Lh[1],dD=z.Lh[2],K=z.Lh[3],eF=T.DB.Su([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),io=T.DB.TG(eF),la=2.4;
function U(jA){return Math.max(0,Math.min(1,jA))}function e9(jA){return Math.pow(jA,la)}function gM(jA){return Math.pow(jA,1/la)}function j7(V,F,i,jA,jN){V=e9(V);
F=e9(F);i=e9(i);var gI=T.DB.kF(eF,[V,F,i,1]);gI[0]*=dD;gI[1]*=K;gI[2]*=K;gI[1]*=1+jN;gI[2]*=1+jN;var G=T.DB.kF(io,gI);
G[0]=gM(U(G[0]));G[1]=gM(U(G[1]));G[2]=gM(U(G[2]));return G}for(var n=0;n<A;n+=4){var cI=q[n]*M,dL=q[n+1]*M,cf=q[n+2]*M,G=j7(cI,dL,cf,fK,jN);
cI=G[0];dL=G[1];cf=G[2];e[n]=cI*a;e[n+1]=dL*a;e[n+2]=cf*a}}if(s==32){T.$n(e)}};aM.ej=function(z,q,e){ee.xJ.ej(z,q,e==32)};
aM.aE9=function(z,q){var e=T.dy(q,z)*6;return Math.max(0,Math.min(1,e<0?1+e:1-e))};var ak={};ak.s4=function(z){var q=z.filterID.v;
return q>16777215?y.a9n(q):z.Fltr.v.classID};ak.dx=[{j5:"GEfc"},{j5:"LnCr"},{j5:"Adobe Camera Raw Filter"},{j5:"LqFy"},{j5:"VaPo",tL:!0},{Jo:"3D",TE:["lightFilterGradient","Dila"]},{Jo:[24,2],TE:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{Jo:[24,3,11],TE:["blurbTransform","blurbTransform","blurbTransform","blurbTransform","blurbTransform"]},{Jo:[24,4],TE:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{Jo:[24,6],TE:["AdNs","Dspc","DstS","Mdn ","denoise"]},{Jo:[24,8],TE:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl,ShMs".split(",")},{Jo:[24,10],TE:["Flam","Clds","DfrC","Fbrs","LnsF"]},{Jo:[24,12],TE:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{Jo:[24,14],TE:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{Jo:[24,16],TE:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{Jo:"Fourier",TE:["dDFT","iDFT"]}];
ak.$Y={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
ak.n1={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
ak.jc={rigidTransform:W.hC,perspectiveWarpTransform:W.nL,blurbTransform:W.PV};ak.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],perspectiveWarpTransform:"Perspective Warp",blurbTransform:[24,3,11],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],ShMs:"Shape Mosaic",Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
ak.g1=function(z){var q=null;if(z=="GEfc")q={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:gY.g1("GlwE")}]}};
if(z=="LqFy"){var e={xL:5,Hi:5,map:new Float32Array(5*5*2)},V=new Uint8Array(cV.Ft(e)),P=[];for(var n=0;
n<V.length;n++)P.push(V[n]);q={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:P}}}if(z=="rigidTransform"){q={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(z=="perspectiveWarpTransform"){q={__name:"Perspective Warp",classID:"perspectiveWarpTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Md:{t:"enum",v:{perspectiveWarpMode:"layout"}},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:-1014}},Left:{t:"UntF",v:{type:"#Pxl",val:0}},Btom:{t:"UntF",v:{type:"#Pxl",val:3098}},Rght:{t:"UntF",v:{type:"#Pxl",val:3320}}}},vertices:{t:"VlLs",v:[]},warpedVertices:{t:"VlLs",v:[]},quads:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(z=="blurbTransform"){q={__name:"Blur Gallery",classID:"blurbTransform",blurbType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:1e3},Rght:{t:"long",v:1e3}}},blurbOpenPanel:{t:"long",v:3},blurbSaveMaskChannel:{t:"bool",v:!1},blurbHighQuality:{t:"bool",v:!1},blurbPathBlurSpeed:{t:"UntF",v:{type:"#Prc",val:50}},blurbPathBlurTaper:{t:"UntF",v:{type:"#Prc",val:0}},blurbCenteredPathBlur:{t:"bool",v:!0},blurbWidgetList2:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(z=="LnCr")q={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(z=="adaptCorrect")q={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(z=="Dfs ")q={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(z=="Fbrs")q={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(z=="Embs")q={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(z=="oilPaint")q={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(z=="TrcC")q={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(z=="Wnd ")q={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(z=="lightFilterGradient")q={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(z=="boxblur")q={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(z=="GsnB")q={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(z=="Bokh")q={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(z=="MtnB")q={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(z=="RdlB")q={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(z=="surfaceBlur")q={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(z=="denoise")q={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:0}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(z=="Dspl")q={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(z=="Pnch")q={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(z=="Plr ")q={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(z=="Rple")q={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(z=="Shr ")q={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(z=="Sphr")q={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(z=="Twrl")q={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(z=="Wave")q={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(z=="ZgZg")q={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(z=="AdNs")q={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(z=="DstS")q={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(z=="Mdn ")q={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(z=="Clds")q={__name:"Clouds",classID:"Clds",FlRs:{t:"long",v:Math.round(Math.random()*4294967295)}};
if(z=="ClrH")q={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(z=="Crst")q={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(z=="Mztn")q={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(z=="Msc ")q={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(z=="Pntl")q={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(z=="LnsF")q={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(z=="Dthr")q={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(z=="Part")q={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(z=="Adobe Camera Raw Filter")q={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},CrTx:{t:"long",v:0},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(z=="smartSharpen")q={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(z=="UnsM")q={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(z=="HghP")q={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(z=="HsbP")q={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(z=="Mxm ")q={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(z=="Mnm ")q={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(z=="Ofst")q={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(z=="ShMs")q={__name:"Shape Mosaic",classID:"ShMs",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}},Shap:{t:"long",v:0},Sprd:{t:"long",v:0},Mono:{t:"bool",v:!1},Invr:{t:"bool",v:!1}};
if(z=="Kale")q={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(z=="Rept")q={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(z=="Flam")q={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(z=="Ctoa")q={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(z=="brit")q={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(z=="levl")q={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(z=="curv")q={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(z=="expA")q={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(z=="vibA")q={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(z=="hue2")q={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(z=="blnc")q={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(z=="blwh")q={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(z=="phfl")q={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(z=="grdm")q={__name:"Gradient Map",classID:"GrMp",gs99:{t:"enum",v:{gradientInterpolationMethodType:"Gcls"}},Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Grad:JSON.parse(az.j3[6]).Grad};
if(z=="selc")q={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(z=="thrs")q={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(z=="mixr")q={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(z=="clrL")q={__name:"Color Lookup",classID:"colorLookup"};if(z=="post")q={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(z=="rplc")q={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(z=="fade")q={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(z=="aply")q={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(z=="matc"){q={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},"neutralizeColor    ":{t:"bool",v:!1},selectedSourceAreas:{t:"bool",v:!0},SlcA:{t:"bool",v:!0},noReference:{t:"bool",v:!0}}}if(z=="Dila")q={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(z=="blendOptions")q={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return q};ak.bM={sFlam:function(z,q){q[0]=z.Type.v;q[1]=z.Leng.v;q[2]=z.RndL.v;q[3]=z.Widt.v;q[4]=z.Angl.v;
q[5]=z.Intr.v;q[6]=z.Adpt.v;q[7]=z.Clr.v;q[8]=z.Qual.v;q[9]=z.Turb.v;q[10]=z.Jag.v;q[11]=z.Opct.v.val;
q[12]=z.Lins.v;q[13]=z.Botm.v;q[14]=z.Styl.v;q[15]=z.Shap.v;q[16]=z.RnSh.v;q[17]=z.Arng.v},gFlam:function(z,q){z.Type.v=q[0];
z.Leng.v=q[1];z.RndL.v=q[2];z.Widt.v=q[3];z.Angl.v=q[4];z.Intr.v=q[5];z.Adpt.v=q[6];z.Clr.v=q[7];z.Qual.v=q[8];
z.Turb.v=q[9];z.Jag.v=q[10];z.Opct.v.val=q[11];z.Lins.v=q[12];z.Botm.v=q[13];z.Styl.v=q[14];z.Shap.v=q[15];
z.RnSh.v=q[16];z.Arng.v=q[17]},sAdNs:function(z,q){q[0]=z.Nose.v.val;q[1]=["Gsn","Unfr"].indexOf(z.Dstr.v.Dstr);
q[2]=z.Mnch.v},gAdNs:function(z,q){z.Nose.v.val=q[0];z.Dstr.v.Dstr=["Gsn","Unfr"][q[1]];z.Mnch.v=q[2]},sDstS:function(z,q){q[0]=z.Rds.v;
q[1]=z.Thsh.v},gDstS:function(z,q){z.Rds.v=q[0];z.Thsh.v=q[1]},sGsnB:function(z,q){q[0]=z.Rds.v.val},gGsnB:function(z,q){z.Rds.v.val=q[0]},sDila:function(z,q){q[0]=z.Crop.v.val;
q[1]=z.Rds.v.val},gDila:function(z,q){z.Crop.v.val=q[0];z.Rds.v.val=q[1]},sHghP:function(z,q){q[0]=z.Rds.v.val},gHghP:function(z,q){z.Rds.v.val=q[0]},sHsbP:function(z,q){var e=["RGBC","HSBl","HSLC"];
q[0]=e.indexOf(z.Inpt.v.ClrS);q[1]=e.indexOf(z.Otpt.v.ClrS)},gHsbP:function(z,q){var e=["RGBC","HSBl","HSLC"];
z.Inpt.v.ClrS=e[q[0]];z.Otpt.v.ClrS=e[q[1]]},"sMxm ":function(z,q){var e="preserveShape";q[0]=z.Rds.v.val;
q[1]=z[e]?["squareness","Rndn"].indexOf(z[e].v[e]):0},"gMxm ":function(z,q){var e="preserveShape";z.Rds.v.val=q[0];
z[e]={t:"enum",v:{preserveShape:["squareness","Rndn"][q[1]]}}},"sMnm ":function(z,q){var e="preserveShape";
q[0]=z.Rds.v.val;q[1]=z[e]?["squareness","Rndn"].indexOf(z[e].v[e]):0},"gMnm ":function(z,q){var e="preserveShape";
z.Rds.v.val=q[0];z[e]={t:"enum",v:{preserveShape:["squareness","Rndn"][q[1]]}}},sMtnB:function(z,q){q[0]=[z.Angl.v];
q[1]=z.Dstn.v.val;console.log(q)},gMtnB:function(z,q){z.Angl.v=typeof q[0]=="number"?q[0]:q[0][0];z.Dstn.v.val=q[1]},sOfst:function(z,q){q[0]=z.Hrzn.v;
q[1]=z.Vrtc.v;q[2]=["Rpt","Bckg","Wrp"].indexOf(z.Fl.v.FlMd)},gOfst:function(z,q){z.Hrzn.v=q[0];z.Vrtc.v=q[1];
z.Fl.v.FlMd=["Rpt","Bckg","Wrp"][q[2]]},sPnch:function(z,q){q[0]=z.Amnt.v},gPnch:function(z,q){z.Amnt.v=q[0]},"sPlr ":function(z,q){q[0]=["RctP","PlrR"].indexOf(z.Cnvr.v.Cnvr)},"gPlr ":function(z,q){z.Cnvr.v.Cnvr=["RctP","PlrR"][q[0]]},sRple:function(z,q){q[0]=z.Amnt.v;
q[1]=["Sml","Mdm","Lrg"].indexOf(z.RplS.v.RplS)},gRple:function(z,q){z.Amnt.v=q[0];z.RplS.v.RplS=["Sml","Mdm","Lrg"][q[1]]},sTwrl:function(z,q){q[0]=z.Angl.v},gTwrl:function(z,q){z.Angl.v=q[0]},sZgZg:function(z,q){q[0]=z.Amnt.v;
q[1]=z.NmbR.v;q[2]=["ArnC","OtFr","PndR"].indexOf(z.ZZTy.v.ZZTy)},gZgZg:function(z,q){z.Amnt.v=q[0];
z.NmbR.v=q[1];z.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][q[2]]},sUnsM:function(z,q){q[0]=z.Amnt.v.val;q[1]=z.Rds.v.val;
q[2]=z.Thsh.v},gUnsM:function(z,q){z.Amnt.v.val=q[0];z.Rds.v.val=q[1];z.Thsh.v=q[2]},sWave:function(z,q){q[0]=z.NmbG.v;
q[1]=z.WLMn.v;q[2]=z.WLMx.v;q[3]=z.AmMn.v;q[4]=z.AmMx.v;q[5]=z.SclH.v;q[6]=z.SclV.v;q[7]=["WvSn","WvTr","WvSq"].indexOf(z.Wvtp.v.Wvtp);
q[8]=["WrpA","RptE"].indexOf(z.UndA.v.UndA);q[9]=z.RndS.v},gWave:function(z,q){z.NmbG.v=q[0];z.WLMn.v=q[1];
z.WLMx.v=q[2];z.AmMn.v=q[3];z.AmMx.v=q[4];z.SclH.v=q[5];z.SclV.v=q[6];z.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][q[7]];
z.UndA.v.UndA=["WrpA","RptE"][q[8]];if(q[9]!=null){var e=parseInt(q[9]);if(isNaN(e))e=248325464;e=Math.max(0,Math.min(268435455,e));
z.RndS.v=e}},sDspl:function(z,q){q[0]=z.HrzS.v;q[1]=z.VrtS.v;q[2]=0;q[3]=["WrpA","RptE"].indexOf(z.UndA.v.UndA)},gDspl:function(z,q){z.HrzS.v=q[0];
z.VrtS.v=q[1];z.UndA.v.UndA=["WrpA","RptE"][q[3]];z.DspF.v.pth=q[4]},sbrit:function(z,q){q[0]=z.Brgh?z.Brgh.v:0;
q[1]=z.Cntr?z.Cntr.v:0;q[2]=z.useLegacy?z.useLegacy.v:!1},gbrit:function(z,q){z.Brgh.v=q[0];z.Cntr.v=q[1];
if(q[2]!=null)z.useLegacy.v=q[2]}};ak.aKw=function(z){var q=new f5(0,0);if(z.enab.v==!1)return q;var e=z.filterFXList.v;
for(var n=0;n<e.length;n++){var V=e[n].v;if(V.enab.v==!1)continue;var P=ak.s4(V),D=ak.KZ(P,V.Fltr?V.Fltr.v:null);
if(D.x>q.x)q.x=D.x;if(D.y>q.y)q.y=D.y}return q};ak.KZ=function(z,q){var e=0,V=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(z)!=-1){var P=q.Rds?q.Rds.v.val:1;
e=V=P*2.57}if(z=="MtnB")e=V=q.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,blurbTransform,perspectiveWarpTransform,Frgm,Flam".split(",").indexOf(z)!=-1){e=V=1e4}if(z=="GEfc")return gY.KZ(q);
return new f5(Math.ceil(e),Math.ceil(V))};ak.Ea=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
ak.Zq=function(z,q){var e={l:q.pQ>>16,I:q.pQ>>8&255,c:q.pQ&255},V={l:q.Cp>>16,I:q.Cp>>8&255,c:q.Cp&255},P=ak.names[z];
if(P==null)P=aM.names[z];var D=z;for(var B in aM.Ij)if(aM.Ij[B]==z)D=B;var A={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:iE.get(P)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:T.Yf.e8(e)},BckC:{t:"Objc",v:T.Yf.e8(V)},filterID:{t:"long",v:D.length==4?y.aqB(D):777}}},s=ak.g1(z);
if(s)A.v.Fltr={t:"Objc",v:s};return A};ak.on=function(z,q,e,V){var P=Date.now(),D=ee.$x&&Math.max(V.s,V.T)<=ee.YI.getParameter(ee.YI.MAX_TEXTURE_SIZE),B=T.Gx(e);
if(z<1){var A=Math.round(z*5),s=[1,2,1,2,[40,26,13,6,4,2][A],2,1,2,1];s=T.WZ.zt(s);if(!D){T.ak(e);var a=e.slice(0);
T.WZ.SR(a,e,V.s,V.T,s,!0);T.Od(e)}else{var M=V.s,$=V.T,U=ee.xu(0,M,$,B);U.set(e);var o=ee.xu(1,M,$,B),t=new Float32Array([1/M,1/$]);
ee.k$(o);ee.filter.ej({e:ee.filter.ad$,Wk:t,a7C:new Float32Array(s)},U.nj);o.get(e)}}else{var c=[];while(q!=2&&z*[1,2.4][q]>20&&c.length<4){var H=T.W6(e,V);
c.push(e,V);e=H.Dm;V=H.V;z/=2}var M=V.s,$=V.T;if(!D||q==2&&z>15){T.ak(e);if(q==0)T.BJ.as4(e,V,z);if(q==1)T.BJ.arI(e,V,z);
if(q==2)T.BJ.abG(e,V,z);T.Od(e)}else{var U=ee.xu(0,M,$,B);U.set(e);var o=ee.xu(1,M,$,B),t=new Float32Array([1/M,1/$]);
if(q==0){var F=1;while(F<z)F<<=1;ee.k$(o);ee.filter.ej({e:ee.filter.mM,Wk:t,zr:z,ee:[0,0,F]},U.nj);ee.k$(U);
ee.filter.ej({e:ee.filter.mM,Wk:t,zr:z,ee:[0,1,F]},o.nj);U.get(e)}else if(q==1){var i=3,X=T.BJ.a6Q(z,i);
for(var n=0;n<i;n++){var K=X[n]>>>1,f=1;while(f<K)f<<=1;if(K==0)continue;ee.k$(o);ee.filter.ej({e:ee.filter.mM,Wk:t,zr:K,ee:[0,0,f]},U.nj);
ee.k$(U);ee.filter.ej({e:ee.filter.mM,Wk:t,zr:K,ee:[0,1,f]},o.nj)}U.get(e)}else{var F=1;while(F<z)F<<=1;
ee.k$(o);ee.filter.ej({e:ee.filter.mM,Wk:t,zr:z,ee:[0,0,F]},U.nj);o.get(e)}}var d=Date.now();while(c.length!=0){var L=c.pop(),G=c.pop();
T.scale.a5l(e,V.s,V.T,G,L.s,L.T);e=G;V=L}}};ak.a6m=function(z,q,e,V){for(var n=0;n<z.length;n++){e[n]=z[n]*(1/255);
V[n]=0}FFT.fft2d(e,V);var P=q>>>1,D=16384,B=128,s=100;while(B<q){B<<=1;D<<=2}var A=255/Math.log(D),a=-100;
for(var M=0;M<q;M++)for(var $=0;$<P;$++){var U=q+P+M&q-1,o=e[U*q+$],t=V[U*q+$],c=Math.sqrt(o*o+t*t),H=Math.atan2(t,o);
z[M*q+$]=Math.round(A*Math.log(c+1));z[M*q+P+$]=Math.round((Math.PI+H)*(255*.5/Math.PI))}};ak.avf=function(z,q,e,V){e.fill(0);
V.fill(0);var P=q>>>1,D=16384,B=128;while(B<q){B<<=1;D<<=2}var A=255/Math.log(D),s=[],a=[],M=[];for(var n=0;
n<256;n++){s[n]=Math.exp(n/A)-1;var $=n*(2*Math.PI/255)-Math.PI;a[n]=Math.sin($);M[n]=Math.cos($)}for(var U=0;
U<q;U++)for(var o=0;o<P;o++){var t=q+P+U&q-1,c=s[z[U*q+o]],$=z[U*q+P+o],H=c*M[$],F=c*a[$];e[t*q+o]=H;
V[t*q+o]=F;if(o!=0){var i=t==0?t*q+q-o:(q-t)*q+(q-o);e[i]=H;V[i]=-F}}FFT.ifft2d(e,V);for(var n=0;n<z.length;
n++){z[n]=Math.max(0,Math.min(255,~~(.5+255*e[n])))}};ak.a9H=new ArrayBuffer(512);ak.azt=function(z){var q=ak.a9H,e=z.length;
if(q.byteLength<e)ak.a9H=q=new ArrayBuffer(e);var V=new Uint8Array(q);for(var n=0;n<e;n+=4){V[n]=z[n];
V[n+1]=z[n+1];V[n+2]=z[n+2];V[n+3]=z[n+3]}return q};ak.vl=function(z,q,e,V,P,D,B){var A,s,M=T.Gx(q.buffer);
if(D==null)D={buffer:T.n(q.buffer.length,M),V:q.V.Y()};D.buffer.set(q.buffer);var $="Blr ,BlrM,Shrp,ShrM,GsnB,boxblur,smartSharpen,UnsM,HghP,Ofst".split(","),U=M!=8&&$.indexOf(z)==-1;
if(U){A=q.buffer;s=D.buffer;q.buffer=T.EZ(A,8);D.buffer=T.EZ(s,8)}D=ak.aFh(z,q,e,V,P,D,B);if(U){q.buffer=A;
T.EZ(D.buffer,M,s);D.buffer=s}return D};ak.aFh=function(z,q,e,V,P,D,B){var A=e&&e.RndS?e.RndS.v>>>1:0,s=T.Gx(q.buffer),M=T.K8(s);
if(z=="GEfc"){var $=[];if(e.GEfs){var U=e.GEfs.v;for(var n=0;n<U.length;n++){var o=U[n].v;if(o.GELv&&o.GELv.v==!1)continue;
$.push(o)}}else $=[e];for(var n=0;n<$.length;n++){var t;if(n==0)gY.vl(z,q,$[n],V,P,D,B);else{if(t==null)t={buffer:T.n(q.buffer.length),V:q.V.Y()};
T.Yh(D.buffer,t.buffer);gY.vl(z,t,$[n],V,P,D,B)}}}if(z=="Dila"){var c=e.Crop.v.val,H=e.Rds.v.val+c;H=H*H;
if(H==0)return;var F=q.V,i=F.s,X=F.T,K=i*X,f=q.buffer,t=D.buffer,d=T.n(K);T.bl(f,d,3);if(c!=0){var L=F.Y();
L.Gm(1,1);var G=T.n(L.D());T.KY(d,F,G,L);T.TG(G);T.style.stroke(G,G,L,c);T.TG(G);T.KY(G,L,d,F)}var x=T.style.jt(d,i,X);
t.fill(0);for(var O=0;O<X;O++)for(var v=0;v<i;v++){var n=O*i+v,C=n<<1,S=n<<2,j=x[C],w=x[C+1];if(j*j+w*w<H){var u=(O+w)*i+(v+j)<<2;
t[S]=f[u];t[S+1]=f[u+1];t[S+2]=f[u+2];t[S+3]=255}}}if(z=="Adobe Camera Raw Filter"){var F=q.V,i=F.s,X=F.T,l=T.EZ(q.buffer,32),I=T.G(e);
delete I.Upri;delete I.GuUr;cU(l,i,X,l,I);T.EZ(l,8,D.buffer)}if(z=="Fct "){var F=q.V,i=F.s,X=F.T,K=i*X,Q=K*4;
function b(eb){var ks=eb.slice(0);for(var O=0;O<3;O++)for(var v=0;v<3;v++)ks[O*3+v]=eb[(2-v)*3+O];return ks}function p(ez,g_,dF,h1){var iI=0;
for(var O=0;O<3;O++)for(var v=0;v<3;v++)iI+=g_[O*3+v]*ez[(h1-1+O)*i+dF-1+v];return iI}var k=[8,5,2,5,2,-1,2,-1,-4],g=[5,5,5,2,2,2,-1,-1,-1],Y=[2,2,2,2,2,2,2,2,2],R=[];
R.push(k);for(var n=0;n<3;n++)R.push(b(R[R.length-1]));R.push(g);for(var n=0;n<3;n++)R.push(b(R[R.length-1]));
R.push(Y);for(var n=0;n<9;n++)R[n]=T.WZ.zt(R[n]);var m=[-i-1,-i,-i+1,-1,0,1,i-1,i,i+1],Z=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],E=T.n(K),N=new Float32Array(K),h=T.n(K);
for(var j5=0;j5<3;j5++){T.bl(q.buffer,E,j5);for(var r=0;r<1;r++){for(var O=1;O<X-1;O++)for(var v=1;v<i-1;
v++){var l8=O*i+v,aP=E[l8];N[l8]=1e9;for(var n=0;n<9;n++){var bS=p(E,R[n],v,O),kR=(bS-aP)*(bS-aP);if(kR<N[l8])N[l8]=kR}}for(var O=1;
O<X-1;O++)for(var v=1;v<i-1;v++){var j1=0,f6=1e9;for(var n=0;n<9;n++){var gx=O*i+v+m[n],kR=N[gx];if(kR<f6){f6=kR;
j1=E[gx]}}h[O*i+v]=j1}E.set(h)}T.yR(h,D.buffer,j5)}}if(z=="adaptCorrect"){var F=q.V,i=F.s,X=F.T,K=i*X,Q=K*4,lC=e.sdwM.v,g2=lC.Amnt.v.val/100,dv=lC.Wdth.v.val/100,bv=lC.Rds.v,eo=e.hglM.v,aL=eo.Amnt.v.val/100,dh=eo.Wdth.v.val/100,eM=eo.Rds.v;
T.aww.eM(q.buffer,D.buffer,i,X,g2,dv,bv,aL,dh,eM,e.ClrC.v/100,e.Cntr.v/100)}if(z=="denoise"){var F=q.V,i=F.s,X=F.T,kg=e.channelDenoise.v[0].v;
T.vT.a43(q.buffer,i,X,D.buffer,kg.Amnt.v/10,kg.EdgF.v/100,e.ClNs.v.val/100)}if(z=="HsbP"){var jJ=e.Inpt.v.ClrS,iL=e.Otpt.v.ClrS,F=q.V,i=F.s,X=F.T,K=i*X;
for(var n=0;n<K;n++){var S=n*4,r=q.buffer[S]*(1/255),bz=q.buffer[S+1]*(1/255),ks=q.buffer[S+2]*(1/255);
if(jJ=="RGBC"){}else if(jJ=="HSLC"){var h=T.Yy(r,bz,ks);r=h.l;bz=h.I;ks=h.c}else if(jJ=="HSBl"){var h=T.aGW(r,bz,ks);
r=h.l;bz=h.I;ks=h.c}var gr=r,hg=bz,ci=ks;if(iL=="RGBC"){}else if(iL=="HSLC"){var h=T.ND(r,bz,ks);gr=h.Hi;
hg=h.fY;ci=h.bY}else if(iL=="HSBl"){var h=T.ajY(r,bz,ks);gr=h.Hi;hg=h.fY;ci=h.c}D.buffer[S]=~~(255*gr);
D.buffer[S+1]=~~(255*hg);D.buffer[S+2]=~~(255*ci)}}if(z=="Fbrs"){var F=q.V,i=F.s,X=F.T;T.P.aKW(q.buffer,i,X,D.buffer,[e.Vrnc.v,e.Strg.v,A]);
var fK=T.n(i*X);T.bl(D.buffer,fK,0);T.TG(fK);gY.aN(fK,D.buffer,V,P)}if(z=="Frgm"){var F=q.V,i=F.s,X=F.T,jN=q.buffer.slice(0);
T.ak(jN);T.P.aMP(jN,i,X,D.buffer);T.Od(D.buffer)}if(z=="Flam"){var F=q.V,i=F.s,X=F.T,dD=e.Clr.v,eF={e:e.Type.v+1,length:e.Leng.v,aOy:e.RndL.v,AO:e.Widt.v,afU:e.Angl.v,aMi:e.Intr.v,ab1:e.Adpt.v,color:{l:dD.Rd.v,I:dD.Grn.v,c:dD.Bl.v},aG:e.Qual.v+1,Y3:e.Turb.v,awP:e.Jag.v,vz:e.Opct.v.val,p1:e.Lins.v,ahl:e.Botm.v,style:e.Styl.v+1,shape:e.Shap.v+1,axX:e.RnSh.v,alx:e.Arng.v,aiS:!1};
if(B[3]==null)return;var io=B[3],la=io[0],e9=io[1],gM=la[e9.length!=0?e9[0]:0];if(gM==null){alert("Make a path first");
return}var j7=gM.add.vmsk.B,cI=T.S.S2(j7),dL=[];for(var u=0;u<cI;u++){var cf=T.S.ha(j7,u),jA=j7[cf];
if(jA.length<2)continue;var gI=[];dL.push(gI);var fM=jA.length-(jA.e==3?1:0);for(var l8=0;l8<fM;l8++){var a7=j7[cf+1+l8],k6=l8==jA.length-1?j7[cf+1]:j7[cf+1+l8+1],fv=a7.O0,fq=a7.kS,k=k6.li,cu=k6.O0,ac=Math.round(f5.h5(fv,cu)/5);
for(var hN=0;hN<ac;hN++){var cQ=hN/ac,d_=1-cQ,v=d_*d_*d_*fv.x+3*d_*d_*cQ*fq.x+3*d_*cQ*cQ*k.x+cQ*cQ*cQ*cu.x,O=d_*d_*d_*fv.y+3*d_*d_*cQ*fq.y+3*d_*cQ*cQ*k.y+cQ*cQ*cQ*cu.y;
gI.push(v,O)}}}var cK=[dL,eF],cc=Date.now(),aH=gQ(cK);eW(q.buffer,i,X,D.buffer,aH,cK)}if(z=="Dfs "){var F=q.V,i=F.s,X=F.T,jj=["Nrml","DrkO","LghO","anisotropic"].indexOf(e.Md.v.DfsM);
if(jj<3)T.P.aOD(q.buffer,i,X,D.buffer,[jj]);else{var cK=[1.4,1.6,1,4,!1,2,[0,0,.001]],F=q.V.Y();F.x=F.y=0;
T.f_.filter(q.buffer,F,D.buffer,cK)}}if(z=="TrcC"){var F=q.V,i=F.s,iG=i<<2,X=F.T,hc=e.Lvl.v,kD=e.Edg.v.CntE=="Lwr",l2=q.buffer,fZ=D.buffer;
T.gf(fZ,1,1,1);function g5(lw,aN){hx(lw,aN);hx(lw+1,aN+1);hx(lw+2,aN+2)}function d4(lw,aN){hJ(lw,aN);
hJ(lw+1,aN+1);hJ(lw+2,aN+2)}function hx(lw,aN){var gr=l2[lw],hg=l2[aN];if(gr>=hc&&hg<hc)fZ[lw]=0;if(gr<hc&&hg>=hc)fZ[aN]=0}function hJ(lw,aN){var gr=l2[lw],hg=l2[aN];
if(gr>hc&&hg<=hc)fZ[aN]=0;if(gr<=hc&&hg>hc)fZ[lw]=0}if(kD)for(var O=1;O<X;O++)for(var v=1;v<i;v++){var S=O*i+v<<2;
g5(S,S-4);g5(S,S-iG)}else for(var O=1;O<X;O++)for(var v=1;v<i;v++){var S=O*i+v<<2;d4(S,S-4);d4(S,S-iG)}}if(z=="Embs"){var F=q.V,i=F.s,X=F.T,gU=-e.Angl.v*Math.PI/180,lg=e.Hght.v,gW=e.Amnt.v/100;
lg/=2;var j=Math.cos(gU)*lg,w=Math.sin(gU)*lg,l2=q.buffer,fZ=D.buffer;fZ.fill(0);var iF=new Uint32Array(l2.buffer),h=new Uint8Array(4),aO=new Uint32Array(h.buffer);
for(var O=0;O<X;O++)for(var v=0;v<i;v++){var kX=0,e3=0,k5=0;if(0<=v+j&&v+j<i&&0<=O+w&&O+w<X){T.O.Yw(v+j+.5,O+w+.5,iF,i,X,aO,0,0);
kX+=h[0]-128;e3+=h[1]-128;k5+=h[2]-128}if(0<=v-j&&v-j<i&&0<=O-w&&O-w<X){T.O.Yw(v-j+.5,O-w+.5,iF,i,X,aO,0,0);
kX-=h[0]-128;e3-=h[1]-128;k5-=h[2]-128}var S=O*i+v<<2;fZ[S]=Math.max(0,Math.min(255,kX*gW+128));fZ[S+1]=Math.max(0,Math.min(255,e3*gW+128));
fZ[S+2]=Math.max(0,Math.min(255,k5*gW+128));fZ[S+3]=l2[S+3]}}if(z=="ShrE"){var F=q.V,i=F.s,X=F.T;T.P.a7d(q.buffer,i,X,D.buffer)}if(z=="Dspc"){var F=q.V,i=F.s,X=F.T;
T.P.a2C(q.buffer,i,X,D.buffer)}if(z=="Slrz"){var h0=D.buffer,aS=128;for(var n=0;n<h0.length;n+=4){if(h0[n]>aS)h0[n]=255-h0[n];
if(h0[n+1]>aS)h0[n+1]=255-h0[n+1];if(h0[n+2]>aS)h0[n+2]=255-h0[n+2]}}if(z=="Wnd "){var F=q.V,i=F.s,X=F.T,jM=["Wnd","Blst","Stgr"],bW=e.WndM.v.WndM;
T.P.rF(q.buffer,i,X,D.buffer,[jM.indexOf(bW),e.Drct.v.Drct!="Left"])}if(z=="Bokh"){var F=q.V,i=F.s,X=F.T,K=i*X,Q=K*4,hS=q.buffer.slice(0),ap=e.BkDi.v.BtDi,dB=e.BkDc,f8=e.BkDs.v,bu=e.BkDp.v/255;
if(ap=="BeIn")bu=0;var fO=57*(.3+.7*((i+X)/2)/1750)*(e.BkIb.v/100)*(1+.2*Math.pow(bu,.1)),hE=parseInt(e.BkIs.v.BtIs.slice(3)),iQ=-e.BkIr.v*Math.PI/180,gb=[];
for(var n=0;n<8;n++){var k9=iQ+n*(Math.PI*2/hE),e2=iQ+(n+1)*(Math.PI*2/hE),cB=Math.cos(k9),iY=Math.sin(k9),e_=Math.cos(e2),fL=Math.sin(e2),jI=[0,0,0];
T.Hn.Xd([[cB,iY,1,0],[e_,fL,1,0],[1,1,1,1]],jI);if(jI[2]>0){jI[0]*=-1;jI[1]*=-1;jI[2]*=-1}gb.push(jI[0],jI[1],jI[2],0)}if(ap=="BeIn"){T.yS(hS,0);
bu=1}else if(ap=="BeIt"&&dB.v.BtDc=="BeCt"){}else{var gi;if(ap=="BeIt"&&dB.v.BtDc=="BeCm")gi=B[1];else if(ap=="BeIa")gi=B[2][dB.v];
if(gi==null){T.yS(hS,0)}else{var E;if(gi.V.bs(F))E=gi.o;else E=gi.Xp(F);T.yR(E,hS,3)}}if(f8)for(var n=0;
n<Q;n+=4)hS[n+3]=255-hS[n+3];if(ee.$x){var hu=hS,bk=i,lG=X,h8=1,iR=(e.BkSb.v==0||e.BkSt.v==255)&&ap=="BeIn";
if(!iR){var bm=0;for(var n=0;n<Q;n+=4)bm+=Math.abs(bu-hS[n+3]*(1/255));bm=bm/K*fO;var bL=3.14*bm*bm*i*X/3e6;
if(bL>2e3){alert("too large radius");return}}while(iR&&3*(fO/h8)*(fO/h8)*i*X>500*2e3*2e3){var je=T.aIh(hS,new kk(0,0,bk,lG));
hS=je.Dm;bk=je.V.s;lG=je.V.T;h8*=2}var cc=Date.now(),f=ee.xu(0,bk,lG);f.set(hS);var ea=ee.xu(1,i,X);
ee.k$(ea);ee.filter.ej({e:ee.filter.a34,Wk:new Float32Array([1/bk,1/lG]),aH5:bu,ZS:fO/h8,aAP:new Float32Array([e.BkSb.v/100,e.BkSt.v/255]),atJ:new Float32Array([e.BkNa.v/100,e.BkNt.v.BtNt=="BeNu"?0:1,e.BkNm.v?1:0]),a6B:new Float32Array(gb.slice(0,16)),anK:new Float32Array(gb.slice(16))},f.nj);
ea.get(D.buffer);var hU=D.buffer;for(var n=0;n<Q;n+=4)hU[n+3]=q.buffer[n+3]}}if(z=="blurbTransform"){T.XR.apply(e,q,D)}if(z=="rigidTransform"){var cc=Date.now(),fn=ak.azt,f=q.buffer.slice(0),f9=0,dq=0;
T.ak(f);var i=q.V.s,X=q.V.T,hi=e.puppetShapeList.v,lF=[],iZ=[],dY=[],fI=[];for(var l8=0;l8<hi.length;
l8++){var g$=hi[l8].v,C=f9*2,aq=dq*3,aD=g$.originalVertexArray.v.length>>>2,b1=g$.indexArray.v.length>>>2,hC=new Float32Array(fn(g$.originalVertexArray.v));
for(var n=0;n<aD;n++)lF[C+n]=hC[n];var dx=new Float32Array(fn(g$.deformedVertexArray.v));for(var n=0;
n<aD;n++)iZ[C+n]=dx[n];var eP=new Uint32Array(fn(g$.indexArray.v));for(var n=0;n<b1;n++)dY[aq+n]=f9+eP[n];
var d3=[],a$=[],bM=g$.PnDp.v;for(var n=0;n<bM.length;n++){d3.push(g$.pinVertexIndices.v[n].v);a$.push(bM[n].v)}var dR=T.L0.a4R(hC,eP,d3,a$);
for(var n=0;n<dR.length;n++)fI[f9+n]=dR[n];f9+=aD>>>1;dq+=~~(b1/3)}var c6=new e5(1,0,0,1,-q.V.x,-q.V.y);
T.R.v(lF,c6,lF);T.R.v(iZ,c6,iZ);D.buffer.fill(0);T.L0.lk(f,i,X,D.buffer,i,X,lF,iZ,fI,dY);T.Od(D.buffer)}if(z=="perspectiveWarpTransform"){var h2=T.O8.aLG(e);
if(h2.Ml==0){D.buffer.set(q.buffer);return}var fE=h2.J0,gy=h2.Ej,eu=h2.Hr,kX=q.V,iC=D.V;D.buffer.fill(0);
var cA=new e5;cA.translate(-iC.x,-iC.y);function jq(g_,bi,n,r){var lw=bi[n]*2,aN=bi[n+1]*2,bU=bi[n+2]*2,eX=bi[n+3]*2;
return T.O.AX([g_[lw],g_[lw+1],g_[aN],g_[aN+1],g_[bU],g_[bU+1],g_[eX],g_[eX+1]],r)}if(fE.length==4){var kI=jq(gy,fE,0),i6=jq(eu,fE,0),ez=T.O.yW(i6,T.O.TG(kI)),c7=W.On.Nv([q.buffer,kX],1,ez,null,null,D.V,!1);
if(c7)T.aF(c7.buffer,c7.V,D.buffer,D.V)}else{var cn=[],an=[],hT=[];for(var n=0;n<fE.length;n+=4){var kI=jq(gy,fE,n),i6=jq(eu,fE,n),ah=[],bn=24,ge=1/(bn-1),kp=an.length>>>1;
for(var O=0;O<bn;O++)for(var v=0;v<bn;v++){ah.push(v*ge,O*ge);if(v<bn-1&&O<bn-1)cn.push(kp+O*bn+v,kp+O*bn+v+1,kp+(O+1)*bn+v+1,kp+O*bn+v,kp+(O+1)*bn+v+1,kp+(O+1)*bn+v)}var fv=ah.slice(0);
T.O.v(kI,fv);an=an.concat(fv);var fq=ah.slice(0);T.O.v(i6,fq);hT=hT.concat(fq)}T.R.v(an,cA,an);T.R.v(hT,cA,hT);
var cc=Date.now();T.L0.lk(q.buffer,kX.s,kX.T,D.buffer,iC.s,iC.T,an,hT,null,cn)}}if(z=="lightFilterGradient"){function bZ(fv){var kp=1/Math.sqrt(fv[0]*fv[0]+fv[1]*fv[1]+fv[2]*fv[2]);
fv[0]*=kp;fv[1]*=kp;fv[2]*=kp}var i=q.V.s,X=q.V.T,K=i*X,cc=Date.now(),lf=T.n(K),hg=.3,ci=.7;T.tI(D.buffer,lf);
var bY=lf.slice(0);T.BJ.uR(bY,D.V,16);var fr=lf.slice(0);T.BJ.uR(fr,D.V,8);var kz=lf,h7=new Float32Array(K),kJ=e.Dtl.v,cq=kJ[2].v,bq=kJ[1].v,b$=kJ[0].v,iI=e.Scl.v*40*e.textureScale.v/(cq+bq+b$);
cq*=iI;bq*=iI;b$*=iI;for(var n=0;n<K;n++){var le=bY[n]*(1/255),aT=fr[n]*(1/255),f7=kz[n]*(1/255);f7=f7*f7;
h7[n]=cq*le+bq*aT+b$*f7}var eh=e.blur.v;if(eh!=0){T.BJ.uR(h7,D.V,eh)}var al=i-1,d7=X-1;for(var O=0;O<X;
O++)for(var v=0;v<i;v++){var n=O*i+v,S=n*4,k3=h7[n],j=hg*(h7[n+(v==al?0:1)]-k3)+ci*(k3-h7[n-(v==0?0:1)]),w=hg*(h7[n+(O==d7?0:i)]-k3)+ci*(k3-h7[n-(O==0?0:i)]),fv=[1,0,j],fq=[0,1,w];
bZ(fv);bZ(fq);var e2=fv[0],bp=fv[2],gS=fq[1],c0=fq[2],ce=-bp*gS,fB=-e2*c0,ki=e2*gS;D.buffer[S]=~~(127.5+ce*127.5);
D.buffer[S+1]=~~(127.5+fB*127.5);D.buffer[S+2]=~~(127.5+ki*127.5)}}if(z=="defr"){var i=q.V.s,X=q.V.T;
kA(q.buffer,i,X,D.buffer)}if(z=="dDFT"||z=="iDFT"){function iu(hE){if(hE==0)return 1;hE--;hE|=hE>>1;
hE|=hE>>2;hE|=hE>>4;hE|=hE>>8;hE|=hE>>16;return hE+1}var i=q.V.s,X=q.V.T,a6=iu(Math.max(i,X)),f$=a6>>>1,e$=new kk(0,0,a6,a6),bJ=new kk(0,0,i,X);
bJ.y=a6-X>>>1;var aV=i>>>1,hm=new kk(0,bJ.y,aV,X),j6=new T.ZU(i*X);T.B9(q.buffer,j6);var dr=new Float64Array(a6*a6),f3=new Float64Array(a6*a6),E=T.n(a6*a6);
FFT.init(a6);var cF=[j6.l,j6.I,j6.c];for(var n=0;n<3;n++){var fS=cF[n];E.fill(0);if(z=="dDFT"){T.KY(fS,bJ,E,e$);
ak.a6m(E,a6,dr,f3);T.KY(E,e$,fS,bJ,hm);hm.x+=aV;e$.x-=f$-aV;T.KY(E,e$,fS,bJ,hm);hm.x-=aV;e$.x+=f$-aV}else{T.KY(fS,bJ,E,e$,hm);
hm.x+=f$;bJ.x+=f$-aV;T.KY(fS,bJ,E,e$,hm);hm.x-=f$;bJ.x-=f$-aV;ak.avf(E,a6,dr,f3);T.KY(E,e$,fS,bJ)}}T.cO(j6,D.buffer)}if(z=="Avrg"){var gP=0,jm=0,kG=0,h_=0,iH=1;
for(var n=0;n<q.buffer.length;n+=4){var d=q.buffer[n+3];gP+=q.buffer[n]*d;jm+=q.buffer[n+1]*d;kG+=q.buffer[n+2]*d;
h_+=d}var cS=1/h_;gP=Math.round(iH*(gP*cS)+(1-iH)*255);jm=Math.round(iH*(jm*cS)+(1-iH)*255);kG=Math.round(iH*(kG*cS)+(1-iH)*255);
T.gf(D.buffer,gP/255,jm/255,kG/255)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(z)!=-1){var i9=e.Rds?e.Rds.v.val:1;
ak.on(i9,z=="boxblur"?0:1,D.buffer,D.V);if(z=="UnsM"||z=="smartSharpen"){var gW=(e.Amnt?e.Amnt.v.val:200)/100,aU=0;
if(z=="UnsM")aU=e.Thsh.v*M/255;else gW*=.75;for(var n=0;n<q.buffer.length;n++){if((n&3)==3){D.buffer[n]=q.buffer[n];
continue}var aP=q.buffer[n],bS=D.buffer[n],kN=gW*(aP-bS);if(kN>0)kN=Math.max(0,kN-aU);else kN=Math.min(0,kN+aU);
D.buffer[n]=Math.max(0,Math.min(M,aP+kN))}}if(z=="HghP")for(var n=0;n<q.buffer.length;n++){if((n&3)==3){D.buffer[n]=q.buffer[n];
continue}var aP=q.buffer[n],bS=D.buffer[n];D.buffer[n]=Math.max(0,Math.min(M,.5*M+aP-bS))}}if(z=="AdNs"){var a8=new Uint8ClampedArray(D.buffer.buffer),cl=255*e.Nose.v.val/100,eg;
if(e.Dstr.v.Dstr=="Gsn")eg=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else eg=function(){return Math.random()*2-1};for(var n=0;n<a8.length;n+=4){var r=a8[n],bz=a8[n+1],ks=a8[n+2],fl,iT,cL;
if(e.Mnch.v){fl=iT=cL=eg()}else{fl=eg();iT=eg();cL=eg()}r+=cl*fl;bz+=cl*iT;ks+=cl*cL;a8[n]=r;a8[n+1]=bz;
a8[n+2]=ks}}var cc=Date.now();if(z=="Mdn "||z=="DstS"||z=="Mxm "||z=="Mnm "||z=="surfaceBlur"){var r=0,iC=e.Thsh,g$=0;
if(iC)iC=iC.v;else iC=0;if(z=="Mdn "||z=="Mxm "||z=="Mnm "||z=="surfaceBlur")r=e.Rds.v.val;else r=e.Rds.v;
var ep=10*Math.ceil(r/10),i=q.V.s,X=q.V.T,hW=["Mnm ","Mxm ","surfaceBlur"].indexOf(z),hd=e.preserveShape;
if(hd&&hd.v.preserveShape=="Rndn")g$=1;var iV=(g$==0?1:.75)*[.73,.73,1.2][hW]*(i*X*Math.pow(ep*ep,1.05))/6022387,ad=.6*(i*X*Math.pow(r,1/2.6))/6500;
if(z=="Mxm "||z=="Mnm ")ad=i*X/13e3;if(ee.$x&&hW!=-1&&(iV<ad||g$==1)&&iV<1e3){var f=ee.xu(0,i,X);f.set(q.buffer);
var t=ee.xu(1,i,X);ee.k$(t);ee.filter.ej({e:ee.filter.aIk,Wk:new Float32Array([1/i,1/X]),ZS:r,aem:iC/255,ee:[g$,hW,ep]},f.nj);
t.get(D.buffer)}else if(z=="Mxm "||z=="Mnm "){var i=q.V.s,X=q.V.T;T.JH.aHe(q.buffer,D.buffer,i,X,1+Math.floor(e.Rds.v.val)*2,z=="Mxm ")}else{r=Math.round(r);
T.iE.fs=.5;T.iE.e$=iC;var iq=z=="surfaceBlur"?1:0;T.iE._$(q.buffer,D.buffer,i,X,r,iq);if(z=="DstS")for(var n=0;
n<i*X*4;n++){var dA=Math.abs(q.buffer[n]-D.buffer[n]);if(dA<=iC)D.buffer[n]=q.buffer[n]}}}if(z=="ClrH"){var hm=q.V.Y(),lI=0;
hm.x=hm.y=0;var r=e.Rds.v;r=r*Math.sqrt(2);var i=hm.s,X=hm.T,fF=T.Hx(i,X),ff=new Float32Array(256);for(var n=0;
n<256;n++){var dD=n/255,i9=Math.sqrt(dD*(1/Math.PI));if(i9>.5)i9=.5+Math.pow((i9-.5)/(.564-.5),1.35)*.2;
ff[n]=r*i9}var ju=Math.floor(2*i/r),fD=Math.floor(2*X/r),eV=10-(r-54*Math.sqrt(2))*1.5,dP=[q.buffer,hm];
T.Jr(dP);while(dP[lI*2+1].s>1.5*i/r)lI++;var kX=dP[lI*2+1],k5=dP[lI*2],aK=T.n(kX.D()),h8=1/(1<<lI),bk=kX.s,lG=kX.T,E=T.n(i*X);
for(var ez=0;ez<3;ez++){T.bl(k5,aK,ez);T.TG(aK);var gU=Math.PI*e["Ang"+(ez+1)].v/180,cA=new e5;cA.translate(-i/2,-X/2);
cA.rotate(-gU);cA.translate(i/2,X/2);fF.clearRect(0,0,i,X);for(var O=-(fD>>>2);O<fD;O++)for(var v=-(ju>>>2);
v<ju;v++){var b7=cA.a0(new f5((v+.5)*r-eV,(O+.5)*r-eV)),ex=Math.max(0,Math.min(b7.x*h8,bk-.51)),ed=Math.max(0,Math.min(b7.y*h8,lG-.51)),K=~~T.O.ft(ex,ed,aK,bk,lG);
fF.beginPath();fF.arc(b7.x,b7.y,ff[K],0,2*Math.PI);fF.fill()}var gf=fF.getImageData(0,0,i,X);T.bl(gf.data,E,3);
T.TG(E);T.yR(E,D.buffer,ez)}}if(z=="ShMs"){var cc=Date.now(),cI=e.ClSz.v.val,cp=e.Shap.v,jH=e.Sprd.v,ag=e.Invr.v,i=q.V.s,X=q.V.T,hs=Math.ceil(i/cI),jx=Math.ceil(X/cI),h0=q.buffer.slice(0),ll=T.n(i*X),ju=1,fD=1;
T.tI(h0,ll);if(e.Mono.v)T.A$(ll,h0);var fF=T.Hx(i,X);fF.fillStyle=ag?"white":"black";fF.fillRect(0,0,i,X);
fF.globalCompositeOperation=ag?"multiply":"lighter";var im=ag?["#00ffff","#ff00ff","#ffff00"]:["#ff0000","#00ff00","#0000ff"],b2=[27.865,31.83,17.615,26.209,7.462,32.009,9.553,20.362,.99,12.335,12.532,10.758,17.394,0,22.436,10.672,34,12.047,25.574,20.22],kX=new kk(0,0,cI,cI),k5=T.n(kX.D()*4);
for(var O=0;O<jx;O++)for(var v=0;v<hs;v++){for(var ez=0;ez<3;ez++){var iI=0,cB=v*cI,e_=Math.min(cB+cI,i),iY=O*cI,fL=Math.min(iY+cI,X);
for(var ed=iY;ed<fL;ed++)for(var ex=cB;ex<e_;ex++){var n=ed*i+ex;iI+=h0[4*n+ez]}var h8=iI/((e_-cB)*(fL-iY)*255);
h8=T.Ec(h8);if(ag)h8=1-h8;fF.fillStyle=im[ez];fF.translate(cB+cI/2+.5,iY+cI/2+.5);var cG=(jH==0?Math.sqrt(h8):h8)*cI,bN=cG,hK=cG;
if(jH==1)hK=cI-1;if(jH==2)bN=cI-1;fF.scale(bN,hK);if(cp==0)fF.fillRect(-.5,-.5,1,1);if(cp==1){fF.beginPath();
fF.arc(0,0,.6,0,Math.PI*2,!0);fF.fill()}if(cp==2){fF.beginPath();for(var n=0;n<b2.length;n+=2){var b_=-.65+b2[n]*(1.3/32),hh=-.65+b2[n+1]*(1.3/32);
if(n==0)fF.moveTo(b_,hh);else fF.lineTo(b_,hh)}fF.fill()}fF.resetTransform()}}fF.globalCompositeOperation="source-over";
var gf=fF.getImageData(0,0,i,X);D.buffer.set(gf.data)}if(z=="Crst"||z=="Pntl"){var i=q.V.s,X=q.V.T,iq=z=="Crst"?T.oH.a8y:T.oH.a71;
iq(q.buffer,i,X,D.buffer,e.ClSz.v,[Math.round(P.l),Math.round(P.I),Math.round(P.c)])}if(z=="Mztn"){var i=q.V.s,X=q.V.T,K=i*X,j6=new T.ZU(K),gK=[j6.l,j6.I,j6.c];
T.B9(q.buffer,j6);var bW=e.MztT.v.MztT,bV={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[bW],cc=Date.now(),aG=[];
for(var n=0;n<K;n++){aG[n]=Math.random()}var K=i*X,iM=Math.round(K*bV[0]),jt=K-i-1;for(var n=0;n<iM;
n++){var gh=Math.random(),aB=1;if(gh<.5){aB=i;gh*=2}else gh=2*(gh-.5);var lw=Math.floor(gh*jt),aN=lw+aB;
aG[lw]=aG[aN]}var jg=Math.round(i*bV[1]);for(var O=0;O<X;O++)for(var n=0;n<jg;n++){var gh=T.w.sG(O*K+n),lw=O*i+Math.floor(gh*(i-1));
aG[lw]=aG[lw+1]}var cM=new Float64Array(256);for(var n=0;n<256;n++){var gm=n/255,d0=2*(gm<.5?gm:1-gm);
d0=bV[2]+Math.pow(d0,bV[3])*(1-bV[2]);gm=gm<.5?d0*.5:1-d0*.5;cM[n]=gm}for(var j5=0;j5<3;j5++){var E=gK[j5];
for(var O=0;O<X;O++){for(var v=0;v<i;v++){var n=O*i+v,hb=E[n],gm=cM[hb],gh=aG[n];E[n]=gh>gm?0:255}}}T.cO(j6,D.buffer)}if(z=="Msc "){var cI=e.ClSz.v.val,i=q.V.s,X=q.V.T,hs=Math.ceil(i/cI),jx=Math.ceil(X/cI),dj=T.n(hs*jx*4);
T.scale.vu(q.buffer,i,X,dj,hs,jx,1/cI);T.scale.vu(dj,hs,jx,D.buffer,i,X,cI)}if(z=="Clds"||z=="DfrC"){var i=D.V.s,X=D.V.T,K=i*X,kC=T.n(K);
if(z=="Clds")T.FH(D.buffer,4278190080);var fu=T.n(256*4);for(var n=0;n<256;n++){var S=n<<2,eb=n/255,eP=1-eb;
fu[S]=Math.round(eb*V.l+eP*P.l);fu[S+1]=Math.round(eb*V.I+eP*P.I);fu[S+2]=Math.round(eb*V.c+eP*P.c)}var A=Math.random();
if(e&&e.FlRs){var ks=new Int32Array(1);ks[0]=e.FlRs.v;A=new Uint32Array(ks.buffer)[0]/4294967295;console.log(A)}T.P.au3(q.buffer,i,X,kC,null,A);
var lc=D.buffer;for(var n=0;n<K;n++){var S=n<<2,j5=kC[n]<<2,r=fu[j5],bz=fu[j5+1],ks=fu[j5+2];if(z=="Clds"){lc[S]=r;
lc[S+1]=bz;lc[S+2]=ks}else{lc[S]=Math.abs(lc[4*n]-r);lc[S+1]=Math.abs(lc[4*n+1]-bz);lc[S+2]=Math.abs(lc[4*n+2]-ks)}}}if(z=="LnsF"){var i=q.V.s,X=q.V.T,bW=["Zm","Nkn","Nkn1","PnVs"].indexOf(e.Lns.v.Lns),kZ=e.FlrC.v,d$=[Math.min(bW,2),e.Brgh.v/100,kZ.Hrzn.v,kZ.Vrtc.v],cc=Date.now();
T.av9(q.buffer,i,X,D.buffer,d$)}var ib=["Blr ","BlrM","Shrp","ShrM"].indexOf(z);if(ib!=-1){var gn=ib>1,i=q.V.s,X=q.V.T,dp=T.WZ.lK[ib],ck=q.buffer.slice(0);
if(!gn)T.ak(ck);T.WZ.SR(ck,D.buffer,i,X,dp,!0,!1);if(!gn)T.Od(D.buffer)}if(z=="MtnB"){var aF=-e.Angl.v*Math.PI/180,it=e.Dstn.v.val/2,cc=Date.now(),i=q.V.s,X=q.V.T,F=q.V.Y();
F.x=F.y=0;if(ee.$x){var cc=Date.now(),iO=D.buffer;iO.set(q.buffer);T.ak(iO);var jk=ee.xu(0,i,X);jk.set(iO);
var l2=T.n(4);l2[0]=Math.round(128+127*Math.cos(aF));l2[1]=Math.round(128+127*Math.sin(aF));T.FH(iO,new Uint32Array(l2.buffer)[0]);
var gt=ee.xu(1,i,X);gt.set(iO);ee.k$(jk,F);jk.Nd(F);ee.filter.ej({e:ee.filter.EK,tE:gt.nj,Wk:new Float32Array([1/i,1/X]),Vn:it/2,ahH:1},jk.kn);
jk.get(iO);T.Od(iO)}else{var bP=D.buffer,c6=new e5;c6.rotate(aF);var h=W.On.tU([q.buffer,q.V],c6);ak.on(it,2,h.buffer,h.V);
c6.TG();h=W.On.tU([h.buffer,h.V],c6,!1,bP.buffer,D.V);if(!T.Ep(q.buffer))for(var n=0;n<bP.length;n+=4)bP[n+3]=255}console.log(Date.now()-cc)}if(z=="RdlB"){var i=q.V.s,X=q.V.T,gW=e.Amnt.v,ii=e.BlrM.v.BlrM=="Zm",ez=e.Cntr.v,dF=ez.Hrzn.v,h1=ez.Vrtc.v,j=Math.max(dF,1-dF)*i,w=Math.max(h1,1-h1)*X,i9=Math.sqrt(j*j+w*w),cT=2*Math.PI*i9*1.5,bN=Math.round(cT),hK=Math.round(i9),hm=new kk(0,0,bN,hK),iN=T.n(bN*hK*4),dz=ii?4:1,fo=ii?.6:8*((i+X)/2)/1400,d2=.1,h8=1,ju=1;
T.O.ahr(q.buffer,i,X,iN,bN,hK,dF,h1,dz,d2,h8,ju);var jf=ii?T.n(bN*hK*4):null;if(ii){T.O.TL(iN,jf,bN,hK);
var cQ=jf;jf=iN;iN=cQ;hm.s=hK;hm.T=bN}ak.on(fo*gW,2,iN,hm);if(ii){T.O.TL(iN,jf,hK,bN);var cQ=jf;jf=iN;
iN=cQ;hm.s=bN;hm.T=hK}T.O.ad9(iN,bN,hK,D.buffer,i,X,dF,h1,dz,d2,h8,ju)}if(z=="Plr "){var i=q.V.s,X=q.V.T;
if(e.Cnvr.v.Cnvr=="RctP")T.O.ad9(q.buffer,i,X,D.buffer,i,X,.5,.5,1,0,2,i/X);else T.O.ahr(q.buffer,i,X,D.buffer,i,X,.5,.5,1,0,2,i/X)}if(z=="FndE"){var i=q.V.s,X=q.V.T;
T.WZ.ap_(q.buffer,D.buffer,i,X)}if(z=="oilPaint"){var gU=e.LghD.v*Math.PI/180,cj=[Math.cos(gU),Math.sin(gU),.001],cK=[e.stylization.v,e.cleanliness.v,e.brushScale.v,e.microBrush.v,e.lightingOn.v,e.specularity.v,cj],F=q.V.Y();
F.x=F.y=0;T.f_.filter(q.buffer,F,D.buffer,cK)}if(z=="Ofst"){function fU(g_,u,cQ,aq){var fE=u*4,bi=aq*4;
cQ[bi]=g_[fE];cQ[bi+1]=g_[fE+1];cQ[bi+2]=g_[fE+2];cQ[bi+3]=g_[fE+3]}var i=q.V.s,X=q.V.T,kn=q.buffer,kq=D.buffer;
kq.fill(0);var jv=e.Hrzn.v,jO=e.Vrtc.v,g0=e.Fl.v.FlMd;if(g0=="Bckg"||g0=="Rpt"){var hm=q.V.Y();hm.offset(jv,jO);
T.aF(kn,hm,kq,D.V)}if(g0=="Rpt"){var cB,iY,e_,fL,de;jv=Math.max(-i,Math.min(i,jv));jO=Math.max(-X,Math.min(X,jO));
cB=jv>0?jv:0;e_=jv>0?i:i+jv;iY=jO>0?0:jO+X;fL=jO>0?jO:X;de=jO>0?0:i*(X-1);for(var O=iY;O<fL;O++)for(var v=cB;
v<e_;v++)fU(kn,de+v-jv,kq,O*i+v);cB=jv>0?0:i+jv;e_=jv>0?jv:i;iY=jO>0?jO:0;fL=jO>0?X:X+jO;de=jv>0?0:i-1;
for(var O=iY;O<fL;O++)for(var v=cB;v<e_;v++)fU(kn,de+i*(O-jO),kq,O*i+v);if(jv>=0&&jO>=0){cB=0;e_=jv;
iY=0;fL=jO;de=0}if(jv>=0&&jO<0){cB=0;e_=jv;iY=X+jO;fL=X;de=i*(X-1)}if(jv<0&&jO>=0){cB=i+jv;e_=i;iY=0;
fL=jO;de=i-1}if(jv<0&&jO<0){cB=i+jv;e_=i;iY=X+jO;fL=X;de=i*X-1}for(var O=iY;O<fL;O++)for(var v=cB;v<e_;
v++)fU(kn,de,kq,O*i+v)}if(g0=="Wrp"){jv=(jv+100*i)%i;jO=(jO+100*X)%X;var hm=new kk(jv-i,jO-X,i,X);T.aF(kn,hm,kq,D.V);
hm.offset(i,0);T.aF(kn,hm,kq,D.V);hm.offset(0,X);T.aF(kn,hm,kq,D.V);hm.offset(-i,0);T.aF(kn,hm,kq,D.V)}}if(z=="Rept"){var da=e.Rsft.v.val/100,hL=e.SpcX.v.val/100;
hL=Math.max(hL,-.99);var dQ=e.SpcY.v.val/100;dQ=Math.max(dQ,-.99);var h8=e.Scl.v.val/100,c6=new e5;c6.rotate(e.Angl.v*Math.PI/180);
c6.scale(h8,h8);var fR={buffer:q.buffer,V:q.V};T.II(fR);if(fR.V.a8()){fR.buffer=q.buffer;fR.V=q.V}var lc=fR.buffer,hm=fR.V,as=T.JB(lc,hm,0),gc=new Uint32Array(lc.buffer)[0];
if(!as.a8()&&!as.bs(hm)){var kt=T.n(as.D()*4);T.aF(lc,hm,kt,as);lc=kt;hm=as}hm.x=hm.y=0;gc=hL==0&&dQ==0&&!T.Ep(q.buffer)||e.SpcC.v?gc:0;
function fV(v){return v<0?Math.ceil(v):Math.floor(v)}var hY=c6.a0(new f5(hm.s,0));hY.x=fV(hY.x);hY.y=fV(hY.y);
var dU=c6.a0(new f5(0,hm.T));dU.x=fV(dU.x);dU.y=fV(dU.y);var h=W.On.tU([lc,hm],c6,!1),bJ=h.V,fZ=h.buffer,hf=Math.round(bJ.x),ku=Math.round(bJ.y),kM=Math.max(D.V.s,D.V.T)/Math.min(hm.s*h8*(1+hL),hm.T*h8*(1+dQ));
kM=Math.ceil(kM*1.7);T.FH(D.buffer,gc);for(var O=-kM;O<kM;O++){for(var v=-kM;v<kM;v++){var hw=(v+O*da)*(1+hL),is=O*(1+dQ);
bJ.x=hf+Math.round(hw*hY.x+is*dU.x);bJ.y=ku+Math.round(hw*hY.y+is*dU.y);if(bJ.Je(D.V))T.w.Mt("norm",fZ,bJ,D.buffer,D.V,bJ,1)}}}if(z=="Ctoa"){var P=T.Yf.z8(e.Clr.v),iC=e.Trsp.v.val/100,jc=e.Opct.v.val/100;
iC=jc==0?0:iC/jc;var i=q.V.s,X=q.V.T,dt=~~P.l,bQ=~~P.I,fX=~~P.c,de=q.buffer,gx=D.buffer;for(var O=0;
O<X;O++)for(var v=0;v<i;v++){var n=O*i+v,S=n<<2,hm=de[S],jb=de[S+1],lc=de[S+2],jF=Math.abs(dt-hm),eH=Math.abs(bQ-jb),bK=Math.abs(fX-lc),gA=Math.max(jF,eH,bK)*(1/255);
gA=Math.max(0,Math.min(1,gA/jc));var gL=gA==0?0:1/gA,gJ=iC==1?1:Math.max(0,Math.min(1,(gA-iC)/(1-iC)));
gx[S]=Math.max(0,Math.min(255,(hm-dt*(1-gA))*gL));gx[S+1]=Math.max(0,Math.min(255,(jb-bQ*(1-gA))*gL));
gx[S+2]=Math.max(0,Math.min(255,(lc-fX*(1-gA))*gL));gx[S+3]=Math.min(gx[S+3],~~(.5+gJ*255))}}if(z=="Dthr"){var lk=gY.a1n(e.Plte.v),hD=new Uint32Array(gY.Lm(lk));
T.$n(new Uint8Array(hD.buffer));var i=q.V.s,X=q.V.T,K=i*X,hr=K*4,k5=q.buffer.slice(0),j2=D.buffer;T.$n(k5);
var cn=T.n(i*X);UPNG.encode.dither(k5,i,X,hD,j2,cn,e.Mthd?e.Mthd.v:1);T.D2(j2)}if(z=="Part"){var cb=[e.RndS.v,e.Cont.v/100,e.Size.v,e.Dpth.v/100,e.Brgh.v/100,T.Yf.z8(e.Clr.v),e.Time.v,e.Blnk.v,e.Fall.v,e.Turb.v/100];
T.Ze.fV(D.buffer,q.V.s,q.V.T,cb)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(z)!=-1){var ih=B[0],i=q.V.s,X=q.V.T,cM,hy=0;
if(z=="LqFy")cM=cV.iA(new Uint8Array(e.LqMe.v).buffer);else{var eK=3;if(z=="Wave")eK=Math.min(3,e.WLMn.v);
cM={xL:Math.floor(i/eK),Hi:Math.floor(X/eK)};cM.map=new Float32Array(cM.xL*cM.Hi*2);if(z=="LnCr"){var dF=.5*(cM.xL-1),h1=.5*(cM.Hi-1),bD=Math.max(Math.abs(0-dF),Math.abs(1-dF)),dN=Math.max(Math.abs(0-h1),Math.abs(1-h1)),cA=Math.sqrt(bD*bD+dN*dN),eI=0,go=0,gX=-1,iv=2,h8=e.LnSi.v/100,ii=1/h8,a2=e.LnIa.v/100,fb=a2==0?1e-6:a2*4.6,dT=ii/cA;
for(var O=0;O<cM.Hi;O++){for(var v=0;v<cM.xL;v++){var j=(v-dF)*dT,w=(O-h1)*dT,r=Math.sqrt(j*j+w*w)*fb,fW=Math.atan(r),eY=a2>0?fW/r:r/fW,ju=dF+cA*eY*j,fD=h1+cA*eY*w,n=O*cM.xL+v<<1;
cM.map[n]=ju-v;cM.map[n+1]=fD-O}}}else if(z=="Kale"){var hs=cM.xL,jx=cM.Hi,j0=(hs-1)*.5,d7=(jx-1)*.5,bo=e.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,h$=e.Mirr.v,gz=Math.PI*2/h$,kb=.5*gz;
for(var O=0;O<jx;O++)for(var v=0;v<hs;v++){var j=v-j0,w=O-d7,gT=Math.sqrt(j*j+w*w),gU=Math.atan2(w,j)+bo;
gU=gU%gz;if(gU>kb)gU=gz-gU;var ju=j0+Math.cos(gU-bo)*gT,fD=d7+Math.sin(gU-bo)*gT,n=(O*hs+v)*2;cM.map[n]=ju-v;
cM.map[n+1]=fD-O}}else if(z=="Dspl"&&ih.length!=0){hy=e.UndA.v.UndA=="WrpA"?2:1;var aR=e.DspF.v.pth,i2,au=e.DspD,jd,f4,gd;
if(au){var gP=au.v;f4=gP[1]*256+gP[0];jd=gP[5]*256+gP[4];gd=new Uint8Array(gP.slice(10,10+jd*f4))}else{for(var n=0;
n<ih.length;n++)if(ih[n].PP==aR)i2=ih[n];if(i2==null)i2=ih[0];i2.tW();var jF=i2.De[1],gd=T.n(jF.D());
T.tI(i2.De[0],gd);jd=jF.s;f4=jF.T}cM={xL:jd,Hi:f4};cM.map=new Float32Array(cM.xL*cM.Hi*2);var be=2.54*e.HrzS.v*jd/i,fk=2.54*e.VrtS.v*f4/X;
for(var O=0;O<cM.Hi;O++){for(var v=0;v<cM.xL;v++){var dA=-.5+gd[O*jd+v]*(1/255),n=O*cM.xL+v<<1;cM.map[n]=dA*be;
cM.map[n+1]=dA*fk}}}else if(z=="Pnch"||z=="Twrl"||z=="Sphr"||z=="ZgZg"){var gW=1,aF=Math.PI,aE=0,eN=1,i$=0,ez=3,cI=1.53,eY=1;
if(z=="Pnch"||z=="Sphr"||z=="ZgZg")gW=e.Amnt.v/100;if(z=="ZgZg"){eN=e.NmbR.v;i$=["ArnC","OtFr","PndR"].indexOf(e.ZZTy.v.ZZTy)}if(z=="Twrl")aF=e.Angl.v*Math.PI/180;
if(z=="Sphr")aE=["Nrml","HrzO","VrtO"].indexOf(e.SphM.v.SphM);function iq(v){v=Math.pow(v,1-v*.3-v*v*(v*v)*.5);
return-.225*Math.sin(v*Math.PI)}function c9(X,g_,r,cB,iY,e_,fL,eY){var j=e_-cB,w=fL-iY,dm=cB-X,bi=iY-g_,eb=j*j+w*w,ks=2*(j*dm+w*bi),ez=dm*dm+bi*bi-r*r,bU=Math.sqrt(ks*ks-4*eb*ez),eX=eY/(2*eb),jy=(-ks+bU)*eX,bc=(-ks-bU)*eX;
return eY*Math.min(jy,bc)}var hs=cM.xL,jx=cM.Hi,j0=cM.xL/2,d7=cM.Hi/2,b3=1/j0,r=Math.sqrt(ez*ez+1)/ez,fS=ez+Math.sqrt(1/(ez*ez));
if(gW<0){ez=1.72;r=1;fS=ez;cI=-1;eY=-1}for(var O=0;O<jx;O++){var w=(O-d7)/d7;for(var v=0;v<hs;v++){var j=(v-j0)*b3;
if(aE==1)w=0;else if(aE==2)j=0;var c1=Math.sqrt(j*j+w*w);if(c1<1&&c1!=0){var n=O*cM.xL+v<<1;if(z=="Pnch"){var dg=-gW*iq(c1)/c1;
cM.map[n]=j*dg*j0;cM.map[n+1]=w*dg*d7}else if(z=="Sphr"){var cQ=c9(0,fS,r,0,0,c1,ez,eY),eV=cI*gW*(cQ-1);
cM.map[n]=j*eV*j0;cM.map[n+1]=w*eV*d7}else if(z=="Twrl"){var gU=Math.atan2(w,j)-aF*(1-c1)*(1-c1),dd=Math.cos(gU),eU=Math.sin(gU);
cM.map[n]=(c1*dd-j)*j0;cM.map[n+1]=(c1*eU-w)*d7}else if(z=="ZgZg"){var dd=0,eU=0,i8=gW*(.5-.5*Math.cos(c1*eN*2*Math.PI))*(1-c1);
if(i$==0){var gU=Math.atan2(w,j)-3.5*i8;dd=c1*Math.cos(gU);eU=c1*Math.sin(gU)}if(i$==1){i8=100/i*i8/c1;
dd=(1-i8)*j;eU=(1-i8)*w}if(i$==2){var Y=512/i*i8*Math.PI/4;dd=Y+j;eU=Y+w}cM.map[n]=(dd-j)*j0;cM.map[n+1]=(eU-w)*d7}}}}}else if(z=="Shr "){var j7=T.G(e.ShrP.v);
T.JQ.v(j7,new e5(0,255/127,255/127,0,-2,0));var g4=T.JQ.YN(j7,cM.Hi,!0);hy=e.UndA.v.UndA=="WrpA"?2:1;
for(var O=0;O<cM.Hi;O++){var j=-g4[O]*cM.xL;for(var v=0;v<cM.xL;v++){var n=O*cM.xL+v<<1;cM.map[n]=j}}}else if(z=="Wave"){var cw=e.NmbG.v,h4=e.WLMn.v,kE=e.WLMx.v,jW=e.AmMn.v*(Math.PI/4),jY=e.AmMx.v*(Math.PI/4),ip=e.SclH.v/100,eC=e.SclV.v/100,bW=e.Wvtp.v.Wvtp,i8=Math.sin;
if(bW=="WvTr")i8=function(v){v*=2/Math.PI;return-.5+Math.abs(v%2-1)};if(bW=="WvSq")i8=function(v){v*=2/Math.PI;
return 1+2*Math.floor(v%2-1)};var bg=[],ao=new T.w.ix(e.RndS.v);for(var n=0;n<cw;n++){bg.push(ao.get()*10);
bg.push(Math.PI*eK/(h4+ao.get()*(kE-h4)));bg.push(ip*(jW+ao.get()*(jY-jW))/eK);bg.push(ao.get()*10);
bg.push(Math.PI*eK/(h4+ao.get()*(kE-h4)));bg.push(eC*(jW+ao.get()*(jY-jW))/eK)}var kd=[],g9=[],gj=Math.max(cM.xL,cM.Hi);
for(var n=0;n<gj;n++){var j=0,w=0;for(var hN=0;hN<cw;hN++){var fc=hN*6;j+=bg[fc+2]*i8(bg[fc]+n*bg[fc+1]);
w+=bg[fc+5]*i8(bg[fc+3]+n*bg[fc+4])}kd[n]=w;g9[n]=j}for(var O=0;O<cM.Hi;O++){for(var v=0;v<cM.xL;v++){var n=O*cM.xL+v<<1;
cM.map[n]=g9[O];cM.map[n+1]=kd[v]}}hy=e.UndA.v.UndA=="WrpA"?2:1}else if(z=="Rple"){hy=1;var gW=e.Amnt.v/100,kS=4,lH=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],kj=1,ke=1,dm=0,h3=["Sml","Mdm","Lrg"].indexOf(e.RplS.v.RplS);
if(h3==0){kj=1;ke=.2;dm=3}if(h3==2){kj=1;ke=2;dm=-1;lH=lH.reverse()}var cd=function(v,O){var ez=Math.cos,iI=0;
for(var n=0;n<kS;n++)for(var hN=0;hN<kS;hN++)iI+=lH[n*kS+hN]*ez(v*(n+dm)-O*(hN+dm));return iI},fJ=Math.floor(50/eK),l7=new Float32Array(fJ*fJ*2),ar=ke*gW*.5/eK;
for(var O=0;O<fJ;O++)for(var v=0;v<fJ;v++){var dF=kj*v*2*Math.PI/fJ,h1=kj*O*2*Math.PI/fJ,l9=cd(dF,h1),j=(cd(dF+.01,h1)-l9)*100,w=(cd(dF,h1+.01)-l9)*100,n=(O*fJ+v)*2;
l7[n]=j*ar;l7[n+1]=w*ar}for(var O=0;O<cM.Hi;O++)for(var v=0;v<cM.xL;v++){var eU=O%fJ,dd=v%fJ,n=O*cM.xL+v<<1,a3=eU*fJ+dd<<1;
cM.map[n]=l7[a3];cM.map[n+1]=l7[a3+1]}}}T.kB.mu(q.buffer,D.buffer,i,X,null,cM.map,cM.xL,cM.Hi,hy)}return D};
var gY={};gY.aM8="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");gY.ow="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
gY.fE=["ScrC","ScrD","ScrL"];gY.wf=["SDRD","SDHz","SDLD","SDVt"];gY.pk="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
gY.RH="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");gY.KO="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
gY.dx=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];gY.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
gY.g1=function(z){var q;if(z=="ClrP")q={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(z=="Ct")q={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(z=="DryB")q={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(z=="FlmG")q={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(z=="Frsc")q={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(z=="NGlw")q={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(z=="PntD")q={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(z=="PltK")q={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(z=="PlsW")q={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(z=="PstE")q={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(z=="RghP")q={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(z=="SmdS")q={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(z=="Spng")q={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(z=="Undr")q={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(z=="Wtrc")q={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(z=="AccE")q={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(z=="AngS")q={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(z=="Crsh")q={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(z=="DrkS")q={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(z=="InkO")q={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(z=="Smie")q={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(z=="Spt")q={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(z=="SprS")q={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(z=="DfsG")q={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(z=="Gls")q={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(z=="OcnR")q={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(z=="BsRl")q={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(z=="ChlC")q={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(z=="Chrc")q={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(z=="Chrm")q={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(z=="CntC")q={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(z=="GraP")q={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(z=="HlfS")q={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(z=="NtPr")q={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(z=="Phtc")q={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(z=="Plst")q={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(z=="Rtcl")q={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(z=="Stmp")q={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(z=="TrnE")q={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(z=="WtrP")q={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(z=="GlwE")q={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(z=="Crql")q={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(z=="Grn")q={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(z=="MscT")q={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(z=="Ptch")q={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(z=="StnG")q={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(z=="Txtz")q={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
q.__name="Filter Gallery";q.classID="GEfc";q.GEfk={t:"enum",v:{GEft:z}};q.GELv={t:"bool",v:!0};return q};
gY._C=function(z,q){for(var n=0;n<q.length;n++)~~(q[n]=(z[4*n]+z[4*n+1]+z[4*n+2])*(1/3))};gY.avl=function(z,q,e,V){var P=UPNG.quantize(z,q);
P={Vt:P.inds,RM:gY.apH(P.plte)};return P};gY.apH=function(z){var q=[];for(var n=0;n<z.length;n++){var e=z[n].est.q;
q.push(["",{l:e[0]*255,I:e[1]*255,c:e[2]*255,x6:e[3]*255}])}return q};gY.Lm=function(z){var q=[];for(var n=0;
n<z.length;n++){var e=z[n][1];q.push(e.x6<<24|e.c<<16|e.I<<8|e.l)}return q};gY.aBn=[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"];
gY.a1n=function(z){var q=[];if(z==0)q=[["",{l:0,I:0,c:0,x6:255}],["",{l:255,I:255,c:255,x6:255}]];else{var e=[[1,1,1],[2,2,2],[3,3,2]][z-1],V=[1<<e[0],1<<e[1],1<<e[2]],P=[~~(255/(V[0]-1)),~~(255/(V[1]-1)),~~(255/(V[2]-1))];
q=[];for(var D=0;D<V[0];D++)for(var B=0;B<V[1];B++)for(var A=0;A<V[2];A++)q.push(["",{l:D*P[0],I:B*P[1],c:A*P[2],x6:255}])}return q};
gY.vl=function(z,q,e,V,P,D,B){z=e.GEfk.v.GEft;var A=q.V,s=A.s,M=A.T,$=s*M,U=e.FlRs?e.FlRs.v>>>1:0;function o(L){return L.l<<24|L.I<<16|L.c<<8|255}if(z=="ClrP")T.P.ano(q.buffer,s,M,D.buffer,[e.Pncl.v,e.StrP.v,e.PprB.v]);
if(z=="Ct"){var t=e.NmbL.v,c=e.EdgS.v,H=gY.avl(q.buffer.buffer,t*2,s,M);T.xQ.avm(H.Vt,s,M,Math.floor((s+M)*.015));
for(var n=0;n<H.Vt.length;n++)H.Vt[n]++;var F=new Uint8Array((s+2)*(M+2));T.KY(H.Vt,new kk(1,1,s,M),F,new kk(0,0,s+2,M+2));
var i=T.R._J(F,s+2,M+2,c,!1),X=new e5(1,0,0,1,-1,-1);for(var n=0;n<i.length;n++)T.R.v(i[n].path.J,X,i[n].path.J);
var K=H.RM,f=T.Hx(s,M);for(var n=0;n<i.length;n++){var d=i[n],L=K[d.color-1][1];if(L.x6==0)continue;
f.fillStyle="rgba("+L.l+","+L.I+","+L.c+","+L.x6/255+")";f.beginPath();Typr.U.pathToContext({crds:d.path.J,cmds:d.path._},f);
f.fill()}if(!A.a8()){var G=f.getImageData(0,0,s,M);T.Yh(G.data,D.buffer)}}var x=[e.TxtT,B];if(z=="DryB")T.P.adI(q.buffer,s,M,D.buffer,[e.BrsS.v,e.BrsD.v,e.Txtr.v]);
if(z=="FlmG")T.P.agz(q.buffer,s,M,D.buffer,[e.Grn.v,e.HghA.v,e.Intn.v,U]);if(z=="Frsc")T.P.aki(q.buffer,s,M,D.buffer,[e.BrsS.v,e.BrsD.v,e.Txtr.v]);
if(z=="NGlw")T.P.aaG(q.buffer,s,M,D.buffer,[e.Sz.v,e.Brgh.v,o(T.Yf.z8(e.Clr.v)),o(V),o(P)]);if(z=="PltK")T.P.anN(q.buffer,s,M,D.buffer,[e.StrS.v,e.StDt.v,e.Sftn.v]);
if(z=="PstE")T.P.awH(q.buffer,s,M,D.buffer,[e.EdgT.v,e.EdgI.v,e.Pstr.v]);if(z=="RghP")T.P.a4E(q.buffer,s,M,D.buffer,[e.StrL.v,e.StDt.v,x,e.Scln.v,e.Rlf.v,gY.ow.indexOf(e.LghD.v.LghD),e.InvT.v]);
if(z=="SmdS")T.P.a9x(q.buffer,s,M,D.buffer,[e.StrL.v,e.HghA.v,e.Intn.v,e.FlRs?e.FlRs.v:0,U]);if(z=="Spng")T.P.ajP(q.buffer,s,M,D.buffer,[e.BrsS.v,e.Dfnt.v,e.Smth.v,e.FlRs?e.FlRs.v:0,U]);
if(z=="Undr")T.P.a1x(q.buffer,s,M,D.buffer,[e.BrsS.v,e.TxtC.v,x,e.Scln.v,e.Rlf.v,gY.ow.indexOf(e.LghD.v.LghD),e.InvT.v]);
if(z=="Wtrc")T.P.ayV(q.buffer,s,M,D.buffer,[e.BrsD.v,e.ShdI.v,e.Txtr.v]);if(z=="AccE")T.P.apZ(q.buffer,s,M,D.buffer,[e.EdgW.v,e.EdgB.v,e.Smth.v]);
if(z=="AngS")T.P.a8Q(q.buffer,s,M,D.buffer,[e.DrcB.v,e.StrL.v,e.Shrp.v]);if(z=="Crsh")T.P.aAg(q.buffer,s,M,D.buffer,[e.StrL.v,e.Shrp.v,e.Strg.v]);
if(z=="DrkS")T.P.aLy(q.buffer,s,M,D.buffer,[e.Blnc.v,e.BlcI.v,e.WhtI.v]);if(z=="InkO")T.P.awD(q.buffer,s,M,D.buffer,[e.StrL.v,e.DrkI.v,e.LghI.v]);
if(z=="Smie")T.P.au2(q.buffer,s,M,D.buffer,[e.StrW.v,e.StrP.v,e.Cntr.v]);if(z=="DfsG")T.P.a1C(q.buffer,s,M,D.buffer,[e.Grns.v,e.GlwA.v,e.ClrA.v,o(P),U]);
if(z=="CntC")T.P.ahK(q.buffer,s,M,D.buffer,[e.FrgL.v,e.BckL.v,x,e.Scln.v,e.Rlf.v,gY.ow.indexOf(e.LghD.v.LghD),e.InvT.v,o(P),o(V)]);
if(z=="ChlC")T.P.aKe(q.buffer,s,M,D.buffer,[e.ChrA.v,e.ChlA.v,e.StrP.v,U,o(P),o(V)]);var O=z=="GraP"||z=="Chrc"||z=="Plst"||z=="Rtcl"||z=="Stmp"||z=="TrnE";
if(O){var v=T.n(s*M);if(z=="GraP")T.P.aw1(q.buffer,s,M,D.buffer,[e.StrL.v,e.LgDr.v,gY.wf.indexOf(e.SDir.v.StrD),U]);
if(z=="Chrc")T.P.ay5(q.buffer,s,M,D.buffer,[e.ChAm.v,e.Dtl.v,e.LgDr.v]);if(z=="Plst")T.P.a2J(q.buffer,s,M,D.buffer,[e.ImgB.v,gY.RH.indexOf(e.LghP.v.LghP),e.Smth.v]);
if(z=="Rtcl")T.P.anV(q.buffer,s,M,D.buffer,[e.Dnst.v,e.BlcL.v,e.WhtL.v,U]);if(z=="Stmp")T.P.aMY(q.buffer,s,M,D.buffer,[e.LgDr.v,e.Smth.v]);
if(z=="TrnE")T.P.a8d(q.buffer,s,M,D.buffer,[e.ImgB.v,e.Smth.v,e.Cntr.v,U]);T.bl(D.buffer,v,0);gY.aN(v,D.buffer,V,P)}if(z=="NtPr")T.P.atT(q.buffer,s,M,D.buffer,[e.ImgB.v,e.Grns.v,e.Rlf.v,o(V),o(P),U]);
if(z=="WtrP")T.P.al2(q.buffer,s,M,D.buffer,[e.FbrL.v,e.Brgh.v,e.Cntr.v,U>>>1]);if(z=="Crql")T.P.aDy(q.buffer,s,M,D.buffer,[e.CrcS.v,e.CrcD.v,e.CrcB.v,U]);
if(z=="Grn")T.P.apx(q.buffer,s,M,D.buffer,[e.Intn.v,gY.KO.indexOf(e.Grnt.v.Grnt),e.Cntr.v,o(V),o(P),U]);
if(z=="MscT")T.P.aeL(q.buffer,s,M,D.buffer,[e.TlSz.v,e.GrtW.v,e.LghG.v,U]);if(z=="Ptch")T.P.ajz(q.buffer,s,M,D.buffer,[e.SqrS.v,e.Rlf.v,U]);
if(z=="Phtc"){function C(cI,dL,A,gW){T.BJ.uR(dL,A,gW,2);for(var n=0;n<$;n++)dL[n]=Math.max(0,Math.min(255,128+cI[n]-dL[n]))}var S=e.Dtl.v,j=e.Drkn.v,w=T.n($);
T.tI(q.buffer,w);var u=w.slice(0);C(w,u,A,1);if(S==1){S=2;j=Math.round(j/4)}var l=w.slice(0);C(w,l,A,S);
for(var n=0;n<$;n++)w[n]=Math.max(0,Math.min(255,255-(u[n]-l[n])*j));gY.aN(w,D.buffer,V,P)}if(z=="Spt"||z=="SprS"){var I,Q=1,b=1;
I={xL:Math.floor(s/b),Hi:Math.floor(M/b)};I.map=new Float32Array(I.xL*I.Hi*2);var p=new T.w.ix(U),k=new Float32Array(8192),g=e.SprR.v,Y=g<20?.018*g:.36+(g-20)*.128;
if(z=="SprS"){Y=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][g]}for(var n=0;
n<8192;n++)k[n]=(-1+2*p.get())*Y*70;for(var R=0;R<M;R++)for(var m=0;m<s;m++){var Z=R*s+m<<1;I.map[Z]=k[Z%7919];
I.map[Z+1]=k[(Z+1)%7919]}var E=I.map.slice(0),N=z=="Spt"?e.Smth.v-1:1;if(z=="Spt"&&N!=0){gY.amQ(I.map,E,s,M,N);
gY.aHo(E,I.map,s,M,N)}if(z=="SprS"){var h=e.StrL.v>>>1,j5=h==0?2:1;gY.amQ(I.map,E,s,M,j5);gY.aHo(E,I.map,s,M,j5);
if(h!=0){var r=gY.wf.indexOf(e.SDir.v.StrD),l8=[1,1,1,0][r],aP=[-1,0,1,1][r],bS=2*h+1,kR=1/bS;for(var R=0;
R<M;R++)for(var m=0;m<s;m++){var Z=R*s+m<<1,j1=0,f6=0;for(var n=0;n<bS;n++){var gx=Math.max(0,Math.min(s-1,m-(h+n)*l8)),lC=Math.max(0,Math.min(M-1,R-(h+n)*aP)),g2=lC*s+gx<<1;
j1+=I.map[g2];f6+=I.map[g2+1]}E[Z]=j1*kR;E[Z+1]=f6*kR}I.map=E}}T.kB.mu(q.buffer,D.buffer,s,M,null,I.map,I.xL,I.Hi,Q)}if(z=="BsRl"||z=="PlsW"||z=="Chrm"){var dv=Date.now(),bv=T.n($);
T.tI(q.buffer,bv);var S=e.Dtl.v,eo=e.Smth.v;if(S!=15){T.BJ.uR(bv,A,Math.round((15-S)*.5))}var aL=1.4/s,dh=1.4/M,eM=new Float32Array($),kg=new Float32Array($),jJ=new Float32Array(D.buffer.buffer);
for(var R=0;R<M;R++)for(var m=0;m<s;m++){var n=R*s+m,l8=m==s-1?bv[n]-bv[n-1]:bv[n+1]-bv[n],aP=R==M-1?bv[n]-bv[n-s]:bv[n+s]-bv[n],iL=m*aL-.7,bz=R*dh-.7;
eM[n]=l8==0?iL:l8*.4;kg[n]=aP==0?bz:aP*.4}if(z=="BsRl"){var ks=(2+gY.ow.indexOf(e.LghD.v.LghD))*Math.PI*.25,j1=Math.cos(ks);
if(Math.abs(j1)<.1)j1=0;j1=Math.sign(j1);var f6=Math.sin(ks);if(Math.abs(f6)<.1)f6=0;f6=Math.sign(f6);
var gr=1/(j1*j1+f6*f6),hg=bv.slice(0);for(var R=0;R<M;R++)for(var m=0;m<s;m++){var n=R*s+m,ci=Math.max(-1,Math.min(1,j1*eM[n])),fK=Math.max(-1,Math.min(1,f6*kg[n]));
hg[n]=128+127*(ci+fK)*gr}if(eo!=1){T.BJ.uR(hg,A,Math.round((eo-1)*.5))}gY.aN(hg,D.buffer,V,P)}else{if(z=="Chrm")eo=5+eo;
if(eo>1)gY.on(eM,kg,jJ,A,eo-1);if(z=="PlsW"){var jN=new Uint8Array(eM.buffer);for(var n=0;n<$;n++){var dD=n<<2,l8=eM[n],aP=kg[n],eF=1/(Math.sqrt(1+l8*l8)*Math.sqrt(1+aP*aP)),io=eF*eF,la=io*io,L=~~(255*(la*la*io));
jN[dD+0]=L;jN[dD+1]=L;jN[dD+2]=L;jN[dD+3]=L}D.buffer.set(q.buffer);T.w.Mt("norm",jN,A,D.buffer,A,A,e.HghS.v/20)}else if(z=="Chrm"){var e9=D.buffer,gM=s>>>1,j7=M>>>1;
for(var n=0;n<$;n++){var dD=n<<2,l8=eM[n],aP=kg[n],cI={x:1,y:0,ea:l8};hB.hO(cI);var dL={x:0,y:1,ea:aP};
hB.hO(dL);var cf=hB.amw(cI,dL),jA=1/cf.ea,gI=~~Math.max(0,Math.min(s-1,gM-cf.x*jA*gM)),fM=~~Math.max(0,Math.min(M-1,j7-cf.y*jA*j7)),L=bv[fM*s+gI];
e9[dD+0]=L;e9[dD+1]=L;e9[dD+2]=L}}}}if(z=="Gls"||z=="OcnR"||z=="Txtz"){var a7=e.TxtT,bS=24,hc=0,kD,l2;
if(z=="OcnR")a7={t:"enum",v:{TxtT:"TxFr"}};var k6=gY.pk.indexOf(a7.v.TxtT);if(k6==-1)k6=0;var fv=gY.VU([a7,B]),fq=fv[0],bv=fv[1],cu=fq.s,ac=fq.T;
function hN(gi,hu,bk){return~~(cQ*(gi+hu)+8192)&127}var eM=new Float32Array($),kg=new Float32Array($),jJ=new Float32Array(D.buffer.buffer),cQ=z=="OcnR"?1/(1+(e.RplS.v-1)*.1):100/e.Scln.v;
if(k6==3)cQ*=32/22.2;var dv=Date.now(),d_=cQ,aL=1.4/s,dh=1.4/M;if(z=="Txtz"){d_*=1/255;bS=256}for(var R=0;
R<M;R++){var cK=hN(R,A.y,ac),lC=cK+1&127;if(ac!=128){cK=Math.round(R*cQ)%ac;lC=(Math.round(R*cQ)+1)%ac}for(var m=0;
m<s;m++){var n=R*s+m,cc=hN(m,A.x,cu),gx=cc+1&127,aH=0,jj=0,iG=0;if(cu!=128){cc=Math.round(m*cQ)%cu;gx=(Math.round(m*cQ)+1)%cu}if(z=="Txtz"){aH=T.O.ft(cQ*m,cQ*R,bv,128,128);
jj=T.O.ft(cQ*m,cQ*R+1,bv,128,128);iG=T.O.ft(cQ*m+1,cQ*R,bv,128,128)}else{aH=bv[cK*cu+cc];jj=bv[lC*cu+cc];
iG=bv[cK*cu+gx]}eM[n]=Math.max(-bS,Math.min((iG-aH)*d_,bS));kg[n]=Math.max(-bS,Math.min((jj-aH)*d_,bS))}}if(z=="Txtz")gY.ach(eM,kg,jJ,A,6);
else gY.on(eM,kg,jJ,A,z=="Txtz"?1:z=="OcnR"?3.5/cQ:e.Smth.v);if(z=="Txtz")hc=e.InvT.v?-1:1;else if(z=="Gls"){hc=[1,.4,.5,.5,.5,.5,.5,1][k6]*(Math.exp(e.Dstr.v*.155)-1);
if(e.InvT.v)hc=-hc}else{hc=.5*(Math.exp(e.RplM.v*.155)-1)}var e9=D.buffer;if(z=="Txtz"){var ks=(2+gY.ow.indexOf(e.LghD.v.LghD))*Math.PI*.25,j1=Math.cos(ks),f6=Math.sin(ks);
kD={x:j1,y:f6,ea:0};hB.hO(kD);l2=e.Rlf.v;l2=l2/4+Math.max(0,(l2-35)*2)}function fZ(cI,dL,d4){var h0=T.w.overF(dL,cI,1),gi=(1-d4)*cI+d4*(d4*dL+(1-d4)*h0);
return gi*255}for(var R=0;R<M;R++)for(var m=0;m<s;m++){var n=R*s+m,dD=n<<2,l8=eM[n],aP=kg[n],cI={x:1,y:0,ea:l8};
hB.hO(cI);var dL={x:0,y:1,ea:aP};hB.hO(dL);var cf=hB.amw(cI,dL);if(z=="Txtz"){var g5=hB.S6(cf,kD)*hc,d4=1,L=1;
if(g5<0){L=0;g5=-g5}d4=Math.min(1,g5*l2);e9[dD+0]=~~fZ(q.buffer[dD]*(1/255),L,d4);e9[dD+1]=~~fZ(q.buffer[dD+1]*(1/255),L,d4);
e9[dD+2]=~~fZ(q.buffer[dD+2]*(1/255),L,d4)}else{var jA=hc/cf.ea,gI=~~Math.max(0,Math.min(s-1,m-cf.x*jA)),fM=~~Math.max(0,Math.min(M-1,R-cf.y*jA)),hx=fM*s+gI<<2;
e9[dD+0]=q.buffer[hx];e9[dD+1]=q.buffer[hx+1];e9[dD+2]=q.buffer[hx+2]}}}if(z=="PntD"){var hJ=e.Shrp.v*.4,gU=e.BrsT.v.BrsT,lg={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[gU],gW=Math.round(e.Sz.v*.5);
T.iE.fs=lg[0];T.iE._$(q.buffer,D.buffer,s,M,gW,0,[]);var iF=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];iF=T.WZ.zt(iF);
var aO=D.buffer.slice(0);T.WZ.SR(aO,D.buffer,s,M,iF);for(var n=0;n<q.buffer.length;n++){var kX=D.buffer[n]-aO[n];
D.buffer[n]=Math.max(0,Math.min(255,aO[n]+hJ*kX))}}if(z=="GlwE"){var e3=D.buffer.slice(0);T.iE.fs=.5;
T.iE._$(q.buffer,e3,s,M,e.Smth.v>>>1,0,[]);T.WZ.ap_(e3,D.buffer,s,M);T.Yh(D.buffer,e3);T.TG(e3);T.yS(e3,1);
T.JH.aHe(e3,D.buffer,s,M,(e.EdgW.v>>>1)*2+1,!0);var k5=e.EdgB.v/10;for(var n=0;n<e3.length;n++){if((n&3)==3)continue;
var h0=D.buffer[n];D.buffer[n]=Math.max(0,Math.min(255,h0*k5))}}if(z=="StnG"){T.oH.aDQ(q.buffer,s,M,D.buffer,e.ClSz.v,[Math.round(V.l),Math.round(V.I),Math.round(V.c)],e.BrdT.v,U)}if(z=="HlfS"){var aS=e.HlSz.v,jM=aS*2+1,bW=e.Cntr.v,hS=gY.fE.indexOf(e.ScrT.v.ScrT),$=s*M,ap=$*4,dB=T.n($),f8=q.buffer,gb=0,k9=0;
gY._C(f8,dB);T.BJ.a7F(dB,A,aS);var bu=Math.PI/jM,fO=new Float64Array(s),j1=new Float64Array(s),iQ=new Float64Array(2*s);
for(var m=0;m<s;m++){var cc=(m-(s>>>1))*bu;fO[m]=cc*cc;j1[m]=Math.cos(cc);var l8=m<<1;iQ[l8]=Math.sin(l8*(1/4.5));
iQ[l8+1]=Math.sin((l8+1)*(1/4.5))}for(var R=0;R<M;R++){var cK=(R-(M>>>1))*bu,f6=Math.cos(cK),e2=cK*cK;
for(var m=0;m<s;m++){var L=f6;if(hS==0){var cB=.5+Math.sqrt(fO[m]+e2)*4.5;L=iQ[~~cB]}else if(hS==1){L=j1[m]*f6}var n=R*s+m,iY=dB[n]*(.75+.25*L),d4=f8[(n<<2)+3]*(1/255),e_=Math.max(0,Math.min(255,~~iY));
gb+=e_*d4,k9+=d4;dB[n]=e_}}gb/=k9;var fL=128+1.26*(gb-128),k5=.08+.25*Math.abs((128-gb)/128),jI=1+k5*bW;
for(var n=0;n<$;n++){var iY=fL+(dB[n]-fL)*jI;dB[n]=Math.max(0,Math.min(255,~~iY))}if(bW>46)T.round(dB);
gY.aN(dB,D.buffer,V,P)}for(var n=0;n<q.buffer.length;n+=4)D.buffer[n+3]=q.buffer[n+3]};gY.aN=function(z,q,e,V){var P=z.length,D=e.l,B=e.I,A=e.c,s=V.l,M=V.I,$=V.c;
for(var n=0;n<P;n++){var U=z[n]*(1/255),o=1-U,t=n<<2;q[t]=~~(D*o+s*U);q[t+1]=~~(B*o+M*U);q[t+2]=~~(A*o+$*U)}};
gY.VU=function(z){var q=z[0],e=z[1],V=gY.pk.indexOf(q.v.TxtT),P=null;if(V==-1&&e[0].length==0)V=0;else if(V==-1){var D=q.v.pth,B=e[0],A=null;
for(var n=0;n<B.length;n++)if(B[n].PP==D)A=B[n];if(A==null)A=B[0];A.tW();var s=A.De,a=T.n(s[1].D());
T.tI(s[0],a);V=7;T.$n(a);P=[s[1],a]}else{if(V==6)V=2;var M="blocks canvas frosted tinylens brick burlap".split(" ")[V];
if(gY.KR==null)gY.KR=[];if(gY.KR[V]==null){var $,U;if(V==2){U=new kk(0,0,128,128);var o=ak.g1("AdNs");
o.Mnch.v=!0;o.Dstr.v.Dstr="Gsn";o.Nose.v.val=50;var $=T.n(U.D()*4),t=$.slice(0);T.FH(t.buffer,4286611584);
ak.vl("AdNs",{buffer:t,V:U},o,0,0,{buffer:$,V:U})}else{var c=hZ.ui.get("tex/"+M,!0)[0];U=c.hp;$=new Uint8Array(c.data)}var H=T.n(U.D());
T.bl($,H,0);gY.KR[V]=[U,H]}P=gY.KR[V]}return P};gY.on=function(z,q,e,V,P){if(P<=1){P=Math.round(P);gY.ach(z,q,e,V,[1,16,4][P]);
return}var D=P*.42;if(z){T.BJ.uR(z,V,D,3)}if(q){T.BJ.uR(q,V,D,3)}};gY.ach=function(z,q,e,V,P){var D=T.WZ.zt([1,2,1,2,P,2,1,2,1]);
if(z){e.set(z);T.WZ.aLh(z,e,V.s,V.T,D);z.set(e)}if(q){e.set(q);T.WZ.aLh(q,e,V.s,V.T,D);q.set(e)}};gY.KZ=function(z){if(z==null)return new f5(0,0);
var q=0,e=z.GEfs?z.GEfs.v:[{v:z}];for(var n=0;n<e.length;n++){var V=e[n].v,D=1e4;if(V.GELv&&!V.GELv.v)continue;
var P=V.GEfk.v.GEft;if(P=="GlwE"||P=="Phtc"||P=="BsRl"||P=="PlsW"||P=="Chrm"||P=="Gls"||P=="OcnR"||P=="InkO")D=0;
q=Math.max(q,D)}return new f5(q,q)};gY.aLZ=function(z){var q=[0,0,0,0,0,0,0,0,0,0,0,0,0],e=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][z];
for(var n=0;n<13;n++){var V=n-6;q[n]=1/(e*Math.sqrt(2*Math.PI))*Math.exp(-.5*(V/e)*(V/e))}return q};
gY.amQ=function(z,q,e,V,P){var D=gY.aLZ(P),B=6,A=13;for(var s=0;s<V;s++)for(var a=0;a<e;a++){var M=s*e+a<<1,$=0,U=0;
for(var n=0;n<A;n++){var o=a+n-B,t=o<0?0:o>=e?e-1:o,c=(s*e+t)*2,H=D[n];$+=H*z[c];U+=H*z[c+1]}q[M]=$;
q[M+1]=U}};gY.aHo=function(z,q,e,V,P){var D=gY.aLZ(P),B=6,A=13;for(var s=0;s<V;s++)for(var a=0;a<e;a++){var M=s*e+a<<1,$=0,U=0;
for(var n=0;n<A;n++){var o=s+n-B,t=o<0?0:o>=V?V-1:o,c=(t*e+a)*2,H=D[n];$+=H*z[c];U+=H*z[c+1]}q[M]=$;
q[M+1]=U}};function aA(){}aA.Cx=[2,5,5,7,4,4];aA.q2="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
aA.nq="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
aA.p4=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
aA.ake=[1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1];aA.v1=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
aA.pd=function(z){if(z=="passThrough")return"pass";return aA.q2[aA.nq.indexOf(z)]};aA.bi=function(z){if(z=="pass")return"passThrough";
return aA.nq[aA.q2.indexOf(z)]};aA.getName=function(z){return aA.p4[aA.q2.indexOf(z)]};function lK(){this.V=null;
this.buffer=null;this.pi="norm";this.vz=255;this.Ev=!1;this.Qe=!1;this.go=[79,128,255];this.b9=0;this.Km=0;
this.l6=!0;this.sy=[];for(var n=0;n<10;n++)this.sy.push(0,0,255,255);this.name=null;this.add={};this.nn=null;
this.mY=null;this.m={list:[],j:[],Aa:0,volume:1};this.Eo=null;this.Ro=null;this.aN$=30;this.jh=null;
this.ayz=null;this.aKV=null;this.a1k=null;this.oT=0;this.bS=!1;this.wC=null;this.J3=new lK.Bq}lK.Bq=function(){this.CV=!0;
this.uC=!0;this.$Z=T.n(0);this.ahV=T.n(0);this.nX=null;this.yg={};this.aEs=null;this.aOG=null;this.Ts=null;
this.p9=null;this.Hd=null;this.iY=!1};lK.Bq.prototype.asn=function(){this.CV=null;this.uC=!1;this.nX=null;
this.iY=ee.$x};lK.Bq.prototype.at3=function(){hB.aBG(this.yg);this.$Z=T.n(0);this.ahV=T.n(0);if(this.p9)this.p9.delete();
if(this.Hd)this.Hd.delete();this.p9=null;this.Hd=null};lK.prototype.Kv=function(z){if(z==null)z=this.V.Y();
if(this.J3.nX==null)this.J3.nX=z;else this.J3.nX=this.J3.nX.X8(z)};lK.prototype.YZ=function(){return this.add.lsct==fH._j||this.add.lsct==fH.OI};
lK.prototype.mp=function(){var z=this.add;return z.SoCo!=null||z.GdFl!=null||z.PtFl!=null||z.vstl!=null};
lK.prototype.aK0=function(){var z=this.add.lmfx;if(z==null)return;var q=["GrFl","patternFill"];for(var n=0;
n<q.length;n++){var e=az.cx[az.order.indexOf(q[n])],V=z[e].v;if(V.length==0)continue;for(var P=0;P<V.length;
P++){var D=V[P].v;if(D.enab.v&&(D.Algn==null||!D.Algn.v))this.J3.uC=!0}}};lK.prototype.ai0=function(){var z=this.Eo,q=this.J3.CV;
if(this.mp())z=this.OX();if(!ee.$x)return z.I4();if(this.J3.Hd==null||q||ee.$x!=this.J3.iY){var e=z.$i(),V=z.I4(),P=this.J3.Hd,D=T.Gx(V),B=null;
if(q!=!0&&q!=null){B=q.Y();B.offset(-e.x,-e.y)}if(P==null||P.s!=e.s||P.T!=e.T||P.depth!=D){P=this.J3.Hd=new ee.YD(e.s,e.T,D);
B=null}P.set(V,B)}return this.J3.Hd};lK.prototype.a8x=function(z){var q=this.V,e=this.buffer;if(!ee.$x){var V=this.pJ(z,e,q);
if(V){e=V.Dm;q=V.V}return e}if(this.J3.nX!=null||ee.$x!=this.J3.iY){var V=this.pJ(z,e,q);if(V){e=V.Dm;
q=V.V}var P=q;if(ee.$x!=this.J3.iY||this.J3.p9==null||this.J3.p9.s!=P.s||this.J3.p9.T!=P.T||this.J3.p9.depth!=z.depth){if(this.J3.p9)this.J3.p9.delete();
this.J3.p9=new ee.ZU(P.s,P.T,z.depth);this.J3.p9.set(e)}else{var D=this.J3.nX.Y();D.offset(-q.x,-q.y);
this.J3.p9.set(e,D)}}return this.J3.p9};lK.prototype.eU=function(){var z=this.Eo;if(this.mp())z=this.OX();
return z!=null&&z.isEnabled&&(!z.V.a8()||z.z8()!=255)};lK.prototype.pJ=function(z,q,e){if(this.LL()){var V=this.kL(z);
if(V.Eo&&V.Eo.isEnabled&&(!V.Eo.V.a8()||V.Eo.color==0)){var P=this.add.SoLd.filterFX.v;V.Eo.uI=P.filterMaskDensity?P.filterMaskDensity.v:255;
V.Eo.j_=P.filterMaskFeather?P.filterMaskFeather.v:0;var D=V.buffer,B=V.V;if(B.D()<e.D()){B=e;D=T.n(B.D()*4,z.depth);
T.aF(V.buffer,V.V,D,B)}var A=V.Eo.Xp(e);T.TG(A);q=q.slice(0);T.w.Dx(D,B,q,e,A,e,0,e,1);return{Dm:q,V:e}}}};
lK.prototype.agd=function(){var z={IU:!1,jN:!1,E$:0,LH:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)z.jN=!0;
if(this.OX()&&this.OX().isEnabled)z.IU=!0;if(z.IU&&z.jN){z.E$=this.OX().V.x-this.add.vmsk.OX().V.x;z.LH=this.OX().V.y-this.add.vmsk.OX().V.y}return z};
lK.prototype.ly=function(z,q){if(cW!=0)return;if(q&&this.OX().j_!=0){q=q.Y();var e=Math.round(this.OX().j_*2.4);
q.Gm(e,e)}var V=!1;if(this.add.lsct==fH.pR)return;var P=this,D=this.OX()!=null&&this.OX().Ug,B=this.add.vmsk!=null&&this.add.vmsk.Ug,A=this.agd(),s=JSON.stringify(A)!=this.J3.aEs||A.IU&&D||A.jN&&B;
if(s){if(A.jN){var a=this.add.vmsk.OX(null,z.depth,this.add.vstk&&!this.add.vstk.fillEnabled.v);if(A.IU){this.Eo=this.OX().yW(a);
this.J3.aOG=new f5(this.Eo.V.x-this.OX().V.x,this.Eo.V.y-this.OX().V.y)}else this.Eo=a}if(this.Eo)V=!0;
if(this.Eo)this.J3.Ts=new f5(this.V.x-this.Eo.V.x,this.V.y-this.Eo.V.y);if(A.IU)this.OX().Ug=!1;if(A.jN)this.add.vmsk.Ug=!1;
this.Kv(q)}else{if(A.IU&&A.jN){this.Eo.V.x=this.OX().V.x+this.J3.aOG.x;this.Eo.V.y=this.OX().V.y+this.J3.aOG.y}}if(P.mp()){this.D3(z)}if(P.Be()){var M;
if(this.Eo)M=new f5(this.V.x-this.Eo.V.x,this.V.y-this.Eo.V.y);if(this.Eo&&this.Eo.isEnabled&&(this.J3.Ts==null||!M.bs(this.J3.Ts))){this.J3.Ts=M;
this.Kv(q);V=!0}}if(aM.get(P.add)!=null)V=!0;if(V){var $=this.J3.CV;if(q&&$&&$!=!0)$=$.X8(q);else $=q?q:!0;
this.J3.CV=$}this.J3.aEs=JSON.stringify(A)};lK.prototype.D3=function(z){if(cW!=0)return;var q=this,e=q.add.vstk,V=new kk(0,0,z.s,z.T),P,D=q.add.vmsk?this.add.vmsk.OX(null,z.depth):null,s=!0,$;
if(D&&D.isEnabled&&D.z8()==0)P=D.$i().Y();else P=V;var B=q.OX();if(B&&B.isEnabled&&B.z8()==0)P=P.HX(q.Eo.$i());
var A=D&&e;if(e&&(!e.strokeEnabled.v||e.strokeStyleLineWidth.v.val==0))A=!1;if(e&&!e.fillEnabled.v&&A)s=!1;
var a=T.n(P.D()*4,z.depth);if(s){if(q.add.SoCo)hB.eD(a,q.add.SoCo.Clr.v);if(q.add.GdFl){var M=D&&D.color==0?T.S.O5(q.add.vmsk.B,null,!0):null;
hB.N0(q.add.GdFl,a,P,z,null,M)}if(q.add.PtFl)hB._L(q.add.PtFl,a,P,z.add.Patt,q.add.fxrp)}if(A)$=az.Y1.fy.indexOf(e.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(D){var U=D.uI;if(A)D.uI=255;var o=T.n(P.D(),z.depth);if(D.z8()!=0)o.fill(T.K8(z.depth)*D.z8()/255);
if(D&&D.isEnabled){var t=D.$i(),c=D.I4();if(t.bs(P))T.Yh(c,o);else T.KY(c,t,o,P)}if(A&&$==2){}else{if(!s){}else if(q.add.SoCo){T.yR(o,a,3)}else T.d5(o,P,a,P)}if(A)D.uI=U}q.buffer=a;
q.V=P;if(A){var H=e.strokeStyleContent.v,F=az.Y1.U0.indexOf(H.classID),i=this.add.vmsk.OX(e,z.depth);
if($!=0&&!q.V.bs(V))q.extend(q.V.X8(i.$i()));var U=i.uI;i.uI=255;var X=i.Xp(q.V);i.uI=U;if(i.color==255)T.TG(X);
var K=T.n(q.V.D()*4,z.depth);if(F==0)hB.eD(K,H.Clr.v);if(F==1)hB.N0(H,K,q.V,z,null,D.color==0?D.V:null);
if(F==2)hB._L(H,K,q.V,z.add.Patt,q.add.fxrp);var f=e.strokeStyleOpacity.v.val/100;if(f!=1)T.PY(X,f);
if(i.color==255)$=2-$;if($<2){T.w.Dx(K,q.V,q.buffer,q.V,X,q.V,255,q.V,1,!1);if($==0)T.Zb(o,q.buffer)}if($==2){T.Zb(X,K);
T.TG(o);T.w.Dx(K,q.V,q.buffer,q.V,o,P,255,q.V,1,!1);T.TG(o)}if(i.uI!=255){var d=K.slice(0);T.yS(d,1);
T.w.Mt("norm",d,q.V,q.buffer,q.V,q.V,1-i.uI/255)}U=D.uI;D.uI=255;this.ahV=D.Xp(q.V);D.uI=U}this.Kv()};
lK.prototype.N7=function(z,q,e,V,P){var D=this,B=D.add.SoLd.Idnt.v,A=D.add.SoLd,s=W.On.a3(A.nonAffineTransform),a=T.R.mB(s),M=z.VH(B,A.Crop?A.Crop.v:null,[a.s,a.T],A.Impr.v.classID,e),G=null;
if(M==null)return;var $=M.De;if(!M.aPO){M.aPO=!0;T.ahS($,z.depth);var U=z.qh();if(U||M.LN){if(U&&M.LN&&T.bs(U[0],M.LN)){}else{var o=17;
if(M.LN){var t=ICC.R(M.LN.buffer),c=ICC.U.sampleLUT(t,o);for(var n=0;n<$.length;n+=2){var H=$[n];ICC.U.applyLUT(c,o,H,H)}}if(U){var t=U[1],c=ICC.U.sampleLUT(t,o,!0);
for(var n=0;n<$.length;n+=2){var H=$[n];ICC.U.applyLUT(c,o,H,H)}}}}}if(P&&T.Rh($[0],0))return;if(A.Sz){A.Sz.v.Wdth.v=M.$U.s;
A.Sz.v.Hght.v=M.$U.T}if(cW!=0)return;var F=M.do==null?A.Rslt.v.val:M.do,i=A.quiltWarp.v;if(T.OL.nD(i))i=null;
var X=T.O.AX(s,M.$U);if(i){var a=T.R.mB(T.OL.GZ(i)[3]),K=a.x,f=a.y,d=1/a.s,L=1/a.T;X=T.O.AX(s);X=T.O.yW(X,[d,0,-K*d,0,L,-f*L,0,0])}if(!q&&!D.LL()&&i==null){var x=z.Z.indexOf(D),O=lK.$B(D);
for(var n=0;n<x;n++){var v=z.Z[n];if(v.add.SoLd&&!v.LL()&&lK.$B(v)[0]==O[0]){var C=lK.$B(v);G={buffer:v.buffer.slice(0),V:v.V.Y()};
G.V.offset(Math.round(O[1]-C[1]),Math.round(O[2]-C[2]));break}}}var S=window.locStor.getItem("__itp");
S=S==null?1:S;if(G==null)G=W.On.Nv($,q?0:S,X,i,null,null,q);if(G==null){D.buffer=T.n(0,z.depth);D.V=new kk}else if(D.LL()){var j=D.kL(z);
if(V){j.buffer=T.EZ(j.buffer,z.depth);j.buffer.fill(0);T.aF(G.buffer,G.V,j.buffer,j.V)}else{j.buffer=G.buffer;
j.V=G.V.Y()}this.AE(z,q)}else{D.buffer=G.buffer;D.V=G.V}D.ly(z);D.Kv();z.Kv()};lK.$B=function(z){var q=z.add.SoLd,e=q.Idnt.v,V=W.On.a3(q.nonAffineTransform),P=T.O.AX(V,new kk(0,0,1e3,1e3)),D=q.quiltWarp.v;
if(T.OL.nD(D))D=null;return[[e,P[0],P[1],P[3],P[4],P[6],P[7],D==null].join(":"),P[2],P[5]]};lK.prototype.AE=function(z,q){if(q==null)q=!1;
var e=this.kL(z),V=this.add.SoLd.filterFX.v,P=ak.aKw(V),D=new kk(0,0,z.s,z.T),B=e.V.X8(D),A=e.V.Y();
A.Gm(P.x,P.y);var s={buffer:null,V:B.HX(A)};s.buffer=T.n(s.V.D()*4,z.depth);T.aF(e.buffer,e.V,s.buffer,s.V);
if(V.enab.v&&q==!1){var a=V.filterFXList.v;for(var n=0;n<a.length;n++){var M=a[n].v;if(M.enab.v==!1)continue;
var $=M.blendOptions.v,U=aA.pd($.Md.v.BlnM),o=$.Opct.v.val/100,t=T.Yf.z8(M.FrgC.v),c=T.Yf.z8(M.BckC.v),H=ak.s4(M),F={buffer:T.n(s.buffer.length,z.depth),V:s.V.Y()},i=M.Fltr?M.Fltr.v:null;
if(aM.Ij[H]!=null){var X=aM.Ij[H],K=aM.LU(X,i);if(K)aM.vl(K,s.buffer,F.buffer,s.V)}else ak.vl(H,s,i,t,c,F,[z.add.lnk2?z.add.lnk2:[],this.OX(),z.kv]);
if(U=="norm"&&o==1)s=F;else if(U=="norm"){T.w.Dx(F.buffer,F.V,s.buffer,s.V,null,null,null,s.V,o)}else{T.w.Mt(U,F.buffer,F.V,s.buffer,s.V,s.V,o)}}}this.V=s.V;
this.buffer=s.buffer;this.Sn();this.Kv();z.Kv()};lK.prototype.Da=function(z,q,e){this.wC=this.aG5(z,q,e)};
lK.prototype.JV=function(z,q){var e=this.aG5(z,q,!0);if(e==null)return null;var V={es:e.oT,Hm:e.Sl,V:e.Ds};
if(V.es==1||V.es==3){var P=V.V,D=T.n(P.s*P.T*4,T.Gx(z.h.o));T.yR(V.Hm,D,0);T.yR(V.Hm,D,1);T.yR(V.Hm,D,2);
T.aMf(z.h.o,z.h.V,D,P);V.Hm=D}return V};lK.prototype.aG5=function(z,q,e){var V,P,D,B,A,a,M;if(this.oT<=0){var $=T.n(this.V.D(),z.depth);
T.bl(this.buffer,$,3);V=T.mA.GV(q,{o:$,V:this.V},3);if(V==null)return null;var U=T.KI(V.o,V.V);B=V.V.Y();
A=this.V.Y();P=T.n(B.D()*4,z.depth);T.aF(this.buffer,A,P,B);T.yR(V.o,P,3);D=this.buffer.slice(0);if(!e){var o=q.o.slice(0);
T.TG(o);T.d5(o,q.V,D,A)}a=this.buffer.slice(0);M=this.V.Y()}if(this.oT==1||this.oT==3){var t=this.oT==1?this.OX():this.kL(z).Eo;
B=q.V.Y();A=t.V.Y();P=t.Sz(B);var D=t.o.slice(0);if(!e){var c=T.n(B.D(),z.depth);if(t.color==255)c.fill(T.K8(z.depth));
T.w.Oy(c,B,D,A,q.o,B,1)}a=t.o.slice(0);M=t.V.Y()}return{oT:this.oT,Sl:P,Ds:B,sI:D,Ch:A,_X:a,ajA:M}};
lK.prototype.cl=function(z,q){var e=this.wC;if(e.oT==0){this.V=e.ajA;this.buffer=e._X;this.Kv()}if(e.oT==1||e.oT==3){var V=e.oT==1?this.OX():this.kL(z).Eo;
V.o=e._X;V.V=e.ajA;if(this.oT==1){V.Ug=!0;this.ly(z)}if(this.oT==3)this.Kv()}this.wC=q};lK.prototype.K1=function(z,q){var e=z.depth;
if(this.oT<=0&&q.V.bs(this.V)){var V=T.n(this.V.D(),e);T.bl(this.buffer,V,3);if(T.bs(z.h.o,V)){var P=this.V,D=this.buffer;
this.wC={oT:this.oT,Sl:D.slice(0),Ds:P.Y(),sI:T.n(0),Ch:new kk,_X:T.n(0),ajA:new kk};return!0}}var B=this.wC;
if(B==null)return!1;if(B.oT!=this.oT)return!1;if(!q.V.bs(B.Ds))return!1;var A=B.Ch.X8(B.Ds);if(B.oT<=0){if(!A.bs(this.V))return!1;
var s=T.n(B.Sl.length>>2,e);T.bl(B.Sl,s,3);if(!T.bs(q.o,s))return!1;var a=T.n(A.D()*4,e);T.aF(B.sI,B.Ch,a,A);
T.w.Mt("norm",B.Sl,B.Ds,a,A,A,1);return T.bs(a,this.buffer)}if(B.oT==1||B.oT==3){var M=B.oT==1?this.OX():this.kL(z).Eo;
if(!A.bs(M.V))return!1;var $=T.n(A.D(),e);$.fill(M.color*T.K8(e)/255);T.KY(B.sI,B.Ch,$,A);T.w.Oy(B.Sl,B.Ds,$,A,q.o,A,1);
return T.bs($,M.o)}};lK.prototype.EG=function(z,q,e,V){var P=this.wC;P.Ds.offset(q,e);var D=P.Ch.X8(P.Ds);
if(P.oT<=0){var B=T.n(D.D()*4,z.depth);T.aF(P.sI,P.Ch,B,D);T.w.Mt("norm",P.Sl,P.Ds,B,D,D,1);this.buffer=B;
this.V=D;this.Kv()}else{var A=this.oT==1?this.OX():this.kL(z).Eo,s=T.n(D.D());s.fill(A.color);T.KY(P.sI,P.Ch,s,D);
T.w.Oy(P.Sl,P.Ds,s,D,V.o,D,1);A.o=s;A.V=D.Y();if(this.oT==1){A.Ug=!0;this.ly(z)}if(this.oT==3)this.Kv()}};
lK.prototype.aHB=function(z){var q=[-1,0,1,2];if(z)q.push(3);if(this.Eo)q.push(-2);if(this.Ro)q.push(-3);
return q};lK.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};lK.prototype.up=function(hE){this.add.luni=this.name=hE};
lK.prototype.sD=function(z){var q=this.add.lnsr,e=this.add.TySh;if(q=="rend"&&e){var V=dc.VQ(e._1);this.up(V.slice(0,V.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
lK.prototype.Sw=function(){return(this.b9&1<<1)==0};lK.prototype.Be=function(){return(this.b9&1<<4)==0};
lK.prototype.yh=function(){return(this.b9&1<<5)!=0};lK.prototype.a3$=function(){var z=this;if(z.add.lnsr!="bgnd"){z.add.lnsr="bgnd";
z.up("Background");z.add.lspf=1<<2}};lK.prototype.a5R=function(){var z=this;if(z.add.lnsr=="bgnd"){delete z.add.lnsr;
z.up("Layer 0");z.add.lspf=0}};lK.prototype.rs=function(z){var q=this.add.lspf;return q==null?!1:(q>>z&1)!=0};
lK.prototype.Bm=function(z){if(z&&!this.Sw())this.b9-=2;if(!z&&this.Sw())this.b9+=2};lK.prototype.nb=function(){var z=this.add.lmfx;
if(z==null)return!1;for(var q in z){if(q=="masterFXSwitch")continue;if(q=="Scl")continue;if(q=="classID")continue;
if(z[q].v.length>0)return!0}return!1};lK.prototype.LL=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
lK.prototype.zA=function(){var z=this.add.lmfx;if(z==null)return!1;if(!z.masterFXSwitch.v)return!1;for(var q in z){if(q=="masterFXSwitch")continue;
if(q=="Scl")continue;if(q=="classID")continue;var e=z[q].v;for(var n=0;n<e.length;n++)if(e[n].v.enab==null||e[n].v.enab.v)return!0}return!1};
lK.prototype.ll=function(){var z=this,q=z.add.SoLd,e=z.add.TySh,V=z.add.vmsk,P=[];if(q)P=W.On.a3(q.nonAffineTransform);
if(e&&this.J3.NY){P=T.R.iR(z.J3.NY).J;T.R.v(P,e.v,P)}if(V)P=T.R.iR(V.arU()).J;return P};lK.prototype.$i=function(z,q,e,V){if(cW==1)return T.R.mB(this.ll());
var P=new kk,D=this.L1(z,e,V);if(D.indexOf(0)!=-1)P=P.X8(this.V);if(D.indexOf(1)!=-1){var B=this.OX(),A=B.$i();
P=e&&B.z8()==0?P.a8()?A:P.HX(A):P.X8(A)}if(D.indexOf(2)!=-1){var s=this.add.vmsk,a=this.add.vstk,M;if(q){if(s.V3.length>1){var $=T.S.Jc(s.B,null,s.V3);
M=T.R.mB($);if(M.a8())M=null}if(M==null)M=T.S.O5(s.B,s.j.length!=0?s.j:null)}else M=T.S.O5(s.B);if(!V&&a&&a.strokeEnabled.v){var U=a.strokeStyleLineAlignment.v.strokeStyleLineAlignment,o=a.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(U!="strokeStyleAlignInside"){var t=a.strokeStyleLineWidth.v.val;if(o=="strokeStyleMiterJoin")M=new kk(0,0,z.s,z.T);
else M.Gm(t,t)}}if(!V&&s.j_!=0)M.Gm(s.j_*2.2,s.j_*2.2);P=P.X8(M)}if(D.indexOf(3)!=-1)P=P.X8(this.kL(z).Eo.$i());
if(D.length==0&&this.mp())P=V?new kk(0,0,0,0):new kk(0,0,z.s,z.T);return P};lK.prototype.gq=function(){var z=this.add.artb,q=z.artboardBackgroundType.v,e=0;
if(q==1)e=4294967295;else if(q==2)e=4278190080;else if(q==3)e=0;else if(q==4){e=z.Clr.v;e=255<<24|e.Bl.v<<16|e.Grn.v<<8|e.Rd.v}else throw q;
return e};lK.prototype.Le=function(){var z=this.add.artb.artboardRect.v,q=z.Btom.v,e=z.Left.v,V=z.Rght.v,top=z.Top.v;
return new kk(e,top,V-e,q-top)};lK.prototype.Ig=function(z){var q=lK.bO(z);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=q};lK.bO=function(z){var q={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
q.Btom.v=z.y+z.T;q.Left.v=z.x;q.Rght.v=z.x+z.s;q.Top.v=z.y;return q};lK.prototype.L1=function(z,q,e){var V=[],P=this;
if(!q&&P.bS&&e){V.push(2)}else if(P.oT<=0||q){if(P.Be()){if(cW==1&&P.add.TySh)V.push(0);else if(cW==1&&P.add.SoLd)V.push(0);
else if(!this.V.a8()||P.add.SoLd||P.add.TySh)V.push(0)}if(P.OX()&&!P.OX().V.a8())if(P.OX().ck||q)V.push(1);
if(P.add.vmsk)if(P.add.vmsk.ck||q)V.push(2);if(P.LL()&&P.kL(z).Eo&&!P.kL(z).Eo.V.a8())V.push(3)}else if(P.oT==1){V.push(1);
if(P.OX().ck&&!P.OX().V.a8()){if(P.Be())if(!this.V.a8())V.push(0);if(P.add.vmsk)if(P.add.vmsk.ck)V.push(2)}}else if(P.oT==3&&!P.kL(z).Eo.V.a8())V.push(3);
if(P.add.artb&&V.indexOf(0)==-1)V.push(0);V.sort();return V};lK.prototype.OX=function(){var z=this;return z.Ro?z.Ro:z.add.vmsk&&z.add.vmsk.isEnabled?null:z.Eo};
lK.prototype.kL=function(z){if(this.add.SoLd==null)return null;var q=this.add.SoLd.placed.v,e=z.add.FEid;
if(e==null)return null;for(var n=0;n<e.length;n++)if(e[n].id==q)return e[n];return null};lK.prototype.extend=function(z){T.a7Z(this,z)};
lK.prototype.adh=function(z,q,e){var V=z.Y();if(this.zA()){var P=this.add.lmfx,D=q.root.G6(q.Z.indexOf(this)),B=P.gradientFillMulti.v,A=!1;
for(var n=0;n<B.length;n++)if(B[n].v.enab.v&&B[n].v.Algn.v)A=!0;if(A)V=V.X8(D.$i(q,!1));var s=hB.anw(this.add.lmfx,q,e);
V.offset(s.x,s.y);V.s+=s.s;V.T+=s.T}return V};lK.prototype.Sn=function(){if(this.Be())T.II(this);var z=this.OX();
if(z)z.Sn()};lK.prototype.Y=function(){var z=new lK;z.V=this.V.Y();z.buffer=this.buffer.slice(0);z.pi=this.pi;
z.vz=this.vz;z.Ev=this.Ev;z.b9=this.b9;z.name=this.name;z.sy=this.sy.slice(0);z.m=T.G(this.m);if(this.Eo)z.Eo=this.Eo.Y();
if(this.Ro)z.Ro=this.Ro.Y();for(var q in this.add)z.add[q]=d1.Y(q,this.add[q]);return z};lK.prototype.Io=function(z){var q=this;
if(q.add.TySh)delete q.add.TySh;if(q.add.SoLd){var e=this.pJ(z,this.buffer,this.V);if(e){this.buffer=e.Dm;
this.V=e.V;this.Kv()}delete q.add.SoLd}if(q.add.SoCo||q.add.GdFl||q.add.PtFl){if(q.add.vogk)delete q.add.vogk;
if(q.add.SoCo)delete q.add.SoCo;if(q.add.GdFl)delete q.add.GdFl;if(q.add.PtFl)delete q.add.PtFl;if(q.add.vmsk){console.log(q.Ro,q.Eo);
delete q.add.vmsk;if(q.Ro==null&&q.Eo)delete q.Eo;else if(q.Ro!=null&&q.Eo!=null){q.Eo=q.Ro;delete q.Ro}}}if(!q.YZ()&&aM.get(q.add)==null&&!this.Be())this.b9-=16};
lK.prototype.lj=function(z){var q=255,e=0;if(z==2){var V=this.add.SoLd.filterFX.v;if(V.filterMaskDensity)q=V.filterMaskDensity.v;
if(V.filterMaskFeather)e=V.filterMaskFeather.v}else{var P=z==0?this.OX():this.add.vmsk;q=P.uI;e=P.j_}return{wA:z,n2:q,zl:e}};
lK.prototype.aFz=function(z){if(z.wA==2){var q=this.add.SoLd.filterFX.v;if(z.n2==255)delete q.filterMaskDensity;
else q.filterMaskDensity={t:"long",v:z.n2};if(z.zl==0)delete q.filterMaskFeather;else q.filterMaskFeather={t:"doub",v:z.zl};
this.Kv()}else{var e=z.wA==0?this.OX():this.add.vmsk;e.uI=z.n2;e.j_=z.zl;e.Ug=!0}};lK.prototype.T4=function(){var z=this,q=z.add.vmsk;
if(q==null)return;z.add.vogk=T.w0.ajn(q.B)};lK.T4=function(z){var q=[],e=T.S.S2(z);for(var V=0;V<e;V++)q.push(T.w0.hz());
return q};var fH={Oj:0,_j:1,OI:2,pR:3};lK.Eu=function(z){this.name="Mask";this.eq=!1;this.go={l:255,I:0,c:0};
this.Or=50;this.DO=1;this.color=255;this.ck=!0;this.isEnabled=!0;this.HF=!1;this.uI=255;this.j_=0;this.V=new kk;
this.o=T.n(0,z);this.Ks=null;this.aFK=null;this.Ug=!0};lK.Eu.prototype.yW=function(z){if(!this.isEnabled)return z;
var q=new lK.Eu;q.color=Math.round(this.z8()*z.z8()/255);if(this.z8()==0&&z.z8()==0)q.V=this.$i().HX(z.$i());
else if(z.z8()==0)q.V=z.$i().Y();else if(this.z8()==0)q.V=this.$i().Y();else q.V=this.$i().X8(z.$i());
q.o=this.Xp(q.V);q.uI=255;q.j_=0;var e=z.Xp(q.V);T.ah$(e,q.V,q.o,q.V);return q};lK.Eu.prototype.$i=function(){if(this.j_==0)return this.V;
var z=Math.ceil(this.j_*2.2),q=this.V.Y();if(q.y==0){if(q.x==0)q.s+=z;else q.Gm(z,0);q.T+=z}else q.Gm(z,z);
return q};lK.Eu.prototype.I4=function(){if(this.j_==0&&this.uI==255)return this.o;if(this.j_==0){var z=this.o.slice(0);
T.TG(z);T.PY(z,this.uI/255);T.TG(z);return z}var q=this.$i(),z=this.Sz(q);T.BJ.uR(z,q,this.j_);if(this.uI!=255){T.TG(z);
T.PY(z,this.uI/255);T.TG(z)}return z};lK.Eu.prototype.z8=function(){return Math.round(255-(255-this.color)*(this.uI/255))};
lK.Eu.prototype.extend=function(z){T.extend(this,z,this.color/255)};lK.Eu.prototype.Sn=function(){if(this.color==255)T.TG(this.o);
T.Sn(this);if(this.color==255)T.TG(this.o)};lK.Eu.prototype.Y=function(){var z=new lK.Eu;z.name=this.name;
z.eq=this.eq;z.go=this.go;z.Or=this.Or;z.DO=this.DO;z.color=this.color;z.ck=this.ck;z.isEnabled=this.isEnabled;
z.HF=this.HF;z.uI=this.uI;z.j_=this.j_;z.V=this.V.Y();z.o=this.o.slice(0);return z};lK.Eu.prototype.Sz=function(z,q){var e=T.Gx(this.o);
if(q==null)q=T.n(z.D(),e);q.fill(this.color*T.K8(e)/255);T.KY(this.o,this.V,q,z);return q};lK.Eu.prototype.Xp=function(z,q){var e=this.$i(),V=this.I4(),P=T.Gx(V);
if(q==null)q=T.n(z.D(),P);q.fill(this.z8()*T.K8(P)/255);T.KY(V,e,q,z);return q};lK.cI=function(){this.ck=!0;
this.isEnabled=!0;this.uI=255;this.j_=0;this.HR=0;this.HO=1;this.B=[{e:6},{e:8,all:0}];this.wi=[-3,-3];
this.dX=!1;this.Ro=null;this.Ug=!0;this.j=[];this.V3=[]};lK.cI.prototype.arU=function(z){var q=lK.cI.QD(this.B),e=new e5;
if(z)e.rotate(-this.HR);T.S.Z8(q,e);return T.S.O5(q)};lK.cI.prototype.UD=function(){var z=this.arU(!0),q=T.R.iR(z).J,e=new e5;
e.rotate(this.HR);T.R.v(q,e,q);return q};lK.cI.prototype.offset=function(z,q){this.Ro=this.OX();T.S.Z8(this.B,new e5(1,0,0,1,z,q));
this.Ro.V.offset(z,q)};lK.cI.prototype.OX=function(z,q,e){if(!this.Ug&&this.Ro&&z==null){this.Ro.isEnabled=this.isEnabled;
return this.Ro}var V=this.B,P=T.S.O5(V),D="strokeStyleLineAlignment",B="strokeStyleLineJoinType";if(P.D()>2e4*2e4)P=new kk(0,0,100,100);
if(z&&z[D].v[D]!="strokeStyleAlignInside"){var A=1;if(z[B].v[B]=="strokeStyleMiterJoin"){var s=T.S.aMA(V),a=s/2,M=Math.sin(a),$=Math.cos(a);
$/=M;M=1;var A=Math.sqrt($*$+M*M);if(isNaN(A)||A<1)A=1}A*=z[D].v[D]=="strokeStyleAlignOutside"?1:.5;
var U=z.strokeStyleLineWidth.v.val,o=Math.ceil(U*A);o=Math.min(o,600,U*20);P.Gm(o,o)}P=T.R.JY(P);var t=new lK.Eu;
t.color=T.S.nB(V)?0:255;t.ck=this.ck;t.isEnabled=this.isEnabled;t.HF=!0;t.V=P;t.uI=this.uI;t.j_=this.j_;
t.o=T.n(t.V.D());if(!P.a8()&&e!=!0){T.S.a05(V,t.o,t.V,z)}if(q!=null&&q!=8)t.o=T.EZ(t.o,q);if(z==null){this.Ro=t;
this.Ug=!1}return t};lK.cI.prototype.Y=function(){var z=new lK.cI;z.ck=this.ck;z.isEnabled=this.isEnabled;
z.uI=this.uI;z.j_=this.j_;z.HR=this.HR;z.HO=this.HO;z.B=lK.cI.QD(this.B);z.wi=this.wi.slice(0);z.dX=this.dX;
z.j=this.j.slice(0);z.V3=this.V3.slice(0);return z};lK.cI.prototype.concat=function(z){var q=z.B.slice(2);
if(q.length==0)return;q[0].xq=3;this.B=this.B.concat(q)};lK.cI.QD=function(z){var q=[];for(var n=0;n<z.length;
n++){var e=z[n];if(e.e>5||e.e==0||e.e==3)q.push(T.G(e));else q.push({e:e.e,li:e.li.Y(),O0:e.O0.Y(),kS:e.kS.Y()})}return q};
lK.cI.ats=function(z,q,e){if(z.length!=q.length)return!1;for(var n=2;n<z.length;n++){var V=z[n],P=q[n];
if(V.e!=P.e)return!1;if(V.e==0||V.e==3){if(V.length!=P.length||!e&&V.xq!=P.xq)return!1}else if(!V.li.bs(P.li)||!V.O0.bs(P.O0)||!V.kS.bs(P.kS))return!1}return!0};
lK.cI.prototype.alf=function(){var z=this.B;for(var n=3;n<z.length;n++)if(z[n].e==0||z[n].e==3)z[n].xq=-1};
lK.tf=function(){this.e=null;this._S=2;this.PP=null;this.hb="";this.y3="";this.ya="";this.open=0;this.raw=null;
this.De=null;this.aEl="none";this.HA=!1;this.do=null;this.LN=null;this.aPO=!1;this.$U=null};lK.tf.prototype.Y=function(){var z=new lK.tf;
z.e=this.e;z._S=this._S;z.PP=this.PP;z.hb=this.hb;z.y3=this.y3;z.ya=this.ya;z.open=this.open;z.raw=new Uint8Array(this.raw.buffer.slice(0));
return z};lK.tf.prototype.tW=function(z,q,e,V,P){if(e==null)e="none";var D=this,B=hZ.J7(D.raw.buffer),A=B=="svg"||B=="pdf"||B=="ai";
if(D.De){var s=q&&A&&Math.max(D.De[1].s,D.De[1].T)<Math.max(q[0],q[1]);if(!s&&e==this.aEl&&!D.HA)return}this.aEl=e;
if(!A)z=0;if(B==null){alert("Unsupported format: "+y.JU(D.raw,0,4));return null}var a=hZ.nw(B);if(B=="psd"&&cW==1){var M=dE.aAr(D.raw)[0],$=new Uint8Array(M.data);
D.De=[$,M.hp]}else if(a.k2){var U=new hq(name+(B=="psd"?"":"-"+B)+".psd"),$;a.EY(D.raw.buffer,U,q);var o=new kk(0,0,U.s,U.T);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(e)!=-1){var t=[];for(var n=0;n<U.Z.length;
n++){var c=U.Z[n],H=c.buffer;if(!c.V.bs(o)){H=T.n(o.D()*4);T.aF(c.buffer,c.V,H,o);console.log("resizing")}t.push(H)}$=T.n(o.D()*4);
T.stack.stack(t,$,e)}else{for(var n=0;n<U.Z.length;n++)if(U.Z[n].mp())U.Z[n].ly(U);if(V&&U.HA){var F=ey.rB(U,V,P);
D.HA=!F;if(F)ey.fT(U,V,P)}U.To();U.Kv();U.n9();$=U.tW()}D.De=[$,o];D.do=U.do!=null&&U.do!=0?U.do:72;
if(U.qh())D.LN=U.qh()[0]}else if(a){var i=a.EY(D.raw.buffer)[0],X=i.depth;D.De=[X==16?new Uint16Array(i.data):new Uint8Array(i.data),i.hp];
D.do=i.do!=null&&i.do!=0?i.do:72;D.LN=i.LN}if(D.De){D.$U=D.De[1].Y();if(z==1){var H=D.De[0],K=D.De[1],f=T.n(K.D());
T.bl(H,f,3);var d=T.KI(f,K),L=T.n(d.D()*4);T.aF(H,K,L,d);d.x=d.y=0;D.De=[L,d]}else{var H=D.De[0],K=D.De[1],d=T.JB(H,K,2,null,4278190080);
if(d.a8())d=new kk(0,0,1,1);while((d.x&15)!=0){d.x--;d.s++}while((d.y&15)!=0){d.y--;d.T++}if(!d.bs(K)&&d.D()/K.D()<.7){var L=T.n(d.D()*4,T.Gx(H));
T.aF(H,K,L,d);D.De=[L,d]}}T.Jr(D.De)}};lK.Mi="0";lK.t$="2";lK.Df="2.5";lK.nZ="2.6";lK.Dn="3";lK.q5="4";
lK.yo="4.4";lK.S_="4.5";lK.avL="4.6";lK.V8="5";lK.KQ="5.5";lK.Xc="6";lK.a9i="7";lK.aHx="8";lK.xs="9";
lK.aui="9.2";lK.CF="9.3";lK.o1="9.4";lK.az6="9.5";lK.vj="9.6";lK.ce="10";lK.qT="11";lK.Ee="12";lK.q0="13";
lK.Ab="13.1";lK.amq="13.2";lK.aX="13.3";lK.oW="13.4";lK.wo="14";lK.Et="14.1";lK.UH="14.2";lK.PZ="14.3";
lK.KW="17";lK.rT="18";lK.aof="19";lK.wF="19.5";lK.$T="19.6";lK.x8="19.7";lK.hY="19.8";lK.Kj="20";lK.tS="21";
lK.rd="21.2";lK.rY="21.3";lK.B4="21.5";lK.UC="22";lK.lC="22.5";lK.rC="23";lK.aPe="24";lK.eb="25";lK.axv="26";
lK.acp="27";lK.qJ="28";lK.dB="29";lK.vU="30";lK.Cr="31";lK.Ag="32";lK.au9="32.5";lK.o8="33";lK.Nq="34";
lK.ZZ="35";lK.lV="36";lK.xb="36.5";lK.cZ="37";lK.Zs="37.5";lK.acS="37.6";lK.mH="38";lK.Lk="38.5";lK.E8="38.6";
lK.te="39";lK.x_="40";lK.Ki="41";lK.aBs="42";lK.l$="50";lK.kU="51";lK.UT="52";lK.Fo="53";lK.j7="54";
lK.arS="54.5";lK.tP="54.6";lK.afA="54.7";lK.OZ="54.8";lK.eB="55";lK.VS="55.5";lK.Ax="56";lK.uk="57";
lK.zJ="58";lK.Ke="59";lK.RA="60";function cv(){this.depth=0;this.index=-1;this.H=null;this.apO=null;
this.Iq=-1;this.children=null;this.parent=null;this.d$=null}cv.prototype.av5=function(z,q){if(this.depth!=0)z.push(this.H.getName());
if(this.children)for(var n=0;n<this.children.length;n++)this.children[n].av5(z,q);if(z.length>q.YY.length)q.YY=z.slice(0);
if(this.depth!=0)z.pop()};cv.prototype.a1S=function(){var z=0;if(this.H.YZ()){for(var n=0;n<this.children.length;
n++)z+=this.children[n].a1S()}else if(this.H.buffer)z+=this.H.buffer.length;return z};cv.prototype.G6=function(z){var q=this.d$[z];
return this.d$[z]};cv.prototype.SN=function(z,q){var e=this.H;if(!e.Sw()||e.rs(2)||e.rs(31))return null;
if(e.eU()){var V=e.Eo.V.Je(z);if(!V&&e.Eo.color==0)return}if(e.YZ()){for(var n=0;n<this.children.length;
n++){var hE=this.children[n];hE.SN(z,q)}}else if(cW==1){var P=e.ll();if(z.Je(T.R.mB(P))&&q.indexOf(this.index)==-1)q.push(this.index)}else if(e.V.Je(z))q.push(this.index)};
cv.prototype.U8=function(z,q){var e=this.H;if(!e.Sw()||e.rs(2)||e.rs(31))return null;if(e.eU()){if(e.Eo.V.vG(z)){if(!T.U8(z,e.Eo.o,e.Eo.V))return null}else if(e.Eo.color==0)return null}if(e.YZ()){if(e.add.artb&&!e.Le().vG(z))return null;
for(var n=this.children.length-1;n>=0;n--){var hE=this.children[n],V=hE.U8(z,q);if(V&&q==null)return V}return null}else if(cW==1){if(e.add.vmsk){var P=e.add.vstk,D=!P.fillEnabled.v&&!e.Qe,B=P.strokeStyleLineWidth.v.val*.5,A=T.S.U8(e.add.vmsk.B,z,D,B);
return A.XW==-1?null:this}var s=e.ll();if(jL.Sg(s,z.x,z.y))return this}else if(e.add.TySh&&e.V.vG(z)||T.a0k(z,e.buffer,e.V)){if(q==null)return this;
else q.push(this.index)}return null};cv.prototype.alu=function(z){var q=this.H;if(!q.Sw()||q.rs(2)||q.rs(31))return null;
var e=q.add.vmsk;if(e&&e.isEnabled){var V=T.S.U8(e.B,z).XW;if(V!=-1)return{a9K:this,a6h:V}}if(q.YZ()){if(q.add.artb&&!q.Le().vG(z))return null;
for(var n=this.children.length-1;n>=0;n--){var hE=this.children[n],P=hE.alu(z);if(P)return P}return null}return null};
cv.prototype.ux=function(z,q){z.push(this.index);if(this.H.YZ()){z.push(this.Iq);if(q)if(this.H.oT==1&&this.H.OX().ck==!1)return;
for(var n=0;n<this.children.length;n++)this.children[n].ux(z)}};cv.MD=function(){var z=document.createElement("canvas");
return z.getContext("2d")};cv.a9a=function(z,q){var e,V;if(z.s>z.T){e=Math.floor(q);V=Math.floor(q*(z.T/z.s))}else if(z.s==0&&z.T==0){e=V=q}else{e=Math.floor(q*(z.s/z.T));
V=Math.floor(q)}return new f5(e,V)};cv.uj=32;cv.He=1;cv.wG=1;cv.z0=function(z){if(z==200)return"#666666";
if(z==300)return"#ffffff";if(z==500)return"#cccccc";if(z==501)return"#999999";var q="#0080ff #00ffff #4000ff #ff8000 #ffc000 #ffff00 #00dd00 #c000ff #ff4000 #ff0000 #0000ff #ff00ff #80ff00 #00ff80 #8000ff #ff0080".split(" "),e=parseInt(q[z>>>3].slice(1),16),V=0,P=z&7;
for(var n=0;n<3;n++){var D=e>>>n*8&255;if(P<4)D=Math.round((1-(P-0)/6)*D+(P-0)/6*255);else D=Math.round((1-(P-3)/6)*D+(P-3)/6*0);
V|=D<<n*8}return"#"+V.toString(16).padStart(6,"0")};cv.prototype.sZ=function(z,q,e){var V=cv.He,P=this.H;
if(P.YZ()&&P.add.artb!=null)q=P.Le();var D=V==0?P.V:q;if(D.a8()||P.add.TySh)D=q;var B=cv.uj*W.WU(),A=cv.a9a(D,B),s=A.x,a=A.y,M=cv.a9a(q,B),$=aM.get(P.add)!=null;
if(P.mp()&&P.add.vmsk==null||P.add.TySh||$)s=a=Math.max(a,16);else if(P.YZ()){s=a=Math.round(18*W.WU())}else{s=Math.max(s,6);
a=Math.max(a,6)}if(e&&P.jh==null){P.jh=cv.MD();if(cW==0){P.ayz=cv.MD();P.aKV=cv.MD();P.a1k=cv.MD()}}var U=P.mp()&&P.add.vmsk;
if(cW==2&&!P.YZ()&&P.jh){T.rR.I9(P.jh,s,a);P.jh.fillStyle=cv.z0(P.m.Aa);P.jh.fillRect(0,0,300,300)}else if(cW==1&&!P.YZ()){if(e)T.rR.alG(P.jh,s,a,z,this)}else if(U){if(e&&P.add.vstk)T.rR.rb(P.jh,s,a,D,P.buffer,P.V,!1,null,!P.add.vstk.fillEnabled.v&&!P.add.vstk.strokeEnabled.v);
if(e)T.rR.aw5(P.jh,s,a)}else if(P.add.TySh){if(e)T.rR.ad1(P.jh,a,a,P.add.TySh)}else if(P.add.SoCo){if(e)T.rR.asR(P.jh,a,a,P.add.SoCo)}else if(P.add.GdFl){if(e)T.rR.aG8(P.jh,a,a,P.add.GdFl)}else if(P.add.PtFl){if(e)T.rR.aDU(P.jh,a,a,P.add.PtFl,z)}else if($){if(e)T.rR.aEi(P.jh,a,a,P.add)}else if(P.add.SoLd){if(e)T.rR.rb(P.jh,s,a,D,P.buffer,P.V,!1);
if(e)T.rR.aDl(P.jh,s,a,P.add.SoLd)}else if(P.YZ()){}else{if(e){if(P.Be())T.rR.rb(P.jh,s,a,D,P.buffer,P.V,!1);
else{T.rR.auO(P.jh,a,a)}}}var o=P.OX();if(e){if(o)T.rR.Xh(P.ayz,M.x,M.y,q,o);if(P.LL()&&P.kL(z)&&P.kL(z).Eo){var t=P.kL(z).Eo;
T.rR.Xh(P.a1k,M.x,M.y,q,t)}if(!U&&P.add.vmsk){T.rR.Xh(P.aKV,M.x,M.y,q,P.add.vmsk.OX(),!0)}}if(o||P.add.vmsk)a=Math.max(a,M.y);
P.aN$=Math.max(a,16);if(e!=!0&&P.YZ()&&(P.add.lsct==fH._j||z.Z.length<4e3))for(var n=0;n<this.children.length;
n++)this.children[n].sZ(z,q)};cv.prototype.aCC=function(z,q,e,V){this.depth=e;var P=z[q];if(V==null)V=[];
this.d$=V;if(P.add.lsct==fH.pR){this.apO=P;this.Iq=q-1;this.children=[];var n=q+1;while(!0){var D=z[n];
if(D==null)console.log(n,z.length);if(D.add.lsct==fH._j||D.add.lsct==fH.OI){if(P.add.lyid==D.add.lyid)P.add.lyid+=16777215;
this.H=D;this.index=n-1;V[this.index]=this;V[q-1]=this;break}var B=new cv;B.parent=this;n=B.aCC(z,n,e+1,V);
this.children.push(B)}return n+1}else{this.H=P;this.index=q-1;V[this.index]=this;return q+1}};cv.prototype.GQ=function(z,q,e,V){var P=this.G6(e),D=z;
while(P.parent!=null){D=P.H.adh(D,q,V);P=P.parent}return D};cv.prototype.$i=function(z,q){var e=this.H,V=new kk;
if(!e.Sw())return V;var P=e.OX();if(e.YZ())for(var n=0;n<this.children.length;n++){var D=this.children[n].$i(z,!0);
V=V.X8(D)}else if(aM.get(e.add)!=null)V=e.eU()&&e.Eo.color==0?e.Eo.$i().Y():new kk(0,0,z.s,z.T);else if(e.mp()&&e.add.vmsk&&e.add.vmsk.isEnabled&&e.add.vstk){V=e.V.Y()}else if(e.mp()&&P&&P.isEnabled&&P.z8()!=0)V=new kk(0,0,z.s,z.T);
else{V=e.$i(z,!1,!0);if(e.add.vmsk)V=T.R.JY(V)}return q?e.adh(V,z):V};cv.dO={delete:function(z){if(z&&z.s)z.delete()},n:function(z,q){return ee.$x?new ee.ZU(z,q):T.n(z*q*4)},aPo:function(z,q,e){var V=q.s,P=q.T;
if(z==null||ee.$x&&(z.s!=V||z.T!=P||z.depth!=e)||!ee.$x&&(z.length!=V*P*4||T.Gx(z)!=e)){cv.dO.delete(z);
return ee.$x?new ee.ZU(V,P,e):T.n(V*P*4,e)}else return z},KY:function(z,q,e,V,P){(ee.$x?ee.Fk:T.aF)(z,q,e,V,P)},Dx:function(z,q,e,V,P,D,B,A,n,s,a){(ee.$x?ee.w.MT:T.w.Dx)(z,q,e,V,P,D,B,A,n,s,a)},a0m:function(z,q,e,V,P,D,B,A){var s=e.Y(),a=P.s,M=P.T,$=s.x,U=s.y,o=s.x+s.s>a?-1:0,t=s.x<0?2:1,c=s.y+s.T>M?-1:0,H=s.y<0?2:1;
for(var F=c;F<H;F++)for(var i=o;i<t;i++){s.x=$+i*a;s.y=U+F*M;cv.dO.Mt(z,q,s,V,P,D,B,A)}},Mt:function(z,q,e,V,P,D,B,A){if(ee.$x)ee.w.aKy(z,q,e,V,P,D,B,A);
else T.w.Mt(z,q,e,V,P,D,B,A)},iZ:function(z,q){if(ee.$x){ee.k$(z);ee.sm(q)}else T.FH(z,q)},q3:function(z){if(ee.$x){ee.k$(z);
ee.q3()}else{var q=T.Gx(z),e=q==8?255:q==16?65535:1;if(q==8)T.yS(z,1);else for(var n=0;n<z.length;n+=4)z[n+3]=e}},a4x:function(z,q,e,V,P){if(ee.$x){ee.w.MT(null,null,V,P,z,q,e,P,1,!1)}else{if(e==255)T.d5(z,q,V,P);
else{var D=T.n(q.D(),T.Gx(z));T.mr(V,P,D,q);T.NK(z,D);T.yS(V,0);T.aMf(D,q,V,P)}}},ps:function(z,q,e,V,P){if(ee.$x)if(ee.$x)ee.w.ps(z,q,e,V,P);
else T.ps(z,q,e,V,P)}};cv.prototype.E9=function(z,q,e,V,P,D,B){var A=typeof D=="number";if(!this.H.YZ()&&(A&&this.index>D||!A&&D.indexOf(this.index)==-1)){return}var s=this.H,a=hB._N(s),M=cv.dO,$=z.depth;
if($==null)$=T.Gx(z);var U=s.mp()?s.OX():s.Eo;if(!s.Sw())return;if(s.eU()&&U.V.a8()&&U.z8()==0){return}if(s.add.vstk==null&&this.$i(V,!1).a8()){return}if(s.mp()&&s.V.a8())return;
var o=this.$i(V,!0).HX(e);if(!q.bs(e)&&!e.Je(o))return;if(s.YZ()&&s.add.artb){var t=s.Le();e=e.HX(t)}var c=cv.aIC(s,P,a);
if(!c){this.akL(z,q,e,V,P,D,B);return}var H=B.Gh(o,$),F=H[0],i=H[1];M.KY(z,q,F,i,e);this.akL(F,i,e,V,P,D,B);
M.Dx(F,i,z,q,null,null,0,e,s.vz/255,s.pi=="diss",a.k1);B.AK(F)};cv.aIC=function(z,q,e){if(e.k1[0]*e.k1[1]*e.k1[2]==0)return!0;
return z.vz!=255&&(q.length!=0||z.YZ()||z.zA())};cv.prototype.akL=function(z,q,e,V,P,D,B){var A=this.H,s=hB._N(A),a=aM.get(A.add)!=null,M=cv.dO,$=z.depth,x=null,O=null;
if($==null)$=T.Gx(z);var U=cv.aIC(A,P,s),o=U?1:A.vz/255,t=A.mp()?A.OX():A.Eo,c=A.YZ()&&s.dJ==null&&(A.pi=="pass"||A.add.artb!=null)&&!(P.length>0||s.fill!=1||A.zA()),H=!A.YZ()&&!a&&!A.zA()&&P.length==0,F=a&&!A.zA()&&P.length==0;
if(c||H||F){var i=z,X=q;if(A.eU()){var K=B.Gh(this.$i(V,!1),$);i=K[0];X=K[1];M.KY(z,q,i,X)}if(c)this.Ib(i,X,e,V,D,B);
if(H)M.Mt(A.pi,A.a8x(V),A.V,i,X,e,o,s);if(F){var f=A.eU()&&t.z8()==0?t.$i().Y():X.Y(),K=B.Gh(f,$),d=K[0],L=K[1];
this.auD(i,X,d,L,A.add);s.Wl=!0;M.Mt(A.pi,d,L,i,X,e,o,s);B.AK(d)}if(A.eU()){M.Dx(i,X,z,q,A.ai0(),t.$i(),t.z8(),e,1,A.pi=="diss");
B.AK(i)}A.J3.asn();return}var G=A.YZ()&&A.pi=="pass"&&(P.length>0||s.fill!=1||A.zA()),f=A.V;if(A.YZ()){f=this.$i(V,!1);
if(f.D()>e.D())f=f.HX(new kk(0,0,V.s,V.T));O=B.sb(f,$);M.iZ(O,0);this.Ib(O,f,A.zA()?f:f.HX(e),V,D,B)}else if(a){f=A.eU()&&t.z8()==0?t.$i().Y():q.Y()}else{f=A.V;
x=A.a8x(V)}var v=B.sb(f,$);if(A.YZ()){M.KY(O,f,v,f,A.zA()?f:f.HX(e));if(!G)B.AK(O)}else if(a){M.iZ(v,4294967295)}else{M.KY(x,f,v,f)}if(A.eU())M.a4x(A.ai0(),t.$i(),t.z8(),v,f);
if(A.zA())if(A.J3.nX||A.J3.uC||A.J3.iY!=ee.$x||A.J3.CV||A.YZ()){var C=A.add.vmsk,S=T.n(f.D(),$);if(hB.a5s(A.add.lmfx)){if(ee.$x){if(!A.YZ()&&A.OX()==null&&A.V.bs(f)&&C==null)T.bl(A.buffer,S,3);
else{var j=T.n(f.D()*4,$);v.get(j);T.bl(j,S,3)}}else T.bl(v,S,3)}if(A.J3.uC||A.J3.iY!=ee.$x||!T.bs(S,A.J3.$Z)){var w=null;
if(A.mp()&&C&&C.isEnabled&&C.OX().color==0)w=C.OX().V;hB.aBG(A.J3.yg);A.J3.yg=hB.aIf(S,f,A.add.lmfx,A.add.fxrp,V,w);
A.J3.$Z=S;A.J3.afa=f}}if(A.zA())hB.aII(A.add.lmfx,A.J3.yg,f,z,q,e);var K=B.Gh(f,$),u=K[0],l=K[1];if(A.YZ()){M.iZ(u,0);
if(A.pi=="pass")M.KY(z,q,u,l);if(G){M.ps(O,f,u,l,A.zA()?f:f.HX(e));B.AK(O)}this.Ib(u,l,e,V,D,B)}else if(a){this.auD(z,q,u,l,A.add)}else{M.KY(x,f,u,l,e)}M.q3(u);
for(var n=0;n<P.length;n++)P[n].E9(u,l,e,V,[],D,B);var K=B.Gh(f,$),I=K[0],Q=K[1];M.KY(z,q,I,Q,e);if(a)s.Wl=!0;
M.Mt(A.pi=="pass"?"norm":A.pi,u,l,I,Q,e,1,s);B.AK(u);if(A.zA()){var b=A.J3.yg.e.FrFX,p=null,k=null,g=null,Y=null,R=null;
if(b.length!=0){p=b[0];for(var n=0;n<b.length;n++)if(b[n].Of.s>p.Of.s)p=b[n];var K=B.Gh(p.Of,$);k=K[0];
g=K[1];var K=B.Gh(p.Of,$);Y=K[0];R=K[1];M.KY(z,q,k,g,e)}hB.aEg(A.add.lmfx,A.J3.yg,f,z,q,e,I,Q,k,g,Y,R);
B.AK(k);B.AK(Y)}M.Dx(I,Q,z,q,v,f,0,e,1,A.pi=="diss");A.J3.asn();B.AK(v);B.AK(I)};cv.prototype.auD=function(z,q,e,V,P){var D=aM.get(P),B;
if(D)B=aM.LU(D,P[D]);var A=T.Gx(z),s=cv.dO;if(!(ee.$x&&q.bs(V)))s.KY(z,q,e,V);if(B){if(ee.$x){var a=V.Y();
a.x=a.y=0;if(q.bs(V)){ee.k$(e,a);aM.ej(B,z.nj,z.depth)}else{ee.k$(e,a);e.Nd(a);aM.ej(B,e.kn,e.depth)}}else aM.vl(B,e,e,V)}return e};
cv.aJc=function(z,q){var e=T.n(q.D()*4);if(ee.$x)z.get(e);else e=z;return e.slice(0,4)};cv.prototype.Ib=function(z,q,e,V,P,D){var B=q.s,A=q.T,s=q.x,a=q.y,hE=e,M=hE.x,$=hE.y,U=-1,o=-1,t=2,c=2,F=!1;
if(!V.s_){U=o=0;t=c=1}var H=this.children;for(var n=0;n<H.length;n++){if(!H[n].H.Ev)F=!0;if(!F)continue;
var i=aM.get(H[n].H.add)!=null,X=[];for(var K=n+1;K<H.length;K++)if(H[K].H.Ev)X.push(H[K]);else break;
for(var f=o;f<c;f++)for(var d=U;d<t;d++){q.x=s+d*B;q.y=a+f*A;hE.x=M+d*B;hE.y=$+f*A;if((d!=0||f!=0)&&i)continue;
H[n].E9(z,q,hE,V,X,P,D)}n+=X.length}q.x=s;q.y=a;hE.x=M;hE.y=$};(function(){cv.prototype.gz=function(P,D,B,A){var s=this.H,a=s.add.lmfx,M=s.add.TySh,$=s.add.SoLd,o=null;
if(!s.Sw())return;D.save();var U=s.vz/255*(s.add.iOpa?s.add.iOpa/255:1);D.globalAlpha*=U;D.globalCompositeOperation=aA.v1[aA.q2.indexOf(s.pi)];
var t=P.add.prvw==0;if(t){D.lineWidth=1/P.A.C7;D.fillStyle="black"}var c=hB.aBV(s,!1);if(c){o=D;var H=document.createElement("canvas");
H.width=D.canvas.width;H.height=D.canvas.height;var F=D.getTransform();D=H.getContext("2d");D.setTransform(F.a,F.b,F.c,F.d,F.e,F.f)}if(s.YZ()){var i=this.children,X=null;
for(var n=0;n<i.length;n++)if(i[n].H.Qe&&i[n].H.Sw())X=i[n].H;if(X&&!t){D.beginPath();q(X,D);D.clip()}for(var n=0;
n<i.length;n++)i[n].gz(P,D,B,A)}else if(M){var K=!0;if(s.J3.path==null){K=ey.vM(M,B.Se);if(K)ey.tM(s,B.Se,!1)}if(K){{var f=M.v;
D.save();z(D,f);var d=s.J3.path;if(t){var L=d._.slice(0);for(var n=0;n<L.length;n++)if(L[n][0]=="#")L[n]="#000000";
d={_:L,J:d.J}}ey.aGB(d,D);D.restore()}}}else if(s.mp()&&s.add.vmsk&&(!s.Qe||t)){var G=s.add.vmsk;D.beginPath();
q(s,D);if(t){D.stroke()}else{var x=s.add.vstl;if(x.oO.length!=0){var O=e(x.oO,G.B,P,D);if(O[1]){D.save();
z(D,O[1])}D.fillStyle=O[0];D.fill(["nonzero","evenodd"][G.HO]);if(O[1]){D.restore()}}if(x.i8.length!=0){T.S.KG(x,D);
D.strokeStyle=e(x.i8,G.B,P,D,!0)[0];D.stroke()}}}else if($){var v=$.filterFX;if(v){var O=v.v.filterFXList.v;
for(var n=0;n<O.length;n++){var C=O[n].v;if(!C.enab.v)continue;var S=ak.s4(C);if(S=="GsnB"){D.filter="blur("+C.Fltr.v.Rds.v.val*P.A.C7+"px)"}}}var w=$.Idnt.v,u=P.VH(w,$.Crop?$.Crop.v:null),f=T.O.gK($),l=u.De;
if(t){var I=W.On.a3($.Trnf);D.moveTo(I[0],I[1]);for(var n=2;n<8;n+=2)D.lineTo(I[n],I[n+1]);D.closePath();
D.stroke()}else V(P,s,D,f,l)}if(c){o.save();o.setTransform(1,0,0,1,0,0);o.drawImage(D.canvas,0,0);o.restore();
D=o}D.globalAlpha/=U;D.globalCompositeOperation="source-over";D.restore()};function z(P,D){P.transform(D.x6,D.c,D.I$,D.at,D.yK,D.ww)}function q(P,D){var B=P.add.vmsk.B;
for(var n=0;n<B.length;n++){if(B[n].e>5)continue;var A=B[n].length;if(A==0)continue;var s=B[n].e==3;
T.S.aEV(D,B,n+1,A,0,0,s);if(!s)D.closePath();n+=A}}function e(P,D,B,A,s){if(P.length==3)return[CSS.ao8(P),null];
else if(P.length==2){var a=B.m7[P[0]],M=1,$=a.aec;if($==null){var U=document.createElement("canvas"),o=U.getContext("2d");
U.width=Math.round(a.s*M);U.height=Math.round(a.T*M);o.scale(M,M);a.root.gz(a,o,{},null);$=a.aec=A.createPattern(U,"repeat")}var t=new e5(1/M,0,0,1/M,0,0),c=B.do/72,H=new e5;
H.concat(t);var F=P[1][1];H.concat(new e5(F[0],F[1],F[2],F[3],c*F[4],c*F[5]));H.scale(1,-1);return[$,H]}else{var i=P[0],X=P[1],K=P[2],f=-K[5]*Math.PI/180,d=jw.w4(P,D),L,t;
if(i==0){var G=[0,0,1,0];T.R.v(G,d,G);L=A.createLinearGradient(G[0],G[1],G[2],G[3])}else{var G=[Math.cos(f)*K[6],Math.sin(f)*K[6],0,0,1,0],x=Math.abs(d.x6*d.c+d.I$*d.at)<1e-9,O=Math.abs(d.x6*d.x6+d.c*d.c-d.I$*d.I$-d.at*d.at)<1e-9,v=x&&O;
if(v||s){T.R.v(G,d,G);var C=G[4]-G[2],S=G[5]-G[3];L=A.createRadialGradient(G[0],G[1],0,G[2],G[3],Math.sqrt(C*C+S*S))}else{L=A.createRadialGradient(G[0],G[1],0,0,0,1);
t=d}}T.Yf.afk(L,X);return[L,t]}}function V(P,D,B,A,s){if(A==null)A=new e5;var a=D.buffer,M=D.V;if(s){var $=A.vx()*P.A.C7,U=0;
while(1<<U/2<.5/$&&U+2<s.length)U+=2;a=s[U];M=s[U+1];M=M.Y();M.x=M.y=0;var $=1<<U/2,o=new e5;o.scale($,$);
o.concat(A);A=o}if(M.a8())return;var t=document.createElement("canvas");t.width=M.s;t.height=M.T;var c=t.getContext("2d");
c.putImageData(new ImageData(new Uint8ClampedArray(a.buffer),M.s,M.T),0,0);B.transform(A.x6,A.c,A.I$,A.at,A.yK,A.ww);
B.drawImage(t,M.x,M.y);A.TG();B.transform(A.x6,A.c,A.I$,A.at,A.yK,A.ww)}}());function hq(z){this.Eh="psd";
this.QB=!1;this.name=z;this.Ut=8;this.depth=8;this.cN=-1;this.s_=!1;this.kK=null;this.by=null;this.dP=null;
this.FQ=null;this.s=0;this.T=0;this.buffer=null;this.Z=[];this.kj={};this.add={};this.EC=[];this.m7={};
this.RM=[];this.aec=null;this.uG=4;this.pO=null;this.do=72;this.MX={};this.j=[];this.r3=[];this._t=!1;
this.tQ=[];this.gH=[];this.yj=[hq.Hj("Work Path")];this.Fi=-1;this.o0=[];this.L3=null;this.jA={classID:"CompList",list:{t:"VlLs",v:[]}};
this.eJ=null;this.pT=[];this.G5=[];this.gd=[];this.m={rU:960,Ul:120,HL:[4,4],MU:!1,o9:!1,U6:0};this.root=null;
this.sg=null;this.HA=!1;this.adw=!1;this.amt=!1;this.aKf=!1;this.ZI=!1;this.XU=!1;this.y8=!1;this.$k=!1;
this.Du=!1;this.de=!1;this.nX=null;this.aty=null;this.h=null;this.kv=[];this.C2=[];this.X={fD:{},Bj:[],uX:[],y6:[],cU:[],EO:[],NI:null,st:null,VK:null,IY:null,kf:null,P7:null,Fl:null,bG:null,Iu:[],QZ:[],Hg:null};
this.history=[new ji([1,0],null)];this.B5=0;this.Tz=0;this.aw$=0;this.ade=0;this.aOA=Date.now();this.dL=null;
this.AU=!1;this.A=new gg(this);this.zQ=null;this.aca=null}hq.prototype.dS=function(z){var q=this,e=q.aiH,V=null,P,B=!1;
if(z&&e==null)return;var D=new kk(0,0,q.s,q.T);if(this.Ov(!1))V=q.Z[q.j[0]];if(z)V=null;if(z)console.log("clearing");
if(e&&e!=V){P=e.V;e.Sn();if(!P.bs(e.V)){e.Kv();if(B)console.log("compressing",e.getName())}}if(V){P=V.V;
V.extend(D);if(!P.bs(V.V)){V.Kv();if(B)console.log("extending",V.getName())}}this.aiH=V};hq.prototype.zb=function(z){var q=this;
q.Tz=q.B5;q.aw$=Date.now();q.XU=!0;if(z)this.aOA=Date.now()};hq.prototype.at6=function(){var z=this,q=z.add.artd;
return q!=null&&q.Cnt.v>1||z.add.arts&&z.add.arts.length>1};hq.prototype.L4=function(z){if(z){if(z.length==30240){this.L4(null);
return}if(z.length==399788){this.L4(null);return}this.kj.r1039=z;var q=ICC.R(z.buffer),P=null,D=17,$,U;
if(q==null||q.tags.desc==null){this.L4(null);return}var e=q.header.spaceIn.toLowerCase(),V=JSON.stringify(q.tags.desc).toLowerCase();
try{P=ICC.U.profileName(q)}catch(cz){}if(e!="rgb "||P==null||V.indexOf("srgb")!=-1&&V.indexOf("p3")==-1&&V.indexOf("linear")==-1||V.indexOf("apple wide color sharing profile")!=-1||V.indexOf("apple poppy output profile")!=-1||e=="rgb "&&this.add.fcmy==1){this.L4(null);
return}console.log("We got an ICC profile!",q,P);try{var B=ICC.U.sampleLUT(q,D)}catch(cz){this.L4(null);
return}var A=T.Pv("rgbToRgbC"),s=A[2],a=A[3],M=hq.a6T(B,a,s);if(ee.$x){$=new ee.ZU(D,D*D,ee.se());$.set(ICC.U.lutToRGBA32(B,D));
U=new ee.ZU(D,D*D,ee.se());U.set(ICC.U.lutToRGBA32(M,D))}this.zQ=[z,q,D,B,$,M,U]}else{delete this.kj.r1039;
this.zQ=null}};hq.a6T=function(z,q,e){var V=z.slice(0),P=T.n(4,32);for(var n=0;n<z.length;n+=3){P[0]=z[n];
P[1]=z[n+1];P[2]=z[n+2];ICC.U.applyLUT(q,e,P,P);V[n]=P[0];V[n+1]=P[1];V[n+2]=P[2]}return V};hq.prototype.qh=function(){return this.zQ};
hq.prototype.Rz=function(){if(this.zQ)return this.zQ;if(this.add.fcmy==1){if(this.aca==null){var z=T.Pv("rgbToRgbC"),q=z[2],e=z[3],V;
if(ee.$x){V=new ee.ZU(q,q*q,ee.se());V.set(ICC.U.lutToRGBA32(e,q))}this.aca=[null,null,q,null,null,e,V]}return this.aca}};
hq.prototype.ahi=function(){var z=this.qh();if(z==null)return 0;var q=ICC.U.profileName(z[1]);if(q.indexOf("sRGB")!=-1)return 0;
if(q.indexOf("Adobe RGB (1998)")!=-1)return 1;if(q.indexOf("ProPhoto RGB")!=-1)return 2;if(q.indexOf("Display P3")!=-1)return 3;
return-1};hq.prototype.aPH=function(z,q){var e=this.ahi();if(e==-1||Math.max(q,z)!=32)return!1;var V=hq.aT[e];
if(q==32)V+="_lin";this.L4(V=="icc/srgb"?null:hZ.ui.get(V));return!0};hq.prototype.a2g=function(){var z=this;
if(z.A.Ox.join("")!="111"){z.A.Ox=[1,1,1];z.XU=!0}for(var n=0;n<z.Z.length;n++){var q=z.Z[n],e=q.add.vmsk;
if(q.LL()){var V=q.kL(z);if(V&&V.Eo&&V.Eo.eq){V.Eo.eq=!1;z.XU=!0}}var P=q.OX();if(P&&P.eq){P.eq=!1;z.XU=!0}if(e){if(e.j.length!=0)e.j=[];
if(e.V3.length!=0)e.V3=[]}}};hq.prototype.auy=function(){var z=this;return z.h!=null||z.Kn()[1].length!=0||z.j.length>1};
hq.prototype.Il=function(){var z=this.r3,q=[];for(var n=0;n<z.length;n++)q[n]=-1;var e=this.root.children;
for(var n=0;n<e.length;n++){var V=e[n],P=V.H.add.artb;if(P==null)continue;var D=P.guideIndeces;D=D?D.v:[];
for(var B=0;B<D.length;B++)q[D[B].v]=V.index}return[T.G(z),q]};hq.prototype.m6=function(z){this.r3=T.G(z[0]);
var q=z[1],e=this.root.children;for(var n=0;n<e.length;n++){var V=e[n],P=V.H.add.artb;if(P==null)continue;
P.guideIndeces={t:"VlLs",v:[]}}for(var n=0;n<q.length;n++)if(q[n]!=-1)this.Z[q[n]].add.artb.guideIndeces.v.push({t:"long",v:n})};
hq.prototype.av7=function(z){var q=this;if(z[0])q.add.lnk2=z[0];else delete q.add.lnk2;if(z[1])q.add.FEid=z[1];
else delete q.add.FEid;if(z[2])q.add.Patt=z[2];else delete q.add.Patt};hq.prototype.awk=function(z){var q=this,e=[],V=[],P=[],t=null,c=null,H=null;
for(var n=0;n<z.length;n++){var D=z[n];if(D.add.SoLd){e.push(D.add.SoLd.Idnt.v);V.push(D.add.SoLd.placed.v)}if(D.add.PtFl)P.push(D.add.PtFl.Ptrn.v.Idnt.v);
if(D.add.lmfx){for(var B=0;B<az.cx.length;B++){var A=D.add.lmfx[az.cx[B]].v;for(var s=0;s<A.length;s++)if(A[s].v.Ptrn){var a=A[s].v;
if(a.classID=="FrFX"&&a.PntT.v.FrFl!="Ptrn")continue;P.push(a.Ptrn.v.Idnt.v)}}}var M=D.add.vstk;if(M&&M.strokeStyleContent.v.classID=="patternLayer"){P.push(M.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var $=q.add.lnk2,U=q.add.FEid,o=q.add.Patt;
if($){t=[];for(var n=0;n<$.length;n++)if(e.indexOf($[n].PP)!=-1)t.push($[n]);if(t.length==0)t=null}if(U){c=[];
for(var n=0;n<U.length;n++)if(V.indexOf(U[n].id)!=-1)c.push(U[n]);if(c.length==0)c=null}if(o){H=[];for(var n=0;
n<o.length;n++)if(P.indexOf(o[n].id)!=-1)H.push(o[n]);if(H.length==0)H=null}return[t,c,H]};hq.prototype.rz=function(z){var q=this,e=q.root.G6(z==null?q.j[0]:z),V=!1;
while(e.parent!=null){V=V||e.H.rs(31);e=e.parent}return V};hq.prototype.LG=function(){var z=this.kv,q=this.kv.length;
if(q!=0&&z[q-1].name=="Quick Mask")return z[q-1]};hq.prototype.a_=function(){return this.Eh==jS.kc("% |/!)")||this.Eh==jS.Mh("gP")};
hq.prototype.Ic=function(z){var q=this.add.artd;if(z!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:z},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};hq.prototype.Zl=function(z){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(z)==-1)this.add.FEid.push(z)};
hq.prototype.yl=function(z){var q=this.add.FEid.indexOf(z);this.add.FEid.splice(q,1);if(this.add.FEid.length==0)delete this.add.FEid};
hq.prototype.Kv=function(z){if(z==null)z=new kk(0,0,this.s,this.T);if(this.nX==null)this.nX=z;else this.nX=this.nX.X8(z)};
hq.prototype.av6=function(z){return this.nX!=null};hq.prototype.ri=function(z){var q=this.Z[z],e=this.root.G6(z);
if(e==null)return!1;if(q.YZ()||e.parent.children.indexOf(e)==0)return!1;return!0};hq.aqp=function(z){if(z.add.lnk2)for(var n=0;
n<z.add.lnk2.length;n++){var q=z.add.lnk2[n].PP;z.add.lnk2[n].PP=hq.ky()+q.slice(8);for(var e=0;e<z.Z.length;
e++){var V=z.Z[e].add.SoLd;if(V&&V.Idnt.v==q)V.Idnt.v=z.add.lnk2[n].PP}}};hq.prototype.fK=function(z,q,e){z.sort(function($,U){return $-U});
var top=z[z.length-1],V=this.Z.slice(0),P=this.j.slice(0),D=[],B=[];for(var n=0;n<this.Z.length;n++){if(z.indexOf(n)!=-1)B.push(this.Z[n]);
else D.push(this.Z[n])}this.l_(B);this.j=[];var A=this.root.$i(this,!0);if(q)A=A.HX(q);if(e)A=A.X8(e);
if(A.a8())A=new kk(0,0,100,100);var s=new kk(-A.x,-A.y,this.s,this.T),a=new Uint8Array(hZ.nw("PSD").gB(this,0,0,[!0,!1]));
this.l_(V);this.j=P;var M=new hq(this.Z[top].getName());hZ.nw("PSD").EY(a.buffer,M);delete M.add.artd;
M.tQ=[];M.l_(M.Z);M.m6([[],[]]);hq.aqp(M);W.hV.Tm(M,A);M.Kv();M.n9();M.tW();return[M,A,D,top]};hq.prototype.abc=function(z,q,e){var V=this.fK(z),P=V[0],D=V[1],B=V[2],top=V[3],A;
if(e=="jpg")A=new Uint8Array(hZ.nw("JPG").gB([[P.tW().buffer]],P.s,P.T,[80]));else A=new Uint8Array(hZ.nw("PSD").gB(P,null,null,[!0,!1]));
if(q)B=this.Z.slice(0);var s=this.Ql(A,P.name,D.x,D.y);if(top==this.Z.length-1)B.push(s);else B.splice(q?top+1:top-z.length+1,0,s);
this.l_(B);this.j=[B.indexOf(s)]};hq.ky=function(z){if(z==null)z="";var q="";while(q==""||q==z){q="";
for(var n=0;n<8;n++)q+=Math.floor(Math.random()*16).toString(16)}return q};hq.prototype.hI=function(z){if(z==null)return;
if(this.add.Patt==null)this.add.Patt=[];var q=this.add.Patt;for(var n=0;n<q.length;n++)if(q[n].id==z.id)return;
q.push(z)};hq.prototype.a0y=function(z){for(var n=0;n<this.Z.length;n++){var q=this.Z[n],e=q.add.SoLd;
if(e&&e.Idnt.v==z)q.N7(this)}};hq.prototype.Ql=function(z,q,e,V,P,D,B){if(this.add.lnk2==null)this.add.lnk2=[];
var A=null;for(var n=0;n<this.add.lnk2.length;n++)if(T.bs(z,this.add.lnk2[n].raw)){A=this.add.lnk2[n].PP;
break}if(A==null){var s=hZ.J7(z.buffer);A=hq.ky()+"-d71c-11e5-b1ae-a548a96e5f9f";var a=new lK.tf;a.PP=A;
a.ya=s=="psd"?"8BIM":"    ";a.hb=q+"."+s;a.y3=s=="psd"?"8BPB":"    ";a.open=0;a.raw=z;a.e="liFD";a._S=2;
this.add.lnk2.push(a)}var M=this.VH(A,null,null,null,D,B),$=hq.ky()+"-d71c-11e5-b1ae-a548a96e5f9f",U=this.OJ(),o=M?M.$U:new kk;
U.up(q);U.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:A},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:$},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:T.OL.n(o)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:o.s},Hght:{t:"doub",v:o.T}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:M?M.do:72}}};
var t=o.Y();if(e!=null)t.offset(e,V);if(M!=null&&P){var s=hZ.J7(z.buffer),c=this.A,H=P,F=c.Gb(P.x+P.s/2,P.y+P.T/2);
if(!c.bX.vG(F)){var i=T.R.iR(c.bX).J;T.R.v(i,c.VL(),i);P=P.HX(T.R.b_(i))}var X=P.x,K=P.y,f=P.s,d=P.T;
t=M.$U.Y();t.offset(X+e,K+V);var L=L=this.do/(M.do?M.do:s=="pdf"?144:this.do);t.s=t.s*L;t.T=t.T*L;var G=Math.max(t.s/H.s,t.T/H.T);
if(G>1.0001){t.s=t.s/G;t.T=t.T/G}t.x=Math.round(X+(f-t.s)/2);t.y=Math.round(K+(d-t.T)/2)}var x=T.R.iR(t).J;
U.add.SoLd.Trnf=W.On.V1(x);U.add.SoLd.nonAffineTransform=W.On.V1(x);if(M){if(P)U.N7(this,!1);else if(cW==0){U.V=M.De[1].Y();
U.V.offset(t.x,t.y);U.buffer=M.De[0].slice(0)}}return U};hq.prototype.GM=function(z){var q=this.add.arts,e=new kk;
for(var n=0;n<q.length;n++)e=e.X8(T.R.mB(q[n].sI));if(z!=!0)e=T.R.JY(e);return e};hq.prototype.Vc=function(z,q,e){var V=this.GM();
if(q==null){q=V.s;e=V.T}var P=T.Hx(q,e);P.save();P.translate(-V.x,-V.y);P.scale(q/V.s,e/V.T);this.root.gz(this,P,z,new kk(0,0,q,e));
P.restore();return P.getImageData(0,0,q,e).data.buffer};hq.prototype.tW=function(z){if(z!=null){this.Kv();
this.n9(z);var q=this.buffer;if(ee.$x)this.sg.get(q);else q=q.slice(0);this.Kv();this.n9();return q}if(this.nX){this.n9();
this.nX=null}if(ee.$x&&this.aty){this.sg.get(this.buffer);this.aty=null;this.y8=!0}return this.buffer};
hq.prototype.awp=function(){for(var n=0;n<this.Z.length;n++)this.Z[n].aK0();this.Kv()};hq.prototype.af6=function(){for(var n=0;
n<this.Z.length;n++)if(this.Z[n].add.lmfx)this.Z[n].J3.uC=!0};hq.prototype.iH=function(){var z=this.kj.r1044;
if(z==null){z=this.kj.r1044=new Uint8Array(4);var q=0;for(var n=0;n<this.Z.length;n++)q=Math.max(q,this.Z[n].add.lyid);
y.lt(z,0,q)}var e=y.vQ(z,0);y.lt(z,0,e+1);return e+1};hq.prototype.Ov=function(z,q,e){if(z==null)z=!0;
var V=this;if(V.C2.length!=0)return!0;if(V.j.length!=1){if(z)alert(V.j.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.YM(z,q,e)};hq.prototype.YM=function(z,q,e){if(z==null)z=!0;if(q==null)q=!1;var V=this;
if(V.C2.length!=0)return!0;for(var n=0;n<V.j.length;n++){var P=V.Z[V.j[n]],D=q||P.oT<=0;if(P.add.lsct!=null&&P.add.lsct!=fH.Oj&&P.oT!=1){if(z)alert(iE.get([15,7,2]));
return!1}if(D&&!P.Be()){if(z)alert(iE.get([15,7,2]));return!1}if(D&&P.add.TySh){return this.atb(z,[15,7,3],e)}if(D&&P.add.SoLd){return this.atb(z,[15,7,4],e)}if(P.rs(1)||V.rz(V.j[n])){if(z)alert(iE.get([6,57,0]));
return!1}}return!0};hq.prototype.atb=function(z,q,e){if(z&&typeof z=="object"){var V=new dW(_.E.b);V.data={p:_.m.wa,rF:"confirm"};
V.data.u=iE.get(q)+". "+iE.get([6,8])+"?";var P=z;V.data.Wm=function(){var D=new dW(_.E.zN,!0);D.data={gQ:"rasterizeLayer",cj:{classID:"rasterizeLayer",null:fw.y5("Lyr",!0)}};
P.K(D)};z.K(V);return!1}if(z)alert(iE.get(q));return!1};hq.prototype.a8k=function(z){var q=this.root.G6(z);
if(q.parent)return q.H.Sw()&&this.a8k(q.parent.index);else return q.H.Sw()};hq.prototype.PM=function(z){var q=this;
if(z){var e=0;for(var n=0;n<q.j.length;n++)if(q.Z[q.j[n]].add.artb)e++;if(e>1)return-1}if(q.add.artd&&q.j.length!=0){var V=q.root.G6(q.j[0]);
while(V.parent.parent)V=V.parent;if(V.H.add.artb)return V.index}return-1};hq.prototype.vL=function(){var z=this.PM();
if(z!=-1){var q=this.Z[z].Le();return new f5(q.x,q.y)}return new f5(0,0)};hq.prototype.a5_=function(){var z=this.Z[this.j[0]];
if(z.oT<=0&&!z.V.Je(this.h.V)){alert("Selected area is empty.");return!1}if(this.j.length==1&&this.h){var q=T.n(this.h.o.length);
T.mr(z.buffer,z.V,q,this.h.V);T.NK(this.h.o,q);if(T.Rh(q,0)){alert("Selected area is empty.");return!1}}return!0};
hq.prototype.RP=function(){if(this.kj["r"+1037]==null)this.Ru(30);return y.ca(this.kj["r"+1037],0)};
hq.prototype.Ru=function(z){if(this.kj["r"+1037]==null)this.kj["r"+1037]=new Uint8Array(4);if(y.ca(this.kj["r"+1037],0)==z)return;
y.dR(this.kj["r"+1037],0,z);this.af6()};hq.prototype.jL=function(){if(this.kj["r"+1049]==null)this.nP(30);
return y.ca(this.kj["r"+1049],0)};hq.prototype.nP=function(z){if(this.kj["r"+1049]==null)this.kj["r"+1049]=new Uint8Array(4);
if(y.ca(this.kj["r"+1049],0)==z)return;y.dR(this.kj["r"+1049],0,z);this.af6()};hq.prototype.mn=function(z){if(this.add.lnk2==null)return null;
for(var n=0;n<this.add.lnk2.length;n++)if(this.add.lnk2[n].PP==z)return this.add.lnk2[n];return null};
hq.prototype.aoU=function(z){var q=this.mn(z);if(q==null)return!1;var e=hZ.J7(q.raw.buffer);if(e==null)return!1;
if(hZ.nw(e)!=null||e=="psd")return!0;return!1};hq.prototype.VH=function(z,q,e,V,P,D){var B=this.mn(z);
if(B==null)return null;B.tW(q,e,V,P,D);if(B.De)return B};hq.prototype.ag9=function(){var z=this.s,q=this.T,e=this.sg,V=this.depth;
if(ee.$x&&e==null)e=this.sg=new ee.ZU(z,q,V,!0);if(this.buffer==null||this.buffer.length!=z*q*4||ee.$x&&(e.s!=z||e.T!=q||e.depth!=V)){this.buffer=T.n(z*q*4,V);
if(e)e.delete();if(ee.$x)e=this.sg=new ee.ZU(z,q,V,!0)}};hq.prototype.abE=function(){this.ag9();if(ee.$x){this.sg.set(this.buffer)}};
hq.prototype.n9=function(z){if(cW!=0)throw"redrawing in vector mode";var q=this.s,e=this.T,V=new kk(0,0,q,e),P=this.s_?V:V.HX(this.nX);
this.ag9();if(P.a8())return;if(!P.bs(V)){if(!ee.$x){var D=T.n(P.D()*4,this.depth);T.aF(D,P,this.buffer,V)}if(ee.$x){ee.k$(this.sg,P);
ee.sm(0)}}else{if(ee.$x){this.sg.set(null)}else{this.buffer.fill(0)}}var B=Date.now(),A=ee.$x?this.sg:this.buffer;
if(z==null)z=1e9;var s=this.root.children;for(var n=0;n<s.length;n++){var a=s[n].H;if(a.Sw()&&a.add.artb&&this.add.artd){var M=a.Le(),$=P.HX(M),U=a.gq();
if(U!=0){if(ee.$x){ee.k$(A,$);ee.sm(U);ee.sm(U)}else T.aJv(A,V,$,U)}}}this.root.E9(A,V,P,this,[],z,b8);
b8.akn();this.aty=this.nX.Y()};hq.prototype.OJ=function(z){var q=new lK;q.V=new kk(0,0,0,0);q.buffer=T.n(0,this.depth);
q.up("Layer");if(z!=!0)q.add.lyid=this.iH();q.add.lsct=fH.Oj;q.add.lclr=0;q.add.fxrp=new f5(0,0);return q};
hq.prototype.cs=function(z){var q=this.OJ(z);q.up("</Layer group>");q.add.lsct=fH.pR;q.b9=24;return q};
hq.prototype.lJ=function(){return this.B5!=this.Tz||Date.now()-this.aOA>5*60*1e3&&this.B5>0&&this.Z.length>1};
hq.prototype.Q6=function(z){while(this.history.length>this.B5+1)this.history.pop();if(this.Tz>this.B5)this.Tz=-1;
if(z.U.id!=W.Ao){this.aKf=!0;if(this.jA.lastAppliedComp){delete this.jA.lastAppliedComp;this.y8=!0}}this.history.push(z);
this.B5++;this.y8=!0;var q=lA.aY()?40:20,e=0;for(var n=this.history.length-1;n>=0;n--){var V=this.history[n];
if(V.aEo)continue;e++;if(e==q){this.B5-=n;this.history=this.history.slice(n);break}}};hq.prototype.$p=function(){if(this.B5!=this.history.length-1)return null;
return this.history[this.history.length-1]};hq.prototype.u4=function(z,q,e,V){if(z==null)z=!1;var P=q!=null?[q]:this.j.slice(0);
if(V){var D=[];for(var n=0;n<P.length;n++){var B=this.Z[P[n]],A=B.Km;if(B.l6&&A!=0&&D.indexOf(A)==-1)D.push(A)}if(D.length!=0)for(var n=0;
n<this.Z.length;n++){var B=this.Z[n],A=B.Km;if(B.l6&&A!=0&&D.indexOf(A)!=-1&&P.indexOf(n)==-1)P.push(n)}}var s=[];
for(var n=0;n<P.length;n++){var a=this.U3(P[n],z);for(var M=0;M<a.length;M++)if(s.indexOf(a[M])==-1)s.push(a[M]);
if(e){var hE=this.root.G6(P[n]);while(hE.parent!=null&&hE.parent.parent!=null){hE=hE.parent;if(s.indexOf(hE.index)==-1){s.push(hE.index,hE.Iq)}}}}return s};
hq.prototype._i=function(z,q,e){var V=this,P=V.u4(!1,z,null,e);P.sort(function(X,K){return X-K});var D={};
for(var B=0;B<V.Z.length;B++){var A=V.Z[B].getName();D[A]=!0}var s=[];for(var n=0;n<P.length;n++){var a=V.Z[P[n]].Y(),H,F;
a.add.lyid=V.iH();a.add.lspf=0;if(a.LL()){var M=a.kL(V),$=hq.ane(M);V.Zl($);a.add.SoLd.placed.v=$.id}else if(a.add.SoLd){var U=a.add.SoLd.placed.v;
a.add.SoLd.placed.v=hq.ky(U.slice(0,8))+U.slice(8)}a.ly(V);var o=a.getName(),t=o.length;while(48<=o.charCodeAt(t-1)&&o.charCodeAt(t-1)<=57)t--;
var c=parseInt(o.slice(t));if(isNaN(c)){if(o.endsWith(" copy")){c=1;H=o.slice(0,o.length-5)}else{c=0;
H=o}}else if(o.slice(0,t).endsWith(" copy ")){c=c;H=o.slice(0,t-6)}else{c=0;H=o}c++;while(!0){F=H+" copy"+(c==1?"":" "+c);
if(D[F]==null)break;c++}var i=P.indexOf(this.root.G6(P[n]).parent.index)!=-1;if(o=="Background"&&V.Z.length==1)F=H="Layer 1";
if(q!=!0&&!i)a.up(F);D[F]=!0;if(cv.wG==0)a.up(H);s.push(a)}return s};hq.ane=function(z){return{id:hq.ky(z.id.slice(0,8))+z.id.slice(8),buffer:z.buffer.slice(0),V:z.V.Y(),Eo:z.Eo?z.Eo.Y():null}};
hq.aEK=function(z,q){return{id:z,V:new kk,buffer:T.n(1,q),Eo:new lK.Eu(q)}};hq.Hj=function(z,q,e){if(e==null)e=[0,0];
if(q==null)q={vmsk:new lK.cI};if(q.vogk==null){q.vogk=[];var V=T.S.S2(q.vmsk.B);for(var P=0;P<V;P++)q.vogk.push(T.w0.hz())}return{name:z,XW:0,IT:e,add:q}};
hq.prototype.Kn=function(z){var q=[],e=[],V=this;for(var n=1;n<V.yj.length;n++){var P=V.yj[n];P.XW=-1-n;
q.push(P);if(V.o0.indexOf(n)!=-1)e.push(q.length-1)}if(V.yj[0].add.vmsk.B.length>2){var P=V.yj[0];P.XW=-1;
q.push(P);if(V.o0.indexOf(0)!=-1)e.push(q.length-1)}var D=V.L3==null;if(D)V.L3=[];for(var n=V.j.length-1;
n>=0;n--){var B=V.j[n],A=V.Z[B],s=A.add.TySh;if(A.add.vmsk!=null){var P=hq.Hj("\""+A.getName()+"\" Shape Path",A.add);
P.XW=B;q.push(P);if(D&&(A.bS||A.mp()))V.L3.push(B);if(V.L3.indexOf(B)!=-1)e.push(q.length-1)}if(s&&s.add&&T.OL.nD(s.au)){var P=hq.Hj("\""+A.getName().slice(0,10)+"..\" Text Path",s.add);
P.XW=1e6+V.j[n];q.push(P);e.push(q.length-1)}}if(e.length==0&&z){V.yj[0].XW=-1;V.o0=[0];e.push(q.length);
q.push(V.yj[0])}return[q,e]};hq.prototype.U3=function(n,z){var q=[],hE=this.root.G6(n);if(hE)hE.ux(q,z);
return q};hq.prototype.b$=function(){this.root.sZ(this,new kk(0,0,this.s,this.T))};hq.prototype.l_=function(z){for(var n=0;
n<this.Z.length;n++){var q=this.Z[n];if(z.indexOf(q)==-1){q.J3.at3();q.Kv()}}var e=0;for(var n=0;n<z.length;
n++)if(z[n].add.artb)e++;this.Ic(e);this.Z=z.slice(0);this.To()};hq.prototype.To=function(){var z=this.Z,q=z.length;
this.root=new cv;var e=this.OJ(!0);e.pi="pass";e.add.lsct=fH._j;e.up("");var V=this.cs(!0),P=[V];for(var n=0;
n<q;n++)P.push(z[n]);P.push(e);this.root.aCC(P,0,0);if(this.j.length==0)this.j=[q-1]};hq.prototype.uf=function(){if(this.j.length!=1)return;
var z=this.root.G6(this.j[0]);while(z.parent!=null){var q=z.parent.H;q.add.lsct=fH._j;z=z.parent}this.XU=this.abw=!0};
hq.prototype.ab5=function(){this.To();var z=[this.root],jZ=0;while(z.length!=0){var top=z.pop();jZ++;
if(top.H.add.lsct==fH._j)for(var n=0;n<top.children.length;n++)z.push(top.children[n])}if(jZ>1e3){var q=this.root.children;
for(var n=0;n<q.length;n++)if(q[n].H.add.lsct==fH._j)q[n].H.add.lsct=fH.OI}};hq.UN=function(z,q,e,V,P,D,B,A,s){if(A==null)A="sRGB IEC61966-2.1";
if(s==null)s=8;var a={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:V},artboard:{t:"bool",v:D},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:z*72/e}},Hght:{t:"UntF",v:{type:"#Rlt",val:q*72/e}},Rslt:{t:"UntF",v:{type:"#Rsl",val:e}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:P}},Dpth:{t:"long",v:s},profile:{t:"TEXT",v:A}}}};
if(P=="Clr")a.Nw.v.FlCl={t:"Objc",v:B};return{gQ:"make",cj:a}};hq.tG=["sRGB","Adobe RGB","ProPhoto RGB","Display P3"];
hq.sP=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"];hq.aT=["icc/srgb","icc/adobe","icc/prophoto","icc/displayp3"];
hq.a97=function(z,q){var e=0,V=0,P=72,D=q.a8c,B=z.preset&&z.preset.v=="Clipboard",A=z.Dpth?z.Dpth.v:8;
if(B){e=D.s;V=D.T}else{e=z.Wdth.v.val;V=z.Hght.v.val;P=z.Rslt.v.val;e=Math.round(e*P/72);V=Math.round(V*P/72)}var s=new hq((z.Nm?z.Nm.v:iE.get([11,7]))+"."+["psd","ai","mid"][cW]);
if(cW==2){e=V=1;var a=s.OJ();a.up("Track 1");s.Z.push(a)}s.s=e;s.T=V;s.do=P;s.depth=A;var M=z.Fl?z.Fl.v.Fl:"Wht";
if(z.artboard&&z.artboard.v){var $=s.OJ();$.up(iE.get([1,16,0])+" 1");$.add.lsct=fH._j;$.Ig(new kk(0,0,e,V));
$.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[M]};if(M=="Clr")$.add.artb.Clr={t:"Objc",v:T.Yf.e8(T.Yf.z8(z.FlCl.v))};
$.pi="pass";$.b9=24;var U=s.OJ();U.up("Layer 1");s.l_([s.cs(),U,$]);s.Ic(1);s.j=[1]}else if(cW==0){var a=s.OJ(),o=0;
a.up("Background");s.l_([a]);a.add.lspf=1<<2;if(M=="Clr")o=T.Yf.z8(z.FlCl.v);else if(M!="Trns"){var t=q.Cp;
o={Wht:{l:255,I:255,c:255},Blck:{l:0,I:0,c:0},BckC:{l:t>>>16,I:t>>>8&255,c:t&255}}[M]}if(o){a.V=new kk(0,0,e,V);
a.buffer=T.n(e*V*4,A);hB.eD(a.buffer,T.Yf.e8(o))}}if(cW==0)s.buffer=T.n(e*V*4,A);var c=z.profile;if(c){var H=hq.sP.indexOf(c.v),F=hq.aT[H];
if(H==0&&A!=32)F=null;else if(A==32)F+="_lin";if(F)s.L4(hZ.ui.get(F))}if(cW==1)s.do=72;return s};hq.prototype.xf=function(z){var q="";
for(var n=0;n<this.Z.length;n++){var e=this.Z[n];if(e.Sw())q+=":"+JSON.stringify(e.m)}if(q!=this.aaL){this.aaL=q;
this.je=z?z:gs.ann(this)}return this.je};hq.prototype.Uk=function(){var z=this,q,e,V=128,P=0;for(var n=0;
n<z.Z.length;n++){var D=z.Z[n];if(D.m.Aa<=200){for(var B=0;B<D.m.list.length;B++){var hE=D.m.list[B][2];
if(hE<V)V=hE;if(hE>P)P=hE}}}for(var n=0;n<z.Z.length;n++){var D=z.Z[n];D.m.list.sort(function(c,H){return c[0]-H[0]});
if(D.m.Aa==500)q=D;if(D.m.Aa==501)e=D;if(D.m.Aa==300){var A=0,s=0;for(var B=0;B<D.m.list.length;B++){var a=D.m.list[B],M=a[0],$=Math.round((2+a[3].trim().length)*z.m.rU/18),U=M<A?s+1:0;
A=M+$;s=U;a[1]=$;a[2]=(V==128?9:V)-3-U}}if(D.m.Aa==500||D.m.Aa==501){if(D.getName()=="Layer")D.up(MIDDB.list[D.m.Aa]);
for(var B=0;B<D.m.list.length;B++){var a=D.m.list[B];a[1]=z.m.rU;a[2]=15+(D.m.Aa-500)}}var o=[];for(var B=0;
B<D.m.list.length;B++){var a=D.m.list[B],hE=a[2];if(o[hE]){o[hE][1]=Math.min(o[hE][1],a[0]-o[hE][0]);
if(o[hE][1]==0){if(o[hE][0]==a[0]&&a[3]==0)a[3]=o[hE][3];D.m.list.splice(D.m.list.indexOf(o[hE]),1);
B=-1;o=[];continue}}o[hE]=a}}z.m.U6=0;if(q){if(q.m.list.length!=0)z.m.Ul=q.m.list[0][3];if(q.m.list.length<=1)z.Z.splice(z.Z.indexOf(q),1)}if(e){if(e.m.list.length!=0)z.m.HL=e.m.list[0][3];
if(e.m.list.length<=1)z.Z.splice(z.Z.indexOf(e),1)}z.j=[z.Z.length-1];var t=(V+P)/2-5*12;if(V!=128)z.A.g.y=t*(200/12)*W.WU()};
hq.prototype.aoF=function(){var z=this,q=z.add.arts=[],e=!0;z.add.prvw=1;z.To();var V=z.root.children;
for(var n=0;n<V.length;n++)if(!V[n].H.YZ())e=!1;if(!e||z.Z.length==0){z.Z.unshift(z.cs());var P=z.OJ();
P.up("Layer 1");P.add.lsct=fH._j;P.pi="pass";P.b9=24;z.Z.push(P);for(var n=0;n<z.j.length;n++)z.j[n]++;
z.$k=!0}if(z.add.artd){delete z.add.artd;var D=[];for(var n=0;n<z.Z.length;n++){var P=z.Z[n],B=P.add.artb;
if(B==null)continue;var A=P.Le();delete P.add.artb;q.push({Q7:P.getName(),sI:[A.x,A.y,A.x+A.s,A.y+A.T],j:!1});
var s=B.artboardBackgroundType.v;if(s!=1&&s!=3){var a=z.root.G6(n).apO;D.push([a,s,A,T.Yf.z8(B.Clr.v)])}}for(var n=0;
n<D.length;n++){var a=D[n][0],s=D[n][1],A=D[n][2],M=D[n][3],P=z.OJ();P.up("Background");P.add.vmsk=new lK.cI;
P.add.vmsk.B=T.S.nU.Rect(A.x,A.y,A.s,A.T);P.add.vstk=az.Y1.g1(!0);P.add.vstl=az.kQ.g1();P.add.vstl.oO=[null,[1,1,1],[0,0,0],[],[M.l/255,M.I/255,M.c/255],[1,1,1]][s];
P.T4();z.Z.splice(z.Z.indexOf(a)+1,0,P);z.To()}console.log(D)}else q.push({Q7:"Artboard",sI:[0,0,z.s,z.T],j:!1});
if(z.name.endsWith(".psd"))z.name=z.name.slice(0,-4)+".ai";if(z.buffer)z.buffer=null;for(var n=0;n<z.Z.length;
n++){var P=z.Z[n],A=P.V;if(P.YZ()&&P.add.vmsk==null&&P.OX()){var $=P.OX();W.NU.gw(z,P,null);P.add.vmsk=new lK.cI;
W.H6.arn($,P)}if(P.OX())W.NU.gw(z,P,null);if(P.YZ()&&P.add.vmsk){var U=z.OJ();z.Z.splice(n,0,U);U.up("<Clipping Path>");
U.Qe=!0;U.add.vogk=P.add.vogk;delete P.add.vogk;U.add.vmsk=P.add.vmsk;delete P.add.vmsk;U.add.vstk=az.Y1.g1();
U.add.SoCo=JSON.parse(az.j3[az.order.indexOf("SoFi")]);console.log("mask here!")}else if(P.add.SoLd&&P.add.vmsk){delete P.add.vmsk}else if(P.mp()&&P.add.vstl==null){if(P.add.vmsk==null){P.add.vmsk=new lK.cI;
P.add.vmsk.B=T.S.nU.Rect(0,0,z.s,z.T);P.add.vstk=az.Y1.g1(!0);P.T4()}var o=P.add.vstl=hq.Q9(P.add)}delete P.add.lmfx;
if(P.add.SoLd||P.add.TySh||P.add.vmsk||A.a8())continue;var t=A.s,c=A.T,H=T.mS(P.buffer,t,c)?"JPG":"PNG";
if(t*c<700*700)H="PNG";var F=hZ.nw(H).gB([[P.buffer.buffer]],t,c),i=z.Z[n]=z.Ql(new Uint8Array(F),P.getName(),A.x,A.y);
i.Bm(P.Sw());i.pi=P.pi;i.vz=P.vz}};hq.Q9=function(z,q){var e=z.vstk,s=null,a=null;if(e==null)e=az.Y1.g1(!0);
var V=az.Y1.wp(e),P=az.W0(z),D=az.E0(e);function B(s){var H=T.Yf.z8(s.Clr.v);return[H.l/255,H.I/255,H.c/255]}var A=z.lmfx;
if(A)s=A.solidFillMulti.v[0];if(s)s=s.v;if(s&&(!s.enab.v||s.Opct.v.val<50))s=null;if(A)a=A.frameFXMulti.v[0];
if(a)a=a.v;if(a&&(!a.enab.v||a.Opct.v.val<50))a=null;var M=z.vmsk,$=M?M.B:T.S.nU.Rect(0,0,q.s,q.T);for(var U=0;
U<2;U++){var o=U==0?P:D,t=[];if(o.y3==1)t=kc.pD(o.j5.Clr.v);if(o.y3==2){t=z[U==0?"_fstl":"_sstl"];if(t==null||cW==0)t=jw.BV(o.j5,$,q)}if(U==0&&s)t=B(s);
if(U==1&&a){t=B(a);V.e6=a.Sz.v.val;V.i4=az.stroke.types.indexOf(a.Styl.v.FStl);V.o3=1}if(U==0)V.oO=t;
else V.i8=t}return V};function gg(z){this.Va=z;this.C7=0;this.Gq=new f5(0,0);this.ajj=1;this.Zi=1;this.g=new f5(0,0);
this.yO=new f5(0,0);this.gV=0;this.Ox=[1,1,1];this.TU=0;this.bX=new kk(0,0,1,1);this.ajC=new kk(0,0,z.s,z.T);
this.hj=null;this.Xm=null;this.H$=null;this.oi=null}gg.W$=null;gg.Z2=null;gg.l5=function(z){var q=gg,e=z.D();
if(q.W$==null||q.W$.length!=e*4){q.Z2=T.n(e);q.W$=T.n(e*4)}};gg.prototype.VL=function(z){var q=new e5,e=this.bX,V=this.Va,P=z?this.Zi:this.C7,D=z?this.yO:this.g,B=Math.round((e.s-V.s*P)/2+D.x),A=Math.round((e.T-V.T*P)/2+D.y);
q.translate(-B,-A);q.scale(1/P,1/P);var s=V.s/2,a=V.T/2;q.translate(-s,-a);q.rotate(this.gV);q.translate(s,a);
return q};gg.prototype.ayA=function(z){var q=this.bX,e=this.Va,V=Math.atan2(-z.c,z.x6),P=e.s/2,D=e.T/2;
z.translate(-P,-D);z.rotate(-V);z.translate(P,D);var B=1/z.vx();z.scale(B,B);var A=-z.yK,s=-z.ww,a=Math.round(A-(q.s-e.s*B)/2),M=Math.round(s-(q.T-e.T*B)/2);
if(Math.abs(B-Math.round(B))<1e-6)B=Math.round(B);this.gV=V;this.C7=B;this.g=new f5(a,M)};gg.prototype.DH=function(){var z=this.VL(),q=200,e=100,V=Math.round(W.WU()*q/12)*this.ajj;
z.scale(this.Va.m.rU/(e*J.WU()),-1/V);z.translate(0,5*12);return z};gg.prototype.Lc=function(z,q,e){return this.DH().a0(new f5(z,q))};
gg.prototype.UK=function(z,q,e){var V=this.VL(),P=V.a0(new f5(z,q));if(e){P.x=Math.round(P.x);P.y=Math.round(P.y)}return P};
gg.prototype.Gb=function(z,q){var e=this.VL();e.TG();return e.a0(new f5(z,q))};var ew=function(){function z(){this.bf=0;
this.D5={}}z.prototype.sb=function(q,e){var V=q.s+"x"+q.T,P=this.D5[V],D=0;if(P==null)P=this.D5[V]=[];
while(P[D]&&P[D][2])D++;if(P[D]==null)P[D]=[null,0,!1,0];P[D][0]=cv.dO.aPo(P[D][0],q,e);P[D][1]=this.bf;
P[D][2]=!0;P[D][3]=e;return P[D][0]};z.prototype.Gh=function(q,e){var V=[];for(var P in this.D5){var D=P.split("x"),B=parseInt(D[0]),A=parseInt(D[1]);
if(q.s>B||q.T>A||q.D()*10<B*A)continue;var s=this.D5[P];for(var n=0;n<s.length;n++)if(!s[n][2])V.push([B*A,s[n],B,A])}V.sort(function($,U){return $[0]-U[0]});
if(V.length==0)return[this.sb(q,e),q];var a=V[0],M=q.Y();M.s=a[2];M.T=a[3];a[1][1]=this.bf;a[1][2]=!0;
a[1][0]=cv.dO.aPo(a[1][0],M,e);return[a[1][0],M]};z.prototype.AK=function(q){for(var e in this.D5){var V=this.D5[e];
for(var n=0;n<V.length;n++)if(V[n][0]==q)V[n][2]=!1}};z.prototype.akn=function(){for(var q in this.D5){var e=this.D5[q];
for(var n=0;n<e.length;n++)if(e[n][1]!=this.bf){cv.dO.delete(e[n][0]);e.splice(n,1);n--}if(e.length==0)delete this.D5[q]}this.bf++};
return z}(),b8=new ew;function az(){}az.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
az.cx="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
az.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];az.atR=["DrSh","IrSh","SoFi","GrFl","FrFX"];
az.RS=["Clr"];az.dW="Grad Rvrs Type Algn Angl Dthr Scl gs99 Ofst".split(" ");az.lA=["Ptrn","Angl","Scl","Algn","phase"];
az.mo={FF:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",aJV:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",aO1:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",a7a:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",qE:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
az.mo.FF="\"Clr\": "+az.mo.FF;az.mo.Yf="\"Grad\":"+az.mo.aJV+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"},\"gs99\":{\"t\":\"enum\",\"v\":{\"gradientInterpolationMethodType\":\"Gcls\"}}";
az.mo.qE="\"Ptrn\":"+az.mo.qE+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
az.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
az.j3=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+az.mo.FF+","+az.mo.Yf+","+az.mo.qE+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+az.mo.FF+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+az.mo.Yf+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+az.mo.qE+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
az.Yf={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),DM:["Perc","Lnr","Gcls","Smoo","stripes"],names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
az.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],hi:["SClr","GrFl","Ptrn"],alY:[[13,0],[12,37],[12,62]]};
az.jG={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],asM:["SrcC","SrcE"],afQ:[[19,5,1],[12,69]]};az.Sv={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],aLr:["SfBL","PrBL","Slmt"],auF:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
az.Y1={r6:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],fy:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],U0:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+az.mo.FF+"}")},strokeStyleResolution:{t:"doub",v:72}},g1:function(z,q){var e=JSON.parse(az.Y1.a7b);
if(z)e.fillEnabled.v=!0;if(q)e.strokeEnabled.v=!0;return e},wp:function(z,q,e){if(q==null)q={};if(e==null)e=1;
var V=z.strokeStyleLineDashSet.v,P=q.e6=z.strokeStyleLineWidth.v.val*e;q.E5=z.strokeStyleMiterLimit.v;
q.cr=z.strokeStyleLineDashOffset.v.val;q.o3=az.Y1.join.indexOf(z.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
q.vZ=az.Y1.r6.indexOf(z.strokeStyleLineCapType.v.strokeStyleLineCapType);q.i4=az.Y1.fy.indexOf(z.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
q.Nn=[];for(var n=0;n<V.length;n++)q.Nn.push(V[n].v.val*P);if(q.Nn.length==1&&q.Nn[0]==0)q.Nn=[];return q},write:function(z,q,e){if(e==null)e=1;
var V=q.e6,P=q.E5,D=q.Nn,B=q.cr,A=q.o3,s=q.vZ,a=q.i4;if(V!=null)V=z.strokeStyleLineWidth.v.val=Math.max(.4,V*e);
else V=z.strokeStyleLineWidth.v.val;if(a!=null)z.strokeStyleLineAlignment.v.strokeStyleLineAlignment=az.Y1.fy[a];
if(P!=null)z.strokeStyleMiterLimit.v=P;if(D!=null)z.strokeStyleLineDashSet.v=hB.a$(D,e/V);if(B!=null)z.strokeStyleLineDashOffset.v.val=B;
if(A!=null)z.strokeStyleLineJoinType.v.strokeStyleLineJoinType=az.Y1.join[A];if(s!=null)z.strokeStyleLineCapType.v.strokeStyleLineCapType=az.Y1.r6[s]}};
az.Y1.a7b=JSON.stringify(az.Y1.default);az.kQ={g1:function(){return{oO:[1,1,1],i8:[0,0,0],e6:1,E5:10,Nn:[],cr:0,o3:0,vZ:0,i4:1}},afM:function(z){var q=dc.z8(z.StrokeColor),e=az.kQ.g1();
e.i4=z.FillFirst?1:2;var V=z._LineCap,P=z._LineJoin,D=z._MiterLimit,B=z._LineDashOffset,A=z._LineDashArray,s=z.OutlineWidth;
if(V)e.vZ=V;if(P)e.o3=P;if(D)e.E5=D;if(A)e.Nn=A;if(s!=null)e.e6=s;e.i8=[q.l/255,q.I/255,q.c/255];return e},agP:function(z,q){q.FillFirst=z.i4==1;
q._LineCap=z.vZ;q._LineJoin=z.o3;q._MiterLimit=z.E5;q._LineDashArray=z.Nn}};az.E0=function(z){var q=z.strokeEnabled.v,e=z.strokeStyleContent.v;
return q?{y3:1+az.Y1.U0.indexOf(e.classID),j5:e}:{y3:0}};az.KG=function(z,q){var e=q.y3;z.strokeEnabled.v=e!=0;
if(e!=0){z.strokeStyleContent.v=q.j5;q.j5.classID=az.Y1.U0[e-1]}};az.W0=function(z){var q=z.vstk,e=null;
if(q&&!q.fillEnabled.v)e={y3:0};else if(z.SoCo)e={y3:1,j5:z.SoCo};else if(z.GdFl)e={y3:2,j5:z.GdFl};
else if(z.PtFl)e={y3:3,j5:z.PtFl};return e};az.hn=function(z,q){var e=z.vmsk,V=z.vstk,P=q.y3;if(V){if(e&&!V.fillEnabled.v&&P!=0)e.Ug=!0;
V.fillEnabled.v=P!=0}if(P>0){var D=["SoCo","GdFl","PtFl"][P-1];for(var n=0;n<3;n++)delete z[["SoCo","GdFl","PtFl"][n]];
z[D]=q.j5}};az.zO=[{classID:"null",Clr:JSON.parse(az.j3[5]).Clr},{classID:"null",Grad:JSON.parse(az.j3[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(az.j3[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var hB={};hB.aBx=function(z,q){function e(z,U){if(z==null||!z.masterFXSwitch.v)return null;var o=z[U].v,t;
if(o.length!=0){t=o[0].v;if(!t.enab.v)t=null}return t}var V=q.SoCo,P=q.GdFl,D=e(z,"solidFillMulti"),B=e(z,"gradientFillMulti");
if(D==null&&B==null)return[V,P];var A=hB.aqP;if(V&&D&&B==null){var s=T.G(V);s.Clr.v=A(D.Clr.v,V.Clr.v,D);
return[s,null]}if(P&&D&&B==null){var a=T.G(P),M=a.Grad.v.Clrs.v;for(var n=0;n<M.length;n++){var $=M[n].v.Clr;
$.v=A(D.Clr.v,$.v,D)}return[null,a]}if(V&&B){var a=T.G(B),M=a.Grad.v.Clrs.v;for(var n=0;n<M.length;n++){var $=M[n].v.Clr;
$.v=A($.v,V.Clr.v,B)}return[null,a]}return[D,B]};hB.J6={cQ:T.n(4),vk:T.n(4),l:new kk(0,0,1,1)};hB.aqP=function(z,q,e){var V=aA.pd(e.Md.v.BlnM),P=e.Opct.v.val/100,D=hB.J6;
z=T.Yf.z8(z);q=T.Yf.z8(q);D.cQ[0]=z.l;D.cQ[1]=z.I;D.cQ[2]=z.c;D.cQ[3]=255;D.vk[0]=q.l;D.vk[1]=q.I;D.vk[2]=q.c;
D.vk[3]=255;T.w.Mt(V,D.cQ,D.l,D.vk,D.l,D.l,P);return{classID:"RGBC",Rd:{t:"doub",v:D.vk[0]},Grn:{t:"doub",v:D.vk[1]},Bl:{t:"doub",v:D.vk[2]}}};
hB.a5h=function(z,q,e){var V=z;z=z.slice(0);var P=aA.q2[aA.nq.indexOf(q.Md.v.BlnM)],D=T.Yf.z8(q.Clr.v),B=4278190080|Math.round(D.c)<<16|Math.round(D.I)<<8|Math.round(D.l),A=T.n(e.D()*4);
T.FH(A,B);T.w.Mt(P,A,e,z,e,e,q.Opct.v.val/100);for(var n=0;n<z.length;n+=4)z[n+3]=V[n+3];return z};hB.Ns=function(z,q){var e=["Sz","blur","Sftn","Dstn"];
for(var n=0;n<az.order.length;n++){var V=az.order[n],P=z[az.cx[n]].v;for(var D=0;D<P.length;D++){var B=P[D].v;
for(var A=0;A<e.length;A++){var s=B[e[A]];if(s){var a=s.v.val,M=a;M=Math.max(a==0?0:1,M*q);if(V=="ChFX")M=Math.min(M,250);
if(V=="ebbl"){if(e[A]=="blur")M=Math.min(M,250);if(e[A]=="Sftn")M=Math.min(M,16)}s.v.val=Math.round(M)}}if(V=="ebbl"||V=="patternFill"||V=="FrFX")if(B.Ptrn&&B.Scl)B.Scl.v.val=Math.max(1,Math.min(1e3,B.Scl.v.val*q))}}};
hB.anw=function(z,q,e){var V=new kk(-.5,-.5,1,1);for(var n=0;n<az.order.length;n++){var P=az.order[n],D=z[az.cx[n]].v;
for(var B=0;B<D.length;B++){var A=D[B].v,$;if(A.enab&&!A.enab.v)continue;var s=A.blur?A.blur.v.val+1:0,a=A.Ckmt?A.Ckmt.v.val/100:0,M=Math.round(s*a);
if(P=="DrSh"||P=="IrSh"&&e){$=new kk(-.5,-.5,1,1);$.Gm(s,s);hB.yy($,A,q,0)}if(P=="St3D"){$=new kk(-.5,-.5,1,1);
hB.yy($,A,q,Math.PI,"Angl")}if(P=="OrGl"||P=="IrGl"&&e){$=new kk(-.5,-.5,1,1);$.Gm(s,s)}if(P=="FrFX"){var U=hB.NZ(A),o=U[1];
if(e)o=Math.max(U[0],o);$=new kk(-.5,-.5,1,1);$.Gm(Math.ceil(o),Math.ceil(o))}if(P=="ebbl"){var s=A.blur.v.val,t=A.bvlS.v.BESl;
if(t=="Embs"||t=="PlEb")s/=2;var c=["OtrB","InrB","Embs","PlEb","strokeEmboss"],H=["SfBL","PrBL","Slmt"],F=["In","Out"],i=A.bvlT.v.bvlT!="SfBL"?s:s*.43,X=Math.round(s);
$=new kk(-X-1,-X-1,2*X+2,2*X+2)}if(e&&P=="ChFX"){$=new kk(-.5,-.5,1,1);$.Gm(s,s);var K=$.Y();hB.yy($,A,q,0);
hB.yy(K,A,q,Math.PI);$=$.X8(K)}if($)V=V.X8($)}}if(V.x!=Math.ceil(V.x)){V.x=Math.ceil(V.x);V.s-=1}if(V.y!=Math.ceil(V.y)){V.y=Math.ceil(V.y);
V.T-=1}V.s=Math.floor(V.s);V.T=Math.floor(V.T);return V};hB.NZ=function(z){var q,e,V=0,P=0;if(z.Sz){q=z.Sz.v.val;
e=az.stroke.types.indexOf(z.Styl.v.FStl)}else{q=z.Wdth.v;e=["Insd","Cntr","Otsd"].indexOf(z.Lctn.v.StrL)}if(e==0)V=q;
if(e==1)V=P=q/2;if(e==2)P=q;return[V,P]};hB.afm=function(z,q){if(ee.$x&&z.Dd==null){var e=z.Dm,V=e instanceof Array;
if(V){z.Dd=[z.Dm[0],new ee.YD(z.nu.s,z.nu.T,q)];z.Dd[1].set(z.Dm[1]);delete z.Dm}else{z.Dd=new ee.ZU(z.nu.s,z.nu.T,q);
z.Dd.set(z.Dm);delete z.Dm}if(z.VZ){z.P_=new ee.YD(z.nu.s,z.nu.T,q);z.P_.set(z.VZ);delete z.VZ}if(z.sj){z.q8=new ee.YD(z.nu.s,z.nu.T,q);
z.q8.set(z.sj);delete z.sj}}};hB.a66=function(z){if(z.Dd)z.Dd instanceof Array?z.Dd[1].delete():z.Dd.delete();
if(z.P_)z.P_.delete();if(z.q8)z.q8.delete()};hB.aBG=function(z){if(z.all==null)return;for(var n=0;n<z.all.length;
n++){hB.a66(z.all[n])}};hB.aM6=function(z){var q=z.all;for(var e=0;e<q.length;e++){var V=q[e];if(V.Dm instanceof Array){var P=V.Dm[1],D=V.Dm[0],B=T.Gx(P),A=T.n(V.nu.D()*4,B);
if(B==8)new Uint32Array(A.buffer).fill(new Uint32Array(D.buffer)[0]);else for(var n=0;n<A.length;n+=4){A[n]=D[0];
A[n+1]=D[1];A[n+2]=D[2]}T.yR(P,A,3);V.Dm=A}}};hB.aIf=function(z,q,e,V,P,D){var B=hB.eu(e,V,z,q,P,D),A=P.depth;
for(var n=0;n<B.all.length;n++){var s=B.all[n];if(s.Dm instanceof Array)s.Dm=[T.EZ(s.Dm[0],A),T.EZ(s.Dm[1],A)];
else s.Dm=T.EZ(s.Dm,A);if(s.VZ)s.VZ=T.EZ(s.VZ,A);if(s.sj)s.sj=T.EZ(s.sj,A);hB.afm(s,A)}return B};hB.a5s=function(z){for(var n=0;
n<az.order.length;n++){var q=az.order[n],e=az.cx[n],V=z[e].v;for(var P=0;P<V.length;P++){var D=V[P].v;
if(D.enab.v&&["patternFill","GrFl","SoFi"].indexOf(q)==-1)return!0}}return!1};hB.eu=function(z,q,e,V,P,D){var B=T.Gx(e),A=16,s=0,a=0;
e=T.EZ(e,A);if(D==null)D=V;for(var n=0;n<az.order.length;n++){var M=az.order[n],$=az.cx[n],U=z[$].v;
for(var o=0;o<U.length;o++){var t=U[o].v;if(M=="DrSh"&&t.enab.v&&t.Ckmt.v.val>0&&t.blur.v.val>0)s=Math.max(s,Math.ceil(t.Ckmt.v.val*t.blur.v.val/100));
if(M=="OrGl"&&t.enab.v&&t.Ckmt.v.val>0&&t.blur.v.val>0&&t.GlwT.v.BETE=="SfBL")s=Math.max(s,Math.ceil(t.Ckmt.v.val*t.blur.v.val/100));
if(M=="OrGl"&&t.enab.v&&t.blur.v.val>0&&t.GlwT.v.BETE=="PrBL")s=Math.max(s,t.blur.v.val);if(M=="FrFX"&&t.enab.v&&t.Sz.v.val>0){if(t.Styl.v.FStl=="OutF")s=Math.max(s,t.Sz.v.val);
if(t.Styl.v.FStl=="CtrF")s=Math.max(s,Math.ceil(t.Sz.v.val/2));a=Math.max(a,hB.NZ(t)[1])}}}var c=new hB.gZ(e,V,s,hB.a5s(z)),H=-V.x,F=-V.y,i={e:{},all:[]};
for(var X=0;X<az.order.length;X++){var M=az.order[X],$=az.cx[X];i.e[M]=[];for(var K=z[$].v.length-1;
K>=0;K--){var f=z[$].v[K].v,x;if(!f.enab.v)continue;var d=f.blur?f.blur.v.val:0,L=f.Ckmt?f.Ckmt.v.val/100:0,G=d*L;
if(M=="St3D"){var O=Math.max(1e-4,1-f.Srnk.v.val/100),u=2,hg=0;function v(C,gM,f){var ez=f.Angl.v.val;
ez*=Math.PI/180;var j5=f.Dstn.v.val,c7=Math.cos(ez)*j5,iS=-Math.sin(ez)*j5,cn=O+gM*(1-O),cI=new e5;cI.translate(-C.s/2,-C.T/2);
cI.scale(cn,cn);cI.translate(C.s/2,C.T/2);cI.translate((1-gM)*c7,(1-gM)*iS);return cI}var C=V.Y(),S=T.EZ(e,8);
C.x=C.y=0;var j=Date.now(),w=C.Y();w.Gm(u,u);var l=T.n(w.D(),8);T.KY(S,C,l,w);T.BJ.uR(l,w,2);var I=T.K8(8),Q=T.Yf.z8(f.Clr.v),b=Q.l/255,p=Q.I/255,k=Q.c/255,g=T.n(C.D()),Y=C.s,R=C.T,m=w.s,Z=w.T,E=T.n(256*4),N=new Uint32Array(E.buffer),h=hB.aJx(f,P),j5=Math.cos(h[1]),r=-Math.cos(h[0])*j5,l8=Math.sin(h[0])*j5;
if(Math.abs(r)<.001&&Math.abs(l8)<.001)r=l8=0;for(var aP=0;aP<R;aP++)for(var bS=0;bS<Y;bS++){var n=(aP+u)*m+bS+u,o=aP*Y+bS,kR=o*4,j1=l[n+1]-l[n-1],f6=l[n+m]-l[n-m],gx=j1*j1+f6*f6;
if(gx>10){var lC=1/Math.sqrt(gx),g2=r*lC*j1+l8*lC*f6;g[o]=Math.max(1,Math.min(I,I*.5+I*.5*g2));var dv=g[o]*4;
if(E[dv+3]==0){var bv=-g2,eo=0;if(g2>0){bv=0;eo=g2}E[dv]=255*(1-bv)*(eo+(1-eo)*b);E[dv+1]=255*(1-bv)*(eo+(1-eo)*p);
E[dv+2]=255*(1-bv)*(eo+(1-eo)*k);E[dv+3]=255}}else g[o]=0}var aL=l;aL.fill(0);T.KY(S,C,aL,w);var dh=[S,C],eM=v(C,0,f),kg=T.R.iR(C).J,jJ=kg.slice(0);
T.R.v(kg,eM,jJ);var iL=C.X8(T.R.b_(jJ)),bz=T.n(iL.D()*4,8),ks=iL.s,gr=iL.T;for(var n=0;n<8;n+=2){var j1=kg[n]-jJ[n],f6=kg[n+1]-jJ[n+1];
hg=Math.max(hg,Math.sqrt(j1*j1+f6*f6))}var ci=Math.round(hg/2),fK=new Uint16Array(g.length),jN=new Uint16Array(R);
for(var aP=0;aP<R;aP++)for(var bS=Y-1;bS>=0;bS--){var n=aP*Y+bS,dD=0;if(g[n]!=0){dD=0;if(jN[aP]==0)jN[aP]=bS+1}else if(bS==Y-1)dD=50;
else dD=fK[n+1]+1;fK[n]=dD}var eF=f.Drkn.v.val/100,io=new Uint32Array(bz.buffer),la=new Uint8ClampedArray(bz.buffer);
for(var e9=ci-1;e9>=0;e9--){var gM=e9/ci,j7=1-eF+gM*eF,cI=v(C,gM,f),dL=cI.Y();dL.TG();var cf=1/dL.x6;
for(var aP=0;aP<gr;aP++){var jA=(aP+iL.y+.5)*dL.at+dL.ww;if(!(0<=jA&&jA<R))continue;var gI=Math.floor(jA),fM=gI*Y,a7=Math.max(0,Math.floor((fK[fM]-dL.yK)*cf-iL.x-.5)),k6=Math.min(ks,Math.ceil((jN[gI]-dL.yK)*cf-iL.x-.5)),fv=(a7-1+iL.x+.5)*dL.x6+dL.yK;
for(var bS=a7;bS<k6;bS++){var fq=aP*ks+bS<<2;fv+=dL.x6;if(bz[fq+3]==255){}else if(0<=fv&&fv<Y){var cu=fM+Math.floor(fv),ac=fK[cu];
if(ac!=0){var dD=Math.floor((ac-1)*cf);bS+=dD;fv+=dD*dL.x6}else{var hN=T.O.arK(fv+u,jA+u,aL,m,Z)*(1/255),cQ=255-bz[fq+3],d_=1/255*hN*j7*cQ,cK=N[g[cu]];
la[fq]+=(cK&255)*d_;la[fq+1]+=(cK>>>8&255)*d_;la[fq+2]+=(cK>>>16&255)*d_;la[fq+3]+=hN*cQ}}}}}T.Od(bz);
x={Dm:bz,nu:iL}}else if(M=="DrSh"){var cc=c.yY(G,d-G,!0),aH=cc.Og,jj=cc.TP.Y();hB.wu(aH,f,!1);if(f.Cntn&&f.Cntn.v){var iG=new kk;
hB.yy(iG,f,P,0);var hc=jj.Y();hc.offset(-iG.x,-iG.y);hc=hc.X8(jj);var kD=T.n(hc.D(),A);T.KY(aH,jj,kD,hc);
var l2=Math.sqrt(iG.x*iG.x+iG.y*iG.y),fZ=aH.slice(0);for(var n=0;n<l2-1;n++){var j1=Math.round(-iG.x*n/l2),f6=Math.round(-iG.y*n/l2),g5=cc.TP.Y();
g5.offset(j1,f6);T.akm(fZ,g5,kD,hc)}aH=kD;jj=hc}jj.offset(H,F);hB.yy(jj,f,P,0);var bz=T.n(4,A);hB.eD(bz,f.Clr.v);
x={Dm:[bz,aH],nu:jj,aOR:f.layerConceals.v}}else if(M=="IrSh"){var cc=c.yY(G,d-G,!1);hB.yy(cc.TP,f,P,0);
var jj=c.V().Y(),aH=T.n(jj.D(),A);aH.fill(T.K8(A));T.KY(cc.Og,cc.TP,aH,jj);hB.wu(aH,f,!0,!0);var bz=T.n(4,A);
hB.eD(bz,f.Clr.v);jj.offset(H,F);x={Dm:[bz,aH],nu:jj}}else if(M=="GrFl"){var bz=T.n(c.V().D()*4,B);hB.N0(f,bz,c.V(),P,null,D);
var jj=c.V().Y();jj.offset(H,F);x={Dm:bz,nu:jj}}else if(M=="SoFi"){var bz=T.n(4,A);hB.eD(bz,f.Clr.v);
var d4=T.n(c.Og().length,B);d4.fill(T.K8(B));var jj=c.V().Y();jj.offset(H,F);x={Dm:[bz,d4],nu:jj}}else if(M=="ebbl"){var hx=!1;
if(hx)console.log(f);var j=Date.now(),hJ=j,gU=f.bvlS.v.BESl,lg=f.bvlT.v.bvlT;if(gU=="strokeEmboss"){var gW=z.frameFXMulti.v;
if(gW.length==0)continue;gW=gW[0].v;if(!gW.enab.v)continue;var iF=gW.Styl.v.FStl;if(iF=="OutF")gU="OtrB";
if(iF=="CtrF")gU="Embs";if(iF=="InsF")gU="InrB"}var d=f.blur.v.val;if(d==0)d=.7;if(gU=="Embs"||gU=="PlEb")d/=2;
var aO=["OtrB","InrB","Embs","PlEb","strokeEmboss"],kX=["SfBL","PrBL","Slmt"],e3=["In","Out"],k5=lg!="SfBL"?d:d*.45,h0=Math.round(d),aS=c.V().Y(),jM=aS.Y();
jM.Gm(h0,h0);var Y=jM.s,R=jM.T,bW=Y*R,hS=T.n(bW,A);T.KY(c.Og(),aS,hS,jM);var ap=T.style.lR(hS,Y,R);T.TG(hS);
var dB=T.style.lR(hS,Y,R);if(hx)console.log("distTransform computed",Date.now()-j);j=Date.now();hB.a7N(k5,ap,dB);
if(hx)console.log("summing + cropping",Date.now()-j);j=Date.now();if(lg=="SfBL"){var f8=Math.pow(d*.21,1.22);
if(!0)f8=Math.max(f8,2);T.BJ.uR(dB,jM,f8,2)}if(hx)console.log("blurring",Date.now()-j);j=Date.now();
var bu=dB,fO=ap;fO.set(bu);if(f.useShape.v){var iQ=Math.min(100,f.Inpr.v.val+1)/100;if(gU!="OtrB"&&gU!="InrB")iQ=1;
var gb=T.JQ.YN(f.MpgS.v.Crv.v,2e3),k9=Math.round(2e3/iQ);gb=T.JQ.acV(gb,k9,gU=="InrB");var e2=.5/k5;
for(var n=0;n<bW;n++){var cB=bu[n],iY=.99999*(cB+k5)*e2;bu[n]=-k5+2*k5*gb[~~(iY*(k9-1))]}if(hx)console.log("applying shape",Date.now()-j);
j=Date.now()}if(f.useTexture.v){var e_=T.n(Y*R*4);hB._L(f,e_,jM,P.add.Patt,q);var fL=T.n(Y*R);T.tI(e_,fL);
T.BJ.a7F(fL,jM,1);var jI=d*f.textureDepth.v.val*(1/100)*(1/255);if(f.InvT.v)jI=-jI;for(var n=0;n<bW;
n++)bu[n]+=-jI*fL[n];if(hx)console.log("applying texture",Date.now()-j);j=Date.now()}var gi=gU=="PlEb",hu=new Float32Array(bW),bk=hu;
if(gi){bk=new Float32Array(bW)}var lG=hB.aBr(Y,R,f,P,bu,hu,bk,gi);if(hx)console.log("raycasting",Date.now()-j);
j=Date.now();if(f.Sftn.v.val!=0){T.BJ.uR(hu,jM,f.Sftn.v.val*.43,2);if(gi)T.BJ.uR(bk,jM,f.Sftn.v.val*.43,2)}if(hx)console.log("softening",Date.now()-j);
j=Date.now();var h8=T.n(Y*R,A),iR=T.n(Y*R,A),bm=h8,bL=iR;if(gi){bm=T.n(Y*R,A);bL=T.n(Y*R,A)}hB.arX(f,Y,R,lG,k5,gi,fO,h8,iR,bm,bL,hu,bk);
if(hx)console.log("baking textures",Date.now()-j);j=Date.now();jM=c.V().Y();jM.Gm(h0,h0);jM.offset(H,F);
x={arD:f.bvlS.v.BESl=="strokeEmboss"};var je=aA.pd(f.hglM.v.BlnM),ea=f.hglO.v.val/100,hU=aA.pd(f.sdwM.v.BlnM),fn=f.sdwO.v.val/100,hi=T.n(4,A);
hB.eD(hi,f.hglC.v);var lF=T.n(4,A);hB.eD(lF,f.sdwC.v);if(["InrB","Embs","PlEb"].indexOf(gU)!=-1){x.xn={Dm:[hi,h8],nu:jM,Rj:je,Qc:ea};
x.nd={Dm:[lF,iR],nu:jM,Rj:hU,Qc:fn}}if(["OtrB","Embs","PlEb"].indexOf(gU)!=-1){x.Hu={Dm:[hi,bm],nu:jM,Rj:je,Qc:ea};
x.mW={Dm:[lF,bL],nu:jM,Rj:hU,Qc:fn}}if(hx)console.log(Date.now()-hJ)}else if(M=="patternFill"){var iZ=c.V(),bz=T.n(iZ.D()*4,B);
hB._L(f,bz,iZ,P.add.Patt,q);var jj=iZ.Y();jj.offset(H,F);x={Dm:bz,nu:jj}}else if(M=="ChFX"){var j=Date.now(),d=f.blur.v.val,dY=c.V().Y();
dY.Gm(d,d);var fI=T.n(dY.D(),A);T.KY(c.Og(),c.V(),fI,dY);T.BJ.uR(fI,dY,d*.43);hB.afP(fI,f.MpgS.v.Crv.v);
var b=c.V(),f9=dY.Y(),dq=dY.Y();hB.yy(f9,f,P,0);hB.yy(dq,f,P,Math.PI);var Q=T.n(b.D(),A);T.KY(fI,dq,Q,b);
var g$=b.HX(f9),Y=g$.s;for(var aP=0;aP<g$.T;aP++){var aq=(aP+g$.y-b.y)*b.s+g$.x-b.x,aD=(aP+g$.y-f9.y)*f9.s+g$.x-f9.x;
for(var bS=0;bS<Y;bS++)Q[aq+bS]=Math.abs(Q[aq+bS]-fI[aD+bS])}if(f.Invr.v)T.TG(Q);var bz=T.n(4,A);hB.eD(bz,f.Clr.v);
var jj=c.V().Y();jj.offset(H,F);x={Dm:[bz,Q],nu:jj}}else if(M=="OrGl"){var cc,b1=hB.aax(f),bz=null;if(f.GlwT.v.BETE=="SfBL"){cc=c.yY(G,d-G,!0);
hB.anz(cc.Og,b1)}else cc=c.aPu(d,L,!0,b1);var aH=cc.Og,jj=cc.TP,hC=aH.slice(0);if(f.Grad==null){hB.wu(aH,f,!1);
var e_=T.n(4,A);hB.eD(e_,f.Clr.v);bz=[e_,aH]}else{hB.jw(aH,f);var dx={dd:aH,qG:T.K8(A),R$:0,ze:jj};bz=T.n(jj.D()*4,A);
hB.N0(f,bz,jj,P,dx);var eP=jj.s,d3=T.K8(A),a$=d3*(32/255);for(var n=0;n<hC.length;n++){var bM=d3,dR=hC[n];
if(dR<d3){var c6=(dR+hC[n-1]+hC[n+1]+hC[n-eP]+hC[n+eP])*.2-1;bM=Math.min(d3,Math.round(Math.max(0,c6)*8))}aH[n]=bM}hB.jB(aH,f,!1);
T.Zb(aH,bz)}jj.offset(H,F);x={Dm:bz,nu:jj}}else if(M=="IrGl"){var cc,b1=hB.aax(f),bz=null;if(f.GlwT.v.BETE=="SfBL"){cc=c.yY(G,d-G,!1);
hB.anz(cc.Og,b1)}else cc=c.aPu(d,L,!1,b1);var aH=cc.Og,jj=cc.TP;if(f.glwS.v.IGSr=="SrcC")T.TG(aH);if(f.Grad==null){hB.wu(aH,f,!0);
var e_=T.n(4,A);hB.eD(e_,f.Clr.v);bz=[e_,aH]}else{hB.jw(aH,f);var dx={dd:aH,qG:T.K8(A),R$:0,ze:jj};bz=T.n(jj.D()*4,A);
hB.N0(f,bz,jj,P,dx);aH.fill(T.K8(A));hB.jB(aH,f,!1);T.Zb(aH,bz)}jj.offset(H,F);x={Dm:bz,nu:jj}}else if(M=="FrFX"){var h2=hB.NZ(f),fE=h2[0],gy=h2[1],jj=c.V().Y(),eu=null,iC=null,bz=null;
jj.Gm(Math.ceil(a),Math.ceil(a));if(gy>0){var cc=c.yY(gy,0,!0);iC=cc.Og;if(iC.length<jj.D()){iC=T.n(jj.D(),A);
T.KY(cc.Og,cc.TP,iC,jj)}}if(fE>0){var cc=c.yY(fE,0,!1);eu=T.n(jj.D(),A);eu.fill(T.K8(A));T.KY(cc.Og,cc.TP,eu,jj)}jj.offset(H,F);
var cA=f.PntT.v.FrFl;if(cA=="SClr"){var e_=T.n(4,B),jq=T.n(jj.D(),B);hB.eD(e_,f.Clr.v);jq.fill(T.K8(B));
bz=[e_,jq]}else{bz=T.n(jj.D()*4,B);if(cA=="GrFl")hB.N0(f,bz,jj,P,c.a8E(fE,gy));if(cA=="Ptrn")hB._L(f,bz,jj,P.add.Patt,q)}var kI=f.overprint,i6=kI?kI.v:!1;
if(i6){var d4=eu?eu:iC;if(eu&&iC)T.mA.HX(eu,iC,d4);d4=T.EZ(d4,B);if(bz instanceof Array)bz[1].set(d4);
else T.yR(d4,bz,3)}x={Dm:bz,nu:jj,sj:iC,VZ:eu,a8p:i6}}i.e[M].push(x);if(M=="ebbl"){if(x.xn)i.all.push(x.xn,x.nd);
if(x.Hu)i.all.push(x.Hu,x.mW)}else{x.Rj=aA.pd(f.Md.v.BlnM);x.Qc=f.Opct.v.val/100,i.all.push(x)}}}return i};
hB.hO=function(z){var q=1/Math.sqrt(z.x*z.x+z.y*z.y+z.ea*z.ea);z.x*=q;z.y*=q;z.ea*=q};hB.amw=function(z,q){return{x:z.y*q.ea-z.ea*q.y,y:z.ea*q.x-z.x*q.ea,ea:z.x*q.y-z.y*q.x}};
hB.S6=function(z,q){return z.x*q.x+z.y*q.y+z.ea*q.ea};hB.a7N=function(z,q,e){var V=q.length;for(var n=0;
n<V;n++){var P=e[n]-q[n];e[n]=P}for(var n=0;n<V;n++){var P=e[n];if(P<-z)e[n]=-z;else if(P>z)e[n]=z}};
hB.aBr=function(z,q,e,V,P,D,B,A){var s=hB.aJx(e,V),a=s[0],M=s[1],$=Math.cos(a)*Math.cos(M),U=-Math.sin(a)*Math.cos(M),o=Math.sin(M);
D.fill(o);if(A)B.fill(o);var t=(e.bvlT.v.bvlT=="SfBL"?1:.5)*(e.bvlD.v.BESs=="In"?1:-1)*e.srgR.v.val/100,c=-.125*t;
for(var H=0;H<q;H++){var F=H==0?0:-z,i=H==q-1?0:z,n=H*z;for(var X=0;X<z;X++,n++){var K=X==0?n:n-1,f=X==z-1?n:n+1,d=P[f]-P[K],L=P[n+i]-P[n+F];
if(d*d+L*L<.005)continue;var G=P[K+F],x=P[f+F],O=P[K+i],v=P[f+i],C=c*(x+2*d+v-G-O),S=c*(O+2*L+v-G-x),j=1/Math.sqrt(C*C+S*S+1);
C*=j;S*=j;D[n]=Math.max(0,C*$+S*U+j*o);if(A)B[n]=Math.max(0,-C*$-S*U+j*o)}}return o};hB.arX=function(z,q,e,V,P,D,B,A,s,a,M,$,U){var o=1/V,t=1/(1-V),c=1/P,H=T.Gx(A),F=T.K8(H),i=T.JQ.YN(z.TrnS.v.Crv.v,1024),X=new Float32Array(2500);
for(var n=0;n<2500;n++){var K=Math.max(0,Math.min(1,(n-500)*.001));X[n]=Math.pow(K,.2)}var f=new Float32Array(1024),d=new Float32Array(1024);
for(var n=0;n<1024;n++){var L=i[n];f[n]=F*(1-Math.min(1,L*o));d[n]=F*(1-Math.min(1,(1-L)*t))}for(var G=0;
G<e;G++)for(var K=0;K<q;K++){var n=G*q+K,x=(B[n]+P*.993)*c,O=X[~~(500+x*1e3)],v=~~($[n]*1023);s[n]=O*f[v];
A[n]=O*d[v];if(D){v=~~(U[n]*1023);M[n]=O*f[v];a[n]=O*d[v]}}};hB._N=function(z){var q=hB.xj(),e=z.sy,V=!1;
for(var n=0;n<32;n+=8)if(e[n]+e[n+1]+e[n+4]+e[n+5]!=0||e[n+2]+e[n+3]+e[n+6]+e[n+7]!=1020)V=!0;if(V){e=e.slice(0);
for(var n=0;n<40;n+=4){var P=e[n]/255,D=e[n+1]/255,B=e[n+2]/255,A=e[n+3]/255;e[n]=P-.001;e[n+1]=P==D?1e6:1/(D-P);
e[n+2]=B==A?-1e6:1/(B-A);e[n+3]=A+.001}}var s=z.add.iOpa!=null?z.add.iOpa/255:q.fill,a=z.add.vstk;if(a&&!a.fillEnabled.v&&(!a.strokeEnabled.v||a.strokeStyleLineWidth.v.val==0))s=0;
return{fill:s,dJ:V?e:null,k1:z.add.brst!=null?z.add.brst:q.k1,acE:z.add.knko!=null?z.add.knko:q.acE,style:!1,Wl:!1}};
hB.xj=function(){return{fill:1,dJ:null,k1:[1,1,1],acE:0,style:!1,Wl:!1}};hB.aeb=function(z,q,e,V,P,D,B,A){if(A==null)A=1;
if(B==null)B=new e5;var s=z.dE[1].s,a=z.dE[1].T,M=new e5,$=P<2;if($)M.translate(-s/2,-a/2);if(P==0){A*=Math.max(e/s,V/a)}else if(P==1){A*=Math.min(e/s,V/a)}else if(P==2){M.scale(1/s,1/a);
M.concat(B);M.scale(e,V)}else if(P==3){A=A}M.scale(A,A);if($)M.translate(e/2,V/2);M.concat(D);q.Ptrn.v.Idnt.v=z.id;
q.Scl.v.val=Math.round(100*M.vx());q.Angl.v.val=Math.round(180*Math.atan2(-M.c,M.x6)/Math.PI);q.Algn.v=!0;
var U=q.phase.v;U.Hrzn.v=Math.round(M.yK);U.Vrtc.v=Math.round(M.ww)};hB.i6=function(z,q){if(q==null)return null;
var e=z.Idnt.v,V=z.Nm.v;for(var n=0;n<q.length;n++)if(q[n].id==e)return q[n];for(var n=0;n<q.length;
n++)if(q[n].name==V)return q[n];return null};hB.asl=function(z,q,e){var V=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var n=0;n<V.length;n++){var P=z.v[V[n]].v;for(var D=0;D<P.length;D++)if(P[D].v.Ptrn)q.hI(hB.i6(P[D].v.Ptrn.v,e))}};
hB.aEp=function(z,q,e){var V=["patternFillMulti","ebblMulti","frameFXMulti"];for(var n=0;n<V.length;
n++){var P=z.v[V[n]].v;for(var D=0;D<P.length;D++)if(P[D].v.Ptrn){var B=P[D].v.Ptrn.v,A=hB.i6(B,e),s=hB.i6(B,q.add.Patt);
if(A==null&&s)e.push(s)}}};hB._L=function(z,q,e,V,P){if(z.Ptrn==null)return;var D=hB.i6(z.Ptrn.v,V);
if(D!=null&&!e.a8()){var B=D.dE,A=B[0],s=B[1],a=0;T.Jr(B);var M=(z.Scl?z.Scl.v.val:100)/100;while((M<.3||M==.5)&&B[a+2]){M*=s.s/B[a+3].s;
a+=2;A=B[a];s=B[a+1]}var $=T.scale._L(A,s.s,s.T),U=z.phase?z.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},o=z.Angl?z.Angl.v.val:0,t=-e.x+U.Hrzn.v-1,c=-e.y+U.Vrtc.v-1;
if(z.Algn!=null&&!z.Algn.v){}else if(P){t+=P.x;c+=P.y}if(q)T.scale.akf($,q,e.s,e.T,M,M,t+1,c+1,o*Math.PI/180);
else return[$,M,t+1,c+1,o*Math.PI/180]}};hB.N0=function(z,q,e,V,P,D,B,A){if(D==null)D=e;var s=z.Type?z.Type.v.GrdT:"shapeburst",M=z.Algn&&z.Algn.v?D:new kk(0,0,V.s,V.T),$=z.Angl?T.Yf.akb(z,M):[new f5(0,0),new f5(100,0)],U=$[0].x,o=$[0].y,t=$[1].x-U,c=$[1].y-o,H=Math.sqrt(t*t+c*c);
H=1/(2*H*H);var F=[t*H,c*H,-c*H,t*H],i=z.Rvrs?z.Rvrs.v:!1,X=z.Dthr?z.Dthr.v:!1,K=z.gradientsInterpolationMethod;
if(K==null)K=z.gs99;var f=K?K.v.gradientInterpolationMethodType:"Gcls";T.Yf.dQ(z.Grad.v,q,e,F,U,o,i,az.Yf.types.indexOf(s),B==null?0:B,A==null?0:A,P,X,f)};
hB.aA9=function(z,q,e){for(var n=0;n<z.all.length;n++){var V=z.all[n];V.Of=V.nu.Y();V.Of.offset(q,e)}};
hB.aII=function(z,q,e,V,P,D){var B=ee.$x?hB.a1J:hB.aE_;hB.aA9(q,e.x,e.y);var A=q.e.DrSh;for(var n=0;
n<A.length;n++)if(!A[n].aOR)B(A[n],V,P,D)};hB.aEg=function(z,q,e,V,P,D,B,A,s,a,M,$){var U=ee.$x?hB.a1J:hB.aE_,o=ee.$x?ee.w.MT:T.w.Dx,t;
t=q.e.DrSh;for(var n=0;n<t.length;n++)if(t[n].aOR)U(t[n],V,P,D);t=q.e.St3D;for(var n=0;n<t.length;n++)U(t[n],V,P,D);
t=q.e.OrGl;for(var n=0;n<t.length;n++)U(t[n],V,P,D);var c="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var H=0;H<c.length;H++){var t=q.e[c[H]];for(var n=0;n<t.length;n++)U(t[n],B,A,D)}var F=q.e.ebbl[0],i=F!=null&&F.arD;
t=q.e.FrFX;for(var n=0;n<t.length;n++){var X=t[n];cv.dO.KY(s,a,M,$,D);U(X,M,$,D);if(i&&n==t.length-1){if(F.mW)U(F.mW,M,$,D);
if(F.Hu)U(F.Hu,M,$,D);if(F.nd)U(F.nd,M,$,D);if(F.xn)U(F.xn,M,$,D)}if(X.a8p){if(X.VZ||X.P_){U(X,B,A,D)}if(X.sj||X.q8){U(X,V,P,D)}}else{if(X.VZ||X.P_)o(M,$,B,A,ee.$x?X.P_:X.VZ,X.Of,0,D,1);
if(X.sj||X.q8)o(M,$,V,P,ee.$x?X.q8:X.sj,X.Of,0,D,1)}}if(!i&&F!=null){if(F.mW)U(F.mW,V,P,D);if(F.Hu)U(F.Hu,V,P,D);
if(F.nd)U(F.nd,B,A,D);if(F.xn)U(F.xn,B,A,D)}};hB.aE_=function(z,q,e,V){var P=hB.xj();P.fill=z.Qc;P.style=!0;
T.w.Mt(z.Rj,z.Dm,z.Of,q,e,V,1,P)};hB.a1J=function(z,q,e,V){var P=hB.xj();P.fill=z.Qc;P.style=!0;ee.w.aKy(z.Rj,z.Dd,z.Of,q,e,V,1,P)};
hB.aax=function(z){var q=1-z.Inpr.v.val/100;return 1+Math.tan(q*(Math.PI/2))};hB.anz=function(z,q){var e=T.K8(T.Gx(z));
for(var n=0;n<z.length;n++)z[n]=Math.min(e,z[n]*q)};hB.jw=function(z,q,e){var V=q.blur.v.val,P=Math.round(V*(q.Ckmt.v.val/100));
if(V>P)hB.afP(z,q.TrnS.v.Crv.v,e!=!0)};hB.afP=function(z,q,e){if(q.length==2){function V($){return new f5($.Hrzn.v,$.Vrtc.v)}var P=V(q[0].v),D=V(q[1].v);
if(P.x==0&&P.y==0&&D.x==255&&D.y==255)return}var B=2048,A=T.Gx(z),s=T.K8(A),a=(B-1)/s,M=T.JQ.aez(q,B,e,A);
for(var n=0;n<z.length;n++)z[n]=M[~~(a*z[n])]};hB.jB=function(z,q,e){var V=q.Nose.v.val/100,P=z,D=T.Gx(z),B=T.K8(D),A=D==32?B/2:B>>>1,s=D==32?1/65535:D==16?1:1/255;
if(V>0){if(e)for(var n=0;n<P.length;n++){var a=P[n];if(a>0)P[n]=Math.max(0,Math.min(B,a+V*2*(s*hB.sG(n*3)-A)))}else for(var n=0;
n<P.length;n++){var a=P[n];if(a>0)P[n]=Math.max(0,Math.min(B,a+Math.min(a*3,V*2*(s*hB.sG(n*3)-A))))}}};
hB.wu=function(z,q,e,V){hB.jw(z,q,V);hB.jB(z,q,e)};hB.aBE=function(z,q){var e=q.ShdN.v.val/100;if(e>0)for(var n=0;
n<z.length;n++){var V=z[n];V=Math.min(510-(1+e)*hB.sG(n),V);z[n]=V}};hB.sG=function(z){z=z^61^z>>16;
z=z+(z<<3);z=z^z>>4;z=z*668265261;z=z^z>>15;return z&65535};hB.aOK=function(z,q,e){var V=T.Yf.z8(z);
if(e!=null){V.l=Math.round(V.l*e);V.I=Math.round(V.I*e);V.c=Math.round(V.c*e)}return q<<24|V.c<<16|V.I<<8|V.l};
hB.eD=function(z,q,e){var V=T.Gx(z);if(V==8)new Uint32Array(z.buffer).fill(hB.aOK(q,255,e));else{var P=T.Yf.z8(q),D=(e==null?1:e)/255;
T.gf(z,P.l*D,P.I*D,P.c*D);T.yS(z,1)}};hB.yy=function(z,q,e,V,P){var D=q.uglg&&q.uglg.v?e.RP():q[P?P:"lagl"].v.val;
D=D*Math.PI/180+V;var B=Math.cos(D)*q.Dstn.v.val,A=Math.sin(D)*q.Dstn.v.val;z.x-=Math.round(B);z.y+=Math.round(A)};
hB.aJx=function(z,q){var e=z.uglg&&z.uglg.v?q.RP():z.lagl.v.val;e=e*(Math.PI/180);var V=z.uglg&&z.uglg.v?q.jL():z.Lald.v.val;
V=V*(Math.PI/180);return[e,V]};hB.af1=function(z){if(z==null||!z.masterFXSwitch.v)return null;var q=z.frameFXMulti.v,e=null;
for(var n=0;n<q.length;n++)if(q[n].v.enab.v)e=q[n].v;if(e==null)return null;var V=az.Y1.g1();hB.ayt(e,V);
return V};hB.ayt=function(z,q){var e=az.stroke.hi.indexOf(z.PntT.v.FrFl),V=[az.RS,az.dW,az.lA][e],P=q.strokeStyleContent.v={classID:az.Y1.U0[e]};
for(var n=0;n<V.length;n++)P[V[n]]=z[V[n]];q.strokeEnabled=z.enab;q.strokeStyleLineWidth=z.Sz;q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=az.Y1.fy[az.stroke.types.indexOf(z.Styl.v.FStl)];
q.strokeStyleOpacity=z.Opct;q.strokeStyleBlendMode=z.Md;q.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
hB.a$=function(z,q){var e=[];for(var n=0;n<z.length;n++)e.push({t:"UntF",v:{type:"#Nne",val:z[n]*q}});
return e};hB.aBV=function(z,q){var e=z.vz/255*(z.add.iOpa?z.add.iOpa/255:1),V=z.add.TySh,P=z.YZ()||z.mp()&&z.add.vmsk&&z.add.vstk.fillEnabled.v&&z.add.vstk.strokeEnabled.v;
if(V){var D=V._1.EngineDict.StyleRun.RunArray,B=D[0].StyleSheet.StyleSheetData,A=0;if(B.FillFlag)A++;
if(B.StrokeFlag)A++;if(B._FillBackgroundFlag)A++;if(A>1)P=!0}return P&&(q||e!=1||z.pi!="pass"&&z.pi!="norm")};
hB.gZ=function(z,q,e,V){this.U_=q.Y();this.a02=q.Y();this.a02.Gm(e,e);if(V){this.U_.Gm(1,1);this.p$=T.n(this.U_.D(),T.Gx(z));
T.KY(z,q,this.p$,this.U_)}else this.p$=z;this.X$=null;this.T6=null;this.zz=null};hB.gZ.prototype.Og=function(){return this.p$};
hB.gZ.prototype.V=function(){return this.U_};hB.gZ.prototype.tB=function(){return this.a02};hB.gZ.prototype.wb=function(){if(this.X$)return this.X$;
this.X$=this.Og().slice(0);T.TG(this.X$);return this.X$};hB.gZ.prototype.Ja=function(){if(this.T6)return this.T6;
this.T6=T.style.lR(this.wb(),this.V().s,this.V().T);return this.T6};hB.gZ.prototype.cM=function(){if(this.zz)return this.zz;
var z=this.tB(),q=T.n(z.D(),T.Gx(this.Og()));T.KY(this.Og(),this.V(),q,z);var e=Date.now();this.zz=T.style.lR(q,z.s,z.T);
return this.zz};hB.gZ.prototype.a8E=function(z,q){var e={qG:-q,R$:z,ze:null,dd:null};if(q==0){e.ze=this.V();
e.dd=this.Ja();return e}var V=this.cM().slice(0),P=this.tB();e.ze=P;e.dd=V;for(var n=0;n<V.length;n++)V[n]=-V[n];
if(z==0)return e;var D=this.Ja(),B=this.V();for(var A=0;A<B.T;A++)for(var s=0;s<B.s;s++){var a=A*B.s+s,M=(A+B.y-P.y)*P.s+s+B.x-P.x;
V[M]+=D[a]}return e};hB.gZ.prototype.yY=function(z,q,e){var V=Math.ceil(z+q),P={TP:this.V().Y(),Og:null};
P.TP.Gm(V,V);P.Og=T.n(P.TP.D(),T.Gx(this.Og()));if(z==0&&q==0)T.Yh(e?this.Og():this.wb(),P.Og);else{var D=P.Og;
T.KY(this.Og(),this.V(),D,P.TP);if(!e)T.TG(D);if(z!=0){if(e)T.style.t9(D,P.TP,this.cM(),this.tB(),z);
else T.style.t9(D,P.TP,this.Ja(),this.V(),z)}if(q!=0)T.BJ.uR(D,P.TP,Math.max(1,q*.43))}return P};hB.gZ.prototype.aPu=function(z,q,e,V){var P=z*(q-.5),D=1/z,B={TP:this.V().Y(),Og:null};
if(e)B.TP.Gm(z,z);var A=T.Gx(this.Og()),s=T.K8(A);B.Og=T.n(B.TP.D(),A);var a=e?this.cM():this.Ja(),M=e?this.tB():this.V(),$=B.TP,U=$.HX(M),o=U.s,t=U.T,c=U.x-$.x,H=U.y-$.y,F=U.x-M.x,i=U.y-M.y,X=1-q*2;
for(var K=0;K<t;K++)for(var f=0;f<o;f++){var d=a[(K+i)*M.s+f+F],L=d*D;B.Og[(K+H)*$.s+f+c]=s*Math.max(0,Math.min(1,V*(1-(L+X)/(1+X))))}return B};
hB.aMg=function(z,q,e,V){var P=z.Lefx,D=z.blendOptions;if(P){var B=q.add.lmfx;if(e==null)e=B?B.Scl.v.val:100;
q.add.lmfx=T.G(P.v);if(q.add.lmfx.Scl==null)q.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};hB.Ns(q.add.lmfx,e/q.add.lmfx.Scl.v.val);
if(B)q.add.lmfx.Scl.v.val=B.Scl.v.val;var A=P.v.gagl;if(A&&V)V.Ru(A.v.val)}else delete q.add.lmfx;if(D){D=D.v;
if(D.Md)q.pi=aA.pd(D.Md.v.BlnM);if(D.Opct)q.vz=Math.round(D.Opct.v.val*255/100);if(D.fillOpacity)q.add.iOpa=Math.round(D.fillOpacity.v.val*255/100);
if(D.Blnd){var s=[];for(var n=0;n<10;n++)s.push(0,0,255,255);var a=D.Blnd.v,M="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var n=0;n<a.length;n++){var $=a[n].v,U=8*["Gry","Rd","Grn","Bl"].indexOf($.Chnl.v[0].v.enum);for(var o=0;
o<8;o++){s[U+o]=$[M[o]].v}}q.sy=s}}};hB.abZ=function(z){var q="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),e=[],V=z.sy;
for(var n=0;n<4;n++){var P=n*8;if(V[P]+V[P+1]+V[P+4]+V[P+5]==0&&V[P+2]+V[P+3]+V[P+6]+V[P+7]==4*255)continue;
var D={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][n]}}]}}};
e.push(D);for(var B=0;B<8;B++)D.v[q[B]]={t:"long",v:V[n*8+B]}}var A={classID:"blendOptions"};if(z.pi!="norm")A.Md={t:"enum",v:{BlnM:aA.bi(z.pi)}};
if(z.vz!=255)A.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(z.vz*100/255)}};if(z.add.iOpa!=null)A.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(z.add.iOpa*100/255)}};
if(e.length!=0)A.Blnd={t:"VlLs",v:e};var s={Pi:{classID:"null",Idnt:{t:"TEXT",v:hq.ky()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},L$:{classID:"Styl",blendOptions:{t:"Objc",v:A}}},a=z.add.lmfx;
if(a)s.L$.Lefx={t:"Objc",v:a};return s};function ia(){}ia.ld=function(z){var q=T.G(ia.abi),e=q.Brsh.v;
if(z!=null){delete e.Hrdn;e.classID="sampledBrush";e.sampledData={t:"TEXT",v:z}}return q};ia.abi={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
ia.aDI=function(z,q){var e=["opVr","szVr"],V=["usePaintDynamics","useTipDynamics"];for(var n=0;n<2;n++){var P=e[n];
if(z[P]==null)z[P]=JSON.parse(ia.hO.mx[P]);z[P].v.bVTy.v=q[n]?2:0;if(q[n])z[V[n]].v=!0}ia.hO.a0L(z)};
ia.hO={};ia.hO.check=function(z){var q=ia.hO.v4;for(var n=0;n<q.length;n++)if(z[q[n]]==null)z[q[n]]=JSON.parse(ia.hO.mx[q[n]]);
var e=[];for(var n=0;n<q.length;n++)e.push(q[n]);var V=ia.hO.abH;for(var n=0;n<V.length;n++){var P=V[n][0],D=V[n][1],B=!0;
for(var A=0;A<P.length;A++)B=B&&z[P[A]].v==!0;if(B)for(var A=0;A<D.length;A++){if(z[D[A]]==null)console.log("Missing conditional parameter "+D[A]);
else e.push(D[A])}}for(var s in z)if(e.indexOf(s)==-1&&s!="toolOptions")console.log("Extra parameter "+s);
z=z.Brsh.v;q=ia.hO.DV.v4;for(var n=0;n<q.length;n++)if(z[q[n]]==null)z[q[n]]=JSON.parse(ia.hO.DV.mx[q[n]]);
e=[];for(var n=0;n<q.length;n++)if(z[q[n]])e.push(q[n]);else console.log("Missing default parameter "+q[n]);
V=ia.hO.DV.a1L[z.classID];for(var n=0;n<V.length;n++)if(z[V[n]]==null&&V[n]!="dtipsGridSize"&&V[n]!="dtipsErodibleTipHeightMap"&&z.aqR!=1)console.log("Missing conditional parameter "+V[n]);
else e.push(V[n]);for(var s in z)if(e.indexOf(s)==-1)console.log("Extra parameter "+s)};ia.hO.a0L=function(z){var q=ia.hO.abH;
for(var n=0;n<q.length;n++){var e=q[n][0],V=q[n][1],P=!0;for(var D=0;D<e.length;D++)P=P&&z[e[D]]&&z[e[D]].v==!0;
if(P){for(var D=0;D<V.length;D++)if(z[V[D]]==null){z[V[D]]=JSON.parse(ia.hO.mx[V[D]])}}else for(var D=0;
D<V.length;D++)if(z[V[D]]!=null){delete z[V[D]]}}};ia.hO.DV={};ia.hO.DV.v4="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
ia.hO.DV.mx={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};ia.hO.DV.a1L={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
ia.hO.abH=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
ia.hO.v4="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
ia.hO.mx={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":0}",textureContrast:"{\"t\":\"long\",\"v\":0}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function e0(z,q){this.a2$=z;this.gV=q==null?0:q;this.dir=0}e0.prototype.Sm=function(z,q){var e=this.a2$,V=new f5(z.x-e.x,z.y-e.y),P=new e5;
P.rotate(-this.gV);V=P.a0(V);if(this.dir==0&&!e.bs(z))this.dir=Math.abs(V.x)<Math.abs(V.y)?1:2;if(q.t(cz.XQ)){if(this.dir==1)V.x=0;
if(this.dir==2)V.y=0}P.TG();V=P.a0(V);var D=new f5(e.x+V.x,e.y+V.y);return D};e0.prototype.agI=function(z){if(z.t(cz.XQ))return this.dir;
return 0};var bA=function(){function z(){this.at4={}}z.ai3=function(q,e){var V=q.Y();V.yK-=Math.floor(V.yK);
V.ww-=Math.floor(V.ww);var P=new f5(e,0),D=new f5(0,e),B=V.a0(P),A=V.a0(D),s=new f5(V.yK,V.ww);return[B,A,s]};
z.ar3=function(q,e){var V=f5.h5;return V(q[0],e[0])+V(q[1],e[1])+V(q[2],e[2]);return dsum};z.prototype.aye=function(q){var e=this.at4,V=e[q];
if(V==null)V=e[q]={El:[],$e:0,D:0,a7v:0,aKp:0};V.$e=Date.now();while(Object.keys(e).length>3){var P="",D=Date.now();
for(var B in e){var A=e[B].$e;if(A<D){D=A;P=B}}delete e[P]}return V};z.prototype.az3=function(q,e){var V=q.El,P,D=1e6;
for(var n=0;n<V.length;n++){var B=V[n],A=z.ar3(B.j_,e);if(A<D){P=B;D=A}}return P};z.prototype.aJR=function(q,e){var V=q.El;
V.push(e);q.D+=e.V.D();if(V.length>1e3||q.D>100*100*1600){V.sort(function(D,B){return B.$e-D.$e});while(V.length>500||q.D>100*100*800){var P=V.pop();
q.D-=P.V.D()}}};return z}();function bw(z,q,e,V,P,D,B,A,s){this.Mf=q;this.yw=e;this.Cp=D;this.HH=V;this.bJ=null;
this.Q0=null;this.MI=0;this.aHr=0;this.aIR=0;this.tu=0;this.lM=0;this.vW=s==null?Math.floor(Math.random()*16777215):s;
this.hH=s==null?Math.floor(Math.random()*16777215):s;this.hp=new kk;this.vX=new kk;this.ek=V.depth?V.depth:8;
if(A!=null){this.Dm=A}else{var a=bw.aJi;if(a.length!=B.D()*4)a=T.n(B.D()*4,this.ek);else a.fill(0);this.Dm=bw.aJi=a}this.V=B.Y();
this.CE=[];this.wM=[];this.b2=null;this.pQ=0;this.c=null;this.a4L="";this.e5=null;this.axS=null;this.aiw(z,P)}bw.aJi=T.n(0);
bw.prototype.aiw=function(z,q){this.pQ=q;this.c=z;this.a4L=JSON.stringify(z)+JSON.stringify(this.HH.GJ);
this.e5=bw.aet(this.c,this.Mf,this.yw);this.e5.dE[0]=T.EZ(this.e5.dE[0],this.ek);this.axS=T.n(this.e5.dE[1].D()*4,this.ek);
T.yR(this.e5.dE[0],this.axS,3)};bw.prototype.moveTo=function(z,q,e){e=this.aii(e);this.MI=e;var V=new f5(z,q),P=this.c.Brsh.v.Dmtr.v.val;
this.bJ=V.Y();this.Q0=V.Y();this.b2=V.Y();this.CE=[z,q];this.wM=[e];if(this.HH.aMI!=bw.lP){var D=this.c.angleDynamics,B=D?D.v.bVTy.v==6:!1;
this.Cy(B?new kk:this.aBQ(V,this.aCj(e),e,new f5(0,0)))}this.tu=V.Y()};bw.prototype.lineTo=function(z,q,e){e=this.aii(e);
var V=this.CE,P=V.length,D=V[P-2],B=V[P-1];if(z==D&&q==B)return;var A=this.c.Brsh.v.Dmtr.v.val,s=Math.ceil(A)+1,a=new kk(Math.round(D),Math.round(B),0,0);
a.Gm(s,s);var M=new kk(Math.round(z),Math.round(q),0,0);M.Gm(s,s);this.CE.push(z,q);this.wM.push(e);
P+=2;if(P>=6)this.Cy(this.a5U(P))};bw.prototype.aii=function(z){if(z==null)z=1;z=Math.max(.05,Math.min(5,z));
if(isNaN(z)){alert("Pressure is not a number");throw"e"}return z};bw.prototype.Cy=function(z){this.hp=z;
this.vX=this.vX.X8(z)};bw.prototype.finish=function(){var z=this.CE,q=z.length,e;if(q==4)e=this.Qj(z[q-2],z[q-1],this.wM[(q>>1)-1],!0);
if(q>4)e=this.a5U(q+2);if(e)this.Cy(e)};bw.prototype.$i=function(){return this.V.Y()};bw.prototype.Lt=function(){return this.hp.HX(this.V)};
bw.prototype.CC=function(){return this.vX.HX(this.V)};bw.prototype.Hz=function(){return this.Dm};bw.prototype.a5U=function(z){var q=this.CE,e=this.wM,V=q[z-6],P=q[z-5],D=q[z-4],B=q[z-3],A=e[(z>>1)-3],s=e[(z>>1)-2],a=new f5(0,0),M=new f5(0,0);
if(8<=z)a=bw.akj(q[z-8],q[z-7],V,P,D,B);if(z<=q.length)M=bw.akj(q[z-2],q[z-1],D,B,V,P);var $=V+a.x,U=P+a.y,o=D+M.x,t=B+M.y,c=new kk,H=this.aLR()?1:10;
for(var n=0;n<H;n++){var F=(n+1)/H,i=1-F,X=i*i*i*V+3*F*i*i*$+3*F*F*i*o+F*F*F*D,K=i*i*i*P+3*F*i*i*U+3*F*F*i*t+F*F*F*B,f=this.Qj(X,K,A+F*(s-A));
c=c.X8(f)}return c};bw.akj=function(z,q,e,V,P,D){var B=z-e,A=q-V,s=P-e,a=D-V,M=Math.sqrt(B*B+A*A),$=Math.sqrt(s*s+a*a),U=Math.acos((B*s+A*a)/(M*$))/Math.PI,o=.35,t=.1;
U=t+U*(o-t);var c=P-z,H=D-q,F=Math.sqrt(c*c+H*H),i=U*$/F;return new f5(c*i,H*i)};bw.prototype.Qj=function(z,q,e,V){var P=new kk,D=this.HH.a9e;
if(D==null)D=0;if(D==0||V){P=this.azw(z,q,e);return P}var B=this.b2,A=z-B.x,s=q-B.y,a=Math.sqrt(A*A+s*s);
A/=a;s/=a;if(a>D){var M=B.x+A*(a-D),$=B.y+s*(a-D);P=this.azw(M,$,e);this.b2.mX(M,$)}return P};bw.prototype.aLR=function(){var z=this.c,q=z.Brsh.v.Dmtr.v.val;
return this.HH.GJ&&q==1};bw.prototype.azw=function(z,q,e){var V=new kk,P=new f5(z,q),D=this.HH.aMI,B=P.SV(this.Q0);
B.normalize(1);var A=f5.h5(this.Q0,P),s=-this.aHr,a=this.Q0.Y();if(this.aLR()){if(A>.99){var M=this.Q0,$=T.NO.ahY(P,this.V,this.HH.IT);
for(var n=0;n<$.length;n++){var U=$[n],o=U.a0(M),t=U.a0(P);bw.a9V(o,t,this.Dm,this.V,this.H9(this.c));
V=V.X8(T.R.b_([o.x,o.y,t.x,t.y]))}s=A}else P=this.Q0}else while(!0){var c=this.MI+(e-this.MI)*(Math.max(0,s)/A),H=this.aCj(c),F=this.aNg()*(H+this.aIR)/2*this.e5.aGY;
if(D==bw.lP)F=1;F=Math.max(F,.5);if(s+F<A){s+=F;this.lM+=F;var i=new f5(this.Q0.x+B.x*s,this.Q0.y+B.y*s),K=1;
if(D==bw.lP){var t=a.Y();t.x+=B.x>0?1:-1;var X=a.Y();X.y+=B.y>0?1:-1;if(f5.h5(t,i)<f5.h5(X,i))i=t;else i=X;
s=f5.h5(i,this.Q0)}if(this.c.useScatter.v==!0){K=this.c.Cnt.v;var f=this.c.countDynamics.v.jitter.v.val/100,d=f*(-1+2*this.z4());
K+=Math.round(K*d)}for(var n=0;n<K;n++){var L=this.aBQ(i,H,e,B);V=V.X8(L)}a=i}else break}this.aHr=A-s;
this.Q0=P;this.MI=e;return V};bw.prototype.aNg=function(){var z=this.c.Brsh.v,q=z.Spcn.v.val,e=Math.max(5,z.Rndn.v.val);
return e/100*(q/100)};bw.prototype.aCj=function(z){var q=this.c,e=q.Brsh.v.Dmtr.v.val;if(q.useTipDynamics.v){var V=e*(q.minimumDiameter.v.val/100);
e=V+(e-V)*(1-this.z4(this.hH)*(q.szVr.v.jitter.v.val/100));e*=bw.Rf(q,"szVr",z,this.lM)}return e};bw.Rf=function(z,q,e,V){var P=1,D=z[q].v,B=D.bVTy.v,A=D.fStp.v;
if(B==1)P*=Math.max(0,(A-V)/A);if(B==2)P*=e;return P};bw.prototype.aBQ=function(z,q,e,V){var P=this.HH.Ws,c=0;
P=Math.min(1,P);var D=this.c,B=this.c.Brsh.v,A=B.Dmtr.v.val,s=this.HH,a=s.aMI,M=s.an4,$=this.e5.dE[1],U=new e5;
U.translate(-$.s/2,-$.T/2);U.scale(1/this.e5.aDv,1/this.e5.aDv);U.scale(q/A,q/A);U.scale(1,Math.max(5,B.Rndn.v.val)/100);
if(D.usePaintDynamics&&D.usePaintDynamics.v){var o=D.opVr.v.jitter.v.val/100,t=D.prVr.v.jitter.v.val/100;
P*=1-this.z4()*o;P*=1-this.z4()*t;P*=bw.Rf(D,"opVr",e,this.lM)*bw.Rf(D,"prVr",e,this.lM)}if(D.useTipDynamics.v){var F=D.angleDynamics.v,i=D.minimumRoundness.v.val/100;
U.scale(1,i+(1-i)*Math.round(100-this.z4()*D.roundnessDynamics.v.jitter.v.val)/100);c+=(-.5+this.z4())*4*Math.PI*(F.jitter.v.val/100);
c+=bw.Rf(D,"angleDynamics",e,this.lM)*2*Math.PI;if(F.bVTy.v==6)c+=Math.atan2(-V.y,V.x)}c+=B.Angl.v.val*(Math.PI/180);
U.rotate(c);if(D.useScatter.v){var X=(-1+2*this.z4())*D.scatterDynamics.v.jitter.v.val/100;U.translate(-X*q*V.y,X*q*V.x)}U.translate(z.x,z.y);
var K=this.aly(U,z,q),f=K.V.Y();if(a==null){var d=this.H9(D);T.gf(K.SW,d.l,d.I,d.c);if(this.vX.a8()&&this.V.bs(K.V)&&P==1)this.Dm=K.SW.slice(0);
else{var L=T.NO.ahY(z,this.V,s.IT);for(var n=0;n<L.length;n++){var G=L[n],x,O;if(G.x6==1&&G.c==0&&G.I$==0&G.at==1){x=K.SW;
O=K.V.Y();O.x+=G.yK;O.y+=G.ww}else{var v=U.Y();v.concat(G);var C=this.aly(v,G.a0(z),q);x=C.SW;O=C.V;
T.gf(x,d.l,d.I,d.c)}if(O.Je(this.V)){if(D.useTexture.v&&this.yw&&D.TxtC.v)this.azp(D,x,O);f=f.X8(O);
if(this.ek==8)T.w.azy(x,O,this.Dm,this.V,O,P);else T.w.Mt("norm",x,O,this.Dm,this.V,O,P)}}}}if(a==bw.lP){var S=new f5(K.V.x+K.V.s/2,K.V.y+K.V.T/2),j=Math.round(S.x-this.tu.x),w=Math.round(S.y-this.tu.y),u=K.V.Y();
u.offset(-j,-w);var l=u.HX(this.V);l.offset(j,w);T.aF(this.Dm,this.V,K.SW,u);if(this.ek==8)T.w.axE(K.SW,K.V,this.Dm,this.V,K.Yr,K.V,P);
else T.w.Dx(K.SW,K.V,this.Dm,this.V,K.Yr,K.V,0,l,P,!1)}if(a==bw.mM||a==bw.z6||a==bw.eV){var I=K.V.HX(this.V),Q;
if(I.bs(K.V))Q=K.Yr;else{Q=T.n(I.D(),this.ek);T.KY(K.Yr,K.V,Q,I)}var b=T.n(I.D()*4,this.ek);T.aF(this.Dm,this.V,b,I);
if(a==bw.z6){var p=b.slice(0),k=T.WZ.zt([-1,-1,-1,-1,25,-1,-1,-1,-1]);T.WZ.SR(b,p,I.s,I.T,k);T.Yh(p,b)}else if(a==bw.eV){var g=ak.g1("UnsM");
g.Amnt.v.val=15;g.Thsh.v=0;g.Rds.v.val=5;var p=T.n(b.length,this.ek);ak.vl("UnsM",{buffer:b,V:I},g,0,0,{buffer:p,V:I});
T.Yh(p,b)}else{ak.on(1,0,b,I)}if(this.ek==8)T.w.axE(b,I,this.Dm,this.V,Q,I,P);else T.w.Dx(b,I,this.Dm,this.V,Q,I,0,I,P,!1)}this.aIR=q;
this.tu=S;this.hH++;return f};bw.prototype.azp=function(z,q,e){var V=z.textureDepth.v.val/100,P=z.textureScale.v.val/100,D=z.textureBrightness.v/100,B=z.textureContrast.v/100,A=z.textureBlendMode.v.BlnM,s=z.InvT.v,s=z.TxtC.v,a=hB.i6(z.Txtr.v,this.yw),M=0;
T.Jr(a.dE);if(a.c5==null){var $=a.dE[0],U=a.dE[1],o=U.s,t=U.T,c=T.n(U.D());for(var n=0;n<c.length;n++){var H=n*4,F=($[H]+$[H+1]+$[H+2])*(1/(3*255)),i=$[H+3]*(1/255),X=i*F+(1-i)*1;
X+=D*.25;X=.5+(X-.5)*(1+B);X=Math.max(0,Math.min(1,X));if(s)X=1-X;c[n]=255*X}a.c5=[c,U];T.wD(a.c5)}while(P<.7&&a.c5[M+2]){P*=2;
M+=2}var c=a.c5[M],U=a.c5[M+1],o=U.s,t=U.T,K=1/P;for(var f=0;f<e.T;f++){var d=(e.y+f+.5)*K;for(var L=0;
L<e.s;L++){var G=(e.x+L+.5)*K,x=T.O.ft(G,d,c,o,t)*(1/255),O=0,n=(f*e.s+L)*4+3,v=q[n]*(1/255);if(A=="linearHeight"||A=="Hght"){q[n]=255*Math.max(0,Math.min(1,8*V*v*(x+.5*V)-.15))}else{if(A=="Mltp")O=v*x;
else if(A=="Sbtr")O=Math.max(0,v-x);else if(A=="Drkn")O=Math.min(v,x);else if(A=="Ovrl")O=T.w.overF(x,v,1);
else if(A=="CDdg")O=T.w["div F"](x,v,.95);else if(A=="CBrn")O=T.w.idivF(x,v,.8);else if(A=="linearBurn")O=T.w.lbrnF(x,v,1);
else if(A=="hardMix")O=T.w.hMixF(x,v,.5);q[n]=255*(V*O+(1-V)*v)}}}};bw.prototype.a99=function(z){var q=this.c;
if(q.useTexture.v&&this.yw&&!q.TxtC.v){var e=T.n(z.D()*4,this.ek);T.aF(this.Hz(),this.$i(),e,z);this.azp(q,e,z);
return e}};bw.prototype.H9=function(z){var q=T.H_(this.pQ,1),e=z.colorDynamicsPerTip,V=null;e=e?e.v:!1;
if(this.a1N==null)this.a1N=this.vW;if(!e){V=this.vW;this.vW=this.a1N}if(z.useColorDynamics&&z.useColorDynamics.v){var P=1-this.z4()*z.clVr.v.jitter.v.val/100,D=T.H_(this.Cp,1);
q.l=P*q.l+(1-P)*D.l;q.I=P*q.I+(1-P)*D.I;q.c=P*q.c+(1-P)*D.c;var B=(-.5+this.z4())*z.H.v.val/100,A=(-1+2*this.z4())*z.Strt.v.val/100,s=(-1+2*this.z4())*z.Brgh.v.val/100,a=T.Pw(q.l,q.I,q.c);
a.Hi=(a.Hi+B+1)%1;a.fY=a.fY+A;if(a.fY<0)a.fY=-a.fY;if(a.fY>1)a.fY=1-(a.fY-1);a.YY=a.YY+s;if(a.YY<0)a.YY=-a.YY;
if(a.YY>1)a.YY=1-(a.YY-1);q=T.mj(a.Hi,a.fY,a.YY)}if(!e)this.vW=V;return q};bw.prototype.hO=function(z){return Math.max(0,Math.min(1,z))};
bw.prototype.z4=function(z){if(z==null){z=this.vW++}return bw.hash(z)};bw.hash=function(z){z=z^61^z>>16;
z=z+(z<<3);z=z^z>>4;z=z*668265261;z=z^z>>15;return(z&16777215)/16777215};bw.agV=new bA;bw.aqx=function(z,n,q){var e=z[n],V=z[q];
z[n]=4+7*e+V>>>3;z[q]=4+7*V+e>>>3};bw.prototype.aly=function(z,q,e){var V=this.HH.GJ,P=this.c.Brsh.v,D=Math.round(P.Dmtr.v.val),B;
if(V&&D<=3){B={o:T.n(D*D,this.ek),V:new kk(Math.round(q.x-D/2),Math.round(q.y-D/2),D,D)};B.o.fill(T.K8(this.ek))}else if(z.x6==1&&z.c==0&&z.I$==0&&z.at==1){B={o:this.e5.dE[0],V:this.e5.dE[1].Y(),SW:this.axS};
B.V.x=Math.round(z.yK);B.V.y=Math.round(z.ww)}else{if(z.vx()>1e-4){B=W.On.a6J(this.e5.dE,z);var A=B.V.s,s=B.V.T,a=B.o;
if(P.classID=="sampledBrush"&&T.Gx(a)==8&&A*s>25)for(var M=1;M<s;M++)for(var $=1;$<A;$++){var n=M*A+$;
bw.aqx(a,n,n-1);bw.aqx(a,n,n-A)}}}if(B)B.o=T.EZ(B.o,this.ek);if(B==null)B={o:T.n(0,this.ek),V:new kk};
var U={Yr:B.o,V:B.V,SW:B.SW};if(U.SW==null||V){if(V)T.round(B.o);U.SW=T.n(B.V.D()*4,this.ek);T.yR(U.Yr,U.SW,3)}return U};
bw.aet=function(z,q,e){var V,P,D,B=z.Brsh.v.Dmtr.v.val,A=z.Brsh.v.classID;if(A=="computedBrush"){var s=z.Brsh.v.Hrdn.v.val/100;
P=B<100?1.4:1;D=1;V=T.abP.ary(B,s,P)}if(A=="sampledBrush"){var a;for(var n=0;n<q.length;n++)if(q[n].id==z.Brsh.v.sampledData.v)a=q[n];
V=a.dE;var M=V[1];P=Math.max(M.s,M.T)/B;D=Math.min(M.s,M.T)/Math.max(M.s,M.T)}return{aDv:P,aGY:D,dE:V}};
bw.TX=null;bw.YI=null;bw.sZ=function(z,q,e,V,P,D){var B=bw.TX,A=bw.YI;if(B==null){bw.TX=B=document.createElement("canvas");
bw.YI=A=B.getContext("2d")}if(D==null)D=V;if(B.width!=D||B.height!=P){B.width=D;B.height=P}else A.clearRect(0,0,D,P);
A.fillStyle="#000000";A.font=Math.floor(10*W.WU())+"px sans-serif";var s=z.Brsh.v.Dmtr.v.val,a=""+s,M=z.useBrushSize;
if(M&&M.v)a="---";var $=A.measureText(a);A.fillText(a,(V-$.width)/2,P-2);var U=V,o=P-10*W.WU(),t=Math.min(U,o),c=z.Brsh.v.classID;
if(c=="computedBrush"){A.translate(U/2,o/2);A.rotate(-z.Brsh.v.Angl.v.val*Math.PI/180);A.scale(1,.1+.9*z.Brsh.v.Rndn.v.val/100);
var H=Math.min(.95*t/2,s/2)+.5,F=.9*z.Brsh.v.Hrdn.v.val/100,i=A.createRadialGradient(0,0,0,0,0,H);i.addColorStop(F,"rgba(0,0,0,1)");
i.addColorStop((.5+F)/1.5,"rgba(0,0,0,.5)");i.addColorStop(1,"rgba(0,0,0,0)");A.fillStyle=i;A.fillRect(-H,-H,2*H,2*H);
A.setTransform(1,0,0,1,0,0)}else if(c=="sampledBrush"){var X,G=0;for(var n=0;n<q.length;n++)if(q[n].id==z.Brsh.v.sampledData.v)X=q[n];
var K=X.dE;T.wD(K);var f=K[0],d=K[1].s,L=K[1].T;while((d>U||L>o)&&K[G+2]){G+=2;f=K[G];d=K[G+1].s;L=K[G+1].T}if(d*L!=0){var x=T.n(d*L*4);
T.yR(f,x,3);var O=new ImageData(new Uint8ClampedArray(x.buffer),d,L);A.putImageData(O,Math.round((U-d)/2),Math.round((o-L)/2))}}else{}return B.toDataURL()};
bw.nC=function(z,q,e,V){if(e==0)e=1;var P=z.Brsh.v,D=P.Dmtr.v.val,B=P.Angl.v.val,A=P.Dmtr.v.val=Math.min(V!=null?Math.round(V*2.6):3e3,D*e),s=P.Hrdn?P.Hrdn.v.val/100:1,a=V!=null?V:Math.round((B==0?1:1.42)*A*(1+.55*(1-s)))+4,U;
a=Math.max(25,Math.min(a,3e3));var M=new kk(0,0,a,a),$=new bw(z,q,null,{Ws:1},16711712,0,M);P.Dmtr.v.val=D;
$.moveTo(M.s/2,M.T/2);var o=T.EZ($.Hz(),8),t=$.$i();if(M.bs(t))U=o;else{U=T.n(M.D()*4);T.aF(o,t,U,M)}return[U,M,A]};
bw.N6=function(z,q,e,V){var P=q.s,D=P>>>1;for(var n=2;n<7;n++){z[P*(D-n)+D-1]=V;z[P*(D-n)+D]=e;z[P*(D-n)+D+1]=V;
z[P*(D+n)+D-1]=V;z[P*(D+n)+D]=e;z[P*(D+n)+D+1]=V;z[P*(D-1)+D-n]=V;z[P*D+D-n]=e;z[P*(D+1)+D-n]=V;z[P*(D-1)+D+n]=V;
z[P*D+D+n]=e;z[P*(D+1)+D+n]=V}V=e;if(W.WU()>=1.5)for(var n=5;n<11;n++){z[P*(D-n)+D-1]=V;z[P*(D-n)+D]=e;
z[P*(D-n)+D+1]=V;z[P*(D+n)+D-1]=V;z[P*(D+n)+D]=e;z[P*(D+n)+D+1]=V;z[P*(D-1)+D-n]=V;z[P*D+D-n]=e;z[P*(D+1)+D-n]=V;
z[P*(D-1)+D+n]=V;z[P*D+D+n]=e;z[P*(D+1)+D+n]=V}};bw.Tf=function(z,q,e,V){var P=bw.nC(z,q,e),D=P[0].slice(0),B=P[1],A=P[2],s=B.D(),a=T.n(s);
T.bl(D,a,3);var M=T.n(s);T.h.aDJ(a,M,B,W.WU()>1.9);if(A<3||T.Rh(M,0)||V&&A>12){bw.N6(M,B,255,0)}var $=[3,5,3,4,8,4,3,5,3];
$=T.WZ.zt($);T.WZ.pf(M,a,B.s,B.T,$);D.fill(255);T.yR(a,D,3);for(var n=0;n<s;n++)if(M[n]==255){D[n<<2]=D[(n<<2)+1]=D[(n<<2)+2]=0;
D[(n<<2)+3]=255}return{Nm:D,TP:B,ZO:new f5(B.s/2,B.T/2)}};bw.a9V=function(z,q,e,V,P){var D=4278190080|Math.round(P.c*255)<<16|Math.round(P.I*255)<<8|Math.round(P.l*255)<<0;
e=new Uint32Array(e.buffer);var B=Math.floor(z.x),A=Math.floor(z.y),s=Math.floor(q.x),a=Math.floor(q.y),M=Math.abs(s-B),$=Math.abs(a-A),U=B<s?1:-1,o=A<a?1:-1,t=M-$;
while(!0){if(0<=B&&B<V.s&&0<=A&&A<=V.T)e[A*V.s+B]=D;if(B==s&&A==a)break;var c=2*t;if(c>-$){t-=$;B+=U}if(c<M){t+=M;
A+=o}}};bw.lP="0";bw.mM="1";bw.z6="2";bw.eV="3";var ey={};ey.tM=function(z,q,e){if(e==null)e=!0;var V=z.add.TySh,P=V._1,D=new kB(P,q,V.h8);
z.J3.NY=D.Vf();var B=z.J3.path=ey.WK(D,V);if(cW!=0)return[B,D,null];var A=ey.lk(B,V.v,dc.yx(V));if(e){z.V=A.TP;
var s=T.Gx(z.buffer);z.buffer=T.EZ(A.Dm,s);z.Kv()}return[B,D,A]};ey.lk=function(z,q,e){z={_:z._,J:z.J.slice(0)};
T.R.v(z.J,q,z.J);var V=T.R.b_(z.J),P=0,D=!1;if(V.a8())return{Dm:T.n(0),TP:new kk};for(var n=0;n<z._.length;
n++){var B=z._[n];if(B[0]=="O"&&B[1]=="-"){var A=B.split("-");P=Math.max(P,parseFloat(A[2]));if(A[4]=="0")D=!0}}P=Math.ceil((D?2:1)*P*q.vx()/2);
V.Gm(P,P);var s=T.Hx(V.s,V.T);s.translate(-V.x,-V.y);ey.aGB(z,s);var a=s.getImageData(0,0,V.s,V.T),M=new Uint8Array(a.data.buffer);
if(e==0)for(var n=0;n<M.length;n+=4)M[n+3]=M[n+3]>80?255:0;if(e==3)for(var n=0;n<M.length;n+=4)M[n+3]=Math.min(255,M[n+3]*1.5);
s.resetTransform();s.beginPath();return{Dm:M,TP:V}};ey.WK=function(z,q,e){var V=q.v,P=q._1;ey.gN=V.vx();
var D=dc.yx(q),B=Math.max(V.c*V.c,V.I$*V.I$)<1e-9?V:null;if(D==3||D==4)B=null;var A={_:[],J:[]};ey.aAl(z,A,B,!0);
ey.aAl(z,A,B,!1);A=ey.$P(A,q,z,e);return A};ey.gN=1;ey.$P=function(z,q,e,V){if(z==null)return z;if(e&&e.jS)T.R.v(z.J,e.jS,z.J);
if(e&&!T.OL.nD(q.au)){var P=dc.$i(q,e);if(!P.a8()){if(z._){z=T.R.VW(z);var D=Math.min(P.s,P.T)/8;if(D<1)D=1;
z=T.R.V9(z,D)}var B=T.OL.GZ(q.au,P);T.BQ.v(B,z.J,P)}}var A=q.v;if(V)T.R.v(z.J,A,z.J);return z};ey.aGB=function(z,q){q.save();
q.miterLimit=2;Typr.U.pathToContext({crds:z.J,cmds:z._},q);q.restore()};ey.vM=function(z,q,e){var V=kB.aKK(e),P=z._1,D=P.ResourceDict.FontSet,B=P.ResourceDict.StyleSheetSet[0].StyleSheetData,A=P.EngineDict.StyleRun.RunLengthArray,s=P.EngineDict.StyleRun.RunArray,a=dc.VQ(P),M=!0,$={},U=0;
for(var n=0;n<s.length;n++){var o=s[n].StyleSheet.StyleSheetData.Font;if(o==null)o=B.Font;for(var t=0;
t<A[n];t++){var H=a.charCodeAt(U+t),F=o+","+(H>128?H:-1),i=dc.hb(D[o]);if($[F]==null){$[F]=1;if(q.dN(i,H)==null)M=!1}}U+=A[n]}return M&&V};
ey.rB=function(z,q,e){var V=!0;for(var P=0;P<z.Z.length;P++){var D=z.Z[P],B=D.add.TySh;if(B!=null&&!ey.vM(B,q,e))V=!1}return V};
ey.fT=function(z,q,e){for(var V=0;V<z.Z.length;V++){var P=z.Z[V],D=P.add.TySh;if(D!=null&&ey.vM(D,q,e)){ey.tM(P,q);
z.Kv()}}};ey.aAl=function(z,q,e,V){var P=new e5;for(var n=0;n<z.S$.length;n++)ey.aDP(z.c_,z.S$[n],q,P,e,V)};
ey.aDP=function(z,q,e,V,P,D){V.translate(q.R5.x,q.R5.y);for(var n=0;n<q.oA.length;n++){var B={},A=q.oA[n],M=0;
if(!A.hf)break;var s=V.Y();s.translate(A.R5.x,A.R5.y);if(P){var a=P.ww+s.ww*P.at;s.ww=(Math.round(a)-P.ww)/P.at}for(var $=A.start;
$<A.end;$++)M=Math.max(M,q.qX[$].M4);for(var $=A.start;$<A.end;$++){ey.acG(z,q.qX[$],q,B,e,s,P,D,M)}}V.translate(-q.R5.x,-q.R5.y)};
ey.acG=function(z,q,e,V,P,D,B,A,s){D.translate(q.R5.x,q.R5.y);for(var a=q.ef;a<=q.h1;a++){var M=e.Kh[a],$=M.TP.s,U=z[e.axx+M.xR],o=U.LD._FillBackgroundFlag;
if(U.bD=="\n"||A&&!o)continue;var t=U.LD.FontSize/U.rG.head.unitsPerEm,c=D.Y();c.translate(M.R5.x+M.E$*t,M.R5.y-M.LH*t);
var H=new e5;H.scale(t,-t);if(U.LD.FauxItalic)H.concat(new e5(1,0,-Math.tan(.18),1,0,0));H.translate(0,U.aLi);
H.scale(U.scale.x,U.scale.y);if(U.LD.BaselineShift!=null)H.translate(0,-U.LD.BaselineShift);if(M.gV!=0){H.rotate(-M.gV)}H.concat(c);
var F=(U.LD.OutlineWidth?U.LD.OutlineWidth:1)*ey.gN;if(A){P._.push(ey.H9(U.LD._FillBackgroundColor));
var i=1.005*M.TP.T/t,X=new kk(-M.E$,-i*.27,1.03*M.TP.s/(t*U.scale.x),i);if(U.LD.StrokeFlag)X.Gm(F/t,F/t);
T.R.concat(P,T.R.iR(X),H);P._.push("X");continue}if(U.LD.FillFlag)P._.push(ey.H9(U.LD.FillColor));if(U.LD.StrokeFlag){var K=az.kQ.afM(U.LD);
P._.push(ey.aMD(K))}if(M.path._.length!=0&&U.bD!="\t"){if(B){var f=B.yK+H.yK*B.x6;H.yK=(Math.round(f)-B.yK)/B.x6}if(U.LD.FauxBold){var d=U.LD.FontSize/2048*27*U.scale.x,L=Math.cos(M.gV)*d,G=Math.sin(M.gV)*d;
H.yK+=L;H.ww+=G;T.R.concat(P,M.path,H);H.yK-=L+L;H.ww-=G+G;T.R.concat(P,M.path,H)}else T.R.concat(P,M.path,H)}if(U.bD!="\n"){var x=M.TP.s/t;
if(U.LD.Underline){if(V.aIc==null)V.aIc=U.rG.post.underlineThickness/U.rG.head.unitsPerEm;if(V.aee==null)V.aee=U.rG.post.underlinePosition;
console.log(U.rG.name.aew,U.rG.post.underlineThickness/U.rG.head.unitsPerEm);var O=0,v=0,C=0,S=1/(t*U.scale.y),j=-s*S;
C=-j*V.aIc*1.6;v=j*.3;T.R.concat(P,{_:["M","L","L","L","Z"],J:[O,v,O+x,v,O+x,v+C,O,v+C]},H)}if(U.LD.Strikethrough){var w=U.rG["OS/2"].yStrikeoutSize,u=U.rG["OS/2"].yStrikeoutPosition,O=0,v=u+w/2,C=-w;
T.R.concat(P,{_:["M","L","L","L","Z"],J:[O,v,O+x,v,O+x,v+C,O,v+C]},H)}}var l=U.LD.FillFlag,I=U.LD.FillFirst;
if(I==null)I=!0;if(l&&I)P._.push("X");if(U.LD.StrokeFlag)P._.push("OX");if(l&&!I)P._.push("X")}D.translate(-q.R5.x,-q.R5.y)};
ey.aMD=function(z){var q=z.i8,e=["O","#"+T.R0(T.RC({l:q[0],I:q[1],c:q[2]},1)),z.e6];e.push(z.vZ,z.o3,z.E5,z.cr,z.Nn.join(","));
return e.join("-")};ey.a82=function(z){var q=parseFloat,e=z.split("-"),V=T.H_(parseInt(e[1].slice(1),16)),P=e[8]=="1"?2:0;
return{i8:[V.l/255,V.I/255,V.c/255],e6:q(e[2]*(P==2?.5:1)),vZ:q(e[3]),o3:q(e[4]),E5:q(e[5]),cr:q(e[6]),Nn:e[7]==""?[]:e[7].split(",").map(q),i4:P}};
ey.H9=function(z){return"#"+T.R0(T.RC(dc.z8(z)))};function kB(z,q,e){var V=dc.hQ(z),P,D,B=dc.s0(z),A=z._LineOrientation==2?new e5:null,$,o;
if(z.Curve)D=kB.gL(z.Curve);if(V!=0){P=new kk(B[0],B[1],B[2],B[3]);if(A){var s=P.s;P.s=P.T;P.T=s;A.translate(0,-B[2])}if(V==2){P.s=D[5]-D[4];
P.T=9999}}this.S$=[];this.c_=[];this.DO=V;this.jS=A;var a=this.aLo=dc.VQ(z),M=-1,U=-1;for(var n=0;n<a.length;
n++){var t=$,c=dc.aaN(z,n);if(c!=M){M=c;t=$=dc.am2(z,c)}var H=o,c=dc.anF(z,n);if(c!=U){U=c;H=o=dc.ahx(z,c)}var F={bD:a.charAt(n),LD:t,rG:null,Hc:null,aAv:!1,D6:-1,Ky:dc.abF(z,n),aLi:0,scale:new f5(0,0),M4:0,lineHeight:0,ga:0},i=z.ResourceDict.FontSet[t.Font],X=dc.hb(i),K=F.rG=q.dN(X,a.charCodeAt(n));
if(i.Axis){var f=F.Hc=i.Axis.slice(0),d=K.fvar;for(var L=0;L<f.length;L++)f[L]/=65536;if(d&&d[0].length<f.length)F.Hc=F.Hc.slice(0,d[0].length)}if(t.FontCaps==1)F.aAv=K&&K.GSUB&&K.GSUB.smcp?!1:!0;
F.scale.x=t.HorizontalScale==null?1:t.HorizontalScale;F.scale.y=t.VerticalScale==null?1:t.VerticalScale;
var G=K["OS/2"],x=K.hhea;if(F.aAv&&F.bD!=F.bD.toUpperCase()){var O=.7;F.scale.x*=O;F.scale.y*=O}var v=1/K.head.unitsPerEm*t.FontSize;
if(t.FontBaseline==1){var O=z.ResourceDict.SuperscriptSize;F.scale.x*=O;F.scale.y*=O;F.aLi-=z.ResourceDict.SuperscriptPosition*t.FontSize}if(t.FontBaseline==2){var O=z.ResourceDict.SubscriptSize;
F.scale.x*=O;F.scale.y*=O;F.aLi+=z.ResourceDict.SubscriptPosition*t.FontSize}F.M4=kB.M4(K)*t.FontSize;
var C=H.AutoLeading;F.lineHeight=t.FontSize*(C==null?1.2:C);if(t.AutoLeading==!1)F.lineHeight=t.Leading;
if(F.bD=="\n"&&a[n-1]!="\n")F.lineHeight=0;if(F.lineHeight==0)F.lineHeight=.01;this.c_.push(F)}var S=this.S$,j=[0];
for(var n=0;n<z.EngineDict.ParagraphRun.RunLengthArray.length;n++){var w=new kB.aR(z,q,this.c_,n,P,j,V==1?D:null);
S.push(w)}if(A){if(V==0)A.translate(0,S[0].qX[0].M4/2);A.rotate(-Math.PI/2)}if(V==2){var u=z.Curve.Points,l=D[0],I=D[1],Q=D[2],b=D[3],p=D[4],k=D[5];
for(var n=0;n<S.length;n++)for(var L=0;L<S[n].oA.length;L++)if(!(n==0&&L==0))S[n].oA[L].hf=!1;var w=S[0],g=w.oA[0];
w.R5.mX(0,0);g.R5.mX(0,0);for(var L=g.start;L<g.end;L++){var Y=w.qX[L],R=Y.R5.x;Y.R5.x=0;for(var m=Y.ef;
m<=Y.h1;m++){var Z=w.Kh[m],E=Z.TP.s/2;Z.R5.x+=R;var N=kB.aC3(l,(p+Z.R5.x+E)%b);Z.R5.x=N[0]-E*N[2];Z.R5.y=N[1]-E*N[3];
Z.gV=Math.atan2(N[3],N[2])}}}if(e){var h=e.VAlign.v;if(h!=0&&dc.hQ(z)==1){var j5=dc.s0(z)[3],r=this.Vf().T,l8=0;
if(h==1)l8=j5-r;if(h==2)l8=(j5-r)/2;for(var n=0;n<this.S$.length;n++)this.S$[n].R5.y+=l8}}}kB.M4=function(z){var q=z._hhhh;
if(q==null){var e=Typr.U,V=e.codeToGlyph(z,104),P=T.R.mB(Typr.U.glyphToPath(z,V).crds).T;q=z._hhhh=P*(1/z.head.unitsPerEm)}return q};
kB.prototype.aeg=function(){return!this.aiX(0)};kB.prototype.a69=function(){return this.aiX(1)};kB.prototype.aiX=function(z){var q=this.S$,e=!0,V=0;
for(var n=0;n<q.length;n++){var P=q[n].oA,D=P.length;V+=D;for(var B=0;B<D;B++)e&=P[B].hf}return[e,V][z]};
kB.gL=function(z,q,e){if(q==null)q=.25;var V=z.Points,P=V.length,D=P>>>3,B=z.TextOnPathTRange,A=z.Reversed,U=0,o=0;
if(A){var s=V.slice(0);for(var n=0;n<P;n+=2){s[n]=V[P-2-n];s[n+1]=V[P-1-n]}V=s;B=[D-B[1]%D,D-B[0]%D]}var a=[],M=[0],$=[0];
for(var n=0;n<P;n+=8){var t=V[n+6]-V[n+0],c=V[n+7]-V[n+1],H=Math.round(Math.sqrt(t*t+c*c)/q),F=e&&n==P-8?H+1:H;
for(var i=0;i<F;i++){var X=i/H,K=1-X,f=K*K*K*V[n+0]+3*K*K*X*V[n+2]+3*K*X*X*V[n+4]+X*X*X*V[n+6],d=K*K*K*V[n+1]+3*K*K*X*V[n+3]+3*K*X*X*V[n+5]+X*X*X*V[n+7];
a.push(f,d);if(n+i!=0){var t=f-U,c=d-o;$.push($[$.length-1]+Math.sqrt(t*t+c*c));M.push((n>>>3)+X)}U=f;
o=d}}var q=$.length,L=$[q-1],G=kB.to(B[0]%D,M),x=kB.to(B[1]%D,M),O=$[G%q],v=$[x%q];if(O>=v)v+=L;return[a,M,$,L,O,v]};
kB.to=function(z,q){var n=0;while(q[n]<z)n++;return n};kB.aC3=function(z,q){var e=0,n=0,V,P,D;while(e<q){V=z[n+2]-z[n];
P=z[n+3]-z[n+1];D=Math.sqrt(V*V+P*P);e+=D;n+=2}return[z[n],z[n+1],V/D,P/D]};kB.prototype.agQ=function(z){return this.c_[z]};
kB.prototype.azb=function(z){for(var q=0;q<this.S$.length;q++){var e=this.S$[q];for(var V=0;V<e.oA.length;
V++){var P=e.oA[V],D=e.qX[P.start].start,B=e.qX[P.end-1].end;if(D<z&&z<B)return[D,B-1]}}return[0,1]};
kB.prototype.a9v=function(z,q){var e=-1,V=this.S$;if(this.DO==2){var P=1e9,D=0,B=V[0],A=B.oA[0];for(var s=A.start;
s<A.end;s++){var a=B.qX[s];for(var M=a.ef;M<=a.h1;M++){var $=B.Kh[M],U=$.TP.s,o=z.x-$.R5.x,t=z.y-$.R5.y,c=o*o+t*t;
if(c<P){P=c;D=$.xR}}}if(D!=0&&this.aLo.codePointAt(D-1)>65535)D--;return D}for(var H=0;H<V.length;H++){var B=V[H];
for(var F=0;F<B.oA.length;F++){e++;var A=B.oA[F],i=B.oA[F+1];if(i==null&&H<V.length-1)i=V[H+1].oA[0];
if(q!=null){if(e!=q)continue}else{if(i!=null&&B.R5.y+A.R5.y<z.y)continue}for(var s=A.start;s<A.end;s++){var a=B.qX[s];
for(var M=a.ef;M<=a.h1;M++){var $=B.Kh[M],U=$.TP.s,X=B.R5.x+A.R5.x+a.R5.x,K=X+$.R5.x,f=X+(M<a.h1?B.Kh[M+1].R5.x:$.R5.x+U);
if(z.x<=f||s+1==A.end&&M==a.h1){var d=B.axx+$.xR,L=this.c_[d],G=L.ga&1;if(L.bD!="\n"&&(G==0&&z.x>K+U/2||G==1&&z.x<K+U/2))d+=this.aLo.codePointAt(d)>65535?2:1;
return d}}}}}};kB.prototype.MJ=function(z){var q={TP:new kk,P8:0},e=0;for(var V=0;V<this.S$.length;V++){var P=this.S$[V];
for(var D=0;D<P.oA.length;D++){var B=P.oA[D];q.P8=e;e++;for(var A=B.start;A<B.end;A++){var s=P.qX[A];
for(var a=s.start;a<s.end;a++){if(a==z){var M=this.c_[a],$=M.D6,U=P.Kh[$].xR,o=1;while(P.Kh[$]!=null&&P.Kh[$].xR==U){var t=P.Kh[$],c=P.R5.x+B.R5.x+s.R5.x+t.R5.x,H=P.R5.y+B.R5.y+s.R5.y+t.R5.y;
q.TP=q.TP.X8(new kk(c,H-M.lineHeight,t.TP.s,M.lineHeight));q.gV=t.gV;$+=o}return q}}}}}};kB.prototype.Vf=function(){var z=Infinity,q=Infinity,e=-Infinity,V=-Infinity;
for(var n=0;n<this.S$.length;n++){var P=this.S$[n];for(var D=0;D<P.oA.length;D++){var B=P.oA[D];if(!B.hf)break;
for(var A=B.start;A<B.end;A++){var s=P.qX[A];for(var a=s.ef;a<=s.h1;a++){var M=P.Kh[a],$=M.TP,U=P.R5.x+B.R5.x+s.R5.x+M.R5.x,o=P.R5.y+B.R5.y+s.R5.y+M.R5.y;
z=Math.min(z,U+$.x);q=Math.min(q,o+$.y);e=Math.max(e,U+$.x+$.s);V=Math.max(V,o+$.y+$.T)}}}}return new kk(z,q,e-z,V-q)};
kB.vb=function(z){return 19968<=z&&z<=40959||12288<=z&&z<=12543};kB.ko=function(z,q,e,V,P,D,B){var A=[D],s=0;
for(var n=D;n<B;n++){if(e[n]==null)console.log(n,D,B,e);var a=e[n].bD,M=a.charCodeAt(0);if(M==32||M==9){A.push(s,n,1,n+1);
s=0}else if(M==3851){A.push(s+1,n+1);s=0}else if(kB.vb(M)){A.push(s,n);s=1}else if(n!=D&&e[n].ga!=e[n-1].ga){A.push(s,n);
s=1}else s++}A.push(s);var $=[];for(var n=0;n<A.length;n+=2){var U=A[n],o=A[n+1];if(o==0)continue;$.push(new kB.aj1(z,q,e,V,P,U,o))}return $};
kB.aAQ=function(z,q,e,V,P,D,B){var A=[0,q?q.s:1e9],s=[];if(V){var a=z[D].M4,M=P+(P==0?a:z[D].lineHeight),$=M-a*.9,U=T.R.apz(V[0],$),o=U.length,t=T.R.apz(V[0],M),c=t.length;
if(o!=0&&c!=0){var H=0,F=0,i=[];while(H<o&&F<c){var X=Math.max(U[H],t[F]),K=U[H+1],f=t[F+1],d=Math.min(K,f);
if(X<d)i.push(X,d);if(K<f)H+=2;else F+=2}if(i.length!=0)A=i}}for(var L=0;L<A.length;L+=2){var G=0,x=D,O=q?A[L+1]-A[L]-e.StartIndent-e.EndIndent-(D==0?e.FirstLineIndent:0):Infinity;
while(D!=z.length){var v=z[D],C=G==0||(v.sJ||v.$0)||G+v.TP.s<O;if(!C)break;G+=v.TP.s;D++}s.push(D-x)}B[0]=s;
B[1]=A;B[2]=D};kB.ae2=function(z,q){var e=z.length,V=new Uint32Array(e),P=new Uint8Array(e),D=0;for(var n=0;
n<e;n++){P[n]=0;var B=z.charCodeAt(n);V[n]=B;if(B>D)D=B}if(D>1424)P=kB.aky(V,q);return P};kB.avz=function(z){return z=="ß"?z:z.toUpperCase()};
kB.aR=function(z,q,e,V,P,D,B){this.qX=[];this.oA=[];this.R5=new f5(0,0);this.Kh=null;this.qX=null;this.LD=dc.ahx(z,V);
var A=this.LD,$=0,t="",f=0,d=1,r=0;if(V!=0){var s=A.SpaceBefore;if(s!=null)D[0]+=s}var a=z.EngineDict.ParagraphRun.RunLengthArray,M=a[V];
for(var n=0;n<V;n++)$+=a[n];var U=A._Direction?A._Direction:0;this.axx=$;var o=dc.VQ(z).slice($,$+M);
for(var c=0;c<o.length;c++){var H=e[$+c],F=H.LD.FontCaps,i=o.charAt(c);if(F==0)t+=i;if(F==1)t+=H.aAv?kB.avz(i):i;
if(F==2)t+=kB.avz(i)}o=t;var X=kB.ae2(o,U),K=[],L=X[0]&1,G=e[$].rG;e[$].ga=X[0];for(var n=1;n<o.length;
n++){var i=e[$+n],x=X[n];i.ga=x;if(x!=L||i.rG!=G){K.push(f,d);f=n;d=1;L=x;G=i.rG}else d++}K.push(f,d);
var O=this.Kh=[];for(var n=0;n<K.length;n+=2){var v=K[n],C=K[n+1],S=(e[$+v].ga&1)==0,j=o.slice(v,v+C),w=[];
for(var c=0;c<C;c++){var u=e[$+v+c].LD,l=[];w.push(l);for(var I=0;I<8;I++)l.push(u[dc.Hw[I]]?1:0);l.push(u.FontCaps==1?1:0);
var Q=j.charCodeAt(c),b=u._DigitSet;if(b==null)b=0;if(b>1&&48<=Q&&Q<=57){Q=Q-48+1632+(b-2)*144;j=j.slice(0,c)+String.fromCharCode(Q)+j.slice(c+1)}}w=kB.aFa(w);
var p=Typr.U.shapeHB(e[$+v].rG,j,{ltr:S,fts:w,axs:e[$+v].Hc}),k=[];for(var c=0;c<p.length;c++){var g=p[c];
k.push({I:g.g,xR:g.cl,Go:g.ax,x5:g.ay,E$:g.dx,LH:g.dy})}p=k;for(var c=0;c<C;c++){var Y=0,R=-1;for(var m=0;
m<p.length;m++){var d=p[m].xR;if(d<=c&&d>R){R=d;Y=m}}e[$+v+c].D6=O.length+Y}for(var c=0;c<p.length;c++){O.push(p[c]);
p[c].xR+=v;var i=e[$+p[c].xR];if(i.Ky!=-1&&i.Ky<i.rG.maxp.numGlyphs){p[c].I=i.Ky;var Z=i.rG.hmtx;if(Z){var E=Object.keys(Z)[0];
p[c].Go=Z[E][i.Ky]}}if(i.bD=="\n")p[c].Go=0;if(i.bD=="\t")p[c].Go=i.rG.head.unitsPerEm*36/i.LD.FontSize}}var N=dc.vC(A),h=this.qX=kB.ko(z,q,e,$,O,$,$+M),j5=this.oA,l8=-1,t=[null,null,0];
while(r<h.length){kB.aAQ(h,P,A,B,D[0],r,t);l8++;var aP={start:r,end:0,TP:new kk,R5:new f5(0,0),hf:!0},iL=0,bz=0;
j5.push(aP);aP.end=t[2];if(aP.start==aP.end)throw"e";var bS=aP.end==h.length;function kR(hg,v,ci){var fK=ci-v>>>1;
for(var n=0;n<fK;n++){var jN=hg[v+n];hg[v+n]=hg[ci-1-n];hg[ci-1-n]=jN}}for(var j1=1;j1<5;j1++){var f6=-1;
for(var n=aP.start;n<aP.end;n++){var x=e[h[n].start].ga;if(f6==-1&&x>=j1)f6=n;else if(f6!=-1&&x<j1){kR(h,f6,n);
f6=-1}}var gx=aP.end;if(U==0&&h[gx-1].sJ)gx--;if(f6!=-1)kR(h,f6,gx)}var lC=t[0],g2=t[1],f6=r,dv=r;for(var bv=0;
bv<g2.length;bv+=2){var eo=P?g2[bv+1]-g2[bv]-A.StartIndent-A.EndIndent-(r==0?A.FirstLineIndent:0):Infinity,aL=0;
f6=dv;dv+=lC[bv>>>1];var dh=this.af8(f6,dv,h,U,P!=null);if(P){if(N==1||bS&&N==4)aL=dh[1]+(eo-dh[0]);
if(N==2||bS&&N==5)aL=dh[1]+(eo-dh[0])/2;if(dv-f6==1&&h[f6].TP.s>eo)aL=0;if(l8==0)aL+=A.FirstLineIndent;
aL+=A.StartIndent}else{if(N==0)aL=A.StartIndent+A.FirstLineIndent;if(N==1)aL=-dh[0]-A.EndIndent;if(N==2)aL=-dh[0]/2}aL+=g2[bv];
if(P&&N>2&&(N==6||!bS))this.arQ(f6,dv,h,eo,U,aL);else{var eM=aL;for(var n=f6;n<dv;n++){var kg=h[n],jJ=kg.TP.s;
kg.R5.x=eM;if(kg.FI=="\t")jJ=Math.ceil((eM+4)/36)*36-eM;eM+=jJ}}}r=aP.end;for(var n=aP.start;n<aP.end;
n++){var ks=h[n].TP.Y();ks.aBS(h[n].R5);aP.TP=aP.TP.X8(ks);iL=Math.max(iL,h[n].M4);bz=Math.max(bz,h[n].lineHeight)}aP.R5.y=l8==0?0:j5[l8-1].R5.y+bz;
if(l8==0){if(V==0&&P)D[0]+=iL;if(V!=0)D[0]+=bz;this.R5.y=D[0]}else D[0]+=bz;if(P)aP.hf=this.R5.y+aP.R5.y<P.y+P.T||V==0&&l8==0}var gr=A.SpaceAfter;
if(gr!=null)D[0]+=gr};kB.aR.prototype.af8=function(z,q,e,V,P){var D=0,B=0;for(var n=z;n<q;n++)D+=e[n].TP.s;
if(P){if(V==0)for(var n=q-1;n>=z;n--)if(e[n].sJ||e[n].$0)D-=e[n].TP.s;else break;if(V==1)for(var n=z;
n<q;n++)if(e[n].sJ||e[n].$0){var A=e[n].TP.s;D-=A;B-=A}else break}return[D,B]};kB.aR.prototype.arQ=function(z,q,e,V,P,D){var B=0,A=0,s=0,a=0;
for(var n=z;n<q;n++)if(e[n].sJ)s++;else{B+=e[n].TP.s;A++}if(P==0)for(var n=q-1;n>=z;n--)if(e[n].sJ||e[n].$0){if(e[n].sJ){s--}}else break;
if(P==1)for(var n=z;n<q;n++)if(e[n].sJ||e[n].$0){if(e[n].sJ){s--;a++}}else break;if(A<=1){if(A==1)e[z].R5.x=D;
return}if(s==0){var M=(V-B)/(A-1),$=-a*M;for(var n=z;n<q;n++){this.Kh[e[n].ef].TP.s+=M;e[n].TP.s+=M;
e[n].R5.x=D+$;$+=e[n].TP.s}}else{var M=(V-B)/s,$=-a*M;for(var n=z;n<q;n++){if(e[n].sJ)this.Kh[e[n].ef].TP.s=e[n].TP.s=M;
e[n].R5.x=D+$;$+=e[n].TP.s}}};kB.aj1=function(z,q,e,V,P,D,B){this.FI="";for(var n=0;n<B;n++)this.FI+=e[D+n].bD;
this.sJ=B==1&&(e[D].bD==" "||e[D].bD=="\t");this.$0=B==1&&e[D].bD=="\n";this.start=D;this.end=D+B;this.TP=new kk;
this.R5=new f5(0,0);this.M4=0;this.lineHeight=0;var A=0,s=0;if(B==0){this.lineHeight=e[D].lineHeight;
this.M4=e[D].M4;this.TP=new kk(0,-e[D].lineHeight,0,e[D].lineHeight)}var a=e[D].D6,M=e[D+B-1].D6;if(a==-1)return;
if(M<a){var $=a;a=M;M=$}while(M+1<P.length&&P[M].xR==P[M+1].xR){M++}this.ef=a;this.h1=M;for(var U=a;
U<=M;U++){var o=P[U],t=e[V+o.xR],c=z._LineOrientation==2&&(t.LD.BaselineDirection!=2||kB.vb(t.bD.charCodeAt(0))),H=Typr.U.glyphToPath(t.rG,o.I,null,t.Hc),f=0;
o.path={_:H.cmds,J:H.crds};var F=t.LD.FontSize,i=1/t.rG.head.unitsPerEm*F;if(!t.LD.AutoKerning)A+=t.LD.Kerning*2*i*t.scale.x;
o.R5=new f5(A,0);o.gV=0;if(c&&o.path.J.length>0){o.gV=-Math.PI/2;o.R5.x+=F*.83;o.R5.y=-F*.3+o.Go*i/2;
o.Go=F/i}var X=o.Go*i*t.scale.x;o.TP=new kk(0,-t.lineHeight,X,t.lineHeight);var K=o.TP.Y();K.aBS(o.R5);
if(t.LD.Tracking!=null)f=t.LD.Tracking*.001*F;if(t.LD.FauxBold==!0)f+=.027*F;A+=X+f;if(U<P.length-2)o.TP.s+=f;
if(B==1&&t.bD==" "){K.s+=2*f;o.R5.x+=f}else if(B==1&&t.bD!=null&&kB.vb(t.bD.charCodeAt(0)))K.s+=f;this.TP=this.TP.X8(K);
this.M4=Math.max(this.M4,t.M4);this.lineHeight=Math.max(this.lineHeight,t.lineHeight)}};kB.x4=0;kB.aKK=function(z){if(kB.x4==2)return!0;
if(kB.x4==1)return!1;kB.x4=1;function q(){fetch(lA.A6("code/ext/fribidi.wasm")).then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e)}).then(function(e){var V=e.instance.exports,P=V.memory,D=16,B=256,A=1,s=D|B,a=D|B|A;
kB.aky=function($,U){var o=$.length,t=o*4+4+o*4+o*4+o;hZ.sN(V,t+o+1e7);var c=new Uint8Array(P.buffer),H=new Uint32Array(P.buffer),F=V.calloc(t,1),i=F+o*4,X=i+4,K=X+o*4,f=K+o*4;
H.set($,F>>>2);H[i>>>2]=U==0?s:a;V.fribidi_get_bidi_types(F,o,X);V.fribidi_get_bracket_types(F,o,X,K);
V.fribidi_get_par_embedding_levels_ex(X,K,o,i,f);var d=c.slice(f,f+o);V.free(F);return d};kB.x4=2;var M=new dW(_.E.b,!0);
M.data={p:_.m.Ln,kK:"add",Lh:cR.oD,Ay:null};if(z)z.K(M)})}Typr.U.initHB(lA.A6("code/ext/hb.wasm"),q);
return!1};kB.aFa=function(z){var q=[],e=z.length,V=dc.auZ;for(var P=0;P<9;P++){var D=V[P],A=null;if(D==null)continue;
var B=-1;for(var n=0;n<e;n++){var s=z[n][P];if(s!=B){if(A)A[3]=n;A=[D,s,n,n+1];q.push(A);B=s}}A[3]=e}return q};
function dc(){}dc.wz=function(z,q){for(var e in q)z[e]=q[e]};dc.Hw="_Ligatures _ContextualLigatures _DiscretionaryLigatures _Swash _StylisticAlternates _Titling _Ordinals _Fractions".split(" ");
dc.RN=[18,20,19,25,28,26,24,23];dc.azd="Standard Ligatures,Contextual Ligatures,Discretionary Ligatures,Swash,Stylistic Alternates,Titling Alternates,Ordinals,Fractions".split(",");
dc.auZ="liga calt dlig swsh salt titl ordn frac smcp".split(" ");dc.hb=function(z){return z.Axis?z.Name.split("_")[0]:z.Name};
dc.Pj=function(z,q,e,V){var P=dc.axa();if(e)dc.Vy(P,0,0,e);var D=new e5;if(V!=null)D.rotate(V);D.translate(Math.round(z),Math.round(q));
var B={v:D,_1:P};B.h8=dc.aPq();B.au=T.OL.n();B.iB=new kk;return B};dc.atv=function(z){var q=["CharacterDirection",0];
for(var n=0;n<q.length;n+=2){if(z[q[n]]!=null&&z[q[n]]!=q[n+1]){throw"e";console.log(q[n],z[q[n]])}}if(z instanceof Array)for(var n=0;
n<z.length;n++)dc.atv(z[n]);else if(z instanceof Object)for(var e in z)dc.atv(z[e])};dc.vC=function(z,q){if(q==null)q=z.Justification;
var e=z._Direction?z._Direction:0;if(e==1){if(q==0||q==3)q++;else if(q==1||q==4)q--}return q};dc._6=function(z){if(z.add==null)return;
var q=z._1,e=q.Curve,V=z.add.vmsk,P=V.B,D=T.R.EP(P,2).J,B=z.v.Y();B.TG();T.R.v(D,B,D);var A=D.slice(0,8);
for(var s=8;s<D.length;s+=6)A.push(D[s-2],D[s-1],D[s],D[s+1],D[s+2],D[s+3],D[s+4],D[s+5]);e.Points=A;
e.TextOnPathTRange=V.wi.slice(0);e.Reversed=V.dX;if(dc.hQ(q)==1){var e=kB.gL(q.Curve),a=T.R.mB(e[0]);
dc.v7(q,[0,0,a.s,a.T].map(Math.round));for(var n=0;n<A.length;n+=2){A[n]-=a.x;A[n+1]-=a.y}var M=new e5(1,0,0,1,a.x,a.y);
M.concat(z.v);z.v=M}};dc.nR=function(z){if(z.add==null)return;var q=z.add.vmsk,e=z._1.Curve,V=e.Points,P={_:["M"],J:[V[0],V[1]]};
for(var n=0;n<V.length;n+=8){P._.push("C");P.J.push(V[n+2],V[n+3],V[n+4],V[n+5],V[n+6],V[n+7])}T.R.v(P.J,z.v,P.J);
var D=T.R.XI(P,!0);q.B=D;q.dX=e.Reversed;q.wi=e.TextOnPathTRange.slice(0);z.add.vogk=lK.T4(D)};dc.z8=function(z){var q={l:0,I:0,c:0};
if(z){var e=z.Values;if(z.Type==1)q={l:e[1]*255,I:e[2]*255,c:e[3]*255};else if(z.Type==2){var V={classID:"CMYC",Cyn:{t:"doub",v:e[1]*100},Mgnt:{t:"doub",v:e[2]*100},Ylw:{t:"doub",v:e[3]*100},Blck:{t:"doub",v:e[4]*100}};
q=T.Yf.z8(V)}else console.log("Unknown color type")}return q};dc.ag$=function(z){for(var n=0;n<z.length;
n++){var q=z[n].StyleSheet.StyleSheetData,e=q.FillColor;if(e&&e.Type==2){var V=dc.z8(e);e.Type=1;e.Values=[1,V.l/255,V.I/255,V.c/255]}}};
dc.$i=function(z,q){var e;if(dc.hQ(z._1)==1){var V=dc.s0(z._1);e=new kk(0,0,V[2]-V[0],V[3]-V[1])}else{e=q.Vf();
if(q.jS){var P=q.jS.Y(),D=T.R.iR(e);T.R.v(D.J,P,D.J);e=T.R.mB(D.J)}}return e};dc.yW=function(z){var q=z[0];
for(var n=0;n<z.length;n++)q=dc.aJw(q,z[n]);return q};dc.aJw=function(z,q){var e={};for(var V in z)if(JSON.stringify(z[V])==JSON.stringify(q[V]))e[V]=z[V];
return e};dc.v3=function(z,q){var e=z.GD,V=-1;for(var n=0;n<e.length;n++)if(e[n].Name==q)V=n;if(V==-1){V=e.length;
e.push({FontType:1,Name:q,Script:0,Synthetic:0})}z.c_.Font=V};dc.VQ=function(z){return z.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
dc.FK=function(z,q){z.EngineDict.Editor.Text=q.replace(/\n/g,"\r")};dc.hQ=function(z){return z.Curve&&z.Curve.TextOnPathTRange[0]>=0?2:z.EngineDict.Rendered.Shapes.Children[0].ShapeType};
dc.M_=function(z,q){var e=z.EngineDict.Rendered.Shapes.Children[0];e.ShapeType=q;var V=e.Cookie.Photoshop;
V.ShapeType=q;V.Base.ShapeType=q;if(q==0){delete V.BoxBounds;V.PointBase=[0,0]}if(q==1){delete V.PointBase;
V.BoxBounds=[0,0,1,1]}};dc.s0=function(z){return z.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
dc.v7=function(z,q){z.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=q};dc.abF=function(z,q){var e=z.EngineDict.AlternateGlyphRun;
if(e==null)return-1;var V=dc.Rr(e.RunLengthArray,q).KM;if(e.RunArray[V]==null)return-1;var P=e.RunArray[V].Glyph;
return P==null?-1:P};dc.awy=function(z,q,e){var V=z.EngineDict.AlternateGlyphRun;if(V==null){V=z.EngineDict.AlternateGlyphRun=dc.ayR();
V.RunArray.push({});V.RunLengthArray.push(dc.VQ(z).length)}var P=dc.Rr(V.RunLengthArray,q),D=P.KM,B=q-P.Gq,A=V.RunArray[D],s=JSON.stringify(A),a=V.RunLengthArray[D];
if(B!=0){V.RunArray.splice(D,0,JSON.parse(s));V.RunLengthArray.splice(D,0,B);V.RunLengthArray[D+1]-=B;
D++;a-=B;B=0}if(a!=1){V.RunArray.splice(D+1,0,JSON.parse(s));V.RunLengthArray.splice(D+1,0,a-1);V.RunLengthArray[D]=1;
a=1}A.Glyph=e};dc.aaN=function(z,q){var e=z.EngineDict.StyleRun.RunLengthArray;return dc.Rr(e,q).KM};
dc.am2=function(z,q){var e=z.ResourceDict.StyleSheetSet[0].StyleSheetData,V={};for(var P in e)V[P]=e[P];
var D=z.EngineDict.StyleRun.RunArray[q].StyleSheet.StyleSheetData;dc.wz(V,D);return V};dc.anF=function(z,q){var e=z.EngineDict.ParagraphRun.RunLengthArray;
return dc.Rr(e,q).KM};dc.ahx=function(z,q){var e=z.ResourceDict.ParagraphSheetSet[0].Properties,V={};
for(var P in e)V[P]=e[P];var D=z.EngineDict.ParagraphRun.RunArray[q].ParagraphSheet.Properties;dc.wz(V,D);
var B=["StartIndent","EndIndent","FirstLineIndent"];for(var n=0;n<3;n++)if(V[B[n]]==null)V[B[n]]=0;return V};
dc.a25=function(z,q,e){var V=dc.VQ(q);for(var P=0;P<2;P++){var D=z[P==0?"Txtt":"paragraphStyleRange"];
if(D==null)continue;D=D.v;console.log(D);for(var n=0;n<D.length;n++){var B=D[n].v,A=B.From.v,s=Math.min(B.T.v-1,V.length-1);
B=B[P==0?"TxtS":"paragraphStyle"].v;var a=dc.jb(q,A,s);dc.OO(B,P==0?a.c_:a.S$,a,e.do);dc.Vy(q,A,s,a)}}};
dc.aqZ=function(z,q,e){var V=dc.VQ(q).slice(0,-1);for(var P=0;P<2;P++){var D=P==0?"Txtt":"paragraphStyleRange",B=P==0?"TxtS":"paragraphStyle",A=z[D]={t:"VlLs",v:[]},M=0;
A=A.v;var s=q.EngineDict[P==0?"StyleRun":"ParagraphRun"],a=s.RunLengthArray;for(var n=0;n<a.length;n++){var $=M+a[n],U=dc.jb(q,M,$-1),o=P==0?U.c_:U.S$,t={t:"Objc",v:{classID:D,From:{t:"long",v:M},T:{t:"long",v:$}}};
A.push(t);t.v[B]={t:"Objc",v:{classID:B}};t=t.v[B].v;dc.pV(o,t,U,e.do);M=$}}};dc.OO=function(z,q,e,V){for(var P in z){var D=z[P].v;
if(P=="Sz")q.FontSize=Math.round(D.val*(D.type=="#Pnt"?V/72:1));if(P=="fontPostScriptName")dc.v3(e,D);
if(P=="Algn")q.Justification=["Left","Rght","Cntr"].indexOf(D.Alg);if(P=="leading")q.Leading=z[P].v.val;
if(P=="baselineShift"||P=="Bsln")q.BaselineShift=z[P].v.val;if(P=="autoLeading")q.AutoLeading=z[P].v;
if(P=="syntheticBold")q.FauxBold=z[P].v;if(P=="syntheticItalic")q.FauxItalic=z[P].v;if(P=="Trck")q.Tracking=z[P].v;
if(P=="verticalScale"||P=="VrtS")q.VerticalScale=z[P].v/100;if(P=="horizontalScale"||P=="HrzS")q.HorizontalScale=z[P].v/100;
if(P=="Clr")q.FillColor={Type:1,Values:[1,D.Rd.v/255,D.Grn.v/255,D.Bl.v/255]}}};dc.pV=function(z,q,e,V){for(var P in z){var D=z[P];
if(P=="FontSize")q.Sz={t:"UntF",v:{type:"#Pnt",val:D*72/V}};if(P=="Font")q.fontPostScriptName={t:"TEXT",v:e.GD[D].Name};
if(P=="Justification")q.Algn={t:"enum",v:{Alg:["Left","Rght","Cntr"][D]}};if(P=="Leading")q.leading={t:"long",v:D};
if(P=="BaselineShift")q.Bsln={t:"UntF",v:{type:"#Pnt",val:D}};if(P=="AutoLeading")q.autoLeading={t:"bool",v:D};
if(P=="FauxBold")q.syntheticBold={t:"bool",v:D};if(P=="FauxItalic")q.syntheticItalic={t:"bool",v:D};
if(P=="Tracking")q.Trck={t:"long",v:D};if(P=="VerticalScale")q.VrtS={t:"doub",v:D*100};if(P=="HorizontalScale")q.HrzS={t:"doub",v:D*100};
if(P=="FillColor")q.Clr={t:"Objc",v:T.Yf.e8({l:255*D.Values[1],I:255*D.Values[2],c:255*D.Values[3]})}}};
dc.o5=function(z,q,e){if(e=="")return;var V=dc.VQ(z);dc.FK(z,V.substring(0,q)+e+V.substring(q,V.length));
var P=z.EngineDict.StyleRun,D=P.RunLengthArray,B=dc.Rr(D,q-1);D[B.KM]+=e.length;var A=z.EngineDict.AlternateGlyphRun;
if(A){var D=A.RunLengthArray,B=dc.Rr(D,q-1);D[B.KM]+=e.length}var s=z.EngineDict.ParagraphRun,D=s.RunLengthArray,a=dc.Rr(D,q),M=e.split("\n");
if(M.length==1){D[a.KM]+=e.length;return}D.splice(a.KM+1,0,D[a.KM]-(q-a.Gq));s.RunArray.splice(a.KM+1,0,T.G(s.RunArray[a.KM]));
D[a.KM]-=D[a.KM+1];D[a.KM]+=M[0].length+1;for(var n=1;n<M.length-1;n++){s.RunArray.splice(a.KM+n,0,T.G(s.RunArray[a.KM+n-1]));
s.RunLengthArray.splice(a.KM+n,0,M[n].length+1)}D[a.KM+M.length-1]+=M[M.length-1].length};dc.ZD=function(z,q,e){var V=dc.VQ(z);
dc.FK(z,V.substring(0,q)+V.substring(e,V.length));dc.EX(z.EngineDict.ParagraphRun,q,e,!0);dc.EX(z.EngineDict.StyleRun,q,e,!1);
var P=z.EngineDict.AlternateGlyphRun;if(P)dc.EX(P,q,e,!1)};dc.EX=function(z,q,e,V){var P=z.RunLengthArray,D=dc.Rr(P,q),B=dc.Rr(P,e),A=[];
for(var n=0;n<P.length;n++)for(var s=0;s<P[n];s++)A.push(n);A.splice(q,e-q);var a=[];for(var n=0;n<P.length;
n++)a.push(0);for(var n=0;n<A.length;n++)a[A[n]]++;for(var n=0;n<P.length;n++){if(a[n]==0){a.splice(n,1);
P.splice(n,1);z.RunArray.splice(n,1);n--}else if(a[n]<P[n])P[n]=a[n]}if(V&&D.KM!=B.KM&&D.Gq!=q){P[D.KM]+=P[D.KM+1];
P.splice(D.KM+1,1);z.RunArray.splice(D.KM+1,1)}};dc.Vy=function(z,q,e,V){var P=V.c_.Font,D=z.ResourceDict.FontSet,B=z.EngineDict.Editor.Text.length;
if(e==B-2)e++;if(P!=null){var A=V.GD[P],s=-1;for(var n=0;n<D.length;n++)if(D[n].Name==A.Name)s=n;if(s==-1){s=D.length;
D.push(T.G(A))}V.c_.Font=s}if(q<=e)dc.aAx(z.EngineDict.StyleRun,V.c_,q,e,!0);dc.aAx(z.EngineDict.ParagraphRun,V.S$,q,e,!1);
V.c_.Font=P;if(D.length>20){var a=z.ResourceDict.FontSet=[],M=z.EngineDict.StyleRun.RunArray,$={};for(var n=0;
n<M.length;n++){var U=M[n].StyleSheet.StyleSheetData,o=U.Font;if(o!=null){if($[o]==null){$[o]=a.length;
a.push(D[o])}U.Font=$[o]}}}};dc.jb=function(z,q,e){var V={GD:z.ResourceDict.FontSet.slice(0),c_:[],S$:[]},P=z.EngineDict.StyleRun.RunLengthArray,D=dc.Rr(P,q).KM,B=dc.Rr(P,e).KM;
for(var n=D;n<=B;n++){var A=T.G(z.ResourceDict.StyleSheetSet[0].StyleSheetData),s=z.EngineDict.StyleRun.RunArray;
if(s.length==0)continue;var a=s[n].StyleSheet.StyleSheetData;dc.wz(A,a);V.c_.push(A)}var M=z.EngineDict.ParagraphRun.RunLengthArray,$=dc.Rr(M,q).KM,U=dc.Rr(M,e).KM;
for(var n=$;n<=U;n++){var o=z.EngineDict.ParagraphRun.RunArray;if(o.length==0)continue;V.S$.push(T.G(o[n].ParagraphSheet.Properties))}V.c_=V.c_.length==0?{}:dc.yW(V.c_);
V.S$=V.S$.length==0?{}:dc.yW(V.S$);return V};dc.aAx=function(z,q,e,V,P){var D=z.RunLengthArray;if(P){var B=dc.Rr(D,e);
if(B.Gq!=e){var A=D[B.KM];D.splice(B.KM,0,e-B.Gq);D[B.KM+1]=A-D[B.KM];z.RunArray.splice(B.KM+1,0,T.G(z.RunArray[B.KM]))}var s=dc.Rr(D,V);
if(s.Gq+D[s.KM]-1!=V){var A=D[s.KM];D.splice(s.KM,0,V-s.Gq+1);D[s.KM+1]=A-D[s.KM];z.RunArray.splice(s.KM+1,0,T.G(z.RunArray[s.KM]))}}var B=dc.Rr(D,e),s=dc.Rr(D,V);
if(P)for(var n=B.KM;n<=s.KM;n++)dc.wz(z.RunArray[n].StyleSheet.StyleSheetData,q);else for(var n=B.KM;
n<=s.KM;n++)dc.wz(z.RunArray[n].ParagraphSheet.Properties,q)};dc.akP=function(z,q,e){var V=z.EngineDict.StyleRun.RunLengthArray,P=[],D=0;
for(var n=0;n<V.length;n++){var B=V[n];for(var A=0;A<B;A++)if(q<=D+A&&D+A<e)P.push(n);D+=B}var s=P[0],a=[];
for(var n=0;n<P.length;n++){var M=P[n]-s;if(M==a.length)a.push(0);a[M]++}return a};dc.a1B=function(z){var q=z.EngineDict.StyleRun,e=q.RunArray,V=q.RunLengthArray;
for(var n=0;n<V.length-1;n++){var P=e[n].StyleSheet.StyleSheetData,D=e[n+1].StyleSheet.StyleSheetData;
if(JSON.stringify(P)==JSON.stringify(D)){e.splice(n+1,1);V[n]+=V[n+1];V.splice(n+1,1);n--}}};dc.yx=function(z){var q=z.h8.AntA.v.Annt;
q=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(q);if(q==-1)q=1;return q};dc.ru=function(z,q){z.h8.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][q]};
dc.An=function(z,q){var e,V;e=["FontSize","Leading","BaselineShift","OutlineWidth"];V=z.c_;for(var n=0;
n<e.length;n++)if(V[e[n]]!=null)V[e[n]]*=q;e=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
V=z.S$;for(var n=0;n<e.length;n++)if(V[e[n]]!=null)V[e[n]]*=q};dc.aIV=function(){return dc.jb(T.G(dc.az1),0,0)};
dc.aPq=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
dc.Rr=function(z,q){var e=0,n=0;while(e+z[n]<=q){e+=z[n];n++}return{KM:n,Gq:e}};dc.axa=function(){var z=T.G(this.az1);
return z};dc.aiY={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
dc.aiG={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,_MiterLimit:4,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
dc.ayR=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};dc.az1={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:T.G(dc.aiY)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:T.G(dc.aiY)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:T.G(dc.aiG)}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var ga={};ga.a9R=function(z){var q=ga.aHy(z._0,z._1);ga.aKR(q,z._0);return q};ga.ayr=function(z,q,e){var V={};
V._98={_0:"i7"};V._0=ga.amz(z,q,e?e._0:null);V._1=ga.ape(z,q,V._0,e?e._1:null);return V};ga.amz=function(z,q,e){var V={};
V._1=ga.azJ(z,e?e._1:null);V._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};V._3=T.G(ga.aG1);V._4=T.G(ga.aBF);
V._5=ga.axY(z,V._1._0,e?e._5:null);V._6=ga.abo(z,e?e._6:null);V._8=ga.a61(z,q,e?e._8:null);V._9=ga.aKN;
return V};ga.aKR=function(z,q){ga.auW(z,q._5,q._1._0)};ga.azJ=function(z,q){var e=[],V=[];for(var n=0;
n<z.length;n++){var P=z[n].ResourceDict.FontSet;for(var D=0;D<P.length;D++){var B=P[D];if(V.indexOf(B.Name)!=-1)continue;
e.push(B);V.push(B.Name)}}var A={_0:[]};for(var n=0;n<e.length;n++){var s=e[n],a=s.Axis,M={_0:"s"+s.Name,_1:"i"+s.Script,_2:"i"+s.FontType};
if(a){var $=M._4=[];for(var D=0;D<a.length;D++)$.push("i"+a[D])}if(s.Script==0)delete M._1;A._0.push({_0:{_99:"/CoolTypeFont",_0:M}})}return A};
ga.axY=function(z,q,e){var V={_0:[],_1:[]},P={_0:T.G(ga.a8s)};ga.awG(P._0,z[0].ResourceDict.StyleSheetSet[0],q,z[0].ResourceDict.FontSet);
V._0.push(P);V._1.push({_0:"i0"});V._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});V._1.push({_0:"i1"});return V};
ga.auW=function(z,q,e){var V=q._0[0];for(var n=0;n<z.length;n++)ga.aHt(V._0,z[n].ResourceDict.StyleSheetSet[0],e,z[n].ResourceDict.FontSet)};
ga.abo=function(z,q){var e={_0:[],_1:[]},V={_0:T.G(ga._r)};ga.$F(V._0,z[0].ResourceDict.ParagraphSheetSet[0]);
e._0.push(V);e._1.push({_0:"i0"});V={_0:T.G(ga._r)};ga.$F(V._0,z[0].ResourceDict.ParagraphSheetSet[0]);
V._0._0="sBasic Paragraph";V._0._6="i0";e._0.push(V);e._1.push({_0:"i1"});return e};ga.a61=function(z,q,e){var V={_0:[]};
for(var n=0;n<z.length;n++){var P=z[n].Curve,D={};V._0.push({_0:D});var B=dc.hQ(z[n]);D._1={};D._2={};
D._2._0="i"+B;if(z[n]._LineOrientation==2)D._2._1="i2";if(B==0){delete D._1;D._2._6=["f-1","f-1"];D._2._11={_4:"i-1",_7:!1}}else if(B==1&&P==null){var A=dc.s0(z[n]),s=A[2],a=A[3];
D._1._0=ga.OQ("f",[0,0,0,0,s,0,s,0,s,0,s,0,s,a,s,a,s,a,s,a,0,a,0,a,0,a,0,a,0,0,0,0]);D._2._6=["f-2","f-2"];
D._2._11={_4:"i-2",_7:!1}}else if(B==1){var A=dc.s0(z[n]),s=A[2],a=A[3];D._1._0=ga.OQ("f",P.Points);
D._2._6=["f-3","f-3"];D._2._11={_4:"i-3",_7:!1}}else if(B==2){D._1._0=ga.OQ("f",P.Points);D._2._6=ga.OQ("f",P.TextOnPathTRange);
D._2._11={_0:P.Reversed,_3:"i0",_5:"f0",_7:!1}}}return V};ga.ape=function(z,q,e,V){var P={};P._0=T.G(ga.a3C);
P._1=ga.a9O(z,q,e,V?V._1:null);P._2=T.G(ga.a8s._6);P._3=T.G(ga._r._5);return P};ga.aHy=function(z,q){return ga.a9$(z,q._1)};
ga.a9O=function(z,q,e,V){var P=[],D=e._1._0;for(var n=0;n<z.length;n++){var B=z[n],A={_0:{}};P.push(A);
A._0._0="s"+B.EngineDict.Editor.Text;A._0._0=A._0._0;var s=A._0._5={_0:[]},a=B.EngineDict.ParagraphRun;
for(var M=0;M<a.RunArray.length;M++){var $={_0:{}};s._0.push($);$._0._0={_0:"s",_5:{},_6:"i1"};ga.$F($._0._0,a.RunArray[M].ParagraphSheet);
$._1="i"+a.RunLengthArray[M]}var U=A._0._6={_0:[]};a=B.EngineDict.StyleRun;for(var M=0;M<a.RunArray.length;
M++){var o={_0:{}};U._0.push(o);o._0._0={_0:"s",_5:"i1",_6:{}};ga.awG(o._0._0,a.RunArray[M].StyleSheet,D,B.ResourceDict.FontSet);
o._1="i"+a.RunLengthArray[M]}a=B.EngineDict.AlternateGlyphRun;if(a){var t=A._0._9={_0:[]};for(var M=0;
M<a.RunArray.length;M++){var c={_0:{}};t._0.push(c);var H=a.RunArray[M];if(H.Glyph!=null){c._0._0={_0:"i"+H.Glyph,_1:"e"}}c._1="i"+a.RunLengthArray[M]}}A._0._10={_0:"i4",_2:!0};
A._1=ga.view.a6U(B,null,n,null)}return P};ga.a9$=function(z,q){var e=[],V=z._1._0;if(q)for(var n=0;n<q.length;
n++){var P=dc.axa();e.push(P);var D=q[n];P.EngineDict.Editor.Text=D._0._0.slice(1);var B=P.EngineDict.ParagraphRun.RunArray[0],A=P.EngineDict.ParagraphRun,s=D._0._5;
if(s)for(var a=0;a<s._0.length;a++){var M=s._0[a];A.RunLengthArray[a]=parseInt(M._1.slice(1));A.RunArray[a]=T.G(B);
ga.afE(M._0._0,A.RunArray[a].ParagraphSheet)}else{A.RunLengthArray[0]=dc.VQ(P).length}var $=D._0._6;
A=P.EngineDict.StyleRun;if($)for(var a=0;a<$._0.length;a++){var U=$._0[a];A.RunLengthArray[a]=parseInt(U._1.slice(1));
A.RunArray[a]={StyleSheet:{StyleSheetData:{}}};ga.aHt(U._0._0,A.RunArray[a].StyleSheet,V,P.ResourceDict.FontSet)}else{A.RunLengthArray[0]=dc.VQ(P).length;
A.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return e};ga.awG=function(z,q,e,V,P){z._0="s"+(q.Name?q.Name:"");
var D=z._6,B=P?P._6:null,A=q.StyleSheetData;if(A.Font!=null){var s=V[A.Font].Name,a=-1;for(var n=0;n<e.length;
n++)if("s"+s==e[n]._0._0._0){a=n;break}D._0="i"+a}if(A.FontSize!=null)D._1="f"+A.FontSize;if(A.FauxBold!=null)D._2=A.FauxBold;
if(A.FauxItalic!=null)D._3=A.FauxItalic;if(A.AutoLeading!=null)D._4=A.AutoLeading;if(A.Leading!=null)D._5="f"+A.Leading;
if(A.HorizontalScale!=null)D._6="f"+A.HorizontalScale;if(A.VerticalScale!=null)D._7="f"+A.VerticalScale;
if(A.Tracking!=null)D._8="i"+A.Tracking;if(A.BaselineShift!=null)D._9="f"+A.BaselineShift;if(A.AutoKerning!=null)D._11="i"+(A.AutoKerning?1:0);
if(A.FontCaps!=null)D._12="i"+A.FontCaps;if(A.FontBaseline!=null)D._13="i"+A.FontBaseline;if(A.Strikethrough!=null)D._15="i"+(A.Strikethrough?1:0);
if(A.Underline!=null)D._16="i"+(A.Underline?2:0);if(A.Ligatures!=null)D._18=A.Ligatures;if(A.DLigatures!=null)D._19=A.DLigatures;
if(A.BaselineDirection!=null)D._35="i"+A.BaselineDirection;if(A.Language!=null)D._38="i"+A.Language;
if(A.FillColor!=null)D._53=ga.H9(A.FillColor);if(A.StrokeColor!=null)D._54=ga.H9(A.StrokeColor);if(A.FillFlag!=null)D._56=A.FillFlag;
if(A.StrokeFlag!=null)D._57=A.StrokeFlag;if(A.FillFirst!=null)D._58=A.FillFirst;if(A.OutlineWidth!=null)D._63="f"+A.OutlineWidth;
if(A._FillBackgroundColor!=null)D._79=ga.H9(A._FillBackgroundColor);if(A._FillBackgroundFlag!=null)D._80=A._FillBackgroundFlag;
if(A._LineCap!=null)D._61="i"+A._LineCap;if(A._LineJoin!=null)D._62="i"+A._LineJoin;if(A._MiterLimit!=null)D._64="f"+A._MiterLimit;
if(A._LineDashOffset!=null)D._65="f"+A._LineDashOffset;if(A._LineDashArray!=null)D._66=ga.OQ("f",A._LineDashArray);
if(A._DigitSet!=null)D._70="i"+A._DigitSet;for(var n=0;n<8;n++)if(A[dc.Hw[n]]!=null)D["_"+dc.RN[n]]=A[dc.Hw[n]]};
ga.H9=function(z){return{_99:"/SimplePaint",_0:{_0:"i1",_1:ga.OQ("f",z.Values)}}};ga.aHt=function(z,q,e,V){var P=z._6;
if(P==null)return;var D=q.StyleSheetData;if(P._0){var B=parseInt(P._0.slice(1)),A=e[B]._0._0._0.slice(1);
dc.v3({c_:D,GD:V},A)}if(P._1!=null)D.FontSize=parseFloat(P._1.slice(1));if(P._2!=null)D.FauxBold=P._2;
if(P._3!=null)D.FauxItalic=P._3;if(P._4!=null)D.AutoLeading=P._4;if(P._5!=null)D.Leading=parseFloat(P._5.slice(1));
if(P._6!=null)D.HorizontalScale=parseFloat(P._6.slice(1));if(P._7!=null)D.VerticalScale=parseFloat(P._7.slice(1));
if(P._8!=null)D.Tracking=parseFloat(P._8.slice(1));if(P._9!=null)D.BaselineShift=parseFloat(P._9.slice(1));
if(P._11!=null)D.AutoKerning=parseFloat(P._11.slice(1))==1;if(P._12!=null)D.FontCaps=parseFloat(P._12.slice(1));
if(P._13!=null)D.FontBaseline=parseFloat(P._13.slice(1));if(P._15!=null)D.Strikethrough=parseFloat(P._15.slice(1))==1;
if(P._16!=null)D.Underline=parseFloat(P._16.slice(1))==1;if(P._18!=null)D.Ligatures=P._18;if(P._19!=null)D.DLigatures=P._19;
if(P._35!=null)D.BaselineDirection=parseFloat(P._35.slice(1));if(P._38!=null)D.Language=parseFloat(P._38.slice(1));
if(P._53!=null)D.FillColor=ga.tz(P._53);if(P._54!=null)D.StrokeColor=ga.tz(P._54);if(P._56!=null)D.FillFlag=P._56;
if(P._57!=null)D.StrokeFlag=P._57;if(P._63!=null)D.OutlineWidth=parseFloat(P._63.slice(1));if(P._79!=null)D._FillBackgroundColor=ga.tz(P._79);
if(P._80!=null)D._FillBackgroundFlag=P._80;if(P._61!=null)D._LineCap=parseFloat(P._61.slice(1));if(P._62!=null)D._LineJoin=parseFloat(P._62.slice(1));
if(P._64!=null)D._MiterLimit=parseFloat(P._64.slice(1));if(P._65!=null)D._LineDashOffset=parseFloat(P._65.slice(1));
if(P._66!=null)D._LineDashArray=ga.ZC(P._66);if(P._70!=null)D._DigitSet=parseFloat(P._70.slice(1));for(var n=0;
n<8;n++)if(P["_"+dc.RN[n]]!=null)D[dc.Hw[n]]=P["_"+dc.RN[n]]};ga.tz=function(z){var q=z._0._0,e=[1,0,0,0],V=ga.ZC(z._0._1);
if(q=="i0")e[1]=e[2]=e[3]=V[1];else if(q=="i1")e=V;else if(q=="i2")e=[1].concat(UDOC.C.cmykToRgb(V.slice(1)));
else console.log("unknown color type",q,V);return{Type:1,Values:e}};ga.$F=function(z,q){z._0="s"+(q.Name?q.Name:"");
var e=z._5,V=q.Properties;if(V.Justification!=null)e._0="i"+V.Justification;if(V.FirstLineIndent!=null)e._1="f"+V.FirstLineIndent;
if(V.StartIndent!=null)e._2="f"+V.StartIndent;if(V.EndIndent!=null)e._3="f"+V.EndIndent;if(V.SpaceBefore!=null)e._4="f"+V.SpaceBefore;
if(V.SpaceAfter!=null)e._5="f"+V.SpaceAfter;if(V.AutoLeading!=null)e._7="f"+V.AutoLeading;if(V.AutoHyphenate!=null)e._9=V.AutoHyphenate;
if(V._Direction!=null)e._33="i"+V._Direction;if(V._ComposerEngine!=null)e._35="i"+V._ComposerEngine};
ga.afE=function(z,q){var e=z._5;if(e==null)return;var V=q.Properties;if(e._0)V.Justification=parseInt(e._0.slice(1))};
ga.OQ=function(z,q){var e=[];for(var n=0;n<q.length;n++)e.push(z+q[n]);return e};ga.ZC=function(z){var q=[];
for(var n=0;n<z.length;n++)q.push(parseFloat(z[n].slice(1)));return q};ga.aG1={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
ga.aBF={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
ga.a8s={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
ga._r={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
ga.aKN={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
ga.a3C={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var kT={};kT.avC=function(z){return kT.nM(z,kT.D5,0)};kT.abd=function(z){return kT.Uf(z,kT.D5)};kT.nM=function(z,q,e){var V;
if(typeof z=="string")return z;if(z instanceof Array){V=[];for(var n=0;n<z.length;n++)V[n]=kT.nM(z[n],q,e+1)}else{V={};
var P={};for(var D in q){var B=q[D],A="_"+B[0];if(z[A]!=null){V[D]=B[1]?kT.nM(z[A],B[1],e+1):z[A];P[A]=!0}}for(var D in z){if(P[D]==null){if(D.length>3)continue;
console.log(q,P);console.log(D,z);throw"e"}}}return V};kT.Uf=function(z,q){var e;if(typeof z=="string")return z;
else if(z instanceof Array){e=[];for(var n=0;n<z.length;n++)e[n]=kT.Uf(z[n],q)}else{e={};var V={};for(var P in q){var D=q[P],B="_"+D[0];
if(z[P]!=null){e[B]=D[1]?kT.Uf(z[P],D[1]):z[P];V[P]=!0}}for(var P in z){if(V[P]==null){console.log(q,V);
console.log(P,z);throw"e"}}}return e};kT.x0={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
kT.nq={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,kT.x0],_StrokeColor:[54,kT.x0],_Blend:[55,{_0:[0],_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,kT.x0],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_OriginalFont:[91],_92:[92],_TrackingAdjustment:[93],_94:[94],_95:[95],_96:[96]};
kT.aql={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,kT.nq],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40],_41:[41]};
kT.a7M={_Name:[0],_Features:[5,kT.aql],_Parent:[6],_UUID:[97]};kT.aON={_Name:[0],_Parent:[5],_Features:[6,kT.nq],_UUID:[97]};
kT.D5={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_MMAxis:[4],_VersionString:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1],_2:[2]}],_B:[1,{_R:[0],_P:[1],_NF:[2]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,kT.aON]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,kT.a7M]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1],_UUID:[97]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_RowCount:[12],_ColumnCount:[13],_15:[15],_16:[16],_17:[17]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_12:[12],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,kT.a7M]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,kT.aON]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4],_5:[5]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,kT.nq],_OriginalNormalParagraphFeatures:[3,kT.aql],_4:[4],_5:[5]}]};
ga.view={};ga.view.a6U=function(z,q,e,V){var P={},D=dc.hQ(z);P._0=[{_0:"i"+e}];return P};function CSS(){}CSS.a5p=function(z,q){var e=z.add,V=e.vmsk,P=e.vstk,D=e.lmfx,B=e.TySh,A=[],s=CSS.W0(D,e),a=z.vz/255*(z.add.iOpa!=null?z.add.iOpa/255:1);
if(a!=1)A.push("opacity: "+a.toFixed(3));if(z.mp()&&V){var M=T.S.O5(V.B);if(!M.a8()){A.push("width: "+Math.round(M.s)+"px");
A.push("height: "+Math.round(M.T)+"px")}var $=T.S.ai9(V.B);if($>0)A.push("border-radius: "+Math.round($)+"px")}else if(B){var U=B._1;
if(dc.hQ(U)==1){var M=dc.s0(U);A.push("width: "+Math.round(M[2])+"px");A.push("height: "+Math.round(M[3])+"px")}CSS.a4U(A,dc.jb(U,0,0),B.v,!1,!1,s[0])}CSS.acP(q,D,A);
if(B==null)CSS.aOl(s,A);if(P==null||!P.strokeEnabled.v)P=hB.af1(D);if(P&&P.strokeEnabled.v){var o=P.strokeStyleContent.v,t=o.classID,c=P.strokeStyleOpacity.v.val/100,H=P.strokeStyleLineWidth.v.val,F="";
if(t=="solidColorLayer")F=CSS.cb(o.Clr.v,c);A.push("border: "+H+"px solid "+F)}return A};CSS.acP=function(z,q,e){if(q==null||!q.masterFXSwitch.v)return;
var V=q.dropShadowMulti.v.concat(q.innerShadowMulti.v);for(var n=0;n<V.length;n++){var P=V[n].v;if(P.enab.v){var D=P.classID=="IrSh",B=P.Dstn.v.val,A=P.lagl.v.val*Math.PI/180;
if(P.uglg&&P.uglg.v)A=z.RP()*Math.PI/180;var s=B*Math.cos(A),a=B*Math.sin(A),M=(s==0?"0 ":CSS.aCw(-s)+"px ")+(a==0?"0 ":CSS.aCw(a)+"px ")+P.blur.v.val/2+"px "+CSS.cb(P.Clr.v,P.Opct.v.val/100);
if(D)e.push("box-shadow: inset "+M);else e.push("filter: drop-shadow("+M+")")}}};CSS.W0=function(z,q){var e=hB.aBx(z,q),V=e[0],P=e[1],D,B;
if(V){D=CSS.cb(V.Clr.v,q.iOpa!=null?q.iOpa/255:1)}else if(P){B=CSS.BV(P)}return[D,B]};CSS.aOl=function(z,q){if(z[0])q.push("background-color: "+z[0]);
if(z[1])q.push("background-image: "+z[1])};CSS.Vd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.aCw=function(hE){return""+parseFloat(hE.toFixed(3))};CSS._3=function(z){if(z==null)return{l:0,I:0,c:0};
var q=z.indexOf("(");if(q!=-1){var e=z.slice(q+1,z.length-1).split(",");for(var n=0;n<e.length;n++){var V=e[n].trim();
e[n]=parseFloat(V)*(V.endsWith("%")?255/100:1)}if(z.startsWith("hsl")){var P=T.Yy(e[0]/360,e[1]/255,e[2]/255);
P.l*=255;P.I*=255;P.c*=255;return P}return{l:e[0],I:e[1],c:e[2]}}if(z.charAt(0)!="#"){var D=CSS.Vd;if(D[z])z=D[z];
else if(z=="currentColor")z="#000000";else console.log("unknown color "+z)}z=z.slice(1);if(z.length==4)z=z[0]+z[0]+z[1]+z[1]+z[2]+z[2]+z[3]+z[3];
if(z.length==3)z=z[0]+z[0]+z[1]+z[1]+z[2]+z[2];var B=-1;if(z.length==8){B=parseInt(z.slice(6),16);z=z.slice(0,6)}z=parseInt(z,16);
var A={l:z>>16&255,I:z>>8&255,c:z&255};if(B!=-1)A.x6=B;return A};CSS.cb=function(z,q){return CSS.vF(T.Yf.z8(z),q)};
CSS.vF=function(z,q){if(q==null)q=1;var e=Math.round(z.l),V=Math.round(z.I),P=Math.round(z.c),D=e<<16|V<<8|P;
return q==1?"#"+T.R0(D):"rgba("+e+","+V+","+P+","+q+")"};CSS.ao8=function(z,q){return CSS.vF({l:z[0]*255,I:z[1]*255,c:z[2]*255},q)};
CSS.BV=function(z){var q=z.Grad.v;if(q.Clrs==null)return"";var e=q.Clrs.v.slice(0),V=q.Trns.v.slice(0),P=z.Ofst.v,D=z.Type.v.GrdT=="Rdl"?1:0,B=(D==1?"radial":"linear")+"-gradient",A=D==0?Math.round(-z.Angl.v.val+90)+"deg":"circle at center",s=z.Rvrs.v,a=T.Yf.aGs(q,s);
for(var n=0;n<a.length;n++){var M=a[n],$=M[1];A+=", "+CSS.vF({l:$[0]*255,I:$[1]*255,c:$[2]*255},M[2])+" "+Math.round(M[0]*100)+"%"}return B+"("+A+")"};
CSS.a4U=function(z,q,e,V,P,D){var B=q.c_,A=V?1:e.vx(),s=Math.round(B.FontSize*A);z.push("font-size: "+s+"px");
var a=B.Tracking;if(!V&&a!=null&&a!=0)z.push("letter-spacing: "+Math.round(a*s/1e3)+"px");if(!B.AutoLeading)z.push("line-height: "+Math.round(B.Leading*A)+"px");
if(B.Strikethrough)z.push("text-decoration: line-through");if(B.Underline)z.push("text-decoration: underline");
if(B.FontCaps==2)z.push("text-transform: uppercase");var M=dc.z8(B.FillColor);M=[M.l,M.I,M.c].map(Math.round);
z.push((V?"fill: ":"color: ")+(D?D:"#"+T.R0(M[0]<<16|M[1]<<8|M[2])));var $=q.GD[B.Font].Name;if($){var U=fx.NS.dN($),o="",t=null,c=null;
if(U!=null&&$!=fx.me(U))U=null;if(P&&U)o+="\""+$+"\", ";var H=$.toLowerCase();if(U){t=fx.age(U)[0];if(U["OS/2"])c=U["OS/2"].usWeightClass}else{t=CSS.a4s($);
if(H.indexOf("light")!=-1)c=300;else if(H.indexOf("medium")!=-1)c=500;else if(H.indexOf("black")!=-1||H.indexOf("extrabold")!=-1)c=800;
else if(H.indexOf("bold")!=-1)c="bold"}if(t!=null)o+="\""+t+"\"";if(c!=null)z.push("font-weight: "+c);
if(H.indexOf("italic")!=-1||H.indexOf("oblique")!=-1)z.push("font-style: italic");if(o)z.push("font-family: "+o)}var F=q.S$.Justification;
if(F!=null&&F!=0)if(V){}else z.push("text-align: "+["left","right","center"][F%3])};CSS.a4s=function(z){z=z.split("-")[0];
while(z.endsWith("MT")||z.endsWith("PS"))z=z.slice(0,z.length-2);var q=!0;for(var n=0;n<z.length;n++){var e=z.charAt(n);
if(!q&&e.toLowerCase()!=e){z=z.slice(0,n)+" "+z.slice(n);n++;q=!0}else q=!1}return z};function ae(){}ae.z9={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0,setTimeout:!0,setInterval:!0,fetch:!0};
ae.ne=function(z,q){var e=Date.now(),V=z.split("\n"),P;if(V.length==1)V=z.split("\r");for(var n=0;n<V.length;
n++)if(V[n].trim()[0]=="#"){V[n]=""}z=V.join("\n");try{P=acorn.parse(z)}catch(cz){console.log(cz);return}var D=T.G(ae.mt.IN);
D.__return=!1;D.__continue=!1;D.__break=!1;D.__throw=!1;D.__fs={};D.__window={};ae.eval(P,q,[D]);var B=D.__fs;
if(Object.keys(B).length!=0){var A=UZIP.encode(B);gC.save(A,"output.zip")}};ae.eval=function(z,q,e){var V=z.type,P=e[0];
if(!1){}else if(V=="Program"||V=="BlockStatement"){var D=z.body;for(var n=0;n<D.length;n++){var B=D[n].type;
if(B=="FunctionDeclaration")P[D[n].id.name]=D[n]}for(var n=0;n<D.length;n++){var B=D[n].type,A=ae.eval(D[n],q,e);
if(P.__continue&&P.__pif==null){P.__continue=!1;return A}if(P.__return||P.__break||P.__throw)return A}}else if(V=="ReturnStatement"){P.__return=!0;
return z.argument?ae.PW(z.argument,q,e):null}else if(V=="BreakStatement"){P.__break=!0}else if(V=="ContinueStatement"){P.__continue=!0}else if(V=="VariableDeclaration"){var s=z.declarations;
for(var n=0;n<s.length;n++)ae.eval(s[n],q,e)}else if(V=="VariableDeclarator"){P[z.id.name]=z.init?ae.PW(z.init,q,e):null}else if(V=="FunctionDeclaration"){P[z.id.name]=z}else if(V=="MemberExpression"){var a=ae.PW(z.object,q,e),A;
if(P.__throw)return;var M=z.computed?ae.PW(z.property,q,e):ae.eval(z.property,q,e);if(a.Ox!=null)A=ae.mt.MY(a,M,q,e);
else if(a==window&&ae.z9[M]){}else A=a[M];return A}else if(V=="ArrayExpression"){var $=[],U=z.elements;
for(var n=0;n<U.length;n++)$.push(ae.PW(U[n],q,e));return $}else if(V=="ObjectExpression"){var $={},U=z.properties;
for(var n=0;n<U.length;n++){var o=U[n],t=U[n].key.name?U[n].key.name:U[n].key.value;$[t]=ae.PW(U[n].value,q,e)}return $}else if(V=="ExpressionStatement"){return ae.eval(z.expression,q,e)}else if(V=="NewExpression"){var c=z.arguments,H=z.callee,F=H.type,i=H.name,X=[],$=null;
for(var n=0;n<c.length;n++)X.push(ae.PW(c[n],q,e));if(i=="Array")$=new window[i];else if(F=="Identifier")$=ae.mt.aAU(i,X,q,e);
else throw"e";if($==null)throw"new "+i;return $}else if(V=="CallExpression"){var c=z.arguments,H=z.callee,F=H.type,X=[];
for(var n=0;n<c.length;n++)X.push(ae.PW(c[n],q,e));if(F=="Identifier"){var K=H.name,f=ae._P(K,e);if(f&&f.Ox=="AppFunc"){K=f.Q7;
f=null}if(f){if(f.params){var d=f.params,L={};for(var n=0;n<d.length;n++)L[d[n].name]=X[n];var G=ae.eval(f.body,q,[L].concat(e));
return G}else{return f.apply(null,X)}}else if(ae.mt.a32.indexOf(K)!=-1)return ae.mt.mV({Ox:"Application"},K,X,q,e);
else if(window[K]==null)console.log("Unknown function "+K);else if(ae.z9[K])alert(K+"() not available");
else{var x=window[K].apply(window,X);return x}}else if(F=="MemberExpression"){var a=ae.PW(H.object,q,e),M=H.computed?ae.PW(H.property,q,e):ae.eval(H.property,q,e);
if(a==window&&ae.z9[M])return;if(a.Ox!=null)return ae.mt.mV(a,M,X,q,e);else if(M=="sort"&&a[0]&&a[0].Ox=="Layer"){return a.sort(function(h,j5){return h.u.getName()>j5.u.getName()?1:-1})}else if(M=="toSource")return JSON.stringify(a);
else return a[M].apply(a,X)}else if(F=="FunctionExpression"){var O=ae.eval(H.body,q,e);P.__return=!1;
return O}else console.log(z)}else if(V=="AssignmentExpression"){var v=z.operator,C=z.left,S=C.type,j=ae.PW(C,q,e),w=ae.PW(z.right,q,e),A=null;
if(!1){}else if(v=="=")A=w;else if(v=="+=")A=j+w;else if(v=="-=")A=j-w;else if(v=="*=")A=j*w;else if(v=="/=")A=j/w;
else if(v=="%=")A=j%w;else if(v=="&=")A=j&w;else if(v=="|=")A=j|w;else if(v=="&&=")A=j&&w;else if(v=="||=")A=j||w;
else console.log(z);if(S=="Identifier"){var u=C.name;if(ae._P(u,e)!=null)ae.a4h(u,e,A);else e[e.length-1].__window[u]=A}else if(S=="MemberExpression"){var l=ae.eval(C.property,q,e),I=ae.PW(C.object,q,e);
if(I.Ox!=null)ae.mt.aHc(I,l,A,q,e);else I[l]=A}else console.log(z);return A}else if(V=="Identifier")return z.name;
else if(V=="Literal")return z.value;else if(V=="UpdateExpression"){var v=z.operator,Q=z.argument,$=ae.PW(Q,q,e),b=null,l=null;
if(Q.type=="Identifier"){var p=Q.name,k=e[e.length-1].__window;for(var n=0;n<e.length;n++)if(e[n][p]!=null){k=e[n];
break}b=k;l=p}else if(Q.type=="MemberExpression"){var p=Q.object.name,k=e[e.length-1].__window;for(var n=0;
n<e.length;n++)if(e[n][p]!=null){k=e[n];break}b=k[p];l=ae.PW(Q.property,q,e)}else throw Q;if(!1){}else if(v=="++"){b[l]++;
return z.prefix?b[l]:b[l]-1}else if(v=="--"){b[l]--;return z.prefix?b[l]:b[l]+1}else console.log(z)}else if(V=="UnaryExpression"){var v=z.operator,g=ae.PW(z.argument,q,e);
if(g&&g.Ox=="UnitValue"){if(v=="-")return-g.u;else return ae.ahE(g.u,v)}else return ae.ahE(g,v)}else if(V=="BinaryExpression"||V=="LogicalExpression"){var v=z.operator,C=ae.PW(z.left,q,e);
if(V=="LogicalExpression"&&v=="&&"&&!C)return C;var g=ae.PW(z.right,q,e);if(C==null||g==null)return ae.IA(C,g,v);
else if(C.Ox=="UnitValue"&&g.Ox=="UnitValue")return ae.IA(C.u,g.u,v);else if(C.Ox=="UnitValue")return ae.IA(C.u,g,v);
else if(g.Ox=="UnitValue"){if(v=="-")return-(C-g.u);else return ae.IA(C,g.u,v)}else return ae.IA(C,g,v)}else if(V=="IfStatement"){var Y=ae.PW(z.test,q,e),R=P.__pif,A=null;
P.__pif=!0;if(Y)A=ae.eval(z.consequent,q,e);else if(z.alternate)A=ae.eval(z.alternate,q,e);P.__pif=R;
return A}else if(V=="ConditionalExpression"){var Y=ae.PW(z.test,q,e);if(Y)return ae.PW(z.consequent,q,e);
else if(z.alternate)return ae.PW(z.alternate,q,e)}else if(V=="ForInStatement"){ae.eval(z.left,q,e);var m=z.left.declarations[0].id.name,Z=ae.PW(z.right,q,e);
for(var E in Z){P[m]=E;var G=ae.eval(z.body,q,e);if(P.__break)break;if(P.__return)return G}P.__break=!1}else if(V=="ForStatement"){ae.eval(z.init,q,e);
while(ae.eval(z.test,q,e)){var G=ae.eval(z.body,q,e);if(P.__break)break;if(P.__return)return G;ae.eval(z.update,q,e)}P.__break=!1}else if(V=="WhileStatement"){while(ae.eval(z.test,q,e)){var G=ae.eval(z.body,q,e);
if(P.__break)break;if(P.__return)return G}P.__break=!1}else if(V=="DoWhileStatement"){do{var G=ae.eval(z.body,q,e);
if(P.__break)break;if(P.__return)return G}while(ae.eval(z.test,q,e));P.__break=!1}else if(V=="TryStatement"){ae.eval(z.block,q,e);
if(P.__throw){var N=z.handler;P[N.param.name]=P.__throw;P.__throw=!1;ae.eval(N.body,q,e);delete P[N.param.name]}}else if(V=="FunctionExpression"){return z}else if(V=="EmptyStatement"){}else console.log(z)};
ae.IA=function(z,q,e){if(e=="+")return z+q;else if(e=="-")return z-q;else if(e=="*")return z*q;else if(e=="/")return z/q;
else if(e=="%")return z%q;else if(e=="^")return z^q;else if(e=="&")return z&q;else if(e=="&&")return z&&q;
else if(e=="|")return z|q;else if(e=="||")return z||q;else if(e=="<")return z<q;else if(e==">")return z>q;
else if(e=="=="){if(z!=null&&q!=null&&z.Ox&&q.Ox)return z.u==q.u;return z==q}else if(e=="===")return z===q;
else if(e=="<=")return z<=q;else if(e==">=")return z>=q;else if(e=="!=")return z!=q;else if(e=="!==")return z!==q;
else if(e=="<<")return z<<q;else if(e==">>")return z>>q;else console.log(e)};ae.ahE=function(z,q){if(q=="-")return-z;
else if(q=="!")return!z;else if(q=="~")return~z;else if(q=="+")return z;else if(q=="typeof")return typeof z;
else console.log(q,z)};ae.PW=function(z,q,e){var V=z.type;if(V=="Identifier")return ae.aun(z.name,q,e);
else return ae.eval(z,q,e)};ae.aun=function(z,q,e){var V=e[e.length-1];if(z=="undefined")return undefined;
else if(ae._P(z,e)!=null)return ae._P(z,e);else if(z=="app")return{Ox:"Application"};else if(z=="Folder")return{Ox:"Folder"};
else if(z=="File")return{Ox:"File"};else if(z=="$")return{Ox:"$"};else if(ae.mt.aKD.indexOf(z)!=-1)return ae.mt.MY({Ox:"Application"},z,q,e);
else if(ae.mt.a32.indexOf(z)!=-1)return{Ox:"AppFunc",Q7:z};else if(V.__window.hasOwnProperty(z))return V.__window[z];
else if(window[z]&&!ae.z9[z])return window[z];else{V[z]=null;return null}};ae._P=function(z,q){for(var n=0;
n<q.length;n++)if(q[n].hasOwnProperty(z))return q[n][z]};ae.a4h=function(z,q,e){for(var n=0;n<q.length;
n++)if(q[n].hasOwnProperty(z)){q[n][z]=e}};ae.mt={};ae.mt.aAU=function(z,q,e,V){var P;if(z=="PathPointInfo")P={Ox:z,kind:0,O0:[],li:[],kS:[]};
if(z=="SubPathInfo")P={Ox:z,_v:0,qi:!1,u:[]};if(z=="SolidColor")P={Ox:z,u:[1,0,0,0]};if(z=="RGBColor")P={Ox:z,u:[1,0,0,0]};
if(z=="Window")P={Ox:z,u:new bH(q[0],q[1],q[2])};if(z=="ExportOptionsSaveForWeb")P={Ox:z,u:{gh:"png",yJ:100}};
if(z=="PhotoshopSaveOptions")P={Ox:z,u:{gh:"psd"}};if(z=="PNGSaveOptions")P={Ox:z,u:{gh:"png",yJ:100}};
if(z=="JPEGSaveOptions")P={Ox:z,u:{gh:"jpg",yJ:100}};if(z=="PDFSaveOptions")P={Ox:z,u:{gh:"pdf",Jw:""}};
if(z=="File")P={Ox:z,u:q[0]};if(z=="ActionReference")P={Ox:z,u:{t:"obj ",v:[]}};if(z=="ActionDescriptor")P={Ox:z,u:{t:"Objc",v:{classID:"null"}}};
if(z=="ActionList")P={Ox:z,u:{t:"VlLs",v:[]}};if(z=="UnitValue"){var D=0,B="px",A=q[0],s=q[1];if(A){D=parseFloat(A);
if(typeof A=="string"&&A.indexOf(" ")!=-1)B=A.split(" ").pop()}P={Ox:z,u:D,aAq:s?s:B}}return P};ae.mt.aKD="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
ae.mt.a32="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue echoToOE".split(" ");
ae.mt.MY=function(z,q,e,V){var P=e.i,D=V[0],B=e.yT();if(!1){}else if(q=="typename"){if(z.Ox=="Layer")return z.u.YZ()?"LayerSet":"ArtLayer";
else return z.Ox}else if(["Document","Layer"].indexOf(z.Ox)!=-1&&["layers","artLayers","layerSets"].indexOf(q)!=-1){var A=B;
if(z.Ox=="Document")A=z.u;else A=z.di;var s=A.root,a={Ox:"Layers",aaf:q,u:[],di:A};if(z.Ox=="Layer")s=A.root.G6(A.Z.indexOf(z.u));
if(s.children==null)return null;for(var n=0;n<s.children.length;n++){var M=s.children[n].H,$=M.YZ();
if($&&q=="artLayers"||!$&&q=="layerSets")continue;a.u.push({Ox:"Layer",u:M,di:A})}a.u.reverse();return a}else if(z.Ox=="Documents"||z.Ox=="Layers"||z.Ox=="HistoryStates"||z.Ox=="LayerComps"||z.Ox=="PathItems"||z.Ox=="SubPathItems"||z.Ox=="PathPoints"){if(!1){}else if(q=="length")return z.u.length;
else if(Number.isInteger(q))return z.u[q];else console.log(z.Ox+": unknown property ",q)}else if(z.Ox=="Application"){if(!1){}else if(q=="activeDocument")return{Ox:"Document",u:e.yT()};
else if(q=="documents"){var a={Ox:"Documents",u:[]};for(var n=0;n<e.nk.length;n++)a.u.push({Ox:"Document",u:e.nk[n]});
return a}else if(q=="fonts")return{Ox:"TextFonts"};else if(q=="preferences")return{Ox:"Preferences"};
else if(q=="displayDialogs")return{Ox:"DialogModes"};else if(q=="foregroundColor"||q=="backgroundColor"){var U=q[0]=="f"?P.pQ:P.Cp;
return{Ox:"SolidColor",u:[1,(U>>>16&255)/255,(U>>>8&255)/255,(U>>>0&255)/255]}}else if(q=="UI")return{Ox:"UI"};
else if(q=="version")return 30;else console.log(z,q)}else if(z.Ox=="Document"){var B=z.u;if(!1){}else if(q=="activeLayer"){var M=B.Z[B.j[0]];
return{Ox:"Layer",u:M,di:B}}else if(q=="pixelAspectRatio")return 1;else if(q=="resolution")return B.do;
else if(q=="width")return B.s;else if(q=="height")return B.T;else if(q=="name")return B.name.split(".")[0];
else if(q=="saved")return!B.lJ();else if(q=="selection")return{Ox:"Selection"};else if(q=="activeHistoryState")return{Ox:"HistoryState",XW:B.B5};
else if(q=="source")return B.by;else if(q=="layerComps"){var o=B.jA.list.v,t=[];for(var n=0;n<o.length;
n++)t.push({Ox:"LayerComp",u:n});return{Ox:"LayerComps",u:t}}else if(q=="historyStates"){var c=[];for(var n=0;
n<B.history.length;n++)c.push({Ox:"HistoryState",XW:n});return{Ox:"HistoryStates",u:c}}else if(q=="mode")return B.add.fcmy?1:7;
else if(q=="colorSamplers"){var a={Ox:"ColorSamplers",aaf:q,u:B.EC.slice(0),di:B};return a}else if(q=="pathItems"){var H=[],B=z.u,F=B.Kn(),i=F[0],X=F[1];
for(var n=0;n<i.length;n++)H.push({Ox:"PathItem",u:i[n]});return{Ox:"PathItems",u:H}}else console.log(z,q)}else if(z.Ox=="PathItem"){if(q=="subPathItems"){var K=z.u,f=K.add.vmsk.B,H=[];
for(var n=0;n<T.S.S2(f);n++){var d=T.S.ha(f,n),L=f[d],G=f.slice(d+1,d+1+L.length);H.push({Ox:"SubPathItem",_v:L.xq,qi:L.e==0,u:lK.cI.QD(G)})}return{Ox:"SubPathItems",u:H}}else alert(q)}else if(z.Ox=="SubPathItem"||z.Ox=="SubPathInfo"){if(q=="pathPoints"||q=="entireSubPath"){var H=[];
for(var n=0;n<z.u.length;n++){var x=z.u[n];H.push({Ox:"PathPointInfo",kind:x.e==1||x.e==4?1:0,O0:[x.O0.x,x.O0.y],li:[x.li.x,x.li.y],kS:[x.kS.x,x.kS.y]})}return{Ox:"PathPoints",u:H}}else if(q=="operation")return z._v;
else if(q=="closed")return z.qi;else throw q}else if(z.Ox=="PathPointInfo"){if(q=="kind")return z.kind;
else if(q=="anchor")return z.O0;else if(q=="leftDirection")return z.li;else if(q=="rightDirection")return z.kS;
else throw q}else if(z.Ox=="LayerComp"){if(q=="name")return B.jA.list.v[z.u].v.Nm.v;else throw q}else if(z.Ox=="ColorSamplers"){if(Number.isInteger(q))return{Ox:"ColorSampler",u:z.u[q]};
else if(q=="length")return B.EC.length}else if(z.Ox=="ColorSampler"){if(q=="color"){var U=W.SB.Z9(B,B.A.Gb(z.u.x,z.u.y),1,2);
return{Ox:"SolidColor",u:[1,(U>>>16&255)/255,(U>>>8&255)/255,(U>>>0&255)/255]}}else if(q=="position")return[z.u.x,z.u.y]}else if(z.Ox=="Layer"){var O={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},M=z.u;
if(!1){}else if(q=="visible")return M.Sw();else if(q=="selected")return B.j.indexOf(B.Z.indexOf(M))!=-1;
else if(q=="grouped")return M.Ev;else if(O[q]!=null)return M.rs(O[q]);else if(q=="opacity")return M.vz*100/255;
else if(q=="fillOpacity")return(M.add.iOpa==null?255:M.add.iOpa)*100/255;else if(q=="blendMode")return M.pi;
else if(q=="name")return M.getName();else if(q=="id")return M.add.lyid;else if(q=="textItem")return{Ox:"TextItem",u:M};
else if(q=="bounds"){var v=W.On.$i(B,[B.Z.indexOf(M)]);return ae.mt.agN(v,B)}else if(q=="parent"){var C=e.nk,A;
for(var n=0;n<C.length;n++)if(C[n].Z.indexOf(M)!=-1)A=C[n];var S=A.root.G6(A.Z.indexOf(M)).parent;return S.depth==0?{Ox:"Document",u:A}:{Ox:"Layer",u:S.H,di:A}}else if(q=="kind"){var j=ae.mt.P$;
for(var n=0;n<j.length;n++)if(M.add[j[n]]!=null)return n;return 0}else if(q=="isBackgroundLayer")return M.add.lnsr=="bgnd";
else if(q=="itemIndex")return B.Z.indexOf(M)+1;else if(q.startsWith("layerMask")||q.startsWith("filterMask")){var w=q.startsWith("layerMask")?M.OX():M.kL(B).Eo;
return q.endsWith("Density")?w.uI*100/255:w.j_}else console.log(z,q)}else if(z.Ox=="Selection"){if(!1){}else if(q=="bounds"){if(B.h==null)D.__throw={message:"no selection"};
else return ae.mt.agN(B.h.V,B)}else console.log(z,q)}else if(z.Ox=="TextItem"){var u=z.u.add.TySh,l=u._1,I=dc.VQ(l),Q=u.v.vx(),b=dc.jb(l,0,0);
if(q=="contents")return I.slice(0,I.length-1).replace(/\n/g,"\r");else if(q=="font")return b.c_.Font!=null?b.GD[b.c_.Font].Name:null;
else if(q=="size")return ae.mt.Yn(b.c_.FontSize*Q,B);else if(q=="leading")return ae.mt.Yn(b.c_.Leading*Q,B);
else if(q=="tracking")return ae.mt.Yn(b.c_.Tracking);else if(q=="baselineShift")return ae.mt.Yn(b.c_.BaselineShift);
else if(q=="kind")return 1-dc.hQ(l);else if(ae.mt.M0[q])return b.c_[ae.mt.M0[q]];else if(q=="justification")return ae.mt.Yn(b.S$.Justification);
else if(q=="color")return{Ox:"SolidColor",u:b.c_.FillColor.Values.slice(0)};else if(q=="width"||q=="height"){var p=dc.s0(l),k=(p[2]-p[0])*Q,g=(p[3]-p[1])*Q;
return ae.mt.Yn(q=="width"?k:g,B)}else if(q=="position"){var w=u.v;return ae.mt.aC5([w.yK,w.ww],B)}else if(q=="horizontalScale"||q=="verticalScale"){var Y=q[0].toUpperCase()+q.slice(1);
return Math.round(b.c_[Y]*100)}else if(q=="antiAliasMethod")dc.yx(u);else if(q=="totalTextStyle"){var a={};
for(var R=0;R<2;R++){var m=["Style","Paragraph"][R],Z=l.EngineDict[m+"Run"].RunLengthArray,E=[],N=0;
for(var n=0;n<Z.length;n++){var h=dc.jb(l,N,Math.min(N+Z[n],I.length-2));N+=Z[n];E.push(R==0?h.c_:h.S$);
a.fontSet=h.GD}a[m]={runs:Z,styles:E}}return JSON.stringify(a)}else if(q=="transform"){var w=u.v;return JSON.stringify([w.x6,w.c,w.I$,w.at,w.yK,w.ww])}else console.log(z,q)}else if(z.Ox=="Preferences"){if(q=="rulerUnits")return P.Y8.oZ;
else console.log(z,q)}else if(z.Ox=="SolidColor"){if(q=="rgb")return{Ox:"RGBColor",u:z.u};if(q=="cmyk")return{Ox:"CMYKColor",u:T.VB(z.u.slice(1))};
else console.log(z,q)}else if(z.Ox=="RGBColor"){var v=Math.round(255*z.u[1]),j5=Math.round(255*z.u[2]),r=Math.round(255*z.u[3]);
if(!1){}else if(q=="red")return v;else if(q=="green")return j5;else if(q=="blue")return r;else if(q=="hexValue")return T.R0(v<<16|j5<<8|r).toUpperCase();
else console.log(z,q)}else if(z.Ox=="CMYKColor"){var l8=[];for(var n=0;n<4;n++)l8.push(Math.round(z.u[n]*100));
var aP=["cyan","magenta","yellow","black"].indexOf(q);if(aP!=-1)return l8[aP];else console.log(z,q)}else if(z.Ox=="UnitValue"){if(q=="value")return z.u;
else throw"e"}else if(z.Ox=="ExportOptionsSaveForWeb"){if(q=="format")return z.u.gh;else if(q=="PNG8"||q=="interlaced")return!1;
else if(q=="quality")return z.u.yJ;else if(q=="transparency")return!0;else throw q}else if(z.Ox=="PNGSaveOptions"||z.Ox=="JPEGSaveOptions"||z.Ox=="PDFSaveOptions"){return 0}else if(z.Ox=="$"){if(q=="localize")return!1;
else if(q=="os")return"Windows";else throw q}else if(z.Ox=="ActionList"){if(q=="count")return z.u.v.length;
else throw q}else if(z.Ox=="TextFonts"){var bS=fx.NS.wO(),kR=Object.keys(bS);if(q=="length")return kR.length;
else if(typeof q=="number")return{Ox:"TextFont",u:kR[q]};else throw q}else if(z.Ox=="TextFont"){var bS=fx.NS.wO();
if(q=="family")return bS[z.u][0];else if(q=="name")return bS[z.u][1];else if(q=="postScriptName")return bS[z.u][2];
else throw q}else console.log(z,q)};ae.mt.agN=function(z,q){return ae.mt.aC5([z.x,z.y,z.x+z.s,z.y+z.T],q)};
ae.mt.aC5=function(z,q){var e=[];for(var n=0;n<z.length;n++)e.push(ae.mt.Yn(z[n],q));return e};ae.mt.P6=function(z){var q=[];
for(var n=0;n<z.length;n++)q.push(z[n].Ox?z[n].u:z[n]);return q};ae.mt.Yn=function(z,q){return{Ox:"UnitValue",u:z,aAq:"px"}};
ae.mt.WH=function(z,q){if(z.Ox=="UnitValue")return T.tR.rp(z.u,q.do,q.s,T.tR.wZ.indexOf(z.aAq));return z};
ae.mt.M0={fauxBold:"FauxBold",fauxItalic:"FauxItalic",useAutoLeading:"AutoLeading",hyphenation:"AutoHyphenate",ligatures:"_Ligatures"};
ae.mt.aHc=function(z,q,e,V,P){var D=new dW(_.E.z,!0),B=new dW(_.E.b,!0),A=V.yT(),s=V.i;if(!1){}else if(z.Ox=="Application"){if(!1){}else if(q=="activeDocument"){B.data={p:_.m.Mk,Va:e.u};
V.K(B)}else if(q=="displayDialogs"){}else if(q=="foregroundColor"||q=="backgroundColor"){var a=e.u,M=a[1]*255<<16|a[2]*255<<8|a[3]*255<<0;
B.data={p:_.m.Ln,Lh:cR.RV,kE:q=="foregroundColor"?0:1,u:M};V.K(B)}else console.log(z,q,e)}else if(z.Ox=="Document"){var $=z.u;
if(!1){}else if(q=="name"){D.U=W.si;D.data={p:lK.Lk,u:e,aO4:!0,$b:$};A.y8=!0}else if(q=="source")$.by=e;
else if(q=="activeLayer"){$.j=[$.Z.indexOf(e.u)]}else if(q=="activeHistoryState"){D.U=W.S3;D.data={p:"h_itemchange",index:e.XW}}else console.log(z,q)}else if(z.Ox=="Layer"){D.U=W.si;
var U={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},o=z.u,t=A.Z.indexOf(o);
if(!1){}else if(q=="visible"){if(o.Sw()!=e)D.data={p:lK.rC,H:t}}else if(q=="opacity"){D.data={p:lK.tS,H:t,oo:Math.round(255*e/100)}}else if(q=="fillOpacity"){D.data={p:lK.UC,H:t,oo:Math.round(255*e/100)}}else if(q=="blendMode"){D.data={p:lK.Kj,H:t,oo:aA.q2.indexOf(e)}}else if(q=="name"){D.data={p:lK.mH,H:t,name:e}}else if(U[q]!=null){D.data={p:lK.B4,H:t,oo:[[e],[U[q]]]}}else if(q=="kind"){D.data={p:lK.lC,H:t,Pz:ae.mt.P$[e]}}else if(q=="grouped"){D.data={p:lK.Cr,H:t,oo:e}}else if(q.startsWith("layerMask")||q.startsWith("filterMask")){var c=o.lj(q.startsWith("layerMask")?0:2);
if(q.endsWith("Density"))c.n2=Math.round(e*255/100);else c.zl=e;D.data={p:lK.Ke,HM:t,z1:c}}else console.log(z,q,e)}else if(z.Ox=="TextItem"){D.U=W.no;
var o=z.u,H=o.add.TySh,F=T.G(H._1),i=H.v.Y(),X=H.v.vx(),K=dc.VQ(F),f=dc.jb(F,0,K.length-2),d=!1;if(!1){}else if(q=="contents"){dc.ZD(F,0,K.length-1);
dc.o5(F,0,(e+"").replace(/\r/g,"\n"))}else if(q=="size"){f.c_.FontSize=(e.u!=null?e.u:e)/X;d=!0}else if(q=="leading"){f.c_.Leading=(e.u!=null?e.u:e)/X;
d=!0}else if(q=="tracking"){f.c_.Tracking=e.u!=null?e.u:e;d=!0}else if(q=="baselineShift"){f.c_.BaselineShift=e.u!=null?e.u:e;
d=!0}else if(q=="kind"){var L=dc.hQ(F);if(L==1&&e==1){var G=new kB(F,V.i.Se,H.h8).S$[0],x=G.oA[0].end,O=G.qX[x-1].end;
dc.ZD(F,0,K.length-1);dc.o5(F,0,K.slice(0,O-1))}if(L==e)dc.M_(F,1-e)}else if(ae.mt.M0[q]){f.c_[ae.mt.M0[q]]=e;
d=!0}else if(q=="justification"){f.S$.Justification=e;d=!0}else if(q=="font"){dc.v3(f,e);d=!0}else if(q=="color"){f.c_.FillColor.Values=e.u.slice(0);
d=!0}else if(q=="width"||q=="height"){var v=dc.s0(F).slice(0),C=ae.mt.WH(e,A);if(q=="width")v[2]=Math.round(v[0]+C/X);
else v[3]=Math.round(v[1]+C/X);dc.v7(F,v)}else if(q=="position"){i.yK=e[0];i.ww=e[1]}else if(q=="horizontalScale"||q=="verticalScale"){var S=q[0].toUpperCase()+q.slice(1);
f.c_[S]=e/100;d=!0}else if(q=="antiAliasMethod")dc.ru(H,e);else console.log(z,q,e);if(d)dc.Vy(F,0,K.length-1,f);
D.data={p:"newED",ZF:A.Z.indexOf(o),adA:F,v:i}}else if(z.Ox=="Preferences"){if(!1){}else if(q=="rulerUnits"){var j=T.G(s.Y8);
j.oZ=e;B.data={p:_.m.Ln,Lh:cR.qU,oo:j};V.K(B)}else console.log(z,q,e)}else if(z.Ox=="SolidColor"){if(q=="rgb")z.u=e.u;
else throw q}else if(z.Ox=="RGBColor"){if(!1){}else if(q=="red")z.u[1]=e/255;else if(q=="green")z.u[2]=e/255;
else if(q=="blue")z.u[3]=e/255;else if(q=="hexValue"){var w=T.aGx(e.slice(e.charAt(0)=="#"?1:0));z.u[1]=(w>>>16&255)/255;
z.u[2]=(w>>>8&255)/255;z.u[3]=(w>>>0&255)/255}else console.log(z,q)}else if(z.Ox=="ExportOptionsSaveForWeb"){if(q=="format")z.u.gh=e;
else if(q=="PNG8"||q=="transparency"||q=="interlaced"){}else if(q=="quality")z.u.yJ=e;else throw q}else if(z.Ox=="PNGSaveOptions"||z.Ox=="JPEGSaveOptions"){if(q=="quality")z.u.yJ=Math.round(100*e/12)}else if(z.Ox=="PDFSaveOptions"){if(q=="preset")z.u.Jw=e}else if(z.Ox=="PathPointInfo"){if(q=="kind")z.kind=e;
else if(q=="anchor")z.O0=e;else if(q=="leftDirection")z.li=e;else if(q=="rightDirection")z.kS=e;else throw q}else if(z.Ox=="SubPathInfo"){if(q=="operation")z._v=e;
else if(q=="closed")z.qi=e;else if(q=="entireSubPath"){z.u=[];for(var n=0;n<e.length;n++){var u=e[n];
z.u.push({e:u.kind==1?1:2,li:new f5(u.li[0],u.li[1]),O0:new f5(u.O0[0],u.O0[1]),kS:new f5(u.kS[0],u.kS[1])})}}else throw q}else if(z.Ox=="$"){if(q=="localize"){}}else console.log(z,q,e);
if(D.data!=null)V.K(D)};ae.mt.apb=function(z,q,e){if(q==null)return;var V=q._1.EngineDict.StyleRun.RunArray,P=q._1.ResourceDict.FontSet,D=[];
for(var n=0;n<V.length;n++){var B=V[n].StyleSheet.StyleSheetData,A=P[B.Font].Name,s=e.i.Se.dN(A);if(s&&s.name.postScriptName!=A)s=null;
D.push({t:"null",v:{TxtS:{t:"null",v:{fontAvailable:{t:"bool",v:s!=null},fontPostScriptName:{t:"TEXT",v:A}}}}})}z.textKey={t:"textKey",v:{textStyleRange:{t:"obj ",v:D},textKey:{t:"TEXT",v:dc.VQ(q._1)}}}};
ae.mt.mV=function(z,q,e,V,P){var D=z.Ox,B=null,A=P[0],s=new dW(_.E.z,!0),a=new dW(_.E.zN,!0),M=new dW(_.E.b,!0),$=V.yT(),U=V.nk;
if(!1){}else if(D=="Application"){if(!1){}else if(q=="charIDToTypeID"){var o=e[0].trim(),t={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate",GrpL:"groupEvent"};
return t[o]?t[o]:o}else if(q=="stringIDToTypeID"){var c=e[0].trim(),t={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",actionSet:"ASet",adjustmentLayer:"AdjL",type:"Type",using:"Usng",targetEnum:"Trgt",to:"T",ordinal:"Ordn",property:"Prpr",numberOfChildren:"NmbC",userMaskEnabled:"UsrM",colorize:"Clrz",hue:"H",saturation:"Strt",lightness:"Lght",hueSaturation:"HStr",adjustment:"Adjs",textStyle:"TxtS"},H=t[c];
return H==null?c:H}else if(q=="typeIDToStringID"){return e[0].trim()}else if(q=="executeAction"){var F;
if(e[1]){F=e[1].u.v;F.classID=e[0]}var i={setd:"set"},X=i[e[0]];if(X==null)X=e[0];var f=aM.Ij[e[0]];
if(f&&aM.$Y[f])X=aM.$Y[f];a.data={gQ:X,cj:F}}else if(q=="executeActionGet"){var d=e[0].u.v,B={};if(d.length==1){var L=B.classID=d[0].v.classID;
if(L=="Lyr"){var G=fw.wk($,d[0]),x=$.Z[G],O=x.add.SoLd,v=x.add.SoCo,C=x.add.TySh,S=x.OX();if(O)B.smartObjectMore={t:"Objc",v:{transform:O.nonAffineTransform}};
if(v)B.adjustment={t:"VlLs",v:[{t:"Objc",v:T.G(v)}]};if(C)ae.mt.apb(B,C,V);if(S)B.UsrM={t:"Objc",v:{}}}else if(L=="AdjL"){var G=fw.wk($,d[0]),x=$.Z[G],j=aM.get(x.add);
B.Adjs={t:"VlLs",v:[{t:"Objc",v:T.G(x.add[j])}]}}else if(L=="ASet"){var w=V.i.$K;B.NmbC={t:"long",v:w[0].bX.length}}return{Ox:"ActionDescriptor",u:{t:"null",v:B}}}if(d.length==2){var L=B.classID=d[1].v.classID,c=d[0].v.keyID;
if(L=="Dcmn"){var u=$;if(c=="numberOfLayers")B[c]={t:"long",v:u.Z.length};else throw c}else if(L=="Lyr"){var G=fw.wk($,d[1]),x=$.Z[G],C=x.add.TySh;
if(c=="textKey")ae.mt.apb(B,C,V);else throw c}else if(L=="ASet"){var w=V.i.$K,l=B.classID=d[0].v.classID;
if(l=="Actn"){B.NmbC={t:"long",v:fw.UF(w,d[0].v.val,d[1].v.val).bX.length}}else throw l}else throw L;
return{Ox:"ActionDescriptor",u:{t:"null",v:B}}}}else if(q=="doAction"){M.data={p:_.m.g8,HH:[e[0],e[1]]}}else if(q=="bringToFront"){}else if(q=="open"){M.data={p:_.m.ge,Lh:{url:e[0]}};
if(e[2]&&U.length!=0)M.data.Lh.P5=U.indexOf($)}else if(q=="echoToOE"){M.data={p:_.m.rj,Lh:e[0]}}else if(q=="showWindow"){M.data={p:_.m.wa,rF:e[0]}}else if(q=="UnitValue"){return e[0]+" "+e[1]}else console.log(q)}else if(D=="LayerComp"){if(q=="apply"){s.U=W.Ao;
s.data={p:"setLC",XW:$.jA.list.v[z.u].v.compID.v}}else throw q}else if(D=="Document"){var $=z.u;if(!1){}else if(q=="changeMode"){s.U=W.HI;
s.data={p:"fcmy",u:e[0]==1?1:0}}else if(q=="crop"){var I=e[0];a.data=W.hV.aj4([I[0],I[1],I[2]-I[0],I[3]-I[1]])}else if(q=="trim"){var Q=[];
for(var n=0;n<4;n++)Q.push(e[n+1]!=null?e[n+1]:!0);a.data=W.hV.V7(e[0]!=null?e[0]:0,Q)}else if(q=="suspendHistory"){var b=acorn.parse(e[1]);
ae.eval(b,V,P)}else if(q=="save"){M.data={p:_.m.UL}}else if(q=="saveToOE"){M.data={p:_.m.UL,atj:e}}else if(q=="rotateCanvas"||q=="flipCanvas"){var p=q=="rotateCanvas";
a.data=W.On.lL(p,p?e[0]:["Hrzn","Vrtc"][e[0]])}else if(q=="resizeImage"||q=="resizeCanvas"){var k=e[0],g=e[1];
if(k!=null){var Y={s:$.s,do:$.do};if(e[2])Y.do=e[2];k=ae.mt.WH(k,Y),g=ae.mt.WH(g,Y);k=Math.round(k);
g=Math.round(g)}if(q=="resizeCanvas")a.data=W.hV.abX(k,g,e[2]);else a.data=W.hV.XN(k,g,e[2],k!=null?1:null)}else if(q=="paste"){M.data={p:_.m.AW,azl:e.length!=0&&e[0],XC:!0};
V.K(M);M.data=null;return{Ox:"Layer",u:$.Z[$.j[0]],di:$}}else if(q=="close"){M.data={p:_.m.zd,Bt:$}}else if(q=="exportDocument"||q=="saveAs"){var R=P[P.length-1].__fs,m=q=="exportDocument"?e[2].u:e[1].u,Z=e[0].u.replace(":","").replace("~/","");
if(!Z.toLowerCase().endsWith("."+m.gh))Z+="."+m.gh;var E=hZ.zK($,m.gh,null,null,m.gh=="pdf"?null:{qual:m.yJ},V.i);
R[Z]=new Uint8Array(E)}else if(q=="flatten"){a.data={gQ:"flattenImage"}}else if(q=="clearHistory"){s.U=W.S3;
s.data={p:"h_clear",force:!0}}else console.log(z,q,e)}else if(D=="Layer"){var N=z.u,G=$.Z.indexOf(N);
if(!1){}else if(q=="copy"){ae.mt.lX($,V,0);M.data={p:_.m.K$,J4:e[0],Jb:G,XC:!0};V.K(M);delete M.data;
ae.mt.lX($,V,1)}else if(q=="clear"){ae.mt.lX($,V,0);a.data={gQ:"delete"};V.K(a);delete a.data;ae.mt.lX($,V,1)}else if(q=="autoLevels"||q=="autoContrast"){if(q=="autoContrast")a.data={gQ:"levels",cj:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else a.data={gQ:"levels",cj:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(q=="duplicate"){if(e.length==0){var h=$.j.slice(0);
s.data={p:lK.Mi,H:G};s.U=W.si;V.K(s);s.data=null;B={Ox:"Layer",u:$.Z[$.j[0]],di:z.di};$.j=h}else if(e[0].Ox=="Document"){s.data={p:lK.vU,Z:$._i(G),Jp:$,ME:e[0].u};
s.U=W.si}if(s.data){V.K(s);s.data=null;return{Ox:"Layer",u:$.Z[$.j[0]],di:$}}}else if(q=="merge"||q=="remove"){s.data={p:q=="merge"?lK.xs:lK.t$,H:G};
s.U=W.si;var j5=$.Z.length-G;V.K(s);s.data=null;if(q!="remove")B={Ox:"Layer",u:$.Z[$.Z.length-j5],di:z.di}}else if(q=="move"){var r=$.Z.indexOf(e[0].u);
if(r==G+1&&e[1]==4)return;if(r==G-1&&e[1]==3)return;s.data={p:lK.lV,source:G,target:r,gp:e[1]!=3?.6:.3};
s.U=W.si}else if(q=="rasterize"){s.U=W.si;s.data={p:lK.Xc,H:G};V.K(s);s.data=null;z.u=$.Z[G]}else if(q=="rotate"){s.data={p:"rot",JJ:[2,5],u:-e[0]*Math.PI/180,Lu:e[1],H:G};
s.U=W.Rs}else if(q=="resize"){s.data={p:"scl",JJ:[2,4],u:new f5(e[0]/100,e[1]/100),Lu:e[2],H:G};s.U=W.Rs}else if(q=="translate"){var l8=ae.mt.P6(e);
s.data={p:"trsl",H:G,d8:l8[0],Zf:l8[1]};s.U=W.HI}else if(q=="link"){s.data={p:lK.Df,a1f:[G,$.Z.indexOf(e[0].u)]};
s.U=W.si}else if(q=="invert"){s.U=W.j4;s.data={p:"start",xJ:"nvrt"}}else if(q=="desaturate"){a.data={gQ:"desaturate"}}else if(q.startsWith("apply")&&ak.n1[q.slice(5)]||q.startsWith("adjust")&&ak.n1[q.slice(6)]||q=="mixChannels"){var aP=q.startsWith("apply"),l8=ae.mt.P6(e),j=q=="mixChannels"?"mixr":ak.n1[q.slice(aP?5:6)];
if(j=="Dspl"){for(var n=0;n<$.Z.length;n++)if($.Z[n].getName()==l8[4]){l8[4]=$.Z[n].add.SoLd.Idnt.v;
break}}a.data={gQ:aP?ak.$Y[j]:aM.$Y[j]};var F=ak.g1(j),h=$.j;$.j=[G];if(F){if(j=="mixr"){var bS=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
for(var n=0;n<3;n++){var kR=l8[0][n],j1=n*5;bS[j1+0]=kR[0];bS[j1+1]=kR[1];bS[j1+2]=kR[2];bS[j1+4]=kR[3]}F=aM.GB({u:bS,JZ:l8[1]})}else ak.bM["g"+j](F,l8);
a.data.cj=F}V.K(a);a.data=null;$.j=h}else if(q=="applyStyle"){var f6=V.i.yg,gx=null;for(var n=0;n<f6.length;
n++)if(f6[n].Pi.Nm.v.split("/").pop()==e[0])gx=f6[n];if(gx==null){alert("Style not found!");return}s.U=W.Eg;
s.data={p:"setstl",u:gx.L$,H:G};V.K(s);s.data={p:"confirm",H:G}}else console.log(z,q,e)}else if(D=="Documents"){if(q=="getByName"){for(var n=0;
n<U.length;n++)if(U[n].name==e[0]||U[n].name.split(".")[0]==e[0])return{Ox:"Document",u:U[n]};return null}else if(q=="add"){if(e.length==0)e=[100,100,72,"New Project"];
var lC=e[5];if(lC==null)lC=1;a.data=hq.UN(e[0],e[1],e[2],e[3],["Wht","Trns","BckC"][lC],!1);V.K(a);a.data=null;
return{Ox:"Document",u:V.yT()}}else throw"e"}else if(D=="Layers"){if(q=="getByName"){for(var n=0;n<z.u.length;
n++)if(z.u[n].u.getName()==e[0]){B=z.u[n];break}if(B==null)A.__throw={message:"No layer with a name "+e[0]}}else if(q=="add"){s.data={p:z.aaf=="layerSets"?lK.o8:lK.Ag};
s.U=W.si;V.K(s);s.data=null;B={Ox:"Layer",u:$.Z[$.j[0]],di:z.di}}else console.log(z,q,e)}else if(z.Ox=="Selection"){if(q=="select"){var g2=e[0],dv=[];
for(var n=0;n<g2.length;n++)dv.push(g2[n][0],g2[n][1]);a.data=W.cn.Ll(ae.mt.P6(dv),e[1])}else if(q=="clear"){a.data={gQ:"delete"}}else if(q=="selectAll"){a.data=W.cn.Im(!0)}else if(q=="invert"){a.data={gQ:"inverse"}}else if(q=="copy"){M.data={p:_.m.K$,J4:e[0],XC:!0}}else if(q=="deselect"){a.data=W.cn.Im()}else if(q=="fill"){var bv=e[0].u;
bv=T.Yf.e8({l:bv[1]*255,I:bv[2]*255,c:bv[3]*255});a.data=W.j6.J8("Clr",e[1],e[2]==null?1:e[2]/100,bv)}else if(q=="grow"||q=="similar"){var F={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(e[0]!=null)F.Tlrn={t:"long",v:e[0]};a.data={gQ:q,cj:F}}else if(q=="expand"||q=="contract"||q=="feather"){a.data=W.cn.qt(q,e[0],!0)}else if(q=="translate"){var F={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:e[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:e[1]}}}}};
a.data={gQ:"move",cj:F}}else if(q=="smooth"){a.data=W.cn.qt("smoothness",e[0],!1)}else if(q=="stroke"){var gx=JSON.parse(az.j3[1]),eo=gx.Clr.v,bv=e[0].u;
eo.Rd.v=bv[1]*255;eo.Grn.v=bv[2]*255;eo.Bl.v=bv[3]*255;gx.Sz.v.val=e[1];gx.Styl.v.FStl=az.stroke.types[e[2]];
console.log(gx,e);s.U=W.bx;s.data={p:"stroke",agn:gx}}else console.log(z,q,e)}else if(z.Ox=="Window"){if(q=="show"){M.data={p:_.m.wa,rF:z.u}}else throw"e"}else if(z.Ox=="ActionReference"){if(q=="putProperty"){z.u.v.push({t:"prop",v:{classID:e[0],keyID:e[1]}})}else if(q=="putClass"){z.u.v.push({t:"Clss",v:{classID:e[0]}})}else if(q=="putEnumerated"){z.u.v.push({t:"Enmr",v:{classID:e[0],typeID:e[1],enum:e[2]}})}else if(q=="putName"){z.u.v.push({t:"name",v:{classID:e[0],val:e[1]}})}else if(q=="putIndex"){z.u.v.push({t:"indx",v:{classID:e[0],val:e[1]}})}else console.log(q,e)}else if(z.Ox=="ActionDescriptor"||z.Ox=="ActionList"){var aL=z.Ox=="ActionList";
if(q.startsWith("put")){var dh=aL?e:e.slice(1),H=null;if(q=="putReference"){H=dh[0].u}else if(q=="putObject"){H=dh[1].u;
H.v.classID=dh[0]}else if(q=="putList"){H=dh[0].u}else if(q=="putDouble"){H={t:"doub",v:dh[0]}}else if(q=="putUnitDouble"){H={t:"UntF",v:{type:dh[0],val:dh[1]}}}else if(q=="putBoolean"){H={t:"bool",v:dh[0]}}else if(q=="putInteger"){H={t:"long",v:dh[0]}}else if(q=="putString"){H={t:"TEXT",v:dh[0]}}else if(q=="putClass"){H={t:"type",v:{classID:dh[0]}}}else if(q=="putEnumerated"){var eM=e[0].split("+");
if(eM.length==2&&e[1]==null){e[0]=eM[0];e[1]=dh[0]=eM[1]}var j1={};j1[dh[0]]=dh[1];H={t:"enum",v:j1}}else throw q;
if(aL)z.u.v.push(H);else z.u.v[e[0]]=H}else if(q=="hasKey"){return z.u.v[e[0]]!=null}else if(q=="getEnumerationValue"){if(e[0]=="layerSection")B="layerSectionContent";
else console.log(e)}else if(q=="getBoolean"){B=z.u.v[e[0]].v}else if(q=="getString"){B=z.u.v[e[0]].v}else if(q=="getObjectValue"){var B=z.u.v[e[0]];
return{Ox:"ActionDescriptor",u:T.G(B)}}else if(q=="getList"){var B=z.u.v[e[0]];return{Ox:"ActionList",u:B}}else if(q=="getInteger"||q=="getDouble"){return z.u.v[e[0]].v}else console.log(q,e)}else if(z.Ox=="$"){if(q=="writeln"){console.log(e[0])}else throw q}else if(z.Ox=="UI"){if(q=="scroll"||q=="scrollTo"){var kg=e[0],jJ=e[1],iL=$.A.C7;
if(q=="scrollTo"){kg=(-$.s/2+kg)*iL+$.A.g.x;jJ=(-$.T/2+jJ)*iL+$.A.g.y}s.U=W.RJ;s.data={p:"scroll",Ew:new f5(Math.round(kg),Math.round(jJ))}}else{var bz;
if(q=="zoomIn"||q=="zoomOut"){bz={p:"zoom",pn:q=="zoomIn"}}else if(q=="fitTheArea"){bz={p:"adapt",u:"fitscr"}}else if(q=="pixelToPixel"){bz={p:"adapt",u:"pixel"}}s.U=W.OF;
s.data=bz;if(q=="switchFullscreen"){var ks=V.i.Rm,gr=document.fullscreenElement!=null==(ks==2);M.data={p:_.m.qr,u:ks==0?2:0,Mw:gr}}}}else if(z.Ox=="ColorSamplers"){if(q=="removeAll")$.EC=[];
else if(q=="add"){var hg={x:e[0][0],y:e[0][1]};$.EC.push(hg);var B={Ox:"ColorSampler",u:hg}}}else if(z.Ox=="ColorSampler"){if(q=="move"){var ci=$.EC.indexOf(z.u);
hg=$.EC[ci];hg.x=e[0][0];hg.y=e[0][1]}else if(q=="remove"){var ci=$.EC.indexOf(z.u);$.EC.splice(ci,1)}}else if(z.Ox=="PathItem"){if(q=="select"){$.o0=[$.yj.indexOf(z.u)];
$.y8=!0}else if(q=="remove"){s.U=W.RY;s.data={p:"pathedit",kE:"del"}}else console.log(q)}else if(z.Ox=="PathItems"){if(q=="add"){var fK=e[1],jN=hq.Hj(e[0]),I=jN.add.vmsk.B;
for(var n=0;n<fK.length;n++){var dD=fK[n],eF=dD.u.length;I.push({e:dD.qi?0:3,length:eF,xq:dD._v});for(var io=0;
io<eF;io++){if(!dD.qi)dD.u[io].e+=3;I.push(dD.u[io])}}s.U=W.RY;s.data={p:"pathedit",kE:"new",tT:jN};
V.K(s);return{Ox:"PathItem",u:jN}}else throw q}else if(z.Ox=="Folder"){if(q=="selectDialog")B="img";
else throw q}else if(z.Ox=="File"){if(q=="openDialog")alert("A website can not show the Open dialog from a script");
else throw q}else console.log(z,q,e);if(s.data)V.K(s);if(a.data)V.K(a);if(M.data)V.K(M);return B};ae.mt.lX=function(z,q,e){var V=new dW(_.E.z,!0);
V.U=W.qK;var P=new dW(_.E.zN,!0);if(e==0){ae.mt.avM=z.h;P.data=W.cn.Im(!0)}else{var D=ae.mt.avM;if(D)V.data={p:"setsel",JJ:"Restore Selection",h:{V:D.V.Y(),o:D.o.slice(0)}};
else P.data=W.cn.Im()}q.K(V.data?V:P)};ae.mt.avM=null;ae.mt.IN={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5,BRIGHTNESSCONTRAST:6,LEVELS:7,CURVES:8,EXPOSURE:9,VIBRANCE:10,HUESATURATION:11,COLORBALANCE:12,BLACKANDWHITE:13,PHOTOFILTER:14,CHANNELMIXER:15,LAYER3D:16,INVERSION:17,POSTERIZE:18,THRESHOLD:19,GRADIENTMAP:20,SELECTIVECOLOR:21},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},ChangeMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8},PointKind:{CORNERPOINT:0,SMOOTHPOINT:1},ShapeOperation:{SHAPEXOR:0,SHAPEADD:1,SHAPESUBTRACT:2,SHAPEINTERSECT:3},Direction:{HORIZONTAL:0,VERTICAL:1}};
ae.mt.IN.ColorBlendMode=ae.mt.IN.BlendMode;ae.mt.P$="---- SoLd TySh SoCo GdFl PtFl brit levl curv expA vibA hue2 blnc blwh phfl mixr clrL nvrt post thrs grdm selc".split(" ");
function lE(){}lE.By={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"xmp:Rating":[0,null],"xmp:Label":["",null],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:UserComment":["",37510],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
lE.eQ={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
lE.aqv=function(z,q){if(q==null)q={};var e=lE.eQ,V=[],P=[],D="";for(var n=0;n<z.length;n++){var B=z[n],A=e[B[0]+""];
if(A&&(q[A]==null||q[A]==""))q[A]=B[1];else if(B[0]==12)P.push(B[1]);else if(B[0]==25)V.push(B[1]);else if(B[0]==55)D=B[1];
else if(B[0]==60)D+=";"+B[1]}if(D!=""&&q["exif:DateTimeOriginal"]==null)q["exif:DateTimeOriginal"]=D;
if(P.length!=0&&q["Iptc4xmpCore:SubjectCode"]==null)q["Iptc4xmpCore:SubjectCode"]=P.join(";");if(V.length!=0&&q["dc:Keywords"]==null)q["dc:Keywords"]=V.join(";");
return q};lE.as1=function(z){var q=lE.eQ,e=[];for(var V in q)if(z[q[V]])e.push([parseInt(V),z[q[V]]]);
if(z["Iptc4xmpCore:SubjectCode"]){var P=z["Iptc4xmpCore:SubjectCode"].split(";");for(var n=0;n<P.length;
n++)e.push([12,P[n].trim()])}if(z["dc:Keywords"]){var P=z["dc:Keywords"].split(";");for(var n=0;n<P.length;
n++)e.push([25,P[n].trim()])}e.sort(function(D,B){return D[0]-B[0]});return e};lE.Cj=function(z,q){if(q==null)q={};
var e=new DOMParser,V=e.parseFromString(z,"image/svg+xml"),P=V.getElementsByTagName("rdf:Description")[0];
if(P==null)return q;var D=lE.By;for(var B in D){var A=[];if(D[B][2]){var s=D[B][2],a=P.getElementsByTagName(s)[0];
if(a==null)continue;var M=a.getElementsByTagName("rdf:li");for(var n=0;n<M.length;n++)A.push(M[n].textContent)}else if(P.getAttribute(B))A.push(P.getAttribute(B));
else continue;q[B]=A.join("; ")}return q};lE.CS=function(z){var q=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:photoshop=\"http://ns.adobe.com/photoshop/1.0/\" xmlns:tiff=\"http://ns.adobe.com/tiff/1.0/\" xmlns:exif=\"http://ns.adobe.com/exif/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\""],e=lE.By,V="";
for(var P in e){var D=z[P],B=e[P][2];if(D==null)continue;if(B){var A="Seq",s="";if(B=="dc:title"||B=="dc:description"){A="Alt";
s=" xml:lang=\"x-default\""}if(B=="dc:subject")A="Bag";q.push("\t<"+B+"><rdf:"+A+">");var a=B=="dc:subject"?D.split(";").join(",").split(","):[D];
for(var n=0;n<a.length;n++)q.push("\t\t<rdf:li"+s+">"+a[n].trim()+"</rdf:li>");q.push("\t</rdf:"+A+"></"+B+">")}else V+=" "+P+"=\""+D+"\""}q[3]+=V+">";
q.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");return q.join("\n")};
lE.aCh=function(z){var q=[];for(var n=0;n<z.length;n++)q[n]=z[n][1]==0?0:z[n][0]/z[n][1];return q};lE.af9=function(z){var q=[];
for(var n=0;n<z.length;n++){var e=z[n],V=1;if(e!=Math.round(e)){V=1e3;e=Math.round(e*V)}q[n]=[e,V]}return q};
lE.B0=function(z,q){var e=lE.By;if(q==null)q={};for(var V in e){var P=e[V][1],D="t"+P;if(P!=null&&z[D]!=null){var B=z[D];
if(P==0)B=B.join(".");else if(P==2||P==4){var A=z["t"+(P-1)];if(A==null)A=[P==2?"N":"E"];B=lE.aCh(B).join(",")+A[0]}else if(P==42034)B=lE.aCh(B).join(" ");
else if(P==270||P==315){if(B instanceof Uint8Array)B=y.vK(B);else{var s=B[0],a=new Uint8Array(s.length);
y.Wd(a,0,s);B=y.vK(a)}}else if(P==37510&&B instanceof Uint8Array){var s=y.vK(B);B=s.startsWith("ASCII")?s.slice(8):s}else B=B[0];
q[V]=B}}if(z.exifIFD)lE.B0(z.exifIFD,q);if(z.gpsiIFD)lE.B0(z.gpsiIFD,q);return q};lE.$y=function(z,q,e){var V=lE.By,D=0,A=0;
if(q==null)q={};var P={},B={};for(var s in V){if(z[s]==null||V[s][1]==null)continue;var a=V[s][1],M="t"+a,$=q;
if(s.startsWith("exif:")){$=P;D++;if(s.startsWith("exif:GPS")){$=B;A++}}var U=z[s];if(a==0)U=new Uint8Array(U.split(".").map(parseFloat));
else if(a==2||a==4){var o=U.length;$["t"+(a-1)]=[U.slice(U.length-1)];U=lE.af9(U.split(",").map(parseFloat))}else if(a==42034)U=lE.af9(U.split(" ").map(parseFloat));
else if(a==270||a==315){var t=y.GY(U);U=[y.JU(t,0,t.length)]}else if(a==37510)U=y.GY(U);else U=[U];$[M]=U}if(D!=0){q.exifIFD=P;
q.t34665=[0]}if(A!=0){q.gpsiIFD=B;q.t34853=[0]}var c=new Date,H=[c.getFullYear(),c.getMonth()+1,c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds()];
for(var n=0;n<6;n++)H[n]=(H[n]+"").padStart(2,"0");q.t305=["Photopea Editor (www.photopea.com)"];if(e!=!0)q.t306=[H[0]+":"+H[1]+":"+H[2]+" "+H[3]+":"+H[4]+":"+H[5]];
return q};function a_(){}a_.iA=function(z){var q={aCR:",",rt:"\r\n",apt:"\""},e=[[""]],V,P,D,B,A;for(V=P=D=B=0;
D<z.length;D++){switch(A=z.charAt(D)){case q.apt:if(B&&z.charAt(D+1)==q.apt){e[V][P]+=q.apt;++D}else{B^=1}break;
case q.aCR:if(!B){e[V][++P]=""}else{e[V][P]+=A}break;case q.rt.charAt(0):if(!B&&(!q.rt.charAt(1)||q.rt.charAt(1)&&q.rt.charAt(1)==z.charAt(D+1))){e[++V]=[""];
e[V][P=0]="";if(q.rt.charAt(1)){++D}}else{e[V][P]+=A}break;default:e[V][P]+=A}}if(e[e.length-1].length<e[0].length)e.pop();
return e};var J={};J.atN=0;J.s4=function(){J.atN++;return J.atN};J.ae8="uint8";J.xW=function(z){z.$.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
z.$.style.opacity="1";z.$.style.transform="scale(1)"};J.Dl=function(z,q){z.$.style.opacity="0";z.$.style.transform="scale(0.95)";
if(q)setTimeout(function(){q.removeChild(z.$)},100)};J.adZ=function(){var z=J.SO();if(z|| true) return 2; if(z!=J.Mh("_TXZRPB;d7@;")&&z!=jS.Mh("eQLZRRM?8a4=8")&&z!=jS.Mh("YMVVHAj=FA")){var q=J.PN[jS.y0][jS.bk],e=q.indexOf(String.fromCharCode(35)),V;
if(e==-1)return 0;try{V=JSON.parse(J.PN[jS.aMU](q.slice(e+1)))}catch(cz){return 0}var P=V[J.Mh("bQ[ODL<E<M")];
if(P==null||P.length<<2!=64)return 0;var D=jS.$e(),B=parseInt(P.slice(3*4).split("").reverse().join(""),16)<<16;
if(B<D||P!=jS.aGk(B,z))return 0;return 2}return 1};J.SO=function(){var z=J.PN[J.kc("}$z{2*35")][J.Mh("W[\\ZQAJ?")],q=String.fromCharCode(46),e=z.split(q);
if(e.length<2)return"";var V=e.pop();V=e.pop()+q+V;return V};J.Yo=function(z){var q=J.SO();if(lA.aY())return!0;
if((q==jS.Mh("_TXZRPB;d7@;")||q==jS.Mh("~yy")||true)&&J.PN==J.PN[jS.aBA])return!0;var e=J.PN[jS.y0][jS.bk],V=e.indexOf("#");
if(V!=-1&&V!=e.length-1&&(e[V+1]=="%"||e[V+1]=="{")){var P=e.substring(V+1,e.length);P=JSON.parse(J.PN[jS.aMU](P));
var D=P[jS.Mh("P\\RY")];if(D)if(z==0&&D[jS.Mh("aYKM")]||z==1&&D[jS.Mh("SQcMR")])return!0}return!1};J.a1U=function(){if(J.PN[jS.agq][jS.aim]){var z=new J.PN[jS.ny];
z[jS.Mb](jS.aiZ,J.Mh("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+J.SO());z[jS.XT]()}};J.GG=function(){if(window.top!=window.self)return!1;
var z=navigator.userAgent.toLowerCase();if(z.indexOf("firefox")!=-1&&cW==0)return!1;if(z.indexOf("safari")!=-1&&z.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null&&navigator.clipboard!=null};J.Qx=function(z){this.fz=z;this.Xq=J.k("img");
this.lN=J.k("canvas");this.oa=null;this.VF="";this.h7=null;this._n=new f5(0,0);this.a9P=!0;J.rq(this.fz,this.lo.bind(this))};
J.Qx.prototype.N_=function(z,q){this.oa=z;if(q)this.VF=q;this.lo()};J.Qx.prototype._w=function(z){this.a9P=z;
this.lo()};J.Qx.prototype.lo=function(z){if(z)this._n=J.fH(z,this.fz);var q=this.a9P?this.oa:"auto",e=typeof q=="string";
if(!e){var V=J.WU(),P=this._n,D=q.TP.s,B=q.TP.T,A=typeof q.Nm=="string",s=A?this.Xq:this.lN;if(A)s.setAttribute("src",q.Nm);
else{s.width=D;s.height=B;var a=s.getContext("2d"),M=new ImageData(new Uint8ClampedArray(q.Nm.buffer),D,B);
a.putImageData(M,0,0)}J.C(s," position:absolute; pointer-events:none;user-select:none;"+"top:"+(P.y-q.ZO.y/V)+"px; left:"+(P.x-q.ZO.x/V)+"px; width:"+D/V+"px; height:"+B/V+"px");
var $=this.h7;if($==null||$!=s){if($)this.fz.removeChild($);this.fz.appendChild(s);this.h7=s}}else if(this.h7){this.fz.removeChild(this.h7);
this.h7=null}J.C(this.fz,"cursor:"+(e?q:"none")+"; "+this.VF)};J.S8=function(z){return z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
J.DJ=function(z,q){z._D(iE.get([12,41]).charAt(0)+":");q._D(iE.get([12,42]).charAt(0)+":")};J.k=function(z,q){var e=document.createElement(z);
if(q!=null)e.className=q;return e};J._8=function(z){while(z.firstChild)z.removeChild(z.firstChild)};
J.d6=function(z,q){var e=z.className;e=e.split(" ");if(e.indexOf(q)==-1)e.push(q);z.className=e.join(" ")};
J.Pf=function(z,q){var e=z.className;if(e=="")return;e=e.split(" ");if(e.indexOf(q)!=-1)e.splice(e.indexOf(q),1);
z.className=e.join(" ")};J.H2=function(z){while(!0){if(z==document)return!0;if(z==null)return!1;z=z.parentNode}};
J.f9=function(z){z.appendChild(J.k("br"))};J.dh=function(z){z.appendChild(J.k("hr"))};J.C=function(hE,z){hE.setAttribute("style",z)};
J.Hy=function(z,q,e){var V=new ht([1,12,1],e==null?!0:e,null,!0);if(z)V.Q("click",z.En,z);if(q)q.appendChild(V.$);
return V};J.PN=document;J._A=function(z){var q=0;for(var n=0;n<z;n++)q+=Math.random();return q/z<Math.PI/4};
J.Mh=function(z){var q="";if(!J._A(28))z+="-3";for(var n=0;n<z.length;n++){var e=z.charCodeAt(n);if(e<32||126<e)throw"e";
q+=String.fromCharCode(32+(e-32+17+3*n)%95)}return q};J.kc=function(z){var q="";if(!J._A(28))z+="-1";
for(var n=0;n<z.length;n++){var e=z.charCodeAt(n);e-=32;e+=95e4;e-=17+3*n;e=e%95;q+=String.fromCharCode(32+e)}return q};
J.cy=function(z){var q=Math.random();J.ae8="uint"+(3+q);return new z};(function(){var z=window.PointerEvent,q=z?"pointer":"mouse",e=q+"down",V=q+"move",P=q+"up",D=!1;
J.Br=function(B,A){B.addEventListener(e,A,D);if(!z)B.addEventListener("touchstart",A,D)};J.rq=function(B,A){B.addEventListener(V,A,D);
if(!z)B.addEventListener("touchmove",A,D)};J.KE=function(B,A){B.addEventListener(P,A,D);if(!z)B.addEventListener("touchend",A,D)};
J.a8m=function(B,A){B.removeEventListener(e,A,D);if(!z)B.removeEventListener("touchstart",A,D)};J.TT=function(B,A){B.removeEventListener(V,A,D);
if(!z)B.removeEventListener("touchmove",A,D)};J.N$=function(B,A){B.removeEventListener(P,A,D);if(!z)B.removeEventListener("touchend",A,D)}}());
J.sB=function(z){z.addEventListener("touchstart",J.AZ,!1);z.addEventListener("touchmove",J.AZ,!1);z.addEventListener("touchend",J.AZ,!1);
z.addEventListener("gesturestart",J.AZ,!1);z.addEventListener("gesturechange",J.AZ,!1);z.addEventListener("gestureend",J.AZ,!1)};
J.aCN=function(z){var q=z.sourceCapabilities;if(q)return q.firesTouchEvents;return!1};J.rw=function(z,q,e,V){var P=J.WU();
z.width=Math.floor(q*P);z.height=Math.floor(e*P);if(V)V.scale(P,P);J.kr(z)};J.kr=function(z){var q=J.WU();
z.style.width=z.width/q+"px";z.style.height=z.height/q+"px"};J.Ux=function(z,q,e){z.style.width=q/J.WU()+"px";
z.style.height=e/J.WU()+"px"};J.fH=function(z,q){if(q==null)q=z.currentTarget;var e=q.getBoundingClientRect();
if(z.touches)z=z.touches.item(0);return{x:z.clientX-e.left,y:z.clientY-e.top}};J.WU=function(){return window.devicePixelRatio||1};
J.Ur=function(z){z.addEventListener("keydown",J.aGQ,!1)};J.aGQ=function(z){if(!cz.Kz(z.code,cz.mh))z.stopPropagation()};
J.anv=function(z){z.stopPropagation()};J.AZ=function(z){z.preventDefault()};J.oC=function(z){z.stopPropagation();
z.preventDefault()};J.GP=function(z,q,e){e=e?e:"";if(PIMG["__"+z]==null)e+=" gsicon";var V=PIMG[z]?PIMG[z]:z;
return"<img src=\""+V+"\" alt=\""+(q?q:"")+"\" class=\""+e+"\" />"};J.PU=function(z,q,e,V){var P=z.dataTransfer.getData("text/uri-list");
if(P!=null&&P.startsWith("http")){var D=new dW(_.E.b,!0);D.data={p:_.m.ge,Lh:{url:P,MP:!0,P5:e,xK:V}};
q.K(D)}if(z.dataTransfer.files.length==0)return;if(J.gA()){var B=[],A=z.dataTransfer.items.length,s=z.dataTransfer.files;
for(var a of z.dataTransfer.items)a.getAsFileSystemHandle().then(function(M){if(M!=null&&M.kind=="directory"){A--;
alert("You can't load folders.")}else B.push(M);if(B.length==A&&A!=0){var D=new dW(_.E.b,!0);D.data={p:_.m.Jd,data:s,P5:e,xK:V,aJd:B};
q.K(D)}})}else{var D=new dW(_.E.b,!0);D.data={p:_.m.Jd,data:z.dataTransfer.files,P5:e,xK:V};q.K(D)}};
J.gA=function(){var z=navigator.platform;if(z.startsWith("Linux arm"))return null;return window.showOpenFilePicker};
if(J._A(27))J.PN=window;else J.PN=J.aPB;J.PN._cwY=J.PN[J.kc("t$&!'31")];var bt={};bt.a1j=function(n){var z=bt.Jx[n],q=document.documentElement.style,V=1;
q.setProperty("--base","#"+T.R0(z["--base"]));q.setProperty("--bg-panel","#"+T.R0(z["--bg-panel"]));
q.setProperty("--bg-canvas","#"+T.R0(z["--bg-canvas"]));q.setProperty("--bg-input","#"+T.R0(z["--bg-input"]));
q.setProperty("--bg-bbtn","#"+T.R0(z["--bg-bbtn"]));q.setProperty("--bg-bbtnOver","#"+T.R0(z["--bg-bbtnOver"]));
q.setProperty("--brdr","#"+T.R0(z["--brdr"]));q.setProperty("--text-color","#"+T.R0(z["--text-color"]));
q.setProperty("--brdrLgt","rgba(255,255,255,"+z["--brdrLgt"]+")");q.setProperty("--brdrDrk","rgba(  0,  0,  0,"+z["--brdrDrk"]+")");
q.setProperty("--alphaDark",""+z["--alphaDark"]);q.setProperty("--gs-invert",""+z["--gs-invert"]);q.setProperty("--accent","#"+T.R0(z["--accent"]));
var e=z["--sh-clr"];q.setProperty("--sh-clr","rgba("+(e>>16)+","+(e>>8&255)+","+(e&255)+", 0.45)");q.setProperty("--absc",""+z["--absc"]);
q.setProperty("--abs255",""+z["--abs255"]);if(1<J.WU()&&J.WU()<1.5)V=1/J.WU();q.setProperty("--img20",20*V+"px");
q.setProperty("--img18",18*V+"px");q.setProperty("--img15",15*V+"px");if(PIMG!=null){var P="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var n=0;n<P.length;n++){var D=P[n],B=D.split("/").pop(),A=PIMG["__"+D]==null?z["--gs-invert"]:"0";
q.setProperty("--icon_"+B,"url("+PIMG[D]+")");q.setProperty("--icon_"+B+"_invrt",A)}}var s=document.querySelector("meta[name=theme-color]");
if(s)s.setAttribute("content","#"+T.R0(z["--base"]))};(function(){var z=3441398,q=3441398;bt.Jx=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":q},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":z},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2435637,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":z},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":z},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":z},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":z},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":q}]}());
function cx(){this.af={};this.rV={}}cx.prototype.apY=function(z){var q=this.af[z];if(q==null)return!1;
return q.length>0};cx.prototype.addEventListener=function(z,q){this.Q(z,q,null)};cx.prototype.Q=function(z,q,e){if(this.af[z]==null){this.af[z]=[];
this.rV[z]=[]}this.af[z].push(q);this.rV[z].push(e)};cx.prototype.removeEventListener=function(z,q){var e=this.af[z];
if(e==null)return;var V=e.indexOf(q);if(V<0)return;var P=this.rV[z];e.splice(V,1);P.splice(V,1)};cx.prototype.K=function(z){z.currentTarget=this;
if(z.target==null)z.target=this;var q=this.af[z.e];if(q==null)return;var e=this.rV[z.e];for(var n=0;
n<q.length;n++){if(e[n]==null)q[n](z);else q[n].call(e[n],z)}};var dW=function(z,q){if(!q)q=!1;this.e=z;
this.target=null;this.currentTarget=null;this.bubbles=q;this.U=null;this.Hf=!1},_={E:{z:"0",b:"1",zN:"1.5",f:"2",un:"3",aqa:"4"},m:{Zd:"10",wL:"11",T8:"12",_G:"13",XL:"14",at1:"14.1",ge:"15",Bd:"16",IB:"17",u9:"18",UL:"19",asC:"19.5",Ny:"20",awU:"20.1",aC8:"20.5",arb:"20.6",q1:"21",K$:"22",AW:"23",Qp:"24",wa:"25",RB:"26",Mk:"27",z$:"28",ax1:"28.5",aNt:"29",Jd:"30",uB:"31",Kb:"32",dt:"33",R9:"34",Ln:"35",aoP:"35.5",I3:"37",axV:"38",lu:"39",Rx:"40",Lo:"41",rj:"41.5",gS:"42",rf:"43",ayT:"43.5",zd:"44",ajU:"45",b4:"46",SX:"47",J$:"48",g8:"49",aL6:"50",qr:"51",D$:"52",e0:"53",KC:"54",KA:"55"}};
function gq(){cx.call(this);this.parent=null;this.$=null;this.xL=0;this.Hi=0;this.a3g=!1}gq.prototype=new cx;
gq.prototype.awV=function(z){var hE=this;while(hE!=null){if(hE==z)return!0;hE=hE.parent}return!1};gq.prototype.Kr=function(){var z=this.$;
return z.offsetWidth+z.clientLeft};gq.prototype.gX=function(){var z=this.$;return z.offsetHeight+z.clientTop};
gq.prototype.update=function(z){};gq.prototype.K=function(z){cx.prototype.K.call(this,z);if(z.bubbles&&this.parent!=null)this.parent.K(z)};
gq.prototype.W=function(){};gq.prototype.hh=function(z,q){};gq.prototype.QU=function(z){J.d6(this.$,"disabled")};
gq.prototype.oR=function(z){J.Pf(this.$,"disabled")};gq.prototype._w=function(z){if(z)this.oR();else this.QU()};
gq.prototype.cp=function(){this.a3g=!0};gq.prototype.s6=function(){var z=this.eE,q=this.a3g,e=this.CR;
if(z){z=iE.get(this.eE);if(!q)z+=":";e.textContent=z;if(q){e.style.display="block";e.style.lineHeight="1.6em";
e.style.marginLeft="3px";J.Pf(e,"flabel")}}if(q){if(this.K4)this.K4.style.fontSize="1.15em"}};function cs(z){gq.call(this);
this.zC=[];this.aP4=!1;this.ak9=0;this.GC={x:0,y:0,_W:!1};this.IE=z;this.a1i=this.O3.bind(this);this.Px=this.Qh.bind(this);
this.lF=this.lG.bind(this);J.Br(z,this.a1i);J.rq(z,this.Px);z.addEventListener("wheel",this.oc.bind(this),!1);
z.addEventListener("contextmenu",this.a7P.bind(this),!1);var q=this.aJG.bind(this);z.addEventListener("gesturestart",q,!1);
z.addEventListener("gesturechange",q,!1);z.addEventListener("gestureend",q,!1);J.sB(z)}cs.prototype=new gq;
cs.prototype.aJG=function(z){if(z.type=="gesturestart")this.gN=z.scale;if(z.type=="gesturechange"){var q=new dW("mouse",!0);
q.action="scroll";q.BZ=!0;this.Wi(z,q);var e=(this.gN-z.scale)/this.gN;q.Ew=new f5(0,100*e);this.gN=z.scale;
this.K(q)}};cs.prototype.yp=function(z){var q=-1,e=this.zC;for(var n=0;n<e.length;n++)if(e[n].pointerId==z.pointerId)q=n;
return q};cs.mG=function(z){var q=z.pointerType,e=window.__kb;return q=="touch"&&e.t(cz.a8L)};cs.asW=function(z){var q=z.button!=null&&z.button!=0?z.which==2?"i":"r":"";
if(cz.Di()&&z.ctrlKey)q="r";return q};cs.prototype.O3=function(z){if(cs.mG(z))return;var q=this.yp(z);
if(q!=-1)this.zC[q]=z;else this.zC.push(z);if(this.zC.length==1){this.ak9=Date.now();var e=cs.asW(z)+"down",V=new dW("mouse",!0);
V.action=e;this.Wi(z,V);this.K(V);J.TT(this.IE,this.Px);J.rq(window,this.Px);J.KE(window,this.lF)}if(this.zC.length==2){if(Date.now()-this.ak9<100){var V=new dW("mouse",!0);
V.action="cancellast";this.Wi(z,V);this.K(V)}this.aP4=!0}if(this.zC.length==2)this.aap("multidown")};
cs.prototype.Qh=function(z){if(cs.mG(z))return;var q=this.yp(z);if(q!=-1)this.zC[q]=z;if(this.zC.length>1){this.aap("multimove")}if(this.aP4)return;
if(this.zC.length==1&&q==-1)return;var e=new dW("mouse",!0);e.action="move";this.Wi(z,e);this.K(e)};
cs.prototype.lG=function(z){if(cs.mG(z))return;var q=this.zC;q=this.zC=[];if(q.length==0){var e=cs.asW(z)+"up",V=new dW("mouse",!0);
V.action=e;this.Wi(z,V);this.K(V);J.TT(window,this.Px);J.N$(window,this.lF);J.rq(this.IE,this.Px);this.aP4=!1}};
cs.prototype.oc=function(z){z.preventDefault();if(z.deltaX==0&&z.deltaY==0)return;var q=new dW("mouse",!0);
q.action="scroll";q.BZ=z.ctrlKey;this.Wi(z,q);this.K(q)};cs.prototype.a7P=function(z){J.oC(z);if(J.aCN(z)){var q=new dW("mouse",!0);
this.Wi(z,q);q.action="rdown";this.K(q);q.action="rup";this.K(q)}};cs.prototype.aap=function(z){var q=this.zC,e=J.WU(),V=[];
for(var n=0;n<q.length;n++){var P=V[n]=J.fH(q[n],this.IE);P.x*=e;P.y*=e}var D=new dW("mouse",!0);D.action=z;
D.uL=V;if(q.length==2)this.K(D)};cs.prototype.Wi=function(z,q,e){var V=this.zC.length!=0;if(q.action!="up"){var P=J.WU();
if(e==null)e=J.fH(z,this.IE);this.GC=q.BW={x:P*e.x,y:P*e.y,_W:V};var D=J.fH(z,document.body);q.BW.Go=D.x;
q.BW.x5=D.y}else this.GC=q.BW={x:this.GC.x,y:this.GC.y,_W:V};q.BW.HJ=.5;if(z.pressure!=null)q.BW.HJ=z.pressure;
if(z.pointerType=="mouse")q.BW.HJ*=2;q.BW.a5Y=z.pointerType;if(z.deltaX!=null){var B=z.deltaX;if(z.deltaMode==0&&Math.abs(B%100)<1e-9)B/=100;
var A=z.deltaMode==0?1:40;q.Ew=new f5(B*A,z.deltaY*A)}};function gu(z,q,e){gq.call(this);this.Sk=null;
this.aHJ=this.lG.bind(this);this.atE=this.zP.bind(this);this.aJ8=this.agg.bind(this);this.au0=this.aMt.bind(this);
this.Fl=[];this.uY=[];this.d7=[];this.azA=[];this.aze=e;this.$=J.k("div","contextpanel "+(e?"cp_dark":"cp_light"));
this.$.addEventListener("contextmenu",J.AZ,!1);this.t8=null;this.aga=0;this.gJ=z;this.zX=q;this.Mn=[];
for(var n=0;n<z.length;n++){var V=J.k("div","enab");this.uY.push(V);this.$.appendChild(V);var P=z[n].rR;
if(P){if(P.startsWith("#")){var D=J.k("span");J.C(D,"display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+P);
V.appendChild(D)}else V.innerHTML=J.GP(z[n].rR,null,"thumb")}else{var B=J.k("span","check");this.azA.push(B);
V.appendChild(B)}var A=J.k("span","label");A.textContent=iE.get(z[n].name);V.appendChild(A);this.d7.push(A);
if(z[n].tL)this.$.appendChild(J.k("hr"));if(z[n].r0||z[n].sub){var s=V.uh=J.k("span","right");V.appendChild(s);
if(z[n].r0)s.textContent=cz.L6(z[n].r0);else if(z[n].sub)s.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}V.addEventListener(e?"mouseup":"click",this.aHJ,!1);
V.addEventListener("mouseover",this.atE,!0);V.addEventListener("mouseout",this.aJ8,!0);if(z[n].sub){var a=new gu(z[n].sub,q?q[n].sub:null);
a.parent=this;this.Mn.push(a);a.Q("select",this.a3z,this)}else this.Mn.push(null)}}gu.prototype=new gq;
gu.prototype.a0Q=function(z){J._8(this.$);for(var n=0;n<z.length;n++)if(z[n]!=0&&z[n]!=null){this.$.appendChild(this.uY[n]);
if(z[n]!=1&&this.Mn[n])this.Mn[n].a0Q(z[n])}};gu.prototype.W=function(){var z=this.gJ;for(var n=0;n<z.length;
n++){if(z[n].title)this.uY[n].title=iE.get(z[n].title);this.d7[n].textContent=iE.get(z[n].name)+(z[n].o$?"...":"")}for(var n=0;
n<this.Mn.length;n++)if(this.Mn[n])this.Mn[n].W()};gu.prototype.update=function(z,q){if(!this.aze){this.$.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var e=this.gJ,V=window.innerWidth<450?"none":"inline";
for(var n=0;n<e.length;n++){var P=this.uY[n];if(P.uh&&!this.Mn[n])P.uh.style.display=V;if(e[n].d){var D=e[n].d(z,q,n);
if(D.d!=null)this.uY[n].className=D.d?"enab":"disab";if(D.HK!=null)this.d7[n].textContent=D.HK;if(D.yc!=null)this.azA[n].innerHTML=D.yc?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(D.M!=null)this.zX[n]=D.M}}for(var n=0;n<this.Mn.length;n++)if(this.Mn[n])this.Mn[n].update(z,q)};
gu.prototype.Gv=function(){return this.Fl};gu.prototype.lG=function(z){if(z.button!=0)return;var n=this.uY.indexOf(z.currentTarget);
if(this.Mn[n]){this.aga=n;this.aMt()}else{if(this.zX){var q=this.zX[n],e=new dW(q.N,!0);e.U=q.U;e.data=q.M;
this.K(e)}this.Sk=null;this.Fl=[n];this.K(new dW("select",!1));var e=new dW(_.E.b,!0);e.data={p:_.m._G};
this.K(e)}};gu.prototype.zP=function(z){var n=this.uY.indexOf(z.currentTarget);this.DF();this.aga=n;
this.t8=setTimeout(this.au0,300)};gu.prototype.agg=function(z){this.DF()};gu.prototype.DF=function(){if(this.t8){clearTimeout(this.t8);
this.t8=null}};gu.prototype.aMt=function(){this.DF();var n=this.aga;if(this.Sk)this.Sk.avW();if(this.Mn[n]==null)return;
this.Sk=this.Mn[n];var z=this.uY[n].getBoundingClientRect(),q=new dW(_.E.b,!0);q.data={p:_.m.wL,MR:this.Mn[n],x:z.left+z.width+2,y:z.top};
this.K(q)};gu.prototype.avW=function(){for(var n=0;n<this.Mn.length;n++)if(this.Mn[n])this.Mn[n].avW();
var z=new dW(_.E.b,!0);z.data={p:_.m.T8,MR:this};this.K(z)};gu.prototype.a3z=function(z){var n=this.Mn.indexOf(z.target);
this.Fl=[n].concat(z.target.Gv());this.K(new dW("select",!1))};function iP(z,q,e){gq.call(this);this.$=J.k("span","fitem cbox");
if(q==null)q=!0;if(e==null)e="flabel";var V="cb"+J.s4();this.K4=J.k("input","");this.K4.setAttribute("type","checkbox");
this.K4.setAttribute("id",V);this.$.appendChild(this.K4);this.eE=z;this.C4=J.k("label",e);if(q)this.C4.setAttribute("for",V);
this.$.appendChild(this.C4);this.W();this.K4.addEventListener("change",this.Qu.bind(this),!1)}iP.prototype=new gq;
iP.prototype.api=function(){return this.eE};iP.prototype._D=function(z){this.C4.textContent=z};iP.prototype.W=function(){var z=this.eE;
if(typeof z=="string"&&z.startsWith("<"))this.C4.innerHTML=z;else this.C4.textContent=iE.get(z)};iP.prototype.IM=function(){this.K4.checked=!0};
iP.prototype.Mu=function(){this.K4.checked=!1};iP.prototype.Iv=function(){return this.K4.checked};iP.prototype.a=function(z){this.K4.checked=z};
iP.prototype.r=iP.prototype.Iv;iP.prototype.Qu=function(z){this.K(new dW(_.E.f,!1))};function ij(z,q){gq.call(this);
this.eE=z;this.$=J.k("span","labelitem fitem"+(q?" spread":""));this.W()}ij.prototype=new gq;ij.prototype.a=function(z){this.$.textContent=z};
ij.prototype.r=function(){return this.$.textContent};ij.prototype.oR=function(){this.$.removeAttribute("disabled")};
ij.prototype.QU=function(){this.$.setAttribute("disabled","")};ij.prototype._D=function(z){this.$.textContent=z};
ij.prototype.W=function(){this.$.textContent=iE.get(this.eE)};ij.prototype.api=function(){return this.eE};
function ht(z,q,e,V,P){gq.call(this);this.fk=!1;this.$=J.k("button","fitem"+(q?" spread":"")+(V?" bbtn":""));
this.eE=z;this.VE=e;this.W();var D=P&&window.PointerEvent?"pointerup":"click";this.$.addEventListener(D,this.$c.bind(this),!1)}ht.prototype=new gq;
ht.prototype.W=function(){var z=this.$,q=this.eE,e=this.VE;if(typeof q=="string"&&(q.startsWith("<img")||q.startsWith("<svg")||q.startsWith("<span"))){if(!this.fk){z.innerHTML=q;
J.C(z,"padding:2px");this.fk=!0}}else z.textContent=iE.get(q);if(e){z.setAttribute("title",iE.get(e))}};
ht.prototype.aiA=function(z){this.$.setAttribute("title",z)};ht.prototype.$c=function(z){this.K(new dW("click",!1))};
ht.prototype.IM=function(){J.d6(this.$,"bactive")};ht.prototype.Mu=function(){J.Pf(this.$,"bactive")};
ht.prototype._D=function(z,q){if(z&&z!=this.eE){this.eE=z;this.fk=!1}if(q)this.VE=q;this.W()};ht.prototype.a=function(z){if(z)this.IM();
else this.Mu()};ht.prototype.Iv=function(){return this.$.getAttribute("class").indexOf("bactive")!=-1};
ht.prototype.r=function(){return this.Iv()};function eE(z,q,e,V,P){gq.call(this);var D=J.s4();this.$=J.k("span","fitem tinput");
if(e==-1)this.$.style.width="100%";if(z){this.eE=z;this.CR=J.k("label","flabel");this.$.appendChild(this.CR);
this.CR.setAttribute("for",D);this.W()}if(P){this.K4=J.k("span")}else if(V==null){this.K4=J.k("input");
this.K4.setAttribute("type","text")}else this.K4=J.k("textarea","scrollable");this.K4.setAttribute("id",D);
if(e)J.C(this.K4,"width:"+(e==-1?"100%;":e+"em;")+(P?" display:inline-block; margin-left:6px;":""));
if(V)this.K4.setAttribute("rows",V);this.$.appendChild(this.K4);if(q){this.rr=J.k("span");this.rr.textContent=q;
this.rr.style.marginLeft="2px";this.$.appendChild(this.rr)}J.Ur(this.K4);cz.QV(this.K4);this.K4.addEventListener("change",this.Qu.bind(this),!1);
this.K4.addEventListener("input",this.aEr.bind(this),!1);if(V==null)this.K4.addEventListener("keyup",this.QN.bind(this),!1)}eE.prototype=new gq;
eE.prototype.W=function(){this.s6()};eE.prototype.QN=function(z){var q=cz.Kz(z.code,cz.Nf),e=cz.Kz(z.code,cz.JN);
if(e||q)this.K4.blur()};eE.prototype._D=function(z){this.CR.textContent=z};eE.prototype.a=function(z){var q=this.K4,e=z==null?"":z,V=q.tagName=="SPAN";
if(V){q.textContent=" "+e;if(this.rr)q.appendChild(this.rr)}else q.value=e};eE.prototype.aiq=function(z){this.rr.textContent=z};
eE.prototype.r=function(){return this.K4.value};eE.prototype.DU=function(){this.K4.select();this.K4.focus()};
eE.prototype.Qu=function(z){this.K(new dW(_.E.f,!1))};eE.prototype.aEr=function(z){this.K(new dW("input",!1))};
function hF(z,q,e,V,P,D,B,A,s){gq.call(this);if(P==null)P=0;this.$=J.k("span","fitem");var a=J.s4();
this.eE=z;this.VE=A;this.oa=0;this.aDT=s;this.qG=q;this.R$=e;this.amF=null;if(V instanceof Array){this.amF=V;
V=V[0]}this.O9=V;this.BG=P;this.awZ=D;this.aP=B;this.i3=0;this.CR=J.k("label","flabel");this.CR.setAttribute("for",a);
J.C(this.CR,"cursor:col-resize;");this.ey=J.k("input","slider");this.ey.setAttribute("type","range");
if(B){this.ey.min=0;this.ey.max=400}else{this.ey.min=q;this.ey.max=e;if(P!=0)this.ey.step=(e-q)/200}this.K4=J.k("input");
this.K4.setAttribute("type","text");this.K4.setAttribute("id",a);this.K4.setAttribute("inputmode","numeric");
this.rr=J.k("span");this.rr.textContent=V;J.Ur(this.K4);cz.QV(this.K4);this.aED=!1;this.K4.addEventListener("mousedown",function(M){var n=M.target;
this.aED=n.selectionStart!=n.selectionEnd}.bind(this),!1);this.K4.addEventListener("change",this.Qu.bind(this),!1);
this.K4.addEventListener("keydown",this.e3.bind(this),!1);this.K4.addEventListener("keyup",this.QN.bind(this),!1);
this.K4.addEventListener("wheel",this.oc.bind(this),!1);this.ey.addEventListener("input",this.Qu.bind(this),!1);
if(s)this.ey.addEventListener("change",this.Qu.bind(this),!1);this.ey.addEventListener("click",this.afv.bind(this),!1);
this.an9=this.aeR.bind(this);this.a5Z=this.ajp.bind(this);this.aA3=this.aCQ.bind(this);this.My=0;this.cd=0;
this.a4W=!1;J.Br(this.CR,this.an9);J.sB(this.CR)}hF.prototype=new gq;hF.prototype.ke=function(z){this.BG=z};
hF.prototype._D=function(z){this.CR.style.display=z?"inherit":"none";if(z)this.CR.textContent=iE.get(z)};
hF.prototype.W=function(){var hE=this.eE,z=this.VE;if(hE){if(typeof hE=="string"&&hE.startsWith("<"))this.CR.innerHTML=hE;
else this.s6()}if(z){z=iE.get(z);if(hE)this.CR.setAttribute("title",z);this.K4.setAttribute("title",z)}};
hF.prototype.a=function(z,q){var e=this.qG==this.R$,P;if(!e&&this.qG>=0)z=Math.max(this.qG,z);if(this.BG==0)z=Math.round(z);
var V=this.O9;this.oa=z;this.K4.value=parseFloat(this.BG!=0?z.toFixed(this.BG):z)+(this.awZ&&V?(V.toLowerCase()==V.toUpperCase()?"":" ")+V:"");
if(-this.qG==this.R$)P=200+Math.sign(z)*200*Math.pow(Math.abs(z)/this.R$,1/2.7);else P=400*Math.pow((z-this.qG)/(this.R$-this.qG),1/2.7);
this.ey.value=this.aP?P:z;if(q)this.GT()};hF.prototype.r=function(){var z=this.oa;if(isNaN(z))z=0;return z};
hF.prototype.UJ=function(){return this.O9};hF.prototype.Qu=function(z){var q=0;if(z.currentTarget==this.K4){var e=z.target.value,V=0;
if(e=="")q=0;else if(this.O9){q=parseFloat(e)}else{try{q=eval(e)}catch(z){q=1}}if(isNaN(q))q=0;while(V<e.length&&(e.charAt(V)=="."||48<=e.charCodeAt(V)&&e.charCodeAt(V)<=57))V++;
var P=e.slice(V).trim();if(this.amF&&this.amF.indexOf(P)!=-1)this.O9=P}else{if(Date.now()-this.i3<10)return;
q=parseFloat(z.target.value);if(this.aP){if(-this.qG==this.R$)q=Math.sign(q-200)*Math.pow(Math.abs(q-200)/200,2.7)*this.R$;
else q=this.qG+Math.pow(q/400,2.7)*(this.R$-this.qG);q=this.aPw(q)}}this.a(q);if(z.type=="input"&&this.aDT)return;
this.GT()};hF.prototype.GT=function(){this.K(new dW(_.E.f))};hF.prototype.aPw=function(z){if(this.R$-this.qG>50&&z>10)z=Math.round(z);
return z};hF.prototype.e3=function(z){var q=0;if(cz.Kz(z.code,cz.CM))q=1;if(cz.Kz(z.code,cz.P3))q=-1;
if(q!=0)this.anM(q,z.shiftKey)};hF.prototype.QN=function(z){var q=cz.Kz(z.code,cz.Nf),e=cz.Kz(z.code,cz.JN);
if(q)this.a(this.r());if(e||q)this.K4.blur()};hF.prototype.oc=function(z){this.anM(z.deltaY>0?-1:1,z.shiftKey)};
hF.prototype.anM=function(z,q){var e=this.r(),V=this.BG,P=z*(V==null||V==0||e>5?1:.1);if(q)P*=10;var D=e+P;
if(!this.aP&&this.R$!=this.qG)D=Math.min(this.R$,D);this.a(D);this.GT()};hF.prototype.afv=function(z){var q=Date.now()-this.i3;
this.i3=Date.now();if(q>200)return;var e=this.qG,V=this.R$,P=(e+V)/2;if(e<1&&V>1&&V<10)P=1;else if(-e==V)P=0;
else if(e<90&&V>110)P=100;else if(e<0&&V>0)P=0;this.a(P);this.GT()};hF.prototype.aeR=function(z){J.rq(document,this.a5Z);
J.KE(document,this.aA3);this.My=J.fH(z,document.body).x;this.cd=this.r()};hF.prototype.ajp=function(z){J.oC(z);
var q=this.qG==this.R$,e=J.fH(z,document.body).x,V=(e-this.My)*(q?1:1/120*(this.R$-this.qG)),P=this.cd+V;
if(q)P=Math.round(P);if(!q){if(!0){P=Math.max(this.qG,P);if(P==this.qG){this.My=e;this.cd=this.qG}}if(!this.aP){P=Math.min(this.R$,P);
if(P==this.R$){this.My=e;this.cd=this.R$}}P=this.aPw(P)}this.a4W=!0;this.a(P);if(!this.aDT)this.GT()};
hF.prototype.aCQ=function(z){if(!this.a4W)this.K4.focus();this.a4W=!1;if(this.aDT)this.GT();J.TT(document,this.a5Z);
J.N$(document,this.aA3)};hF.prototype.DU=function(){this.K4.select();this.K4.focus()};function gO(z,q,e,V,P,D,B,A,s,a){hF.call(this,z,q,e,V,P,!0,D,s,a);
J.d6(this.$,"rangedropinput");this.$.appendChild(this.CR);J.C(this.K4,"width:"+(A?A:3.3)+"em");this.$.appendChild(this.K4);
this.abJ=J.k("span","rangecontFloat");this.abJ.appendChild(this.ey);this.aDe=J.k("button");this.aDe.textContent="\u25BC";
J.Br(this.aDe,this.aLc.bind(this));if(B!=!0)this.$.appendChild(this.aDe);this.XO=new gq;this.XO.$=this.abJ}gO.prototype=new hF;
gO.prototype.aLc=function(z){if(J.H2(this.XO.$))return;z.stopPropagation();var q=this.$.getBoundingClientRect();
J.C(this.ey,"width:"+q.width+"px;");var e=new dW(_.E.b,!0);e.data={p:_.m.wL,MR:this.XO,x:q.left-10,y:q.top+q.height};
this.K(e)};function hH(z,q,e,V,P,D){hF.call(this,z,q,e,V,P,!1,D);this.$.appendChild(this.CR);var B=J.k("span");
this.$.appendChild(B);B.appendChild(this.ey);this.$.appendChild(this.K4);J.C(this.K4,"width:3.3em");
if(this.O9)this.$.appendChild(this.rr)}hH.prototype=new hF;function aJ(z,q,e,V,P,D,B,A){hF.call(this,z,q,e,V,P,!0,D,null,B);
J.d6(this.$,"trangeinput");this.$.appendChild(this.CR);this.$.appendChild(this.K4);var s=J.k("span");
if(A!=!0)this.$.appendChild(s);s.appendChild(this.ey)}aJ.prototype=new hF;function cr(z,q,e,V){gq.call(this);
if(!q)return;this.f8=0;this.eE=z;this.aBU=V;this.eQ=null;this.Uh=e;this.sY=[];var P="dd"+J.s4();this.$=J.k("span","fitem ddmenu");
if(z){this.CR=J.k("label","flabel");this.$.appendChild(this.CR);this.CR.setAttribute("for",P)}this.K4=J.k("select");
cz.QV(this.K4);this.K4.setAttribute("id",P);this.$.appendChild(this.K4);this.K4.addEventListener("change",this.Qu.bind(this),!1);
function D(B){var A=0;if(cz.Kz(B.code,cz.CM))A=1;if(cz.Kz(B.code,cz.P3))A=-1;if(A!=0)B.stopPropagation()}this.K4.addEventListener("keydown",D,!1);
this.K4.addEventListener("keyup",D,!1);this.az=[];this.ti=null;this.jl(q,e);this.W()}cr.prototype=new gq;
cr.prototype._D=function(z){this.eE=z;this.W()};cr.prototype.W=function(){this.s6();if(this.ti)this.jl(this.ti,this.Uh);
if(this.aBU)this.K4.setAttribute("title",iE.get(this.aBU));this.a(this.f8)};cr.prototype.r=function(){return this.f8};
cr.prototype.jl=function(z,q){J._8(this.K4);var e=[],V=0;if(q){e.push(q[0]);for(var n=1;n<q.length;n++)e.push(e[n-1]+q[n])}this.ti=z;
this.eQ=[];this.Uh=q;for(var n=0;n<z.length;n++){var P=J.k("option");if(this.sY.indexOf(n)!=-1)P.setAttribute("disabled","");
P.textContent=iE.get(z[n]);P.setAttribute("value",n);this.K4.appendChild(P);this.az.push(P);this.eQ.push(n+V);
if(e.indexOf(n+1)!=-1&&n!=z.length-1){var D=J.k("option");D.setAttribute("disabled","");D.textContent="";
this.K4.appendChild(D);V++}}};cr.prototype.ayK=function(n){var z=this.sY,q=z.indexOf(n);if(q==-1)z.push(n);
this.W()};cr.prototype.aJB=function(n){var z=this.sY,q=z.indexOf(n);if(q!=-1)z.splice(q,1);this.W()};
cr.prototype.arR=function(z){this.sY=z;this.W()};cr.prototype.a=function(z){this.f8=z;this.K4.selectedIndex=this.eQ[z]};
cr.prototype.Qu=function(z){this.f8=this.eQ.indexOf(this.K4.selectedIndex);this.K(new dW(_.E.f,!1))};
cr.prototype.DU=function(){this.K4.focus()};function eD(z,q,e,V,P){gq.call(this);if(!q)return;this.f8=0;
this.aqm=V;this.a0G=P;this.$=J.k("span","fitem bbmenu");this.CR=J.k("label","flabel");if(z){this.eE=z;
this.CR.textContent=z+":";this.$.appendChild(this.CR)}this.az=[];this.gb=J.k("span");this.$.appendChild(this.gb);
this.ti=null;this.jl(q,e);this.a(0)}eD.prototype=new gq;eD.prototype._D=function(z){this.eE=z;this.W()};
eD.prototype.W=function(){var z=this.CR.parentNode!=null,q=this.$;if(this.eE!=null){if(!z){q.appendChild(this.CR);
q.appendChild(this.gb)}this.s6()}else if(z)q.removeChild(this.CR);for(var n=0;n<this.az.length;n++)this.az[n].W()};
eD.prototype.r=function(){return this.f8};eD.prototype.jl=function(z,q){J._8(this.gb);this.az=[];var e=this.r();
this.ti=z;for(var n=0;n<z.length;n++){var V=new ht(z[n],!1,q?q[n]:null,this.aqm);V.Q("click",this.Qu,this);
this.gb.appendChild(V.$);this.az.push(V)}this.W();this.a(e)};eD.prototype.a=function(z){this.f8=z;for(var n=0;
n<this.az.length;n++)this.az[n].Mu();if(z!=-1)this.az[z].IM()};eD.prototype.Qu=function(z){var n=this.az.indexOf(z.target);
this.a(this.a0G&&n==this.f8?-1:n);this.K(new dW(_.E.f,!1))};eD.Op=function(z,q,e){if(q==null)q=16;var V=eD.lN,P=V.getContext("2d"),D=q>>>1;
V.width=V.height=q;var B=[];for(var n=0;n<z.length;n++){if(z[n][0]=="-")B.push(z[n].slice(1));else if(z[n]=="checker"||z[n].startsWith("#")){if(z[n]=="checker"){P.fillStyle="white";
P.fillRect(0,0,q,q);P.fillStyle="#bbbbbb";P.fillRect(D,0,D,D);P.fillRect(0,D,D,D)}else if(z[n].startsWith("#")){P.fillStyle=z[n];
P.fillRect(0,0,q,q)}B.push("<img src=\""+V.toDataURL()+"\" />")}else B.push(J.GP(z[n],null,e?e:"autoscale"))}return B};
eD.lN=J.k("canvas");function db(z,q,e,V,P,D){gq.call(this);this.$=J.k("span","fitem mbox");this.azX=e;
this.akk=P;var B=J.s4();if(z){this.eE=z;this.CR=J.k("label","flabel");this.CR.setAttribute("for",B);
this.$.appendChild(this.CR)}this.vH=q;this.Js=[];for(var n=0;n<q.length;n++){var A=e?new ht(q[n],!1,V?V[n]:null,!1,D):new iP(q[n],!0,"");
if(n==0)A.$.setAttribute("id",B);A.Q(e?"click":_.E.f,this.Qu,this);this.Js.push(A);this.$.appendChild(A.$)}this.W()}db.prototype=new gq;
db.prototype.a=function(z){for(var q=0;q<this.vH.length;q++)this.Js[q].a(z[q])};db.prototype.r=function(){var z=[];
for(var q=0;q<this.vH.length;q++)z[q]=this.Js[q].r();return z};db.prototype.W=function(){if(this.eE)this.CR.innerHTML=iE.get(this.eE)+": ";
var z=this.Js;for(var q=0;q<z.length;q++){z[q].W();if(q==z.length-1)z[q].$.style.marginRight="0px"}};
db.prototype.Qu=function(z){var n=this.Js.indexOf(z.currentTarget),q=this.Js[n];if(this.azX)q.a(!q.r());
if(this.akk){var e=q.r();for(var n=0;n<this.Js.length;n++)this.Js[n].a(!1);q.a(e)}this.K(new dW(_.E.f,!1))};
db.prototype.jl=function(z){for(var n=0;n<z.length;n++)this.Js[n]._D(z[n])};function f2(z,q){gq.call(this);
this.TD=[];this.j=[];this.au6=z;this.jz=q;this.Rv=0;this.WA=null;this._n=new f5(0,0);if(q!=null){this.vv=new gu([{name:[6,37]},{name:[5,4]}]);
this.vv.parent=this;this.vv.Q("select",this.jM,this)}this.$=J.k("div","imageset scrollable");this.$.addEventListener("contextmenu",J.AZ,!1)}f2.prototype=new gq;
f2.prototype.W=function(){if(this.vv)this.vv.W()};f2.prototype.jM=function(z){var n=this.vv.Gv()[0],q=new dW(_.E.b,!0),e={p:_.m.Ln,Lh:this.jz,Vt:this.j.slice(0)};
if(n==0){var V=this.WA[1][this.j[0]],P=V.split("/");if(P.length==2){e.a6b=P[0]+"/";V=P[1]}e.kK="rnm";
q.data={p:_.m.wa,rF:"namewindow",Zz:V,DI:{N:_.E.b,M:e}}}else{q.data=e;e.kK="del"}this.K(q)};f2.prototype.awd=function(){return this.Rv};
f2.prototype.xF=function(z){this.Rv=z;if(this.WA)this.LE()};f2.prototype.ym=function(z,q,e,V){this.WA=[z,q,e,V];
this.LE()};f2.prototype.LE=function(){var z=this.WA,q=this.$,e=z[0],V=z[1],P=z[2],D=z[3];this.TD=[];
J._8(q);var B=this.$c.bind(this),A=this.Rv;if(A==0)J.d6(q,"imageset");else J.Pf(q,"imageset");var s={};
for(var n=0;n<e.length;n++){var a=e[n],M=null,$=null;if(a==null){this.TD.push(null);continue}if(typeof a=="string"){M=J.k("img","image");
M.setAttribute("src",a)}else M=a;if(P)J.Ux(M,P,D);if(this.au6)J.d6(M,"gsicon");if(V){var $=V[n],U=$.split("/");
if(U.length==2){var o=s[U[0]];$=U[1];if(o==null)o=s[U[0]]=[];o.push(n)}}if(A==0){}else{var t=J.k("div","listitem");
t.appendChild(M);var c=J.k("span");c.textContent=$?$:"Item "+(n+1);J.C(c,"margin-left:4px;");t.appendChild(c);
M=t}if($)M.setAttribute("title",$);M.addEventListener("mousedown",B,!1);this.TD.push(M);q.appendChild(M)}if(Object.keys(s).length!=0){J._8(q);
for(var H in s){var o=s[H],F=J.k("div","listitem head");J.C(F,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var i=J.k("div","headL");F.appendChild(i);i.appendChild(J.k("div","folder"));var c=J.k("span");c.textContent=H;
i.appendChild(c);q.appendChild(F);for(var n=0;n<o.length;n++)q.appendChild(this.TD[o[n]])}}};f2.prototype.$c=function(z){if(this.jz==null)z.preventDefault();
var q=this.TD.indexOf(z.currentTarget),e=window.__kb,V=this.j,P=V.length;if(e.t(cz.XQ)){var D=Math.min(V[0],V[V.length-1],q),B=Math.max(V[0],V[V.length-1],q);
V=[];for(var n=D;n<=B;n++)V.push(n)}else if(e.t(cz.EF)){var A=V.indexOf(q);if(A==-1)V.push(q);else V.splice(A,1)}else V=[q];
V.sort(function($,U){return $-U});if(z.button==0||P==1)this.a(V);this._n=J.fH(z,z.currentTarget);if(z.button==0)this.K(new dW(_.E.f));
if(z.button==2&&this.vv){var s=this.vv;s.update(null);var a=J.fH(z,document.body),M=new dW(_.E.b,!0);
M.data={p:_.m.wL,MR:s,x:a.x,y:a.y+2};this.K(M)}};f2.prototype.r=function(){return this.j.slice(0)};f2.prototype.aC9=function(){var z=this._n;
return new f5(z.x,z.y)};f2.prototype.a=function(z){this.j=z.slice(0);for(var n=0;n<this.TD.length;n++){var q=this.TD[n];
if(q==null)continue;if(z.indexOf(n)!=-1)J.d6(q,"selected");else J.Pf(q,"selected")}};function dn(z,q){gq.call(this);
this.au6=z;this.jz=q;this.Rv=0;this.aj=null;this._z=[];this.iX=[];this.j=[];var e=cR.Ld[q],V=e[0].toUpperCase();
this.vv=new gu([{name:["VAR0 ."+V,[1,0]]},{name:["VAR0 ."+V,[1,8]]},{name:[6,37]},{name:[5,4],tL:!0},{name:"Tiles/List"},{name:[12,87]},{name:[6,20]}]);
this.vv.parent=this;this.vv.Q("select",this.jM,this);this.$=J.k("div","imageset scrollable");this.$.addEventListener("contextmenu",J.AZ,!1);
this.a4r=this.$c.bind(this);this.aiv=function(P){P.dataTransfer.setData("text",this._z.indexOf(P.currentTarget))}.bind(this);
this.aD1=this.avn.bind(this)}dn.prototype=new gq;dn.prototype.a1K=function(){return this.vv};dn.prototype.W=function(){this.vv.W()};
dn.prototype.avn=function(z){var q=parseInt(z.dataTransfer.getData("text")),e=this._z.indexOf(z.currentTarget),V=this.j,a=!1;
if(V.indexOf(q)==-1)V=[q];var P=this.iX[e],D=P.join(",")+",",B=dn.Q5(V,this.iX),A=B[1];for(var s in A)if(D.startsWith(s))return;
var M=dn.wR(this.aj,P)[2],$=dn.getItem(this.aj,P);if($[1]==null){M=$[2];$=M[0];a=!0}var U=dn.HP(this.aj,B[0]),o=M.indexOf($);
for(var n=0;n<U.length;n++)M.splice(o+(a?0:1)+n,0,U[n]);this.j=[];var t=dn.asp(this.aj);for(var n=0;
n<U.length;n++)this.j.push(t.indexOf(U[n]));this.LE();this.GT()};dn.prototype.jM=function(z,q){if(q==null)q=this.vv.Gv()[0];
var e=this.j,V=new dW(_.E.b,!0);if(q==0){V.data={p:_.m.Bd};this.K(V)}if(q==1){var P=dn.Q5(e,this.iX)[0],D=dn.HP(this.aj,P,!0),B=cR.Ld[this.jz],A=kH.bN(D,B[2]);
gC.save(A,B[1]+"."+B[0])}if(q==2){V.data={p:_.m.wa,rF:"namewindow",Zz:dn.getItem(this.aj,this.iX[e[0]])[0],Wm:this.ayg.bind(this)};
this.K(V)}if(q==3){var P=dn.Q5(e,this.iX)[0],D=dn.HP(this.aj,P);this.j=[];this.LE();this.GT()}if(q==4){this.Rv=1-this.Rv;
this.LE()}if(q==5){this.K(new dW("define_new"))}if(q==6){this.alA(["New folder",null,[],!0])}};dn.prototype.alA=function(z){var q=this.aj,e=this.j,V=q.length-1;
if(e.length!=0){var P=e[0],D=this.iX[P],q=dn.wR(this.aj,D)[2],B=dn.getItem(this.aj,D);V=q.indexOf(B);
if(B[1]==null){q=B[2];V=q.length-1}}q.splice(V+1,0,z);this.j=[dn.asp(this.aj).indexOf(z)];this.LE();
this.jM(null,2);this.GT()};dn.prototype.ayg=function(z){var q=dn.getItem(this.aj,this.iX[this.j[0]]);
q[0]=z;this.LE();this.GT()};dn.prototype.jl=function(z){this.aj=z;this.LE()};dn.prototype.GT=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.Ln,Lh:this.jz,kK:"mdf"};this.K(q)};dn.prototype.a4l=function(z,q,e){for(var n=0;n<z.length;
n++){var V=z[n],P=V[0],D,B=V[1]==null;e.push(n);if(B){D=J.k("div","listitem head");J.C(D,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);  margin:1.5px;");
var A=J.k("div","headL");D.appendChild(A);A.appendChild(J.k("div",V[3]?"open":"closed"));A.appendChild(J.k("div","folder"));
var s=J.k("span");s.textContent=P;A.appendChild(s)}else{var a=V[2],M=cR.Ld[this.jz],$=Math.floor(M[5]*J.WU()),U=Math.floor(J.WU()*M[6]);
if(a==null)a=V[2]=M[2].sZ(V,$,U);D=J.k("img","image");D.setAttribute("src",a);J.Ux(D,$,U);if(this.Rv==1){var o=J.k("div","listitem");
o.appendChild(D);o.style.height=M[6]+"px";var s=J.k("span");s.textContent=P;J.C(s,"margin-left:4px;");
o.appendChild(s);D=o}D.setAttribute("title",P)}q.appendChild(D);if(this.j.indexOf(this._z.length)!=-1)J.d6(D,"selected");
this._z.push(D);this.iX.push(e.slice(0));D.addEventListener("mouseup",this.a4r,!1);D.setAttribute("draggable","true");
D.addEventListener("dragover",J.oC,!1);D.addEventListener("dragstart",this.aiv,!1);D.addEventListener("drop",this.aD1,!1);
if(B){var t=J.k("div");t.style.marginLeft="14px";if(V[3])q.appendChild(t);this.a4l(V[2],t,e)}e.pop()}};
dn.prototype.LE=function(){var z=this.aj,q=this.$;J._8(q);this._z=[];this.iX=[];this.a4l(z,q,[])};dn.prototype.$c=function(z){var q=this._z.indexOf(z.currentTarget),e=dn.getItem(this.aj,this.iX[q]),V=e[1]==null,P=z.target.getAttribute("class"),D=this.j,B=D.length,A=D.indexOf(q);
if(P=="open"||P=="closed")e[3]=!e[3];else if(z.button==0||A==-1){var s=window.__kb;if(s.t(cz.XQ)){var a=Math.min(D[0],D[D.length-1],q),M=Math.max(D[0],D[D.length-1],q);
D=[];for(var n=a;n<=M;n++)D.push(n)}else if(s.t(cz.EF)){if(A==-1)D.push(q);else D.splice(A,1)}else D=[q];
D.sort(function(t,c){return t-c});this.j=D}this.LE();if(z.button==0&&!V&&D.length==1)this.K(new dW(_.E.f));
if(z.button==2){var $=this.vv;$.update(null);var U=J.fH(z,document.body),o=new dW(_.E.b,!0);o.data={p:_.m.wL,MR:$,x:U.x,y:U.y+2};
this.K(o)}};dn.prototype.r=function(){return dn.getItem(this.aj,this.iX[this.j[0]])[1]};dn.prototype.a=function(z){this.alA(["New item",z])};
dn.getItem=function(z,q){var e=["",null,z];for(var n=0;n<q.length;n++)e=e[2][q[n]];return e};dn.wR=function(z,q){var e=["",null,z];
for(var n=0;n<q.length-1;n++)e=e[2][q[n]];return e};dn.asp=function(z){function q(V,P){for(var n=0;n<V.length;
n++){var D=V[n];P.push(D);if(D[1]==null)q(D[2],P)}}var e=[];q(z,e);return e};dn.HP=function(z,q,e){var V=[];
for(var P=q.length-1;P>=0;P--){var D=q[P],B=D[D.length-1],A=dn.wR(z,D);V.unshift(A[2][B]);if(!e)A[2].splice(B,1)}return V};
dn.Q5=function(z,q){var e=[],V={};for(var n=0;n<z.length;n++){var P=q[z[n]],D=P.join(",")+",",B=!1;for(var A in V)if(D.startsWith(A))B=!0;
if(!B){V[D]=!0;e.push(P)}}return[e,V]};function l6(z,q,e,V,P,D,B){gq.call(this);this.$=J.k("span","fitem "+e);
this.jz=D;this.tg=null;this.XA=!0;this.Y_=null;this.gW=new gq;this.gW.$=J.k("div","floatcont");this.xz=V;
this.gW.parent=this;this.a3L=J.k("div");this.gW.$.appendChild(this.a3L);this.TY=J.k("div");this.gW.$.appendChild(this.TY);
if(z){this.eE=z;this.C4=J.k("label","flabel");this.$.appendChild(this.C4)}this.p=J.k("button",B?"nopadding":"");
J.C(this.p,"position:relative;");var A=this.Yz.bind(this),s=this.Ls.bind(this);J.Br(this.p,q?s:A);this.$.appendChild(this.p);
this.n3=J.k("img",B?"gsicon":"");this.p.appendChild(this.n3);if(q){var a=J.k("button");a.textContent="\u25BC";
J.Br(a,A);this.$.appendChild(a)}else{var M=J.k("span");M.textContent="\u25BC";J.C(M,"position:absolute;  bottom:2px;  right:4px;");
this.p.appendChild(M)}var $=this.ajK=J.k("span");this.TY.appendChild($);J.C($,"display:inline-block;  vertical-align:top;");
this.kC=this.ah0()?new dn(B,D):new f2(B,D);$.appendChild(this.kC.$);this.kC.parent=this.gW;this.kC.Q(_.E.f,this.C8,this);
this.kC.Q("define_new",this.a4z,this);this.kC.$.style.height=P+"px";this.nJ=J.k("button");this.nJ.textContent="\u25BC";
J.C(this.nJ,"padding:3px");J.Br(this.nJ,this.aEG.bind(this));this.TY.appendChild(this.nJ);var U=this.pc(),o=this.axt=D!=cR.TI&&D!=cR.nl?D:null,t=this.a0n=D==null?!1:cR.Ld[D][4]!=0,c=D==null?"":cR.Ld[D][0].toUpperCase(),H=[];
if(o)H.push({name:[12,87]});H.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],tL:!0});H.push({name:[[23,6],"."+(c=="ICC"?"icc .cube .look .3dl":c)]},{name:["VAR0 ."+c,[1,8]]},{name:[6,37]},{name:[5,4],tL:U.length!=0});
for(var n=0;n<U.length;n++)H.push({name:U[n].split("/").pop()});this.aDC=H}l6.prototype=new gq;l6.prototype.ah0=function(){var z=this.jz;
return z==cR.qg||z==cR.Ku};l6.prototype.a4z=function(){this.kC.a(this.Y_)};l6.prototype.C8=function(z){this.a(z.target.r());
this.K(new dW(_.E.f))};l6.prototype.A1=function(){if(!this.XA)return;this.kC.jl(this.tg,this);this.XA=!1};
l6.prototype.a=function(z){this.Y_=T.G(z);this.dI()};l6.prototype.r=function(){return T.G(this.Y_)};
l6.prototype.dI=function(){};l6.prototype.pc=function(){return[]};l6.prototype.Ls=function(){};l6.prototype.W=function(){this.kC.W();
var z=this.eE;if(z)this.C4.textContent=iE.get(z)+":"};l6.prototype._D=function(z){this.C4.textContent=z};
l6.prototype.zT=function(z){var q=this.jz,e=0;if(q==cR.JC){e=this.tg?this.tg.length:0;z=z.slice(0)}this.tg=z;
this.XA=!0;if(J.H2(this.kC.$)||q==cR.qg)this.A1();if(q==cR.JC&&z.length-e==1&&J.H2(this.$)){this.a(z[e]);
this.XA=!0;this.A1();this.kC.a([e]);this.K(new dW(_.E.f))}};l6.prototype.jM=function(z){var q=z.target.Gv()[0];
if(this.axt==null)q++;var e=new dW(_.E.b,!0);if(q==0){var V=this.bz();if(this.jz==cR.JC&&V[0].profile==null)return;
e.data={p:_.m.Ln,kK:"add",Lh:this.axt,Ay:V}}else if(q==1)this.kC.xF(1-this.kC.awd());else if(q<=5)this.If(q-2);
else{var P=this.pc();e.data={p:_.m.ge,Lh:{url:"rsrc/"+P[q-6]}}}if(e.data)this.K(e)};l6.prototype.If=function(z){var q=new dW(_.E.b,!0),e=this.kC.r(),V={p:_.m.Ln,Lh:this.jz,Vt:e};
if(z>1&&e.length==0){alert("No items selected");return}if(z==0)q.data={p:_.m.Bd};else if(z==1)q.data={p:_.m.b4,af_:this.jz,Vt:e.length==0?null:e};
else if(z==2){var P=this.kC.WA[1][e[0]],D=P.split("/");if(D.length==2){V.a6b=D[0]+"/";P=D[1]}V.kK="rnm";
q.data={p:_.m.wa,rF:"namewindow",Zz:P,DI:{N:_.E.b,M:V}}}else if(z==3){q.data=V;V.kK="del"}this.K(q)};
l6.prototype.bz=function(){return[this.r()]};l6.prototype.aEG=function(z){var q;z.stopPropagation();
if(this.ah0())q=this.kC.a1K();else{if(this.vv==null){this.vv=new gu(this.aDC);this.vv.parent=this.gW;
this.vv.Q("select",this.jM,this)}q=this.vv}if(J.H2(q.$))return;q.W();q.update(null);var e=z.currentTarget.getBoundingClientRect(),V=new dW(_.E.b,!0);
V.data={p:_.m.wL,MR:q,x:e.left,y:e.top+e.height};this.K(V)};l6.prototype.Yz=function(z,q,e){if(J.H2(this.gW.$))return;
if(z)z.stopPropagation();this.A1();if(q==null){var V=this.p.getBoundingClientRect(),q=V.left,e=V.top+V.height}this.hh();
var P=new dW(_.E.b,!0);P.data={p:_.m.wL,MR:this.gW,x:q,y:e,qH:!0};this.K(P)};l6.prototype.hh=function(z,q){var z=Math.min(this.xz,window.innerWidth-40);
this.ajK.style.width=z+"px";this.gW.$.style.width=z+20+"px"};l6.prototype.aDG=function(z,q){this.Yz(null,z,q)};
function hA(){gq.call(this);this.$=J.k("div");this.oa=!1;this._z=[new cr([12,19,1],[[13,1,7]].concat(aM.Y0)),new l4([17,1]),new l4([12,46])];
for(var n=0;n<3;n++){var z=this._z[n];this.$.appendChild(z.$);z.Q(_.E.f,this.EE,this)}this.W()}hA.prototype=new gq;
hA.prototype.W=function(){for(var n=0;n<3;n++)this._z[n].W()};hA.prototype.r=function(){return this.oa.slice(0)};
hA.prototype.a=function(z){this.oa=z.slice(0);var q=this._z,e=q[0].r();q[1].a(z.slice(e*8,e*8+4),e);
q[2].a(z.slice(e*8+4,e*8+8),e)};hA.prototype.EE=function(z){var q=this._z,e=q.indexOf(z.currentTarget);
if(e==0)this.a(this.oa);else{var V=q[0].r()*8+(e==1?0:4),P=q[e].r();for(var n=0;n<4;n++)this.oa[V+n]=P[n];
this.K(new dW(_.E.f,!1))}};function l4(z){gq.call(this);this.$=J.k("div");this.TX=J.k("canvas");this.p6=z;
this.oa=[0,20,200,255];this.pD=0;this.ku=-1;this.aA2=[];for(var n=0;n<5;n++){var q=J.k("span");J.C(q,"display:inline-block;width:"+(n==0?8:n==2?7:2)+"em");
this.aA2.push(q);this.$.appendChild(q)}this.SA=this.O3.bind(this);this.M$=this.Qh.bind(this);this.ls=this.lG.bind(this);
J.sB(this.TX);J.Br(this.TX,this.SA);this.$.appendChild(this.TX);this.LE()}l4.prototype=new gq;l4.prototype.W=function(){this.LE()};
l4.prototype.a=function(z,q){this.oa=z;this.pD=q;this.LE()};l4.prototype.r=function(){return this.oa.slice(0)};
l4.prototype.O3=function(z){var q=this.oa,e=J.fH(z,this.TX),V=e.x-8,P=-1,D=1e9;for(var n=0;n<4;n++){var B=V-q[n],A=Math.abs(B);
if(A<8&&A<D&&((n&1)==0&&B<0||(n&1)==1&&B>0)){D=B;P=n}}if(P==-1)return;this.ku=P;this.axD=window.__kb.t(cz.mh)||q[(P>>>1)*2]!=q[(P>>>1)*2+1];
J.rq(window,this.M$);J.KE(window,this.ls)};l4.prototype.Qh=function(z){var q=this.oa,e=this.ku,V=(e>>>1)*2,P=V+1,D=J.fH(z,this.TX),B=Math.round(Math.max(0,Math.min(255,D.x-8)));
q[e]=B;if(this.axD&&q[V]>=q[P])this.axD=!1;if(!this.axD)q[V]=q[P]=B;this.LE();this.K(new dW(_.E.f,!1))};
l4.prototype.lG=function(z){J.TT(window,this.M$);J.N$(window,this.ls)};l4.prototype.LE=function(){var z=this.TX;
J.rw(z,255+16,16);var q=z.getContext("2d"),e=z.width,V=z.height,P=Math.round(255*J.WU()),D=Math.round(8*J.WU());
q.translate(D,0);var B=q.createLinearGradient(0,0,P,0);B.addColorStop(0,"black");B.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.pD]);
q.fillStyle=B;q.fillRect(0,0,P,D);var A=this.aA2,s=iE.get(this.p6)+":";A[0].textContent=s;for(var n=0;
n<4;n++){var a=this.oa[n];A[1+n].textContent=a;var M=Math.round(a*J.WU());q.beginPath();q.moveTo(M,D);
q.lineTo(M,D+D);q.lineTo(M+((n&1)==0?-1:1)*D,D+D);q.closePath();q.fillStyle=n<2?"#666666":"#cccccc";
q.fill();q.strokeStyle="black";q.stroke()}};function b4(z,q,e){gq.call(this);if(e==null)e=!1;this.u=[0,0,1];
this.ayX=q;this.amK=e;this.QY=0;var V="ai"+J.s4();this.$=J.k("span","fitem angleinput");if(z){this.C4=J.k("label","flabel");
this.eE=z;this.$.appendChild(this.C4);this.C4.setAttribute("for",V)}this.zr=e?44:20;this.TX=J.k("canvas","gsicon");
this.YI=this.TX.getContext("2d");J.sB(this.TX);J.rw(this.TX,this.zr*2+1,this.zr*2+1);this.YI.scale(J.WU(),J.WU());
this.$.appendChild(this.TX);J.Br(this.TX,this.tY.bind(this));this.OT=this._s.bind(this);this.Xb=this.in.bind(this);
var P=this.Qu.bind(this),D=J.k("div");J.C(D,"display:inline-block;  vertical-align:middle;");if(!e)this.$.appendChild(D);
this.$_=[];for(var n=0;n<2;n++){var B=J.k("input");this.$_.push(B);B.setAttribute("type","text");J.Ur(B);
if(n==0)B.setAttribute("id",V);B.addEventListener("change",P,!1);var A=J.k("span");A.textContent="\xB0";
if(n==0||q){D.appendChild(B);D.appendChild(A);J.f9(D)}}this.a(this.u)}b4.prototype=new gq;b4.prototype.W=function(){if(this.eE)this.C4.textContent=iE.get(this.eE)+":"};
b4.prototype._D=function(z){this.C4.textContent=z};b4.prototype.r=function(){return this.u.slice(0)};
b4.prototype.a=function(z,q){var e=this.u;z=z.slice(0);if(z[0]==null)z[0]=e[0];if(z[1]==null)z[1]=e[1];
if(z[2]==null)z[2]=e[2];this.u=z;var V=z[0],P=z[1],D=z[2],B=this.ayX,A=this.amK,s=this.zr*.85;if(!B)P=0;
this.$_[0].value=V;this.$_[1].value=P;var a=this.YI;a.clearRect(0,0,100,100);V=Math.PI*V/180;P=s*(90-P)/90;
var M=this.zr+.5;a.save();a.translate(M,M);a.rotate(-V);a.strokeStyle="rgba(0,0,0,0.5)";a.beginPath();
a.ellipse(0,0,s,s*D,0,0,2*Math.PI);if(A){a.moveTo(0,-s*D);a.lineTo(0,s*D);a.moveTo(-P,0)}else a.moveTo(0,0);
a.lineTo(P,0);a.stroke();var $=this.zr*.15;a.fillStyle="black";a.beginPath();if(A){a.arc(0,-s*D,$*.66,0,2*Math.PI);
a.arc(0,s*D,$*.66,0,2*Math.PI)}if(B){a.arc(P,0,$*.4,0,2*Math.PI)}else{a.moveTo(M-$,-$*.66);a.lineTo(M,0);
a.lineTo(M-$,$*.66)}a.fill();a.restore();if(q)this.Qu()};b4.prototype.Qu=function(z){var q=parseInt(this.$_[0].value);
if(isNaN(q))q=0;var e=parseInt(this.$_[1].value);if(isNaN(e))e=0;q=q%360;e=e%360;this.a([q,e]);this.K(new dW(_.E.f,!1))};
b4.prototype.tY=function(z){J.rq(window,this.OT);J.KE(window,this.Xb);var q=J.fH(z,this.TX),M=0,$=1e9;
q.x-=this.zr;q.y-=this.zr;var e=this.u,V=e[0]*Math.PI/180,P=(90-e[1])/90,D=e[2],B=this.zr*.85,A=Math.sin(-V),s=Math.cos(-V),a=[new f5(s*B,A*B)];
if(this.amK)a.push(new f5(-A*B*D,s*B*D),new f5(A*B*D,-s*B*D));for(var n=0;n<a.length;n++){var U=f5.h5(q,a[n]);
if(U<$){$=U;M=n}}this.QY=M;if(M==0)this._s(z)};b4.prototype._s=function(z){var q=J.fH(z,this.TX),e=this.QY,V=[],P=q.x-this.zr,D=q.y-this.zr,B=this.zr*.85;
if(e==0){var A=180*Math.atan2(-D,P)/Math.PI,s=90-90*Math.min(1,Math.sqrt(P*P+D*D)/B);if(z.shiftKey)A=Math.round(A/15)*15;
V=[Math.round(A),Math.round(s)]}else V=[null,null,Math.max(.01,Math.min(1,Math.sqrt(P*P+D*D)/B))];this.a(V);
this.K(new dW(_.E.f,!1))};b4.prototype.in=function(z){this.K(new dW(_.E.f,!1));J.TT(window,this.OT);
J.N$(window,this.Xb)};function gp(z,q){gq.call(this);this.oa=0;this.l7=q;this.$=J.k("span","fitem angleinput");
if(z){this.C4=J.k("label","flabel");this.eE=z;this.$.appendChild(this.C4)}this.TX=J.k("canvas","gsicon");
this.YI=this.TX.getContext("2d");J.rw(this.TX,q,q);this.$.appendChild(this.TX);J.sB(this.TX);J.Br(this.TX,this.tY.bind(this));
this.OT=this._s.bind(this);this.Xb=this.in.bind(this);this.a(0)}gp.prototype=new gq;gp.prototype.W=function(){if(this.eE)this.C4.textContent=iE.get(this.eE)+":"};
gp.prototype._D=function(z){this.C4.textContent=z};gp.prototype.r=function(){return this.oa};gp.prototype.afy=function(z){var q=this.oa,e=Math.floor(q/3),V=q-e*3;
V=Math.max(0,Math.min(2,V+z.x));e=Math.max(0,Math.min(2,e+z.y));this.a(e*3+V)};gp.prototype.a=function(z){this.oa=z;
var q=this.TX.width,e=Math.floor(z/3),V=z-3*e,P=(V+.5)*q/3,D=(e+.5)*q/3,B=this.YI,A=[.5,Math.round(q/3)+.5,Math.round(2*q/3)+.5,q-.5];
B.clearRect(0,0,q,q);var s=this.l7<30;B.setLineDash([]);B.strokeStyle=s?"rgba(0,0,0,0.5)":"#000000";
B.beginPath();for(var n=0;n<4;n++){var a=A[n];B.moveTo(a,0);B.lineTo(a,q);B.moveTo(0,a);B.lineTo(q,a)}B.stroke();
if(z==9)return;if(!s){B.setLineDash([1,2]);var M=q*.53,$=Math.max(0,Math.min(q-M,P-M/2)),U=Math.max(0,Math.min(q-M,D-M/2));
B.strokeRect(Math.round($)+.5,Math.round(U)+.5,Math.round(M),Math.round(M))}B.fillStyle="#000000";B.beginPath();
B.arc(P,D,q/8,0,Math.PI*2);B.fill()};gp.prototype.tY=function(z){J.rq(document.body,this.OT);J.KE(document.body,this.Xb);
this._s(z)};gp.prototype._s=function(z){var q=J.fH(z,this.TX),e=Math.max(0,Math.min(2,Math.floor(q.x/(this.l7/3)))),V=Math.max(0,Math.min(2,Math.floor(q.y/(this.l7/3))));
this.a(V*3+e)};gp.prototype.in=function(z){this.K(new dW(_.E.f,!1));J.TT(document.body,this.OT);J.N$(document.body,this.Xb)};
function iK(hE){gq.call(this);this.$=J.k("span","fitem cswatch");this.aCk=0;this.e9=[];this.C_=[];var z=this.aKg.bind(this);
for(var n=0;n<hE;n++){this.e9.push(0);var q=J.k("span","colorsample");q.addEventListener("click",z,!1);
this.C_.push(q);this.$.appendChild(q)}var e=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],V=Math.min(hE,e.length);
for(var n=0;n<V;n++)this.e9[n]=e[n];this.sE()}iK.prototype=new gq;iK.prototype.aKg=function(z){this.aCk=this.C_.indexOf(z.currentTarget);
this.K(new dW(_.E.f))};iK.prototype.r=function(){return this.e9[this.aCk]};iK.prototype.a=function(z){var q=this.e9,e=q.indexOf(z);
if(e!=-1)q.splice(e,1);else q.pop();q.unshift(z);this.sE()};iK.prototype.sE=function(){for(var n=0;n<this.e9.length;
n++){J.C(this.C_[n],"background-color:#"+T.R0(this.e9[n]))}};function l0(z){gq.call(this);this.x0={l:0,I:0,c:0};
this.Bz=z;this.$=J.k("span","fitem colorsample bbtn");this.$.addEventListener("click",this.RG.bind(this),!1)}l0.prototype=new gq;
l0.prototype.W=function(){};l0.prototype.RG=function(z){var q=this.x0;this.K(new dW("click"));var e=new dW(_.E.b,!0);
e.data={p:_.m.wa,rF:"colorpicker",go:T.RC(q),QW:this.Cq.bind(this),fU:this.Bz};this.K(e)};l0.prototype.Cq=function(z){this.it(z);
this.K(new dW(_.E.f))};l0.prototype.T7=function(){this.RG(null)};l0.prototype.ou=function(){var z=this.x0;
return z.l<<16|z.I<<8|z.c};l0.prototype.r=function(){return T.Yf.e8(this.x0)};l0.prototype.it=function(z){this.x0=T.H_(z);
this.aH_()};l0.prototype.a=function(z){this.x0=T.Yf.z8(z);this.aH_()};l0.prototype.aH_=function(){var z=this.x0,q=z.l,e=z.I,V=z.c,P=q<<16|e<<8|V;
J.C(this.$,"background-color:#"+T.R0(P))};function i5(){gq.call(this);this.ED=!1;this.$E=20;this.aaB=10;
this.zq=0;this.ED=!1;this.aiC={l:255,I:0,c:0};this.aiK={l:0,I:0,c:0};this.i=null;this.mC=null;this.IF=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];
this.$=J.k("canvas");this.LE();J.sB(this.$);J.Br(this.$,this.SA.bind(this))}i5.prototype=new gq;i5.prototype.ajX=function(z){if(this.ED==z)return;
this.ED=z;this.LE()};i5.prototype.W=function(){};i5.prototype.aBI=function(z,q){function e(V){return{l:V>>16&255,I:V>>8&255,c:V&255}}if(z!=null)this.aiC=e(z);
if(q!=null)this.aiK=e(q);this.LE()};i5.prototype.apP=function(z,q){this.i=z;this.mC=q;this.LE()};i5.prototype.SA=function(z){var q=J.fH(z,this.$),e=q.x*J.WU(),V=q.y*J.WU(),P=this.$E,D=this.aaB,B=0;
if(V>P){B=4+Math.floor(3*e/P)}else if(e<D&&V<D){B=0}else if(e>P-D&&V>P-D){B=1}else if(e<D){B=2}else{B=3}this.T7(B)};
i5.prototype.T7=function(z){var q=this.i,e=new dW(_.E.b,!0);if(z>1){if(cW==0)e.data={p:_.m.Ln,Lh:cR.RV,kE:z};
else{var V=T.G(q.kQ);if(z==2){var P=V.i8;V.i8=V.oO;V.oO=P}if(z==3){V.oO=[1,1,1];V.i8=[0,0,0]}if(z>=4){var D=this.IF[z-4];
if(this.zq==0)V.oO=D;else V.i8=D}e.data={p:_.m.Ln,Lh:cR.gF,u:V}}}else{var B=this.Cq.bind(this),A=this.zq;
this.zq=z;if(cW==0){var s=z==0?this.aiC:this.aiK;e.data={p:_.m.wa,rF:"colorpicker",go:T.RC(s),QW:B}}else{if(A!=z){this.LE();
return}var a=z==0?q.kQ.oO:q.kQ.i8;if(a==null||a.length==0)a=[0,0,0];i5.apG(a,this,B);return}}this.K(e)};
i5.prototype.Cq=function(z){var q=new dW(_.E.b,!0),e=this.zq,V=this.i;if(cW==0)q.data={p:_.m.Ln,Lh:cR.RV,kE:e,u:z};
else{var P=z;if(typeof z=="number"){P=T.H_(z,1);P=[P.l,P.I,P.c]}var D=T.G(V.kQ);if(e==0)D.oO=P;else D.i8=P;
q.data={p:_.m.Ln,Lh:cR.gF,u:D}}this.K(q)};i5.prototype.LE=function(){var z=this.$,q=z.getContext("2d"),e=J.WU(),e=J.WU(),V=this.$E=Math.floor(34*e),P=Math.floor((V-2)/3),D="#aaaaaa",B=.62;
z.width=V;z.height=V+cW*(P+9);J.kr(z);z.style.cursor="pointer";var V=this.$E=z.width,A=this.aaB=Math.round(V*B);
function s(X,K){var f=X.l,d=X.I,L=X.c;if(K)f=d=L=Math.round(T.Vq(f,d,L));var G=f<<16|d<<8|L;return"#"+T.R0(G)}function a(q,U,X,K,f,d){q.beginPath();
if(K>=d*2&&f>=d*2){q.moveTo(U+d,X);q.lineTo(U+K-d,X);q.quadraticCurveTo(U+K,X,U+K,X+d);q.lineTo(U+K,X+f-d);
q.quadraticCurveTo(U+K,X+f,U+K-d,X+f);q.lineTo(U+d,X+f);q.quadraticCurveTo(U,X+f,U,X+f-d);q.lineTo(U,X+d);
q.quadraticCurveTo(U,X,U+d,X)}q.closePath()}function M(U,X,A,K,f){q.strokeStyle=f?f:"black";q.fillStyle=K;
a(q,U+.5,X+.5,A-1,A-1,A*.2);q.fill();q.stroke()}var $=this.i;if($){q.beginPath();var U=V-A,o=Math.floor(A*.28),t=A-2*o;
q.lineWidth=1;q.strokeStyle="white";if(this.zq==0)i5.XG(q,$.kQ.i8,this.mC,A,A,U,U,!0);i5.XG(q,$.kQ.oO,this.mC,A,A,0,0);
if(this.zq==1)i5.XG(q,$.kQ.i8,this.mC,A,A,U,U,!0);for(var n=0;n<3;n++){q.beginPath();i5.XG(q,this.IF[n],this.mC,P,P,n*(P+1),V+9,!1)}}else{M(V-A,V-A,A,s(this.aiK,this.ED));
M(0,0,A,s(this.aiC,this.ED))}var c=V-A,H=Math.round(c*B);M(V-H,c-H,H,cW==0?"white":"black",D);M(V-c,0,H,cW==0?"black":"white",D);
q.save();q.fillStyle=D;q.translate(0,V);q.rotate(-Math.PI/2);c=V-A;var F=Math.round(c*.28),i=Math.round(c*.25);
for(var n=0;n<2;n++){q.fillRect(F,F,c-F,1);q.beginPath();q.moveTo(c-i,F+.5-i);q.lineTo(c,F+.5);q.lineTo(c-i,F+.5+i);
q.closePath();q.fill();q.transform(0,1,1,0,0,0)}q.restore()};i5.apG=function(z,q,e){var V=new dW(_.E.b,!0);
if(z.length==3)V.data={p:_.m.wa,rF:"colorpicker",go:T.RC({l:z[0]*255,I:z[1]*255,c:z[2]*255}),QW:e};else V.data={p:_.m.wa,rF:"vgradienteditor",u:z,QW:e};
q.K(V)};i5.XG=function(z,q,e,V,P,D,B,A){function s(c,H){return CSS.vF({l:c[0]*255,I:c[1]*255,c:c[2]*255},H)}if(q==null){z.fillStyle="#888888";
z.clearRect(D,B,V,P);z.font=Math.round(P*.6*(A?.5:1))+"px sans-serif";z.fillStyle="white";if(A){z.fillText("?",D+V*.05,B+P*.3);
z.fillText("?",D+V*.8,B+P*.3);z.fillText("?",D+V*.05,B+P*.9);z.fillText("?",D+V*.8,B+P*.9)}else z.fillText("?",V*.36,P*.7)}else if(q.length==0){z.fillStyle="#ffffff";
z.fillRect(D,B,V,P);z.strokeStyle="#ff0000";z.lineWidth=2;z.moveTo(D,B);z.lineTo(D+V,B+P);z.moveTo(D,B+P);
z.lineTo(D+V,B);z.stroke()}else if(q.length==3){z.fillStyle=s(q);z.fillRect(D,B,V,P)}else if(q.length==4){var a=D+V/2,M=B+P/2,$=q[0]==0?z.createLinearGradient(D,B,D+V,B):z.createRadialGradient(a,M,0,a,M,V/2);
T.Yf.afk($,q[1]);z.fillStyle=$;z.fillRect(D,B,V,P)}else if(q.length==2&&e){var U=e[q[0]];z.save();z.fillStyle="white";
z.fillRect(D,B,V,P);z.rect(D,B,V,P);z.scale(V/U.s,P/U.T);z.fillStyle=U.aec;z.fill();z.restore()}z.lineWidth=1;
z.strokeStyle="white";z.strokeRect(D+.5,B+.5,V-1,P-1);if(A){var o=Math.floor(V*.28),t=V-2*o;z.clearRect(D+o,D+o,t,t);
z.strokeRect(D+o+.5,D+o+.5,t-1,t-1)}};function kW(){gq.call(this);this.$=J.k("button","fitem bbtn");
this.$.textContent="\u25A6";this.z1=[];this.fg=[];var z=J.k("span","rangecontFloat padded");J.C(z,"position:absolute; width:205px; z-index:2;  padding-right:0px; padding-top:6px;  padding-right:6px;");
this.vy=new cr("Palette",[]);this.pu=new f2;this.pu.parent=this;this.pu.$.style.height="100px";this.yu=new eE("RGBA",null,9);
this.tx=new l0;this.yI=new ht([5,3],null,null,!0);this.bg=new ht([5,4],null,null,!0);this.a9I=new ht([1,0],null,null,!0);
this.bW=new ht([1,2],null,null,!0);this.aCT=new ht([5,8],!0,null,!0);var q=J.k("div","form"),e=[this.vy,this.pu,this.yu,this.yI,this.bg,this.a9I,this.bW,this.aCT];
for(var n=0;n<e.length;n++){var V=e[n];V.parent=this;V.Q(V instanceof ht?"click":_.E.f,this.GT,this);
if(n<=1){z.appendChild(V.$);z.appendChild(q)}else q.appendChild(V.$)}var P=new gq;P.$=z;var D=this;this.$.addEventListener("click",function(B){var A=D.$.getBoundingClientRect(),s=new dW(_.E.b,!0);
s.data={p:_.m.wL,MR:P,x:A.left,y:A.top+20};D.K(s)});this.sE()}kW.prototype=new gq;kW.prototype.GT=function(z){var q=z.target,e=this.pu.r()[0];
if(q==this.vy){var V=q.r();if(V==0)return;else if(V<5)this.z1=gY.a1n(V-1);else this.z1=T.G(this.fg[V-5])}else this.vy.a(0);
if(q==this.pu){var P=this.z1[e][1];this.yu.a([P.l,P.I,P.c,P.x6].map(Math.round).join(" "));this.tx.it(T.RC(P));
return}if(q==this.yu){var D=q.r().split(" ").map(parseFloat);this.z1[e][1]={l:D[0],I:D[1],c:D[2],x6:D[3]}}if(q==this.tx){var D=T.H_(q.ou()),B=this.z1[e][1];
B.l=D.l;B.I=D.I;B.c=D.c}if(q==this.yI)this.z1.push(["",{l:0,I:0,c:0,x6:255}]);if(q==this.bg){var A=this.pu.r(),s=[];
for(var n=0;n<this.z1.length;n++)if(A.indexOf(n)==-1)s.push(this.z1[n]);this.z1=s}if(q==this.a9I){var a=new dW(_.E.b,!0);
a.data={p:_.m.Bd};this.K(a)}if(q==this.bW)gC.save(ko.iO([this.z1]),"table.act");if(q==this.aCT){this.K(new dW(_.E.f,!1));
return}this.sE()};kW.prototype.r=function(){return T.G(this.z1)};kW.prototype.a=function(z){z=this.z1=T.G(z);
this.sE()};kW.prototype.sE=function(){var z=[];for(var n=0;n<this.fg.length;n++)z.push("Palette "+(n+1)+" ("+this.fg[n].length+" colors)");
var q=["Custom"].concat(gY.aBn).concat(z),e=this.vy.r();this.vy.jl(q);this.vy.a(Math.min(e,q.length-1));
var V=this.z1,P=[],D=Math.round(20*J.WU()),B=D;V.sort(function(s,a){s=s[1];a=a[1];if(s.x6!=a.x6)return s.x6-a.x6;
return T.w5(s)-T.w5(a)});for(var n=0;n<V.length;n++){var A=kH.sZ(V[n],D,B);P.push(A)}this.pu.ym(P,null,D,B)};
kW.prototype.K5=function(z,q){this.fg=z.az2;if(q==cR.zu||q==cR.gO)this.sE()};function fe(z){l6.call(this,z,!1,"brushbutton nopadding",19*13,10*13,cR.YO,!0);
var q=this.a3L;J.d6(q,"flexrow");var e=J.k("div");q.appendChild(e);var V=J.k("div");q.appendChild(V);
J.C(V,"margin-left:8px");this.QE=new b4(null,null,!0);this.QE.Q(_.E.f,this.Am,this);e.appendChild(this.QE.$);
this.Ci=new aJ([12,14,0],1,2e3," px",0,!0);this.Ci.Q(_.E.f,this.Am,this);V.appendChild(this.Ci.$);this.Q$=new aJ([12,17],0,100,"%");
this.Q$.Q(_.E.f,this.Am,this);V.appendChild(this.Q$.$);this.Me=new db(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.Me.Q(_.E.f,this.Am,this);V.appendChild(this.Me.$)}fe.prototype=new l6;fe.prototype.pc=function(){var z=["pencil","trees"];
for(var n=0;n<z.length;n++)z[n]="brushes/"+z[n]+".abr";return z};fe.prototype.a=function(z,q,e){this.Y_=T.G(z);
var V=Math.floor(20*J.WU()),P=Math.floor(36*J.WU()),D=Math.floor(24*J.WU()),B=bw.sZ(z,q,e,V,D,P);this.n3.setAttribute("src",B);
J.Ux(this.n3,P,D);var A=z.Brsh.v;this.Ci.a(A.Dmtr.v.val);if(A.Hrdn!=null){this.Q$.oR();this.Q$.a(A.Hrdn.v.val)}else this.Q$.QU();
if(A.Angl!=null)this.QE.a([A.Angl.v.val]);if(A.Rndn!=null)this.QE.a([null,null,A.Rndn.v.val/100]);var s=[!1,!1];
if(z.opVr)s[0]=z.opVr.v.bVTy.v==2;if(z.szVr)s[1]=z.szVr.v.bVTy.v==2;this.Me.a(s)};fe.prototype.bz=function(){return{list:[{t:"Objc",v:this.r()}],Mf:[],yw:[]}};
fe.prototype.r=function(){return this.Y_};fe.prototype.A1=function(){if(!this.XA)return;var z=[],q=[],e=this.tg,V=Math.floor(33*J.WU()),P=Math.floor(40*J.WU());
for(var n=0;n<e.list.length;n++){var D=e.list[n].v,B=bw.sZ(D,e.Mf,e.yw,V,P);z.push(B);q.push(D.Nm.v)}this.kC.ym(z,q,V,P);
this.XA=!1};fe.prototype.C8=function(z){var q=this.tg;this.a(q.list[this.kC.r()[0]].v,q.Mf,q.yw);this.K(new dW(_.E.f))};
fe.prototype.W=function(){l6.prototype.W.call(this);this.QE.W();this.Ci.W();this.Q$.W()};fe.prototype.Am=function(z){var q=this.tg,e=this.Y_,V=e.Brsh.v;
V.Dmtr.v.val=this.Ci.r();if(V.Hrdn!=null)V.Hrdn.v.val=this.Q$.r();if(V.Angl!=null)V.Angl.v.val=this.QE.r()[0];
if(V.Rndn!=null)V.Rndn.v.val=Math.round(this.QE.r()[2]*100);if(z.target==this.Me)ia.aDI(e,this.Me.r());
this.a(e,q.Mf,q.yw);this.K(new dW(_.E.f))};function gw(z){l6.call(this,z,!0,"contourbutton",17*13,10.5*13,cR.Kc)}gw.prototype=new l6;
gw.prototype.C8=function(z){this.a(this.tg[z.target.r()]);this.K(new dW(_.E.f))};gw.prototype.Ls=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.wa,rF:"contoureditor",bX:this.Y_,response:this.ayF.bind(this)};this.K(q)};gw.prototype.ayF=function(z){this.a(z);
this.K(new dW(_.E.f))};gw.prototype.A1=function(){if(!this.XA)return;var z=Math.floor(38*J.WU()),q=Math.floor(38*J.WU()),e=[],V=[],P=this.tg;
for(var n=0;n<P.length;n++){V.push(P[n].Nm?P[n].Nm.v:"");e.push(T.JQ.sZ(P[n].Crv.v,z,q))}this.kC.ym(e,V,z,q);
this.XA=!1};gw.prototype.a=function(z){this.Y_=T.G(z);var q=this.Y_.Crv.v;for(var n=0;n<q.length;n++)if(q[n].v.Cnty==null)q[n].v.Cnty={t:"bool",v:!0};
this.dI()};gw.prototype.dI=function(){var z=Math.floor(30*J.WU()),q=Math.floor(30*J.WU()),e=T.JQ.sZ(this.Y_.Crv.v,z,q);
this.n3.setAttribute("src",e);J.Ux(this.n3,z,q)};function iD(z){gq.call(this);this.ot=null;this.i=null;
this.Va=null;this.GX=null;this.aOE=[];this.ah6=[];this.$=J.k("span","fitem fillbutton");this.gW=new gq;
this.gW.$=J.k("div","floatcont form");J.C(this.gW.$,"width: 21em;");this.gW.parent=this;this.D7=z;this.C4=this.C4=J.k("label","flabel");
this.$.appendChild(this.C4);this.TX=J.k("canvas");this.YI=this.TX.getContext("2d");this.axA=null;this.$.appendChild(this.TX);
J.Br(this.TX,this.Yz.bind(this));this.Dk=new eD([12,66],["","Color","Grad","Patt"]);this.gW.$.appendChild(this.Dk.$);
this.Dk.Q(_.E.f,this.EE,this);this.gW.$.appendChild(J.k("hr"));this.a6L=J.k("span");this.ad2=new ij(["VAR0:",[13,0]]);
this.z2=new l0(!0);this.z2.parent=this.gW;this.z2.Q(_.E.f,this.EE,this);this.aEY=new iK(10);this.aEY.Q(_.E.f,this.EE,this);
this.OC=J.k("div","marged hiline");this.OC.appendChild(this.ad2.$);this.OC.appendChild(this.z2.$);J.f9(this.OC);
this.OC.appendChild(this.aEY.$);this.hZ=new iX("GrFl",!0);this.hZ.parent=this.gW;this.hZ.Q(_.E.f,this.EE,this);
this.NQ=J.k("div","marged hiline");var q="Grad Type Algn Angl Rvrs Scl gradientsInterpolationMethod Ofst".split(" ");
for(var n=0;n<q.length;n++){var e=this.hZ.g4[q[n]].$;this.NQ.appendChild(e)}this.bI=new iX("patternFill",!0);
this.bI.parent=this.gW;this.bI.Q(_.E.f,this.EE,this);this.qP=J.k("div","marged hiline");var q=["Ptrn","Angl","Scl","Algn","phase"];
for(var n=0;n<q.length;n++){var e=this.bI.g4[q[n]].$;this.qP.appendChild(e)}}iD.prototype=new gq;iD.prototype.K5=function(z,q){var e=fs.DY(z,q);
if(q==cR.gv){this.aOE=[];this.ah6=[];if(this.ot)this.a(this.Va,this.r(),this.ot)}this.i=z;this.hZ.K5(z,q);
this.bI.K5(z,q)};iD.prototype.W=function(){this.C4.textContent=iE.get(this.D7)+": ";this.Dk.W();this.ad2.W();
this.z2.W();this.hZ.W();this.bI.W()};iD.prototype.EE=function(z){var q=z.currentTarget;if(q==this.Dk){var e=this.Dk.r(),V={y3:e,j5:this.ot[e]};
if(e>0&&V.j5==null)V.j5=T.G(az.zO[e-1]);if(this.ot)this.a(this.Va,V,this.ot)}if(q==this.aEY)this.z2.it(q.r());
this.K(new dW(_.E.f,!1))};iD.prototype.Yz=function(z){if(J.H2(this.gW.$))return;z.stopPropagation();
var q=[[13,1,0],[13,0],[12,37],[12,62]],e=this.ot,V=this.aOE,P=this.ah6,D=!1;for(var n=0;n<4;n++){var B={y3:n,j5:e[n]},A=iD.aE0(B);
if(P[n]==A)continue;D=!0;var s=iD.aPC(null,B,this.i,this.Va,22,22,!1);V[n]="<img width=\"22\" height=\"22\" src=\""+s+"\" />";
P[n]=A}if(D)this.Dk.jl(V,q);var a=this.TX.getBoundingClientRect(),M=new dW(_.E.b,!0);M.data={p:_.m.wL,MR:this.gW,x:a.left,y:a.top+a.height+4};
this.K(M)};iD.prototype.a=function(z,q,e){this.ot=e;this.Va=z;this.Dk.a(q.y3);var V=iD.aE0(q),P;if(V!=this.axA)iD.aPC(this.YI,q,this.i,this.Va,30,23,!0);
this.axA=V;var D=q.y3;if(D==0){P=this.a6L}if(D==1){this.z2.a(q.j5.Clr.v);P=this.OC}if(D==2){this.hZ.update(z,q.j5);
P=this.NQ}if(D==3){this.bI.update(z,q.j5);P=this.qP}if(P!=this.GX){if(this.GX!=null){this.gW.$.removeChild(this.GX)}this.gW.$.appendChild(P);
this.GX=P}};iD.prototype.r=function(){var z={y3:this.Dk.r()};if(z.y3==1){z.j5=T.G(az.zO[0]);z.j5.Clr.v=this.z2.r()}if(z.y3==2){z.j5=this.hZ.r()}if(z.y3==3){z.j5=this.bI.r()}return z};
iD.aE0=function(z){var q=z.y3,e=z.j5,V="empty";if(q==1){V=T.Yf.z8(e.Clr.v);V=V.l+","+V.I+","+V.c}if(q==2)V=JSON.stringify(e.Grad.v);
if(q==3)V=e.Ptrn.v.Idnt.v;return V};iD.aPC=function(z,q,e,V,P,D,B){if(z==null)z=iD.YI;var A=Math.floor(P*J.WU()),s=Math.floor(D*J.WU()),a=z.canvas;
a.width=A;a.height=s;J.Ux(a,A,s);iD.ax7(z,q,e,V,A,s);if(B){z.beginPath();z.strokeStyle="#000000";z.fillStyle="#ffffff";
z.lineWidth=2;var M=A*.7,$=Math.floor(s*.7),U=7*J.WU();z.moveTo(M,$);z.lineTo(M+U,$);z.lineTo(M+U/2,$+U/2);
z.closePath();z.stroke();z.fill()}if(z==iD.YI)return a.toDataURL()};iD.YI=J.k("canvas").getContext("2d");
iD.ax7=function(z,q,e,V,P,D,B,A){if(B==null)B=0;if(A==null)A=0;var s=q.y3;if(s==0){z.fillStyle="#ffffff";
z.fillRect(B,A,P,D);z.strokeStyle="#ff0000";z.lineWidth=2;z.moveTo(B,A);z.lineTo(B+P,A+D);z.moveTo(B,A+D);
z.lineTo(B+P,A);z.stroke()}if(s==1){var a=q.j5.Clr.v;a=T.Yf.z8(a);z.fillStyle="#"+T.R0(a.l<<16|a.I<<8|a.c);
z.fillRect(B,A,P,D)}if(s==2){var M=W.QT.sZ(q.j5.Grad.v,P,D,0,e.pQ,e.Cp,!0);z.putImageData(M,B,A)}if(s==3){var $=q.j5.Ptrn.v,U;
if(V!=null)U=hB.i6($,V.add.Patt);if(U==null)U=hB.i6($,e.fr);kQ.sZ(U,P,D,z.canvas)}};function kQ(z){l6.call(this,z,!1,"patternbutton",18*13,10*13,cR.gv);
this.aaF=null}kQ.prototype=new l6;kQ.prototype.C8=function(z){var q=this.tg[this.kC.r()];this.Y_={classID:"Ptrn",Nm:{t:"TEXT",v:q.name},Idnt:{t:"TEXT",v:q.id}};
this.K(new dW(_.E.f));this.dI()};kQ.prototype.A1=function(){if(!this.XA)return;var z=this.tg,q=Math.floor(34*J.WU()),e=Math.floor(34*J.WU()),V=[],P=[];
for(var n=0;n<z.length;n++){V.push(kQ.sZ(z[n],q,e));P.push(z[n].name)}this.kC.ym(V,P,q,e);this.XA=!1};
kQ.prototype.a=function(z,q){if(this.Y_&&z.Idnt.v==this.Y_.Idnt.v)return;this.Y_=T.G(z);this.dI(q)};
kQ.prototype.r=function(){return T.G(this.Y_)};kQ.prototype.bz=function(){var z=this.aaF;if(z&&z.name.indexOf("/")==-1)z.name="Default/"+z.name;
return z?[z]:[]};kQ.prototype.dI=function(z){var q=Math.floor(50*J.WU()),e=Math.floor(50*J.WU()),V;if(z!=null)V=hB.i6(this.Y_,z.add.Patt);
if(V==null)V=hB.i6(this.Y_,this.tg);this.aaF=V;var P=kQ.sZ(V,q,e);this.n3.setAttribute("src",P);J.Ux(this.n3,q,e)};
kQ.TX=J.k("canvas","");kQ.sZ=function(z,q,e,V){if(V==null)V=kQ.TX;var P=V.getContext("2d");V.width=q;
V.height=e;if(z){var D=z.dE[1],B=D.s,A=D.T,s=z.dE[0],a=Math.min(q/B,e/A),M=a;if(M*B<2)M=2/B;var $=a;
if($*A<2)$=2/A;var U=W.On.tU([s,D],new e5(M,0,0,$,0,0),M>2),o=U.V.s,t=U.V.T,c=new ImageData(o,t);T.Yh(U.buffer,c.data);
P.putImageData(c,Math.floor((q-o)/2),Math.floor((e-t)/2))}return V.toDataURL()};function j4(z,q,e){if(q==null)q=24.2;
if(e==null)e=17;l6.call(this,z,!1,"patternbutton",q*13,e*13,cR.TI);this.hr=""}j4.prototype=new l6;j4.prototype.C8=function(z){this.Y_=T.G(this.tg[0][this.kC.r()[0]]);
this.K(new dW(_.E.f))};j4.prototype.A1=function(){var z=this.tg;if(z==null||!this.XA)return;var q=Math.floor(50*J.WU()),e=Math.floor(50*J.WU()),V=[],P=[];
for(var n=0;n<z[0].length;n++){V.push(j4.sZ(this.tg[0][n].L$,q,e,this.tg[1]));P.push(z[0][n].Pi.Nm.v.split("=").pop())}this.kC.ym(V,P,q,e);
this.XA=!1};j4.prototype.a=function(z,q,e,V){var P=JSON.stringify(z.L$)+","+e+","+V;if(this.hr!=P){this.hr=P;
this.Y_=T.G(z);this.dI(q,e,V)}};j4.prototype.dI=function(z,q,e){var V=Math.floor(68*J.WU()),P=Math.floor(68*J.WU()),D=j4.sZ(this.Y_.L$,V,P,z?z:this.tg[1],q,e);
this.n3.setAttribute("src",D);J.Ux(this.n3,V,P)};j4.sZ=function(z,q,e,V,P,D){var B=new hq;B.s=q;B.T=e;
B.buffer=T.n(q*e*4);B.add.Patt=V;B.Ru(P==null?90:P);B.nP(D==null?30:D);var A=new kk(0,0,Math.round(q*.5),Math.round(e*.5));
A.x=Math.round((q-A.s)/2);A.y=Math.round((e-A.T)/2);var s=B.OJ();s.V=A;s.buffer=T.n(A.D()*4);T.FH(s.buffer,4284045657);
hB.aMg(z,s,.5*100);B.Z.push(s);B.To();B.Kv();var a=ee.$x;ee.$x=!1;B.n9();var M=B.tW();ee.$x=a;var $=hZ.Eq(M.buffer,B.s,B.T);
return $};function fQ(z){l6.call(this,null,!1,"tpresetbutton",18*13,24*13,cR.$O,!0);J.Pf(this.$,"fitem");
this.kC.xF(1);this.id=z;this.dI();this.p.style.overflow="hidden";this.ma=new iP([15,7,9]);this.ma.a(!0);
this.ma.Q(_.E.f,this.ao7,this);this.TY.appendChild(this.ma.$)}fQ.prototype=new l6;fQ.prototype.aNG=function(z){if(this.id==z)return;
this.id=z;this.zT(this.tg)};fQ.prototype.C8=function(z){var q=this.tg[this.kC.r()],e=new dW(_.E.b,!0);
e.data={p:_.m.Ln,kK:"set",Lh:cR.$O,Ay:q};this.K(e)};fQ.prototype.W=function(){l6.prototype.W.call(this);
this.ma.W()};fQ.prototype.ao7=function(){this.XA=!0;this.A1()};fQ.prototype.A1=function(){if(!this.XA)return;
var z=Math.floor(16*J.WU()),q=Math.floor(16*J.WU()),e=[],V=[],P=this.tg,D=this.ma.r();for(var n=0;n<P.length;
n++){var B=W.$Y[P[n][1].classID];if(!D||B==this.id){V.push(P[n][0]?P[n][0].split("=").pop():"");e.push(B==-1?"":PIMG[W.c6[B]])}else{e.push(null);
V.push(null)}}this.kC.ym(e,V,z,q);this.XA=!1};fQ.prototype.dI=function(){var z=this.n3;z.setAttribute("src",PIMG[W.c6[this.id]]);
J.d6(z,"toolicon")};fQ.prototype.bz=function(){return null};fQ.D5={};fQ.sZ=function(z,q,e){var V=fQ.YI,P=fQ.D5,D=T.R0(z.l<<16|z.I<<8|z.c);
if(P[D])return P[D];if(V==null){var B=J.k("canvas");V=fQ.YI=B.getContext("2d")}var B=V.canvas;B.width=q;
B.height=e;V.fillStyle="#"+D;V.fillRect(0,0,q,e);var A=P[D]=B.toDataURL();return A};function ie(z,q,e){gq.call(this);
this.$=J.k("span","fitem curveeditor");this.LP=null;this.apm=0;this.pD="";this.mode=0;this.a4F=null;
this.aEb=null;this.d1=z;this.aPJ=q;this.aJa=e;this.Iw=null;this.X9=null;this.aMh=0;this.ai7=0;this.Q0=new f5;
this.Yk=this._s.bind(this);this.EQ=this.in.bind(this);this.l7=256;this.TX=J.k("canvas");this.YI=this.TX.getContext("2d");
J.sB(this.TX);this.$.appendChild(this.TX);this.hh(256,256);J.Br(this.TX,this.tY.bind(this));this.coords=J.k("div");
J.C(this.coords,"width:250px");this.$.appendChild(this.coords);var V=this.R$=e?100:255,P=null;this.Pa=new gO("X (in)",0,V,P,0,!1,!0);
this.q_=new gO("Y (out)",0,V,P,0,!1,!0);this.$j=new iP([19,3,0]);this.Pa.Q(_.E.f,this.bq,this);this.q_.Q(_.E.f,this.bq,this);
this.$j.Q(_.E.f,this.bq,this);this.coords.appendChild(this.Pa.$);if(e)this.coords.appendChild(this.$j.$);
this.coords.appendChild(this.q_.$)}ie.prototype=new gq;ie.prototype.W=function(){this.$j.W();this.Pa.W();
this.q_.W()};ie.prototype.hh=function(z,q){this.l7=Math.round(z);this.YI.resetTransform();J.rw(this.TX,this.l7,this.l7,this.YI);
this.YI.scale(this.l7/256,this.l7/256);if(this.Iw)this.zk()};ie.prototype.bq=function(z){var n=this.aCV(),q=this.Iw[n],e=255/this.R$;
q.v.Hrzn.v=this.Pa.r()*e;q.v.Vrtc.v=this.q_.r()*e;if(this.aJa)q.v.Cnty.v=this.$j.r();this.Iw.sort(function(V,P){return V.v.Hrzn.v-P.v.Hrzn.v});
this.zk();this.K(new dW(_.E.f))};ie.prototype.a=function(z,n,q){var e=JSON.stringify(z),V=q?JSON.stringify(q):null;
if(e==JSON.stringify(this.Iw)&&V==this.aEb)return;this.mode=z.length==256?1:0;this.Iw=JSON.parse(e);
this.a4F=q;this.aEb=V;if(n!=null)this.X9=this.Iw[n];this.zk()};ie.prototype.G2=function(z,q,e){this.LP=z;
this.apm=q;this.pD=e;this.zk()};ie.prototype.r=function(){return T.G(this.Iw)};ie.prototype.aCV=function(){return this.Iw.indexOf(this.X9)};
ie.prototype.tY=function(z){var q=256/this.l7,e=J.fH(z,this.TX);e.x*=q;e.y*=q;var V=e.x,P=256-e.y;if(this.d1){var D=V;
V=256-P;P=D}this.Q0.mX(V,P);if(this.mode==0){var B=0,A=1e9,U;for(var n=0;n<this.Iw.length;n++){var s=this.Iw[n].v,a=s.Hrzn.v-V,M=s.Vrtc.v-P,$=Math.sqrt(a*a+M*M);
if($<A){A=$;B=n}}if(A<15)U=this.Iw[B];else{U=T.JQ.Az(V,P,!0);this.Iw.push(U);this.Iw.sort(function(o,t){return o.v.Hrzn.v-t.v.Hrzn.v})}this.X9=U;
this.ai7=this.Iw.slice(0)}J.rq(document.body,this.Yk);J.KE(document.body,this.EQ);this._s(z)};ie.prototype.aB2=function(){var z=this.X9;
return z?z.v.Vrtc.v:0};ie.prototype._s=function(z){var q=256/this.l7,e=J.fH(z,this.TX);e.x*=q;e.y*=q;
var V=e.x,P=256-e.y;if(this.d1){var D=V;V=256-P;P=D}if(this.mode==0){var B=this.Iw,A=this.X9,s=this.ai7,a=s.indexOf(A),M=B.indexOf(A)!=-1,$=s.length-1,U=V;
if(a==0){U=Math.max(0,Math.min(s[1].v.Hrzn.v-1,V))}else if(a==$){U=Math.min(255,Math.max(s[$-1].v.Hrzn.v+1,V))}else{var o=V<0||V>255||P<0||P>255;
if(V<=s[a-1].v.Hrzn.v||V>=s[a+1].v.Hrzn.v)o=!0;if(!o&&!M)B.splice(a,0,A);if(o&&M)B.splice(a,1)}if(this.aPJ&&(a==0||a==s.length-1)){}else A.v.Hrzn.v=Math.round(U);
A.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(P)))}else{V=Math.round(V);P=Math.round(P);V=Math.max(0,Math.min(255,V));
P=Math.max(0,Math.min(255,P));var t=this.Q0.x,c=V,H=this.Q0.y,F=P;if(V<this.Q0.x){c=t;t=V;F=H;H=P}this.Iw[V]=P;
if(t!=c)for(var i=t;i<=c;i++)this.Iw[i]=Math.round(H+(i-t)*(F-H)/(c-t))}this.Q0.mX(V,P);this.zk();this.K(new dW(_.E.f))};
ie.prototype.in=function(z){J.TT(document.body,this.Yk);J.N$(document.body,this.EQ);this.K(new dW(_.E.f))};
ie.prototype.zk=function(){var z=this.YI,q=this.TX;z.clearRect(0,0,512,512);z.fillStyle="rgba(0,0,0,0.12)";
z.fillRect(0,0,256,256);var e=256/q.width;if(this.LP){z.save();z.translate(0,256);z.scale(1,-1);dV.akY(z,this.LP,5700/this.apm,this.pD);
z.restore()}z.strokeStyle="rgba(0,0,0,0.3)";z.lineWidth=1*e;z.beginPath();for(var n=0;n<5;n++){var V=Math.min((Math.floor(64*n/e)+.5)*e,255.5);
z.moveTo(0,V);z.lineTo(255,V);z.moveTo(V,0);z.lineTo(V,255)}z.stroke();function P(s){var $=T.JQ.YN(s,256);
for(var n=0;n<256;n++)$[n]*=255;return $}if(this.d1){z.save();z.transform(0,1,-1,0,256,0)}var D=ie.ahG,B=this.a4F,A=["rgba(255,0,0,0.4)","rgba(0,255,0,0.4)","rgba(0,0,255,0.4)"];
if(this.mode==0){var s=this.Iw;if(B)for(var n=0;n<B.length;n++)D(z,P(B[n]),A[n]);D(z,P(s),"white");z.lineWidth=2*e;
for(var n=0;n<s.length;n++){var a=s[n].v;z.fillStyle=this.X9==s[n]?"white":"#555";z.beginPath();z.moveTo(a.Hrzn.v,255.5-a.Vrtc.v);
z.arc(a.Hrzn.v,255.5-a.Vrtc.v,4,0,2*Math.PI);z.stroke();z.fill()}}else{if(B)for(var n=0;n<B.length;n++)D(z,B[n],A[n]);
D(z,this.Iw,"#000000")}if(this.d1)z.restore();var n=this.aCV();this.coords.className=n==-1?"disabled":"";
if(n==-1)return;var a=this.Iw[n].v,M=255/this.R$;this.Pa.a(Math.round(a.Hrzn.v/M));this.q_.a(Math.round(a.Vrtc.v/M));
if(a.Cnty)this.$j.a(a.Cnty.v)};ie.ahG=function(z,q,e){z.strokeStyle=e;z.beginPath();z.moveTo(0,255.5-q[0]);
for(var n=0;n<256;n++)z.lineTo(n,255.5-q[n]);z.stroke()};function dV(z,q,e){gq.call(this);this.$=J.k("span");
this.ZM=new cr([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.ZM.Q(_.E.f,this.LE,this);if(e==null){this.$.appendChild(this.ZM.$);
J.f9(this.$)}var V=J.k("div");this.$.appendChild(V);J.C(V,"background-color: var(--bg-canvas);");this.TX=J.k("canvas");
var P=this.TX;V.appendChild(P);P.width=Math.round(z*J.WU());P.height=Math.round(100*J.WU());J.Ux(P,P.width,P.height);
P.style.display="block";this.YI=P.getContext("2d");this.LP=null;this.tw=0;this.aEq=null;this.aAy=[];
this.fL=[];var D=["Mean:","Pixels:"],B=this.$;if(q)for(var n=0;n<D.length;n++){var A=new ij(D[n]);this.aAy.push(A);
B.appendChild(A.$);var s=new ij("hi");this.fL.push(s);B.appendChild(s.$);J.f9(B)}if(e!=null)this.xF(e)}dV.prototype=new gq;
dV.prototype.W=function(){this.ZM.W()};dV.prototype.xF=function(z){this.ZM.a(z);this.LE()};dV.prototype.a=function(z,q){this.LP=z;
this.aEq=q;this.LE()};dV.prototype.it=function(z){if(z==this.tw)return;this.tw=z;this.LE()};dV.prototype.LE=function(){if(this.LP==null)return;
var z=this.TX,q=this.YI,e=this.LP,V=this.aEq,P=this.ZM.r(),D=6e3/e[4],B="#"+T.R0(this.tw),A=dV.akY;z.width=z.width;
q.setTransform(z.width/256,0,0,-z.height/100,0,z.height);q.globalCompositeOperation="lighter";if(P==0)A(q,e[0],D/3,B);
else if(P<4)A(q,e[P],D,B);else{A(q,e[1],D,"#ff4545",!0);A(q,e[2],D,"#40bb60",!0);A(q,e[3],D,"#2266bb",!0)}q.setTransform(1,0,0,1,0,0);
if(V!=null){if(P==4)P=0;var s=0;for(var n=0;n<256;n++)s+=n*e[P][n];if(P==0)s/=3;this.fL[0].a((s/V).toFixed(1)+"");
this.fL[1].a(V+"")}};dV.akY=function(z,q,e,V,P){z.beginPath();z.moveTo(0,0);for(var D=0;D<256;D++)z.lineTo(D,q[D]*e);
z.lineTo(256,0);z.fillStyle=V;z.strokeStyle=V;if(P){z.globalAlpha=.2;z.fill();z.globalAlpha=1;z.stroke()}else z.fill()};
function aa(z,q){gq.call(this);this.fe={l:0,I:0,c:0};if(Math.abs(z-256/J.WU())<10)z=256/J.WU();var e=this.$=J.k("div","flexrow");
e.style.position="relative";var V=this.alv=J.k("div");e.appendChild(V);this.Id=new f5;this.Ar=new f5;
this.OT=this.x9.bind(this);this.Xb=this.a7x.bind(this);this.TX=J.k("canvas","");this.YI=this.TX.getContext("2d");
this.TX.width=this.TX.height=256;this.asY=this.YI.getImageData(0,0,256,256);this.aLV=-1;this.akW="";
this.wA=null;J.sB(this.TX);J.Br(this.TX,this.aNM.bind(this));V.appendChild(this.TX);this.aOZ=this.axj.bind(this);
this.ada=this.aah.bind(this);this.hl=J.k("canvas","");this.IZ=this.hl.getContext("2d");this.hl.width=20;
this.hl.height=256;this.aKO=this.IZ.getImageData(0,0,20,256);aa.a0i(this.aKO.data,20,256);J.sB(this.hl);
J.Br(this.hl,this.aLL.bind(this));e.appendChild(this.hl);J.C(this.TX,"width:"+z+"px; height:"+z+"px");
J.C(this.hl,"width:16px; height:"+z+"px");this.uO=new iP("Web Colors\u2001");this.uO.Q(_.E.f,this.update,this);
this.HB=new iP("CMYK gamut");this.HB.Q(_.E.f,this.update,this);if(q){J.f9(V);V.appendChild(this.uO.$);
V.appendChild(this.HB.$)}var P=this.DX=document.createElementNS("http://www.w3.org/2000/svg","svg");
e.appendChild(P)}aa.prototype=new gq;aa.prototype.hh=function(z,q){this.TX.style.width=this.alv.style.width=z-16+"px"};
aa.prototype.a=function(z){if(this.uO.r()){var q=T.G(z);aa.zH(q);var e=this.r();if(q.l==e.l&&q.I==e.I&&q.c==e.c)z=this.fe}this.fe=z;
this.update()};aa.prototype.r=function(){var z=T.G(this.fe);if(this.uO.r())aa.zH(z);return z};aa.prototype.update=function(){var z=this.fe,q=T.Pw(z.l,z.I,z.c),A=18;
if(q.YY==0)q.fY=this.Id.x/255;if(q.fY==0||q.YY==0)q.Hi=(255-this.hO(this.Ar.y))/255;if(q.YY!=0)this.Id.x=q.fY*255;
this.Id.y=(1-q.YY)*255;this.Ar.y=(1-q.Hi)*255;var e=this.asY,V=this.uO.r(),P=this.HB.r(),D=V+","+P;if(Math.abs(q.Hi-this.aLV)>.002||this.akW!=D){this.as7(new Uint8Array(e.data.buffer),256,256,q.Hi,V,P);
this.adt();this.aLV=q.Hi;this.akW=D}var B=this.YI;B.putImageData(e,0,0);e=this.aKO;B=this.IZ;B.putImageData(e,0,0);
B.strokeStyle="#ffffff";B.beginPath();B.moveTo(0,this.Ar.y);B.lineTo(20,this.Ar.y);B.lineWidth=2;B.stroke();
var s=this.Id.y/255,a=parseFloat(this.TX.style.width),M=parseFloat(this.TX.style.height),$=this.DX;$.setAttribute("width",A);
$.setAttribute("height",A);var U=Math.round(z.l*255)<<16|Math.round(z.I*255)<<8|Math.round(z.c*255),o="<circle cx=\""+A/2+"\" cy=\""+A/2+"\" r=\""+A/2+"\" fill=\"#"+T.R0(U)+"\"></circle>";
o+="<circle cx=\""+A/2+"\" cy=\""+A/2+"\" r=\""+(-.5+A/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*s)+")\" stroke-width=\"1\"></circle>";
o+="<circle cx=\""+A/2+"\" cy=\""+A/2+"\" r=\""+(-1.2+A/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
$.innerHTML=o;$.style.pointerEvents="none";$.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
$.style.position="absolute";$.style.left=a*(this.Id.x/255)-A/2+"px";$.style.top=M*(this.Id.y/255)-A/2+"px"};
aa.zH=function(z){z.l=~~(.5+z.l*5)*.2;z.I=~~(.5+z.I*5)*.2;z.c=~~(.5+z.c*5)*.2};aa.prototype.as7=function(z,q,e,V,P,D){var B=1/q,A=1/e;
for(var s=0;s<e;s++)for(var a=0;a<q;a++){var M=T.mj(V,a*B,(e-s-1)*A);if(P)aa.zH(M);var n=s*q+a<<2;z[n+0]=~~(M.l*255);
z[n+1]=~~(M.I*255);z[n+2]=~~(M.c*255);z[n+3]=255}if(D){var $=z.slice(0),U=T.Pv("rgbToRgbC"),o=U[2],t=U[3];
ICC.U.applyLUT(t,o,$,$);this.wA=T.n(q*e);for(var n=0;n<z.length;n+=4){var c=z[n]-$[n],H=z[n+1]-$[n+1],F=z[n+2]-$[n+2],i=c*c+H*H+F*F;
if(i>300){z[n]=z[n+1]=z[n+2]=200;this.wA[n>>>2]=255}}}};aa.a0i=function(z,q,e,V,P){if(V==null)V=1;if(P==null)P=0;
var D=new Uint32Array(z.buffer);for(var B=0;B<e;B++){var A=T.mj((1+V*(1-B/e)+P)%1,1,1),s=255<<24|A.c*255<<16|A.I*255<<8|A.l*255;
for(var a=0;a<q;a++)D[B*q+a]=s}};aa.prototype.aNM=function(z){J.rq(window,this.OT);J.KE(window,this.Xb);
this.x9(z);this.DX.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.DX.style.transform="scale(2.4)"};
aa.prototype.a7x=function(z){J.TT(window,this.OT);J.N$(window,this.Xb);this.DX.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.DX.style.transform="scale(1)"};aa.prototype.x9=function(z){var q=J.fH(z,this.TX);q.x=q.x*(256/parseFloat(this.TX.style.width));
q.y=q.y*(256/parseFloat(this.TX.style.height));this.Id.mX(this.hO(q.x),this.hO(q.y));this.adt();this.GT()};
aa.prototype.adt=function(){if(!this.HB.r())return;var z=this.Id,q=0,e=0,V=1e9;for(var P=0;P<256;P++){for(var D=0;
D<256;D++){if(this.wA[P*256+D]==255)continue;var B=D-z.x,A=P-z.y,s=B*B+A*A;if(s<V){q=D;e=P;V=s}}}z.x=q;
z.y=e};aa.prototype.GT=function(){this.fe=this.a6g();this.K(new dW(_.E.f))};aa.prototype.a6g=function(){var z=T.mj((255-this.hO(this.Ar.y))/255,this.XV(this.Id.x/255),this.XV(1-this.Id.y/255));
return{l:z.l,I:z.I,c:z.c}};aa.prototype.aLL=function(z){J.rq(window,this.aOZ);J.KE(window,this.ada);
this.axj(z)};aa.prototype.aah=function(z){J.TT(window,this.aOZ);J.N$(window,this.ada)};aa.prototype.axj=function(z){var q=J.fH(z,this.hl);
q.y=q.y*(256/parseFloat(this.hl.style.height));this.Ar.mX(this.hO(q.x),this.hO(q.y));this.GT()};aa.prototype.hO=function(z){return Math.max(0,Math.min(255,z))};
aa.prototype.XV=function(z){return Math.max(0,Math.min(1,z))};function kY(z,q,e,V){var P=eD.Op(q,V);
eD.call(this,z,P,e)}kY.prototype=new eD;function jT(){gq.call(this);this.z1=0;this.$=J.k("button","fitem bbtn");
this.$.style.width="130px";var z=[];for(var n=0;n<16;n++){var q={name:MIDDB.grps[n],sub:[],rR:cv.z0(n*8)};
z.push(q);for(var e=0;e<8;e++)q.sub.push({name:MIDDB.list[n*8+e],rR:cv.z0(n*8+e)})}z.push({name:MIDDB.list[200],rR:cv.z0(200)});
var V=[];V.push({name:MIDDB.list[300],rR:cv.z0(300)});V.push({name:MIDDB.list[500],rR:cv.z0(500)});V.push({name:MIDDB.list[501],rR:cv.z0(501)});
z.push({name:"More",sub:V});this.mR=new gu(z);this.mR.Q("select",this.EE,this);this.$.textContent="Piano \u25BC";
this.$.addEventListener("click",this.hP.bind(this),!1)}jT.prototype=new gq;jT.prototype.hP=function(z){var q=this.$.getBoundingClientRect(),e=this.mR;
e.W();e.parent=this;var V=new dW(_.E.b,!0);V.data={p:_.m.wL,MR:e,x:q.left,y:q.top+q.height+4};this.K(V)};
jT.prototype.EE=function(z){var q=this.mR.Gv(),e=q[0],V=200;if(e<=15)V=q[0]*8+q[1];if(e==17)V=[300,500,501][q[1]];
this.z1=V;this.K(new dW(_.E.f,!1))};jT.prototype.wP=function(z){var q=this.C_.indexOf(z.currentTarget),e=this.c4[q],V=this.Gl;
if(e.vZ!=null)V.vZ=e.vZ;if(e.o3!=null)V.o3=e.o3;V.Nn=e.Nn.slice(0);if(V.e6==null)V.e6=3;for(var n=0;
n<V.Nn.length;n++)V.Nn[n]*=V.e6/e.e6;this.K(new dW(_.E.f,!1))};jT.prototype.W=function(){};jT.prototype.a=function(z){this.z1=z;
this.$.textContent=MIDDB.list[z]+" \u25BC"};jT.prototype.r=function(){return this.z1};function br(){gq.call(this);
this.aNo=null;this.rv=new jQ;this.rv.Q(_.E.f,this.a1D,this);this.rv.parent=this;this.uo=new gO([12,14,0],1,150,"px",2,!0);
this.uo.Q(_.E.f,this.YF,this);this.uo.parent=this;this.Tu=new gO([16,0],.01,100,"px",2,!0,null,5);this.Tu.Q(_.E.f,this.YF,this);
this.Tu.parent=this;this.kz=new iP("Auto");this.kz.Q(_.E.f,this.YF,this);this.eO=new gO([16,1],-500,5e3,"%",0,!0);
this.eO.Q(_.E.f,this.YF,this);this.eO.parent=this;this.tr=new gO("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);
this.tr.Q(_.E.f,this.YF,this);this.tr.parent=this;this.dk=new gO("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);
this.dk.Q(_.E.f,this.YF,this);this.dk.parent=this;this.kx=new gO([16,2],-10,10,"px");this.kx.Q(_.E.f,this.YF,this);
this.kx.parent=this;this.SI=new l0(!0);this.SI.Q(_.E.f,this.ys,this);this.SI.parent=this;this.qk=new l0(!0);
this.qk.Q(_.E.f,this.ys,this);this.qk.parent=this;this.zm=new l0(!0);this.zm.Q(_.E.f,this.ys,this);this.zm.parent=this;
this.DP=new l0(!0);this.DP.Q(_.E.f,this.ys,this);this.DP.parent=this;this.nH=new iP([2,3]);this.nH.Q(_.E.f,this.YF,this);
this.US=new iP([14,9]);this.US.Q(_.E.f,this.YF,this);this.t_=new iP([12,46]);this.t_.Q(_.E.f,this.YF,this);
this.Ps=new eO(!0,!0);this.Ps.Q(_.E.f,this.YF,this);this.lD=new ht("...",null,null,!0);J.Br(this.lD.$,this.ajD.bind(this));
this.gW=new gq;var z=this.gW.$=J.k("div","floatcont form"),B=100;this.gW.parent=this;this.Ps.parent=this.gW;
this.bV=new gO([12,41],1,20,"px",0,!0,!0);this.bV.$.style.marginLeft="16px";this.bV.Q(_.E.f,this.YF,this);
this.bV.parent=this.gW;z.appendChild(this.qk.$);z.appendChild(this.nH.$);J.f9(z);z.appendChild(this.zm.$);
z.appendChild(this.US.$);J.f9(z);z.appendChild(this.bV.$);z.appendChild(this.Ps.$);J.f9(z);z.appendChild(this.DP.$);
z.appendChild(this.t_.$);this.so=new ht("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />",!1,"Faux bold");
this.VT=new ht("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />",!1,"Faux italic");
this.I2=new ht("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />",!1,"All caps");this.rZ=new ht("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />",!1,"Small caps");
this.wd=new ht("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />",!1,"Superscript");this.wy=new ht("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />",!1,"Subscript");
this.Md=new ht("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />",!1,"Underline");this.ei=new ht("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />",!1,"Strikethrough");
var q=[this.so,this.VT,this.I2,this.rZ,this.wd,this.wy,this.Md,this.ei];for(var n=0;n<q.length;n++)q[n].Q("click",this.aOb,this);
var e="standard context discr swash styl_alt titling ordinals fractions".split(" ");this.Hw=[];for(var n=0;
n<8;n++){var V=new ht("<img src=\""+PIMG["lig/"+e[n]]+"\" class=\"autoscale gsicon\" />",!1,dc.azd[n]);
V.Q("click",this.aOb,this);this.Hw.push(V)}this.ajI=new ht("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.aA6=new ht("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.a70=new ht("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.aD6=new ht("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.ahw=new ht("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a7B=new ht("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.aAd=new ht("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.iy=[this.ajI,this.aA6,this.a70,this.aD6,this.ahw,this.a7B,this.aAd];for(var n=0;n<this.iy.length;
n++)this.iy[n].Q("click",this.YF,this);var P=["lind","rind","flind","bind","aind"],D=[];for(var n=0;
n<5;n++)D.push("<img src=\""+PIMG["par/"+P[n]]+"\" class=\"autoscale gsicon\" /> ");this.HV=new gO(D[0],-B,B,"px");
this.cF=new gO(D[1],-B,B,"px");this.cw=new gO(D[2],-B,B,"px");this.Qo=new gO(D[3],-B,B,"px");this.yB=new gO(D[4],-B,B,"px");
this.S7=new eD([12,33],["Abc ...","... أي بي"]);this.Cv=new gO(["Auto VAR0",[16,0]],0,500,"%");this.ug=[this.HV,this.cF,this.cw,this.Qo,this.yB,this.S7,this.Cv];
for(var n=0;n<this.ug.length;n++){var A=this.ug[n];A.Q(_.E.f,this.YF,this);A.parent=this}this.tb=new cr("Digits",["LTR Arabic - 123","RTL Arabic- 123","Hindi (١,٢,٣,٤,٥,٦...)","Farsi (۱,۲,۳,۴,۵,۶...)"]);
this.tb.Q(_.E.f,this.YF,this);this.XX=[];this.a4S="";this.SY=J.k("div","labfxd")}br.prototype=new gq;
br.prototype.ajD=function(z){if(J.H2(this.gW.$))return;z.stopPropagation();var q=this.lD.$.getBoundingClientRect(),e=new dW(_.E.b,!0);
e.data={p:_.m.wL,MR:this.gW,x:q.left,y:q.top+q.height+4};this.K(e)};br.prototype.W=function(){this.rv.W();
this.uo.W();this.Tu.W();this.eO.W();this.kx.W();this.tr.W();this.dk.W();this.nH.W();this.US.W();this.t_.W();
this.bV.W();this.Ps.W();for(var n=0;n<this.ug.length;n++)this.ug[n].W()};br.prototype.a=function(z,q,e){if(q)this.aNo=q;
this.Zh=T.G(z);var V=this.Zh,P=V.c_,D=V.S$;this.so.a(P.FauxBold!=null?P.FauxBold:!1);this.VT.a(P.FauxItalic!=null?P.FauxItalic:!1);
this.I2.a(P.FontCaps==2);this.rZ.a(P.FontCaps==1);this.wd.a(P.FontBaseline==1);this.wy.a(P.FontBaseline==2);
this.Md.a(P.Underline);this.ei.a(P.Strikethrough);if(P._DigitSet!=null)this.tb.a(P._DigitSet);var B={};
if(P.Font!=null){var A=V.GD[P.Font],s=q.dN(dc.hb(A));if(s)B=s.GSUB;if(B==null)B={};if(s&&s.fvar){var a=s.fvar[0],M=s.fvar[1],$=JSON.stringify(a);
if($!=this.a17){this.a17=$;this.XX=[];J._8(this.SY);for(var n=0;n<a.length;n++){var U=a[n],o=new hH(U[5],U[1],U[3]);
o.W();this.XX.push(o);o.Q(_.E.f,this.a11,this);this.SY.appendChild(o.$)}}var t=A.Axis;if(t)for(var n=0;
n<Math.min(t.length,this.XX.length);n++)this.XX[n].a(t[n]/65536)}else if(this.XX.length!=0){this.XX=[];
J._8(this.SY);this.a17=""}}for(var n=0;n<8;n++){this.Hw[n]._w(B[dc.auZ[n]]);this.Hw[n].a(P[dc.Hw[n]])}this.rv.a(P.Font==null?null:dc.hb(V.GD[P.Font]),q,e);
var c=P.FontSize==null?20:P.FontSize;this.uo.a(c);var H=P.Tracking;this.eO.a(H==null?0:H);this.bV.a(P.OutlineWidth!=null?P.OutlineWidth:1);
this.Ps.a(az.kQ.afM(P));this.Tu.a(P.Leading!=null&&P.Leading!=0?P.Leading:c);this.kz.a(P.AutoLeading);
this.tr.a((P.VerticalScale!=null?P.VerticalScale:0)*100);this.dk.a((P.HorizontalScale!=null?P.HorizontalScale:0)*100);
this.kx.a(P.BaselineShift!=null?P.BaselineShift:0);this.nH.a(P.FillFlag!=null?P.FillFlag:!1);this.US.a(P.StrokeFlag!=null?P.StrokeFlag:!1);
this.t_.a(P._FillBackgroundFlag!=null?P._FillBackgroundFlag:!1);this.Yt(P.FillColor,this.SI);this.Yt(P.FillColor,this.qk);
this.Yt(P.StrokeColor,this.zm);this.Yt(P._FillBackgroundColor,this.DP);var F=D._Direction!=null?D._Direction:0,i=dc.vC(D);
for(var n=0;n<this.iy.length;n++)this.iy[n].a(i==n);this.S7.a(F);this.Cv.a((D.AutoLeading!=null?D.AutoLeading:1.2)*100);
this.HV.a(D.StartIndent!=null?D.StartIndent:0);this.cF.a(D.EndIndent!=null?D.EndIndent:0);this.cw.a(D.FirstLineIndent!=null?D.FirstLineIndent:0);
this.Qo.a(D.SpaceBefore!=null?D.SpaceBefore:0);this.yB.a(D.SpaceAfter!=null?D.SpaceAfter:0)};br.prototype.Yt=function(z,q){if(z){var e=dc.z8(z);
q.it(Math.round(e.l)<<16|Math.round(e.I)<<8|Math.round(e.c))}else q.it(0)};br.prototype.SE=function(){var z=new dW(_.E.b,!0);
z.data={p:_.m.Ln,Lh:cR.k3,Zh:this.Zh};this.K(z);var z=new dW(_.E.z,!0);z.U=W.no;z.data={p:"updateStyles"};
this.K(z)};br.prototype.aOb=function(z){var q=this.Zh.c_,e=z.target,V=!e.Iv(),P=this.Hw.indexOf(e);if(P!=-1){q[dc.Hw[P]]=V}else{if(e==this.so)q.FauxBold=V;
if(e==this.VT)q.FauxItalic=V;if(e==this.I2)q.FontCaps=V?2:0;if(e==this.rZ)q.FontCaps=V?1:0;if(e==this.wd)q.FontBaseline=V?1:0;
if(e==this.wy)q.FontBaseline=V?2:0;if(e==this.Md)q.Underline=V;if(e==this.ei)q.Strikethrough=V}this.SE()};
br.prototype.YF=function(z){var q=this.Zh.c_,e=this.Zh.S$,V=z.target;if(V==this.Ps){az.kQ.agP(V.r(),q)}if(V==this.eO){var P=V.r();
q.Tracking=P}if(V==this.Tu){q.AutoLeading=!1;q.Leading=V.r()}if(V==this.kz){q.AutoLeading=V.r()}if(V==this.bV)q.OutlineWidth=V.r();
if(V==this.uo)q.FontSize=V.r();if(V==this.tr)q.VerticalScale=V.r()/100;if(V==this.dk)q.HorizontalScale=V.r()/100;
if(V==this.kx)q.BaselineShift=V.r();if(V==this.nH)q.FillFlag=V.r();if(V==this.US)q.StrokeFlag=V.r();
if(V==this.t_)q._FillBackgroundFlag=V.r();if(V==this.tb)q._DigitSet=V.r();if(this.iy.indexOf(V)!=-1){e.Justification=dc.vC(e,this.iy.indexOf(V))}if(V==this.HV)e.StartIndent=V.r();
if(V==this.cF)e.EndIndent=V.r();if(V==this.cw)e.FirstLineIndent=V.r();if(V==this.Qo)e.SpaceBefore=V.r();
if(V==this.yB)e.SpaceAfter=V.r();if(V==this.S7)e._Direction=V.r();if(V==this.Cv)e.AutoLeading=V.r()/100;
this.SE()};br.prototype.a11=function(z){var q=this.Zh,e=q.GD[q.c_.Font],V=e.Axis,P=dc.hb(e),D=this.aNo.dN(P);
if(V)for(var n=0;n<Math.min(V.length,this.XX.length);n++){var B=this.XX[n].r();V[n]=Math.round(B*65536);
P+="_"+B.toFixed(3)+D.fvar[0][n][0]}e.Name=P;this.SE()};br.prototype.a1D=function(z){var q=this.Zh;if(q.c_.Font==null)q.c_.Font=0;
var e=this.rv.r(),V=q.GD[q.c_.Font],P=this.aNo.dN(e);delete V.Axis;if(P&&P.fvar){var D=P.fvar,B=[];for(var n=0;
n<D[0].length;n++)B.push(D[0][n][2]);for(var n=0;n<D[1].length;n++)if(D[1][n][3]==e)B=D[1][n][2].slice(0);
for(var n=0;n<B.length;n++)B[n]=Math.round(B[n]*65536);V.Axis=B}V.Name=e;this.SE()};br.prototype.ys=function(z){var q=z.target,e=q.ou(),V={Type:1,Values:[1,(e>>16&255)/255,(e>>8&255)/255,(e>>0&255)/255]};
for(var n=0;n<4;n++)V.Values[n]=Math.round(V.Values[n]*1e3)/1e3;var P=q==this.SI||q==this.qk?0:q==this.zm?1:2;
this.Zh.c_[["FillColor","StrokeColor","_FillBackgroundColor"][P]]=V;this.SE()};function jQ(){gq.call(this);
this.$=J.k("span","fontinput");this.JX=null;this.C5=null;this.iV=null;this.V0="";this.TD={};this.aqJ=[];
this.aHS={};this.auM={};this.axl=!1;this.Gt=J.k("button","fitem");J.C(this.Gt,"width:9em;");this.Gt.textContent="Family Name \u25BC";
this.$.appendChild(this.Gt);J.Br(this.Gt,this.aFY.bind(this));this.bB=new gq;this.bB.parent=this;var z=this.bB.$=J.k("div","floatcont");
z.style.padding="7px 7px 3px 7px";var q=new ij("Recent");z.appendChild(q.$);var e=this.a8q=new ht([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
e.Q("click",this.avT,this);e.$.style.float="right";z.appendChild(e.$);var V=this.a92=new iP("Local Fonts");
V.Q(_.E.f,this.a15,this);V.$.style.float="right";V.$.style.marginRight="10px";V.$.style.marginTop="3px";
z.appendChild(V.$);J.f9(z);this.cR=J.k("span","fitem imageset scrollable");this.cR.style.height="5.5em";
this.cR.style.width="100%";z.appendChild(this.cR);var P=J.k("div","form");this.bB.$.appendChild(P);this.be=new ht(J.GP("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.be.Q("click",this.ag6,this);P.appendChild(this.be.$);this.Rl=new eE([12,86],null,7.5);this.Rl.Q("input",this.vY,this);
P.appendChild(this.Rl.$);this.h0=new i_(10,"\u2630");P.appendChild(this.h0.$);this.h0.parent=this.bB;
this.h0.Q(_.E.f,this.dT,this);this.h0.$.style.float="right";this.h0.$.style.marginRight="0";this.Uj=J.k("span","fitem imageset scrollable");
this.Uj.style.height="30em";this.bB.$.appendChild(this.Uj);this.Uj.addEventListener("scroll",this.aEE.bind(this),!1);
this.zD=J.k("button","fitem");J.C(this.zD,"width:7em;");this.zD.textContent="SubFamily Name \u25BC";
this.$.appendChild(this.zD);J.Br(this.zD,this.aFY.bind(this));this.qp=new gq;this.qp.parent=this;this.qp.$=J.k("div","floatcont");
this.aCX=J.k("span","fitem imageset scrollable");this.qp.$.appendChild(this.aCX);this.aPx=this.ae_.bind(this);
this.avU=this.aP2.bind(this);this.Np=this.a1W.bind(this);this.aOO=this.aKA.bind(this);this.atV=this.alT.bind(this);
this.as$=this.Mc.bind(this)}jQ.prototype=new gq;jQ.Mj=[];jQ.prototype.a15=function(z){fx.b3._w(z.target.r(),function(){this.a();
this.dT()}.bind(this),function(){this.a92.a(!1)}.bind(this));this.dT()};jQ.prototype.aEE=function(z){var q=this.Uj.scrollTop,e=this.aqJ,V=Math.floor(q/27),P=Math.min(V+20,e.length);
for(var n=V;n<P;n++)this.a8G(e[n])};jQ.prototype.avT=function(){var z=new dW(_.E.b,!0);z.data={p:_.m.Bd};
this.K(z)};jQ.prototype.W=function(){this.h0.W();this.a8q.W();this.a92.a(fx.b3.Iv());this.be._D(J.GP("tools/cshape",null,"autoscale"))};
jQ.prototype.ag6=function(z){this.be.a(!this.be.Iv());this.dT(null,null,!0)};jQ.prototype.vY=function(z){this.V0=this.Rl.r().toLowerCase();
this.dT()};jQ.prototype.aFY=function(z){J.oC(z);this.ng=null;var q=z.currentTarget,e=q.getBoundingClientRect(),V=q==this.Gt,P=V?this.bB:this.qp;
if(J.H2(P.$)){this.ayJ(P);return}if(!V&&this.e4()==null)return;var D=new dW(_.E.b,!0);D.data={p:_.m.wL,MR:P,x:e.left,y:e.top+e.height};
this.K(D);if(V){this.dT(null,!0,!0)}};jQ.prototype.e4=function(z){if(z==null)z=this.iV;return z==null?null:this.JX.wO()[z]};
jQ.prototype.a1W=function(z){this.x3(this.bE,this.a0C,!0);this.axl=!0};jQ.prototype.aKA=function(z){this.a0C=null;
this.bE=z.currentTarget.firstChild.nextSibling.textContent;if(this.ng==null)this.ng=this.r();this.a0b=setTimeout(this.Np,250)};
jQ.prototype.alT=function(z){this.a0C=z.currentTarget.firstChild.textContent;this.bE=null;if(this.ng==null)this.ng=this.r();
this.a0b=setTimeout(this.Np,250)};jQ.prototype.Mc=function(z){this.a2k=null;this.air=null;clearTimeout(this.a0b);
if(this.axl){this.axl=!1;this.a(this.ng,this.JX);this.K(new dW(_.E.f,!1))}};jQ.prototype.ae_=function(z){var q=z.currentTarget.firstChild.nextSibling.textContent;
if(z.target.tagName.toLowerCase()=="button"){var e=this.C5.slice(0),V=e.indexOf(q);if(V==-1){e=e.slice(Math.max(0,e.length-99));
e.push(q)}else e.splice(V,1);var P=new dW(_.E.b,!0);P.data={p:_.m.Ln,Lh:cR.Ym,oo:e};this.K(P);this.dT()}else{this.Mc(z);
this.x3(q,null)}};jQ.prototype.aP2=function(z){this.Mc(z);this.x3(null,z.currentTarget.firstChild.textContent)};
jQ.prototype.x3=function(z,q,e){var V=z==null?this.qp:this.bB,P=this.JX;if(z==null)z=this.e4()[0];else{var D=P.YG(z),B=this.e4();
q=fx.Z0(D,B?B[1]:"regular")}var A=P.ut(z,q)[2];if(A==this.iV)return;if(!e){var s=jQ.Mj;for(var n=0;n<s.length;
n++)if(s[n][0][0]==z)s.splice(n,1);s.push([this.e4(A),Date.now()]);s.sort(function(a,M){return M[1]-a[1]});
s=s.slice(0,10)}this.a(A,P);this.K(new dW(_.E.f,!1));if(e==null)this.ayJ(V);this.dT()};jQ.prototype.ayJ=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.T8,MR:z};this.K(q)};jQ.prototype.r=function(){return this.iV};jQ.prototype.a=function(z,q,e){var V=this.JX;
if(z!=null)this.iV=z;else z=this.iV;if(q)this.JX=q;else q=this.JX;if(e)this.C5=e;else e=this.C5;if(z!=null){var P=this.e4(z),D,B;
if(P==null){D="- "+z;B="-------"}else{D=P[0];B=P[1];var A=q.YG(D);A.sort(fx.ado);this.aCX.textContent="";
for(var n=0;n<A.length;n++){var P=q.ut(D,A[n]);if(!this.h0.vB(P))continue;var s=this.cf(P,!1);this.aCX.appendChild(s)}}this.Gt.textContent=D.substring(0,15)+" \u25BC";
this.Gt.setAttribute("title",D+", \""+z+"\"");this.zD.textContent=B.substring(0,10)+" \u25BC";this.zD.setAttribute("title",B)}};
jQ.prototype.dT=function(z,q,e){var V=this.e4(),P=this.C5,D=this.JX.va();this.aqJ=[];var B=this.a92.r();
for(var A in D){var s=P.indexOf(A)!=-1,a=this.JX.YG(A),M=!1;for(var n=0;n<a.length;n++){var $=this.JX.ut(A,a[n]),U=!0;
if(this.V0.length>0&&$[0].toLowerCase().indexOf(this.V0)==-1)U=!1;else if(!this.h0.vB($))U=!1;else if(this.be.Iv()&&!s)U=!1;
else if($[5]=="--loc"&&!B)U=!1;if(U)M=!0}var o=this.TD[A];if(o==null){var t=fx.Z0(D[A],"regular"),c=this.JX.ut(A,t),o=this.cf(c,!0);
this.TD[A]=o;this.Uj.appendChild(o);this.aHS[A]="[true,false,false]"}if(M)this.aqJ.push(A);var H=V!=null&&V[0]==A;
this.auM[A]="["+M+","+H+","+s+"]";if(!q)this.a8G(A)}if(V&&e){var F=this.TD[V[0]];this.Uj.scrollTop=F.offsetTop-210}this.aEE();
if(this.a79==null)this.a79=function(){J._8(this.cR);for(var n=1;n<jQ.Mj.length;n++){var $=jQ.Mj[n][0],o=this.cf($,!0);
this.IK(o,$,!0);this.cR.appendChild(o)}}.bind(this);setTimeout(this.a79,200)};jQ.prototype.a8G=function(z){var q=this.TD[z];
if(q.firstChild==null){var e=this.JX.va(),V=fx.Z0(e[z],"regular"),P=this.JX.ut(z,V);this.IK(q,P,!0)}var D=this.aHS[z],B=this.auM[z];
if(D==B)return;var A=JSON.parse(D),s=JSON.parse(B);if(A[0]!=s[0]||A[1]!=s[1]){var a=s[0]?"":"display:none; ";
if(s[1])a+="background-color:rgba(0,0,0,0.13);";J.C(q,a)}if(A[2]!=s[2])J.C(q.firstChild,"opacity: "+(s[2]?"1":"0.2"));
this.aHS[z]=B};jQ.prototype.cf=function(z,q){var e=J.k("div","fontitem");if(!q)this.IK(e,z,q);return e};
jQ.prototype.IK=function(z,q,e){var V=q[e?0:1],P=e?this.aPx:this.avU,D=e?this.aOO:this.atV,a="";z.addEventListener("click",P,!1);
z.addEventListener("mouseover",D);z.addEventListener("mouseout",this.as$);if(e)z.appendChild(J.k("button","star"));
var B=J.k("span","label");B.setAttribute("title",V);B.textContent=V;z.appendChild(B);var A=J.WU(),s=1/A,M=fx.fJ*s,$=fx.I8*s;
if(1<A&&A<1.5)a="width:"+M+"px; height:"+$+"px;";var U=J.k("span","thumb gsicon");if(q.aai){a+="background: url("+q.aai+");";
if(1<A&&A<1.5)a+="background-size: "+M+"px "+$+"px;"}else{var o=Math.ceil(FNTS.list.length/fx.cols),t=Math.floor(q.XW/fx.cols),c=q.XW-t*fx.cols,H=c*fx.fJ,F=t*fx.I8;
if(1<A&&A<1.5){a+="background-size: "+fx.cols*M+"px "+o*$+"px;";H*=s;F*=s}a+="background-position:-"+H+"px -"+F+"px;"}J.C(U,a);
z.appendChild(U)};function i_(z,q){gq.call(this);this.$=J.k("button","fitem bbtn");this.$.addEventListener("click",this.hP.bind(this),!1);
this.gW=new gq;this.gW.$=J.k("div","floatcont");this.gW.parent=this;this.mR=J.k("div","flexrow");this.gW.$.appendChild(this.mR);
this.p6=q;this.J5=[];this.HT=[];var e=this.mR,V=J.k("div",""),P=J.k("div","");e.appendChild(V);e.appendChild(P);
this.dx=[];for(var n=0;n<FNTS.cats.length;n++)this.dx.push({name:FNTS.cats[n],index:n,AJ:0});this.D0=new iP([7,0]);
this.D0.a(!0);this.D0.Q(_.E.f,this.a9D,this);V.appendChild(this.D0.$);this.a26=J.k("div","vlist marged scrollable");
J.C(this.a26,"width:10.3em; height:"+z+"em; ");V.appendChild(this.a26);this.ks=[];for(var n=0;n<this.dx.length;
n++){var D=this.dx[n],B=new iP(D.name);this.ks.push(B);B.Q(_.E.f,this.ap6,this);B.a(!0);this.a26.appendChild(B.$);
this.J5.push(1)}this.ao4=new iP([7,0]);this.ao4.Q(_.E.f,this.aaK,this);this.aw3=J.k("div","vlist marged scrollable");
J.C(this.aw3,"width:8.6em; height:"+(z+1.5)+"em; ");P.appendChild(this.aw3);this.np=[];for(var n=0;n<FNTS.subsetNames.length;
n++){var B=new iP(FNTS.subsetNames[n]);this.np.push(B);B.Q(_.E.f,this.aO8,this);B.a(!1);this.aw3.appendChild(B.$);
this.HT.push(B.r()?1:0)}}i_.prototype=new gq;i_.prototype.a13=function(z){var q=this.np;for(var n=0;
n<q.length;n++){var e=(z>>>n&1)==1;this.HT[n]=e;q[n].a(e)}};i_.prototype.a1K=function(){return this.mR};
i_.prototype.W=function(){this.$.textContent=this.p6?this.p6:iE.get([25,1,0])+" \u25BC";this.D0.W();
this.ao4.W()};i_.prototype.hP=function(z){var q=this.$.getBoundingClientRect(),e=new dW(_.E.b,!0);e.data={p:_.m.wL,MR:this.gW,x:q.left,y:q.top+q.height,qH:!0};
this.K(e)};i_.prototype.vB=function(z){if(this.J5[z[4]]==0)return!1;else for(var q=0;q<this.HT.length;
q++)if(this.HT[q]==1&&(z[3]>>>q&1)==0)return!1;return!0};i_.prototype.a9D=function(z){var q=z.target.r(),e=this.ks,V=this.J5;
for(var n=0;n<e.length;n++){e[n].a(q);V[n]=q?1:0}this.K(new dW(_.E.f,!1))};i_.prototype.aaK=function(z){var q=z.target.r(),e=this.np,V=this.HT;
for(var n=0;n<e.length;n++){e[n].a(q);V[n]=q?1:0}this.K(new dW(_.E.f,!1))};i_.prototype.ap6=function(z){var n=this.ks.indexOf(z.target),q=this.dx[n].index;
this.J5[q]=1-this.J5[q];this.K(new dW(_.E.f,!1));this.aMQ(this.ks,this.D0)};i_.prototype.aO8=function(z){var n=this.np.indexOf(z.target);
this.HT[n]=1-this.HT[n];this.K(new dW(_.E.f,!1))};i_.prototype.aMQ=function(z,q){var e=!0;for(var n=0;
n<z.length;n++)e=e&&z[n].r();q.a(e)};function kL(z,q,e){l6.call(this,q,!0,"gradientbutton",18*13,10*13,cR.Ku);
this.pQ=-1;this.Cp=-1;this.aka=null;this.aiT=z;this.Bz=e}kL.prototype=new l6;kL.prototype.Ls=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.wa,rF:"gradienteditor",Yf:this.Y_,QW:this.aBX.bind(this),fU:this.Bz};this.K(q)};kL.prototype.aBX=function(z){this.a(z);
this.K(new dW(_.E.f))};kL.prototype.tq=function(z,q){this.pQ=z;this.Cp=q;this.dI()};kL.prototype.dI=function(){if(this.Y_==null)return;
var z=JSON.stringify(this.Y_)+","+this.pQ+","+this.Cp;if(z==this.aka)return;this.aka=z;var q=Math.floor(80*J.WU()),e=Math.floor(16*J.WU()),V=W.QT.sZ(this.Y_,q,e,0,this.pQ,this.Cp);
this.n3.setAttribute("src",V);J.Ux(this.n3,q,e)};kL.prototype.r=function(){var z;if(this.aiT)z=W.QT.aoI(this.Y_,this.pQ,this.Cp);
else z=T.G(this.Y_);return z};function jh(z){l6.call(this,z,!1,"swatchbutton",16*13,9.5*13,cR.qg)}jh.prototype=new l6;
function g6(z){l6.call(this,null,!0,"swatchbutton",16*13,8.75*13,cR.YO);this.Lr=z}g6.prototype=new l6;
g6.prototype.C8=function(z){var q=this.tg,e=z.target.r();this.a(e==0?[]:q.RM[e-1][1],q);this.K(new dW(_.E.f))};
g6.prototype.Ls=function(z){var q=this.Y_;if(q==null||q.length==0)q=[0,0,0];i5.apG(q,this,this.GT.bind(this))};
g6.prototype.GT=function(z){var q=z;if(typeof z=="number"){q=T.H_(z,1);q=[q.l,q.I,q.c]}this.a(q);this.K(new dW(_.E.f))};
g6.prototype.a=function(z,q){this.Y_=z;this.dI(q)};g6.prototype.dI=function(z){var q=Math.floor(20*J.WU()),e=Math.floor(20*J.WU()),V=J.k("canvas"),P=V.getContext("2d");
V.width=q;V.height=e;i5.XG(P,this.Y_,z,q,e,0,0,this.Lr==1);var D=P.canvas.toDataURL("png");this.n3.setAttribute("src",D);
J.Ux(this.n3,q,e)};g6.prototype.A1=function(){if(!this.XA)return;var z=Math.floor(20*J.WU()),q=Math.floor(20*J.WU()),e=[],V=[],P=this.tg,D=P.RM,B=J.k("canvas"),A=B.getContext("2d");
B.width=z;B.height=q;D=[["None",[]]].concat(D);for(var n=0;n<D.length;n++){V.push(D[n][0]);i5.XG(A,D[n][1],P,z,q,0,0);
var s=A.canvas.toDataURL("png");e.push(s)}this.kC.ym(e,V,z,q);this.XA=!1};g6.prototype.r=function(){return T.G(this.Y_)};
function ec(z,q,e){gq.call(this);this.$=J.k(e?"div":"span");var V=this.aK=J.k("input");this.aK.setAttribute("type","file");
if(q)V.setAttribute("multiple","");this.aK.addEventListener("change",this.a6P.bind(this),!1);this.a9L=this.$z.bind(this);
this.K7={};this.a3p=0;this.CR=z;var P=this.ua=new ht(iE.get(z)+" (0)",null,null,!0);this.$.appendChild(P.$);
P.addEventListener("click",function(D){V.click()});if(e){this.Wb=J.k("div","scrollable");J.C(this.Wb,"height:120px; width:100%; line-height:1.5em;");
this.$.appendChild(this.Wb);this.LE()}}ec.prototype=new gq;ec.prototype.a=function(z){this.K7=z;this.LE()};
ec.prototype.r=function(z){return this.K7};ec.prototype.a6P=function(z){var q=z.target.files;this.a3p=q.length;
this.K7={};for(var n=0;n<q.length;n++){var e=q[n],V=new FileReader;V.onload=this.a9L;V.eE=e.name;V.readAsArrayBuffer(e)}};
ec.prototype.$z=function(z){var q=this.K7[z.target.eE]=new Uint8Array(z.target.result);this.a3p--;if(this.a3p==0){this.LE();
this.K(new dW(_.E.f));this.aK.value=null}};ec.prototype.LE=function(){var z=this.K7;this.ua._D(iE.get(this.CR)+" ("+Object.keys(z).length+")");
var q=this.Wb;if(q==null)return;J._8(q);var e=[];for(var V in z)e.push(V);e.sort();for(var n=0;n<e.length;
n++){var P=J.k("div");P.textContent=e[n];q.appendChild(P)}};function aC(z,q,e,V,P){if(z==null)z=!1;if(q==null)q=!1;
if(e==null)e=!1;gq.call(this);this.js=new f5;this.z1=new f5;this.aF1=72;this.Kq=72;this.anb=V;this.pv=!0;
this.aC=!1;this.$=J.k("span");this.Bh=new gO([12,41],0,0,null,0,!1,!0,4);this.$.appendChild(this.Bh.$);
this.Bh.Q(_.E.f,this.EE,this);var D=["px","%"];if(z)D=D.concat(["cm","mm","in"]);if(P){D=[[12,76,2],[12,76,6]];
if(z)D=D.concat([[12,76,4],[12,76,5],[12,76,3]])}this.Dw=new cr(null,D);this.$.appendChild(this.Dw.$);
J.f9(this.$);this.Dw.Q(_.E.f,this.EE,this);this.Ok=new gO([12,42],0,0,null,0,!1,!0,4);this.$.appendChild(this.Ok.$);
this.Ok.Q(_.E.f,this.EE,this);this.WN=new ht("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.WN.Q("click",this.EE,this);this.gm=new ij("");this.gm.$.style.margin="0";this.gm.$.style.padding="0";
if(q){this.$.appendChild(this.WN.$);this.$.appendChild(this.gm.$);this.WN.IM()}else{var B=this.anj=new ht("\u21C6",!1,null,!0);
B.Q("click",this.nK,this);this.$.appendChild(B.$)}this.hd=new gO("DPI",0,0,null,3,!1,!0,4);this.IX=new cr(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);
if(z&&!V){J.f9(this.$);this.$.appendChild(this.hd.$);this.$.appendChild(this.IX.$)}this.IX.Q(_.E.f,this.EE,this);
this.hd.Q(_.E.f,this.EE,this);this.SK=new iP([12,23,1]);this.SK.Q(_.E.f,this.EE,this);if(e){J.f9(this.$);
this.$.appendChild(this.SK.$)}J.f9(this.$)}aC.prototype=new gq;aC.prototype.hh=function(z,q){this.Bh.K4.style.width=this.Ok.K4.style.width=(z-78-this.WN.Kr())/2+"px"};
aC.prototype.cp=function(){var z=this.anb;this.Bh.cp();this.Ok.cp();this.Dw.cp();var q=this.$;J._8(q);
this.Dw.$.style.marginRight="0";q.appendChild(this.Bh.$);if(this.anj)q.appendChild(this.anj.$);else q.appendChild(this.WN.$);
q.appendChild(this.Ok.$);q.appendChild(this.Dw.$);this.hd.cp();this.IX.cp();if(!z){J.f9(q);q.appendChild(this.hd.$);
q.appendChild(this.IX.$)}};aC.prototype.DU=function(){this.Bh.DU()};aC.prototype.aF5=function(z,q){this.pv=z;
if(q!=null)this.aC=q;if(!this.pv&&!this.aC&&this.Dw.r()==0){this.Dw.a(4);this.Jh()}};aC.prototype.aGf=function(z){this.WN.a(z)};
aC.prototype.W=function(){this.Bh.W();this.Ok.W();this.hd.W();this.IX.W();this.WN.W();this.SK.W();this.Dw.W()};
aC.prototype.nK=function(z){var q=this.z1.x;this.z1.x=this.z1.y;this.z1.y=q;this.Jh();this.K(new dW(_.E.f,!1))};
aC.prototype.EE=function(z){if(z.target==this.Dw&&!this.pv&&!this.aC&&this.Dw.r()==0)this.Dw.a(4);if(z.target==this.Dw||z.target==this.SK){this.Jh();
return}if(z.target==this.WN)z.target.a(!z.target.r());if(z.target==this.IX)window.locStor.setItem("dpiUnit",this.IX.r());
var q=this.js,e=parseFloat(this.Bh.r());if(isNaN(e))e=1;var V=parseFloat(this.Ok.r());if(isNaN(V))V=1;
var P=this.hd.r()*[1,2.54][this.IX.r()],D=this.Dw.r();if(this.pv){var B=this.Kq;if(D==1){e=this.js.x*(e/100);
V=this.js.y*(V/100)}var A=[1,1,2.54/B,25.4/B,1/B][D];e/=A;V/=A;if(this.SK.r()){e+=this.js.x;V+=this.js.y}if(z.target==this.hd){var s=P;
if(!this.aC){var a=s/B;e*=a;V*=a}B=s}if(this.WN.r()){if(z.target==this.Bh)V=e*(q.y/q.x);else e=V*(q.x/q.y)}e=Math.max(Math.abs(e),1);
V=Math.max(Math.abs(V),1)}else{var B=this.aF1;if(z.target==this.hd)B=P;else{if(this.WN.r()){if(z.target==this.Bh)V=e*(q.y/q.x);
else e=V*(q.x/q.y)}var A=[1,1,2.54/B,25.4/B,1/B][D],M=e/(D==1?100:q.x*A);B=B/M}e=q.x;V=q.y}this.z1=new f5(Math.round(e),Math.round(V));
this.Kq=B;this.Jh();this.K(new dW(_.E.f,!1))};aC.prototype.UA=function(n){this.Dw.a(n);this.Jh()};aC.prototype.aPj=function(){return this.Dw.r()};
aC.prototype.a=function(z,q,e){var V=window.locStor.getItem("dpiUnit");if(V!=null)this.IX.a(V);if(e!=!0)this.js=z.Y();
this.z1=z.Y();if(q!=null){this.aF1=q;this.Kq=q}this.Jh()};aC.prototype.Jh=function(){var z=this.z1.x,q=this.z1.y,e=this.Kq,V=(z/q).toFixed(3);
while(V.charAt(V.length-1)=="0")V=V.substring(0,V.length-1);if(V.charAt(V.length-1)==".")V=V.substring(0,V.length-1);
var P="  "+V+" : 1",D=function(M,$){while($!=0){var U=$;$=M%$;M=U}return M},B=D(z,q);if(Math.min(z,q)/B<10)P="  "+Math.round(z/B)+" : "+Math.round(q/B);
this.gm.a(P);if(this.SK.r()){z-=this.js.x;q-=this.js.y}var A=this.Dw.r();if(A==1){if(this.pv){z=100*z/this.js.x;
q=100*q/this.js.y}else{z=q=100*this.aF1/this.Kq}}else{z=Math.round(z);q=Math.round(q)}var s=[1,1,2.54/e,25.4/e,1/e][A];
z*=s;q*=s;var a=A==1||A==2||A==4?2:0;this.Bh.ke(a);this.Ok.ke(a);this.Bh.a(z);this.Ok.a(q);this.hd.a(e*[1,1/2.54][this.IX.r()])};
aC.prototype.r=function(){return this.z1.Y()};aC.prototype.yM=function(){return this.Kq};function lz(z,q,e){gq.call(this);
var V=z==0?["W","H","X","Y"]:["\u250F","\u2517","\u2513","\u251B"];this.Dh=z;this.a7t=q;this.atD=1;this.a0H=[1,1,0];
var P=this.$=J.k("div","numlist"),D=J.k("div","flexrow");P.appendChild(D);var B=J.k("div"),A=J.k("div");
D.appendChild(B);D.appendChild(A);J.C(B,"width:100px");J.C(A,"width:100px");var s=this.pj=[];for(var n=0;
n<4;n++){var a=new gO(V[n],0,0,null,2,!1,!0,4,null,e&&n<2);a.Q(_.E.f,this.EE,this);(n<2?B:A).appendChild(a.$);
s[n]=a}s[4]=new iP(z==0?[12,51]:[12,91,2]);s[4].a(!0);P.appendChild(s[4].$)}lz.prototype=new gq;lz.prototype.W=function(){var z=this.pj;
for(var n=0;n<5;n++)z[n].W();if(this.Dh==0)J.DJ(z[0],z[1])};lz.prototype.a=function(z,q){if(q)this.a0H=q;
q=this.a0H;var e=this.Dh==0?[z[2],z[3],z[0],z[1]]:[z[0],z[3],z[1],z[2]];this.atD=z[2]/z[3];for(var n=0;
n<4;n++){var V=this.pj[n];V.ke(q[2]==0&&this.a7t?0:2);V.a(T.tR.a5(e[n],q[0],q[1],q[2]))}};lz.prototype.r=function(){var z=[],q=this.a0H;
for(var n=0;n<4;n++){var e=T.tR.rp(this.pj[n].r(),q[0],q[1],q[2]);z[n]=this.a7t?Math.round(e):e}var V=this.Dh==0?[z[2],z[3],z[0],z[1]]:[z[0],z[2],z[3],z[1]];
return V};lz.prototype.EE=function(z){var q=this.Dh,e=this.pj.indexOf(z.currentTarget),V=this.r(),P=this.pj[4].r();
if(q==0){V[2]=Math.max(1,V[2]);V[3]=Math.max(1,V[3]);if(P&&e==0)V[3]=V[2]/this.atD;if(P&&e==1)V[2]=V[3]*this.atD}if(q==1){V[e]=Math.max(0,V[e]);
if(P)for(var n=0;n<4;n++)V[n]=V[e]}this.a(V,null);this.K(new dW(_.E.f,!1))};function e8(z){gq.call(this);
this.aPg=0;this.fL=[0,0,1,1,100,100];this.yi=[10,5,1,1,4,3,3,2,16,9];this.amb=0;this.aqK=72;this.a4Z=z;
this.$=J.k("span","fitem");this._g=new cr(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.$.appendChild(this._g.$);this._g.Q(_.E.f,this.EE,this);this.Bh=new gO("W",0,0,null,2,!1,!0);this.$.appendChild(this.Bh.$);
this.Bh.Q(_.E.f,this.EE,this);var q=this.Ps=new ht("\u21C4",!1,null,!0);q.Q("click",this.nK,this);this.$.appendChild(q.$);
this.Ok=new gO("H",0,0,null,2,!1,!0);this.$.appendChild(this.Ok.$);this.Ok.Q(_.E.f,this.EE,this);this.hd=new gO("New DPI",0,0,null,3,!1,!0,4);
this.hd.Q(_.E.f,this.EE,this);this.a({L:0,x:0,y:0})}e8.prototype=new gq;e8.prototype.c3=function(z){this.yi[0]=z[0];
this.yi[1]=z[1];var q=this.r();this.aqK=z[2];this.amb=z[3];this.a(q)};e8.prototype.W=function(){J.DJ(this.Bh,this.Ok);
this.hd.W();this._g.W()};e8.prototype.nK=function(z){var q=this.Ok.r();this.Ok.a(this.Bh.r());this.Bh.a(q);
this.EE(z)};e8.prototype.EE=function(z){if(z.target==this._g){var n=this._g.r(),q=this.fL,e=this.hd.$;
if(n==2&&e.parentNode==null&&this.a4Z)this.$.appendChild(e);if(n!=2&&e.parentNode!=null)this.$.removeChild(e);
if(n>2){n-=3;var V=this.yi[2*n],P=this.yi[2*n+1];q[2]=V;q[3]=P;this.Bh.a(V);this.Ok.a(P);this._g.a(1)}var D=this.r();
q[this.aPg*2]=D.x;q[this.aPg*2+1]=D.y;this.aPg=D.L;this.a({L:D.L,x:q[D.L*2],y:q[D.L*2+1]})}if(this.Bh.r()<1)this.Bh.a(1);
if(this.Ok.r()<1)this.Ok.a(1);this.K(new dW(_.E.f,!1))};e8.prototype.a=function(z){this._g.a(z.L);var q=z.x,e=z.y;
if(z.L==2){var V=this.amb,P=this.aqK,D=this.yi;q=T.tR.a5(z.x,P,D[0],V);e=T.tR.a5(z.y,P,D[1],V)}this.Bh.a(q);
this.Ok.a(e);if(z.L==0){this.Bh.QU();this.Ok.QU();this.Ps.QU()}else{this.Bh.oR();this.Ok.oR();this.Ps.oR()}};
e8.prototype.r=function(){var z=this.Bh.r(),q=this.Ok.r(),e=this._g.r();if(e==2){var V=this.amb,P=this.aqK,D=this.yi;
z=T.tR.rp(z,P,D[0],V);q=T.tR.rp(q,P,D[1],V);z=Math.round(z);q=Math.round(q)}var B={L:e,x:z,y:q},A=this.hd.r();
if(this.a4Z&&A!=0)B.do=A;return B};function lv(z){gq.call(this);this.$=J.k("span","");this.a4Y=z;var q=z?100:300;
this._b=new hH("Off X",-q,q,z?"%":"px",0,!z);this.YA=new hH("Off Y",-q,q,z?"%":"px",0,!z);this._b.Q(_.E.f,this.EE,this);
this.YA.Q(_.E.f,this.EE,this);this.$.appendChild(this._b.$);this.$.appendChild(this.YA.$)}lv.prototype=new gq;
lv.prototype.W=function(){this._b.W();this.YA.W()};lv.prototype.EE=function(z){this.K(new dW(_.E.f,!1))};
lv.prototype.ass=function(z){this._b.a(z.x);this.YA.a(z.y)};lv.prototype.abC=function(){return new f5(this._b.r(),this.YA.r())};
lv.prototype.a=function(z,q){var e=z.Hrzn.v,V=z.Vrtc.v;if(this.a4Y){e=e.val;V=V.val}this._b.a(e);this.YA.a(V);
if(q==!0)this.EE()};lv.prototype.r=function(){var z=this._b.r(),q=this.YA.r();if(this.a4Y)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:z}},Vrtc:{t:"UntF",v:{type:"#Prc",val:q}}};
else return{classID:"Pnt",Hrzn:{v:z,t:"doub"},Vrtc:{v:q,t:"doub"}}};function eO(z,q){gq.call(this);this.$=J.k("button");
this.c4=[{e6:3,Nn:[]},{e6:3,Nn:[12,6],vZ:0},{e6:3,Nn:[0,6],vZ:1,o3:1}];this.Gl=az.kQ.g1();this.a1$=z;
this.h0=q;this.$.addEventListener("click",this.hP.bind(this),!1);var e=J.k("canvas","gsicon");this.YI=e.getContext("2d");
this.$.appendChild(e);var V=J.k("span");V.textContent=" \u25BC";this.$.appendChild(V);this.gW=new gq;
this.gW.parent=this;this.gW.$=J.k("div","floatcont form label6");var P=this.gW.$;J.C(P,"width: 15em;");
this.TD=[q?new iP("Fill First"):new cr([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new eD([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new eD([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new gO("Limit",1,50,null,null,null,!0,2.5),new eE([19,9,2])];
for(var n=0;n<this.TD.length;n++){var D=this.TD[n];if(cW==0||n!=0||!q)P.appendChild(D.$);D.Q(_.E.f,this.EE,this)}J.f9(P);
this.C_=[];var B=this.wP.bind(this);for(var n=0;n<this.c4.length;n++){var A=J.k("button","fitem");this.C_.push(A);
P.appendChild(A);A.addEventListener("click",B,!1);var e=J.k("canvas","gsicon"),s=e.getContext("2d");
A.appendChild(e);this.ah3(s,40,20,this.c4[n])}}eO.prototype=new gq;eO.prototype.hP=function(z){var q=this.$.getBoundingClientRect(),e=new dW(_.E.b,!0);
e.data={p:_.m.wL,MR:this.gW,x:q.left,y:q.top+q.height+4,qH:!0};this.K(e)};eO.prototype.EE=function(z){var q=this.TD,e=q.indexOf(z.target),V=q[e].r(),P=this.Gl;
if(e==0)P.i4=this.h0?V?1:0:V;if(e==1)P.vZ=V;if(e==2)P.o3=V;if(e==3)P.E5=V;if(e==4){var D=P.Nn=V==""?[]:V.split(" ").map(parseFloat);
if(!this.a1$)for(var n=0;n<D.length;n++)D[n]*=P.e6}this.K(new dW(_.E.f,!1))};eO.prototype.wP=function(z){var q=this.C_.indexOf(z.currentTarget),e=this.c4[q],V=this.Gl;
if(e.vZ!=null)V.vZ=e.vZ;if(e.o3!=null)V.o3=e.o3;V.Nn=e.Nn.slice(0);if(V.e6==null)V.e6=3;for(var n=0;
n<V.Nn.length;n++)V.Nn[n]*=V.e6/e.e6;this.K(new dW(_.E.f,!1))};eO.prototype.W=function(){for(var n=0;
n<this.TD.length;n++)this.TD[n].W()};eO.prototype.a=function(z){this.Gl=T.G(z);var q=this.TD;if(z.i4!=null)q[0].a(this.h0?z.i4==1:z.i4);
if(z.vZ!=null)q[1].a(z.vZ);if(z.o3!=null)q[2].a(z.o3);if(z.E5!=null)q[3].a(z.E5);q[3]._w(z.o3==0);if(z.Nn!=null){var e=z.Nn.slice(0);
if(!this.a1$)for(var n=0;n<e.length;n++)e[n]/=z.e6;q[4].a(e.join(" "))}this.ah3(this.YI,40,16,z)};eO.prototype.r=function(){return T.G(this.Gl)};
eO.prototype.ah3=function(z,q,e,V){J.rw(z.canvas,q,e);var P=V.Nn?V.Nn:[],D=V.e6;if(D==null)D=3;else{D=Math.min(5,D);
P=P.slice(0);for(var n=0;n<P.length;n++)P[n]*=D/V.e6}z.clearRect(0,0,q,e);z.setLineDash(P);z.lineCap=["butt","round","square"][V.vZ];
z.lineJoin=["miter","round","bevel"][V.o3];z.lineWidth=D;z.beginPath();z.moveTo(0,e/2);z.lineTo(q*2,e/2);
z.stroke()};function eT(z){l6.call(this,z,!1,"contourbutton",34*13,16*13,cR.nl,!0);this.Rl=new eE([12,86],null,16);
this.Rl.Q("input",this.vY,this);this.gW.$.appendChild(this.Rl.$);this.aCv=null;this.V0="";this.Mq=null;
this.a(lh.g1())}eT.prototype=new l6;eT.prototype.W=function(){l6.prototype.W.call(this);this.Rl.W()};
eT.prototype.C8=function(z){this.a(this.aCv[z.target.r()[0]]);this.K(new dW(_.E.f))};eT.prototype.vY=function(z){this.V0=this.Rl.r().toLowerCase();
this.aDi()};eT.a5G=!1;eT.prototype.A1=function(){if(!this.XA)return;var z=this.tg;if(z==null||!eT.a5G){var q=new dW(_.E.b,!0);
q.data={p:_.m.ge,Lh:{url:"rsrc/basic/fa.zip"}};this.K(q);eT.a5G=!0}else{var e=Date.now(),V=Math.floor(38*J.WU()),P=Math.floor(38*J.WU());
this.Mq=[];for(var n=0;n<z.length;n++){if(z[n].ax$==null)z[n].ax$=eT.auk(z[n],V,P);this.Mq.push(z[n].ax$)}this.aDi();
this.XA=!1}};eT.prototype.aDi=function(){var z=Math.floor(38*J.WU()),q=Math.floor(38*J.WU());this.aCv=[];
var e=[],V=[],P=this.tg;for(var n=0;n<P.length;n++){if(P[n].v2.toLowerCase().indexOf(this.V0)==-1)continue;
this.aCv.push(P[n]);e.push(this.Mq[n]);V.push(P[n].v2)}this.kC.ym(e,V,z,q)};eT.prototype.a=function(z){this.Y_=eT.Y(z);
this.dI()};eT.prototype.dI=function(){var z=Math.floor(23*J.WU()),q=Math.floor(23*J.WU()),e=eT.auk(this.Y_,z,q);
this.n3.setAttribute("src",e);J.Ux(this.n3,z,q)};eT.prototype.r=function(){return eT.Y(this.Y_)};eT.Y=function(z){return{v2:z.v2,Pi:z.Pi,B:lK.cI.QD(z.B),sI:z.sI.Y()}};
eT.TX=null;eT.YI=null;eT.auk=function(z,q,e){var V=z.sI,P=Math.min(q/V.s,e/V.T)*.9,D=new e5;D.translate(-.5,-.5);
D.scale(.95,.95);D.translate(.5,.5);D.scale(P*V.s,P*V.T);D.translate((q-P*V.s)/2,(e-P*V.T)/2);var B=T.Hx(q,e);
B.save();B.fillStyle="black";B.clearRect(0,0,q,e);B.setTransform(D.x6,D.c,D.I$,D.at,D.yK,D.ww);T.S.Ct(z.B,B,0,0);
B.restore();var A=UPNG.encode([B.getImageData(0,0,q,e).data.buffer],q,e,0);return"data:image/png;base64,"+hZ.aS(A)};
function aY(z){l6.call(this,z,!1,"ICCButton",16*13,12*13,cR.JC,!0);this.kC.xF(1)}aY.prototype=new l6;
aY.prototype.pc=function(){var z="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var n=0;n<z.length;n++)z[n]="luts/"+z[n]+".CUBE";return z};aY.prototype.C8=function(z){this.a(this.tg[z.target.r()]);
this.K(new dW(_.E.f))};aY.prototype.A1=function(){if(!this.XA)return;var z=Math.floor(1*J.WU()),q=Math.floor(1*J.WU()),e=[],V=[],P=this.tg;
for(var n=0;n<P.length;n++){var D=P[n].Nm.v.split("\\").pop().split("/").pop();V.push(D);e.push(aY.sZ(P[n],z,q))}this.kC.ym(e,V,z,q);
this.XA=!1};aY.sZ=function(z,q,e){var V=J.k("canvas"),B="ICC / 3DL / look / cube";V.width=q;V.height=e;
var P=V.getContext("2d"),D=Math.floor(14*J.WU());P.font=D+"px sans-serif";if(z.Nm)B=z.Nm.v.split("\\").pop().split("/").pop();
P.fillText(B,10,D);return V.toDataURL()};aY.prototype.dI=function(){var z=Math.floor(120*J.WU()),q=Math.floor(20*J.WU());
this.n3.setAttribute("src",aY.sZ(this.Y_,z,q));J.Ux(this.n3,z,q)};function ly(){gq.call(this);this.fe=null;
this.$=J.k("span","fitem");this.eY=new iD([14,9]);this.abA=new gO(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.xB=new eO;this.fq=[this.eY,this.abA,this.xB];for(var n=0;n<this.fq.length;n++){var z=this.fq[n];
this.$.appendChild(z.$);z.parent=this;z.Q(_.E.f,this.EE,this)}}ly.prototype=new gq;ly.prototype.W=function(){for(var n=0;
n<this.fq.length;n++)this.fq[n].W()};ly.prototype.K5=function(z,q){this.eY.K5(z,q)};ly.prototype.EE=function(z){var q=this.fe,e=this.eY.r();
az.KG(q,e);q.strokeStyleLineWidth.v.val=this.abA.r();if(z.target==this.xB)az.Y1.write(q,this.xB.r());
this.fe=q;this.K(new dW(_.E.f,!1))};ly.prototype.a=function(z,q,e){this.fe=T.G(q);var V=az.E0(q);this.eY.a(z,V,e);
this.abA.a(q.strokeStyleLineWidth.v.val);this.xB.a(az.Y1.wp(q))};ly.prototype.r=function(){return T.G(this.fe)};
function ek(z){var q=[[18,0],[18,1],[18,2],[18,3]],e=eD.Op(["set/front","set/union","set/difference","set/intersection"]);
eD.call(this,z?[12,36]:null,e,q)}ek.prototype=new eD;function co(){gq.call(this);this.$=J.k("button","fitem bbtn");
J.Br(this.$,this.Yz.bind(this));this.gW=new gq;this.gW.$=J.k("div","floatcont form");J.C(this.gW.$,"max-width: 200px;");
this.gW.parent=this;var z=aJ;this.OY=[new iP("Start"),new iP("End"),new z([12,41],0,100,"px",null,!0,null,!0),new z([12,80,0],0,100,"px",null,!0,null,!0),new z("Concavity",-50,50,"%",null,null,null,!0)];
for(var n=0;n<this.OY.length;n++){var q=this.OY[n];q.parent=this;q.Q(_.E.f,this.GT,this);this.gW.$.appendChild(q.$)}this.aB1=J.k("div");
this.gW.$.appendChild(this.aB1)}co.prototype=new gq;co.prototype.a=function(z){for(var n=0;n<5;n++)this.OY[n].a(z[n]);
this.LE()};co.prototype.r=function(z){var q=[];for(var n=0;n<5;n++)q[n]=this.OY[n].r();return q};co.prototype.W=function(){this.$.textContent=iE.get([12,93,4]);
for(var n=0;n<this.OY.length;n++)this.OY[n].W()};co.prototype.GT=function(z){this.K(new dW(_.E.f,!1));
this.LE()};co.prototype.LE=function(z){var q=this.r(),e=200,V=60;q[2]/=J.WU();q[3]/=J.WU();var P=T.S.nU.G1(0,V/2,e,V/2,5,q),D=T.S.Kg(P);
this.aB1.innerHTML="<svg width=\""+e+"\" height=\""+V+"\" class=\"gsicon\">\t\t\t<path d=\""+D.tT+"\" />\t\t\t</svg>"};
co.prototype.Yz=function(z){if(J.H2(this.gW.$))return;z.stopPropagation();var q=this.$.getBoundingClientRect(),e=new dW(_.E.b,!0);
e.data={p:_.m.wL,MR:this.gW,x:q.left,y:q.top+q.height,qH:!0};this.K(e)};function jG(){gq.call(this);
this.$=J.k("div");this.pj=[];this.aHu=[];var z=this.NS=J.k("div"),q=J.k("h2");q.textContent="Create Teams";
z.appendChild(q);q.style.margin="26px 0 16px 0";var e=new ht("More about Teams",!1,null,!0);q.appendChild(e.$);
e.$.style.float="right";e.Q("click",this.alF,this);this.fx=J.k("div");z.appendChild(this.fx);this.ayu=new eE("Team Name",null,10);
z.appendChild(this.ayu.$);var V=this.al_=new ht("Create Team",null,null,!0);z.appendChild(V.$);V.Q("click",this.aMs,this);
var q=J.k("h2");q.textContent="Join Teams";z.appendChild(q);q.style.margin="26px 0 16px 0";this.ao=J.k("div");
z.appendChild(this.ao);this.aHj=new eE("Team ID",null,10);z.appendChild(this.aHj.$);var V=new ht("Join Team",null,null,!0);
z.appendChild(V.$);V.Q("click",this.aMs,this);this.ar8;this.aDr=this.N_.bind(this);this.aAI=this.aN0.bind(this);
this.hF=!1;this.QA();this.fN=null;this.aHl=""}jG.prototype=new gq;jG.prototype.alF=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.I3,link:"https://www.photopea.com/api/accounts#teams"};this.K(q)};jG.prototype.QA=function(){clearTimeout(this.ak_);
this.ak_=setTimeout(this.aAI,this.fN?10:3e3)};jG.prototype.aN0=function(){var z=lA.Cf();if(document.hidden||!J.H2(this.$)||z==null){this.QA();
return}var q=lA.mN();if(this.fN==null&&q==null)return;lA._h(this.fN?this.fN:q,this.aDr);this.hF=!0;this.fN=null};
jG.prototype.asK=function(z){z.acc.update=!0;this.$.style.pointerEvents="none";this.$.style.opacity="0.5";
if(this.hF)this.fN=z;else{clearTimeout(this.ak_);lA._h(z,this.aDr)}};jG.prototype.Xr=function(z){var q=typeof z=="string"?this.ar8:this.pj.indexOf(z.target),e=this.aHu[q],V=e[0],P=lA.mN();
if(P==null)P={};var D=P.acc,B=D.tjoin,A=D.tstart;if(V=="leave"){B.splice(B.indexOf(e[1]),1)}if(V=="add"||V=="remove"||V=="delTeam"||V=="showRename"||V=="rename"){var s=-1,a=0;
for(var n=0;n<A.length;n++){a+=A[n][1].length;if(A[n][2]==e[1])s=n}var M=A[s];if(V=="add"){var $=lA.aY();
if($&&$[0]==0&&$[1][2]<=a){alert("You can have at most "+$[1][2]+" members in your Premium.");return}M[1].push(e[2])}if(V=="remove")M[1].splice(M[1].indexOf(e[2]),1);
if(V=="delTeam"){if(M[1].length!=0){alert("Remove members first.");return}A.splice(s,1)}if(V=="showRename"){var U=new dW(_.E.b,!0);
U.data={p:_.m.wa,rF:"namewindow",Zz:M[0],Wm:this.Xr.bind(this)};this.K(U);this.ar8=q;e[0]="rename";return}if(V=="rename")M[0]=z}this.asK(P)};
jG.prototype.aMs=function(z){var q=this.al_==z.target,e=(q?this.ayu:this.aHj).r().trim();if(e==""){alert("The Team "+(q?"Name":"ID")+" is empty.");
return}if(!q){e=parseInt(e);if(isNaN(e)){alert("The ID must be a number");return}}var V=lA.mN();if(V==null)V={};
var P=V.acc;if(P==null)P=V.acc={};var D=P.tstart,B=P.tjoin;if(q){if(D==null)D=P.tstart=[];if(D.length>5){alert("You can have at most 5 teams");
return}D.push([e,[]])}else{if(D)for(var n=0;n<D.length;n++)if(D[n][2]==e){alert("You are the owner of this team");
return}if(B==null)B=P.tjoin=[];if(B.indexOf(e)!=-1){alert("You already asked to join this team.");return}P.tjoin.push(e)}P.update=!0;
this.asK(V)};jG.prototype.N_=function(){this.hF=!1;var z=lA.Cf(),q=z!=null,e=this.NS.parentNode!=null;
if(q!=e){J._8(this.$);if(q)this.$.appendChild(this.NS);else this.$.textContent="Log In to access Team Settings."}if(!q)return;
var V=lA.mN();if(V==null)V={};var P=V.acc;if(P==null)P={};var D=JSON.stringify(P)+"===="+JSON.stringify(z);
if(D!=this.aHl){this.aHl=D;var B=this.fx,A=this.ao;J._8(B);J._8(A);var s=this.pj=[],a=this.aHu=[],M=this.Xr.bind(this);
function $(j,w){j.addEventListener("click",M);s.push(j);a.push(w)}function U(K,j){var L=J.k("div"),w="rgba(255,255,255,0.15)";
L.appendChild(t("ID: "+K[2],54,w));L.appendChild(t(K[0],160,null,!0));if(j){L.appendChild(t(K[1].length+" members",80,null,!0))}else{L.appendChild(t(K[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<K[1]*1e3)L.appendChild(t("Premium",80,"rgba(0,140,0,1)"))}var u=t("",120);L.appendChild(u);
J.C(u,"float:right;text-align:right");if(j){var l=new ht("Rename",null,null,!0);$(l,["showRename",K[2]]);
u.appendChild(l.$)}var l=new ht(j?"Delete":"Leave",null,null,!0);$(l,[j?"delTeam":"leave",K[2]]);u.appendChild(l.$);
return L}function o(j,w,S){var L=J.k("div");L.style.paddingLeft="46px";L.appendChild(t(w?"\u2713":"...",8,w?"#229922":"#aa7700"));
L.appendChild(t(j[1],200));L.appendChild(t(j[2],240));var u=t("",120);L.appendChild(u);J.C(u,"float:right;text-align:right");
var l=new ht(w?"Remove":"Add",null,null,!0);$(l,[w?"remove":"add",S,j[0]]);u.appendChild(l.$);return L}function t(j,w,u,l){var I=J.k("span");
I.textContent=j;J.C(I,"display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+w+"px;  "+(u!=null?"background-color:"+u+";":"")+(l?"font-weight:bold;":""));
return I}var c=P.tstart,H=P.tjoin,F=z.wantToJoin,i=z.inTeams;if(c)for(var X=0;X<c.length;X++){var K=c[X],f=F["t"+K[2]];
if(f==null)f=[];var d={};for(var n=0;n<f.length;n++)d["u"+f[n][0]]=f[n];var L=U(K,!0);B.appendChild(L);
L.style.marginTop="10px";for(var n=0;n<K[1].length;n++){var G=K[1][n],x=d["u"+G];if(x==null)x=[G,"========","... user has left your team"];
delete d["u"+G];var O=o(x,!0,K[2]);B.appendChild(O)}for(var v in d){var x=d[v],O=o(x,!1,K[2]);B.appendChild(O)}}if(H){var C={};
for(var n=0;n<i.length;n++)C["t"+i[n][2]]=i[n];for(var X=0;X<H.length;X++){var S=H[X],K=C["t"+S],L=U(K?K:["==========",-1,S],!1);
A.appendChild(L)}}this.K(new dW(_.E.f))}if(this.fN==null){this.$.style.pointerEvents="auto";this.$.style.opacity="1"}this.QA()};
function gR(){gq.call(this);this.$=J.k("span","fitem SymButton");var z=this.ua=new ht("<img src=\""+PIMG.sym+"\" class=\"autoscale gsicon\" />");
this.$.appendChild(z.$);J.KE(z.$,this.Rp.bind(this));this._E=null;this.W()}gR.prototype=new gq;gR.prototype.W=function(){if(this._E)this._E.W()};
gR.prototype.Rp=function(z){var q=this._E;if(q==null){var e=40,V=40,P=J.k("canvas"),D=P.getContext("2d");
P.width=e;P.height=V;var B=new e5(e,0,0,V,0,0);D.lineWidth=2;var A=[{name:"No Symmetry",tL:!0}],s=T.NO.list,a=[{N:_.E.z,U:W.RY,M:{p:"pathedit",kE:"sspath",u:-1}}];
for(var n=0;n<s.length;n++){D.clearRect(0,0,e,V);var M=T.NO.av(n,5);T.R.v(M.J,B,M.J);for(var $=0;$<M.J.length;
$++)M.J[$]=Math.round(M.J[$]);D.beginPath();Typr.U.pathToContext({cmds:M._,crds:M.J},D);D.rect(0,0,e,V);
D.stroke();var U={name:s[n][0],rR:D.canvas.toDataURL()};A.push(U);if(n<8)a.push({N:_.E.z,U:W.RY,M:{p:"pathedit",kE:"new",IT:[n,0]}});
else{U.sub=[];var o={sub:[]};a.push(o);for(var $=0;$<12;$++){U.sub.push({name:"Rays: "+(2+$)});o.sub.push({N:_.E.z,U:W.RY,M:{p:"pathedit",kE:"new",IT:[n,2+$]}})}}}A[A.length-1].tL=!0;
A.push({name:"Selected Path"},{name:"Transform Symmetry"});a.push({N:_.E.z,U:W.RY,M:{p:"pathedit",kE:"sspath",u:0}},{N:_.E.z,U:W.RY,M:{p:"pathedit",kE:"sspath",u:1}});
q=this._E=new gu(A,a)}var t=this.ua.$.getBoundingClientRect();q.W();q.parent=this;var o=new dW(_.E.b,!0);
o.data={p:_.m.wL,MR:q,x:t.x,y:t.y+t.height};this.K(o)};function e7(){gq.call(this);this.WA=[16,!0,!0];
this.$=J.k("span","");this._z=[new gO([12,24],0,255),new iP([12,25,1]),new iP([12,25,0])];for(var n=0;
n<3;n++){var z=this._z[n];z.parent=this;z.a(this.WA[n]);this.$.appendChild(z.$);z.Q(_.E.f,this.EE,this)}}e7.prototype=new gq;
e7.prototype.EE=function(){for(var n=0;n<3;n++)this.WA[n]=this._z[n].r();this.K(new dW(_.E.f,!1))};e7.prototype.a=function(z){this.WA=z.slice(0);
for(var n=0;n<3;n++)this._z[n].a(z[n])};e7.prototype.r=function(){return this.WA.slice(0)};e7.prototype.W=function(){for(var n=0;
n<3;n++)this._z[n].W()};function hl(z,q){gq.call(this);if(q==null)q=!1;this.Mq=[];this.aqY=Math.floor(120*J.WU());
this.aO$=Math.floor(23*J.WU());this.JL=0;this.Te=[];this.p4=[];for(var e in T.OL.e){if((e=="warpCustom"||e=="warpCylinder")&&!q)continue;
this.Te.push(e);this.p4.push(T.OL.e[e])}this.$=J.k("span","fitem warpbutton");this.gW=new gq;this.gW.$=J.k("div","floatcont");
if(z){this.CR=z;this.C4=J.k("label","flabel");this.$.appendChild(this.C4)}this.p=J.k("button");this.$.appendChild(this.p);
J.Br(this.p,this.Yz.bind(this));this.V_=new f2(!0);this.gW.$.appendChild(this.V_.$);this.V_.Q(_.E.f,this.aDs,this);
J.C(this.gW.$,"width:"+Math.floor(8+this.aqY/J.WU())+"px;");this.W()}hl.prototype=new gq;hl.prototype._D=function(z){this.C4.textContent=z};
hl.prototype.W=function(){if(this.CR)this.C4.innerHTML=iE.get(this.CR)+":";this.dI()};hl.aH9={};hl.a3Y=function(z,q,e){var V=iE.get(T.OL.e[z]),P=V+"-"+z+"-"+q+"-"+e,D=hl.aH9[P];
if(D)return D;var B=hl.YI;if(A==null){var A=J.k("canvas");B=hl.YI=A.getContext("2d")}var A=B.canvas;
if(A.width!=q||A.height!=e){A.width=q;A.height=e}B.font=Math.floor(13*J.WU())+"px sans-serif";B.lineWidth=1;
B.strokeStyle="#000000";var s=Math.floor(16*J.WU()),a=new kk(0,0,s,s);B.clearRect(0,0,A.width,A.height);
var M=T.OL.OL(z,z=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);T.OL.aKY(M[3],a);var $=T.R.iR(a);
$._.push("M","L","M","L");$.J.push(0,s/2,s,s/2);$.J.push(s/2,0,s/2,s);$=T.R.VW($);$=T.R.V9($,s/5);T.BQ.v(M,$.J,a);
T.R.v($.J,new e5(1,0,0,1,Math.floor(8*J.WU())+.5,Math.floor(3*J.WU())+.5),$.J);B.beginPath();Typr.U.pathToContext({cmds:$._,crds:$.J},B);
B.stroke();B.fillText(V,Math.floor(40*J.WU()),Math.floor(16*J.WU()));D=hl.aH9[P]=A.toDataURL();return D};
hl.prototype.Yz=function(z){if(J.H2(this.gW.$))return;z.stopPropagation();var q=this.aqY,e=this.aO$;
for(var n=0;n<this.Te.length;n++)this.Mq[n]=hl.a3Y(this.Te[n],q,e);this.V_.ym(this.Mq,null,q,e);var V=this.p.getBoundingClientRect(),P=new dW(_.E.b,!0);
P.data={p:_.m.wL,MR:this.gW,x:V.left,y:V.top+V.height+4};this.K(P)};hl.prototype.aDs=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.T8,MR:this.gW};this.K(q);this.JL=z.target.r()[0];this.dI();this.K(new dW(_.E.f))};hl.prototype.dI=function(){var z=this.aqY,q=this.aO$;
this.V_.a([this.JL]);this.p.innerHTML="<img src=\""+hl.a3Y(this.Te[this.JL],z,q)+"\" class=\"gsicon\" />";
J.Ux(this.p.firstChild,z,q)};hl.prototype.r=function(){return this.Te[this.JL]};hl.prototype.a=function(z){this.JL=this.Te.indexOf(z);
this.dI()};function j8(z,q,e){gq.call(this);if(z==null)z=!1;if(q==null)q=!1;if(e==null)e=!1;this.agD=q;
this.OL=null;this.F_=new hl([12,22],e);this.F_.parent=this;this.F_.Q(_.E.f,this.SE,this);this.TZ=new cr([22,0],[[22,4,0],[22,4,1]]);
this.TZ.Q(_.E.f,this.SE,this);var V=z?gO:aJ;this.Jj=new V([22,1],-100,100,"%");this.hR=new V("Horizontal Distortion:",-100,100,"%");
this.Qq=new V("Vertical Distortion:",-100,100,"%");this.Jj.parent=this.hR.parent=this.Qq.parent=this;
this.Jj.Q(_.E.f,this.SE,this);this.hR.Q(_.E.f,this.SE,this);this.Qq.Q(_.E.f,this.SE,this)}j8.prototype=new gq;
j8.prototype.W=function(){this.F_.W();this.TZ.W();this.Jj.W();var z=this.agD?1:100;this.hR._D(iE.get([22,2]).substring(0,z)+":");
this.Qq._D(iE.get([22,3]).substring(0,z)+":")};j8.prototype.SE=function(){var z=this.OL,q=this.F_.r(),e=z.warpStyle.v.warpStyle;
if(q=="warpCustom")T.OL.qj(z,T.OL.GZ(z));else delete z.customEnvelopeWarp;z.warpStyle.v.warpStyle=this.F_.r();
z.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.TZ.r()];var V=this.Jj.r();z.warpPerspective.v=this.hR.r();z.warpPerspectiveOther.v=this.Qq.r();
if(q=="warpNone"||q=="warpCustom"){V=0;z.warpPerspective.v=0;z.warpPerspectiveOther.v=0}else if(e=="warpNone"||e=="warpCustom"||e=="warpCylinder")V=50;
if(q!="warpCylinder"){z.warpValue={t:"doub",v:V};delete z.warpValues}else{z.warpValues=W.On.V1([0,100,100,0,.15,.2,1]);
delete z.warpValue}this.K(new dW(_.E.f,!1));this.a(z)};j8.prototype.r=function(z){return T.G(this.OL)};
j8.prototype.a=function(z){this.OL=T.G(z);var q=z.warpStyle.v.warpStyle,e=q=="warpNone"||q=="warpCustom"||q=="warpCylinder";
this.F_.a(q);if(!e){this.TZ.a(z.warpRotate.v.Ornt=="Hrzn"?0:1);this.Jj.a(z.warpValue.v);this.hR.a(z.warpPerspective.v);
this.Qq.a(z.warpPerspectiveOther.v)}var V=[this.TZ,this.Jj,this.hR,this.Qq];for(var n=0;n<V.length;n++)if(e)V[n].QU();
else V[n].oR()};function hX(z,q,e){gq.call(this);this.ajf={};this.$=J.k("div");this.arG=z;this.gG=null;
this._n=new f5(0,0);this.VF="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.aDW=q;
this.afp=e;this.XB=null;this.yN=new J.Qx(this.$);this.Rq("grab");this.TX=J.k("canvas","canv");this.$.appendChild(this.TX);
this.YI=this.TX.getContext("2d",{willReadFrequently:!0});this.a7n=null;this.Q3=null;this.XZ=0;this.a2R=0;
this.a3U=0;this.aBC=0;this.a4Q=this.a8N.bind(this);this.aOv=null;this.A=new gg({s:1,T:1});this.w6=null;
this.CA=null;this.zC=[];this.a3M=0;this.jI=0;this.azg=this.O3.bind(this);this.aCr=this.Qh.bind(this);
this.a10=this.lG.bind(this);this.aFc=this.oc.bind(this);this.aGb=0;this.jd=null;this.azS(this.TX);this.TJ(this)}hX.prototype=new gq;
hX.prototype.aIP=function(z){this.ajf=z;this.zk()};hX.G8=function(z){var q=new cz(!0);if(z>=0)q.qI("Space");
if(z>=1){q.qI("ControlLeft");if(z==2)q.qI("AltLeft")}return q};hX.prototype.gi=function(z){var q=this.XB,e=null;
if(z.t(cz.ii)){e="grab";if(z.t(cz.EF)){e="zoom-in";if(z.t(cz.mh))e="zoom-out"}}this.gG=e;if(e)q=e;this.yN.N_(q,this.VF);
if(z.t(cz.EF)){var V=0;if(z.t(cz.Zj))V=1;if(z.t(cz.w1))V=-1;if(V!=0){this.qA(new f5(this.TX.width/2,this.TX.height/2),V==1)}}};
hX.prototype.Rq=function(z){this.XB=z;if(this.gG)return;this.yN.N_(z,this.VF)};hX.prototype.azS=function(z){J.Br(z,this.azg);
J.sB(z);z.addEventListener("wheel",this.aFc,!1)};hX.prototype.TJ=function(z){z.Q("viewchange",this.apC,this)};
hX.prototype.apC=function(z){var q=this.A.C7,e=z.currentTarget.VI();this.A.C7=e.C7;this.A.g=e.g.Y();
if(q!=e.C7)this.Zo();this.zk()};hX.prototype.VI=function(){return{C7:this.A.C7,g:this.A.g}};hX.prototype.a=function(z,q,e,V){if(z==null){this.Q3=null;
return}var P=z[0].hp;if(this.Q3!=null&&this.Q3[0].hp.bs(P)){}else{this.A.Va={s:P.s,T:P.T};this.A.C7=1;
this.A.g=new f5(0,0)}this.Q3=z;this.Zo(V);this.jT();this.XZ=0;this.a2R=Date.now();this.a3U=0;this.aBC=q==null?0:q;
if(e)this.ajf=e;this.a8N(V)};hX.prototype.oc=function(z){z.preventDefault();if(z.deltaY==0||Date.now()-this.aGb<100)return;
var q=J.fH(z);q.x=J.WU()*q.x;q.y=J.WU()*q.y;this.aGb=Date.now();this.qA(q,z.deltaY<0)};hX.prototype.qA=function(z,q){W.jH.zo(this.A,z,q);
this.aqh()};hX.prototype.ih=function(z){var q=this.A,e=this.Q3[0].hp;this.A.C7=W.jH.nQ(e.s,e.T,q.bX.s,q.bX.T);
if(z)this.A.g=new f5(0,0);this.aqh()};hX.prototype.aqh=function(){this.Zo();this.K(new dW("viewchange"));
this.K(new dW("zoom"))};hX.prototype.Zo=function(z){};hX.prototype.jT=function(){clearTimeout(this.aOv)};
hX.prototype.zk=function(z){if(this.Q3==null||!J.H2(this.TX)||z&&z.a8())return;var q=this.A,e=this.Q3[0].hp,V=q.bX,P=V.s,D=V.T,B=this.a7n,K,f=null;
if(B==null||B.length!=V.D()*4){B=this.a7n=T.n(V.D()*4);console.log("creating image data")}else B.fill(0);
var A=this.Q3[this.XZ],s=this.YI,a=q.VL(!1),M=a.Y();M.TG();var $=Date.now(),U=z?z:e,o=T.R.iR(U).J;T.R.v(o,M,o);
var t=T.R.b_(o),c=V.HX(t),H=new Uint8Array(B.buffer,0,c.D()*4);gg.l5(q.bX);var F=new Uint8Array(gg.W$.buffer,0,c.D()*4),i=new Uint8Array(A.data);
if(q.C7==1){var X=e.Y();X.offset(t.x-U.x,t.y-U.y);T.aF(i,X,F,c)}else T.scale.qn(i,e,a,F,c,!1);if(this.aDW)K=F;
else{K=H;T.w$(H,c.s,c.T,8,U.x,U.y);T.w.Mt("norm",F,c,H,c,c,1)}if(z==null)s.clearRect(0,0,P,D);if(c.D()!=0)s.putImageData(new ImageData(new Uint8ClampedArray(K.buffer,0,c.D()*4),c.s,c.T),c.x,c.y);
if(this.afp){P=e.s,D=e.T;f=P+" \xD7 "+D+" ("+(P*D/1e6).toFixed(1)+"MP)"}var d=hX.aIz(q.C7,"#ffffff",f);
s.putImageData(d,0,q.bX.T-d.height);var L=this.ajf;if(L){var G=eL.E1([.1,.5,1,1]),x=eL.E1([1,0,0,1]),O=eL.E1([1,1,1,1]),v=eL.E1([0,0,0,1]),M=q.VL(!1);
M.TG();s.save();s.setTransform(M.x6,M.c,M.I$,M.at,M.yK,M.ww);s.strokeStyle=x;if(L.aB6){eL.UQ(L.aB6,null,s);
s.lineWidth=1/q.C7;s.stroke()}s.strokeStyle=O;if(L.aBc){eL.UQ(L.aBc,null,s);s.lineWidth=1/q.C7;s.stroke();
s.strokeStyle=v;s.setLineDash([4/q.C7,4/q.C7]);s.stroke();s.setLineDash([])}s.strokeStyle=G;s.fillStyle=eL.E1([1,1,1,1]);
if(L.NI){eL.UQ(L.NI,null,s);s.lineWidth=1/q.C7;s.stroke()}if(L.Bj){eL.aFS(L.Bj,s,q,.5);s.lineWidth=2/q.C7;
s.stroke();s.fill()}if(L.d7){s.font=16/q.C7+"px sans-serif";var C=1/q.C7;for(var n=0;n<L.d7.length;n++){var S=L.d7[n],j=S[0],w=S[1]+6/q.C7,u=S[2];
s.fillStyle="black";s.fillText(u,j-C,w);s.fillText(u,j+C,w);s.fillStyle="white";s.fillText(u,j,w)}}s.restore()}s.getImageData(0,0,1,1)};
hX.aa9="";hX.aq_=null;hX.aIz=function(z,q,e){if(e==null)e="";var V="z"+z+","+q+","+e;if(V==hX.aa9)return hX.aq_;
var P=Math.round(50*J.WU()),D=Math.round(18*J.WU()),B=e==""?0:Math.round((e.length+2)*D*.35),A=J.k("canvas"),s=A.getContext("2d");
A.width=P+B;A.height=D;s.fillStyle="rgba(1,1,1,1)";s.fillRect(0,0,P,D);if(e!="")s.fillRect(P+2,0,B,D);
s.font=Math.round(11*J.WU())+"px monospace";s.fillStyle=q;var a=z*100;if(a<100)a=a.toFixed(2);else a=Math.round(a);
a=a+"%";var M=s.measureText(a).width;s.fillText(a,(P-M)/2,Math.round(D*.7));if(e!=""){var $=s.measureText(e).width;
s.fillText(e,P+(B-$)/2+1,Math.round(D*.7))}var U=s.getImageData(0,0,P+B,D);hX.aa9=V;hX.aq_=U;return U};
hX.prototype.a8N=function(z){var q=this.Q3,e=q.length,V=this.XZ,P=this.Q3[V],D=(V+1)%e;this.zk(z);var B=Date.now();
if(e!=1&&q[D].hp.bs(P.hp)){var A=P.os?parseInt(P.os.split(",").pop()):30;if(A==0)A=16;if(D==0)this.a3U++;
if(this.aBC==0||this.a3U<this.aBC)this.aOv=setTimeout(this.a4Q,A)}this.XZ=D;this.a2R=B};hX.prototype.hh=function(z,q){if(z<=0||q<=0)return;
var e=Math.floor(z*J.WU()),V=Math.floor(q*J.WU());this.A.bX=new kk(0,0,e,V);this.TX.width=e;this.TX.height=V;
J.C(this.TX,"width:"+e/J.WU()+"px; height:"+V/J.WU()+"px; display:block;");this.zk()};hX.prototype.yp=function(z){var q=-1,e=this.zC;
for(var n=0;n<e.length;n++)if(e[n].pointerId==z.pointerId)q=n;return q};hX.prototype.O3=function(z){var q=this.yp(z),e=this.zC;
if(q!=-1)e[q]=z;else e.push(z);if(e.length==1){this.jd=z.target;J.rq(window,this.aCr);J.KE(window,this.a10);
this.w6=J.fH(z,this.TX);this.w6.x*=J.WU();this.w6.y*=J.WU();this._n=this.w6;this.CA=this.A.g.Y();if(this.arG&&this.jd==this.TX&&!this.gG)this.K(new dW("mousedown"))}else this.a3M=this.jI=f5.h5(J.fH(e[0],this.TX),J.fH(e[1],this.TX))};
hX.prototype.Qh=function(z){var q=this.yp(z),e=this.zC;if(q!=-1)e[q]=z;var V=this.A,P=this.gG,D=this.Q3[this.XZ].hp.Y();
D.s*=V.C7;D.T*=V.C7;var B=J.fH(z,this.TX);B.x*=J.WU();B.y*=J.WU();this._n=B;if(this.arG&&this.jd==this.TX&&!P)this.K(new dW("mousemove"));
else if(P=="grab"||P==null){if(e.length>1){var A=J.fH(e[0],this.TX),s=J.fH(e[1],this.TX),a=new f5(J.WU()*(A.x+s.x)/2,J.WU()*(A.y+s.y)/2),M=f5.h5(A,s),$=null;
if(M>this.jI+50){this.jI+=50;$=!0}if(M<this.jI-50){this.jI-=50;$=!1}if($!=null)this.qA(a,$);return}else{var o=B.x-this.w6.x,t=B.y-this.w6.y;
V.g.x=this.CA.x+Math.round(o);V.g.y=this.CA.y+Math.round(t)}this.K(new dW("viewchange"))}};hX.prototype.lG=function(z){var q=this.yp(z),e=this.zC;
e.splice(q,1);if(e.length==0){J.TT(window,this.aCr);J.N$(window,this.a10);var V=this.gG;if(z.detail>1){this.A.C7=1;
this.A.g.mX(0,0);this.zk()}if(this.arG&&this.jd==this.TX&&!this.gG)this.K(new dW("mouseup"));else{if(V=="zoom-in"||V=="zoom-out")this.qA(this._n,V=="zoom-in")}}else{var P=this.w6=J.fH(e[0],this.TX);
P.x*=J.WU();P.y*=J.WU()}};hX.prototype.$A=function(z){var q=this._n;if(z){q=J.fH(z,this.TX);q.x*=J.WU();
q.y*=J.WU()}return this.A.UK(q.x,q.y)};function ja(){gq.call(this);this.qe=null;this.$E=null;this.A3=null;
this.ex=null;this.a3O="";this.EU=[];this.yu=0;this.HQ=[];this.i=null;this.oL=0;var z=this.$=J.k("div",""),q=this.a28=J.k("div","form");
z.appendChild(q);var e=this.CR=J.k("span");J.C(e,"font-size:1.3em; font-weight:bold; margin-right:2em;");
var V=this.aiM=new iP([25,2,0]);V.a(!0);q.appendChild(V.$);V.Q(_.E.f,this.sE,this);var P=this.aC1=new iP([25,2,1]);
P.a(!0);q.appendChild(P.$);P.Q(_.E.f,this.sE,this);var D=new ht("?",null,null,!0);q.appendChild(D.$);
D.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
var B=new ij(" ");q.appendChild(B.$);var A=this.abT=new eE([25,1,1]);q.appendChild(A.$);A.Q(_.E.f,this.sE,this);
this.h0=new i_(14);this.h0.a13(3);this.h0.Q(_.E.f,this.aFe,this);var s=this.aCO=new ht(J.GP("reload",null,"autoscale"),null,[25,1,2]);
q.appendChild(s.$);s.Q("click",this.Gc,this);this.a75=this.aGg.bind(this);this.Xa=J.k("div","svggallery scrollable");
z.appendChild(this.Xa);this.Xa.addEventListener("scroll",this.aIs.bind(this))}ja.prototype=new gq;ja.prototype.K5=function(z){this.i=z};
ja.prototype.W=function(){this.CR.textContent=iE.get([25,0]);this.h0.W();this.aiM.W();this.aC1.W();this.abT.W()};
ja.prototype.hh=function(z,q){if(this.qe&&this.qe.x==z&&this.qe.y==q)return;this.qe=new f5(z,q);J.C(this.a28,"width:"+z+"px; margin-bottom:12px;");
var e=this.a28.getBoundingClientRect();q-=(450<z?30:60)+12;J.C(this.Xa,"width:"+z+"px; height:"+q+"px;  line-height:0;");
if(J.H2(this.$))this.sE()};ja.prototype.a=function(z){this.$E=z;this.sE()};ja.prototype.aIs=function(z){var q=this.Xa;
if(q.scrollTop+q.clientHeight+10>=q.scrollHeight){this.sE(!0)}};ja.prototype.aFe=function(z){this.A3=null;
this.sE()};ja.prototype.aGg=function(z){if(Date.now()-this.oL<2e3)return;this.oL=Date.now();this.yu=this.HQ.indexOf(z.currentTarget);
var q=this.Nx(this.$E.x,this.$E.y);if(q[1]){var e=q[1].largeImageURL,V=new XMLHttpRequest;V.responseType="arraybuffer";
V.open("GET",e,!0);V.onload=this.aI5.bind(this);V.send();return}this.aar(q)};ja.prototype.aI5=function(z){var q=z.target.response,e=hZ.J7(q),V=hZ.nw(e),P=V.EY(q),D=this.Nx(this.$E.x,this.$E.y,[q,P[0].hp.s,P[0].hp.T]);
this.aar(D)};ja.prototype.aar=function(z){var q=z[0],e=hZ.J7(q),V=hZ.nw(e),P=new hq("template.psd");
V.EY(q,P);var D=new dW("tempready",!0);D.data={Va:P};this.K(D)};ja.prototype.Gc=function(z){var q=z.target;
this.EU=[];this.A3=null;this.sE()};ja.prototype.abL=function(z){var q=JSON.parse(z.target.response),e=this.ex=q.hits;
for(var n=0;n<e.length;n++)if(e[n].user_id==6314823)e.splice(n,1);this.sE()};ja.prototype.sE=function(z){if(this.$E==null||this.qe==null||this.i==null)return;
if(this.qe.x<=0)return;var q=this.$E.x,e=this.$E.y;if(Math.min(q,e)<50)return;if(z!=!0){this.HQ=[];J._8(this.Xa);
this.Xa.scrollTop=0}if(this.HQ.length>300)return;var V=Math.min(1,320/Math.max(q,e)),P=this.qe.Y();P.x-=20;
var D=Math.max(1,Math.floor(P.x/(q*V))),B=Math.max(1,Math.ceil(P.y/(e*V)));V=P.x/D/q;var A=D*B;if(this.A3==null){var s=this.i.Se.wO(),a=[];
for(var M in s){var $=s[M],U=$[3];if(!this.h0.vB($))continue;if($[5]==null||$[5].slice(0,2)=="gf")continue;
a.push($)}if(a.length==0)a.push(s.DejaVuSans);var o=a.length;for(var n=0;n<o*10;n++){var t=Math.floor(Math.random()*o),c=Math.floor(Math.random()*o),H=a[t];
a[t]=a[c];a[c]=H}a=a.slice(0,10);this.A3=a}var F=this.aC1.r(),X=this.abT.r().trim();this.abT._w(F);if(F&&(this.ex==null||X!=this.a3O)){var f=new XMLHttpRequest,d="https://pixabay.com/api/?image_type=photo"+(X==""?"":"&q="+encodeURIComponent(X))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(X=="")d="//www.photopea.com/plugins/gallery.json";f.open("GET",d,!0);f.onload=this.abL.bind(this);
f.onerror=function(C){console.log(C.target.response)};f.send();this.a3O=X;return}V*=(q*V-24)/(q*V);var L=this.HQ.length;
for(var n=0;n<A;n++){var G=this.yu=L+n;if(this.EU[G]==null)this.EU[G]=Math.floor(Math.random()*4294967295);
var x=this.Nx(Math.round(q*V),Math.round(e*V)),O=x[0];O=y.vK(new Uint8Array(O));var v=J.k("span");v.innerHTML=O;
this.HQ.push(v);J.C(v.firstChild,"margin: 0 24px 24px 0; cursor:pointer; border-radius:5px;");this.Xa.appendChild(v);
v.addEventListener("click",this.a75,!1)}};ja.prototype.Nx=function(z,q,e){var V=this.aC1.r(),P=this.aiM.r(),D=V&&this.ex.length!=0?this.ex:null;
if(P&&!V)D=null;if(P&&V&&(this.yu&1)==0)D=null;return j9.nU(z,q,this.EU[this.yu],this.A3,e?e:D)};function hk(){gq.call(this);
this.$=J.k("div");this.NS=null;this.aM5=null;this.an1=-1;this.TB={JPG:{qual:{qS:new aJ([12,52,0],0,100,"%",null,null,!0),WR:70},mtdt:{qS:new iP("attach metadata"),WR:!1}},TIFF:{mtdt:{qS:new iP("attach metadata"),WR:!1}},WEBP:{qual:{qS:new aJ([12,52,0],0,100,"%",null,null,!0),WR:70},mtdt:{qS:new iP("attach metadata"),WR:!1}},GIF:{qual:{qS:new aJ([12,52,0],0,100,"%",null,null,!0),WR:100},dthr:{qS:new iP([12,23,3]),WR:!1}},PNG:{qual:{qS:new aJ([12,52,0],0,100,"%",null,null,!0),WR:100},nplt:{qS:new iP("don't use palettes"),WR:!1},mtdt:{qS:new iP("attach metadata"),WR:!1}},BMP:{nplt:{qS:new iP("don't use palettes"),WR:!1}},PDF:{pags:{qS:new eE([12,52,1]),WR:""},qual:{qS:new aJ([12,52,0],0,100,"%",null,null,!0),WR:100},rvrs:{qS:new iP("reverse pages"),WR:!1},rall:{qS:new iP("rasterize all"),WR:!1},vtxt:{qS:new iP("vectorize text"),WR:!1},mrgn:{qS:new aJ("Add Margin",0,5,"in",2),WR:0},cmrk:{qS:new iP("add crop marks"),WR:!1}},EMF:{pags:{qS:new eE([12,52,1]),WR:""},qual:{qS:new aJ([12,52,0],0,100,"%",null,null,!0),WR:100},rvrs:{qS:new iP("reverse pages"),WR:!1},rall:{qS:new iP("rasterize all"),WR:!1},vtxt:{qS:new iP("vectorize text"),WR:!1},mrgn:{qS:new aJ("Add Margin",0,5,"in",2),WR:0}},SVG:{arst:{qS:new iP("add raster graphics"),WR:!0},ahid:{qS:new iP("add hidden layers"),WR:!1},vtxt:{qS:new iP("vectorize text"),WR:!1},rtxt:{qS:new iP("rasterize text"),WR:!1},mini:{qS:new iP("minify"),WR:!1}},RAW:{cnum:{qS:new eD([12,72],["1","3","4"]),WR:2},dpth:{qS:new eD([12,34],["8 Bits","16 Bits"]),WR:0},endi:{qS:new eD("Byte Order",["12-34","34-12"]),WR:0}},DDS:{cmpr:{qS:new cr("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),WR:0},mpmp:{qS:new iP("Add Mipmaps"),WR:!0},dxsr:{qS:new iP("DXGI_FORMAT: SRGB"),WR:!1}},AVIF:{qual:{qS:new aJ([12,52,0],0,100,"%",null,null,!0),WR:70},smlr:{qS:new iP("Smaller files (5x slower)"),WR:!1}},MP4:{qual:{qS:new aJ([12,52,0],0,100,"%",null,null,!0),WR:50}},anim:{sped:{qS:new aJ("Speed",10,1e3,"%",null,!0,!0),WR:100},rept:{qS:new gO("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),WR:0},rvrs:{qS:new iP("reverse frames"),WR:!1},bmrn:{qS:new iP("boomerang"),WR:!1}},slcs:{slcs:{qS:new cr([8,11,0],["No Slices","All Slices","User Slices"]),WR:1}},artb:{artb:{qS:new iP([1,16,1]),WR:!0}},srgb:{srgb:{qS:new iP("convert to sRGB"),WR:!0}},ctoa:{ctoa:{qS:new iP("extra channel as opacity"),WR:!1}},ke16:{ke16:{qS:new iP("as 16-bit"),WR:!1}}};
for(var z in this.TB){var q=this.TB[z];for(var e in q){q[e].qS.a(q[e].WR);q[e].qS.Q(_.E.f,this.nx,this)}}}hk.prototype=new gq;
hk.prototype.aOk=function(){this.an1=-1};hk.prototype.W=function(){for(var z in this.TB)for(var q in this.TB[z])this.TB[z][q].qS.W()};
hk.prototype.nx=function(){this.sE();this.K(new dW(_.E.f,!1))};hk.prototype.fd=function(z,q){var e=this.TB[q];
if(e)for(var V in e)z[V]=e[V]};hk.prototype.sE=function(){var z=this.NS,q=z[0],e=z[1],V=z[2],P=z[3],D=z[4],B=z[5],A=z[6],s={};
this.fd(s,q);if(e)this.fd(s,"anim");if(["GIF","PNG","JPG","WEBP"].indexOf(q)!=-1&&V)this.fd(s,"slcs");
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(q)!=-1&&P)this.fd(s,"artb");if(D)this.fd(s,"srgb");
if(["PNG","DDS","TGA"].indexOf(q)!=-1&&B)this.fd(s,"ctoa");if(["PNG","TIFF"].indexOf(q)!=-1&&A==16)this.fd(s,"ke16");
var a=z.join(",");if(a!=this.an1){this.an1=a;J._8(this.$);for(var M in s){if(q=="PDF"&&!P&&(M=="pags"||M=="rvrs"))continue;
this.$.appendChild(s[M].qS.$);J.f9(this.$)}}var $=this.aM5={};for(var M in s)$[M]=s[M].qS.r()};hk.prototype._5=function(z,q,e,V,P,D,B){this.NS=[z,q,e,V,P,D,B];
this.sE()};hk.prototype.r=function(){return T.G(this.aM5)};hk.prototype.a=function(z){if(z instanceof Array)return;
var q=this.NS,e=q[0];for(var V in this.TB){if(V!=e&&V.toLowerCase()!=V)continue;var P=this.TB[V];if(P==null)return;
for(var D in z)if(P[D])P[D].qS.a(z[D])}this.sE()};function bT(){gq.call(this);this.$=J.k("span","fitem yesno");
this.$.style.marginRight="0";this.oa=!1;this.aEn=new ht("No",!1,"Cancel");this.CO=new ht("Yes",!1,"Confirm");
this.$.appendChild(this.aEn.$);this.$.appendChild(this.CO.$);this.aEn.Q("click",this.O7,this);this.CO.Q("click",this.O7,this);
this.W()}bT.prototype=new gq;bT.prototype.W=function(){this.aEn._D(J.GP("cross",null,"autoscale"));this.CO._D(J.GP("checkmark",null,"autoscale"))};
bT.prototype.O7=function(z){this.oa=z.target==this.CO;this.K(new dW("click",!1))};bT.prototype.r=function(){return this.oa};
function ef(z){gq.call(this);this.$=J.k("span","fitem");this.amr=new ht("\u25BC",null,"Auto Options",!0);
J.Br(this.amr.$,this.aHL.bind(this));this.$.appendChild(this.amr.$);this.H0=new ht("Auto",null,null,!0);
this.H0.Q("click",this.GT,this);this.$.appendChild(this.H0.$);this.K_=new db("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.K_.Q(_.E.f,this.GT,this);this.K_.a([!1,!1,!1,!0]);this.gW=new gq;var q=this.gW.$=J.k("div","floatcont form");
J.C(q,"width: 250px;");this.gW.parent=this;q.appendChild(this.K_.$);this.aGL=[];for(var n=0;n<2;n++){var e=new gO((n==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);
e.a(.1);e.Q(_.E.f,this.GT,this);this.aGL.push(e);q.appendChild(e.$)}}ef.prototype=new gq;ef.prototype.GT=function(z){this.K(new dW(_.E.f,!1))};
ef.prototype.W=function(){};ef.prototype.r=function(){return[this.K_.r().indexOf(!0),this.aGL[0].r(),this.aGL[1].r()]};
ef.prototype.aHL=function(z){if(J.H2(this.gW.$))return;z.stopPropagation();var q=this.amr.$.getBoundingClientRect(),e=new dW(_.E.b,!0);
e.data={p:_.m.wL,MR:this.gW,x:q.left,y:q.top+q.height+4};this.K(e)};function hz(){gq.call(this);var z=this.$=J.k("div","fitem");
this.yI=new cr([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.yI.Q(_.E.f,this.EE,this);z.appendChild(this.yI.$);
this.ye=new l0(!1);this.ye.parent=this;this.ye.it(16777215);this.ye.Q(_.E.f,this.EE,this);z.appendChild(this.ye.$)}hz.prototype=new gq;
hz.prototype.W=function(){this.yI.W();this.ye.W()};hz.prototype.a3E=function(z){var q=[z.artboardBackgroundType.v-1];
if(z.Clr)q.push(z.Clr.v);this.a(q)};hz.prototype.a9M=function(){var z=this.r();return{classID:"artboard",Clr:{t:"Objc",v:z[1]},artboardBackgroundType:{t:"long",v:z[0]+1}}};
hz.prototype.a=function(z){this.yI.a(z[0]);if(z[1])this.ye.a(z[1])};hz.prototype.r=function(){return[this.yI.r(),this.ye.r()]};
hz.prototype.EE=function(z){if(z.target==this.ye)this.yI.a(3);this.K(new dW(_.E.f,!1))};hz.prototype.cp=function(){this.yI.cp()};
function cD(){gq.call(this);var z=this.$=J.k("div");J.dh(z);var q=J.k("span");q.textContent="Prompt";
z.appendChild(q);J.f9(z);this.Ii=new eE(null,null,-1,4);this.U2=new dK;this.U2.parent=this;this.PO=new ht("Generate",!1,null,!0);
this.PO.Q("click",this.we,this);this.Xv=null;this.aoK=0;z.appendChild(this.Ii.$);J.f9(z);z.appendChild(this.U2.$);
z.appendChild(this.PO.$);this.ar5=this.aHV.bind(this);this.a6A=this.aal.bind(this);this.LP=J.k("div","scrollable");
z.appendChild(this.LP)}cD.prototype=new gq;cD.prototype.a=function(z){var q=new Uint8Array(z),e=Date.now(),V=UZIP.adler(q,0,q.length);
if(V==this.afZ)return;this.afZ=V;var P=new hq;dE.iA(z,P);J._8(this.LP);this.aoK=P.Z.length-2;if(this.Xv==this.aoK)this.Xv=null;
var e=Date.now();for(var n=P.Z.length-2;n>0;n--){var D=P.Z[n],q=D.buffer,B=D.V;while(B.D()>500*500){var A=T.W6(q,B);
q=A.Dm;B=A.V}var s=hZ.Eq(q.buffer,B.s,B.T,"png"),a=J.k("div");J.C(a,"width:75px; margin:4px; cursor:pointer; display:inline-block; text-align:center;"+(D.Sw()?" box-shadow:0 0 0px 3px #00aaff;":""));
var M=J.k("img");J.C(M,"width:100%; margin-bottom:-18px;");if(D.Sw()&&this.Xv==null)this.Ii.a(D.getName());
M.aN8=n;M.setAttribute("src",s);var $=new ht("x",!1,"Delete",!0);J.C($.$,"height:15px; line-height:1em; padding: 0px 4px;");
$.$.aN8=n;a.appendChild(M);a.appendChild($.$);J.KE(M,this.ar5);J.KE($.$,this.a6A);this.LP.appendChild(a)}console.log(Date.now()-e)};
cD.prototype.W=function(){this.U2.W()};cD.prototype.aHV=function(z){var q=new dW(_.E.z,!0);q.U=W.si;
q.data={p:lK.yo,u:z.currentTarget.aN8,kE:"switch"};this.K(q)};cD.prototype.aal=function(z){var q=new dW(_.E.z,!0);
q.U=W.si;q.data={p:lK.yo,u:z.currentTarget.aN8,kE:"del"};this.K(q)};cD.prototype.we=function(z){var q=this.U2.ayC(this.Ii.r());
if(q)this.Xv=this.aoK+1};function dK(){this.tt=new ht("\u2026",!1,null,!0);this.tt.Q("click",this.Yz,this);
this.$=this.tt.$;this.gW=new gq;this.gW.parent=this;var z=this.gW.$=J.k("div","floatcont form label6");
z.style.width="270px";var q=this.Yj="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");this.aHM=["stablediffusion_inpaint_2","realistic_vision_5_1_inpaint","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var e=this.pj=[new iP("Use default settings"),new cr("Model",["Stable Diffusion 2.0","Realistic Vision 5.1","Absolute Reality 1.8.1","Dreamshaper 8"]),new eE("Neg. prompt",null,13.25),new hH("Guidance",-20,20),new hH("Steps",10,50),new cr("Sampler",q)];
e[0].Q(_.E.f,this.W,this);e[0].a(!0);e[1].a(1);e[3].a(6);e[4].a(20);for(var n=0;n<e.length;n++){z.appendChild(e[n].$);
J.f9(z)}}dK.prototype=new gq;dK.prototype.r=function(){var z=this.pj,q={},e=["model","negative_prompt","guidance","steps","sampler"],V=!z[0].r();
if(V){for(var n=1;n<z.length;n++)q[e[n-1]]=z[n].r();q.model=this.aHM[q.model];q.sampler=this.Yj[q.sampler];
q.steps=Math.min(q.steps,50)}return V?null:q};dK.prototype.W=function(){var z=this.pj;for(var n=0;n<z.length;
n++){z[n].W();if(n>0)z[n]._w(!z[0].r())}};dK.prototype.Yz=function(z){if(J.H2(this.gW.$))return;var q=this.tt.$.getBoundingClientRect(),e=new dW(_.E.b,!0);
e.data={p:_.m.wL,MR:this.gW,x:q.left,y:q.top+q.height+4,qH:!0};this.K(e)};dK.prototype.ayC=function(z){if(z.length>1e3){alert("Your prompt is too long");
return!1}var q=new dW(_.E.zN,!0);q.data=W.j6.J8("aiHeal");q.data.cj.prmt={t:"TEXT",v:z};q.data.cj.Lh=this.r();
this.K(q);return!0};function iy(z){gq.call(this);this.xD=z;this.auo=0;this.arg=!1;this.aG$=z?new iy.YP:null;
this.$=J.k("div","flexrow storageset");this.$.style.background="var(--bg-panel)";this.U9=J.k("div");
this.$.appendChild(this.U9);this.uh=J.k("div");this.$.appendChild(this.uh);this.C_=[];var q=Storage.list.length;
if(z)q=q+1+iy.UX.length+3;var e=this.Ad.bind(this);for(var n=0;n<q;n++){var V=J.k("div");this.C_.push(V);
this.U9.appendChild(V);V.addEventListener("click",e,!1)}this.Ad(null,0)}iy.prototype=new gq;iy.Wb=[];
iy.O6=function(z){iy.Wb.push(z);z.LE()};iy.oU=function(){var z=iy.Wb;z.pop();z[z.length-1].LE()};iy.prototype.LE=function(){this.Ad(null,this.auo)};
iy.prototype.K5=function(z,q){if(!z.IC&&!this.arg){var e=this.xD?2:1;for(var n=e;n<this.C_.length;n++)this.U9.removeChild(this.C_[n]);
this.arg=!0;if(this.xD)this.aG$.K5(z,q)}if(this.yG)this.yG.K5(z,q)};iy.prototype.W=function(){if(this.xD)this.aG$.W();
if(this.yG)this.yG.W()};iy.prototype.Ad=function(z,q){var e=this.C_,V;if(q==null)q=e.indexOf(z.currentTarget);
var P=q;if(this.xD)q--;var D=Storage.list.length;if(q==-1)V=this.aG$;else if(q<D)V=Storage.g6(q);else{var B=iy.UX[q-D];
if(B==null){var A=q-D-iy.UX.length;if(A==cW)return;window.open("https://"+["photo","vector","jam"][A]+"pea.com");
return}V=new iy.NH(B[1]);lA.event("strg_"+B[0]);if(q-D==1){window.open(B[1]);return}}this.auo=P;for(var n=0;
n<e.length;n++)J.Pf(e[n],"active");J.d6(e[P],"active");this.yG=V;V.parent=this;J._8(this.uh);this.uh.appendChild(V.$);
this.hh(this.xL,this.Hi);this.W()};iy.prototype.hh=function(z,q){this.xL=z;this.Hi=q;var e=z<850,V=e?50:210,P=Storage.list;
if(this.xD){P=[[[1,19,3],null,"strg/home"]].concat(P.concat(iy.UX));P.push(["Photopea",null,"https://www.vecpea.com/promo/icon512.png"],["Vectorpea",null,"https://www.vecpea.com/promo/icon512_vp.png"],["Jampea",null,"https://www.vecpea.com/promo/icon512_jp.png"])}for(var n=0;
n<P.length;n++){var D=this.C_[n],B="padding: 8px "+(e?13:36)+"px; cursor:pointer;";J.C(D,B);var A=P[n].length==6,s=P[n][2];
if(PIMG[s])s=PIMG[s];D.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\""+(s.startsWith("https")?"":"gsicon")+"\" src=\""+s+"\" /> "+(e?"":iE.get(P[n][0]));
var a=n,M=this.auo;if(this.xD){a--;M--}var $=Storage.aC$[a];D.style.display=$==null||$==M||a==M?"":"none";
D.style.marginLeft=($==null?0:6)+"px"}this.$.style.width=z+"px";this.$.style.height=q+"px";this.U9.style.width=V+"px";
this.U9.style.paddingTop="32px";if(this.yG)this.yG.hh(z-V,q)};iy.UX=[["PeaGames","games","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664],["AI Tools","//www.img-tools.app/?utm_source=af-photopea&utm_medium=social&utm_campaign=af-photopea","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABtQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlFHiIAAAAAl0Uk5TACBAgJ+/3/9gnq2YfAAABcRJREFUeJytmzuMHEUQhqt8PO5IWO0CJlwfAQmBAwRkWEayQwhOODQYAyFgbJOuRIDNOzUImxCQLBHCCSScgWTxCAlsTo7AXt+tZBKM8bA7szNd012Pnhp3cJqdx7/f9vSr6u9DIGW4Z7hebP/91AT8Bcnh4/urg+LKF3dCcGVj3BwXm7/2Flw5OiCn/Yq14K6XB63zxVdbvQTx+XF0ofhk1kfw0eeSK1fP9RBcfS294qzGSvDJfcylWx+4Be8+xl776QevIAvYAXG0vj7e2X5sUgvuOiHc+G1WLdY9rLjyzawSZF5xVa6dzdF7Yl99OP2sFMST0r1ZbZHW11wRxVeyKL9/beo9eIR+unoOlV8M8O+Hll5U/8XmXPDQWLy9eNcSfCeqlCmyvaQpaxNdL3kYEe55Q3ngr891wRgQ1jA91/rCU6peCngKW1VYfHcZR8+QkfH2ex0BJwhvEb1ygBltEMUzGj8DCEhPLpvd6Cj9ym6AgHe92Xz87/3l94TOpDZtDhDw3tfThx94qTmnvWYOEJCcPd180ytNLSp9hQWkgqSJhJPKmMgCAh7cW3/+5+PmUujxsiAPSAXJiL9yvD6SGyIPCBjaNWkhYQwRBQVAwFeb+idtOIy54ngjAAKGjnI6XLQFJUBBEPizGYDenywC0pfy5RZzv/BSREAqSJpN6OB1/84FpO2QdNswivOCMiBgmFbZrscO2QogYJhESf2HN3Xzo26AgLtfaI6bSiRTP+ngWYCA5OFmIAj1yi7pNEB2CqBrE2YKUAHnEzNZKlWTVBhqgF3RqYAQTaMXf8bhBr15sULrAgjGRM8s3XXAuWB7PZaUGNEAnAuKC2Ie0QAEfTmXIlqAoC84U0QL0FgSJ4gmYLloD9O6iWgClmEF6c4Gog1YCqqL4haiDaiGZgliBmAlSBeEGmIGYCVIF4QKYg6gEoCniDmAdYrgoRdtxCzAJolxYC9zsY2YBdikWVafHRuIeYAhEbR6uJUI+i0iLjYPZQGSVNXDTwfG6fkbx6Mbr4+yAFvJtLdvLI8u/Gg3dimCQfpheOzCenH9j+0tiKYq7kEhCkT+NJiIUoglC+qIYpgqC+qIYgyoCGqIchytCGqIcpCqCcqISqCvCcqIShStCkqIWiaiiVPqeKT1WUBcAErP6YI8YgnoE+QRyxp0CnKIVQ06BTnE6hV7BVPE5Sv2CqaLvWVc4BVMZpI6mvQKJlNdndxxCoqAXkER0CkoAzoFZUCfoALoE1QAXYIaoCwIctEAxaIIqoAeQRegIugDVAQNwIEQZouCBiAeSUJ9Q9AA3H1YcOkkwQSwnYzFk0w2IhUc7nlkAMXlS1tmTDKPNwUjkfOXYfr9n0bqY5Gb4REFfzkOAlJAyesM/nKHBesyecQiSv6yDSggiv6yDcgjyv6yCcgjVoJGUCIAsoiV4EE9FhUAWcRSkLg+nQA5ROwDyCEuBL01yCKq/rIJyCCq/jIDSG1AFtFOpkUxSbykjRGRGak0wLTCI0SkafUMQBMRO8fFBqLhL3NRnY5opJ0590NHNPxl1kFSEZFmnRl/mfhKeYhIrzL+Mru7Q0NE8k44f5m1gzVEy1/mDBoV0ecvK4hOf1lGtPxl3oZTEImV2clfFhGJIOsvS+6tiOj2lyVEr78sIlr+srzjRkB0/2QJ0fKXlT1BPKLPX1YQff6ygmj5y9p2NxbR8pfVPUYcosdfVhE9/rKKaPnL+gY/BtHyl9VNUByi4S9rrYZH7LeRLEW8ZfjL6ktelBhxzfCXrc14sT127Wzf7YJtT3De8PpuaGwp3v501n/LJYmzp+dnoPvLGb+4LKP9w0Gxc/GXUh4UfznnFy8pBzv1ESjOaN7G2kh68UfwEKxuIgsK/rJ/czLvL7sANX/ZU4NNioDxl7N2JouCqb+cl9wTBRN/ubhv0k8w9pd7/6NB21++E/8KAcRfLnt5f8HKX75/dmmR7nOX/wHUTMNAfPQixAAAAABJRU5ErkJggg==",!0,"Join the contenst!",1730950917]];
for(var n=0;n<iy.UX.length;n++)if(iy.UX[n][5]*1e3<Date.now()){iy.UX.splice(n,1);n--}iy.YP=function(){this.xS=null;
var z=this.$=J.k("div");z.style.background="var(--bg-canvas)";var q=this.tC=J.k("div");z.appendChild(q);
J.C(q,"position:relative;  height:100%");var e=J.k("style");z.appendChild(e);e.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var n=0;n<2;n++){var e="width:100%; filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";if(n==0)e+="padding: 12px 0px";
if(n==1)e+="position:absolute;  left:0; bottom:0;";var V=J.k("img");if(n==0||cW<2)q.appendChild(V);V.setAttribute("src",PIMG[n==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
J.C(V,e);if(n==0)this.a1O=V;else this.a46=V}this.C_=[];this.at0=[];e="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;";
var P=this.Rp.bind(this),D=J.k("div");q.appendChild(D);J.C(D,"margin:0px;  text-align:center");for(var n=0;
n<[5,4,3][cW];n++){var B=J.k("span","bhover");this.C_.push(B);J.C(B,e+"margin:20px 10px 0 10px; cursor:pointer; padding:12px;");
B.addEventListener("click",P,!1);D.appendChild(B);if(n==3)B.style.display="none";if(n==4&&cW==0&&ln.Qv())B.style.display="none"}if(cW==2){J.f9(q);
D=J.k("div");q.appendChild(D);D.textContent="Examples:";J.C(D,"text-align:center;");var A="display:inline-block;  font-size:1em; border:1px solid #aaa;  border-radius:6px;  margin:12px 0 0 12px; cursor:pointer; padding:6px 8px;";
for(var n=0;n<SNDS.length;n++){var B=J.k("span","bhover");this.at0.push(B);J.C(B,A);B.addEventListener("click",P,!1);
B.textContent=SNDS[n][0];D.appendChild(B)}}J.f9(q);var s=this.aK7=J.k("div");J.C(s,e+"padding:60px 0;  margin-top:30px;  text-align:center; opacity:0.3; width:100%;");
q.appendChild(s);var a=new Date().getDate(),M=new Date().getMonth();if(M==11&&a>20||M==0&&a<10){this.TX=J.k("canvas");
J.C(this.TX,"position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");this.YI=this.TX.getContext("2d");
this.aqc=T.n(4);z.appendChild(this.TX);var $=Math.random()<.5,U={l:255,I:255,c:255};if(!$){U=T.mj(Math.random(),Math.random()*.7,1);
U.l*=255;U.I*=255;U.c*=255}this._U=[Math.round(1048575*Math.random()),$?.05:.02,Math.round(4+Math.random()*8),1,$?3:15,U,0,!0,$,$?1:.2,3];
this.aLw=$?.1:.2;this.C0=this.Cn.bind(this);window.requestAnimationFrame(this.C0)}};iy.YP.prototype=new gq;
iy.YP.prototype.Cn=function(){window.requestAnimationFrame(this.C0);if(!J.H2(this.$))return;var z=this.aqc,q=this.TX,e=this.YI,V=q.width,P=q.height;
this._U[6]=Date.now()*.001*this.aLw;T.Ze.fV(z,V,P,this._U,!0);e.putImageData(new ImageData(new Uint8ClampedArray(z.buffer),V,P),0,0)};
iy.YP.prototype.Rp=function(z){var n=this.C_.indexOf(z.currentTarget),q=new dW(_.E.b,!0);if(n==-1){n=this.at0.indexOf(z.currentTarget);
var e=hZ.hS(SNDS[n][1]),V=new hq;V.name=SNDS[n][0]+".mid";hZ.sA.EY(e,V);q.data={p:_.m.Mk,Va:V}}else{if(n==0)q.data={p:_.m.wa,rF:"newproject"};
if(n==1)q.data={p:_.m.Bd};if(n==2)q.data=cW==2?{p:_.m.I3,link:"//www.jampea.com/learn"}:{p:_.m.wa,rF:"res0"};
if(n==3)q.data={p:_.m.gS};if(n==4)q.data={p:_.m.wa,rF:"aigen"}}this.K(q);if(n==3)this.W()};iy.YP.prototype.W=function(){var z=this.C_,q=[[11,7],[1,6],[25,0],[0,17,6],"Generate with AI"],e=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping","lrs/newlayer"];
if(cW==1)q[3]="Install Vectorpea";if(cW==2){q[2]="How Music Works";e[2]="panels/info"}for(var n=0;n<z.length;
n++)z[n].innerHTML="<span style=\"vertical-align:middle\">"+J.GP(e[n],null,"autoscale")+"</span>\u2000"+iE.get(q[n]);
var V="l"+"o"+"g"+"o",P=V+"_"+["pp","vp","jp"][cW],D=new Date;if(D.getMonth()==3&&D.getDate()==1)P="lo"+"go_cuc"+"umber";
if(PIMG[V])P=V;var B=iE.get([0,17,7]);if(cW==2)B+=": MIDI / Guitar Pro / SoundFonts";this.aK7.textContent=B;
this.a1O.setAttribute("src",PIMG[P]);this.a46.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"]);var A=this.i;
if(A){if(!A.IC&&this.C_[2].parent){this.tC.removeChild(this.C_[2]);this.tC.removeChild(this.C_[3])}if(this.C_[3])this.C_[3].style.display=A.H7?"inline-block":"none"}};
iy.YP.prototype.hh=function(z,q){var e=Math.min(q*1.5,Math.min(z,600)),V=this.TX;if(V){J.rw(V,z,e*.26);
this.aqc=T.n(V.width*V.height*4)}this.$.style.width=z+"px";this.$.style.height=q+"px";var P=Math.min(z*.9,600);
this.tC.style.width=P+"px";this.tC.style.marginLeft=Math.max(0,(z-P)/2-100)+"px"};iy.YP.prototype.K5=function(z,q){this.i=z;
if(q==cR.gS)this.W()};iy.NH=function(z){var q=this.$=J.k("iframe");q.style.background="var(--bg-canvas)";
q.setAttribute("src",z)};iy.NH.prototype=new gq;iy.NH.prototype.hh=function(z,q){var e=this.$;e.style.width=z+"px";
e.style.height=q+"px"};iy.NH.prototype.K5=function(){};function Storage(z){gq.call(this);var q=this.$=J.k("div","storage");
J.Ur(q);q.addEventListener("drop",this.adV.bind(this),!1);var e=this.a16=J.k("style");q.appendChild(e);
q.setAttribute("tabindex","0");q.style.outline="none";q.addEventListener("keydown",this.a2Y.bind(this),!1);
this.od=this.a0T.bind(this);this.Lz=0;this.Xv=0;var V=J.k("div");q.appendChild(V);var P=this.aOC.bind(this);
this.Na=J.k("div","bar");V.appendChild(this.Na);this.IF=J.k("div","fls scrollable");V.appendChild(this.IF);
this.Tp=J.k("div");V.appendChild(this.Tp);J.C(this.Tp,"position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.rm=J.k("div","bar");this.rm.textContent="Name: ";var D=this.bE=J.k("input");D.setAttribute("type","text");
this.rm.appendChild(D);var B=this.vP=J.k("div","btn");B.textContent="Save";this.rm.appendChild(B);J.KE(B,P);
J.Br(this.IF,this.od);this.axc=0;this.F$=z;var A=this.abU.bind(this),s=this.adv=J.k("div");J.C(s,"text-align:center; font-size:1.6em");
var a=J.k("img");s.appendChild(a);J.f9(s);a.setAttribute("src",PIMG[Storage.list[this.F$][2]]);J.C(a,"opacity:0.5;  width:25%; cursor:pointer;");
J.KE(a,A);this.akO=J.k("div","btn");s.appendChild(this.akO);J.KE(this.akO,A);this.hN=new gu([{name:[6,20]},{name:[5,2],r0:[cz.EF,cz.WT],d:function(){return{d:Storage.AT!=null}}}]);
this.hN.parent=this;this.hN.Q("select",this.pG,this);this.IF.addEventListener("contextmenu",this.od);
this.awJ=J.k("span");this.Kt=J.k("span");J.C(this.Kt,"position:absolute; right:0; top:5px; z-index:1; ");
this.Vx=[];this._y=[];for(var n=0;n<3;n++){var M=J.k("div","btn");this.Vx.push(M);this.awJ.appendChild(M);
J.KE(M,P);M.innerHTML=Storage.al7[[3,1,0][n]]}for(var n=0;n<5;n++){if(n==0){var $=J.k("span");$.textContent="Sort by:";
this.Kt.appendChild($)}var M=J.k("div","btn");this._y.push(M);this.Kt.appendChild(M);J.KE(M,P)}window.addEventListener("message",this.aHf.bind(this),!1);
this.aij=!1;this.Yv=0;setInterval(this.auR.bind(this),300);this.fk();var U=this.at9=document.createElement("input");
U.setAttribute("type","file");U.addEventListener("change",this.adV.bind(this),!1);document.body.appendChild(U);
J.C(U,"display:none");U.setAttribute("multiple","")}Storage.prototype=new gq;Storage.bT=!1;(function(){Storage.al7=[];
var z="<svg viewBox=\"0 0 14 14\" width=\"10\" height=\"10\" fill=\"black\"><path transform=\"translate(7 7) rotate(",q=") translate(-7 -7)\" d=\"m4 4m-4 2h11l-5-5 2-1 7 7-7 7-2-1 5-5h-11\" /></svg>";
for(var n=0;n<4;n++)Storage.al7.push(z+[-90,0,90,180][n]+q)}());Storage.prototype.adV=function(z){z.stopPropagation();
z.preventDefault();var q=z.dataTransfer?z.dataTransfer.files:z.target.files;this.aEM=q.length;Storage.AT={};
for(var n=0;n<q.length;n++){var e=q[n],V=new FileReader;V.nV=e;V.onload=this.aaI.bind(this);V.readAsArrayBuffer(e)}};
Storage.prototype.aaI=function(z){var q=Storage.AT;q[z.target.nV.name]=z.target.result;this.aEM--;if(this.aEM==0)this.lH()};
Storage.prototype.K5=function(z,q){var e=Storage.list[this.F$][3],V=lA.Cf();if(e){if(this.Yv==1&&J.H2(this.$)&&V!=null){this.fk()}if(this.Yv==2&&V==null){this.XT("forget","")}}};
Storage.prototype.auR=function(){var z=J.H2(this.$),q=this.aij;if(z&&!q){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!z&&q){window.onpopstate=function(){};history.go(-1)}this.aij=z};
Storage.prototype.fk=function(){if(this.Xz)document.body.removeChild(this.Xz);this.wW=[[]];this.xx=0;
this.aGi={"/":[]};this.ak0="";this.gl=null;this._z=[];this.an$=[];this.aCg=[];this.aO2=null;var z=Storage.list[this.F$][1],q=lA.A6("code/storages/"+Storage.list[this.F$][1]);
if(cW==1&&this.F$==0)q=z;var e=this.Xz=J.k("iframe");e.setAttribute("src",q);J.C(e,"display:none");document.body.appendChild(e)};
Storage.prototype.V6=function(){return this.aGi[this.Nw()]};Storage.prototype.lE=function(z){this.aGi[this.Nw()]=z};
Storage.g6=function(n){var z=Storage.t7[n];if(z==null)z=Storage.t7[n]=new Storage(n);return z};Storage.t7=[];
Storage.Dh=0;Storage.eC="";Storage.xO=null;Storage.xF=function(z,q,e){Storage.Dh=z;Storage.eC=q;Storage.xO=e;
var V=Storage.t7;for(var n=0;n<V.length;n++)if(V[n]){if(z==1)V[n].lE([]);V[n].LE()}};Storage.aat=[500*(1<<20),5e3*(1<<20)];
Storage.sn=0;Storage.R4=2;Storage.CD=0;Storage.list=[[[1,19,4],"deviceStorage.html","strg/tdevice",!1,null],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,null],["OneDrive","onedriveStorage.html","strg/onedrive",!1,null],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,null],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.aC$=[null,null,null,null,null,4,4,4];Storage.amZ=function(z){for(var n=0;n<Storage.t7.length;
n++){if(Storage.t7[n]&&Storage.t7[n].Xz.contentWindow==z)return!0}return!1};Storage.prototype.a2Y=function(z){if(z.target.tagName=="INPUT")return;
var q=cz;if(q.Kz(z.code,q.Dv)&&this.Nw().length!=0)this.aqi();else if(z.ctrlKey){if(q.Kz(z.code,q.m)){var e=[];
this.lE(e);for(var n=0;n<this.gl.length;n++)e.push(n);this.kY()}if(q.Kz(z.code,q.jj))this.c7(2);if(q.Kz(z.code,q.WT))this.lH()}else if(q.Kz(z.code,q.JN)){var V=this.V6();
if(V.length!=0)this.apa(V)}else if(q.Kz(z.code,q.QI)){this.xx=Math.max(this.xx-1,0);this.MV()}else{var P=0;
for(var n=65;n<=90;n++)if(z.code=="Key"+String.fromCharCode(n))P=n;if(P!=0){var D=String.fromCharCode(P).toLowerCase(),B=[],A=this.gl,s;
for(var n=0;n<A.length;n++)if(A[n][0][0].toLowerCase()==D)B.push(n);if(B.length==0)return;var V=this.V6();
if(V.length==0)s=B[0];else{var a=B.indexOf(V[0]);if(a==-1){s=B[0];for(var n=0;n<B.length;n++)if(B[n]>V[0]){s=B[n];
break}}else s=B[(a+1)%B.length]}this.lE([s]);this.kY(!0)}}};Storage.prototype.hh=function(z,q){this.xL=z;
this.Hi=q;this.$.style.width=z+"px";this.$.style.height=q+"px";var e=z-30,V=Math.floor(e/230),e=Math.floor(e/V)-72;
this.a16.textContent=".storage .tile .name {  width:"+e+"px;  }";this.bE.style.width=z-140+"px";this.IF.style.width=this.Na.style.width=z-20+"px";
this.IF.style.height=q-70-(Storage.Dh==0?0:45)+"px"};Storage.prototype.abU=function(){this.MV()};Storage.prototype.MV=function(){var z=this.F$,q="____strg"+z;
if(window[q]==null){lA.event("strg_"+(z==0?"This Device":Storage.list[z][0]));window[q]=!0}this.Xv=1;
this.XT("show",this.Nw())};Storage.prototype.Nw=function(z){var q=this.wW[this.xx],e="/"+q.join("/");
if(z&&q.length!=0)e+="/";return e};Storage.prototype.aOC=function(z){var q=z.currentTarget,e=this.xx,V=this.Vx.indexOf(q),P=this._y.indexOf(q);
if(V>=0&&!this.a1z(V))return;if(V==0){this.xx=Math.max(e-1,0);this.MV()}if(V==1){this.xx=Math.min(e+1,this.wW.length-1);
this.MV()}if(V==2){var D=this.wW[e+1]=this.wW[e].slice(0);D.pop();this.xx++;this.wW=this.wW.slice(0,this.xx+1);
this.MV()}if(P==0){Storage.R4=(Storage.R4+1)%3;this.LE()}if(P==1){Storage.CD=(Storage.CD+1)%2;this.LE()}if(P==2){Storage.sn=(Storage.sn+1)%3;
this.LE()}if(P==3){var B=document.createEvent("MouseEvents");B.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.at9.dispatchEvent(B)}if(P==4){this.XT("forget","")}if(q==this.vP){var A=this.arF(),s=this.gl,a=-1;
if(A==null)return;for(var n=0;n<s.length;n++)if(s[n][0]==A)a=n;if(a!=-1){this.b7("Do you really want to replace \""+A+"\"?",this.a1T.bind(this))}else this.a1T()}};
Storage.prototype.a1T=function(){var z=this.arF();if(z==null)return;var q=[this.F$,this.Nw(!0)+z];if(Storage.xO){this.aEk(this.Nw(!0)+z,Storage.xO);
Storage.xO=null;Storage.eC=null}else this._e({p:_.m.arb,Rn:q});this.K(new dW("canclose",!0))};Storage.prototype.arF=function(){var hE=this.bE.value.trim(),z="\\/:*?\"<>|";
for(var n=0;n<z.length;n++)if(hE.indexOf(z[n])!=-1){alert("A file name can't contain "+z[n]);return null}return hE};
Storage.prototype.lH=function(){if(Storage.AT==null)return;this._e({p:_.m.lu,MN:iE.get("Uploading ...")});
this.Lz=4;ls.g6(2,this.Xz,[this.Nw(),Storage.AT,this.gl],null,this.aLz.bind(this))};Storage.prototype.aLz=function(z){this.Lz=0;
this._e({p:_.m.Rx,MN:iE.get("Uploading ...")});this.MV()};Storage.prototype.pG=function(z){var q=z.target.Gv();
if(z.target==this.hN){if(q[0]==0){var e=[iE.get([6,20]),-1,0];this.gl.push(e);this.LE();var n=this.gl.indexOf(e),V=this._z[n].querySelector(".name");
console.log(V);var P=new dJ.eG(V,function($){this._e({p:_.m.lu,MN:iE.get([1,2])+" ..."});var U=this.Nw(!0)+$+"/";
console.log(U);this.XT("save",U)}.bind(this),!0)}else this.lH()}else{if(q[0]==0){this.c7(2)}else if(q[0]==1){var n=this.V6()[0],D=this.gl[n],V=this._z[n].querySelector(".name");
console.log(V);V.innerHTML=D[0];var P=new dJ.eG(V,function($){$=$.trim();if($.indexOf("/")!=-1){alert("You can not use slashes in a file name.");
this.LE();return}var U=this.gl;for(var n=0;n<U.length;n++)if(U[n][0]==$){alert("Item with such name already exists.");
this.LE();return}var o=this.Nw(!0)+D[0]+":"+$;console.log(o);this.XT("rename",o)}.bind(this))}else if(q[0]==2){this.c7(3)}else if(q[0]==3)this.aqi();
else if(q[0]==4){this.c7(1)}else{var B=this.gl[this.V6()[0]],A=Storage.ur(B),s=A[q[1]],a=s[0],M=this.bw().pop()[1];
if(Storage.atY(B,a)!=-1){this.XT("share",M+":"+a+":-1");alert("Unshared.")}else{this.XT("share",M+":"+a+":"+q[2]);
alert("Shared.")}}}};Storage.atY=function(z,q){var e=z[4];if(e==null)return-1;if(e.indexOf(q+":0")!=-1)return 0;
if(e.indexOf(q+":1")!=-1)return 1;return-1};Storage.prototype.aqi=function(){var z=this.V6();this.b7("Do you really want to delete "+(z.length==1?"\""+this.gl[z[0]][0]+"\"":"these files")+"?",this.Ss.bind(this))};
Storage.prototype.b7=function(z,q){var e={p:_.m.wa,rF:"confirm",u:z,Wm:q};this._e(e)};Storage.prototype.c7=function(z){this.Lz=z;
if(1<z)this._e({p:_.m.lu,MN:iE.get("Downloading ...")});else this._e({p:_.m.lu,MN:iE.get("Getting info ...")});
ls.g6(0,this.Xz,this.Nw(),this.bw(!0),this.a8n.bind(this))};Storage.prototype.a8n=function(z){if(this.Lz==1){var q=0,e=0;
for(var V in z){var P=z[V];q+=P[1];e++}this.b7(e+" files, "+c2._M(q)+" in total.",function(){});this._e({p:_.m.Rx,MN:iE.get("Getting info ...")});
this.Lz=0}if(1<this.Lz)ls.g6(1,this.Xz,z,null,this.a4g.bind(this))};Storage.prototype.a4g=function(z){if(1<this.Lz){if(1<this.Lz)this._e({p:_.m.Rx,MN:iE.get("Downloading ...")});
var q={},e=this.Nw(!0);for(var V in z)q[V.slice(e.length)]=z[V];if(this.Lz==2){Storage.AT=q;alert("Copied to a clipboard")}if(this.Lz==3){var P=Object.keys(z);
if(P.length==1)gC.save(z[P[0]].buffer,P[0].split("/").pop());else gC.save(UZIP.encode(q),e=="/"?"files.zip":this.Nw().split("/").pop()+".zip")}}this.Lz=0};
Storage.AT=null;Storage.prototype.Ss=function(){this._e({p:_.m.lu,MN:iE.get([5,4])+" ..."});this.an$=this.bw();
this.pU()};Storage.prototype.pU=function(){if(this.an$.length==0){this._e({p:_.m.Rx,MN:iE.get([5,4])+" ..."});
this.lE([]);this.MV()}else this.XT("delete",this.an$.pop()[1])};Storage.prototype.bw=function(z){var q=[],e=this.Nw(!0),V=this.V6();
for(var n=0;n<V.length;n++){var P=this.gl[V[n]];if(z)q.push(P[0]);else q.push([this.F$,e+P[0]])}return q};
Storage.prototype.XT=function(z,q){J.d6(this.$,"disabled");this.ak0=z;if(Storage.bT)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+z+"\", \"prm\": "+JSON.stringify(q)+"  }");
this.Xz.contentWindow.postMessage("{\"code\": \""+z+"\", \"prm\": "+JSON.stringify(q)+"  }","*")};Storage.prototype.aHf=function(z){if(z.source!=this.Xz.contentWindow||this.Lz!=0)return;
J.Pf(this.$,"disabled");if(typeof z.data=="string"){if(Storage.bT)console.log("==",Math.floor(Date.now()/1e3),z.data);
var q=JSON.parse(z.data),e=q.code,V=q.prm,P=this.ak0,D=Storage.list[this.F$][3];if(e=="ready"){if(D&&!V){var B=lA.Cf();
console.log(B);var A=lA.mN(),s=A.acc;if(B==null){this.Yv=1;alert("Log in to use this storage (press Account at the top).");
this.m4();return}var a=[],M=B.wantToJoin;for(var $ in M)a.push(parseInt($.slice(1)));var U=[],o=B.inTeams;
for(var n=0;n<o.length;n++)U.push(o[n][2]);var t={uid:B.id,limit:Storage.aat[lA.aY()?1:0],inTeams:U,myTeams:a};
t.secret=s&&s.pds?s.pds:"";this.XT("login",t);return}if(D)this.Yv=2;if(D&&q.secret){var A=lA.mN(),s=A.acc;
if(s==null)s=A.acc={};s.pds=q.secret;lA._h(A)}if(V)this.MV();else this.m4()}else if(e!="0"){if(P=="save")this._e({p:_.m.Rx,MN:iE.get([1,2])+" ..."});
if(P=="delete")this.pU();alert(V);this.LE()}else if(P=="show"){this.Xv=0;this.gl=V;this.LE()}else if(P=="save"){this.Xv=0;
this._e({p:_.m.Rx,MN:iE.get([1,2])+" ..."});this.MV()}else if(P=="delete"){this.pU()}else if(P=="forget"){if(D)this.m4();
else this.fk()}else if(P=="rename"||P=="share"){this.MV()}else throw e}else{if(Storage.bT)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this._e({p:_.m.aC8,Rn:this.bw()[this.hg],Hm:z.data});this.aM3()}};Storage.prototype.m4=function(){J._8(this.Na);
J._8(this.IF);J._8(this.Tp);this.IF.appendChild(this.adv)};Storage.prototype.a1z=function(n){if(n==0)return this.xx>0;
if(n==1)return this.xx<this.wW.length-1;if(n==2)return this.Nw()!="/"};Storage.aJY=function(z){z=z+"";
return z.length==1?"0"+z:z};Storage.abn=function(z){var q=new Date(z),e=Storage.aJY,V=e(q.getDate())+"."+e(q.getMonth()+1)+"."+q.getFullYear();
if(q.toLocaleDateString().indexOf("/")!=-1)V=e(q.getMonth()+1)+"/"+e(q.getDate())+"/"+q.getFullYear();
var P=e(q.getHours())+":"+e(q.getMinutes());return V+" "+P};Storage.colSpan=function(z){var q=J.k("span");
q.style.opacity="0.8";q.style.display="inline-block";q.style.width="120px";q.textContent=z;return q};
Storage.prototype.LE=function(){var z=Storage.list[this.F$][3],q=this.gl,e=Storage.R4,V=Storage.CD,P=Storage.sn;
if(q==null)return;q.sort(function(w,u){var l=w[1]==-1?1:5,I=u[1]==-1?1:5,Q=0;if(Math.min(l,I)==1&&l!=I)return l-I;
else if(l==1||e==0)Q=w[0].toLowerCase()<u[0].toLowerCase()?-1:1;else if(e==1)Q=w[1]-u[1];else if(e==2)Q=w[2]-u[2];
if(V==1)Q=-Q;if(w[0]=="Shared")Q=-1;if(u[0]=="Shared")Q=1;return Q});var D=this.IF,B=this.Na,A=this.wW[this.xx];
J._8(D);J._8(B);this._z=[];for(var n=0;n<3;n++)if(this.a1z(n))J.Pf(this.Vx[n],"disabled");else J.d6(this.Vx[n],"disabled");
B.appendChild(this.awJ);B.appendChild(this.Kt);var s=J.k("span");s.textContent="/";B.appendChild(s);
for(var n=0;n<A.length;n++){var s=J.k("span");s.textContent=A[n];B.appendChild(s);var s=J.k("span");
s.textContent="/";B.appendChild(s)}var a=["tile","icon","litm"][P];for(var n=0;n<q.length;n++){var M=q[n],$=M[1]==-1,U=$?"":c2._M(M[1]),o=J.k("div","cont "+a),x=!1;
D.appendChild(o);this._z.push(o);var t=$?"":Storage.abn(M[2]*1e3);o.setAttribute("title",M[0]+($?"":"\nSize: "+U+"\nDate Modified: "+t));
var c=J.k("img");c.setAttribute("src",$?Storage.auj:M[3]?M[3]:Storage.nV);if(!$&&M[3])J.C(c,"box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var H=J.k("span","name"),F=M[0];if(a=="icon"&&F.length>30)F=F.slice(0,24)+".."+F.slice(F.length-5);if(z&&A.length==1&&A[0]=="Shared"){var i=Storage.ur(),X=parseInt(F.slice(5));
for(var f=0;f<i.length;f++)if(i[f][0]==X)F=i[f][1]}H.textContent=F;o.appendChild(c);o.appendChild(H);
if(a!="icon"&&!$){if(a=="litm")o.appendChild(Storage.colSpan(t));if(a=="tile")J.f9(H);var d=Storage.colSpan(U);
if(a=="litm")d.style["text-align"]="right";(a=="tile"?H:o).appendChild(d)}var L=M[0].split("."),G=(L.length==1?"":L.pop()).toUpperCase();
if(z&&M[0]=="Shared"&&A.length==0){x=!0;G="\u21E7"}if(a!="litm"&&(!$&&M[3]==null||x)){var O=J.k("span","ext");
O.textContent=G;var v=Storage.Vd[G];O.style.backgroundColor=v?v:Storage.a2b(G);o.appendChild(O)}J.Br(o,this.od);
o.addEventListener("contextmenu",this.od)}this.kY();var C=this.rm.parentNode!=null,S=Storage.Dh,j=this.$;
if(C&&S==0)j.removeChild(this.rm);if(!C&&S==1)j.appendChild(this.rm);this.hh(this.xL,this.Hi);this.W()};
Storage.prototype.kY=function(z){var q=this._z,e=this.gl,V=this.V6(),P=!1,D=0,B=Storage.eC?Storage.eC.split(".").pop():"";
for(var n=0;n<q.length;n++){var A=e[n],s=A[1]==-1,a=q[n];if(Storage.Dh==1&&!s&&!A[0].toLowerCase().endsWith(B))a.style.display="none";
else a.style.display="auto";if(V.indexOf(n)==-1)J.Pf(a,"active");else{if(s)P=!0;else D+=A[1];J.d6(a,"active");
if(z)a.scrollIntoView({block:"center",behavior:"smooth"})}}var M=P?"":c2._M(D);this.Tp.textContent=V.length==0?"":V.length+" item"+(V.length==1?"":"s")+" selected\u2001"+M;
this.bE.value=V.length==1&&!P?e[V[0]][0]:Storage.eC};Storage.prototype.apa=function(z){var q=z[0],e=this.gl[q];
if(e[1]==-1){var V=this.wW[this.xx].slice(0);V.push(e[0]);this.xx++;this.wW[this.xx]=V;this.wW=this.wW.slice(0,this.xx+1);
this.lE([]);this.MV()}else if(Storage.Dh==0){this.aM3(z)}};Storage.prototype.aM3=function(z){if(z){this._e({p:_.m.lu,MN:"Opening ..."});
this.K(new dW("canclose",!0));this.a1e=z.slice(0);this.hg=0}else this.hg++;if(this.a1e.length==this.hg){this._e({p:_.m.Rx,MN:"Opening ..."})}else{var q=this.a1e[this.hg],e=this.gl[q],V=this.Nw(!0)+e[0];
this.XT("load",V)}};Storage.prototype.W=function(){var z=Storage.R4,q=Storage.CD,e=Storage.sn;this._y[0].textContent=iE.get([[12,48],[12,14,0],"Date"][z]);
this._y[1].innerHTML=Storage.al7[[2,0][q]];this._y[2].textContent=iE.get(["Tiles","Icons",[25,3,1]][e]);
this._y[3].textContent="Upload";this._y[4].textContent="\u2716";var V=Storage.list[this.F$],P=V[4];if(P==null)P=iE.get([[1,19,5],cW==0?"Photopea":"Vectorpea",V[0]]);
this.akO.innerHTML=iE.get([[23,6],V[0]])+"<br/><small><small>"+P+"</small></small>";this.K5()};Storage.prototype.a0T=function(z){this._e({p:_.m._G});
if(J.H2(this.adv))return;if(z.button==3||z.button==4){if(Date.now()-this.aCH>50){var q=this.xx;if(z.button==3)this.xx=Math.max(q-1,0);
else this.xx=Math.min(q+1,this.wW.length-1);this.MV()}this.aCH=Date.now();return}z.stopPropagation();
var n=this._z.indexOf(z.currentTarget);if(z.type=="contextmenu"){if(this.gl==null)return;z.preventDefault();
var e=this.hN;if(n!=-1){var V=[{name:[5,1],r0:[cz.EF,cz.jj]},{name:[6,37]},{name:"Download",tL:!0},{name:[5,4],r0:[cz.Dv]},{name:[9,2]}];
if(Storage.list[this.F$][3]){var P=this.gl[n],D=Storage.ur(P);if(D.length!=0){var B=[];for(var A=0;A<D.length;
A++){var s=[],a=D[A],M=Storage.atY(P,a[0]);if(M!=-1)s.push({name:"Unshare"});else s.push({name:"Allow Read"},{name:"Allow Read & Write"});
B.push({name:a[1]+[""," (R)"," (R,W)"][M+1],sub:s})}V.push({name:"Share With",sub:B})}}e=new gu(V);e.parent=this;
e.Q("select",this.pG,this)}e.parent=this;e.W();e.update();this._e({p:_.m.wL,MR:e,x:z.clientX+4,y:z.clientY});
return}var $=this.V6(),U=$.indexOf(n);if(z.button!=0&&U!=-1)return;if(z.target==this.IF)this.lE([]);
else{if(z.ctrlKey){if(U==-1)$.push(n);else $.splice(U,1)}else if(z.shiftKey&&$.length!=0){var A=$[0];
if(A<n){var o=n;n=A;A=o}$=[];this.lE($);for(var t=n;t<=A;t++)$.push(t)}else{this.lE([n]);if(Date.now()-this.axc<300&&$.length!=0&&$[0]==n){this.apa([n]);
this.axc=0}}}this.axc=Date.now();this.kY()};Storage.prototype._e=function(z){var q=new dW(_.E.b,!0);
q.data=z;this.K(q)};Storage.ur=function(z){var q=[],e=[],V=lA.mN(),P=V.acc.tstart;if(P)for(var n=0;n<P.length;
n++){q.push([P[n][2],P[n][0]]);e.push(P[n][2])}var D=lA.Cf();P=D.inTeams;if(P)for(var n=0;n<P.length;
n++){q.push([P[n][2],P[n][0]]);e.push(P[n][2])}if(z&&z[4]){for(var n=0;n<z[4].length;n++){var B=parseInt(z[4][n].split(":")[0]);
if(e.indexOf(B)==-1)q.push([B,"Team "+B])}}return q};Storage.prototype.aEk=function(z,q){if(this.Xv!=0)return 1;
this.Xv=2;this._e({p:_.m.lu,MN:iE.get([1,2])+" ..."});this.XT("save",z);if(Storage.bT)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.Xz.contentWindow.postMessage(q,"*")};Storage.Vd={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a2b=function(z){z=z.toLowerCase();
var q=0;for(var n=0;n<z.length;n++)q+=z.charCodeAt(n)*613<<8*n;return"#"+T.R0(q&16777215)};Storage.auj="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.nV="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var ls=function(){var z,q,e,V,P,D,B,A;function s(o,t,c,H,F){q=t;V=H;B=F;z=o;D={};if(z==0){e=[c]}if(z==1){e=[];
for(var i in c)e.push(i)}if(z==2){var X=c[0],K=c[1],f=c[2],d={};for(var n=0;n<f.length;n++)d[f[n][0]]=!0;
var L={};for(var i in K){var G=i.split("/"),x=G[0],O=x.split("."),v="";if(O.length!=1){v="."+O.pop();
x=O.join(".")}while(d[x+v])x+=" - Copy";G[0]=x+v;L[G.join("/")]=K[i]}var C={};e=[];for(var i in L){var G=i.split("/");
for(var n=0;n<G.length-1;n++){var S=X+G.slice(0,n+1).join("/")+"/";if(C[S]==null){C[S]=!0;e.push([S])}}var j=X.endsWith("/")||i.startsWith("/")?"":"/";
e.push([X+j+i,L[i]])}}window.addEventListener("message",M,!1);A=Date.now();a()}function a(){if(e.length==0){U();
return}P=e.shift();if(z==0)$("show",P);if(z==1)$("load",P);if(z==2){$("save",P[0]);if(P.length==2)q.contentWindow.postMessage(P[1],"*")}}function M(o){if(o.source!=q.contentWindow)return;
if(z==0){var t=JSON.parse(o.data),c=t.code,H=t.prm;for(var n=0;n<H.length;n++){var F=H[n];if(V&&V.indexOf(F[0])==-1)continue;
var i=P+(P=="/"?"":"/"),X=i+F[0];if(F[1]==-1)e.push(X);else D[X]=F}V=null}else if(z==1){D[P]=new Uint8Array(o.data)}a()}function $(o,t){var c=o=="show"?", \"nothumbs\": true":"",H="{\"code\": \""+o+"\", \"prm\": "+JSON.stringify(t)+c+"  }";
q.contentWindow.postMessage(H,"*")}function U(){console.log(Date.now()-A);window.removeEventListener("message",M,!1);
B(D)}return{g6:s}}();function eB(z){gq.call(this);var q=this.$=J.k("div","form scrollable padded label12");
this.Lr=z;this.z1=null;var e=[],V=eB.dx[z];this.awf=[];for(var P in V){var D=parseInt(P.slice(1)),B=D%10==0?"":"\u2800\u2800- ";
e.push(B+V[P]);this.awf.push(D)}this.sW=[new eE("Name",null,30),new eE("Description",null,30,4),z==0?new eE("File"," www.Photopea.com#i...",17):new ec("File",!1,!1),new eE("Thumbnail URL","* Use Imgur.com etc.",17),new cr("Category",e),new iP("Make Public"),new ht("<< Back",null,null,!0),new ht("Save",null,null,!0)];
if(z==0)this.sW.push(new ij("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new ij("Get a Thumbnail URL: File - Publish Online - JPG."),new ij("Write a proper description, so that your work can be found using text search."));
if(z==1)this.sW.push(new ij("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(z!=0)this.sW.push(new ij("Do not load any file to preserve the old version."));for(var n=0;n<this.sW.length;
n++){var A=this.sW[n];q.appendChild(A.$);A.parent=this;if(n!=4&&n!=6)J.f9(q);if(A instanceof ht)A.Q("click",this.ate,this);
if(z!=0&&n==2)A.Q(_.E.f,this.aFT,this)}}eB.prototype=new gq;eB.prototype.aFT=function(z){var q=this.sW[2],e=q.r(),V=Object.keys(e),P=e[V[0]].buffer,D=hZ.J7(P),B=" json atn abr grd asl pat csh icc".split(" ")[this.Lr];
if(D!=B){alert("This is a wrong file"+(D?" ("+D.toUpperCase()+")":"")+". You need to upload the "+B.toUpperCase()+" file.");
q.a({})}};eB.prototype.ate=function(z){if(z.target==this.sW[6]){this.K(new dW("back"));return}function q(B,A){return B.indexOf(A)!=-1}var e=this.sW[3].r().trim(),V=e.startsWith("http")&&(q(e,".jpeg")||q(e,".jpg")||q(e,".png")||q(e,".gif")||q(e,"jpgshared"));
if(!V){alert("Thumbnail URL is incorrect.");return}var P=new XMLHttpRequest,D=(e);
P.open("GET",D);P.responseType="arraybuffer";P.onload=this.a2z.bind(this);P.send()};eB.prototype.a2z=function(z){var q=z.target.response,e=q.byteLength;
if(e>256e3&&hZ.J7(q)!="gif"){alert("Thumbnail is too large ("+c2._M(e)+"). Make it under 250 kB.");return}var V=this.sW[2].r(),P=Object.keys(V);
if(this.Lr!=0&&P.length==0&&(this.z1==null||this.z1.file==null||this.z1.file=="")){alert("You need to select a file.");
return}if(this.Lr!=0&&P.length!=0){console.log(V);gC.NS.aD_(V[P[0]].buffer,P[0],this.aji.bind(this),"pp-resources");
return}this.aji()};eB.prototype.aji=function(z){var q=this.Lr,e="name desc file thmb catg publ".split(" "),V=this.z1;
for(var n=0;n<6;n++){if(q!=0&&n==2)continue;var P=this.sW[n].r();if(n<=3){P=P.trim();if(P.length==0){alert("One of values is empty.");
return}}if(n==2){if(P.endsWith(".psd"))P=P.slice(0,P.length-4);var D=P.split("#i");if(D.length!=2||D[1].length!=8){alert("File ID is incorrect.");
return}P=D.pop()}if(n==4)P=this.awf[P];V[e[n]]=P}if(q!=0){if(z)V.file=z;else if(V.file==null){alert("Select a file from your computer.");
return}}if(V.utme.length==0)V.utme=""+Math.round(Date.now()/1e3);V.type=q;this.K(new dW("save"))};eB.prototype.W=function(){};
eB.prototype.a=function(z){var q=this.z1=T.G(z),e=this.Lr,V="name desc file thmb catg publ".split(" ");
for(var n=0;n<6;n++){if(e!=0&&n==2)continue;var P=q[V[n]];if(P!=""&&n==2)P="https://photopea.com#i"+P;
if(n==4)P=this.awf.indexOf(P);if(n==5&&P==null)P=!0;this.sW[n].a(P)}};eB.prototype.r=function(){return T.G(this.z1)};
eB.dx=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function el(){gq.call(this);var z=this.$=J.k("div","form");this.z1=null;this.WE=null;this.Hk=null;this.ze=null;
var q=J.k("canvas");this.YI=q.getContext("2d");J.sB(q);J.Br(q,this.SA.bind(this));this.pj=[new eD([12,44],[[19,0,0],[19,0,1]]),{$:q},new gO([12,0],0,100,"%",null,null,null,4),new l0,new gO([12,40],0,100,"%",2,null,null,4),new ht([5,4],null,null,!0)];
for(var n=0;n<this.pj.length;n++){var e=this.pj[n];e.parent=this;z.appendChild(e.$);if(n!=2&&n!=4)J.f9(z);
if(n!=1)e.Q(n==5?"click":_.E.f,this.GT,this)}this.Px=this.M$.bind(this);this.lF=this.ls.bind(this)}el.prototype=new gq;
el.prototype.r=function(){return T.G(this.z1)};el.prototype.a=function(z){this.z1=T.G(z);this.sE()};
el.prototype.W=function(){var z=this.pj;for(var n=0;n<z.length;n++)if(z[n].W)z[n].W()};el.prototype.SA=function(z){var q=J.WU(),e=J.fH(z,this.YI.canvas);
e.x*=q;e.y*=q;var V=this.Hk,P=this.ze,D=this.z1,B=D[1],A=7*J.WU(),s=-1;for(var n=0;n<V.length;n++){if(f5.h5(e,V[n][0])<A)s=n}if(s==-1){if(Math.abs(e.y-(P.y+P.T))>10*q)return;
var a=[.5,[0,0,0],1,.5];B.push(a);B.sort(function(M,$){return M[0]-$[0]});this.QY=[new f5,B.indexOf(a),0]}else this.QY=V[s];
this.WE=JSON.stringify(this.z1);J.rq(window,this.Px);J.KE(window,this.lF);if(s==-1)this.M$(z);this.sE()};
el.prototype.M$=function(z){this.z1=JSON.parse(this.WE);var q=J.WU(),e=J.fH(z,this.YI.canvas);e.x*=q;
e.y*=q;var V=this.QY,P=V[1],D=this.ze,B=this.z1[1],A=B[P],s=(e.x-D.x)/D.s;if(V[2]==0){A[0]=Math.max(0,Math.min(1,s));
if(Math.abs(e.y-(D.y+D.T))>30*q)B.splice(P,1)}else{var a=A[0],M=B[P+1][0],$=A[3];A[3]=Math.max(.13,Math.min(.87,(s-a)/(M-a)))}B.sort(function(U,o){return U[0]-o[0]});
this.sE()};el.prototype.ls=function(z){J.TT(window,this.Px);J.N$(window,this.lF)};el.prototype.GT=function(z){var q=this.pj,n=q.indexOf(z.target),e=this.z1,V=z.target.r(),P=this.QY;
if(n==0)e[0]=V;if(P){var D=e[1][P[1]];if(n==2)D[2]=V/100;if(n==3){V=T.H_(z.target.ou());D[1]=[V.l/255,V.I/255,V.c/255]}if(n==4)if(P[2]==0)D[0]=V/100;
else D[3]=Math.max(.13,Math.min(.87,V/100));if(n==5){e[1].splice(P[1],1);this.QY=null}}this.sE()};el.prototype.sE=function(){var z=this.pj,q=this.z1,e=q[1],V=this.YI,P=V.canvas;
z[0].a(q[0]);var D=P.width=Math.floor(300*J.WU()),B=P.height=Math.floor(60*J.WU()),A=Math.floor(20*J.WU()),s=D-A-A;
this.ze=new kk(A,A,s,B-A-A);J.kr(P);var a=V.fillStyle=V.createLinearGradient(A,A,D-A,A);T.Yf.afk(a,e);
V.fillRect(A,A,s,B-A-A);V.lineWidth=1;V.strokeRect(A-.5,A-.5,s+1,B-A-A+1);var M=this.Hk=[],$=this.QY;
V.fillStyle="white";for(var n=0;n<e.length;n++){var U=e[n],o=U[0],t=B-A*.6;if($&&$[1]==n&&$[2]==0){V.fillStyle="#00aaff";
V.beginPath();V.arc(A+o*s,t,B*.125,0,2*Math.PI);V.fill()}V.fillStyle="white";V.beginPath();V.arc(A+o*s,t,B*.1,0,2*Math.PI);
V.fill();V.beginPath();V.arc(A+o*s,t,B*.07,0,2*Math.PI);V.stroke();M.push([new f5(A+o*s,t),n,0]);if(n!=e.length-1){var c=U[3],H=e[n+1][0];
o=o+c*(H-o);t=A*.7;if($&&$[1]==n&&$[2]==1){V.fillStyle="#00aaff";V.beginPath();V.arc(A+o*s,t,B*.075,0,2*Math.PI);
V.fill()}V.fillStyle="white";V.beginPath();V.arc(A+o*s,t,B*.05,0,2*Math.PI);V.fill();M.push([new f5(A+o*s,t),n,1])}}z[2]._w($&&$[2]==0);
z[3]._w($&&$[2]==0);z[4]._w($!=null);z[5]._w($&&$[2]==0&&e.length>2);if($){var U=e[$[1]],F=U[1];if($[2]==0)z[2].a(U[2]*100);
z[3].it(T.RC({l:F[0]*255,I:F[1]*255,c:F[2]*255}));z[4].a(U[$[2]==0?0:3]*100)}};function e1(z){gq.call(this);
this.dK=z;this.$=J.k("div","");this.Wt=[];this.awM=null;this.aJW=[]}e1.prototype=new gq;e1.prototype.RU=function(z){};
e1.prototype.eS=function(){return!1};e1.prototype.vA=function(){return 0};e1.prototype.hh=function(z,q){};
e1.prototype.K5=function(z,q){};e1.prototype.G2=function(z){};e1.prototype.a=function(z,q,e,V,P,D){var B=[],A=this.Wt,s=0,a=ak.bM["s"+this.dK];
if(this.dK=="Dspl")this.Wn(z,B,D);else a?a(z,B,D):this.Wn(z,B,D);for(var n=0;n<A.length;n++)if(!(A[n]instanceof ij))A[n].a(B[s++]);
if(z.RndS)this.awM=z.RndS.v};e1.prototype.r=function(){var z=ak.g1(this.dK),q=[],e=this.Wt,V=0;for(var n=0;
n<e.length;n++)if(!(e[n]instanceof ij))q[V++]=e[n].r();var P=ak.bM["g"+this.dK];if(this.dK=="Dspl")this.cL(z,q);
else P?P(z,q):this.cL(z,q);if(z.RndS)z.RndS.v=this.awM;return z};e1.prototype.gi=function(z){};e1.prototype.SE=function(z){if(z&&z.target instanceof ht){this.awM=Math.floor(Math.random()*4294967295)}var q=this.aJW;
for(var n=0;n<q.length;n+=2){var e=this.Wt[q[n]],V=this.Wt[q[n+1]],P=e.r(),D=V.r();if(z.target==e)V.a(Math.max(P,D));
else e.a(Math.min(P,D))}this.K(new dW(_.E.f))};e1.prototype.W=function(){for(var n=0;n<this.Wt.length;
n++)this.Wt[n].W();var z=this.a18;if(z)z.W()};e1.prototype.zc=function(z){J.d6(this.$,"form");var q=this.Wt;
for(var n=0;n<q.length;n++){var e=q[n];e.parent=this;e.Q(_.E.f,this.SE,this);this.$.appendChild(e.$);
if(e instanceof iP&&q[n+1]instanceof l0)continue;if(z&&z.indexOf(n)!=-1)J.dh(this.$);else J.f9(this.$)}var V=ak.g1(this.dK);
if(V.RndS){var P=this.a18=new ht([25,1,2],null,null,!0);this.$.appendChild(P.$);P.Q("click",this.SE,this)}};
e1.prototype.Hp=function(z){return!1};e1.prototype.sf=function(){return!1};e1.prototype.Qy=function(z,q,e,V,P){};
e1.prototype.Sf=function(z,q,e,V,P){};e1.prototype.AM=function(z,q,e,V,P){};e1.prototype.cL=function(z,q){};
e1.prototype.Wn=function(z,q){};e1.prototype.as=function(z){var q=z.target.r().indexOf(!0),e=q!=-1;if(q!=-1){this.MK=q}if(this.f$==null)this.f$=0;
var V=Date.now(),P=new dW(_.E.b,!0);P.Hf=!0;if(V-this.f$<300&&this.MK<3&&this.P2&&this.ev==null){if(this.Pb==null)this.Pb=[0,8421504,16777215];
P.data={p:_.m.wa,rF:"colorpicker",go:this.Pb[this.MK],QW:this.asJ.bind(this)};this.K(P)}else{this.au5(q!=-1)}this.f$=V};
e1.prototype.au5=function(z){var q=new dW(_.E.b,!0);q.Hf=!0;q.data={p:z?_.m.uB:_.m.Kb,U:W.W_};this.K(q);
q=new dW(_.E.z,!0);q.U=W.W_;q.Hf=!0;q.data={p:"supertool",U:z?this:null};this.K(q)};e1.prototype.asJ=function(z){this.Pb[this.MK]=z;
var q=[];for(var n=0;n<3;n++)q[n]="#"+T.R0(this.Pb[n]);this.P2.jl(eD.Op(q));var e=[!1,!1,!1];e[this.MK]=!0;
this.P2.a(e);this.au5(!0)};e1.a3Z=function(z){z.sf=function(){return!0};z.Qy=function(q,e,V,P,D){this.j9=!0;
this.aBf(q,D)};z.Sf=function(q,e,V,P,D){if(!this.j9)return;this.aBf(q,D)};z.AM=function(q,e,V,P,D){this.j9=!1};
z.aBf=function(q,e){var V=new kk(0,0,q.s,q.T);if(q.h)V=q.h.V;var P=q.A.UK(e.x,e.y);P.x-=V.x;P.y-=V.y;
function D(B,A){return Math.round(Math.max(0,Math.min(100,100*B/A)))}this.Wt[2].a(D(P.x,V.s));this.Wt[3].a(D(P.y,V.T));
this.SE()}};e1.a6W=function(z,q,e,V){var P=z.P2.r().indexOf(!0);if(P==-1||P>2)return;var D=V=="levl"?hG:k8,B=z.value;
z.value=ak.g1(V);z.SE();var A=W.SB.Z9(q,e,1,null,!0),s=[A>>>16&255,A>>>8&255,A&255],a=z.Pb;if(a==null)a=[0,8421504,16777215];
A=a[P];var M=[A>>>16&255,A>>>8&255,A&255];for(var n=0;n<3;n++){var $=D.Rg(B,1+n);if(P==0){var U=s[n]-M[n];
if(V=="levl")$[0]=U;else $[0].v.Hrzn.v=U}if(P==1){var o=Math.log(s[n]/255)/Math.log((s[0]+s[1]+s[2])*.333/255),t=Math.log(M[n]/255)/Math.log((M[0]+M[1]+M[2])*.333/255),c=o/t;
if(V=="levl")$[4]=Math.min(999,Math.max(10,Math.round(100*c)));else{if($.length==2)$.splice(1,0,T.G($[0]));
$[1].v.Hrzn.v=127-Math.log(c)*80;$[1].v.Vrtc.v=127}}if(P==2){var U=255*s[n]/M[n];if(V=="levl")$[1]=U;
else $[$.length-1].v.Hrzn.v=U}D.H5(B,1+n,$)}z.a(B);z.SE()};e1.Bokh=function(){e1.call(this,"Bokh");this.Wt=[new cr("Depth Map",["A","b"]),new aJ("Focal Distance",0,255),new iP([4,11]),new cr([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new aJ([12,56],0,100),new aJ([12,15],0,360),new aJ([12,2],0,100),new aJ([4,13],0,255),new aJ([24,6],0,100),new eD([12,58],[[12,59,0],[12,59,1]]),new iP([12,60])];
this.zc([5,7])};e1.Bokh.prototype=new e1;e1.Bokh.prototype.Wn=function(z,q,e){var V=[[22,5,0],[6,5,3],[6,2]],P=z.BkDi.v.BtDi,D=z.BkDc,B=0;
if(P=="BeIn")B=0;else if(P=="BeIt"&&D.v.BtDc=="BeCt")B=1;else if(P=="BeIt"&&D.v.BtDc=="BeCm")B=2;else B=3+D.v;
for(var n=0;n<e[1].length;n++)V.push(e[1][n].name);this.Wt[0].jl(V,[3]);q[0]=B;q[1]=z.BkDp.v;q[2]=z.BkDs.v;
q[3]=parseInt(z.BkIs.v.BtIs.slice(3))-3;q[4]=z.BkIb.v;q[5]=z.BkIr.v;q[6]=z.BkSb.v;q[7]=z.BkSt.v;q[8]=z.BkNa.v;
q[9]=z.BkNt.v.BtNt=="BeNu"?0:1;q[10]=z.BkNm.v};e1.Bokh.prototype.cL=function(z,q){var e;if(q[0]==0){e="BeIn";
delete z.BkDc}else if(q[0]<3){e="BeIt";z.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][q[0]-1]}}}else{e="BeIa";
z.BkDc={t:"long",v:q[0]-3}}z.BkDi.v.BtDi=e;z.BkDp.v=q[1];z.BkDs.v=q[2];z.BkIs.v.BtIs="BeS"+(3+q[3]);
z.BkIb.v=q[4];z.BkIr.v=q[5];z.BkSb.v=q[6];z.BkSt.v=q[7];z.BkNa.v=q[8];z.BkNt.v.BtNt=["BeNu","BeNg"][q[9]];
z.BkNm.v=q[10]};e1.oilPaint=function(){e1.call(this,"oilPaint");this.Wt=[new aJ([12,56],.1,10,"px",!0),new aJ("Cleanliness",0,10,"px",!0),new aJ([12,38],.1,10,null,!0),new aJ("Bristle Detail",0,10,null,!0),new iP("Lighting"),new aJ("Shine",0,10,null,!0),new b4([12,15])];
this.zc()};e1.oilPaint.prototype=new e1;e1.oilPaint.prototype.Wn=function(z,q){var e="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var n=0;n<e.length;n++)q[n]=z[e[n]].v;q[6]=[z.LghD.v]};e1.oilPaint.prototype.cL=function(z,q){var e="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var n=0;n<e.length;n++)z[e[n]].v=q[n];z.LghD.v=q[6][0]};e1.TrcC=function(){e1.call(this,"TrcC");
this.Wt=[new aJ("Level",0,255),new eD([12,69],[[19,4,1],[19,4,0]])];this.zc()};e1.TrcC.prototype=new e1;
e1.TrcC.prototype.Wn=function(z,q){q[0]=z.Lvl.v;q[1]=["Lwr","Upr"].indexOf(z.Edg.v.CntE)};e1.TrcC.prototype.cL=function(z,q){z.Lvl.v=q[0];
z.Edg.v.CntE=["Lwr","Upr"][q[1]]};e1["Dfs "]=function(){e1.call(this,"Dfs ");this.Wt=[new eD([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.zc()};e1["Dfs "].prototype=new e1;e1["Dfs "].prototype.Wn=function(z,q){q[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(z.Md.v.DfsM)};
e1["Dfs "].prototype.cL=function(z,q){z.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][q[0]]};e1.Embs=function(){e1.call(this,"Embs");
this.Wt=[new b4([12,15]),new aJ([12,42],1,100,"px"),new aJ([12,57],1,500,"%")];this.zc()};e1.Embs.prototype=new e1;
e1.Embs.prototype.Wn=function(z,q){q[0]=[z.Angl.v];q[1]=z.Hght.v;q[2]=z.Amnt.v};e1.Embs.prototype.cL=function(z,q){z.Angl.v=q[0][0];
z.Hght.v=q[1];z.Amnt.v=q[2]};e1["Wnd "]=function(){e1.call(this,"Wnd ");this.Wt=[new eD([12,32],["Wind","Blast","Stagger"]),new eD([12,33],["From the Right","From the Left"])];
this.zc()};e1["Wnd "].prototype=new e1;e1["Wnd "].prototype.Wn=function(z,q){q[0]=["Wnd","Blst","Stgr"].indexOf(z.WndM.v.WndM);
q[1]=["Left","Rght"].indexOf(z.Drct.v.Drct)};e1["Wnd "].prototype.cL=function(z,q){z.WndM.v.WndM=["Wnd","Blst","Stgr"][q[0]];
z.Drct.v.Drct=["Left","Rght"][q[1]]};e1.denoise=function(){e1.call(this,"denoise");this.Wt=[new aJ([12,64],0,10),new aJ([12,65],0,100,"%"),new aJ("Reduce Color Noise",0,100,"%")];
this.zc()};e1.denoise.prototype=new e1;e1.denoise.prototype.Wn=function(z,q){var e=z.channelDenoise.v[0].v;
console.log(z);q[0]=e.Amnt.v;q[1]=e.EdgF.v;q[2]=z.ClNs.v.val};e1.denoise.prototype.cL=function(z,q){var e=z.channelDenoise.v[0].v;
e.Amnt.v=q[0];e.EdgF.v=q[1];z.ClNs.v.val=q[2]};e1.lightFilterGradient=function(){e1.call(this,"lightFilterGradient");
this.Wt=[new aJ([24,3,1],0,100,"px",1,!0),new aJ([12,38],0,200,"%"),new iP([4,11]),new aJ("High",0,100,"%"),new aJ("Medium",0,100,"%"),new aJ("Low",0,100,"%")];
this.zc()};e1.lightFilterGradient.prototype=new e1;e1.lightFilterGradient.prototype.Wn=function(z,q){q[0]=z.blur.v;
q[1]=z.textureScale.v*100;q[2]=z.Scl.v==-1;var e=z.Dtl.v;q[3]=e[0].v*100;q[4]=e[1].v*100;q[5]=e[2].v*100};
e1.lightFilterGradient.prototype.cL=function(z,q){z.blur.v=q[0];z.textureScale.v=q[1]/100;z.Scl.v=q[2]?-1:1;
var e=z.Dtl.v;e[0].v=q[3]/100;e[1].v=q[4]/100;e[2].v=q[5]/100};e1.Fbrs=function(){e1.call(this,"Fbrs");
this.Wt=[new aJ("Variance",1,64),new aJ([12,64],1,64)];this.zc()};e1.Fbrs.prototype=new e1;e1.Fbrs.prototype.Wn=function(z,q){q[0]=z.Vrnc.v;
q[1]=z.Strg.v};e1.Fbrs.prototype.cL=function(z,q){z.Vrnc.v=q[0];z.Strg.v=q[1]};e1.LnsF=function(){e1.call(this,"LnsF");
this.Wt=[new aJ([12,2],10,300,"%"),new eD([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new aJ("Position X",0,100,"%"),new aJ("Position Y",0,100,"%")];
this.zc()};e1.LnsF.prototype=new e1;e1.LnsF.prototype.Wn=function(z,q){q[0]=z.Brgh.v;q[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(z.Lns.v.Lns);
var e=z.FlrC.v;q[2]=Math.round(e.Hrzn.v*100);q[3]=Math.round(e.Vrtc.v*100)};e1.LnsF.prototype.cL=function(z,q){z.Brgh.v=q[0];
z.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][q[1]];var e=z.FlrC.v;e.Hrzn.v=q[2]/100;e.Vrtc.v=q[3]/100};e1.a3Z(e1.LnsF.prototype);
e1.blendOptions=function(){e1.call(this,"blendOptions");this.Wt.push(new cr([12,19,0],aA.p4,aA.Cx));
this.Wt.push(new aJ([12,0],0,100,"%"));this.zc()};e1.blendOptions.prototype=new e1;e1.blendOptions.prototype.Wn=function(z,q){q[0]=aA.nq.indexOf(z.Md.v.BlnM);
q[1]=z.Opct.v.val};e1.blendOptions.prototype.cL=function(z,q){z.Md.v.BlnM=aA.nq[q[0]];z.Opct.v.val=q[1]};
e1.LnCr=function(){e1.call(this,"LnCr");this.Wt=[new aJ([12,57],-100,100),new aJ([12,38],10,150,"%")];
this.zc()};e1.LnCr.prototype=new e1;e1.LnCr.prototype.Wn=function(z,q){q[0]=z.LnIa.v;q[1]=z.LnSi.v};
e1.LnCr.prototype.cL=function(z,q){z.LnIa.v=q[0];z.LnSi.v=q[1]};e1.adaptCorrect=function(){e1.call(this,"adaptCorrect");
var z=hH;this.Wt=[new ij([19,6,0]),new z([12,57],0,100,"%"),new z("Tone",0,100,"%"),new z([12,56],0,200,"px"),new ij([19,6,2]),new z([12,57],0,100,"%"),new z("Tone",0,100,"%"),new z([12,56],0,200,"px"),new ij([3]),new z([13,0],-100,100)];
this.zc([3,7])};e1.adaptCorrect.prototype=new e1;e1.adaptCorrect.prototype.Wn=function(z,q){var e=z.sdwM.v;
q[0]=e.Amnt.v.val;q[1]=e.Wdth.v.val;q[2]=e.Rds.v;var e=z.hglM.v;q[3]=e.Amnt.v.val;q[4]=e.Wdth.v.val;
q[5]=e.Rds.v;q[6]=z.ClrC.v};e1.adaptCorrect.prototype.cL=function(z,q){var e=z.sdwM.v;e.Amnt.v.val=q[0];
e.Wdth.v.val=q[1];e.Rds.v=q[2];var e=z.hglM.v;e.Amnt.v.val=q[3];e.Wdth.v.val=q[4];e.Rds.v=q[5];z.ClrC.v=q[6]};
e1.Flam=function(){e1.call(this,"Flam");var z=this.Wt=[new cr([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new aJ([12,80,0],20,1e3,"px"),new iP("Randomize Length"),new aJ([12,41],5,600,"px"),new aJ([12,15],0,360,"\xB0"),new aJ("Interval",10,200,"px"),new iP("Adapt Interval for Loops"),new l0(!1),new cr([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new aJ("Turbulent",0,100),new aJ("Jag",0,100),new aJ([12,0],0,100),new aJ("Lines",2,30),new aJ("Bottom",0,100),new cr([12,22],["Normal","Violent","Flat"]),new cr([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new iP("Randomize Shape"),new aJ("Random Seed",0,100)];
this.zc();var q=this.$;J._8(q);var e=new eD(null,["Basic","Advanced"]);e.Q(_.E.f,this.aOs,this);q.appendChild(e.$);
J.dh(q);var V=J.k("div"),P=J.k("div");this.aMl=[V,P];q.appendChild(V);for(var n=0;n<z.length;n++){(n<9?V:P).appendChild(z[n].$);
if(n==6)J.f9(V)}z[0].Q(_.E.f,this.aEy,this);this.aEy()};e1.Flam.prototype=new e1;e1.Flam.prototype.aEy=function(z){var q=this.Wt,n=q[0].r();
q[1]._w(n!=0&&n!=5);q[2]._w(n!=0&&n!=5);q[4]._w(n!=0&&n!=5&&n!=1);q[5]._w(n!=0&&n!=5);q[6]._w(n!=0&&n!=5)};
e1.Flam.prototype.aOs=function(z){var n=z.target.r(),q=this.aMl,e=this.$;e.removeChild(q[1-n]);e.appendChild(q[n])};
e1.boxblur=function(){e1.call(this,"boxblur");this.Wt=[new aJ([12,56],1,200," px")];this.zc()};e1.boxblur.prototype=new e1;
e1.boxblur.prototype.Wn=function(z,q){q[0]=z.Rds.v.val};e1.boxblur.prototype.cL=function(z,q){z.Rds.v.val=q[0]};
e1.GsnB=function(){e1.call(this,"GsnB");this.Wt=[new aJ([12,56],.1,400,"px",1,!0)];this.zc()};e1.GsnB.prototype=new e1;
e1.Dila=function(){e1.call(this,"Dila");this.Wt=[new aJ([11,12,1],0,20,"px",0),new aJ([12,56],0,400,"px",0,!0)];
this.zc()};e1.Dila.prototype=new e1;e1.MtnB=function(){e1.call(this,"MtnB");this.Wt=[new b4([12,15]),new aJ([12,28],1,100," px")];
this.zc()};e1.MtnB.prototype=new e1;e1.RdlB=function(){e1.call(this,"RdlB");this.Wt=[new aJ([12,57],1,100),new eD([12,36],["Spin","Zoom"]),new aJ("Position X",0,100,"%"),new aJ("Position Y",0,100,"%")];
this.zc()};e1.RdlB.prototype=new e1;e1.RdlB.prototype.Wn=function(z,q){q[0]=z.Amnt.v;q[1]=["Spn","Zm"].indexOf(z.BlrM.v.BlrM);
q[2]=z.Cntr.v.Hrzn.v*100;q[3]=z.Cntr.v.Vrtc.v*100};e1.RdlB.prototype.cL=function(z,q){z.Amnt.v=q[0];
z.BlrM.v.BlrM=["Spn","Zm"][q[1]];z.Cntr.v.Hrzn.v=q[2]/100;z.Cntr.v.Vrtc.v=q[3]/100};e1.a3Z(e1.RdlB.prototype);
e1.Dspl=function(){e1.call(this,"Dspl");this.Wt=[new cr([6,36,3],["a","b"]),new aJ([22,4,0],-100,100,"px"),new aJ([22,4,1],-100,100,"px"),new cr([24,18,0],[[24,18,3],[24,18,2]])];
this.zc()};e1.Dspl.prototype=new e1;e1.Dspl.prototype.Wn=function(z,q,e){this.N9=[];this.kP=[];var V=-1,P=e?e[0]:null;
if(P==null)P=this.E6;else this.E6=P;if(P)for(var n=0;n<P.length;n++){var D=P[n];this.N9.push(D.hb.trim());
this.kP.push(D.PP);if(D.PP==z.DspF.v.pth)V=n}this.Wt[0].jl(this.N9);q[0]=V==-1?0:V;q[1]=z.HrzS.v;q[2]=z.VrtS.v;
q[3]=["WrpA","RptE"].indexOf(z.UndA.v.UndA)};e1.Dspl.prototype.cL=function(z,q){var e=this.E6;if(this.kP.length==0)return;
z.DspF.v.pth=this.kP[q[0]];z.HrzS.v=q[1];z.VrtS.v=q[2];z.UndA.v.UndA=["WrpA","RptE"][q[3]];var V=e[q[0]];
V.tW();var P=V.De[1],D=P.s,B=P.T,A=T.n(P.D());T.tI(V.De[0],A);var s=[B&255,B>>>8,0,0,D&255,D>>>8,0,0,3,0];
for(var a=0;a<2;a++)for(var n=0;n<A.length;n++)s.push(A[n]);for(var n=0;n<1e3;n++)s.push(0);z.DspD={t:"tdta",v:s};
z.EmbF={t:"bool",v:!0}};e1.Pnch=function(){e1.call(this,"Pnch");this.Wt=[new aJ([12,57],-100,100,"%")];
this.zc()};e1.Pnch.prototype=new e1;e1["Plr "]=function(){e1.call(this,"Plr ");this.Wt=[new eD(null,["Rect to Polar","Polar to Rect"])];
this.zc()};e1["Plr "].prototype=new e1;e1.Rple=function(){e1.call(this,"Rple");this.Wt=[new aJ([12,57],-999,999),new cr([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.zc()};e1.Rple.prototype=new e1;e1["Shr "]=function(){e1.call(this,"Shr ");this.Wt=[new ie(!0,!0),new cr([24,18,0],[[24,18,3],[24,18,2]])];
this.zc()};e1["Shr "].prototype=new e1;e1["Shr "].prototype.Wn=function(z,q){var e=new e5(0,255/127,255/127,0,-2,128),V=T.G(z.ShrP.v);
T.JQ.v(V,e);q[0]=V;q[1]=["WrpA","RptE"].indexOf(z.UndA.v.UndA)};e1["Shr "].prototype.cL=function(z,q){var e=new e5(0,255/127,255/127,0,-2,128);
e.TG();T.JQ.v(q[0],e);z.ShrP.v=q[0];z.ShrE.v=q[0].length-1;z.UndA.v.UndA=["WrpA","RptE"][q[1]]};e1.Sphr=function(){e1.call(this,"Sphr");
this.Wt=[new aJ([12,57],-100,100),new cr([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.zc()};e1.Sphr.prototype=new e1;
e1.Sphr.prototype.Wn=function(z,q){q[0]=z.Amnt.v;q[1]=["Nrml","HrzO","VrtO"].indexOf(z.SphM.v.SphM)};
e1.Sphr.prototype.cL=function(z,q){z.Amnt.v=q[0];z.SphM.v.SphM=["Nrml","HrzO","VrtO"][q[1]]};e1.Dthr=function(){e1.call(this,"Dthr");
this.Wt=[new cr("Palette",gY.aBn),new eD("Method",["None","Floyd-Steinberg","Bayer 4x4"])];this.zc()};
e1.Dthr.prototype=new e1;e1.Dthr.prototype.Wn=function(z,q){q[0]=z.Plte.v;q[1]=z.Mthd?z.Mthd.v:1};e1.Dthr.prototype.cL=function(z,q){z.Plte.v=q[0];
z.Mthd.v=q[1]};e1.Part=function(){e1.call(this,"Part");this.Wt=[new aJ([15,5,1],0,100,"%"),new aJ([12,14,0],1,50,"px"),new aJ([12,34],0,100,"%"),new aJ([12,2],10,1e3,"%"),new l0(!0),new aJ("Time",0,1,null,3),new aJ("Turbulence",0,100,"%"),new iP("Blink"),new iP("Fall")];
this.zc([4])};e1.Part.prototype=new e1;e1.Part.prototype.Wn=function(z,q){q[0]=z.Cont.v;q[1]=z.Size.v;
q[2]=z.Dpth.v;q[3]=z.Brgh.v;q[4]=z.Clr.v;q[5]=z.Time.v;q[6]=z.Turb.v;q[7]=z.Blnk.v;q[8]=z.Fall.v};e1.Part.prototype.cL=function(z,q){z.Cont.v=q[0];
z.Size.v=q[1];z.Dpth.v=q[2];z.Brgh.v=q[3];z.Clr.v=q[4];z.Time.v=q[5];z.Turb.v=q[6];z.Blnk.v=q[7];z.Fall.v=q[8]};
e1.Twrl=function(){e1.call(this,"Twrl");this.Wt=[new aJ([12,15],-999,999)];this.zc()};e1.Twrl.prototype=new e1;
e1.Wave=function(){e1.call(this,"Wave");this.aJW=[1,2,3,4];this.Wt=[new aJ("Number of Generators",1,100),new hH("Min Length",1,999),new hH("Max Length",1,999),new hH("Min Ampl.",1,999),new hH("Max Ampl.",1,999),new hH("Scale X",1,100,"%"),new hH("Scale Y",1,100,"%"),new eD([12,44],["Sine","Triangle",[12,93,3]]),new cr([24,18,0],[[24,18,3],[24,18,2]])];
this.zc()};e1.Wave.prototype=new e1;e1.ZgZg=function(){e1.call(this,"ZgZg");this.Wt=[new aJ([12,57],-100,100),new aJ("Ridges",0,20),new cr([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.zc()};e1.ZgZg.prototype=new e1;e1.surfaceBlur=function(){e1.call(this,"surfaceBlur");this.Wt=[new aJ([12,56],1,200," px"),new aJ([4,13],1,255," px")];
this.zc()};e1.surfaceBlur.prototype=new e1;e1.surfaceBlur.prototype.Wn=function(z,q){q[0]=z.Rds.v.val;
q[1]=z.Thsh.v};e1.surfaceBlur.prototype.cL=function(z,q){z.Rds.v.val=q[0];z.Thsh.v=q[1]};e1.AdNs=function(){e1.call(this,"AdNs");
this.Wt=[new aJ([12,57],0,200," %"),new cr([12,58],[[12,59,1],[12,59,0]]),new iP([12,60])];this.zc()};
e1.AdNs.prototype=new e1;e1.DstS=function(){e1.call(this,"DstS");this.Wt=[new aJ([12,56],1,200," px"),new aJ([4,13],1,255," px")];
this.zc()};e1.DstS.prototype=new e1;e1["Mdn "]=function(){e1.call(this,"Mdn ");this.Wt=[new aJ([12,56],1,200," px")];
this.zc()};e1["Mdn "].prototype=new e1;e1["Mdn "].prototype.Wn=function(z,q){q[0]=z.Rds.v.val};e1["Mdn "].prototype.cL=function(z,q){z.Rds.v.val=q[0]};
e1.ClrH=function(){e1.call(this,"ClrH");this.Wt=[new aJ([12,56],4,100," px")];for(var n=1;n<4;n++)this.Wt.push(new aJ("Angle "+n,0,90," \xB0"));
this.zc()};e1.ClrH.prototype=new e1;e1.ClrH.prototype.Wn=function(z,q){q[0]=z.Rds.v;for(var n=1;n<4;
n++)q[n]=z["Ang"+n].v};e1.ClrH.prototype.cL=function(z,q){z.Rds.v=q[0];for(var n=1;n<4;n++)z["Ang"+n].v=q[n]};
e1.ClrH.prototype.W=function(){var z=this.Wt;z[0].W();for(var n=1;n<4;n++)z[n]._D(iE.get([12,15])+" "+n)};
e1.Crst=function(){e1.call(this,"Crst");this.Wt=[new aJ([12,61],3,100," px")];this.zc()};e1.Crst.prototype=new e1;
e1.Crst.prototype.Wn=function(z,q){q[0]=z.ClSz.v};e1.Crst.prototype.cL=function(z,q){z.ClSz.v=q[0]};
e1.Mztn=function(){e1.call(this,"Mztn");this.Wt.push(new cr([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.kP="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.zc()};e1.Mztn.prototype=new e1;
e1.Mztn.prototype.Wn=function(z,q){q[0]=this.kP.indexOf(z.MztT.v.MztT)};e1.Mztn.prototype.cL=function(z,q){z.MztT.v.MztT=this.kP[q[0]]};
e1["Msc "]=function(){e1.call(this,"Msc ");this.Wt=[new aJ([12,61],2,200," px")];this.zc()};e1["Msc "].prototype=new e1;
e1["Msc "].prototype.Wn=function(z,q){q[0]=z.ClSz.v.val};e1["Msc "].prototype.cL=function(z,q){z.ClSz.v.val=q[0]};
e1.ShMs=function(){e1.call(this,"ShMs");this.Wt=[new aJ([12,61],2,200," px"),new eD([12,76,1],[[12,93,3],[12,93,5],[12,93,1]]),new eD([12,29],["XY","X","Y"]),new iP([12,60]),new iP([4,11])];
this.zc()};e1.ShMs.prototype=new e1;e1.ShMs.prototype.Wn=function(z,q){q[0]=z.ClSz.v.val;q[1]=z.Shap.v;
q[2]=z.Sprd.v;q[3]=z.Mono.v;q[4]=z.Invr.v};e1.ShMs.prototype.cL=function(z,q){z.ClSz.v.val=q[0];z.Shap.v=q[1];
z.Sprd.v=q[2];z.Mono.v=q[3];z.Invr.v=q[4]};e1.Pntl=function(){e1.call(this,"Pntl");this.Wt=[new aJ([12,61],3,100," px")];
this.zc()};e1.Pntl.prototype=new e1;e1.Pntl.prototype.Wn=function(z,q){q[0]=z.ClSz.v};e1.Pntl.prototype.cL=function(z,q){z.ClSz.v=q[0]};
e1.smartSharpen=function(){e1.call(this,"smartSharpen");this.Wt=[new aJ([12,57],1,200,"%"),new aJ([12,56],0,200,"px",1,!0)];
this.zc()};e1.smartSharpen.prototype=new e1;e1.smartSharpen.prototype.Wn=function(z,q){q[0]=z.Amnt?z.Amnt.v.val:200;
q[1]=z.Rds?z.Rds.v.val:1};e1.smartSharpen.prototype.cL=function(z,q){z.Amnt.v.val=q[0];z.Rds.v.val=q[1]};
e1.UnsM=function(){e1.call(this,"UnsM");this.Wt=[new aJ([12,57],1,200," %"),new aJ([12,56],.1,400,"px",1,!0),new aJ([4,13],0,255," ")];
this.zc()};e1.UnsM.prototype=new e1;e1.HghP=function(){e1.call(this,"HghP");this.Wt=[new aJ([12,56],.1,400,"px",1,!0)];
this.zc()};e1.HghP.prototype=new e1;e1.HsbP=function(){e1.call(this,"HsbP");this.Wt=[new eD("Input",["RGB","HSB","HSL"]),new eD("Output",["RGB","HSB","HSL"])];
this.zc()};e1.HsbP.prototype=new e1;e1["Mxm "]=function(){e1.call(this,"Mxm ");this.Wt=[new aJ([12,56],.1,200," px",1,!0),new cr([12,76,1],[[12,93,3],"Circle"])];
this.zc()};e1["Mxm "].prototype=new e1;e1["Mnm "]=function(){e1.call(this,"Mnm ");this.Wt=[new aJ([12,56],.1,200," px",1,!0),new cr([12,76,1],[[12,93,3],"Circle"])];
this.zc()};e1["Mnm "].prototype=new e1;e1.Ofst=function(){e1.call(this,"Ofst");this.Wt=[new aJ([22,4,0],-1024,1024," px"),new aJ([22,4,1],-1024,1024," px"),new cr([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.zc()};e1.Ofst.prototype=new e1;e1.Kale=function(){e1.call(this,"Kale");this.Wt=[new hH("Mirrors",2,20),new hH([12,15],0,360,"\xB0")];
this.zc()};e1.Kale.prototype=new e1;e1.Kale.prototype.Wn=function(z,q){q[0]=z.Mirr.v;q[1]=z.MRot.v};
e1.Kale.prototype.cL=function(z,q){z.Mirr.v=q[0];z.MRot.v=q[1]};e1.Rept=function(){e1.call(this,"Rept");
this.Wt=[new hH([12,38],1,300," %"),new hH("Row Shift",-50,50," %"),new hH("Space X",-99,200," %"),new hH("Space Y",-99,200," %"),new iP([4,16,2]),new b4([12,15])];
this.zc()};e1.Rept.prototype=new e1;e1.Rept.prototype.Wn=function(z,q){q[0]=z.Scl.v.val;q[1]=z.Rsft.v.val;
q[2]=z.SpcX.v.val;q[3]=z.SpcY.v.val;q[4]=z.SpcC.v;q[5]=[z.Angl.v]};e1.Rept.prototype.cL=function(z,q){z.Scl.v.val=q[0];
z.Rsft.v.val=q[1];z.SpcX.v.val=q[2];z.SpcY.v.val=q[3];z.SpcC.v=q[4];z.Angl.v=q[5][0];return z};e1.Ctoa=function(){e1.call(this,"Ctoa");
this.Wt=[new ij([13,0]),new l0(!0),new aJ(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new aJ(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.zc()};e1.Ctoa.prototype=new e1;e1.Ctoa.prototype.Wn=function(z,q){q[0]=z.Clr.v;q[1]=z.Trsp.v.val;
q[2]=z.Opct.v.val};e1.Ctoa.prototype.cL=function(z,q){z.Clr.v=q[0];z.Trsp.v.val=q[1];z.Opct.v.val=q[2]};
e1.LqFy=function(){e1.call(this,"LqFy");this.f7=!1;this.Ei=!1;this.GC=null;this.aa$=null;this.U=0;this._7=-1;
this.jc={Oo:[[{U:{id:0,name:[24,1,0,1,0],V5:"liq/smudge"}}],[{U:{id:1,name:[24,1,0,1,1],V5:"liq/reconstruct"}}],[{U:{id:2,name:[24,1,0,1,2],V5:"liq/smooth"}}],[{U:{id:3,name:[24,1,0,1,3],V5:"liq/twirl"}}],[{U:{id:4,name:[24,1,0,1,4],V5:"liq/shrink"}}],[{U:{id:5,name:[24,1,0,1,5],V5:"liq/blow"}}],[{U:{id:6,name:[24,1,0,1,6],V5:"liq/pleft"}}],[{U:{id:7,name:"Hand",V5:"tools/hand"}}],[{U:{id:8,name:"Zoom In",V5:"zoomIn"}}],[{U:{id:9,name:"Zoom Out",V5:"zoomOut"}}]],keys:[]};
this.xo=new eR(this.jc,!1);this.xo.Fw(0);this.xo.Q(_.E.b,this.Dg,this);this.sq=ia.ld();this.D5=null;
this.vn=[];this.LF=-1;this.ze=null;this.aua=null;this.yf=null;this.ib=null;this.Dz=null;var z=J.k("div","flexrow");
this.fz=z;this.$.appendChild(z);z.appendChild(this.xo.$);this.view=new hX(!0);this.view.hh(100,100);
this.view.Q("mousedown",this.O3,this);this.view.Q("mousemove",this.Qh,this);this.view.Q("mouseup",this.lG,this);
this.view.Q("zoom",this.ZP,this);z.appendChild(this.view.$);var q=J.k("div","form");z.appendChild(q);
this.atf=q;q.style.width="230px";this.Js=[new aJ([12,14,0],0,1e3,null,!1,!0),new aJ([12,74],0,100,null,!1,!1),new aJ([12,84],0,100,null,!1,!1),new iP([12,46]),new aJ([12,0],0,100,null,!1,!1),new iP([24,18,5])];
var e=this.sq.Brsh.v;e.Dmtr.v.val=100;var V=[100,50,100,!1,100,!0];for(var n=0;n<this.Js.length;n++){var P=this.Js[n];
P.a(V[n]);if(n==4)P.QU();P.Q(_.E.f,this.aD4,this);q.appendChild(P.$)}var D=this.a4M=new ht([1,12,2],!0,null,!0);
D.Q("click",this.Gc,this);q.appendChild(D.$);this.aCt=this.mJ.bind(this);this.B8=new gq;this.B8.$=J.k("div","floatcont");
this.Fa=new ht("Menu",!1,null,!0);var B=this.Fa.$;J.C(B,"position:absolute; right:13px; top:47px");J.Br(B,this.aa4.bind(this))};
e1.LqFy.prototype=new e1;e1.LqFy.prototype.eS=function(){return!0};e1.LqFy.prototype.RU=function(z){this.atf.appendChild(z)};
e1.LqFy.prototype.aa4=function(z){if(J.H2(this.B8.$))return;z.stopPropagation();var q=this.Fa.$.getBoundingClientRect();
this.B8.$.appendChild(this.atf);var e=new dW(_.E.b,!0);e.data={p:_.m.wL,MR:this.B8,x:q.right+q.width-290,y:q.top+q.height};
this.K(e)};e1.LqFy.prototype.gi=function(z){this.f7=z.t(cz.mh);var q=W.j6.cG(this.sq,z);if(q!=null){this.sq=q;
this.ZP();this.Js[0].a(q.Brsh.v.Dmtr.v.val)}else if(z.t(cz.EF)&&z.t(cz.wX)){var e=this.vn;if(z.t(cz.XQ)){if(this.LF+1<e.length)this.LF++}else if(this.LF>0)this.LF--;
this.D5.map=e[this.LF].slice(0);this.LE(null)}else if(this.U<=6)this.view.gi(z);var V=this.U,P=-1,D=z.t(cz.mh);
if(D&&this._7==-1){if(V==0)P=1;if(V==4)P=5;if(V==5)P=4;if(P!=-1)this._7=V}if(!D&&this._7!=-1){P=this._7;
this._7=-1}if(P!=-1){this.U=P;this.xo.Fw(this.U)}};e1.LqFy.prototype.Dg=function(z){if(z.data.p==_.m.uB){var q=this.U=z.data.U;
this.xo.Fw(this.U);this.view.gi(q>6?hX.G8(q-7):new cz)}};e1.LqFy.prototype.aD4=function(z){var q=z.currentTarget,n=this.Js.indexOf(q),e=this.sq.Brsh.v;
if(n==0){e.Dmtr.v.val=q.r();this.ZP()}this.Js[4]._w(this.Js[3].r());if(n>2)this.LE(null)};e1.LqFy.prototype.jP=function(){var z=this.vn;
this.LF++;z[this.LF]=this.D5.map.slice(0);while(z.length>this.LF+1)z.pop();while(z.length>50){z=z.slice(1);
this.LF--}};e1.LqFy.prototype.O3=function(z){this.GC=this.view.$A();this.aa$=new f5(0,0);this.Ei=!0;
window.requestAnimationFrame(this.aCt)};e1.LqFy.prototype.Qh=function(z){var q=this.view.$A(),e=new f5(q.x-this.GC.x,q.y-this.GC.y);
if(this.U==0||this.U==6)this.a0v(e);this.GC=q};e1.LqFy.prototype.lG=function(z){this.jP();this.Ei=!1};
e1.LqFy.prototype.mJ=function(z){if(this.U!=0&&this.U!=6)this.a0v(new f5(0,0));if(this.Ei)window.requestAnimationFrame(this.aCt)};
e1.LqFy.prototype.a0v=function(z){var q=this.D5,e=q.xL/this.ze.s,V=this.GC,P=this.sq.Brsh.v,D=P.Dmtr.v.val,B=Date.now(),A=q.xL,s=q.Hi,a=Math.sqrt(z.x*z.x+z.y*z.y),M=Math.max(1,Math.ceil(a/2)),$=z.x/M,U=z.y/M,o=V.Y(),t=this.U,c=this.Js[1].r()/100,H=this.Js[2].r()/100,F=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],i=F[t*2],X=F[t*2+1],K=(1-c)*i+c*X,f=D*e/2;
for(var n=0;n<M;n++){var d=[];o.x+=$;o.y+=U;T.kB.aCP(q.map,A,s,t,o.x*e,o.y*e,f,c,H,$*e,U*e,d,this.f7);
T.kB.amP(A,s,q.map,d,2*K*H)}var L=new kk(0,0,A,s),G=new kk(V.x*e,V.y*e,0,0);G.Gm(D*e*.5,D*e*.5);var x=G.Y();
x.offset(z.x*e,z.y*e);G=G.X8(x);var O=new kk(G.x/e,G.y/e,G.s/e,G.T/e);O=T.R.JY(O).HX(this.ze);this.Js[5].a(!0);
this.LE(O)};e1.LqFy.prototype.ZP=function(){var z=bw.Tf(this.sq,null,this.view.VI().C7);this.view.Rq(z)};
e1.LqFy.prototype.a=function(z,q,e,V,P){e=e.Y();if(q==null)return;q=T.EZ(q,8);if(!V.bs(e)){var D=e.X8(V),B=T.n(D.D()*4);
T.aF(q,e,B,D);q=B;e=D;var A=T.n(D.D()*4);T.aF(P,V,A,D);P=A}e.x=e.y=0;this.yf=q;this.aua=P;this.Dz=q.slice(0);
this.ib=q.slice(0);this.ze=e;this.D5=cV.iA(new Uint8Array(z.LqMe.v).buffer);var s=e.s,a=e.T;if(this.D5.xL/s<.22){this.D5={xL:Math.floor(s/4),Hi:Math.floor(a/4)};
this.D5.map=new Float32Array(this.D5.xL*this.D5.Hi*2)}this.vn=[];this.LF=-1;this.jP();this.LE(null);
this.view.ih(!0);this.ZP()};e1.LqFy.prototype.r=function(){var z=ak.g1("LqFy"),q=new Uint8Array(cV.Ft(this.D5)),e=[];
for(var n=0;n<q.length;n++)e.push(q[n]);z.LqMe.v=e;return z};e1.LqFy.prototype.hh=function(z,q){this.xo.hh(z,q);
var e=this.Fa.$,V=this.atf;this.fz.appendChild(V);this.fz.appendChild(e);if(z>450&&z-q>200){V.style.marginLeft="1em";
this.fz.removeChild(e);this.view.hh(z-238-45,q)}else{V.style.marginLeft="";this.fz.removeChild(V);this.view.hh(z-40,q)}};
e1.LqFy.prototype.W=function(){this.xo.W();this.a4M.W();for(var n=0;n<this.Js.length;n++)this.Js[n].W()};
e1.LqFy.prototype.Gc=function(){this.D5.map.fill(0);this.jP();this.LE(null)};e1.LqFy.prototype.LE=function(z){var q=this.ze,e=this.yf,V=this.Dz,P=this.D5;
if(this.Js[5].r())T.kB.mu(e,this.ib,q.s,q.T,z,P.map,P.xL,P.Hi,0);else this.ib.set(e);if(this.Js[3].Iv()){T.aF(this.aua,q,V,q,z?z:q);
T.w.Mt("norm",this.ib,q,V,q,z?z:q,this.Js[4].r()/100)}else T.Yh(this.ib,V);this.view.a([{hp:q,data:V.buffer}],null,null,z)};
e1.GEfc=function(){e1.call(this,"GEfc");this.xz=0;this._0=0;this.yf=null;this.Dz=null;this.ze=null;this.i=null;
this.z1=null;this.In=0;this.xi=null;this.m8=null;var z=J.k("div","flexrow");this.fz=z;this.$.appendChild(z);
this.view=new hX(null);this.view.hh(100,100);z.appendChild(this.view.$);this._I="";this.aBq=270;var q=this.yn=J.k("div","form scrollable");
z.appendChild(q);J.C(q,"width:"+this.aBq+"px;");var e=this.Kt=J.k("div","form");z.appendChild(e);J.C(e,"width:230px;  margin:0 10px");
this.bU={};for(var V in gY.names){var P=new e1.GEfc.SQ(V);P.parent=this;this.bU[V]=P;P.Q(_.E.f,this.aIT,this)}this.BC=!0;
this.Fa=new ht("Menu",null,null,!0);this.Fa.Q("click",this.atH,this);z.appendChild(this.Fa.$);this.a7E=new ht(">>",null,null,!0);
this.a7E.Q("click",this.aGl,this);e.appendChild(this.a7E.$);this.afn=J.k("div");J.C(this.afn,"margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
e.appendChild(this.afn);this.Wa=J.k("div");this.Wa.style.minHeight="14em";this.Wa.style.marginBottom="1em";
e.appendChild(this.Wa);this.$V=J.k("div","lpbody scrollable");this.UZ=J.k("div","lpfoot");e.appendChild(this.$V);
e.appendChild(this.UZ);this.Q("click",this.aJJ,this);this.Dy=[];c$.x7([[5,3],[5,4]],this.Dy,this.UZ,this.ZW.bind(this))};
e1.GEfc.prototype=new e1;e1.GEfc.prototype.eS=function(){return!0};e1.GEfc.prototype.RU=function(z){this.afn.appendChild(z)};
e1.GEfc.prototype.gi=function(z){this.view.gi(z)};e1.GEfc.prototype.K5=function(z,q){this.i=z;if(z.pQ==z.Cp)alert("Your foreground and a background color are identical.",4e3)};
e1.GEfc.prototype.aGl=function(z){var q=this.yn.style.display!="none";this.yn.style.display=q?"none":"";
this.a7E._D(q?"<<":">>");this.hh()};e1.GEfc.prototype.atH=function(z){this.BC=!this.BC;this.hh()};e1.GEfc.prototype.hh=function(z,q){var e=this.yn.style.display!="none";
if(z!=null){this.xz=z;this._0=q;if(z<1e3&&e||z>=1e3&&!e){this.aGl();e=!e}this.BC=z>600}else{z=this.xz;
q=this._0}var V=this.BC?250+(e?this.aBq:0):0;if(J.H2(this.Kt)&&!this.BC){this.fz.removeChild(this.yn);
this.fz.removeChild(this.Kt)}if(!J.H2(this.Kt)&&this.BC){this.fz.appendChild(this.yn);this.fz.appendChild(this.Kt)}this.yn.style.height=q+"px";
this.view.hh(z-V,q);this.$V.style.height=q-Math.max(this.Wa.getBoundingClientRect().height,186)-96+"px";
J.C(this.Fa.$,"position:absolute; top:46px;  right:"+(V+16)+"px")};e1.GEfc.prototype.aL3=function(){var z=hZ.ui.get("img/beach",!0)[0],q=z.hp,e=this.yn,V=Math.floor(J.WU()*(this.aBq-44)/3),P=~~(V*.7),D=new kk(0,0,V,P),B=T.n(V*P*4),A=B.slice(0),s=Math.round(10*J.WU()),a=new ImageData(new Uint8ClampedArray(A.buffer),V,P);
T.aF(new Uint8Array(z.data),q,B,new kk(Math.round((q.s-V)/2),Math.round((q.T-P)/2),V,P));var M=J.k("canvas"),$=M.getContext("2d");
M.width=V;M.height=P+Math.round(s*1.5);$.font=s+"px sans-serif";this.xi={};J._8(e);var U=this.ajt.bind(this);
for(var n=0;n<gY.dx.length;n++){var o=gY.dx[n],t=J.k("div");e.appendChild(t);J.C(t,"background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
t.textContent=iE.get(o);for(var c in gY.names){var H=gY.names[c];if(H[0]!=n)continue;gY.vl(c,{V:D,buffer:B},gY.g1(c),{l:0,I:0,c:0},{l:255,I:255,c:255},{V:D,buffer:A},{});
$.fillStyle="black";$.fillRect(0,0,500,500);$.putImageData(a,0,0);var F=iE.get(H[1]);$.fillStyle="white";
$.fillText(F,(V-$.measureText(F).width)/2,P+Math.round(s*1.1));var i=J.k("div");e.appendChild(i);J.C(i,"display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
i.addEventListener("click",U,!1);var t=J.k("img");i.appendChild(t);t.setAttribute("src",M.toDataURL());
J.C(t,"width:"+V/J.WU()+"px; margin-bottom:0px;");this.xi[c]=i}}};e1.GEfc.prototype.ajt=function(z){var q;
for(var e in this.xi)if(this.xi[e]==z.currentTarget)this._I=e;this.aIT()};e1.GEfc.prototype.ZW=function(z){var q=c$.rg(this.Dy,z),e=this.z1.GEfs.v,V=e[this.In].v;
if(q==0){e.push(T.G(e[this.In]));this.In=e.length-1}else if(e.length>1){e.splice(this.In,1);if(this.In==e.length)this.In--}this.qa();
this.LE()};e1.GEfc.prototype.aIT=function(z){var q=this._I,e;if(z==null)e=gY.g1(q);else e=this.bU[q].r();
this.z1.GEfs.v[this.In].v=e;this.qa();this.LE()};e1.GEfc.prototype.a=function(z,q,e,V,P,D){var B=iE.get([24,0]);
if(this.xi==null||B!=this.m8)this.aL3();this.m8=B;this.aqo=D;z=this.z1=T.G(z);if(z.GEfs==null)z=this.z1={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:z}]}};
var A=z.GEfs.v;for(var n=0;n<A.length;n++)if(A[n].v.GELv==null)A[n].v.GELv={t:"bool",v:!0};this.In=A.length-1;
this.qa();e=e.Y();if(q==null)return;q=T.EZ(q,8);if(!V.bs(e)&&gY.KZ(z).x!=0){var s=e.X8(V),a=T.n(s.D()*4);
T.aF(q,e,a,s);q=a;e=s}e.x=e.y=0;this.yf=q;this.Dz=q.slice(0);this.ze=e;this.LE();this.view.ih();setTimeout(function(){this.hh()}.bind(this),300)};
e1.GEfc.prototype.aJJ=function(z){var q=z.data,n=q.XW,e=this.z1.GEfs.v;if(q.G0){e[n].v.GELv.v=!e[n].v.GELv.v;
this.LE()}else this.In=n;this.qa()};e1.GEfc.prototype.qa=function(){var z=this.z1.GEfs.v,q=z[this.In].v,e=q.GEfk.v.GEft,V=this.Wa;
if(gY.names[e]==null){alert("Unsupported gallery filter");J._8(V)}else{this._I=e;for(var P in this.xi)J.Pf(this.xi[P],"selected");
J.d6(this.xi[e],"selected");var D=this.bU[e];D.a(q,this.aqo);if(V.firstChild!=D.$){J._8(V);V.appendChild(D.$)}}var B=[];
for(var n=0;n<z.length;n++){var A=z[n].v,s=gY.names[A.GEfk.v.GEft],a=new gV(n,!0,!0,null,s?s[1]:"Filter",n==this.In,A.GELv.v);
a.parent=this;B.push(a.$)}J._8(this.$V);B.reverse();for(var n=0;n<B.length;n++)this.$V.appendChild(B[n]);
this.hh()};e1.GEfc.prototype.r=function(){return T.G(this.z1)};e1.GEfc.prototype.LE=function(z){var q=this.ze,e=this.yf,V=this.Dz,P=this._I,D=this.z1,B=this.i;
ak.vl("GEfc",{V:this.ze,buffer:this.yf},D,T.H_(B.pQ),T.H_(B.Cp),{V:this.ze,buffer:this.Dz},this.aqo);
this.view.a([{hp:q,data:V.buffer}])};e1.GEfc.prototype.W=function(){for(var z in this.bU)this.bU[z].W();
c$.kX(this.Dy,["lrs/newlayer","lrs/bin"])};e1.GEfc.SQ=function(z){gq.call(this);this.U0=z;this.$=J.k("div");
this.P1={};var q=gY.g1(z);for(var e in q){var V=null;if(e=="__name"||e=="classID"||e=="GEfk"||e=="GELv"||["FlRs"].indexOf(e)!=-1)continue;
else if(e=="EdgW")V=new aJ([24,21,0],1,14);else if(e=="EdgB")V=new aJ([24,21,1],0,z=="AccE"?50:20);else if(e=="Smth")V=new aJ([19,3,3],1,z=="Stmp"?50:15);
else if(e=="ClSz")V=new aJ([12,61],3,100);else if(e=="BrdT")V=new aJ([7,9],1,20);else if(e=="HghS")V=new aJ([12,64],0,20);
else if(e=="HlSz")V=new aJ([12,14,0],1,15);else if(e=="Cntr")V=new aJ([12,3,0],0,z=="WtrP"?100:50);else if(e=="Shrp")V=new aJ([24,21,2],0,40);
else if(e=="SprR")V=new aJ([24,21,3],0,25);else if(e=="LgDr")V=new aJ([24,21,4],0,z=="Stmp"?50:100);
else if(e=="Drkn")V=new aJ([24,21,5],1,50);else if(e=="Dstr")V=new aJ([24,21,6],0,20);else if(e=="Scln")V=new aJ([12,38],50,200);
else if(e=="Rlf")V=new aJ([24,21,7],0,z=="Ptch"||z=="NtPr"?25:50);else if(e=="ChAm")V=new aJ([24,21,8],1,7);
else if(e=="Pncl")V=new aJ([19,2,5],1,30);else if(e=="StrP")V=new aJ([24,21,9],0,15);else if(e=="PprB")V=new aJ([24,21,10],0,50);
else if(e=="BrsS")V=new aJ([24,21,11],0,10);else if(e=="BrsD")V=new aJ([24,21,12],0,10);else if(e=="Txtr")V=new aJ([12,67],1,3);
else if(e=="Grn")V=new aJ([24,20,42],0,20);else if(e=="HghA")V=new aJ([24,21,13],0,20);else if(e=="Intn")V=new aJ([24,21,14],0,10);
else if(e=="Brgh")V=new aJ([24,21,15],0,z=="WtrP"?100:50);else if(e=="StrS")V=new aJ([24,21,16],1,50);
else if(e=="StDt")V=new aJ([24,21,17],1,3);else if(e=="Sftn")V=new aJ([24,21,18],0,10);else if(e=="EdgT")V=new aJ([24,21,19],0,10);
else if(e=="EdgI")V=new aJ([24,21,20],0,10);else if(e=="Pstr")V=new aJ([24,21,23],0,6);else if(e=="Dfnt")V=new aJ([24,21,24],0,25);
else if(e=="TxtC")V=new aJ([24,21,25],0,50);else if(e=="ShdI")V=new aJ([24,21,26],0,10);else if(e=="DrcB")V=new aJ([24,21,28],0,100);
else if(e=="Strg")V=new aJ([12,64],1,3);else if(e=="Blnc")V=new aJ([24,21,27],0,10);else if(e=="BlcI")V=new aJ([24,21,30],0,10);
else if(e=="WhtI")V=new aJ([24,21,31],0,10);else if(e=="DrkI")V=new aJ([24,21,32],0,50);else if(e=="LghI")V=new aJ([24,21,33],0,50);
else if(e=="StrW")V=new aJ([24,21,34],3,15);else if(e=="Grns")V=new aJ([24,21,36],0,z=="NtPr"?20:10);
else if(e=="GlwA")V=new aJ([24,21,37],0,20);else if(e=="ClrA")V=new aJ([24,21,38],0,20);else if(e=="ChrA")V=new aJ([24,21,39],0,20);
else if(e=="ChlA")V=new aJ([24,21,40],0,20);else if(e=="FrgL")V=new aJ([24,21,41],1,15);else if(e=="BckL")V=new aJ([24,21,42],1,15);
else if(e=="WhtL")V=new aJ([24,21,42],0,50);else if(e=="BlcL")V=new aJ([24,21,41],0,50);else if(e=="ImgB")V=new aJ([24,21,29],0,50);
else if(e=="Dnst")V=new aJ([12,74],0,50);else if(e=="FbrL")V=new aJ([24,21,43],3,50);else if(e=="CrcS")V=new aJ([24,21,44],2,100);
else if(e=="CrcD")V=new aJ([24,21,45],0,10);else if(e=="CrcB")V=new aJ([24,21,46],0,10);else if(e=="TlSz")V=new aJ([24,21,47],2,100);
else if(e=="GrtW")V=new aJ([24,21,48],1,15);else if(e=="LghG")V=new aJ([24,21,49],0,10);else if(e=="SqrS")V=new aJ([24,21,50],0,10);
else if(e=="RplS")V=new aJ([24,21,51],1,15);else if(e=="RplM")V=new aJ([24,21,52],0,20);else if(e=="NmbL")V=new aJ([24,21,53],2,8);
else if(e=="EdgS")V=new aJ([24,21,21],0,10);else if(e=="EdgF")V=new aJ([24,21,22],1,3);else if(e=="Sz")V=z=="NGlw"?new aJ([24,21,54],-24,24):new aJ([24,21,11],1,50);
else if(e=="Dtl")V=z=="Chrc"?new aJ([24,21,56],0,5):new aJ([24,21,56],1,15);else if(e=="StrL")V=z=="InkO"?new aJ([24,21,35],1,50):new aJ([24,21,35],0,20);
else if(e=="TxtT")V=new cr([12,67],[[24,22,0],[24,22,1],[24,22,2],[24,22,3],[24,22,4],[24,22,5],[24,22,6]]);
else if(e=="BrsT")V=new cr([24,21,57],[[24,23,0],[24,23,1],[24,23,2],[24,23,3],[24,23,4],[24,23,5]]);
else if(e=="Grnt")V=new cr([24,21,58],[[24,24,0],[24,24,1],[24,24,2],[24,24,3],[24,24,4],[24,24,5],[24,24,6],[22,4,0],[22,4,1],[24,24,7]]);
else if(e=="SDir")V=new cr([12,33],[[24,25,0],[22,4,0],[24,25,1],[22,4,1]]);else if(e=="ScrT")V=new cr([12,62],[[12,93,5],[12,93,6],[10,35]]);
else if(e=="LghD"||e=="LghP")V=new cr([24,21,59],[[24,26,0],[24,26,1],[24,26,2],[24,26,3],[24,26,4],[24,26,5],[24,26,6],[24,26,7]]);
else if(e=="Clr")V=new l0([24,21,55]);else if(e=="InvT")V=new iP([4,11]);else console.log(e);V.Q(_.E.f,this.GT,this);
V.parent=this;this.P1[e]=V;this.$.appendChild(V.$);if(e=="TxtT"){V=this.P1.TxtS=new cr("Texture (Sm. Obj.)",["a","b"]);
V.Q(_.E.f,this.GT,this);V.parent=this;this.$.appendChild(V.$)}}};e1.GEfc.SQ.prototype=new gq;e1.GEfc.SQ.prototype.GT=function(z){var q=z.currentTarget;
if(q==this.P1.TxtT||q==this.P1.TxtS)this.tH=q;this.K(new dW(_.E.f,!1))};e1.GEfc.av$="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
e1.GEfc.SQ.prototype.a=function(z,q){for(var e in this.P1){var V;if(e1.GEfc.av$.indexOf(e)!=-1)V=z[e].v;
else if(e=="TxtT")V=gY.pk.indexOf(z[e].v[e]);else if(e=="TxtS"){this.N9=[];this.kP=[];var P=-1,D=q?q[0]:null;
if(D==null)D=this.E6;else this.E6=D;if(D)for(var n=0;n<D.length;n++){var B=D[n];this.N9.push(B.hb.trim());
this.kP.push(B.PP);if(B.PP==z.TxtT.v.pth)P=n}this.P1[e].jl(this.N9);V=P==-1?0:P;this.tH=this.P1[P==-1?"TxtT":"TxtS"];
this.P1[e]._w(D&&D.length!=0)}else if(e=="BrsT")V=gY.aM8.indexOf(z[e].v[e]);else if(e=="LghD")V=gY.ow.indexOf(z[e].v[e]);
else if(e=="LghP")V=gY.RH.indexOf(z[e].v[e]);else if(e=="Grnt")V=gY.KO.indexOf(z[e].v[e]);else if(e=="ScrT")V=gY.fE.indexOf(z[e].v[e]);
else if(e=="SDir")V=gY.wf.indexOf(z[e].v.StrD);this.P1[e].a(V)}};e1.GEfc.SQ.prototype.r=function(){var z=gY.g1(this.U0);
for(var q in this.P1){var e=this.P1[q].r();if(e1.GEfc.av$.indexOf(q)!=-1)z[q].v=e;else if(q=="TxtT"&&this.tH==this.P1[q])z.TxtT={t:"enum",v:{TxtT:gY.pk[e]}};
else if(q=="TxtS"&&this.tH==this.P1[q])z.TxtT={t:"Pth ",v:{sig:"txtu",pth:this.kP[e]}};else if(q=="BrsT")z[q].v[q]=gY.aM8[e];
else if(q=="LghD")z[q].v[q]=gY.ow[e];else if(q=="LghP")z[q].v[q]=gY.RH[e];else if(q=="Grnt")z[q].v[q]=gY.KO[e];
else if(q=="ScrT")z[q].v[q]=gY.fE[e];else if(q=="SDir")z[q].v.StrD=gY.wf[e]}return z};e1.GEfc.SQ.prototype.W=function(){for(var z in this.P1)this.P1[z].W()};
e1["Adobe Camera Raw Filter"]=function(){var z=function(q){e1.call(this,"Adobe Camera Raw Filter");var e=this.$;
this.Mo=q;this.ox=null;this.n3=null;this.a7h="";this.wH=null;this.Yj=1e3;this.b8=null;this.Yu=null;this.aMV={iL:4e3,s3:0};
J.d6(e,"flexrow");this.view=new hX(!1,q,!0);this.view.Q("zoom",this.LE,this);e.appendChild(this.view.$);
var V=J.k("div");J.C(V,"width:18.8em; border-left:2px solid var(--brdr); position:relative;");e.appendChild(V);
this.LP=new dV(245,null,4);V.appendChild(this.LP.$);this.LP.$.style.opacity=.8;this.Dh=new eD([12,36],["Original","Nicer"]);
this.Dh.$.style.margin="4px";if(q)V.appendChild(this.Dh.$);this.Dh.Q(_.E.f,this.Za,this);this.p$=new eD(null,[[7,0],[13,1,1],[13,1,4],[13,1,5]]);
this.p$.Q(_.E.f,this.LE,this);this.ayp=J.k("div","scrollable");V.appendChild(this.ayp);this.amu=J.k("div","padded");
V.appendChild(this.amu);this.P1={Ex12:new aJ([4,3],-4,4,null,!0),Cr12:new aJ([12,3,0],-100,100),Hi12:new aJ("Highlights",-100,100),Sh12:new aJ("Shadows",-100,100),Wh12:new aJ("Whites",-100,100),Bk12:new aJ("Blacks",-100,100),Temp:new aJ("Temperature",-100,100),Tint:new aJ("Tint",-100,100),Vibr:new aJ([4,4],-100,100),Strt:new aJ([12,9],-100,100),CrTx:new aJ("Texture",-100,100),Cl12:new aJ("Clarity",-100,100),Dhze:new aJ("Dehaze",-100,100),Crv:new ie(!1,!1,!1),LNR:new aJ("Noise Reduction",0,100),CNR:new aJ("Color Noise Reduction",0,100)};
this.P1.Crv.hh(222,222);this.fo={Temp:new aJ("Temperature",2e3,3e4),Tint:new aJ("Tint",-100,100),Ex12:new aJ([4,3],-4,4,null,!0)};
this.agu=[];var P=this.aP6=[[[24,21,59],"Ex12 Cr12 Hi12 Sh12 Wh12 Bk12".split(" ")],[[13,0],["Temp","Tint","Vibr","Strt"]],[[12,1],["CrTx","Cl12","Dhze"]],[[4,2],["Crv"]],[[24,21,56],["LNR","CNR"]]];
for(var n=0;n<P.length;n++){var D=P[n][1],B=J.k("div","padded");this.ayp.appendChild(B);J.C(B,"border-top:2px solid var(--brdr);");
var A=J.k("div");this.agu.push(A);J.C(A,"font-weight:bold; margin:2px 0 4px 0;");B.appendChild(A);for(var s=0;
s<D.length;s++){var a=D[s];if(a=="Crv")B.appendChild(this.p$.$);var M=q&&this.fo[a]?this.fo[a]:this.P1[a];
if(a!="Crv")M.a(0);M.Q(_.E.f,this.LE,this);B.appendChild(M.$)}}this.aJ0=new ht("\u25E8",!1,"Before / After",!0);
J.C(this.aJ0.$,"position:absolute; bottom:8px; left:-36px; font-size:1.6em;");this.aJ0.Q("click",this.amG,this);
V.appendChild(this.aJ0.$)};z.prototype=new e1;z.prototype.eS=function(){return!0};z.prototype.RU=function(q){q.style.marginTop="4px";
this.amu.appendChild(q)};z.prototype.gi=function(q){this.view.gi(q)};z.prototype.K5=function(q,e){this.LP.it(bt.Jx[q.na]["--text-color"])};
z.prototype.amG=function(q){var e=this.fo,V=[this.z1,{iL:e.Temp.r(),s3:e.Tint.r()},e.Ex12.r()],P=[ak.g1("Adobe Camera Raw Filter"),this.aMV,0],D=JSON.stringify(V),B=JSON.stringify(P),A=null;
if(D==B&&this.RD){A=JSON.parse(this.RD);this.RD=null}else{A=JSON.parse(B);this.RD=D;this.Dh.a(0)}this.fo.Temp.a(A[1].iL);
this.fo.Tint.a(A[1].s3);this.fo.Ex12.a(A[2]);this.dC(A[0]);this.LE(q)};z.prototype.apR=function(q){var e=T.raw.acT(q),V=e.ayP,P=e.akz,D=V*P,B=new kk(0,0,V,P),A=e.Dm,s=new Float32Array(V*P*4);
for(var n=0;n<D;n++){var a=n*4,M=n*3;s[a]=A[M];s[a+1]=A[M+1];s[a+2]=A[M+2];s[a+3]=1}this.ox=[s,B];T.Jr(this.ox);
this.n3=q;var $=T.raw.amh(q),U=this.aMV=eZ.af7($);U.iL=Math.round(U.iL);U.s3=Math.round(U.s3);this.fo.Temp.a(U.iL);
this.fo.Tint.a(U.s3);this.fo.Ex12.a(0);var o=new Float32Array(D*4);o.fill(1);var t=ak.g1("Adobe Camera Raw Filter");
this.aeF(t,o,B);this.Dh.a(1);this.Za({})};z.prototype.axy=function(q,e){var V=this.fo,P=V.Temp.r(),D=V.Tint.r(),B=V.Ex12.r(),A=[P,D,B,e,q].join(":");
if(this.a7h==A)return;this.a7h=A;var s=Date.now();T.raw.sC(this.ox[e*2],this.wH[e*2],this.n3,[P,D,B],q);
console.log(Date.now()-s,"remapping XYZ")};z.prototype.a=function(q,e,V,P,D){q=JSON.parse(JSON.stringify(q));
var B=new Float32Array(V.D()*4);T.EZ(e,32,B);this.aeF(q,B,V)};z.prototype.aeF=function(q,e,V){this.ze=V;
var P=V.s,D=V.T,B=P*D;this.Yj=1e3;this.a7h="";this.wH=[e,V];this.b8=[new Float32Array(P*D*4),V];this.b8[0].fill(1);
this.Yu=[new Uint8Array(P*D*4),V];this.Yu[0].fill(255);T.Jr(this.wH);T.Jr(this.b8);T.Jr(this.Yu);this.dC(q);
this.view.a([{hp:V,data:this.Yu[0].buffer}]);this.view.ih();this.LE(null)};z.prototype.dC=function(q){this.z1=q;
this.ts=null;for(var e in this.P1){if(e=="Crv"){var V=["Crv","CrvR","CrvG","CrvB"][this.p$.r()],P=q[V]?q[V].v:[{v:0},{v:0},{v:255},{v:255}],D=[];
for(var n=0;n<P.length;n+=2){D.push(T.JQ.Az(P[n].v,P[n+1].v,!0))}this.P1[e].a(D)}else this.P1[e].a(q[e]?q[e].v:0)}};
z.prototype.aLW=function(q,e){var V=this.ze,P=this.b8[0];if(this.Mo)this.axy(q,0);cU(this.wH[0],V.s,V.T,P,this.z1);
return[T.EZ(P,e),V]};z.prototype.r=function(){return T.G(this.z1)};z.prototype.a3P=function(){this.ox=null;
this.b8=null;this.wH=null;this.Yu=null};z.prototype.Za=function(q){var e=this.Dh.r(),V=this.Mo,P=[{t:"long",v:0},{t:"long",v:0}];
if(e==1)P.push({t:"long",v:64},{t:"long",v:75},{t:"long",v:190},{t:"long",v:220});P.push({t:"long",v:255},{t:"long",v:255});
var D={Cr12:{t:"long",v:45*e},Strt:{t:"long",v:10*e},Crv:{t:"VlLs",v:P}};this.fo.Ex12.a(.3*e);console.log(this.z1,D);
for(var B in D)this.z1[B]=D[B];this.dC(this.z1);this.LE(q)};z.prototype.LE=function(q){if(q&&q.target==this.p$){this.dC(this.z1);
return}if(q&&q.target!=this.view){this.Yj=1e3;for(var e in this.P1){var V=this.P1[e].r();if(e=="Crv"){var P=[],D=[];
for(var n=0;n<V.length;n++){var B=V[n].v,A=B.Hrzn.v,s=B.Vrtc.v;D.push(A,s);P.push({t:"long",v:A},{t:"long",v:s})}var a=["Crv","CrvR","CrvG","CrvB"][this.p$.r()];
this.z1[a]={t:"VlLs",v:P}}else this.z1[e]={t:e=="Ex12"?"doub":"long",v:V}}}var M=this.view.VI().C7,$=0;
while(M*2<=1){M*=2;$++}if(this.Yj<=$)return;this.Yj=$;var U=this.aGH($);this.LP.a(U);this.view.a([{hp:this.ze,data:this.Yu[0].buffer}])};
z.prototype.aGH=function(q){console.log("---");var e=this.wH[q*2],V=this.b8[q*2],P=this.Yu[q*2],D=this.wH[q*2+1],B=D.s,A=D.T;
if(this.Mo)this.axy(0,q);cU(e,B,A,V,this.z1);var s=Date.now();T.EZ(V,8,P);console.log(Date.now()-s,"integer conversion");
s=Date.now();var a=T.Wy(P,Math.max(1,Math.floor(B*A/2e5)));console.log(Date.now()-s,"histogram done");
s=Date.now();if(q!=0){var M=new Uint32Array(P.buffer),$=new Uint32Array(this.Yu[0].buffer),U=this.ze.s,o=this.ze.T;
for(var t=0;t<o;t+=2)for(var c=0;c<U;c+=2){var H=t*U+c,F=M[(t>>>q)*B+(c>>>q)];$[H]=F;$[H+1]=F;$[H+U]=F;
$[H+U+1]=F}console.log(Date.now()-s,"upscale");s=Date.now()}for(var D=0;D<2;D++)for(var F=0;F<4;F++){var A=a[F],o=A.slice(0);
for(var n=1;n<A.length-1;n++)A[n]=(o[n-1]+o[n]+o[n+1])*.33333}return a};z.prototype.hh=function(q,e){this.aux=q-248;
this.agc=e;this.view.hh(this.aux,this.agc);this.ayp.style.height=e-200-(this.Mo?30:0)+"px"};z.prototype.W=function(){this.Dh.W();
for(var q in this.P1)this.P1[q].W();for(var q in this.fo)this.fo[q].W();var e=this.aP6;for(var n=0;n<e.length;
n++)this.agu[n].innerHTML="\u2B9F <span style=\"font-size:1.1em; margin-left:6px;\">"+iE.get(e[n][0])+"</span>"};
return z}();e1.VaPo=function(){e1.call(this,"VaPo");this.U=-1;this.QY=null;this.j9=!1;this.wJ=null;this.ka=null;
this.YE=null;this.oz=null;this.SH=null;this.C1=null;this.a5V=null;this.ez=null;this.a6M=null;this.oF=null;
this.us=null;this.YL=null;this.vn=[];this.LF=-1;this.j=null;this.jc={Oo:[[{U:{id:0,name:"Move",V5:"tools/move"}}],[{U:{id:1,name:"Create Plane",V5:"tools/pcrop"}}],[{U:{id:2,name:"Marquee",V5:"tools/rselect"}}],[{U:{id:3,name:"Stamp",V5:"tools/clone"}}],[{U:{id:4,name:"Brush",V5:"tools/brush"}}],[{U:{id:5,name:"Transform",V5:"tools/transform"}}],[{U:{id:6,name:"Hand",V5:"tools/hand"}}],[{U:{id:7,name:"Zoom In",V5:"zoomIn"}}],[{U:{id:8,name:"Zoom Out",V5:"zoomOut"}}]],keys:[cz.WT,cz.jj,cz.BH,cz.en,cz.RI,cz.J3,cz.nA,cz.wX]};
this.xo=new eR(this.jc,!1);this.xo.Q(_.E.b,this.Dg,this);this.MS=null;this.ze=null;this.yf=null;this.adO=null;
this.Dz=null;this.DD=null;var z=J.k("div","flexrow"),V=0;this.fz=z;this.$.appendChild(z);z.appendChild(this.xo.$);
var q=J.k("div");z.appendChild(q);var top=J.k("div","form");q.appendChild(top);J.C(top,"padding-left:8px; height:30px;");
this.im=J.k("span");top.appendChild(this.im);this.Tw=[[new gO([12,80,5],1,1e3),new ht([5,2],null,null,!0)],[new gO([7,6],0,30)],[new gO([12,14],1,200),new gO([12,17],0,100),new gO([12,0],0,100),new iP([12,75])],[new gO([12,14],1,200),new gO([12,17],0,100),new gO([12,0],0,100),new l0],[new iP("Flip"),new iP("Flop")],[]];
var e=[100,!0,0,100,100,100,!1,100,100,100,JSON.parse(az.mo.FF.slice(6)).v];this.$w=[];for(var n=0;n<6;
n++){var P=J.k("span"),D=this.Tw[n];this.$w.push(P);for(var B=0;B<D.length;B++){var A=D[B];A.parent=this;
A.a(e[V++]);if(A instanceof ht)A.Q("click",this.ava,this);else A.Q(_.E.f,this.aGr,this);P.appendChild(A.$)}}this.am0=J.k("div");
J.C(this.am0,"display:inline-block;float:right; width:100px;");top.appendChild(this.am0);this.view=new hX(!0);
this.view.hh(100,100);this.view.Rq("auto");this.view.Q("mousedown",this.O3,this);this.view.Q("mousemove",this.Qh,this);
this.view.Q("mouseup",this.lG,this);J.rq(this.view.TX,this.x9.bind(this));q.appendChild(this.view.$)};
e1.VaPo.prototype=new e1;e1.VaPo.prototype.eS=function(){return!0};e1.VaPo.prototype.RU=function(z){this.am0.appendChild(z)};
e1.VaPo.prototype.K5=function(z,q){this.wJ=z};e1.VaPo.prototype.ava=function(z){var q=this.wJ;if(J.GG())gC.agw(this.c0.bind(this));
else if(q){var e=q.QS;if(e){var V=e.V.Y();V.x=V.y=0;this.ip(T.EZ(e.buffer,8),V)}}};e1.VaPo.prototype.aGr=function(z){if(z.target==this.Tw[0][0]){var q=this.Wh(),e=z.target.r();
for(var n=0;n<this.j.length;n++)if(this.j[n].length!=0&&q[n])q[n][0]=e;this.Dq(q)}if(this.U==5){this.MS=this.jZ();
this.LE(!0)}this.LE()};e1.VaPo.prototype.gi=function(z){var q=this.U,e=this.YE;if(q==3||q==4){var V=this.Tw[q-1],P=ia.ld(),D=P.Brsh.v;
D.Dmtr.v.val=V[0].r();D.Hrdn.v.val=V[1].r();P=W.j6.cG(P,z);if(P){D=P.Brsh.v;V[0].a(D.Dmtr.v.val);V[1].a(D.Hrdn.v.val)}this.ZP()}if(q==1&&e&&(z.t(cz.Dv)||z.t(cz.QI))){e.pop();
e.pop();if(e.length==0)e=this.YE=null;this.LE()}function B(M,n,t){T.aF(M[n],M[0],t.yf,t.ze);t.BP(M[0])}this.ka=z;
if(q<6)this.view.gi(z);var A=z.t(cz.EF);if(A){var s=this.LF,a=0;if(z.t(cz.wX)){if(z.t(cz.XQ))a=1;else a=-1}else if(z.t(cz.$l))a=1;
if(a!=0&&q!=5){console.log(this.LF,a,this.vn);var M=this.vn[this.LF],$=!1;if(M.length==3&&a==-1){B(M,1,this);
$=!0}s+=a;this.LF=Math.max(0,Math.min(this.vn.length-1,s));M=this.vn[this.LF];if(M.length==3&&a==1){B(M,2,this);
$=!0}this.LE($)}if(z.t(cz.WT))this.ava();if(z.t(cz.Tj)){this.C1=null;this.LE()}}else{var U=this.jc.keys;
for(var n=0;n<U.length;n++)if(z.t(U[n]))this.Fw(n)}if(z.t(cz.QI)||z.t(cz.Dv)){var o=this.Wh();o=T.pT.aFF(o,this.j);
this.j=[];for(var n=0;n<o.length;n++)this.j[n]=[];this.Dq(o);this.LE()}};e1.VaPo.prototype.c0=function(z){if(z=="granted")gC.ZG(this,this.ip.bind(this))};
e1.VaPo.prototype.ip=function(z,q){console.log(z,q);var e=this.Wh();if(e.length==0){alert("Make a plane before pasting an image");
return}if(this.SH==null)this.SH=[0,0];if(this.U==5)this.Fw(0);this.Fw(5,{Hm:z,TP:q})};e1.VaPo.prototype.Dg=function(z){if(z.data.p==_.m.uB){this.Fw(z.data.U)}};
e1.VaPo.prototype.afT=function(z){var q=this.view.$A(z),e=T.pT.Uv(this.Wh(),this.j),V=1e9,P=0;for(var n=0;
n<e.length;n++){var D=e[n][0],B=q.x-D[0],A=q.y-D[1],s=Math.sqrt(B*B+A*A);if(s<V){V=s;P=n}}if(V>4*J.WU()/this.view.VI().C7)return null;
return e[P]};e1.VaPo.prototype.x9=function(z){var q=this.U,e=this.YE;if(q<2&&!this.j9){var V=this.QY=this.afT(z),P=this.Wh(),D="auto";
if(q==0&&T.pT.aDV(P,V)){var B=P[V[1]][1][V[2]],A=B[5+{1:0,5:1,7:2,3:3}[V[3]]],s=A[0],a=A[1];D=ik.aiB(s[1]-a[1],-s[0]+a[0])}if(T.pT.aBt(P,V))D="crosshair";
this.view.Rq(D)}if(e){var M=this.view.$A(z),$=e.slice(0);e[e.length-2]=M.x;e[e.length-1]=M.y;this.LE()}this.ZP(z);
if(q==5&&!this.j9&&this.Em){var M=this.view.$A(z),P=this.Wh(),U=T.pT.$$(P,M.x,M.y,this.fA());if(U){var o=new f5(U[2][0],U[2][1]),t=T.pT.EL(P,P[U[0]][1][U[1]],this.fA()),c=t[1],H=T.O.AX(t[0],c),F=[c.x+c.s/2,c.y+c.T/2];
T.O.v(H,F);var i=M.x-F[0],X=M.y-F[1],K=this.Em.s1(o,this.view.VI().C7,null,null,Math.atan2(-X,-i));this.view.Rq(K?K:"default")}}};
e1.VaPo.prototype.ZP=function(z){var q=this.U,e=this.ka;if((q==3||q==4)&&!this.j9){var V=z?this.view.$A(z):this.CN,P=this.Wh();
this.CN=V;if(V==null)return;var D=T.pT.$$(P,V.x,V.y,this.fA());if(D){if(q==3&&this.YL&&this.Tw[2][3].r()){var B=new f5(D[2][0],D[2][1]);
this.us=B.SV(this.YL);this.LE()}if(q==3&&(this.us==null||e&&(e.t(cz.mh)||e.t(cz.W3)))){if(this.MS){this.DD=null;
this.BP(this.MS);this.LE(!0,this.MS)}return}this.aAk(D,this.MS)}}};e1.VaPo.prototype.fA=function(){return[this.ze.s/2,this.ze.T/2]};
e1.VaPo.prototype.O3=function(z){this.j9=!0;var q=this.U,e=this.YE,V=this.Wh(),P=this.ka,D=this.QY=this.afT(null),B=this.view.$A(),A=T.pT.$$(V,B.x,B.y,this.fA()),s=A?new f5(A[2][0],A[2][1]):null;
if(T.pT.aBt(V,D)){var a=V[D[1]][1][D[2]];V.splice(D[1],1);this.j.splice(D[1],1);e=T.pT.a8V(a);var M=-1,B=D[0];
for(var n=0;n<8;n+=2){var $=e[n]-B[0],U=e[n+1]-B[1];if($*$+U*U<1e-5)M=n}M=M+2&7;e=this.YE=e.slice(M).concat(e.slice(0,M));
this.Dq(V)}else if(T.pT.aDV(V,D)){if(q==1||P&&P.t(cz.EF)){V=T.pT.a3w(V,D,this.fA());this.Dq(V);D[2]=V[D[1]][1].length-1;
D[3]=8+(D[3]+4&7);this.j[D[1]].push(D[2]);this.Dq(V,!0);this.Fw(0)}else this.Dq(this.Wh(V))}else if(q==0){var o=[];
for(var n=0;n<V.length;n++)o.push([]);if(A){if(P&&P.t(cz.XQ))o=this.j;var t=o[A[0]].indexOf(A[1]);if(t==-1)o[A[0]].push(A[1]);
else o[A[0]].splice(t,1)}this.j=o;this.Dq(V,!0);this.LE()}else if(q==2){if(A){var c=this.C1;if(c&&c.vG(s)){if(P)if(P.t(cz.mh)||P.t(cz.EF)){this.Fw(5);
this.O3(z);return}this.a5V=new f5(s.x-c.x,s.y-c.y)}else{this.oz=A[2].concat(A[2]);this.SH=A}}}else if(q==3||q==4){if(q==3){if(P&&(P.t(cz.mh)||P.t(cz.W3))){if(A){this.us=s;
this.a6M=s.Y();this.YL=null;this.oF=A;this.LE()}else alert("You must click into a plane");this.j9=!1;
return}else if(this.us==null){alert(iE.get([15,7,0]));this.j9=!1;return}else if(A){var H=this.YL=s.SV(this.us)}}if(A){this.aAk(A)}}else if(q==5){if(A){var F=new f5(A[2][0],A[2][1]),i=this.Em.Qy({A:this.view.VI()},{},P,F)}}};
e1.VaPo.prototype.aAk=function(z,q){var e=this.DD;if(e==null)this.DD=e=T.n(this.ze.D()*4);else e.fill(0);
var V=this.U;this.SH=z;var P=this.Tw[V-1],D=T.abP.ary(P[0].r(),P[1].r()/100,1),B=T.n(D[1].D()*4);T.yR(D[0],B,3);
if(V==4){var A=T.Yf.z8(P[3].r());T.gf(B,A.l/255,A.I/255,A.c/255)}this.ez={aza:D[0],Hm:B,TP:D[1]};var s=this.MS=this.Qj(z[2],z[2]),a=q?q.X8(s):s;
this.BP(a);this.LE(!0,a)};e1.VaPo.prototype.Qh=function(z){var q=this.QY,e=this.U,V=this.Wh();if(e==0&&T.pT.aDV(V,q)){V=T.pT.aO3(V,q,this.view.$A());
this.Dq(V,!0);this.LE()}var P=this.a5V;if(e==2&&this.j9&&(this.oz||P)){var D=this.view.$A(),B=T.pT.$$(V,D.x,D.y,this.fA());
if(B){this.SH=B;if(P){this.C1.x=B[2][0]-P.x;this.C1.y=B[2][1]-P.y}else{this.oz=this.oz.slice(0,2).concat(B[2]);
this.C1=T.R.b_(this.oz)}this.LE()}}if((e==3||e==4)&&this.j9){var D=this.view.$A(),B=T.pT.$$(V,D.x,D.y,this.fA());
if(B){if(e==3){var A=this.YL;this.us=new f5(B[2][0]-A.x,B[2][1]-A.y)}var s=this.Qj(this.SH[2],B[2]);
this.MS=this.MS.X8(s);this.SH=B;this.BP(s);this.LE(!0,s)}}if(e==5&&this.j9){var D=this.view.$A(),B=T.pT.$$(V,D.x,D.y,this.fA(),this.SH);
if(B){var a=new f5(B[2][0],B[2][1]);this.Em.Sf({A:this.view.VI()},{},this.ka,a);this.SH=B;var s=this.MS;
if(s)this.BP(s);else s=new kk;this.MS=this.jZ(null,null,!0);this.LE(!0,s.X8(this.MS))}}};e1.VaPo.prototype.Qj=function(z,q){z=new f5(z[0],z[1]);
q=new f5(q[0],q[1]);var e=Math.max(1e-5,f5.h5(z,q)),V=this.ez.TP.s*.2,P=new kk;for(var D=0;D<e;D+=V){var B=1-D/e,A=B*z.x+(1-B)*q.x,s=B*z.y+(1-B)*q.y,a=this.ez.TP.Y();
a.x=Math.round(A-a.s/2);a.y=Math.round(s-a.T/2);if(this.U==3){var M=this.YL;if(M==null)M=new f5(A,s).SV(this.us);
var $=this.C1=a.Y();$.x=Math.round($.x-M.x);$.y=Math.round($.y-M.y);var U=this.ez.aza;this.ez=this.ago(this.oF);
this.C1=null;T.Zb(U,this.ez.Hm);this.ez.aza=U}var o=this.jZ(this.DD,a);P=P.X8(o)}return P};e1.VaPo.prototype.lG=function(z){var q=this.QY;
if(q&&q[3]>=8){var e=T.pT.an2(this.Wh(),q,this.fA());this.Dq(e,!0);this.LE();alert("new plane added")}var V=this.U,P=this.YE;
if(P||V==1){var D=this.view.$A();if(P==null)P=this.YE=[D.x,D.y];if(P.length==8&&ik.a7(P)){var e=this.Wh();
e.push([100,[T.pT.awE(P,this.fA())]]);this.j.push([0]);this.Dq(e,!0);P=this.YE=null;this.Fw(0);this.LE()}else if(P.length<8){P.push(D.x,D.y);
if(P.length==8&&!ik.a7(P)){var B=P[0],A=P[1];P[0]=P[4];P[1]=P[5];P[4]=B;P[5]=A}}}var s=this.oz;if(V==2&&s&&s[0]==s[2]&&s[1]==s[3]){this.C1=null;
this.LE()}if((V==3||V==4)&&this.j9){if(V==3&&!this.Tw[2][3].r()&&this.a6M){this.us=this.a6M.Y();this.LE()}this.Dq();
this.DD=null}if(!this.Tw[2][3].r())this.YL=null;this.j9=!1;this.a5V=null;this.oz=null};e1.VaPo.prototype.Fw=function(z,q){if(z==this.U)return;
var e=this.MS,P=6;if(this.U==5){this.Dq();this.BP(e);this.Em=null;this.LE()}if(this.U==3||this.U==4){this.DD=null;
if(e)this.BP(e);this.LE(!0,e)}if(z==5){if(q==null&&this.C1==null){alert("Select the area to be transformed");
return}this.aEx(q)}if(z>1){var V=this.Wh();this.pG();this.Dq(V,!0);this.LE()}this.view.gi(z>=P?hX.G8(z-P):new cz(!0));
if(z<P)this.view.Rq("auto");this.U=z;this.xo.Fw(z);J._8(this.im);var D={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[z];
this.im.appendChild(this.$w[D])};e1.VaPo.prototype.Wh=function(){var n=this.LF,z=this.vn;while(z[n].length==3)n--;
var q=z[n];this.j=JSON.parse(q[1]);return JSON.parse(q[0])};e1.VaPo.prototype.Dq=function(z,q){if(z==null&&this.MS==null)return;
var e=this.vn,V=this.LF,n=V;while(n>=0&&e[n].length==3)n--;if(q==null)this.LF=V=V+1;if(z!=null)e[q?n:V]=[JSON.stringify(z),JSON.stringify(this.j)];
else{var P=this.ze,D=this.MS,B=T.n(D.D()*4),A=T.n(D.D()*4);e[V]=[D,B,A];T.aF(this.yf,P,B,D);if(this.DD)T.w.Mt("norm",this.DD,P,this.yf,P,P,this.Jk());
else this.jZ(this.yf);T.aF(this.yf,P,A,D);this.MS=null}while(e.length!=V+1)e.pop()};e1.VaPo.prototype.Jk=function(){return this.Tw[this.U-1][2].r()/100};
e1.VaPo.prototype.pG=function(z,q){if(z==null)z=this.Wh();this.j=[];for(var n=0;n<z.length;n++){var e=[];
this.j.push(e);if(q)for(var V=0;V<z[n][1].length;V++)e.push(V)}};e1.VaPo.prototype.a=function(z,q,e,V,P,D){var B=T.G(D[2].pT);
this.LF=-1;this.pG(B);this.Dq(B);q=T.EZ(q,8);P=T.EZ(P,8);var A=T.n(V.D()*4);T.aF(q,e,A,V);this.aqf=new kk;
this.ze=V;this.adO=P;this.yf=A;this.Dz=P.slice(0);this.BP(V);this.LE(!0);this.view.ih();this.Fw(0)};
e1.VaPo.prototype.aEx=function(z){this.ez=z?z:this.ago();var q=T.R.iR(this.ez.TP).J;if(z){var e=this.Wh(),V=T.pT.EL(e,e[0][1][0],this.fA()),P=V[1],D=Math.min(P.s/z.TP.s,P.T/z.TP.T)*.9;
if(D<1)T.R.v(q,new e5(D,0,0,D,0,0),q)}this.Em=new ik(q,!0,!0);this.C1=null;this.MS=this.jZ();this.LE(!0)};
e1.VaPo.prototype.ago=function(z){var q=this.ze,e=T.R.JY(this.C1),V=this.Wh(),P=T.n(e.D()*4);if(z==null)z=this.SH;
var D=V[z[0]][1],B=T.pT.Wx(V[z[0]][1],z[1],e,this.fA());for(var A=0;A<B.length;A++){var s=D[B[A]],a=T.pT.EL(V,s,this.fA()),M=a[0],$=a[1],U=$.HX(e);
if(U.a8())continue;U=T.R.JY(U);var o=T.n(U.D()*4),t=T.O.AX(M,$);t=T.O.yW([1/q.s,0,0,0,1/q.T,0,0,0],t);
t=T.O.TG(t);T.O.drawImage(t,this.Dz,q.s,q.T,o,U);T.aF(o,U,P,e)}var c=this.Tw[1][0].r(),H=Math.round(c*1.4),F=e.Y();
F.Gm(-H,-H);var i=T.n(F.D());i.fill(255);var X=T.n(e.D());T.KY(i,F,X,e);var K=X.slice(0);T.BJ.uR(K,e,c);
T.bl(P,X,3);T.mA.HX(X,K,K);T.yR(K,P,3);return{Hm:P,TP:e}};e1.VaPo.prototype.BP=function(z,q){var e=this.ze;
T.aF(this.adO,e,this.Dz,e,z);T.w.Mt("norm",this.yf,e,this.Dz,e,z,1);if(this.DD)T.w.Mt("norm",this.DD,e,this.Dz,e,z,this.Jk())};
e1.VaPo.prototype.jZ=function(z,q,e){var V=this.ez,P=V.TP,D=this.ze,B,A=q?T.R.iR(q).J:this.Em.Uv(),s=T.R.mB(A),B=T.O.AX(A,P),a=this.Tw[4],M=new e5;
if(a[0].r()){M.x6=-1;M.yK=2*P.x+P.s}if(a[1].r()){M.at=-1;M.ww=2*P.y+P.T}B=T.O.yW(B,T.O.Ak(M));function $(w,u){w.beginPath();
w.moveTo(u[0],u[1]);for(var n=1;n<4;n++)w.lineTo(u[n*2],u[n*2+1]);w.closePath()}var U=this.Wh(),o=T.pT.Wx(U[this.SH[0]][1],this.SH[1],s,this.fA()),t=U[this.SH[0]][1],c=new kk;
for(var H=0;H<o.length;H++){var F=t[o[H]],i=T.pT.EL(U,F,this.fA()),X=i[0],K=i[1],f=K.HX(s);if(this.C1)f=f.HX(this.C1);
if(f.a8())continue;var d=T.O.AX(X,K),L=T.R.iR(f).J;T.O.v(d,L);var G=A.slice(0);T.O.v(d,G);var x=T.R.b_(G).HX(T.R.b_(L)),O=x.s,v=x.T;
if(x.a8())continue;d=T.O.yW(T.O.yW(d,B),[P.s,0,P.x,0,P.T,P.y,0,0]);var C=T.n(x.D()*4);T.O.drawImage(d,V.Hm,P.s,P.T,C,x,e);
if(f.D()!=s.D()){var S=T.Hx(O,v);S.save();S.clearRect(0,0,O,v);S.translate(-x.x,-x.y);$(S,L);S.clip();
$(S,G);S.fill();S.restore();var j=new Uint8Array(S.getImageData(0,0,O,v).data.buffer);for(var n=3;n<C.length;
n+=4)if(j[n]<C[n])C[n]=j[n]}T.w.Mt("norm",C,x,z?z:this.Dz,D,x,1);c=c.X8(x)}return c};e1.VaPo.prototype.r=function(){return T.G(this.Wh())};
e1.VaPo.prototype.aaO=function(){if(this.U==5)this.Fw(0);var z=new kk,q=this.vn;for(var n=0;n<=this.LF;
n++)if(q[n].length==3)z=z.X8(q[n][0]);var e=T.n(z.D()*4);T.aF(this.yf,this.ze,e,z);return[e,z]};e1.VaPo.prototype.hh=function(z,q){this.xo.hh(z,q);
this.view.hh(z-40,q-30)};e1.VaPo.prototype.W=function(){this.xo.W();for(var n=0;n<this.Tw.length;n++)for(var z=0;
z<this.Tw[n].length;z++)this.Tw[n][z].W()};e1.VaPo.prototype.LE=function(z,q){var e=this.ze,V=[],P=[],D=[],B=this.Wh(),A=T.pT.Uv(B,this.j),s=0,a=null,H=null,F=null,i=null;
for(var n=0;n<A.length;n++)D.push(A[n][0][0],A[n][0][1]);for(var n=0;n<B.length;n++){var M=this.j[n].length;
s+=M;if(M!=0)a=[n,this.j[n][0]]}var $=this.Tw[0][0];$._w(s!=0);if(s!=0)$.a(Math.round(B[a[0]][0]));this.Tw[0][1]._w(s!=0);
if(s==1){var U=B[a[0]][1]}var o=[];if(this.C1&&B[this.SH[0]])o=T.pT.Wx(B[this.SH[0]][1],this.SH[1],this.C1,this.fA());
var t=[];if(this.Em){t=this.Em.aMG();t[4]=this.Em.om()}var c=[];if(this.Em&&B[this.SH[0]])c=T.pT.Wx(B[this.SH[0]][1],this.SH[1],T.R.b_(this.Em.Uv()),this.fA());
for(var X=0;X<B.length;X++){var K=B[X][0],U=B[X][1],f=this.j[X];for(var d=0;d<U.length;d++){var a=U[d],L=T.pT.EL(B,a,this.fA()),G=L[0],e=L[1],x=T.O.AX(G,e);
if(e.a8()){if(F==null)F={_:[],J:[]};T.R.concat(F,{_:["M","L","L","L","Z"],J:G});continue}var O=T.R.iR(e),v=O.J,C=O._,S=this.us;
if(S&&e.vG(S)&&this.oF&&this.oF[0]==X){H=[S.x,S.y];T.O.v(x,H)}if(o.indexOf(d)!=-1){var j=this.C1.HX(e);
if(X==this.SH[0]&&!j.a8()){if(i==null)i={J:[],_:[]};var w=T.R.iR(j);T.O.v(x,w.J);T.R.concat(i,w)}}if(c.indexOf(d)!=-1&&X==this.SH[0]){var u=[];
for(var n=0;n<t.length;n++)if(e.vG(t[n]))u.push(t[n].x,t[n].y);if(u.length!=0){T.O.v(x,u);D=D.concat(u)}}if(f&&f.indexOf(d)!=-1){var l=Math.ceil(e.x/K)*K,I=e.x+e.s,Q=Math.ceil(e.y/K)*K,b=e.y+e.T;
for(var p=l;p<I;p+=K){v.push(p,e.y,p,b);C.push("M","L")}for(var k=Q;k<b;k+=K){v.push(e.x,k,I,k);C.push("M","L")}}T.O.v(x,v);
V=V.concat(C);P=P.concat(v)}if(H&&this.U==3){var p=H[0],k=H[1],g=10/this.view.VI().C7;P.push(p-g,k,p+g,k);
P.push(p,k-g,p,k+g);V.push("M","L","M","L")}}var G=this.YE,e=this.ze;if(G){var Y=["M"];for(var n=0;n<G.length-2;
n+=2)Y.push("L");Y.push("Z");var R=W.hV.bZ(G,e.s/2,e.T/2);if(isNaN(R)||R==Infinity||R==-Infinity||!ik.a7(G)){if(F==null)F={_:[],J:[]};
T.R.concat(F,{_:Y,J:G})}else{P=P.concat(G);V=V.concat(Y)}}var m={NI:{_:V,J:P},aB6:F,aBc:i,Bj:D,d7:null};
if(z){if(q){q=q.Y();q.Gm(4,4)}this.view.a([{hp:e,data:this.Dz.buffer}],null,m,q)}else this.view.aIP(m)};
e1.blnc=function(){e1.call(this);var z=this.$;this.oa=null;this.gs=new cr([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.gs.Q(_.E.f,this.LE,this);z.appendChild(this.gs.$);this.jr=[];for(var n=0;n<3;n++){var q=new aJ(["VAR0 - VAR1",aM.aeI[n],aM.Y0[n]],-100,100);
q.Q(_.E.f,this.SE,this);this.jr.push(q);z.appendChild(q.$)}this.fi=new iP([13,4]);this.fi.Q(_.E.f,this.SE,this);
z.appendChild(this.fi.$)};e1.blnc.prototype=new e1;e1.blnc.prototype.W=function(){this.gs.W();for(var n=0;
n<3;n++)this.jr[n].W();this.fi.W()};e1.blnc.prototype.a=function(z){this.oa=T.G(z);this.LE()};e1.blnc.prototype.r=function(z){var q=["ShdL","MdtL","HghL"],e=this.oa[q[this.gs.r()]].v;
for(var n=0;n<3;n++)e[n].v=this.jr[n].r();this.oa.PrsL.v=this.fi.r();return T.G(this.oa)};e1.blnc.prototype.LE=function(z){var q=["ShdL","MdtL","HghL"],e=this.oa[q[this.gs.r()]].v;
for(var n=0;n<3;n++)this.jr[n].a(e[n].v);this.fi.a(this.oa.PrsL.v)};e1.brit=function(){e1.call(this,"brit");
this.Wt.push(new aJ([12,2],-150,150,""));this.Wt.push(new aJ([12,3,0],-100,100,""));this.Wt.push(new iP([12,3,1]));
this.zc()};e1.brit.prototype=new e1;e1.curv=function(){e1.call(this);this.value=null;this.El=null;this.i=null;
var z=this.$;this.NF=new cr("Preset",["basic","advanced"]);this.NF.Q(_.E.f,this.asi,this);z.appendChild(this.NF.$);
J.f9(z);this.dZ=new cr([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);this.dZ.Q(_.E.f,this.zk,this);z.appendChild(this.dZ.$);
this._g=new cr(null,["Spline","Sketch"]);this._g.Q(_.E.f,this.asi,this);z.appendChild(this._g.$);this.H0=new ef;
this.H0.parent=this;this.H0.Q(_.E.f,this.ed,this);z.appendChild(this.H0.$);J.f9(z);this.le=new ie;this.le.Q(_.E.f,this.Ud,this);
z.appendChild(this.le.$);this.Np=null;this.alk=0;this.a1H=0;J.f9(z);this.P2=new db("Sample from image",eD.Op(["#000000","#888888","#ffffff","-\u2195"]),!0,null,!0);
this.P2.Q(_.E.f,this.as,this);this.P2.$.style.marginRight="0";z.appendChild(this.P2.$)};e1.curv.prototype=new e1;
e1.curv.prototype.vA=function(){return this.le.aB2()<128?1:2};e1.curv.prototype.K5=function(z,q){if(q==cR.zu||q==cR.la){var e=z.d_,V=["Default"];
for(var n=0;n<e.length;n++)V.push(e[n].presetFileName.v);V.push("Custom");this.NF.jl(V,[1,e.length,1]);
this.i=z}};e1.curv.prototype.hh=function(z,q){this.le.hh(z,q)};e1.curv.prototype.W=function(){this.dZ.W();
this.le.W()};e1.curv.prototype.ho=function(){this.NF.a(this.i.d_.length+1)};e1.curv.prototype.asi=function(z){if(z.target==this.NF){var q=this.NF.r(),e=this.i.d_,V;
if(q==0)V=ak.g1("curv");else if(q-1<e.length)V=T.G(e[q-1]);else return;this.a(V);this.SE();return}this.ho();
var P=k8.Rg(this.value,0),D=P.length==256?1:0,B=this._g.r();if(D==B)return;var V=ak.g1("curv");if(B==1){var A=[];
for(var n=0;n<256;n++)A.push(n);k8.H5(V,0,A)}this.a(V);this.SE()};e1.curv.prototype.Ud=function(){this.ho();
k8.H5(this.value,this.dZ.r(),this.le.r());this.SE()};e1.curv.prototype.zk=function(){var z=this.dZ.r(),q=k8.Rg,e=q(this.value,z),V;
if(z==0)V=[q(this.value,1),q(this.value,2),q(this.value,3)];var P=e.length==256?1:0;this._g.a(P);if(this.El)this.le.G2(this.El[z],this.El[4]*[1,.33,.33,.33][z],["rgba(255,255,255,0.3)","rgba(255,100,100,0.3)","rgba(100,255,100,0.3)","rgba(100,100,255,0.3)"][z]);
this.le.a(e,null,V)};e1.curv.prototype.sf=function(){return!0};e1.curv.prototype.Qy=function(z,q,e,V,P){var D=this.value;
this.value=ak.g1("curv");this.SE();var B=W.SB.Z9(z,P,1,null,!0),A=this.Np=[B>>>16&255,B>>>8&255,B&255];
this.alk=P.y;this.a(D);this.SE()};e1.curv.prototype.Sf=function(z,q,e,V,P){if(this.Np==null)return;if(this.P2.r().indexOf(!0)==3){var D=this.Np,B=this.value,A=this.dZ.r(),s=k8.Rg(B,A),a,M=A==0?Math.round((D[0]+D[1]+D[2])/3):D[A-1],$=-1;
for(var n=0;n<s.length;n++)if(s[n].v.Hrzn.v==M)$=n;if($==-1){a=T.G(s[0]);a.v.Hrzn.v=M;a.v.Vrtc.v=M;s.push(a);
s.sort(function(U,o){return U.v.Hrzn.v-o.v.Hrzn.v});k8.H5(B,A,s);$=s.indexOf(a)}a=s[$];a.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(a.v.Hrzn.v+(this.alk-P.y))));
k8.H5(B,A,s);this.a(B);this.SE()}};e1.curv.prototype.AM=function(z,q,e,V,P){e1.a6W(this,z,P,"curv");
this.ho();this.Np=null};e1.curv.prototype.a=function(z){this.value=z;this.zk()};e1.curv.prototype.G2=function(z){this.El=z;
this.zk()};e1.curv.prototype.r=function(z){return T.G(this.value)};e1.curv.prototype.ed=function(){var z=this.H0.r(),q=this.El,e=this.value,V=T.arH(z,q);
for(var n=0;n<4;n++){var P=V[n][0],D=V[n][1],B=V[n][2],A=[T.JQ.Az(P,0,!0),T.JQ.Az(D,255,!0)];if(B!=null)A.splice(1,0,T.JQ.Az(128,B,!0));
k8.H5(e,n,A)}this.zk();this.SE()};e1.expA=function(){e1.call(this,"expA");this.Wt.push(new aJ([12,5],-20,20,null,2,!0));
this.Wt.push(new aJ([12,6],-.5,.5,null,2));this.Wt.push(new aJ([12,7],.01,9.99,null,2,!0));this.zc()};
e1.expA.prototype=new e1;e1.expA.prototype.Wn=function(z,q){q[0]=z.Exps.v;q[1]=z.Ofst?z.Ofst.v:0;q[2]=z.gammaCorrection?z.gammaCorrection.v:1};
e1.expA.prototype.cL=function(z,q){z.Exps={t:"doub",v:q[0]};z.Ofst={t:"doub",v:q[1]};z.gammaCorrection={t:"doub",v:q[2]}};
e1.grdm=function(){e1.call(this,"grdm");this.Wt.push(new kL(!0,null,!0));this.Wt.push(new iP([12,23,3]));
this.Wt.push(new iP([12,23,0]));this.Wt.push(new cr("Method",["Perceptual","Linear","Classic","Smooth","Stripes"]));
this.zc()};e1.grdm.prototype=new e1;e1.grdm.prototype.Wn=function(z,q){q[0]=z.Grad.v;q[1]=z.Dthr?z.Dthr.v:!1;
q[2]=z.Rvrs?z.Rvrs.v:!1;q[3]=az.Yf.DM.indexOf(z.gs99?z.gs99.v.gradientInterpolationMethodType:"Gcls")};
e1.grdm.prototype.cL=function(z,q){z.Grad.v=q[0];z.Dthr={t:"bool",v:q[1]};z.Rvrs={t:"bool",v:q[2]};z.gs99={t:"enum",v:{gradientInterpolationMethodType:az.Yf.DM[q[3]]}}};
e1.grdm.prototype.K5=function(z,q){this.Wt[0].tq(z.pQ,z.Cp);if(q==cR.zu||q==cR.RV||q==cR.Ku)this.Wt[0].zT(z.zS)};
e1.selc=function(){e1.call(this);var z=this.$;this.R6=[];this.uD=null;this.gs=new cr([12,82],aM.rL.concat([[13,1,8],[13,1,13],[13,1,10]]));
this.gs.Q(_.E.f,this.GT,this);z.appendChild(this.gs.$);J.f9(z);for(var n=0;n<4;n++){var q=new aJ(aM.aeI[n],-100,100,"%");
q.Q(_.E.f,this.GT,this);this.R6.push(q);z.appendChild(q.$)}this.p2=new iP([13,3]);z.appendChild(this.p2.$);
this.p2.Q(_.E.f,this.GT,this)};e1.selc.prototype=new e1;e1.selc.prototype.W=function(){this.gs.W();this.p2.W();
for(var n=0;n<4;n++)this.R6[n].W()};e1.selc.prototype.a=function(z){this.uD=T.G(z);this.LE()};e1.selc.prototype.r=function(z){return T.G(this.uD)};
e1.selc.prototype.GT=function(z){if(z.target!=this.gs){var q=this.uD,e=[];for(var n=0;n<4;n++)e[n]=this.R6[n].r();
a0.H5(q,this.gs.r(),e);q.Mthd={t:"enum",v:{CrcM:this.p2.r()?"Absl":"Rltv"}}}this.LE();this.SE()};e1.selc.prototype.LE=function(){var z=this.uD,q=a0.Rg(z,this.gs.r());
for(var n=0;n<4;n++)this.R6[n].a(q[n]);this.p2.a(z.Mthd?z.Mthd.v.CrcM=="Absl":!1)};e1.blwh=function(){e1.call(this,"blwh");
this.Wt.push(new iP([12,11]));this.Wt.push(new l0(!0));for(var n=0;n<6;n++)this.Wt.push(new aJ(aM.rL[n],-200,300));
this.zc()};e1.blwh.prototype=new e1;e1.blwh.prototype.Wn=function(z,q){q[0]=z.useTint.v;q[1]=z.tintColor.v;
var e="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var n=0;n<6;n++)q[2+n]=z[e[n]].v};e1.blwh.prototype.cL=function(z,q){z.useTint.v=q[0];
z.tintColor.v=q[1];var e="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var n=0;n<6;n++)z[e[n]].v=q[2+n]};
e1.hue2=function(){e1.call(this);this.value=null;this._b=null;this.RD=null;this.axM=[[0,0,0],[0,50,0]];
var z=this.$;this.P2=new db(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.P2.Q(_.E.f,this.aJ5,this);this.P2.Q(_.E.f,this.as,this);z.appendChild(this.P2.$);var q=this.Wt=[new cr([12,12],["Master"].concat(aM.rL)),new aJ([12,8],-180,180),new aJ([12,9],-100,100),new aJ([12,10],-100,100),new iP([12,11])];
for(var n=0;n<q.length;n++){var e=q[n];e.Q(_.E.f,n==0?this.zk:this.aeN,this);z.appendChild(e.$)}this.gs=q[0];
this.a7i=q[1];this.cz=q[2];this.a9Y=q[3];this.ZJ=q[4];this.ev=new db("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.ev.Q(_.E.f,this.aJ5,this);this.ev.Q(_.E.f,this.as,this);this.ev.$.style.marginLeft="20px";z.appendChild(this.ev.$);
this.aIy=J.k("div");z.appendChild(this.aIy);this.Yk=this._s.bind(this);this.EQ=this.in.bind(this);this.TX=J.k("canvas");
this.YI=this.TX.getContext("2d");this.ku=null;J.sB(this.TX);J.rw(this.TX,282,18);z.appendChild(this.TX);
J.Br(this.TX,this.tY.bind(this))};e1.hue2.prototype=new e1;e1.hue2.prototype.hh=function(z,q){J.rw(this.TX,Math.round(z),18);
if(this.value)this.zk()};e1.hue2.prototype.aJ5=function(z){var q=z.target.r().indexOf(!0);if(q==-1)return;
if(z.target==this.P2)this.ev.a([!1,!1,!1]);else this.P2.a([!1,!1,!1])};e1.hue2.prototype.tY=function(z){if(this.gs.r()==0||this.ZJ.r())return;
var q=J.fH(z,this.TX).x/(this.TX.width/J.WU()),D=1e6;function e($,U,o){return $<U&&U<o||o<$&&($<U||U<o)}var V=this.TV(),P=-1;
for(var n=0;n<4;n++){var B=Math.abs(q-(V[n]+n*1e-5));if(B<D){D=B;P=n}}if(D>.025){P=-1;var A=V[0],s=V[1],a=V[2],M=V[3];
if(e(A,q,s))P=4;if(e(s,q,a))P=5;if(e(a,q,M))P=6}if(P==-1)return;this.ku=P;J.rq(document.body,this.Yk);
J.KE(document.body,this.EQ)};e1.hue2.prototype._s=function(z){var q=J.fH(z,this.TX).x/(this.TX.width/J.WU()),e=this.TV(),V=this.ku;
for(var n=1;n<4;n++)if(e[n]<e[n-1]){e[n]+=1}if(V<4){var P=1e6,D=0;for(var n=-20;n<20;n++){var B=Math.abs(e[V]-(q+n));
if(B<P){P=B;D=n}}q+=D;e[V]=q;for(var n=V+1;n<4;n++)if(e[n]<e[n-1]){e[n]=e[n-1]}for(var n=V-1;n>=0;n--)if(e[n]>e[n+1]){e[n]=e[n+1]}}else{var A=q-(e[V-4]+e[V-3])/2;
if(A<-.5)A+=1;if(V==4){e[0]+=A;e[1]+=A;e[2]=Math.max(e[1],e[2]);e[3]=Math.max(e[1],e[3])}if(V==5)for(var n=0;
n<4;n++)e[n]+=A;if(V==6){e[2]+=A;e[3]+=A;e[0]=Math.min(e[0],e[2]);e[1]=Math.min(e[1],e[2])}}for(var n=1;
n<4;n++)if(e[n]<e[n-1])throw"e";this.aqO(e);this.zk();this.SE()};e1.hue2.prototype.in=function(z){J.TT(document.body,this.Yk);
J.N$(document.body,this.EQ)};e1.hue2.prototype.W=function(){for(var n=0;n<this.Wt.length;n++)this.Wt[n].W()};
e1.hue2.prototype.aeN=function(z){var q=this.value.Clrz.v=this.ZJ.r();if(q)this.gs.a(0);if(z&&z.target==this.ZJ){var e=q?1:0;
this.axM[1-e]=jR.Rg(this.value,0);var V=this.axM[e];jR.H5(this.value,0,V);if(this.gs.r()==0){this.a7i.a(V[0]);
this.cz.a(V[1]);this.a9Y.a(V[2])}}var P=this.gs.r(),D=jR.Rg(this.value,P),V=P==0?D:D.jr;V[0]=this.a7i.r();
var B=this.cz.r();V[1]=q?Math.max(0,B):B;V[2]=this.a9Y.r();jR.H5(this.value,P,D);this.zk();this.SE()};
e1.hue2.prototype.zk=function(){var z=this.gs.r(),q=this.value.Clrz?this.value.Clrz.v:!1;this.ZJ.a(q);
this.gs._w(!q);this.ev._w(!q&&z!=0);var e=jR.Rg(this.value,z),V=z==0?e:e.jr;this.a7i.a(V[0]);this.cz.a(V[1]);
this.a9Y.a(V[2]);var P=this.TX.width,D=this.TX.height,B=this.YI;B.clearRect(0,0,P,D);if(q||z==0){this.aIy.innerHTML="";
return}var A=e.T_;this.aIy.innerHTML=A[0]+"\xB0 / "+A[1]+"\xB0<span style=\"float:right\">"+A[2]+"\xB0 \\ "+A[3]+"\xB0</span>";
var s=T.n(P*4);aa.a0i(s,1,P,-1,.5);var a=new ImageData(new Uint8ClampedArray(s.buffer),P,1),M=Math.round(D/4);
for(var n=0;n<M;n++)B.putImageData(a,0,n);function $(F,i,X){B.fillStyle=X;var K=M*2;if(F<=i)B.fillRect(F*P,K,(i-F)*P,M);
else{B.fillRect(0,K,i*P,M);B.fillRect(F*P,K,(1-F)*P,M)}}var U=this.TV();$(U[0],U[1],"#888888");$(U[1],U[2],"#cccccc");
$(U[2],U[3],"#888888");B.fillStyle="#ffffff";B.lineWidth=1;B.beginPath();var o=M+.5,t=4*M+.5;for(var n=0;
n<4;n++){var c=Math.floor(P*U[n])+.5,H=(n<2?-1:1)*M*(n==1||n==2?1:2);B.moveTo(c,o);B.lineTo(c,t);B.lineTo(c+H,t);
B.lineTo(c+H,M+M+.5);B.closePath()}B.fill();B.stroke()};e1.hue2.prototype.TV=function(){var z=this.gs.r(),q=jR.Rg(this.value,z).T_;
for(var n=0;n<4;n++)q[n]=(1000.5+q[n]/360)%1;return q};e1.hue2.prototype.aqO=function(z){var q=this.gs.r(),e=jR.Rg(this.value,q);
for(var n=0;n<4;n++)e.T_[n]=Math.round(36e3+(z[n]-.5)*360)%360;jR.H5(this.value,q,e)};e1.hue2.prototype.sf=function(){return!0};
e1.hue2.prototype.axF=function(){var z=this.P2.r().indexOf(!0),q=this.ev.r().indexOf(!0);return z!=-1?z:q!=-1?q+1:-1};
e1.hue2.prototype.Qy=function(z,q,e,V,P){var D=this.axF();if(D==-1)return;var B=this.value;this.value=ak.g1("hue2");
this.SE();var A=W.SB.Z9(z,P,1,null,!0);this.a(B);var s=[A>>>16&255,A>>>8&255,A&255],a=T.Pw(s[0]/255,s[1]/255,s[2]/255);
if(D==0){this.gs.a(1+Math.round(a.Hi*6)%6)}else{var M=this.TV(),$=.5+a.Hi,U=1/12,o=M[1],t=M[2];if(t<o){t++;
if($<o&&$+1-t<o-$)$++}var c=o<=$&&$<=t;if(D==1){o=$-U/2;t=$+U/2}else if(D==2&&!c){o=Math.min($,o);t=Math.max($,t)}else if(D==3&&c){if($-o<t-$)o=$;
else t=$}M=[o-U,o,t,t+U];this.aqO(M)}this.SE();this._b=P.x;this.RD=this.cz.r()};e1.hue2.prototype.Sf=function(z,q,e,V,P){var D=this.axF();
if(D==-1)return;if(D==0){if(this._b!=null){var B=P.x-this._b;B=Math.max(-100,Math.min(100,this.RD+.5*B));
this.cz.a(B);this.aeN()}}};e1.hue2.prototype.AM=function(z,q,e,V,P){this._b=null};e1.hue2.prototype.a=function(z){this.value=T.G(z);
var q=this.value.Clrz?this.value.Clrz.v:!1;this.axM[q?1:0]=jR.Rg(this.value,0);this.zk()};e1.hue2.prototype.r=function(z){return T.G(this.value)};
e1.levl=function(){function z(){e1.call(this);this.value=null;this.El=null;this.o6=[new f5(0,0),new f5(0,0),new f5(0,0),new f5(0,0),new f5(0,0)];
this.nG=-1;this.a7R=0;this.Yk=this._s.bind(this);this.EQ=this.in.bind(this);var q=this.$;this.dZ=new cr([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.dZ.Q(_.E.f,this.zk,this);q.appendChild(this.dZ.$);this.H0=new ef;this.H0.parent=this;this.H0.Q(_.E.f,this.ed,this);
q.appendChild(this.H0.$);var e=J.k("div","");q.appendChild(e);var V=J.k("div","");q.appendChild(V);this.TX=J.k("canvas");
e.appendChild(this.TX);this.YI=this.TX.getContext("2d");this.sh=new f5(256,120);J.C(this.TX,"display:block");
J.sB(this.TX);J.Br(this.TX,this.tY.bind(this));this.hl=J.k("canvas","");V.appendChild(this.hl);this.IZ=this.hl.getContext("2d");
this.jp=new f5(this.sh.x,40);J.C(this.hl,"display:block");J.sB(this.hl);J.Br(this.hl,this.a6O.bind(this));
var P=this.aFA=[];for(var n=0;n<5;n++){var D=new eE(null,null,3);P.push(D);D.Q(_.E.f,this.aO0,this);
(n<2||n==4?e:V).appendChild(D.$)}e.appendChild(P[1].$);this.P2=new db("Sample from image",eD.Op(["#000000","#888888","#ffffff"]),!0,null,!0);
this.P2.Q(_.E.f,this.as,this);q.appendChild(this.P2.$);this.hh(250,100)}z.prototype=new e1;z.prototype.vA=function(){return this.a7R==0?1:2};
z.prototype.ed=function(){var q=this.H0.r(),e=this.El,V=this.value,P=T.arH(q,e);for(var n=0;n<4;n++){var D=P[n][0],B=P[n][1],A=P[n][2],s=[T.JQ.Az(D,0,!0),T.JQ.Az(B,255,!0)];
if(A!=null)s.splice(1,0,T.JQ.Az(128,A,!0));var a=[~~D,~~B,0,255,A==null?100:~~(100+.75*100*(A-128)/128)];
hG.H5(V,n,a)}this.zk();this.SE()};z.prototype.hh=function(q,e){q+=6;this.sh.x=this.jp.x=q;J.rw(this.TX,q,this.sh.y,this.YI);
J.rw(this.hl,q,this.jp.y,this.IZ);var V=this.aFA;J.C(V[3].$,"margin-left: "+(q-104)+"px");J.C(V[4].$,"margin: 0 "+(q/2-74)+"px");
if(this.value)this.zk()};z.prototype.W=function(){this.dZ.W()};z.prototype.aO0=function(q){var e=[];
for(var n=0;n<5;n++){var V=255,P=1;if(n==4){V=999;P=100}var D=parseFloat(this.aFA[n].r());e[n]=Math.max(0,Math.min(V,D*P))}hG.H5(this.value,this.dZ.r(),e);
this.zk();this.SE()};z.prototype.zk=function(q){var e=this.sh.x,V=this.sh.y,P=this.dZ.r(),D=this.YI;
D.clearRect(0,0,e,V);D.fillStyle="#cccccc";D.fillRect(8,8,e-16,V-16-8);if(this.El){var B=this.El[0].slice(0),t=0;
if(P==0){B.fill(0);var A=T.G(this.value);hG.H5(A,0,[0,255,0,255,100]);var s=aM.LU("levl",A),a=[s.jS,s.df,s.Rj];
for(var M=0;M<3;M++){var $=this.El[1+M],U=a[M];for(var n=0;n<256;n++)B[~~(U[n]*255)]+=$[n]}}var o=P==0?B:this.El[P];
for(var n=0;n<o.length;n++)t+=o[n];D.fillStyle="#333333";D.beginPath();D.moveTo(8,V-16);for(var n=0;
n<256;n++){var c=55*o[n]/t;D.lineTo(8+n/256*(e-16),Math.max(8,V-16-V*c))}D.lineTo(e-8,V-16);D.closePath();
D.fill()}var H=hG.Rg(this.value,P);for(var n=0;n<5;n++)this.aFA[n].a(H[n]/(n==4?100:1));this.o6[0].mX(8+H[0]/255*(e-16),V-14);
this.o6[1].mX(8+H[1]/255*(e-16),V-14);var F=Math.log(H[4]/100)/Math.log(9.99);F=.5-F/2;this.o6[4].mX(this.o6[0].x+F*(this.o6[1].x-this.o6[0].x),V-14);
this.iP(D,this.o6[0],"#000000");this.iP(D,this.o6[1],"#ffffff");this.iP(D,this.o6[4],"#777777");var e=this.jp.x,V=this.jp.y;
D=this.IZ;D.clearRect(0,0,e,V);var i=D.createLinearGradient(0,0,e-16,0);i.addColorStop(0,"black");i.addColorStop(1,"white");
D.fillStyle=i;D.fillRect(8,8,e-16,16);this.o6[2].mX(8+H[2]/255*(e-16),V-14);this.o6[3].mX(8+H[3]/255*(e-16),V-14);
this.iP(D,this.o6[2],"#000000");this.iP(D,this.o6[3],"#ffffff")};z.prototype.iP=function(q,e,V){q.fillStyle=V;
q.fillRect(e.x-5,e.y,10,10)};z.prototype.tY=function(q){var e=J.fH(q,this.TX),V=this.aia([0,1,4],e);
if(V!=-1)this.nG=this.a7R=V;this.amJ()};z.prototype.a6O=function(q){var e=J.fH(q,this.hl),V=this.aia([2,3],e);
if(V!=-1)this.nG=V;this.amJ()};z.prototype.aia=function(q,e){var V=-1,P=1e9;for(var n=0;n<q.length;n++){var D=Math.abs(this.o6[q[n]].x-e.x);
if(D<P){P=D;V=q[n]}}return P<16?V:-1};z.prototype.amJ=function(q){if(this.nG==-1)return;J.rq(document.body,this.Yk);
J.KE(document.body,this.EQ)};z.prototype._s=function(q){var e=hG.Rg(this.value,this.dZ.r()),V=J.fH(q,this.nG==2&&this.nG==3?this.hl:this.TX),P=255*(V.x-8)/(this.sh.x-16);
P=Math.max(0,Math.min(255,P));if(this.nG==0)P=Math.min(P,e[1]-2);if(this.nG==1)P=Math.max(P,e[0]+2);
if(this.nG!=4)e[this.nG]=Math.round(P);else{var D=(P-e[0])/(e[1]-e[0]);D=1-2*D;D=Math.pow(9.99,D);e[4]=Math.min(999,Math.max(10,Math.round(D*100)))}hG.H5(this.value,this.dZ.r(),e);
this.zk();this.SE()};z.prototype.in=function(q){J.TT(document.body,this.Yk);J.N$(document.body,this.EQ);
this.nG=-1};z.prototype.sf=function(){return!0};z.prototype.AM=function(q,e,V,P,D){e1.a6W(this,q,D,"levl")};
z.prototype.a=function(q){this.value=q;this.zk()};z.prototype.G2=function(q){this.El=q;this.zk()};z.prototype.r=function(q){return T.G(this.value)};
return z}();e1.phfl=function(){e1.call(this,"phfl");this.Wt.push(new l0);this.Wt.push(new aJ([12,74],0,100,"%"));
this.Wt.push(new iP([13,4]));this.zc()};e1.phfl.prototype=new e1;e1.phfl.prototype.Wn=function(z,q){q[0]=z.Clr.v;
q[1]=z.Dnst.v;q[2]=z.PrsL.v};e1.phfl.prototype.cL=function(z,q){var e=T.Yf.z8(q[0]),V=z.Clr.v,P=T.zw(e.l,e.I,e.c);
V.Lmnc.v=P.eT;V.A.v=P.x6;V.B.v=P.c;z.Dnst.v=q[1];z.PrsL.v=q[2]};e1.vibA=function(){e1.call(this,"vibA");
this.Wt.push(new aJ([12,13],-100,100,null));this.Wt.push(new aJ([12,9],-100,100,null));this.zc()};e1.vibA.prototype=new e1;
e1.vibA.prototype.Wn=function(z,q){q[0]=z.vibrance?z.vibrance.v:0;q[1]=z.Strt?z.Strt.v:0};e1.vibA.prototype.cL=function(z,q){z.vibrance.v=q[0];
z.Strt.v=q[1]};e1.thrs=function(){e1.call(this,"thrs");this.Wt.push(new aJ([4,13],1,255,null));this.zc()};
e1.thrs.prototype=new e1;e1.thrs.prototype.Wn=function(z,q){q[0]=z.Lvl.v};e1.thrs.prototype.cL=function(z,q){z.Lvl.v=q[0]};
e1.mixr=function(){e1.call(this);var z=this.$;this.R6=[];this.uD=null;this.gs=new cr([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.ant=!1;this.gs.Q(_.E.f,this.GT,this);z.appendChild(this.gs.$);J.f9(z);this.JZ=new iP([12,60]);z.appendChild(this.JZ.$);
this.JZ.Q(_.E.f,this.GT,this);for(var n=0;n<4;n++){var q=new aJ([[13,1,1],[13,1,4],[13,1,5],[13,2]][n],-200,200,"%");
q.Q(_.E.f,this.GT,this);this.R6.push(q);z.appendChild(q.$)}};e1.mixr.prototype=new e1;e1.mixr.prototype.W=function(){this.gs.W();
this.JZ.W();for(var n=0;n<4;n++)this.R6[n].W()};e1.mixr.prototype.a=function(z){this.uD=T.G(z);this.LE()};
e1.mixr.prototype.r=function(z){return T.G(this.uD)};e1.mixr.prototype.GT=function(z){if(z.target!=this.gs){var q=aM.PJ(this.uD);
if(z.target==this.JZ){q.JZ=this.JZ.r();if(q.JZ)q.u=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else q.u=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var e=(q.JZ?0:this.gs.r())*5,n=this.R6.indexOf(z.target);
q.u[e+(n<3?n:4)]=z.target.r()}this.uD=aM.GB(q)}this.LE();this.SE()};e1.mixr.prototype.LE=function(){var z=aM.PJ(this.uD),q=this.gs.r();
if(z.JZ!=this.ant){this.gs.jl(z.JZ?[[13,1,7]]:aM.Y0);this.gs.a(q)}this.ant=z.JZ;this.JZ.a(z.JZ);var e=(z.JZ?0:q)*5;
for(var n=0;n<4;n++)this.R6[n].a(z.u[e+(n<3?n:4)])};e1.post=function(){e1.call(this,"post");this.Wt.push(new aJ([4,1],2,255,null));
this.zc()};e1.post.prototype=new e1;e1.post.prototype.Wn=function(z,q){q[0]=z.Lvls.v};e1.post.prototype.cL=function(z,q){z.Lvls.v=q[0]};
e1.clrL=function(){e1.call(this,"clrL");this.Wt.push(new aY("LUTs"));this.zc()};e1.clrL.prototype=new e1;
e1.clrL.prototype.Wn=function(z,q){q[0]=z};e1.clrL.prototype.cL=function(z,q){var e=q[0];for(var V in e)z[V]=e[V]};
e1.clrL.prototype.K5=function(z,q){if(q==cR.zu||q==cR.JC)this.Wt[0].zT(z.ahT)};e1.rplc=function(){e1.call(this,"rplc");
this.Wt.push(new aJ([12,92],0,200));this.Wt.push(new l0);this.Wt.push(new aJ([12,8],-180,180));this.Wt.push(new aJ([12,9],-100,100));
this.Wt.push(new aJ([12,10],-100,100));this.zc()};e1.rplc.prototype=new e1;e1.rplc.prototype.Wn=function(z,q){q[0]=z.Fzns.v;
q[1]=z.Mxm.v;q[2]=z.H.v;q[3]=z.Strt.v;q[4]=z.Lght.v};e1.rplc.prototype.cL=function(z,q){function e(P,D){D.Lmnc.v=P.eT;
D.A.v=P.x6;D.B.v=P.c}z.Fzns.v=q[0];z.H.v=q[2];z.Strt.v=q[3];z.Lght.v=q[4];var V=T.Yf.z8(q[1]),P=T.zw(V.l,V.I,V.c);
e(P,z.Mnm.v);e(P,z.Mxm.v)};e1.fade=function(){e1.call(this,"fade");this.Wt.push(new aJ([12,0],0,100,"%"));
this.Wt.push(new cr([12,19,0],aA.p4,aA.Cx));this.zc()};e1.fade.prototype=new e1;e1.fade.prototype.Wn=function(z,q){q[0]=z.Opct.v.val;
q[1]=aA.nq.indexOf(z.Md.v.BlnM)};e1.fade.prototype.cL=function(z,q){z.Opct.v.val=q[0];z.Md.v.BlnM=aA.nq[q[1]]};
e1.aply=function(){var z=aA.nq.concat(["Add","Sbtr"]);z.splice(21,1);var q=aA.p4.concat([[15,10,28],[15,10,21]]);
q.splice(21,1);var e=aA.Cx.slice(0);e[4]--;function V(){e1.call(this,"aply");this.Wt.push(new cr([0,3],[]));
this.Wt.push(new cr([12,4],["RGB"].concat(aM.Y0).concat(["Transparency"])));this.Wt.push(new iP([4,11]));
this.Wt.push(new cr([12,19,0],q,e));this.Wt.push(new aJ([12,0],0,100,"%"));this.Wt.push(new gO([12,38],1,2,null,2));
this.Wt.push(new gO([12,6],-255,255));this.Wt.push(new iP([13,5]));this.zc([2]);this.ajm=null}V.prototype=new e1;
V.prototype.Wn=function(P,D,B){if(B){var A=B[2].Z,s=this.ajm=[];for(var n=0;n<A.length;n++){var a=A[n].getName();
s.push(a.length<30?a:a.slice(0,27)+"...")}s.reverse();this.Wt[0].jl([[5,7]].concat(s),[1,s.length])}else var s=this.ajm;
P=P.With.v;var M=P.T.v;D[0]=M[1].t=="name"?1+s.indexOf(M[1].v.val):0;D[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(M[0].v.enum);
D[2]=P.Invr.v;var $=P.Clcl.v.Clcn;D[3]=z.indexOf($);D[4]=P.Opct.v.val;D[5]=P.Scl.v;D[6]=P.Ofst.v;D[7]=P.PrsT.v};
V.prototype.cL=function(P,D){P=P.With.v;var B=P.T.v;if(D[0]==0)B[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else B[1]={t:"name",v:{classID:"Lyr",val:this.ajm[D[0]-1]}};B[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][D[1]];
P.Invr.v=D[2];var A=P.Clcl.v.Clcn=z[D[3]];P.Opct.v.val=D[4];P.Scl.v=D[5];P.Ofst.v=D[6];P.PrsT.v=D[7];
var s=A=="Add"||A=="Sbtr";this.Wt[5]._w(s);this.Wt[6]._w(s)};return V}();e1.matc=function(){var z,q,e=0;
function V(){e1.call(this,"matc");this.Wt.push(new iP("Apply only to a selection"));this.Wt.push(new aJ("Luminance",1,200));
this.Wt.push(new aJ("Color Intensity",1,200));this.Wt.push(new aJ([2,11],0,100,"%"));this.Wt.push(new iP("Neutralize"));
this.Wt.push(new iP("Use a selection of the source"));this.Wt.push(new iP("Use a selection of the target"));
this.Wt.push(new cr([12,70],[]));this.Wt.push(new cr([0,3],[]));this.zc([4])}function P(D,B){D.Wt[8].jl([[5,7]].concat(B),[1,B.length])}V.prototype=new e1;
V.prototype.Wn=function(D,B,A){e=0;B[0]=D.fsel?D.fsel.v:!1;B[1]=D.Lght.v;B[2]=D.ClrR.v;B[3]=D.Fade.v;
B[4]=D.neutralizeColor?D.neutralizeColor.v:!1;B[5]=D.selectedSourceAreas?D.selectedSourceAreas.v:!1;
B[6]=D.SlcA?D.SlcA.v:!1;B[7]=B[8]=0;var s=D.Srce;if(s)s=s.v;if(A){z=[];q=[];var a=A[2],M=A[3];for(var n=0;
n<M.length;n++){var $=M[n];z.push($.name);var U=$.Z,o=[];q.push(o);for(var t=0;t<U.length;t++)o.push(U[t].getName());
o.reverse()}this.Wt[7].jl([[13,1,0]].concat(z),[1,z.length]);var c=M.indexOf(a);if(s)c=z.indexOf(s[1].v.val);
P(this,q[c])}if(s){var H=z.indexOf(s[1].v.val);B[7]=e=1+H;if(s[0].t=="name")B[8]=1+q[H].indexOf(s[0].v.val)}};
V.prototype.cL=function(D,B){D.fsel={t:"bool",v:B[0]};D.Lght.v=B[1];D.ClrR.v=B[2];D.Fade.v=B[3];D.neutralizeColor={t:"bool",v:B[4]};
D.selectedSourceAreas={t:"bool",v:B[5]};D.SlcA={t:"bool",v:B[6]};if(B[7]==0){D.noReference={t:"bool",v:!0};
delete D.Srce}else{if(B[7]!=e){e=B[7];P(this,q[B[7]-1])}delete D.noReference;var A={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},s=q[B[7]-1];
if(B[8]!=0)A={t:"name",v:{classID:"Lyr",val:s[B[8]-1]}};D.Srce={t:"obj ",v:[A,{t:"name",v:{classID:"Dcmn",val:z[B[7]-1]}}]}}};
return V}();function jz(z,q){gq.call(this);if(z==null)return;this.id=q;this.Fv=z;this.aA$=null;this.$=J.k("div","window "+q);
this.a2m=null;this.nI=J.k("div","whead");this.a5D=J.k("span","wname");this.nI.appendChild(this.a5D);
this.aFX=!1;this.$.appendChild(this.nI);this.SA=this.ad0.bind(this);this.M$=this.a2_.bind(this);this.ls=this.a4y.bind(this);
J.sB(this.nI);J.Br(this.nI,this.SA);this.aJu=J.k("span","cross gsicon");this.nI.appendChild(this.aJu);
jz.prototype.W.call(this);J.KE(this.aJu,this.a9Q.bind(this));this.body=J.k("div","body");this.$.appendChild(this.body)}jz.prototype=new gq;
jz.prototype.ay=function(){return!1};jz.prototype.sf=function(){return!1};jz.prototype.W=function(){if(this.Fv==null)return;
this.a5D.textContent=iE.get(this.Fv)};jz.prototype.Qy=function(z,q,e,V,P){};jz.prototype.gr=function(z,q,e,V,P){};
jz.prototype.Sf=function(z,q,e,V,P){};jz.prototype.AM=function(z,q,e,V,P){};jz.prototype.D1=function(z,q,e,V,P){};
jz.prototype.gi=function(z,q,e,V){if(V.t(cz.JN)&&this.En)this.En();if(V.t(cz.EF)&&!this.Hp(-1)){var P=new dW(_.E.z);
P.Hf=!0;W.jH.aCq(V,P);if(P.data)q.K(P)}};jz.prototype.Hp=function(z){return!1};jz.prototype.h3=function(z,q){return!0};
jz.prototype.N_=function(z,q,e,V){};jz.prototype.K5=function(z,q){};jz.prototype.SM=function(z,q){return null};
jz.prototype.avr=function(z){return this.a2m};jz.prototype.hh=function(){};jz.prototype.close=function(){this.br();
this.K(new dW(_.E.un))};jz.prototype.ad0=function(z){if(z.target==this.aJu)return;this.aA$=J.fH(z,this.$);
J.rq(window,this.M$);J.KE(window,this.ls)};jz.prototype.a2_=function(z){var q=this.$.parentNode,e=J.fH(z,q);
e.x=Math.min(e.x,window.innerWidth);e.y=Math.min(e.y,window.innerHeight);var V=Math.round(e.x-this.aA$.x),P=Math.max(0,Math.min(window.innerHeight-36,Math.round(e.y-this.aA$.y)));
this.a2m=new f5(V,P);this.$.style.left=q.offsetLeft+V+"px";this.$.style.top=q.offsetTop+P+"px"};jz.prototype.a4y=function(z){J.TT(window,this.M$);
J.N$(window,this.ls)};jz.prototype.a9Q=function(z){if(this.aFX){this.En();return}this.close();this.K(new dW("closebtn"))};
jz.prototype.br=function(){};function bI(){jz.call(this,"About Photopea","aboutpp");var z=this.body,q=this.afo=J.k("img");
z.appendChild(q);J.C(this.body,"margin:0; padding:0");var e=this.$w=J.k("div");e.innerHTML=bI.tC;z.appendChild(e);
var V=this.p6=J.k("span");V.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(V)}bI.prototype=new jz;bI.prototype.SM=function(z,q){return new f5(0,0)};bI.prototype.hh=function(z,q){var e=(z+q-42-42)/110,V,P,D;
e=Math.sqrt((z-42)*(q-42))/50;if(z>q){J.d6(this.body,"flexrow");V="width:"+z/2+"px; height:"+q+"px; display:block; object-fit:cover;";
P="width:"+(z/2-42)+"px; height:"+(q-42)+"px; padding:20px; font-size:"+e+"px;";D="position:absolute;  bottom:10px; right:"+(z/2+10)+"px"}else{if(z*1.5>q)e*=.9;
J.Pf(this.body,"flexrow");V="width:"+z+"px; height:"+q/2+"px; display:block; object-fit:cover;";P="width:"+(z-42)+"px; height:"+(q/2-42)+"px; padding:20px; font-size:"+e+"px;";
D="position:absolute;  bottom:"+(q/2+10)+"px; right:10px"}J.C(this.afo,V);J.C(this.$w,P);J.C(this.p6,D)};
bI.prototype.W=function(){};bI.prototype.N_=function(z,q,e,V){this.afo.setAttribute("src","promo/ivan_pp.webp")};
bI.tC="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 33-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i><br/>\t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://twitter.com/ivankutskir\">Twitter</a> | \t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://instagram.com/ivankutskir\">Instagram</a></p>\t";
function h9(){jz.call(this,"Are you blocking ads?","bnotify");var z=this.body,q="style=\"color:inherit\" target=\"_blank\"",e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA6CAMAAAA9UgEZAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAI1QTFRF4eHhR0dHk5OTUlJSoqKio6OjpKSkqqqq2dnZVFRUVlZWdHR029vbxcXFWFhYYmJizs7OaGhogoKCsbGxTExMpaWlXl5ecXFxSUlJfn5+uLi4iYmJmJiYd3d3v7+/Tk5OjY2N0tLSZWVleXl5oaGhaWlpWlpaT09Pf39/nZ2dra2tXFxcnJycYGBga2trbtjItQAAAQtJREFUeJzt1scWgkAMBVAj0pEm2HvF+v+fJwF0lUyElZzD2z7vGRjCYK/XpUV5+ADOsgGcQZFVbWhClX5dqX3kxqoH1/DN6IefW5kDivixx0AvUDlMwNCtBAG2tNzLMqIlbqfbZ+Pmtc1Lnd+/QV5rnTwPm0rFmOqSvISMNLDckZV5KOiJkWnRjlOyHI6xXPNrYiZkGyZ5FaslHMl6kTdPQdK3g8dPQsvBR9I9yqkg6R6v9i5cLfmShti4tNRVO1Q+FWaKFE+lmgSHhtUkwIw4xarDec5IXDO5keNXSvZrYKgn3udW/MszoT3Sbvx1iEDMi5ZLWV6ZOxG/vHtuD6zYVzknq/lno0sXIW9imwujYrBo1QAAAABJRU5ErkJggg==";
z.style.width="540px";var V="<h2>It seems like you are blocking our ads</h2>"+"<p>Please, let us show you ads. Photopea would not exist if everyone blocked ads :(</p>"+"<p>Or get <a "+q+" href=\"//www.photopea.com/promo/no_ads.png\">90 days ad-free</a> for <b>\u20AC15</b> (one-time payment) - press <b>Account</b> at the top!</p>"+"<p>Are you not aware of blocking ads? Read <a "+q+" href=\"//www.photopea.com/tuts/photopea-says-i-am-blocking-ads-but-i-am-not/\">this article</a>! :)"+" This button: <img style=\"width:20px; vertical-align:middle;\" src=\""+e+"\" /> will show you your extensions, which can modify Photopea (potential ad-blockers).</p>"+"<a "+q+" href=\"img/exts.png\"><img style=\"width:100%\" src=\""+lA.A6("img/exts.png")+"\" /></a>";
z.innerHTML=V}h9.prototype=new jz;h9.prototype.hh=function(z,q){this.body.style.width=Math.min(540,z-24)+"px"};
function k0(){jz.call(this,[0,13,0],"account");this.lv=J.k("div","form scrollable");this.body.appendChild(this.lv);
this.body.style.padding="0";this.jv=[new k0.OA,new k0.EH("::"+lA.A6("privacy.html")),new k0.EH(k0.aLd)];
for(var n=0;n<this.jv.length;n++)this.jv[n].parent=this;this.Q("showpage",this.awL,this)}k0.prototype=new jz;
k0.prototype.h3=function(z,q){var e=navigator.onLine;if(!e)alert("Go online first");return e};k0.prototype.hh=function(z,q){J.C(this.lv,"width:"+Math.min(z-40,740)+"px;  height:"+(q-38)+"px;  padding:1.5em;");
this.jv[0].hh(z,q)};k0.prototype.SM=function(z,q){return new f5(Math.max(0,Math.min(150,(z-740)/2)),Math.max(0,Math.min(100,(q-700)/2)))};
k0.prototype.awL=function(z){J._8(this.lv);this.lv.scrollTop=0;this.lv.appendChild(this.jv[z.data.XW].$)};
k0.prototype.W=function(){jz.prototype.W.call(this);for(var n=0;n<this.jv.length;n++)this.jv[n].W()};
k0.prototype.N_=function(z,q,e){if(!navigator.onLine)return;J._8(this.lv);var V=this.jv[0];this.lv.appendChild(V.$);
V.N_();this.W()};k0.prototype.K5=function(z,q){this.N_(null,null,null)};k0.OA=function(){gq.call(this);
this.$=J.k("div");var z=this.$,A,s,M="font-size:1.25em;",$="text-align:center;",o="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",t="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",c="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",i=12;
this.CH=J.k("div");z.appendChild(this.CH);this.FG=new ht([0,11],!1,null,!0);J.C(this.FG.$,"background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.FG.Q("click",this.VG,this);this.FG.$.addEventListener("contextmenu",this.VG.bind(this),!1);z.appendChild(this.FG.$);
this.aAC=new ht([0,13,1],!1,null,!0);this.aAC.Q("click",this.a3B,this);z.appendChild(this.aAC.$);this.ahJ=new ht("Business Terms",!1,null,!0);
this.ahJ.Q("click",this.a6C,this);z.appendChild(this.ahJ.$);var q=J.k("div");q.style.margin="20px 0";
z.appendChild(q);var e=["Account Types","Go Premium","Team Settings","Distributors","AI credits"],V=this.uY=[],P=this.aAh=[],D=this.bX=J.k("div");
z.appendChild(D);for(var n=0;n<e.length;n++){var B=J.k("span");B.textContent=e[n];q.appendChild(B);V.push(B);
J.C(B,"font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
B.addEventListener("click",this.lI.bind(this));P.push(J.k("div"))}this.lI(0);var a=this.a5k="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
z=P[0];var s=J.k("table"),U="style=\" "+$+M+" padding-bottom:20px;\"";s.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+c+">\t\t\t\t\t<div "+U+">\t\t\t\t\t\t<sup>"+lA.lS+"</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+t+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+t+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+c+">\t\t\t\t\t<div "+U+" title=\"Order 90 days for "+lA.lS+"15, to get a cost of "+lA.lS+"5 per month.\">\t\t\t\t\t\tFrom <sup>"+lA.lS+"</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+t+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+t+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+t+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li title=\"Remove BG costs 1 credit. Magic Replace costs 3 credits.\"><span "+t+">\u2713</span> 3,000 AI credits / month</li> \t\t\t\t\t\t\t<li><span "+t+">\u2713</span> 2\xD7 more steps in history</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
z.appendChild(s);var B=new ht("Go Premium");J.C(B.$,a+"padding:10px 0;");B.Q("click",function(f){this.lI(1)},this);
s.children[0].children[1].children[1].appendChild(B.$);this.Tt=J.k("div");z.appendChild(this.Tt);z=P[1];
var H=this.alP=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.d9=[];for(var n=0;n<H.length;n++)this.d9.push(new ht("Buy: "+lA.lS+H[n][0],!1,null,!0));for(var n=0;
n<this.d9.length;n++){this.d9[n].Q("click",this.ash,this)}this.Dt=new ht("...",!0);J.C(this.Dt.$,a);
z.appendChild(this.Dt.$);s=this.aAw(4,["Single user",this.d9[0],this.d9[1],this.d9[2],"Team of 5",this.d9[3],this.d9[4],this.d9[5],"Team of 20",this.d9[6],this.d9[7],this.d9[8],"Team of 50",this.d9[9],this.d9[10],this.d9[11]]);
z.appendChild(s);var F=J.k("div");z.appendChild(F);F.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.asD=new iP("I accept",!0,"");z.appendChild(this.asD.$);this.auT=new ht([0,13,1],!1,null,!0);this.auT.Q("click",this.a3B,this);
z.appendChild(this.auT.$);this.aKX=new ht("Promo Code",!1,null,!0);J.C(this.aKX.$,a+" float:right; width:inherit;");
this.aKX.Q("click",this.ash,this);z.appendChild(this.aKX.$);z=P[2];this.xS=new jG;this.xS.parent=this;
this.xS.Q(_.E.f,this.X5,this);z.appendChild(this.xS.$);this.xS.$.textContent="Log in to create or join teams.";
z=P[3];this.Ir=new ht("...",!0);J.C(this.Ir.$,a);z.appendChild(this.Ir.$);s=this.aAw(3,["1000 views/mo",this.d9[i++],this.d9[i++],this.d9[i++],"5000 views/mo",this.d9[i++],this.d9[i++],this.d9[i++],"20000 views/mo",this.d9[i++],this.d9[i++],this.d9[i++]]);
z.appendChild(s);var X=J.k("p");X.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
z.appendChild(X);this.fP=new eE("Domain name (e.g. domain.com)",null,14);z.appendChild(this.fP.$);var K=new ht("Save Domain Settings",!1,null,!0);
K.IM();z.appendChild(K.$);K.Q("click",this.aKa,this)};k0.OA.prototype=new gq;k0.OA.prototype.lI=function(z){var q=typeof z=="number"?z:this.uY.indexOf(z.target);
for(var n=0;n<this.uY.length;n++)this.uY[n].style.opacity=.6;this.uY[q].style.opacity=1;J._8(this.bX);
this.bX.appendChild(this.aAh[q])};k0.OA.prototype.hh=function(z,q){var e=z<600?"d":" days",V=["30 days","90 days","365 days"];
if(z<600)V=["30d","90d","365d"];var P=this.alP;for(var n=0;n<P.length;n++){this.d9[n]._D("<span>"+V[n%3]+": <sup>"+lA.lS+"</sup><big><b>"+P[n][0]+"</b></big>"+"</span>");
J.C(this.d9[n].$,this.a5k)}};k0.OA.prototype.a3B=function(z){var q=new dW("showpage",!0);q.data={XW:1};
this.K(q)};k0.OA.prototype.a6C=function(z){var q=new dW("showpage",!0);q.data={XW:2};this.K(q)};k0.OA.prototype.W=function(){this.FG._D(lA.Rc()?iE.get([0,11]):iE.get([0,10]));
this.auT.W();this.aAC.W();this.ahJ.W()};k0.OA.prototype.alF=function(z){var q=new dW(_.E.b,!0);q.data={p:_.m.I3,link:"https://www.photopea.com/api/accounts#"+(z.target==this.aA7?"teams":"distributors")};
this.K(q)};k0.OA.prototype.arm=function(z){var q=z.currentTarget==this.a3N;this.a3N.a(q);this.akZ.a(!q)};
k0.OA.prototype.awe=function(z){var q=this.a3N.r(),e=this.adY.r().trim().toLowerCase(),V=this.aAX.value.trim().toLowerCase();
if(e.length>60){alert("Too long email address");return}if(V.length>600){alert("Too many team members");
return}V=V.split(",").join(" ").trim();V=V.replace(/\s+/g," ");if(V=="")V=[];else V=V.split(" ");var P=lA.mN();
if(P==null)P={};if(P.acc==null)P.acc={};P.acc.team={jin:q,ldr:e,mmb:V};lA._h(P,this.X5.bind(this));alert("Saved!");
this.N_()};k0.OA.prototype.aKa=function(z){var q=this.fP.r().trim();if(!lA.Rc()){alert("You have to log in first.");
return}if(lA.ZK()==0){alert("Order a distributor account first.");return}var e=lA.mN();if(e==null)e={};
if(e.acc==null)e.acc={};if(q=="")delete e.acc.dname;else e.acc.dname=q;lA._h(e,this.X5.bind(this));alert("Saved!");
this.N_()};k0.OA.prototype.aNX=function(z){var q=lA.Cf(),n=this.P5,e=lA.mN();if(e==null)e={};if(e.acc==null)e.acc={};
e.acc.bto=z;lA._h(e,function(){});var V=k0.a5X(z.split("\n"),q.pmnts[n]);gC.save(V,"photopea_invoice.pdf")};
k0.OA.prototype.aiP=function(z){var q=lA.Cf(),e=lA.mN(),V=e&&e.acc?e.acc.bto:null;if(V==null)V=q.name+"\n"+q.email;
var n=-1,P=z.target.$.parentNode;while((P=P.previousSibling)!=null)n++;this.P5=n;var D=new dW(_.E.b,!0);
D.data={p:_.m.wa,rF:"billto",Zz:V,Wm:this.aNX.bind(this)};this.K(D)};k0.OA.prototype.N_=function(){this.CH.innerHTML="";
J._8(this.Tt);this.aAh[4].innerHTML="AI credits are available only to Premium users.";if(lA.Rc()){var z=lA.Cf(),q=z.pmnts;
if(z==null)return;this.CH.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+z.name+"</span> "+z.email+" <br/>";
if(q){var e="<h2>Payments</h2>";for(var n=0;n<q.length;n++){var V=q[n],P=new Date(V[0]*1e3);e+="<div style=\"font-size:1.2em\">"+P.getDate()+"th of "+P.toDateString().split(" ")[1]+" "+P.getFullYear()+" - "+k0.aeu(V)+"</div>"}this.Tt.innerHTML=e;
for(var n=0;n<q.length;n++){var D=new ht("Get Invoice",!1,null,!0);J.C(D.$,"float:right");D.Q("click",this.aiP,this);
this.Tt.children[n+1].appendChild(D.$)}}}else{}var B=lA.Rc()&&lA.aY();this.Dt.$.style.display=B?"block":"none";
if(B){var A,s,a=B,e="<table><tr><th>Month</th><th>AI credits spent</th></tr>";if(a[0]==0){A=lA.jn(a[1])-Date.now()*(1/1e3);
s=a[1][2]==1?"Single User":"Team Of "+a[1][2]}else{A=a[1][1]-Date.now()*(1/1e3);s="Member of \""+a[1][0]+"\""}this.Dt._D("Premium active for "+Math.round(A/(60*60*24))+" more days! ("+s+")");
var M=this.aAh[4];J._8(M);for(var $=jr.pl();$>=648;$--){var U=1970+Math.floor($/12),o=$%12,P=new Date(U,o,2);
e+="<tr><td>"+U+" "+P.toDateString().split(" ")[1]+"</td><td>"+jr.azo($)+"</td></tr>"}var t=jr.ag8(jr.pl()+1)-Date.now(),c=Math.floor(t/(24*60*6e4));
t-=c*24*60*6e4;var H=Math.floor(t/(60*6e4));t-=H*60*6e4;var o=Math.floor(t/6e4);t-=o*6e4;e="New period starts in "+c+" days, "+H+" hours, "+o+" mins"+e;
M.innerHTML=e+"</table>"}var F=lA.Rc()&&lA.ZK()*1e3>Date.now();this.Ir.$.style.display=F?"block":"none";
if(F){var A=lA.ZK()-Date.now()/1e3;this.Ir._D("Distributor active for "+Math.round(A/(60*60*24))+" more days!")}var i=lA.mN();
this.xS.N_();if(i&&i.acc&&i.acc.dname)this.fP.a(i.acc.dname);else this.fP.a("")};k0.OA.prototype.aAw=function(z,q){var e=J.k("table");
if(!0){var V="<table><tr>";for(var n=0;n<z;n++)V+="<th>"+q[n*4]+"</th>";V+="</tr></table>";e.innerHTML=V;
for(var n=0;n<3;n++){var P=J.k("tr"),D;e.appendChild(P);for(var B=0;B<z;B++){D=J.k("td");D.style.width=Math.round(100/z)+"%";
P.appendChild(D);D.appendChild(q[B*4+1+n].$)}}}return e};k0.OA.prototype.ash=function(z){var q=this.d9.indexOf(z.currentTarget),V=30,P=1;
if(!lA.Rc()){this.VG();return}if(this.asD.r()==!1&&q<12){alert("You must accept Terms of Service");return}var e=lA.Rc()&&lA.aY();
if(q!=-1){var D=this.alP[q];V=D[1];P=D[2]}if(e&&P<1e3){alert("You already have premium.");return}console.log(D,V,P);
if(q==-1){var B=prompt("Please enter your key");if(B!=null){lA.ak6(B,this.X5.bind(this));this.V2()}return}if(V==30&&P==1){var A=confirm("You can have 90 days for "+lA.lS+"15. Do you still want a 30 days version for "+lA.lS+"8?");
if(!A)return}lA.order(V,P,this.X5.bind(this));this.V2()};k0.OA.prototype.X5=function(z){this.N_();this.V2()};
k0.OA.prototype.VG=function(z){if(lA.Rc()){lA.anD();this.V2();this.N_(null,null,null)}else lA.VG(this.abQ.bind(this),z&&z.type=="contextmenu"?this:null)};
k0.OA.prototype.abQ=function(){var z=new dW(_.E.b,!0);z.data={p:_.m.abm};this.K(z)};k0.OA.prototype.V2=function(){var z=new dW(_.E.b,!0);
z.data={p:_.m.axV};this.K(z)};k0.EH=function(z){gq.call(this);this.$=J.k("div");var q=this.$,e=this.a1l=new ht([0,13,2],!1,null,!0),V;
e.Q("click",this.alS,this);q.appendChild(e.$);if(z.startsWith("::")){V=J.k("iframe");J.C(V,"width:100%;height:1700px; background-color:white;");
V.setAttribute("src",z.slice(2))}else{V=J.k("div");V.innerHTML=z}q.appendChild(V)};k0.EH.prototype=new gq;
k0.EH.prototype.alS=function(z){var q=new dW("showpage",!0);q.data={XW:0};this.K(q)};k0.EH.prototype.W=function(){this.a1l.W()};
k0.aLd="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
k0.aeu=function(z){var q=z[1]+" days, ";if(z[2]<1e3)return"Photopea Premium ("+q+z[2]+" user"+(z[2]==1?"":"s")+")";
else return"Photopea Distributor ("+q+z[2]+" views/month)"};k0.a5X=function(z,q){z=["Bill To:"].concat(z);
var e=new ToPDF,V=595,P=842,D=40,B=18,A=12,s=500,a=100,M=400,c=0;function $(v,C,S,j,w){o.font.Tf=w?"Helvetica-Bold":"Helvetica";
o.ctm=[1,0,0,1,C,S];o.font.Tfs=j?j:A;e.PutText(o,v,0)}function U(v,C,S,j){for(var n=0;n<v.length;n++){$(v[n],C,S-n*j,null,n==0)}}var o=UDOC.getState();
e.StartPage(0,0,V,P);$("INVOICE",V-D-140,P-D-30,30,!0);U(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],D,P-D-40,B);
var t=new Date(q[0]*1e3);U(["Date: "+t.getDate()+"th of "+t.toDateString().split(" ")[1]+" "+t.getFullYear(),"Transaction ID: "+q[4]],V-D-140,P-D-40-B*2,B);
var H=z.join("");for(var n=0;n<H.length;n++)c=Math.max(c,H.charCodeAt(n));if(c>256){var F=4,i=J.k("canvas"),X=i.getContext("2d"),K=0;
X.font=A*F+"px sans-serif";for(var n=0;n<z.length;n++)K=Math.max(K,X.measureText(z[n]).width);var f=Math.round(K)+20,d=z.length*F*B+20;
i.width=f;i.height=d;X.font=A*F+"px sans-serif";for(var n=0;n<z.length;n++){X.font=(n==0?"bold ":"")+A*F+"px sans-serif";
X.fillText(z[n],10,(n+1)*F*B)}document.body.appendChild(i);var L=new Uint8Array(X.getImageData(0,0,f,d).data.buffer);
o.ctm=[f/F,0,0,d/F,D-10/F,P-D-40-100-d/F];e.PutImage(o,L,f,d);o.ctm=[1,0,0,1,0,0]}else U(z,D,P-D-40-100,B);
o.colr=[.8,.8,.8];o.pth={cmds:["M","L","L","L","Z"],crds:[D,s,V-D,s,V-D,s-B,D,s-B]};e.Fill(o);o.colr=[0,0,0];
var G=[D,s,V-D,s,D,s-B,V-D,s-B,D,s-a,V-D,s-a,D,s,D,s-a,V-D,s,V-D,s-a,M,s,M,s-a],x=[];for(var n=0;n<G.length;
n+=4)x.push("M","L");o.pth={cmds:x,crds:G};e.Stroke(o);$("Order details",D+4,s-14);$(k0.aeu(q),D+4,s-B-14);
$("TOTAL:",D+4,s-a-14,null,!0);var O=q[0]>1756553432?"EUR":"USD";$("Price",V-D-50,s-14);$(q[3]+" "+O,V-D-60,s-B-14);
$(q[3]+" "+O,V-D-60,s-a-14,null,!0);$("www.Photopea.com",D,D);$("support@photopea.com",V-D-130,D);e.ShowPage();
e.Done();return e.buffer};function kP(){jz.call(this,"Log In","login");this.lv=J.k("div","");this.body.appendChild(this.lv)}kP.prototype=new jz;
kP.prototype.h3=function(z,q){var e=navigator.onLine;if(!e)alert("Go online first");return e};kP.prototype.hh=function(z,q){J.C(this.lv,"width:"+Math.min(z-40,740)+"px;  height:"+(q-38)+"px; ")};
kP.prototype.SM=function(z,q){return new f5(Math.max(0,Math.min(150,(z-740)/2)),Math.max(0,Math.min(100,(q-700)/2)))};
kP.prototype.N_=function(z,q,e){if(!navigator.onLine)return;J._8(this.lv);this.W();var V=J.k("iframe");
J.C(V,"width:100%; height:100%");V.setAttribute("src",q.agA);this.lv.appendChild(V);lA.gC=this};function bf(){jz.call(this,[11,14],"addguides");
this.VY;this.i={Y8:{oZ:0}};this.aoo=null;var z=J.k("div","form");this.body.appendChild(z);this.dY=[];
this.hA=new eD(null,["Hi"]);z.appendChild(this.hA.$);J.f9(z);this.hA.Q(_.E.f,this.sE,this);this.Ok=new eE([22,4,0],null,16);
this.Ok.Q(_.E.f,this.T$,this);this.r5=new eE([22,4,1],null,16);this.r5.Q(_.E.f,this.T$,this);this.Ia=new cr(null,T.tR.k6);
this.Ia.Q(_.E.f,this.T$,this);z.appendChild(this.Ok.$);z.appendChild(this.Ia.$);J.f9(z);z.appendChild(this.r5.$);
this.CO=J.Hy(this,z);this.Q("closebtn",this.h9,this)}bf.prototype=new jz;bf.prototype.h3=function(z,q){return z!=null};
bf.prototype.ay=function(){return!0};bf.prototype.W=function(){jz.prototype.W.call(this);this.Ok.W();
this.r5.W();this.Ia.W();this.CO.W()};bf.prototype.K5=function(z,q){var e=z.Y8.oZ;this.i.Y8.oZ=e;this.Ia.a(e)};
bf.prototype.N_=function(z,q){this.VY=z;this.aoo=JSON.stringify(z.Il());this.dY=[-1];var e=["Global"],V=z.root.children,P=z.PM();
for(var n=0;n<V.length;n++){var D=V[n].H;if(D.add.artb){e.push(D.getName());this.dY.push(V[n].index)}}this.hA.jl(e);
this.hA.a(this.dY.indexOf(P));this.sE()};bf.prototype.sE=function(){var z=this.VY,q=z.Il(),e=this.dY[this.hA.r()],V=[0,0];
if(e!=-1){var P=z.Z[e].Le();V=[P.x,P.y]}var D=function(B,A,z,s,a){var M=B[0],$=[];for(var n=0;n<M.length;
n++)if(B[1][n]==e&&M[n][0]==A)$.push(T.tR.Xw(M[n][1]-V[A],z.do,s,a));$.sort(function(U,o){return U-o});
return $.join(", ")};this.Ok.a(D(q,1,z,this.i,z.T));this.r5.a(D(q,0,z,this.i,z.s))};bf.prototype.T$=function(z){if(z&&z.currentTarget==this.Ia)this.i.Y8.oZ=this.Ia.r();
else{var q=this.auV(),e=this.VY;e.m6(q);e.XU=!0}this.sE()};bf.prototype.auV=function(){var z=this.VY,q=z.Il(),e=this.dY[this.hA.r()],V=[0,0];
if(e!=-1){var P=z.Z[e].Le();V=[P.x,P.y]}var D=[];for(var B=0;B<2;B++){var A=B==0?this.r5:this.Ok,s=B==0?z.s:z.T,a=A.r().replace(/,/g," ").replace(/  +/g," ").trim(),M=a==""?[]:a.split(" ");
for(var n=0;n<M.length;n++)D.push([B,T.tR.a6d(M[n],z.do,this.i,s)+V[B]])}for(var n=0;n<q[0].length;n++)if(q[1][n]==e){q[0].splice(n,1);
q[1].splice(n,1);n--}for(var n=0;n<D.length;n++){q[0].push(D[n]);q[1].push(e)}return q};bf.prototype.h9=function(z){var q=this.VY;
q.m6(JSON.parse(this.aoo));q.XU=!0;this.VY=null};bf.prototype.En=function(z){this.T$(z);var q=new dW(_.E.z,!0);
q.U=W.HI;q.data={p:"gids",fR:JSON.parse(this.aoo),an:this.VY.Il()};this.VY=null;this.close();this.K(q)};
function bB(z){jz.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups",resize:"Resize"}[z],z);
this.i=null;this.VY=null;this.caller=null;var q=J.k("div","form");this.body.appendChild(q);J.C(q,"width:300px");
this.aK=new ec("Source Images",!0,!0);q.appendChild(this.aK.$);this.adL=new cr([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.BO=new iP("Order images by name");this.BO.a(!0);var e=this.aBB=hZ.DR();for(var n=0;n<e.length;n++)if(hZ.nw(e[n]).k2){e.splice(n,1);
n--}e.push("SVG","PDF");this.LV=new cr([12,50],e);this.LV.a(1);this.AN=new hk;this.LV.Q(_.E.f,this.vq,this);
this.SP=new cr("Action Set",[]);this.SP.Q(_.E.f,this.K5,this);this.aM$=new cr("Action",[]);this.azK=new iP("Apply to all opened documents");
this.aOY=new iP("Stretch inserted images");this.aOY.a(!0);this.wK=new iP("Resize");this.wK.Q(_.E.f,this.a29,this);
var V=this.aoV=J.k("div","label6");this.EB=new gO([12,41],1,5e3,"px",0,null,null,5);this.EB.parent=this;
this.EB.a(1e3);this.wN=new gO([12,42],1,5e3,"px",0,null,null,5);this.wN.parent=this;this.wN.a(1e3);V.appendChild(this.EB.$);
J.f9(V);V.appendChild(this.wN.$);if(z=="pdfpres"){q.appendChild(this.adL.$);q.appendChild(this.BO.$)}else{if(z=="batch"){q.appendChild(this.SP.$);
J.f9(q);q.appendChild(this.aM$.$);J.dh(q)}if(z=="mockups"){q.appendChild(this.azK.$);q.appendChild(this.aOY.$);
J.f9(q)}if(z=="resize"){this.wK.a(!0)}else{q.appendChild(this.wK.$);J.f9(q)}q.appendChild(V);this.a29();
J.dh(q);q.appendChild(this.LV.$);q.appendChild(this.AN.$)}var P=["VAR0 PDF",[1,8]];if(z=="cformat")P="Convert Images";
if(z=="batch")P="Process Images";if(z=="mockups")P="Generate";if(z=="resize")P="Resize Images";var D=this.ua=new ht(P,!0,null,!0);
D.Q("click",this.iN,this);q.appendChild(D.$);this.vq();this.Aw=-1;this.Ob=null}bB.prototype=new jz;bB.prototype.a29=function(z){this.aoV.style.display=this.wK.r()?"":"none"};
bB.prototype.vq=function(z){var q=this.aBB[this.LV.r()];this.AN._5(q)};bB.prototype.iN=function(z){this.Ob=null;
if(this.id=="mockups"&&this.caller.nk.length>1&&this.azK.r()){this.Ob={};this.Aw=0}this.NP()};bB.prototype.NP=async function(){this.ua.QU();
var z=Date.now(),q=this.aK.r(),e=[],D=595,B=842,t,c,H,F;for(var V in q)e.push(V);if(e.length==0){alert("No images selected");
return}if(this.BO.r())e.sort();var P=this.adL.r(),A=new ToPDF,s=UDOC.getState(),a=this.aBB[this.LV.r()],M=hZ.nw(a),$=this.AN.r(),U={},o=this.VY;
if(this.Ob)o=this.caller.nk[this.Aw];if(this.id=="mockups"){if(o==null){alert("Open a document with smart objects");
return}var i=o.Z[o.j[0]];if(i.add.SoLd==null){i=null;for(var n=0;n<o.Z.length;n++)if(o.Z[n].add.SoLd)i=o.Z[n];
if(i==null){alert("There are no smart objects in a current document.");return}}o.j=[o.Z.indexOf(i)];
var X=i.add.SoLd;c=o.mn(X.Idnt.v);H=c.De;F=c.$U;t=X.Sz.v}for(var f=0;f<e.length;f++){var V=e[f],d=q[V],L=d[0]==255,G=hZ.J7(d.buffer),x=hZ.nw(G),O=[{hp:new kk,data:new ArrayBuffer(0)}],v=null;
if(G=="psd"&&!M.k2)O=dE.aAr(d.buffer);else if(x.k2){v=new hq("file.psd");x.EY(d.buffer,v);v.To();if(!M.k2){if(v.HA)ey.fT(v,this.i.Se,this);
v.Kv();v.n9();O=[{hp:new kk(0,0,v.s,v.T),data:v.tW().buffer}]}}else if(x.LB){O=await hZ.ajF(x,d.buffer);
console.log(O)}else O=x.EY(d.buffer);if(this.id=="batch"){var C=new dW(_.E.b,!0),S=this.i,j=S.$K,w=j[this.SP.r()];
for(var n=0;n<O.length;n++){if(x.k2&&M.k2){}else v=hZ.Jy(V,[O[n]]);C.data={p:_.m.Mk,Va:v};this.K(C);
if(v.Z.length==3)v.j=[1];fw.anu(v,j,w.bX[this.aM$.r()].JJ,w.JJ,this);v.Kv();v.n9();O[n].hp=new kk(0,0,v.s,v.T);
O[n].data=v.tW().buffer;O[n].do=v.do;O[n].LN=v.qh()?v.qh()[0]:null;C.data={p:_.m.zd,Bt:v};this.K(C)}}if(this.id=="mockups"){var u=new Uint8Array(O[0].data),l=O[0].hp,I=t.Wdth.v,Q=t.Hght.v;
if(!this.aOY.r()){var b=l.s,p=l.T,k=b/p,g=I/Q;if(g>k)b=Math.ceil(p*g);else p=Math.ceil(b/g);l.x=b-l.s>>>1;
l.y=p-l.T>>>1;var Y=new kk(0,0,b,p),R=T.n(b*p*4);T.aF(u,l,R,Y);u=R;l=Y}var m=W.On.tU([u,l],new e5(I/l.s,0,0,Q/l.T,0,0));
c.De=[m.buffer,m.V];T.Jr(c.De);c.$U=m.V;c.aPO=!1;o.a0y(c.PP);O=[{data:T.EZ(o.tW(),8).buffer,hp:new kk(0,0,o.s,o.T),do:o.do,LN:o.LN,MX:o.MX}]}if(this.wK.r()){var Z=O[0].hp,E=Math.min(this.EB.r()/Z.s,this.wN.r()/Z.T);
if(E<1)for(var n=0;n<O.length;n++){var u=new Uint8Array(O[n].data),l=O[n].hp,m=W.On.tU([u,l],new e5(E*.999999,0,0,E*.999999,0,0));
O[n].data=m.buffer.buffer;O[n].hp=m.V}}var Z=O[0].hp,N=new Uint8Array(O[0].data),h=Z.s,j5=Z.T;if(this.id=="pdfpres"){var r=[[595,842],[842,595],[595,595],[595,0]][P];
if(P==3)r[1]=Math.round(r[0]*j5/h);var D=r[0],B=r[1],l8=Math.min(D/h,B/j5);A.StartPage(0,0,D,B);s.ctm=[h*l8,0,0,j5*l8,(D-h*l8)/2,(B-j5*l8)/2];
A.PutImage(s,L?d:N,h,j5);A.ShowPage()}else{var aP=V.split("."),bS;aP.pop();aP.push(a.toLowerCase());
if(M.k2){if(v==null){v=hZ.Jy(V,O);v.To()}bS=M.gB(v,v.s,v.T,$,this.i)}else{var kR=[];for(var n=0;n<O.length;
n++){var j1=O[n],f6=j1.os,gx=0;if(f6){f6=f6.split(",");if(f6[1])gx=parseInt(f6[1])}kR.push([j1.data,gx,j1.do,j1.MX,null,j1.LN])}if(M.LB)bS=await M.gB(kR,h,j5,$);
else bS=M.gB(kR,h,j5,$)}U[aP.join(".")]=new Uint8Array(bS)}}if(this.id=="mockups"){c.De=H;c.$U=F;o.a0y(c.PP)}console.log(Date.now()-z);
if(this.id=="pdfpres"){A.Done();this.X7(A.buffer,"file.pdf")}else{var lC="images";if(this.id=="mockups")lC=o.name.slice(0,o.name.length-4);
if(this.Ob){for(var V in U)this.Ob[lC+"/"+V]=U[V];this.Aw++;if(this.Aw==this.caller.nk.length){this.X7(UZIP.encode(this.Ob),"images.zip");
this.Ob=null}else this.NP()}else this.X7(UZIP.encode(U),lC+".zip")}};bB.prototype.X7=function(z,q){this.ua.oR();
lA.event("auto_"+this.id);gC.save(z,q)};bB.prototype.N_=function(z,q,e,V){this.VY=z;this.caller=e};bB.prototype.K5=function(z,q){if(q!=null){this.i=z;
var e=z.$K,V=[];for(var n=0;n<e.length;n++)V.push(e[n].JJ);this.SP.jl(V)}else z=this.i;var e=z.$K.length==0?[]:z.$K[this.SP.r()].bX,V=[];
for(var n=0;n<e.length;n++)V.push(e[n].JJ);this.aM$.jl(V)};bB.prototype.W=function(){jz.prototype.W.call(this);
this.AN.W();this.EB._D("Max. "+iE.get([12,41])+":");this.wN._D("Max. "+iE.get([12,42])+":");this.aK.W();
this.adL.W();this.BO.W()};function bx(z){var q=ak.names[z];if(q==null)q=aM.names[z];if(z=="aply")q=[2,12];
if(z=="fade")q=[2,11];if(z=="matc")q=[4,18];if(z=="blendOptions")q=[14,10];jz.call(this,q,"afw_"+z);
this.gT=z;this.D4=null;this.a8O=null;this.aLT=!1;this.le=new e1[z];this.le.Q(_.E.f,this.SE,this);this.le.parent=this;
this.body.appendChild(this.le.$);this.WF=new iP([24,18,5]);this.WF.a(!0);this.WF.Q(_.E.f,this.SE,this);
this.auA=new ht([1,12,2],!0,null,!0);this.auA.Q("click",this.Gc,this);this.CO=J.Hy(this);if(this.Jl())this.le.RU(this.CO.$);
else{J.d6(this.le.$,"form");var e=this.uh=J.k("div","form");this.body.appendChild(e);e.appendChild(this.CO.$);
e.appendChild(this.auA.$);e.appendChild(this.WF.$)}this.Q("closebtn",this.DF,this)}bx.prototype=new jz;
bx.prototype.ay=function(){return!0};bx.prototype.Jl=function(){return this.le!=null&&this.le.eS()};
bx.prototype.SM=function(){return this.Jl()?new f5(0,0):jz.prototype.SM()};bx.prototype.Hp=function(z){return this.le.Hp(z)};
bx.prototype.sf=function(){return this.le.sf()};bx.prototype.Qy=function(z,q,e,V,P){this.le.Qy(z,q,e,V,P)};
bx.prototype.Sf=function(z,q,e,V,P){this.le.Sf(z,q,e,V,P)};bx.prototype.AM=function(z,q,e,V,P){this.le.AM(z,q,e,V,P)};
bx.prototype.h3=function(z,q){if(this.gT=="fade")return bx.a2E(z);return!0};bx.prototype.Gc=function(z){this.le.a(ak.g1(this.gT));
this.SE()};bx.prototype.SE=function(z){var q=this.le,e=q.r(),V=this.aLT?q.vA():0;if(V!=0)e.showClipping={t:"long",v:V};
this.ic({p:"edit",YY:e,mv:!this.WF.r()})};bx.prototype.DF=function(z){this.ic({p:"cancel"})};bx.prototype.En=function(z){if(!this.WF.r()){this.WF.a(!0);
this.SE()}this.a8O=this.le.r();if(this.Jl())this.SE();this.ic({p:"confirm"});this.close()};bx.prototype.W=function(){jz.prototype.W.call(this);
this.WF.W();if(this.le)this.le.W();this.CO.W()};bx.prototype.K5=function(z,q){if(this.le)this.le.K5(z,q)};
bx.prototype.gi=function(z,q,e,V){this.aLT=V.t(cz.mh);if(this.gT=="levl"||this.gT=="curv")this.SE();
if(this.Jl())this.le.gi(V);else jz.prototype.gi.call(this,z,q,e,V)};bx.prototype.N_=function(z,q,e,V){this.D4=q.D4;
var P=z.add.lnk2?z.add.lnk2:[],D,B,A=new kk(0,0,z.s,z.T),s=z.Z[z.j[0]],M=null;D=s.buffer;B=s.V;var a=z.h&&this.gT=="LqFy"&&q.D4==null;
if(a){B=z.h.V.Y();D=T.n(B.D()*4);T.aF(s.buffer,s.V,D,B)}if(this.Jl()){M=z.tW(z.j[0]-1);if(a){var $=T.n(B.D()*4);
T.aF(M,A,$,B);A=B.Y();M=$}}var U=ak.g1(this.gT);if(q.Sh)U=q.Sh;var o=[P,z.kv,z,e.nk];if(q.D4==null){this.le.a(U,D,B,A,M,o);
if(aM.names[this.gT]){if(V.t(cz.mh)&&this.a8O)this.le.a(this.a8O);var t=W.Jz.getData(z),c=T.Wy(t[0].Hm);
this.le.G2(c)}}else{var H=!1,s=z.Z[this.D4.H];if(s.LL()){var F=s.kL(z);D=F.buffer;B=F.V;var i=s.add.SoLd.filterFX.v.filterFXList.v;
if(i[this.D4.index]){var X=i[this.D4.index].v;this.le.a(this.gT=="blendOptions"?X.blendOptions.v:X.Fltr.v,D,B,A,M,o);
this.le.G2(T.Wy(D));H=!0}}if(!H){this.le.a(U,D,B,A,M,o);this.le.G2(T.Wy(D))}}if(!this.Jl()){this.SE();
var K=this.le;if(K&&K.Wt&&K.Wt[0]&&K.Wt[0].DU&&Math.min(window.innerWidth,window.innerHeight)>500)K.Wt[0].DU()}};
bx.prototype.ic=function(z){var q=new dW(_.E.z,!0);z.gT=this.gT;z.D4=this.D4;if(this.gT=="VaPo"){z.u=this.le.r();
z.Nm=this.le.aaO()}q.data=z;q.U=ak.names[this.gT]||this.D4?W.pa:W.j4;q.Hf=!0;this.K(q)};bx.prototype.hh=function(z,q){if(!this.le.eS()){var e="",V="width:312px",P="100%";
if(500<z){e+="width:8em; margin-left:1em;";J.d6(this.body,"flexrow")}else{e+="margin-top:1em";J.Pf(this.body,"flexrow");
P="100px"}this.CO.$.style.width=P;this.auA.$.style.width=P;J.C(this.uh,e);J.C(this.le.$,V)}else{this.body.style.padding="0";
this.le.hh(z,q)}};bx.a2E=function(z){if(z==null)return!1;var q=z.$p();if(q==null||!(q.data instanceof Array)||q.data.length!=z.j.length)return!1;
for(var n=0;n<q.data.length;n++){var e=q.data[n];if(e.H<0&&z.kv[-1-e.H])return!0;if(e.H==null||z.Z[e.H]==null||z.Z[e.H].oT!=e.Tn)return!1;
if(z.j.indexOf(e.H)==-1)return!1}return!0};function ba(){jz.call(this,[11,0],"camera");this.data=null;
this.aMK=new f5(1,1);this.aN5=[];var z=J.k("div","form hbar");this.body.appendChild(z);this.aqG=new cr(null,[]);
this.a2D=new cr([21,0],[[21,2],[21,1]]);z.appendChild(this.a2D.$);this.sL=new cr(null,[]);this.sL.Q(_.E.f,this.aJI,this);
z.appendChild(this.sL.$);this.abR=new ht([11,0],!1,null,!0);this.abR.Q("click",this.aPm,this);z.appendChild(this.abR.$);
this.aJX=new ij("");z.appendChild(this.aJX.$);this.stream=null;this.zI=J.k("video");this.zI.setAttribute("autoplay","true");
this.body.appendChild(this.zI);this.aM7=this.ax8.bind(this);this.aig=this.a6_.bind(this);this.ac3=this.ads.bind(this);
this.Q("closebtn",this.avV,this)}ba.prototype=new jz;ba.prototype.W=function(){jz.prototype.W.call(this);
this.a2D.W();this.abR.W();this.hh(this.xL,this.Hi)};ba.prototype.tW=function(){var z=this.zI.videoWidth,q=this.zI.videoHeight,e=J.k("canvas","");
e.width=z;e.height=q;var V=e.getContext("2d");V.drawImage(this.zI,0,0,z,q);var P=V.getImageData(0,0,z,q);
return{hp:new kk(0,0,z,q),data:P.data.buffer}};ba.prototype.aPm=function(z){if(this.a2D.r()==0)this.a8f();
else this.aJ7()};ba.prototype.aJ7=function(){var z=this.tW(),q={buffer:new Uint8Array(z.data),V:z.hp},e=new dW(_.E.z,!0);
e.Hf=!0;e.U=W.si;e.data={p:lK.ZZ,QS:q};this.K(e);alert(iE.get([21,4]))};ba.prototype.a8f=function(){var z=this.tW(),q=hZ.Jy("camera",[z]),e=new dW(_.E.b,!0);
e.data={p:_.m.Mk,Va:q};this.K(e);alert(iE.get([21,5]))};ba.prototype.N_=function(z,q,e){navigator.mediaDevices.enumerateDevices().then(this.ahy.bind(this))};
ba.prototype.ahy=function(z){var q=this.aN5=[],e=[];for(var n=0;n<z.length;n++)if(z[n].kind=="videoinput"){q.push(z[n]);
e.push("Camera "+q.length)}this.sL.jl(e);this.sL.a(0);this.aJI()};ba.prototype.aJI=function(z){this.avV();
var q={video:{deviceId:this.aN5[this.sL.r()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(q).then(this.aM7).catch(this.aig);
else navigator.webkitGetUserMedia(q,this.aM7,this.aig)};ba.prototype.ax8=function(z){this.stream=z;this.zI.srcObject=z;
this.zI.addEventListener("loadedmetadata",this.ac3,!1)};ba.prototype.ads=function(z){this.zI.play();
this.hh(this.xL,this.Hi)};ba.prototype.SM=function(z,q){return new f5(0,0)};ba.prototype.hh=function(z,q){var e=this.zI.videoWidth,V=this.zI.videoHeight;
this.aJX.a(e+" x "+V+" px");J.C(this.aJX.$,"position:absolute;  left:14px; bottom:10px; z-index:1;");
this.aMK.mX(e,V);this.xL=z;this.Hi=q;var P=z-28,D=q-28-30,B=this.aMK.x/this.aMK.y;if(P/D>B)P=D*B;else D=P/B;
J.C(this.zI,"display: block; width: "+Math.round(P)+"px; height:"+Math.round(D)+"px;")};ba.prototype.a6_=function(z){console.log("error",z);
alert(iE.get([21,6]));this.close()};ba.prototype.avV=function(z){if(this.stream!=null){var q=this.stream.getTracks();
for(var n=0;n<q.length;n++)q[n].stop();this.stream=null}};function gZ(){jz.call(this,[7,8],"crange");
this.VY=null;this.ci={eT:73,x6:4.45,c:4};this.Cg={eT:73,x6:4.45,c:4};this.body.style.width="20em";this.Dh=new cr([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.Dh.Q(_.E.f,this.Za,this);this.body.appendChild(this.Dh.$);this.tC=J.k("div","form");this.body.appendChild(this.tC);
var z=this._R=2,q=this._z=[new aJ([12,92],0,200),new eD([12,36],[[18,0],"\uFF0B","-"]),new aJ([12,92],0,100,"%"),new gO("Min",0,255),new gO("Max",0,255)];
q[0].a(40);q[z].a(40);for(var n=0;n<q.length;n++){q[n].Q(_.E.f,this.LE,this);q[n].parent=this}this.TX=J.k("canvas");
this.body.appendChild(this.TX);this.CO=J.Hy(this,this.body)}gZ.prototype=new jz;gZ.prototype.h3=function(z,q){return z!=null};
gZ.prototype.sf=function(){return!0};gZ.prototype.ay=function(){return!0};gZ.prototype.Za=function(z){var q=this.Dh.r(),e=this._z,V=this.tC,P=0,D=e.length,B=this._R;
if(q==0)D=B;else{P=B;e[P+1].a([0,100,190][q-1]);e[P+1]._w(q!=1);e[P+2].a([60,150,255][q-1]);e[P+2]._w(q!=3)}J._8(V);
for(var n=P;n<D;n++){V.appendChild(e[n].$)}this.LE()};gZ.prototype.W=function(){jz.prototype.W.call(this);
this.CO.W();this.Dh.W();for(var n=0;n<this._z.length;n++)this._z[n].W()};gZ.prototype.Qy=function(z,q,e,V,P){var D=z.A.UK(P.x,P.y);
this.adX(D.x,D.y)};gZ.prototype.adX=function(z,q){var e=Math.min,V=Math.max,P=this.VY,D=V(0,e(P.s-1,Math.floor(z))),B=V(0,e(P.T-1,Math.floor(q))),A=P.tW(),s=(B*P.s+D)*4,a=255/T.K8(P.depth),M=A[s],$=A[s+1],U=A[s+2],o=T.zw(M*a,$*a,U*a),t=this._z[1].r(),c=this.ci,H=this.Cg;
if(t==0){this.ci=T.G(o);this.Cg=o}else if(t==1){c.eT=e(c.eT,o.eT);c.x6=e(c.x6,o.x6);c.c=e(c.c,o.c);H.eT=V(H.eT,o.eT);
H.x6=V(H.x6,o.x6);H.c=V(H.c,o.c)}else if(t==2){var F=(c.eT+H.eT)/2,i=(c.x6+H.x6)/2,X=(c.c+H.c)/2;if(o.eT<F)c.eT=V(c.eT,o.eT+10);
else H.eT=e(H.eT,o.eT-10);if(o.x6<i)c.x6=V(c.x6,o.x6+1);else H.x6=e(H.x6,o.x6-1);if(o.c<X)c.c=V(c.c,o.c+1);
else H.c=e(H.c,o.c-1)}this.LE()};gZ.prototype.En=function(z){var q=this.Dh.r(),e=this._z,V={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(q==0){var P=this.ci,D=this.Cg;V.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:P.eT},A:{t:"doub",v:P.x6},B:{t:"doub",v:P.c}}};
V.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:D.eT},A:{t:"doub",v:D.x6},B:{t:"doub",v:D.c}}};V.Fzns={t:"long",v:e[0].r()}}else{q--;
var B=["shadows","midtones","highlights"][q];V.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][q]}};if(0<q)V[B+"LowerLimit"]={t:"long",v:e[3].r()};
if(q<2)V[B+"UpperLimit"]={t:"long",v:e[4].r()};V[B+"Fuzziness"]={t:"long",v:e[2].r()}}this.close();var A=new dW(_.E.zN,!0);
A.data={gQ:"colorRange",cj:V};this.K(A)};gZ.prototype.N_=function(z,q){this.VY=z;this.adX(0,0);this.Za()};
gZ.prototype.LE=function(){var z=this.VY,q=this.Dh.r(),e=this.ci,V=this.Cg,P=this._z,D=P[0].r()/200,B=!1;
if(q>0){e=P[3].r();V=P[4].r();if(e>=V)e=V-1;B=!0;D=P[2].r()/100}var A=W.cn.Dr(z,e,V,D,B),s=A.V,a=A.o,M=this.TX,$=M.getContext("2d"),U=Math.floor(230*J.WU()),o=Math.floor(U*(s.T/s.s));
M.width=U;M.height=o;J.Ux(M,U,o);var t=T.n(a.length*4);t.fill(255);T.A$(T.EZ(a,8),t,n);var c=W.On.tU([t,s],new e5(U/s.s,0,0,o/s.T,0,0)),H=c.V,F=new ImageData(new Uint8ClampedArray(c.buffer.buffer),H.s,H.T);
$.putImageData(F,0,0)};function g8(){jz.call(this,[12,76,1],"createshape");this.WA=null;var z=J.k("div","form");
J.C(z,"width:20em");this.body.appendChild(z);this.Gr=new aC(!0,!0,null,!0,!0);this.Gr.a(new f5(100,100));
z.appendChild(this.Gr.$);this.a6t=new iP([19,5,3]);z.appendChild(this.a6t.$);this.CO=J.Hy(this,z)}g8.prototype=new jz;
g8.prototype.En=function(z){var q=this.Gr.r();this.WA.aFD(this.WA.aLD,q.x,q.y,this.a6t.r());this.close()};
g8.prototype.W=function(){if(this.WA)this.Fv=iE.get([5,3])+": "+iE.get(this.WA.aHA);jz.prototype.W.call(this);
this.CO.W();this.Gr.W();this.a6t.W()};g8.prototype.N_=function(z,q){this.WA=q;this.W();this.Gr.a(this.Gr.r(),z.do)};
function bl(){jz.call(this,[11,1],"colorpicker");this.ts=null;this.fe=null;this.AD=null;this.xc=!1;this.Bz=!1;
this.acj=[.9642,1,.8249];var z=J.k("div","flexrow"),B,A;this.body.appendChild(z);this.ES=new aa(256,!0);
this.ES.Q(_.E.f,this.Ge,this);z.appendChild(this.ES.$);var q=J.k("div","form");J.C(q,"width:14.5em; margin-left:1em;");
z.appendChild(q);var e=J.k("div","flexrow");q.appendChild(e);var V=J.k("div");e.appendChild(V);V.style="width:95px; margin-right:14px";
this.afW=J.k("div","full");V.appendChild(this.afW);this.aep=J.k("div","full");V.appendChild(this.aep);
var V=J.k("col");e.appendChild(V);V.style.width="80px";this.CO=J.Hy(this,V);this.aiR=new ht("Add Swatch",!0,null,!0);
V.appendChild(this.aiR.$);this.aiR.Q("click",this.amX,this);var e=J.k("div","flexrow");q.appendChild(e);
var P=J.k("div"),D=J.k("div");e.appendChild(P);e.appendChild(D);P.style=D.style="margin-left:14px; max-width:80px;";
B=["H","S","B"];A=P;this.Wf=[];for(var n=0;n<3;n++){var s=0,a=360,M="\xB0";if(n!=0){a=100;M="%"}var $=new gO(B[n],s,a,M,0,!1,!0);
this.Wf.push($);$.Q(_.E.f,this.a27,this);A.appendChild($.$);if(n==2)$.$.style.marginBottom="8px"}B=["R","G","B"];
A=P;this.n_=[];for(var n=0;n<3;n++){var $=new gO(B[n],0,255,null,0,!1,!0);this.n_.push($);$.Q(_.E.f,this.aPt,this);
A.appendChild($.$)}B=["L","a","b"];A=D;this.lB=[];for(var n=0;n<3;n++){var s=[0,-128,-128][n],a=[100,127,127][n],$=new gO(B[n],s,a,null,0,!1,!0);
$.a(0);this.lB.push($);$.Q(_.E.f,this.aio,this);A.appendChild($.$);if(n==2)$.$.style.marginBottom="8px"}B=["C","M","Y","K"];
A=D;this.JP=[];for(var n=0;n<4;n++){var $=new gO(B[n],0,100,"%",0,!1,!0);$.a(0);this.JP.push($);$.Q(_.E.f,this.ak4,this);
A.appendChild($.$);if(n==3)$.$.style.marginBottom="8px"}this.Ok=new eE("#",null,4.5);this.Ok.Q(_.E.f,this.JO,this);
P.appendChild(this.Ok.$);this.Ok.$.style.marginRight="0";this.JG=J.k("input","fitem");this.JG.setAttribute("type","color");
J.C(this.JG,"width:59px;  margin-left:19px;");this.JG.addEventListener("change",this.JO.bind(this),!1);
this.J9=new iK(9);this.J9.Q(_.E.f,this.JO,this);q.appendChild(this.J9.$);this.Q("closebtn",this.DF,this);
this.TC=!1}bl.prototype=new jz;bl.prototype.sf=function(){return!0};bl.prototype.amX=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.Qp,rF:dJ.Qf.a3j};this.K(q);var e=this.fe;fs.NS.aE7({l:e.l*255,I:e.I*255,c:e.c*255})};bl.prototype.SM=function(z,q){if(Math.min(z,q)>500)return null;
return new f5(Math.max(0,Math.min(150,(z-484)/2)),Math.max(0,Math.min(150,(q-316)/2)))};bl.prototype.hh=function(z,q){this.ES.hh(Math.min(256,z-226),q)};
bl.prototype.W=function(z,q){jz.prototype.W.call(this);for(var n=0;n<3;n++){this.n_[n].W();this.Wf[n].W();
this.lB[n].W()}for(var n=0;n<4;n++)this.JP[n].W();this.CO.W()};bl.prototype.Ge=function(z){this.fe=this.ES.r();
this.update()};bl.prototype.Qy=function(z,q,e,V,P){this.TC=!0;this.awO(z,P)};bl.prototype.Sf=function(z,q,e,V,P){if(!this.TC)return;
this.awO(z,P)};bl.prototype.AM=function(z,q,e,V,P){this.TC=!1};bl.prototype.awO=function(z,q){this.fe=T.H_(W.SB.Z9(z,q,1),1);
this.update()};bl.prototype.aPt=function(z){var q=this.n_,e=this.hO(parseInt(q[0].r())),V=this.hO(parseInt(q[1].r())),P=this.hO(parseInt(q[2].r()));
this.fe={l:e/255,I:V/255,c:P/255};this.update()};bl.prototype.a27=function(z){var q=this.Wf,e=this.XV(parseInt(q[0].r())/360),V=this.XV(parseInt(q[1].r())/100),P=this.XV(parseInt(q[2].r())/100);
this.fe=T.mj(e,V,P);this.update()};bl.prototype.ak4=function(z){var q=this.JP,e=[];for(var n=0;n<4;n++){var V=this.a0J(parseInt(q[n].r()));
q[n].a(V);e.push(V/100)}var P=T.DQ(e);this.fe={l:P[0],I:P[1],c:P[2]};this.update(!0)};bl.prototype.aio=function(z){var q=this.lB,e=parseInt(q[0].r()),V=parseInt(q[1].r()),P=parseInt(q[2].r()),D=T.Ka(e,V,P);
this.fe={l:D.l/255,I:D.I/255,c:D.c/255};this.update()};bl.prototype.JO=function(z){var q;if(z.currentTarget==this.J9)q=this.J9.r();
else{q=z.currentTarget==this.Ok?this.Ok.r():this.JG.value;if(q.charAt(0)=="#")q=q.slice(1);if(q.length==3)q=q[0]+q[0]+q[1]+q[1]+q[2]+q[2];
q=T.aGx(q)}this.fe=T.H_(q,1);this.update()};bl.prototype.En=function(z){this.close();this.aiW();var q=T.RC(this.fe,1);
this.J9.a(q);this.AD(q);this.Bz=!1;this.fe=null};bl.prototype.DF=function(z){this.aiW();if(this.xc)this.AD(T.RC(this.ts,1));
this.Bz=!1;this.fe=null};bl.prototype.aiW=function(z){var q=new dW(_.E.b,!0);q.data={p:_.m.at1};this.K(q)};
bl.prototype.K5=function(z,q){var e=fs.DY(z,q);if(e!=null)this.J9.a(e);if(q!=cR.RV)return;this.J9.a(e);
if(this.fe!=null){this.fe=T.H_(e,1);this.update()}};bl.prototype.N_=function(z,q){var e=T.H_(q.go,1);
if(this.fe==null){var V=new dW(_.E.b,!0);V.data={p:_.m.XL,ia:"crosshair",push:!0};this.K(V);this.TC=!1;
this.AD=q.QW;this.xc=!1;this.Bz=q.fU;this.ts=T.G(e);J.C(this.aep,"height:2.3em;background-color:#"+T.R0(q.go)+";")}this.fe=e;
this.update()};bl.prototype.update=function(z){var q=this.fe,e=T.RC(q,1);this.Ok.a(T.R0(e));this.JG.value="#"+T.R0(e);
J.C(this.afW,"height:2.3em;background-color:#"+T.R0(e)+";");var V=this.n_;V[0].a(Math.round(q.l*255));
V[1].a(Math.round(q.I*255));V[2].a(Math.round(q.c*255));var P=T.Pw(q.l,q.I,q.c);V=this.Wf;var D=Math.round(P.Hi*360);
if(D==0&&V[0].r()==360){}else V[0].a(D);V[1].a(Math.round(P.fY*100));V[2].a(Math.round(P.YY*100));var B=T.zw(q.l*255,q.I*255,q.c*255,this.acj);
V=this.lB;V[0].a(Math.round(B.eT));V[1].a(Math.round(B.x6));V[2].a(Math.round(B.c));if(z==null){var A=T.VB([q.l,q.I,q.c]);
V=this.JP;V[0].a(Math.round(A[0]*100));V[1].a(Math.round(A[1]*100));V[2].a(Math.round(A[2]*100));V[3].a(Math.round(A[3]*100))}this.ES.a(q);
if(this.Bz){this.AD(T.RC(this.fe,1));this.xc=!0}};bl.prototype.a0J=function(z){return Math.max(0,Math.min(100,z))};
bl.prototype.hO=function(z){return Math.max(0,Math.min(255,z))};bl.prototype.XV=function(z){return Math.max(0,Math.min(1,z))};
function bh(){jz.call(this,[11,2],"contoureditor");this.a6D=null;this.z7=null;this.response=null;this.tF=J.k("div","cell");
this.body.appendChild(this.tF);this.C9=J.k("div","cell padded");this.body.appendChild(this.C9);var z=J.k("div","bordered padded vmargin");
this.tF.appendChild(z);this.le=new ie(null,null,!0);this.le.Q(_.E.f,this.Ud,this);z.appendChild(this.le.$);
this.CO=J.Hy(this,this.C9);this.Q("closebtn",this.oC,this)}bh.prototype=new jz;bh.prototype.En=function(){this.close()};
bh.prototype.W=function(){jz.prototype.W.call(this);this.CO.W();this.le.W()};bh.prototype.Ud=function(z){this.z7.Crv.v=this.le.r();
this.response(this.z7)};bh.prototype.oC=function(z){this.response(this.a6D)};bh.prototype.N_=function(z,q){this.a6D=T.G(q.bX);
this.z7=q.bX;this.response=q.response;this.le.a(this.z7.Crv.v)};function eq(){jz.call(this,[11,4],"duplinto");
this.Va=null;this.caller=null;this.Ek=null;var z=J.k("div","form");J.C(z,"max-width:26em");this.body.appendChild(z);
this.i$=new cr([12,43],["abc","def"]);this.i$.Q(_.E.f,this.GT,this);z.appendChild(this.i$.$);J.f9(z);
this.kH=new cr([1,16,0],["abc","def"]);this.kH.Q(_.E.f,this.GT,this);z.appendChild(this.kH.$);J.f9(z);
this.W1=new eE([12,48],null,14);z.appendChild(this.W1.$);this.CO=J.Hy(this,z)}eq.prototype=new jz;eq.prototype.ay=function(){return!0};
eq.prototype.W=function(){jz.prototype.W.call(this);this.CO.W();this.i$.W();this.W1.W()};eq.prototype.GT=function(z){if(z&&z.target==this.kH)return;
var q=this.caller.nk,e=this.i$.r(),V=q[e],P=this.Va,D=V!=null&&V.add.artd!=null;for(var n=0;n<P.j.length;
n++)if(P.Z[P.j[n]].add.artb)D=!1;this.W1._w(e==q.length);this.kH._w(D);if(D){var B=V.root.children,A=[],s=this.Ek=[];
for(var n=0;n<B.length;n++){var a=B[n].H;if(a.add.artb)A.push(a.getName());s.push(B[n].index)}this.kH.jl(A);
this.kH.a(0)}else this.Ek=null};eq.prototype.N_=function(z,q,e){this.Va=z;this.caller=e;var V=e.nk;this.W1.a(z.j.length==0?"Layer":z.Z[z.j[0]].getName());
var P=[];for(var n=0;n<V.length;n++){var D=V[n].name;P.push(D.length<30?D:D.slice(0,27)+"...")}P.push([11,7]);
this.i$.jl(P);this.i$.a(V.indexOf(z));this.GT(null)};eq.prototype.En=function(z){var q=this.caller.nk,e=this.i$.r();
if(e==q.length){var V=new hq(this.W1.r()+".psd"),P=this.Va.s,D=this.Va.T,B=this.Va.PM();if(B!=-1){var A=this.Va.Z[B].Le();
P=A.s;D=A.T}V.s=P;V.T=D;V.buffer=T.n(V.s*V.T*4);var s=V.OJ();s.up("Background");V.l_([s]);var a=new dW(_.E.b,!0);
a.Hf=!0;a.data={p:_.m.Mk,Va:V};this.K(a)}var M=this.Va._i(null,this.Va!=q[e]),a=new dW(_.E.z,!0);a.data={p:lK.vU,Z:M,Jp:this.Va,ME:q[e]};
if(this.Ek)a.data.vf=this.Ek[this.kH.r()];else a.data.aq8=!0;a.U=W.si;a.Hf=!0;this.K(a);this.close()};
function a9(){jz.call(this,[1,9],"eassets");this.i=null;this.Va=null;var z=this.body;J.d6(z,"form");
z.style.width="32em";this.Dh=new eD(null,["Layers","Combinations"]);this.Dh.Q(_.E.f,this.sE,this);z.appendChild(this.Dh.$);
J.dh(z);this.MN=J.k("span");z.appendChild(this.MN);this.Fq=J.k("div");z.appendChild(this.Fq);var q=J.k("div"),e=J.k("div","flexrow");
this.aFR=[q,e];this.JE=[new iP("Only layers / folders, whose name starts with \"-e-\""),new iP("Remove parts outside the canvas"),new iP("Trim transparent parts")];
for(var n=0;n<3;n++){var V=this.JE[n];V.a(!0);V.Q(_.E.f,this.sE,this);q.appendChild(V.$);J.f9(q)}this.Rw=new db([12,14,0],["1x","2x","3x","4x"]);
this.Rw.a([!0,!1,!1,!1]);q.appendChild(this.Rw.$);var P=J.k("div");e.appendChild(P);var D=J.k("img");
D.setAttribute("src",lA.A6("img/nft.png"));D.style.width="150px";e.appendChild(D);var B=J.k("span");
B.textContent="File Names:";P.appendChild(B);this.eE=new db(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
P.appendChild(this.eE.$);this.eE.a([!0,!1,!1]);J.dh(z);this.aB3=["PNG","JPG","SVG","TIFF","TGA"];this.S5=new cr([12,50],this.aB3);
this.S5.Q(_.E.f,this.vq,this);z.appendChild(this.S5.$);this.AN=new hk;z.appendChild(this.AN.$);this.CO=new ht([1,9],!0,null,!0);
this.CO.Q("click",this.En,this);z.appendChild(this.CO.$);this.Q("closebtn",this.hy,this)}a9.prototype=new jz;
a9.prototype.vq=function(z){this.AN._5(this.aB3[this.S5.r()],!1,!1,!1,this.Va.qh()!=null)};a9.prototype.hy=function(z){this.Va=null};
a9.prototype.W=function(){jz.prototype.W.call(this);this.S5.W();this.Rw.W();this.CO.W();this.AN.W()};
a9.prototype.N_=function(z,q,e){this.Va=z;this.sE()};a9.prototype.sE=function(z){var q=this.Dh.r(),e;
J._8(this.Fq);this.Fq.appendChild(this.aFR[q]);if(q==0){var V=this.aFE();e=V.length+" exportable layers"}else{var V=this.a4N();
e=V[1]+" combinations ("+V[0].join(" \xD7 ")+")"}this.MN.textContent="- - - "+e;this.vq(null)};a9.prototype.aFE=function(){var z=this.JE[0].r(),q=[],e=this.Va;
for(var n=0;n<e.Z.length;n++){var V=e.Z[n],P=V.getName();if(!z&&!V.YZ()&&!V.V.a8()||P.startsWith("-e"))q.push(n)}return q};
a9.prototype.a4N=function(){var z=this.Va,q=z.root.children,e=[],V=1,P=[];for(var n=0;n<q.length;n++){var D=q[n],B=D.H;
if(B.YZ()){var A=D.children.length;e.push(A);V*=A;P.push(D.index)}B}return[e,V,P]};a9.prototype.K5=function(z,q){this.i=z};
a9.prototype.En=function(z){var q=this.Va,e=this.Dh.r(),V=[this.aB3[this.S5.r()]],P=[this.AN.r()],D={};
if(e==0){var B=this.Rw.r(),A={},s=this.aFE();if(s.length==0){alert("No layers to export.");return}var a=[this.JE[1].r(),this.JE[2].r()];
for(var n=0;n<s.length;n++){var M=s[n],$=q.Z[M],U=$.getName();U=U.replace(/\//g,"-");if(A[U]!=null){A[U]++;
U+=" "+A[U]}else A[U]=1;var o=$.Sw();$.Bm(!0);for(var t=0;t<B.length;t++){if(!B[t])continue;var c=t+1,H=W.DL.aaa(q,V,c,this.i,M,P,a);
for(var F=0;F<V.length;F++){var i=V[F],X=U.slice(U.startsWith("-e-")?3:0)+(c==1?"":"@"+c+"x")+"."+i.toLowerCase();
if(H[F])D[X]=new Uint8Array(H[F])}}$.Bm(o)}}else{var o=[];for(var n=0;n<q.Z.length;n++)o.push(q.Z[n].Sw());
var K=this.a4N(),f=K[0],s=K[2],d=[];function L(x,M,O,v){if(M==x.length){v.push(O.slice(0));return}var C=x[M];
for(var n=0;n<C;n++){O.push(n);L(x,M+1,O,v);O.pop(n)}}L(f,0,[],d);var G=this.eE.r().indexOf(!0);this.OY=[d,D,s,V,P,o,G,this.atW.bind(this),0,0];
this.atW();return}this.X7(D,q.name)};a9.prototype.atW=function(){var z=this.OY,q=z[0],e=z[1],V=this.Va,P=z[2],D=z[3],B=z[4],A=z[5],s=z[6],a=z[7],M=0;
while(q.length!=0&&M<1e3){var $=Date.now(),U=q.shift(),o=[];for(var n=0;n<U.length;n++){var t=V.root.G6(P[n]);
for(var c=0;c<t.children.length;c++)t.children[c].H.Bm(!1);var H=t.children[U[n]].H;o.push(s==2?H.getName():t.H.getName()+U[n]);
H.Bm(!0)}V.Kv();V.n9();var F=(s==0?U:o).join("-")+"."+D[0].toLowerCase();e[F]=new Uint8Array(hZ.zK(V,D[0],V.s,V.T,B[0],this.i));
z[8]++;z[9]+=e[F].length;M+=Date.now()-$}if(q.length!=0){alert(z[8]+" done, "+c2._M(z[9])+".",800);setTimeout(a,35);
return}for(var n=0;n<V.Z.length;n++)V.Z[n].Bm(A[n]);V.Kv();this.X7(e,V.name)};a9.prototype.X7=function(z,q){var e=UZIP.encode(z),V=new dW(_.E.b,!0);
V.data={p:_.m.RB,data:e,name:q.split(".")[0]+".zip"};this.K(V)};function e6(){jz.call(this,"Export Color Lookup Tables","exlut");
this.i=null;this.Va=null;var z=J.k("div","form");J.C(z,"width:20em");this.body.appendChild(z);this.JE=[new gO("Grid Points",1,256),new eD([12,50],[".CUBE"])];
var q=[16,0];for(var n=0;n<this.JE.length;n++){var e=this.JE[n];e.a(q[n]);e.parent=this;e.Q(_.E.f,this.sE,this);
z.appendChild(e.$);J.f9(z)}this.CO=J.Hy(this,z);this.Q("closebtn",this.hy,this)}e6.prototype=new jz;
e6.prototype.h3=function(z,q){if(Math.min(z.s,z.T)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(z.Z.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};e6.prototype.hy=function(z){this.Va=null};e6.prototype.K5=function(z,q){this.i=z};
e6.prototype.N_=function(z,q,e){this.Va=z};e6.prototype.En=function(){var z=this.Va,q=this.JE[0].r(),e=[],V=new kk(0,0,z.s,z.T),P=T.n(q*q*4),D=P.slice(0),B=new kk(z.s-q>>>1,z.T-q>>>1,q,q),A=z.Z[0],s=A.buffer,a=A.V;
A.V=B;A.buffer=P;for(var M=0;M<q;M++){this.ab_(q,M,P);A.Kv(B);z.Kv(B);var $=z.tW();T.aF($,V,D,B);for(var U=0;
U<q;U++)for(var o=0;o<q;o++){var t=U*q+o<<2;e.push(D[t]/255,D[t+1]/255,D[t+2]/255)}}var c=k2.asL(e,q,z.name);
gC.save(c,z.name.split(".")[0]+".CUBE");A.buffer=s;A.V=a;A.Kv();z.Kv()};e6.prototype.ab_=function(z,q,e){var V=255/(z-1),P=Math.round(q*V);
for(var D=0;D<z;D++)for(var B=0;B<z;B++){var A=D*z+B<<2;e[A]=Math.round(B*V);e[A+1]=Math.round(D*V);
e[A+2]=P;e[A+3]=255}};e6.prototype.W=function(){jz.prototype.W.call(this);for(var n=0;n<this.JE.length;
n++)this.JE[n].W();this.CO.W()};function et(){jz.call(this,[1,14],"finfo");this.a0R=null;this.D5=null;
this.aBj=null;this.lv=J.k("div","form scrollable label12");J.C(this.lv,"width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.lv);var z=J.k("div","form");this.body.appendChild(z);this.zf=new cr(null,["Hello"]);
z.appendChild(this.zf.$);this.aj3=new ht("Add Parameter",!1,null,!0);z.appendChild(this.aj3.$);this.aj3.Q("click",this.yI,this);
this.vP=new ht("=== S A V E ===",!1,null,!0);z.appendChild(this.vP.$);this.vP.Q("click",this.X7,this);
this.ahC=""}et.prototype=new jz;et.prototype.SM=function(z,q){return z<450||q<450?new f5(0,0):new f5(150,100)};
et.prototype.yI=function(z){if(this.aBj.length==0)return;var q=this.aBj[this.zf.r()],e=this.gP();e[q]=lE.By[q][0];
this.$h(e);this.D5[q].$.scrollIntoView();this.D5[q].DU()};et.prototype.bg=function(z){var q=this.gP();
delete q[z.currentTarget.aI4];this.$h(q)};et.prototype.X7=function(z){var q=this.gP(),e=this.a0R,V=!0;
for(var P in e)if(JSON.stringify(e[P])!=JSON.stringify(q[P]))V=!1;for(var P in q)if(JSON.stringify(e[P])!=JSON.stringify(q[P]))V=!1;
if(V)return;var D=new dW(_.E.z,!0);D.U=W.si;D.data={p:lK.E8,LK:q};this.K(D);this.a0R=q;this.$h(q);alert("Metadata saved!")};
et.aD$=function(z){function q(P){var D=P.toLowerCase();return P==D}var e=z.split(":").pop();for(var V=1;
V<e.length-1;V++){if(e[V]==e[V].toUpperCase()&&(q(e[V+1])||q(e[V-1]))){e=e.slice(0,V)+" "+e.slice(V);
V++}}return e};et.prototype.N_=function(z,q){this.a0R=z.MX;this.$h(z.MX)};et.prototype.$h=function(z){var q=this.lv,P=0;
J._8(q);var e=this.D5={},V=["tiff","exif","exif:GPS"],D=this.aBj=[],B=[];for(var A in lE.By){var s=et.aD$(A),a=0,M=15,$=null;
if(z[A]==null){if(lE.By[A].length!=1||A=="photoshop:Credit"||A=="photoshop:Source"){D.push(A);B.push(s)}continue}for(var n=0;
n<V.length;n++)if(A.startsWith(V[n]))a=n;if(a!=P){J.dh(q);P=a}if(A=="tiff:ImageDescription"||A=="dc:Keywords"){M=18.5;
$=3}var U=new eE(s,null,M,$);e[A]=U;var o=z[A];if(o instanceof Array)o=o[1]==0?"---":o[0]+"/"+o[1];var t=new ht("\u2716",null,iE.get([5,4]));
q.appendChild(t.$);t.Q("click",this.bg,this);t.aI4=A;U.a(o);q.appendChild(U.$);J.f9(q);if(A=="exif:GPSLongitude"&&z["exif:GPSLatitude"]){this.ahC=et.aa5(z["exif:GPSLatitude"])+","+et.aa5(z["exif:GPSLongitude"]);
var c=new ht("Show on map",!1,null,!0);q.appendChild(c.$);J.f9(q);c.Q("click",this.agh,this)}}this.zf.jl(B);
this.zf.a(0)};et.prototype.gP=function(){var z=this.D5,q=lE.By,e={};for(var V in q){var P=q[V][0],D=typeof P;
if(P==null||z[V]==null)continue;var B=z[V].r(),A="The value of \""+et.aD$(V)+"\" must ";if(D=="number"){B=parseFloat(B);
if(isNaN(B)){alert(A+"be a number.");B=P}}else if(P instanceof Array&&P.length==2){if(B.indexOf("/")==-1){alert(A+"be a fraction.");
B=P.slice(0)}else{B=B.split("/").map(parseFloat);if(isNaN(B[0])||isNaN(B[1])){B=P.slice(0)}}}e[V]=B}return e};
et.aa5=function(z){var q=z.length,e=z.slice(0,q-1).split(",").map(parseFloat),V=z.slice(q-1),P=e[0]+e[1]/60+e[2]/3600;
if(V!="N"&&V!="E")P=-P;return P};et.prototype.agh=function(z){window.open("https://maps.google.com?q="+this.ahC,"Map")};
function g7(){jz.call(this,[11,5],"gradienteditor");this.ts=null;this.fe=null;this.i=null;this.AD=null;
this.xc=!1;this.Bz=!1;this.Ha=null;this.dA=null;this.z3=-1;this.xG=-1;this.i3=0;this.Yk=this._s.bind(this);
this.EQ=this.in.bind(this);this.TX=J.k("canvas");this.YI=this.TX.getContext("2d");J.C(this.TX,"display:block");
this.O2=null;J.sB(this.TX);J.Br(this.TX,this.tY.bind(this));this.py=J.k("div","form");this.fx=J.k("div");
this._Y=J.k("div","form");this.ao=J.k("div");this.Lr=new cr([12,44],[[15,10,0],[24,6]]);this.Lr.Q(_.E.f,this.m_,this);
this.body.appendChild(this.Lr.$);J.dh(this.body);var z=this.py;this.bp=new gO([19,3,3],0,100,"%");this.bp.Q(_.E.f,this.m_,this);
this.bp.parent=this;z.appendChild(this.bp.$);J.f9(z);this.a0g=new ij([12,0]);z.appendChild(this.a0g.$);
this.qR=J.k("div","bordered padded noalign");z.appendChild(this.qR);this.Ws=new gO([12,0],0,100,"%");
this.Ws.parent=this;this.Ws.Q(_.E.f,this.m_,this);this.qR.appendChild(this.Ws.$);this.bt=new gO([12,40],0,100,"%");
this.bt.parent=this;this.bt.Q(_.E.f,this.m_,this);this.qR.appendChild(this.bt.$);this.i1=new ht([5,4],!1,null,!0);
this.i1.Q("click",this.a8X,this);this.qR.appendChild(this.i1.$);z.appendChild(this.fx);this.aOH=new ij([13,0]);
z.appendChild(this.aOH.$);this.L9=J.k("div","bordered padded noalign");z.appendChild(this.L9);this.dH=new cr([12,44],[[12,45],[12,46],[12,47]]);
this.dH.Q(_.E.f,this.m_,this);this.L9.appendChild(this.dH.$);this.w2=new l0(!0);this.w2.parent=this;
this.w2.Q(_.E.f,this.m_,this);this.L9.appendChild(this.w2.$);this.aO=new gO([12,40],0,100,"%");this.aO.parent=this;
this.aO.Q(_.E.f,this.m_,this);this.L9.appendChild(this.aO.$);this.St=new ht([5,4],!1,null,!0);this.St.Q("click",this.aOP,this);
this.L9.appendChild(this.St.$);var z=this._Y;this.o4=new gO("Roughness",0,100,"%");this.o4.Q(_.E.f,this.m_,this);
this.o4.parent=this;z.appendChild(this.o4.$);z.appendChild(this.ao);this.z4=new ht([25,1,2],!1,null,!0);
this.z4.Q("click",this.m_,this);z.appendChild(this.z4.$);this.CO=J.Hy(this);this.Q("closebtn",this.DF,this)}g7.prototype=new jz;
g7.prototype.DF=function(z){if(this.xc)this.AD(this.ts);this.AD=null;this.Bz=!1};g7.prototype.W=function(){jz.prototype.W.call(this);
this.CO.W();this.bp.W();this.a0g.W();this.aOH.W();this.i1.W();this.St.W();this.Ws.W();this.bt.W();this.dH.W();
this.aO.W();this.z4.W()};g7.prototype.K5=function(z,q){this.i=z;if(q==cR.RV)this.zk()};g7.prototype.N_=function(z,q){this.fe=T.G(q.Yf);
this.ts=T.G(q.Yf);this.Ha=this.dA=null;this.AD=q.QW;this.xc=!1;this.Bz=q.fU;this.zk();this.y2()};g7.prototype.En=function(z){var q=this.fe;
this.AD(q);this.close();this.AD=null;this.Bz=!1};g7.prototype.Hp=function(z){return z==cz.Dv||z==cz.QI};
g7.prototype.gi=function(z,q,e,V){if(V.t(cz.Dv)||V.t(cz.QI)){if(this.dA)this.a8X();if(this.Ha)this.aOP()}};
g7.prototype.a8X=function(z){var q=this.fe.Trns.v;if(this.dA==null||q.length==1)return;q.splice(q.indexOf(this.dA),1);
this.dA=null;this.zk();this.y2()};g7.prototype.aOP=function(z){var q=this.fe.Clrs.v;if(this.Ha==null||q.length==1)return;
q.splice(q.indexOf(this.Ha),1);this.Ha=null;this.zk();this.y2()};g7.prototype.zk=function(){var z=this.TX,q=this.YI;
if(this.fe==null)return;var e=J.WU();z.width=Math.floor(410*e);z.height=Math.floor(70*e);J.Ux(z,z.width,z.height);
z.style.marginTop="8px";this.O2=new kk(0,0,Math.floor(380*e),Math.floor(32*e));this.O2.x=Math.floor((z.width-this.O2.s)/2);
this.O2.y=Math.floor((z.height-this.O2.T)/2);var V=this.O2,P=V.s,D=V.T,B=V.x,A=V.y,s=new kk(0,0,P,D),a=q.getImageData(0,0,P,D),M=new Uint8Array(a.data.buffer);
T.w$(M,P,D,8);var $=T.n(P*D*4);T.Yf.dQ(this.fe,$,s,[1/P,0,0,1/D],P/2,D/2,!1,0,this.i.pQ,this.i.Cp);T.w.Mt("norm",$,V,M,V,V,1);
q.clearRect(0,0,z.width,z.height);q.putImageData(a,B,A);var U=this.fe;if(U.Clrs){var o=U.Trns.v,t=U.Clrs.v,c=T.Yf.amN(U,this.i.pQ,this.i.Cp),H=Math.round(6*J.WU()),F=Math.round(14*J.WU()),i=this.dA?this.dA.v:null,X=this.Ha?this.Ha.v:null;
for(var n=0;n<o.length;n++){var K=o[n].v,f=Math.round(255-255*K.Opct.v.val/100);if((K==i||o[n-1]&&o[n-1].v==i||n==this.xG)&&n!=0){q.fillStyle="#000000";
q.fillRect(B-3+P*(o[n-1].v.Lctn.v+(K.Lctn.v-o[n-1].v.Lctn.v)*K.Mdpn.v/100)/4096,A-6-2,6,6)}if(K==i){q.fillStyle="#ffffff";
q.fillRect(B-H+P*(K.Lctn.v/4096)-2,A-2-F-2,2*H+4,F+4)}q.fillStyle="rgb("+f+","+f+","+f+")";q.fillRect(B-H+P*(K.Lctn.v/4096),A-2-F,2*H,F)}for(var n=0;
n<t.length;n++){var d=t[n].v,L=c[0][n][0];if((d==X||t[n-1]&&t[n-1].v==X||n==this.z3)&&n!=0){q.fillStyle="#000000";
q.fillRect(B-3+P*(t[n-1].v.Lctn.v+(d.Lctn.v-t[n-1].v.Lctn.v)*d.Mdpn.v/100)/4096,A+D+2,6,6)}if(d==X){q.fillStyle="#ffffff";
q.fillRect(B-H+P*(d.Lctn.v/4096)-2,A+D+2-2,2*H+4,F+4)}q.fillStyle="rgb("+Math.round(L.l)+", "+Math.round(L.I)+","+Math.round(L.c)+")";
q.fillRect(B-H+P*(d.Lctn.v/4096),A+D+2,2*H,F)}}if(this.Bz){this.AD(this.fe);this.xc=!0}};g7.prototype.y2=function(){var z=this.fe,q=z.Clrs?0:1;
this.Lr.a(q);if(J.H2(this.py))this.body.removeChild(this.py);if(J.H2(this._Y))this.body.removeChild(this._Y);
(q==0?this.fx:this.ao).appendChild(this.TX);if(q==0){this.body.appendChild(this.py);this.bp.a(Math.round(100*z.Intr.v/4096));
var e=z.Trns.v,V=z.Clrs.v,P=this.dA!=null,D=this.xG!=-1;this.Ws._w(P);this.bt._w(P||D);this.i1._w(P);
if(P){J.C(this.qR,"");var B=this.dA.v;this.bt.a(Math.round(100*B.Lctn.v/4096));this.Ws.a(B.Opct.v.val)}if(D)this.bt.a(e[this.xG].v.Mdpn.v);
var P=this.Ha!=null,D=this.z3!=-1;this.dH._w(P);this.w2._w(P);this.aO._w(P||D);this.St._w(P);if(P){J.C(this.L9,"");
var A=this.Ha.v;this.aO.a(Math.round(100*A.Lctn.v/4096));var s=A.Type.v.Clry;this.dH.a(["FrgC","BckC","UsrS"].indexOf(s));
if(s=="FrgC")this.w2.it(this.i.pQ);if(s=="BckC")this.w2.it(this.i.Cp);if(s=="UsrS")this.w2.a(A.Clr.v)}if(D)this.aO.a(V[this.z3].v.Mdpn.v)}else{this.body.appendChild(this._Y);
this.o4.a(Math.round(100*z.Smth.v/4096))}this.body.appendChild(this.CO.$)};g7.prototype.m_=function(z){var q=this.fe,e=q.Clrs?0:1;
if(z.target==this.Lr){var V=e==0?JSON.parse(az.mo.a7a).v:ak.g1("grdm").Grad.v;this.fe=V;this.y2();this.zk();
return}if(e==0){q.Intr.v=Math.round(4096*this.bp.r()/100);var P=q.Trns.v,D=q.Clrs.v;if(this.dA!=null){var B=this.dA.v;
B.Lctn.v=Math.round(4096*(this.bt.r()/100));B.Opct.v.val=this.Ws.r()}if(this.Ha!=null){var A=this.Ha.v;
A.Lctn.v=Math.round(4096*(this.aO.r()/100));if(z.target==this.w2)this.dH.a(2);var s=this.dH.r();A.Type.v.Clry=["FrgC","BckC","UsrS"][s];
if(s==2)A.Clr={t:"Objc",v:this.w2.r()};else if(A.Clr)delete A.Clr}if(this.xG!=-1)P[this.xG].v.Mdpn.v=this.bt.r();
if(this.z3!=-1)D[this.z3].v.Mdpn.v=this.aO.r()}else{q.Smth.v=Math.round(4096*this.o4.r()/100);if(z.target==this.z4)q.RndS.v=Math.floor(Math.random()*4294967295)}this.zk()};
g7.prototype.tY=function(z){var q=J.fH(z,this.TX),e=this.O2,V=(q.x*J.WU()-e.x)/e.s,P=(q.y*J.WU()-e.y)/e.T,D=this.fe.Trns.v,B=this.fe.Clrs.v,A=null,s=null,a=-1,M=-1;
if(P<1)for(var n=0;n<D.length;n++){var $=D[n].v;if(Math.abs($.Lctn.v/4096-V)<.02)A=D[n];if(n>0)if(Math.abs((D[n-1].v.Lctn.v+($.Lctn.v-D[n-1].v.Lctn.v)*$.Mdpn.v/100)/4096-V)<.01)a=n}if(P>0)for(var n=0;
n<B.length;n++){var U=B[n].v;if(Math.abs(U.Lctn.v/4096-V)<.02)s=B[n];if(n>0)if(Math.abs((B[n-1].v.Lctn.v+(U.Lctn.v-B[n-1].v.Lctn.v)*U.Mdpn.v/100)/4096-V)<.01)M=n}if(s==null&&A==null&&a==-1&&M==-1){if(P<0){var $={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
$.v.Lctn.v=Math.round(V*4096);D.push($);D.sort(this.cq);A=$}if(P>1){var B=this.fe.Clrs.v,o=T.Yf.amN(this.fe,this.i.pQ,this.i.Cp),t=T.Yf.PW(this.fe,o,V),U={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:T.Yf.e8({l:t&255,I:t>>8&255,c:t>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
U.v.Lctn.v=Math.round(V*4096);B.push(U);B.sort(this.cq);s=U}}if(s!=null)M=-1;if(A!=null)a=-1;if(s!=null||A!=null||a>-1||M>-1){this.dA=A;
this.Ha=s;this.xG=a;this.z3=M;this.y2();this.zk();J.rq(window,this.Yk);J.KE(window,this.EQ)}};g7.prototype._s=function(z){var q=J.fH(z,this.TX),e=this.O2,V=(q.x*J.WU()-e.x)/e.s,P=(q.y*J.WU()-e.y)/e.T;
V=Math.max(0,Math.min(1,V));var D=this.fe.Trns.v,B=this.fe.Clrs.v;if(this.dA!=null){var A=this.dA.v;
A.Lctn.v=Math.round(4096*V);var s=D.indexOf(this.dA);if(s!=-1&&P<-1&&D.length>1)D.splice(s,1);if(s==-1&&P>-1)D.push(this.dA);
D.sort(this.cq)}if(this.Ha!=null){var a=this.Ha.v;a.Lctn.v=Math.round(4096*V);var M=B.indexOf(this.Ha);
if(M!=-1&&P>2&&B.length>1)B.splice(M,1);if(M==-1&&P<2)B.push(this.Ha);B.sort(this.cq)}if(this.xG>-1){var A=D[this.xG].v;
A.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(V*4096-D[this.xG-1].v.Lctn.v)/(A.Lctn.v-D[this.xG-1].v.Lctn.v))))}if(this.z3>-1){var a=B[this.z3].v;
a.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(V*4096-B[this.z3-1].v.Lctn.v)/(a.Lctn.v-B[this.z3-1].v.Lctn.v))))}if(this.dA!=null||this.Ha!=null||this.xG>-1||this.z3>-1){this.y2();
this.zk()}};g7.prototype.in=function(z){J.TT(window,this.Yk);J.N$(window,this.EQ);if(Date.now()-this.i3<300){if(this.z3!=-1||this.xG!=-1){var q=(this.z3!=-1?this.fe.Clrs.v[this.z3]:this.fe.Trns.v[this.xG]).v;
q.Mdpn.v=50;this.y2();this.zk()}else if(this.Ha!=null)this.w2.T7()}this.i3=Date.now()};g7.prototype.cq=function(z,q){return z.v.Lctn.v-q.v.Lctn.v};
function eG(){jz.call(this,[11,5],"vgradienteditor");this.AD=null;this.Qz=new el;this.Qz.parent=this;
this.body.appendChild(this.Qz.$);this.CO=J.Hy(this,this.body)}eG.prototype=new jz;eG.prototype.N_=function(z,q){this.AD=q.QW;
this.Qz.a(q.u)};eG.prototype.W=function(){jz.prototype.W.call(this);this.Qz.W()};eG.prototype.En=function(z){this.AD(this.Qz.r());
this.close()};function e4(z){jz.call(this,z=="isize"?[11,10]:[11,3],z);this.cA=z;this.RD=null;var q=J.k("div","form");
J.C(q,"width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(q);var e=z=="csize";this.aHz=new ij("Hi");
q.appendChild(this.aHz.$);J.f9(q);this.Gr=new aC(!0,!0,e,e,!0);if(e)this.Gr.aGf(!1);q.appendChild(this.Gr.$);
this.Ta=new iP([12,25,3]);this.Ta.a(!0);this.Ta.Q(_.E.f,this.aMu,this);this._g=new cr(null,[[12,14,2],[12,14,3],[12,14,4]]);
this._g.a(1);this.v6=new gp([12,23,2],41);this.v6.a(4);if(z=="isize"){q.appendChild(this.Ta.$);q.appendChild(this._g.$)}else q.appendChild(this.v6.$);
this.CO=J.Hy(this,this.body)}e4.prototype=new jz;e4.prototype.h3=function(z,q){return z!=null};e4.prototype.ay=function(){return!0};
e4.prototype.Hp=function(z){return this.cA=="isize"?!1:[cz.kN,cz.YS,cz.CM,cz.P3].indexOf(z)!=-1};e4.prototype.gi=function(z,q,e,V){if(V.t(cz.JN))this.En();
this.v6.afy(V.bh())};e4.prototype.W=function(){jz.prototype.W.call(this);this.Gr.W();this.Ta.W();this._g.W();
this.v6.W();this.CO.W()};e4.prototype.En=function(z){var q=this.Gr.r(),e=q.x,V=q.y,P=new dW(_.E.zN,!0),D=this.Gr.SK.r();
if(this.cA=="csize"){if(D){var B=this.Gr.js,A=this.Gr.z1;e=A.x-B.x;V=A.y-B.y}P.data=W.hV.abX(e,V,this.v6.r(),D)}else{var s=this._g.r();
if(!this.Ta.r())s=null;var a=this.Gr.aPj(),M=this.RD;console.log(a);if(a==1)P.data=W.hV.XN(e/M.x,V/M.y,this.Gr.yM(),s,!0);
else P.data=W.hV.XN(e,V,this.Gr.yM(),s)}this.close();this.K(P)};e4.prototype.N_=function(z,q){this.RD=new f5(z.s,z.T);
this.Gr.a(this.RD,z.do);this.Gr.DU();this.aHz.a(iE.get(this.Fv)+": "+(z.s*z.T/1e6).toFixed(2)+" MPx")};
e4.prototype.aMu=function(z){var q=this.Ta.r(),e=this.Gr,V=this._g;if(q)V.oR();else V.QU();e.aF5(q)};
function ch(){jz.call(this,"Import RAW","importraw");var z=J.k("div","flexrow"),q=J.k("div");J.C(q,"margin-bottom: 1em");
this.body.appendChild(z);this.body.appendChild(q);var e=J.k("div","form");J.C(e,"width:18em");z.appendChild(e);
var V=J.k("div","form");J.C(V,"width:15em");z.appendChild(V);this.WA=null;this.bE=null;this.n3=null;
this.sr=null;this.dc=[];var P=[];for(var n=0;n<ch.WY.length;n++)P.push(ch.WY[n]+" Bits");var D=this.OY=[new aC(!0,null,null,!0),new gO([12,72],1,8),new iP("Last one is Transparency"),new eD([12,34],P),new eD("Byte Order",["12-34","34-12"]),new cr("Guesses",[])];
for(var n=0;n<D.length;n++){var B=D[n];B.parent=this;B.Q(_.E.f,n==5?this.aFG:this.GT,this);var A=n==0?e:n==5?q:V;
A.appendChild(B.$)}this.TX=J.k("canvas");this.YI=this.TX.getContext("2d");this.body.appendChild(this.TX);
this.CO=J.Hy(this,this.body)}ch.prototype=new jz;ch.prototype.W=function(){jz.prototype.W.call(this);
var z=this.OY;this.CO.W();for(var n=0;n<z.length;n++)z[n].W()};ch.prototype.En=function(z){this.close();
var q=this.OY[0].r(),e=hZ.Jy(this.bE,[{data:this.n3,hp:new kk(0,0,q.x,q.y)}]);if(this.sr)e.kv=this.sr;
var V=new dW(_.E.b,!0);V.data={p:!0?_.m.Mk:_.m.z$,Va:e};this.K(V)};ch.WY=[8,16];ch.prototype.N_=function(z,q){this.WA=new Uint8Array(q.Vg);
this.bE=q.hb;var e=this.WA.length,V=[1,3,4],P=0,D=0,B=1,A=1,s=this.dc=[],a=Math.round(Math.sqrt(e)*2);
a=Math.max(a,4e3);for(var M=0;M<3;M++){for(var $=0;$<2;$++){var U=ch.WY[$],o=V[M],t=o*U,c=Math.round(e*8/t);
if(c!=e*8/t)continue;for(var H=0;H<=a;H++)for(var F=0;F<=a;F++)if(H*F==c){var i=0;if(H==F)i+=64;if(Math.round(H/100)==H/100&&Math.round(F/100)==F/100)i+=32;
if(Math.round(H/10)==H/10&&Math.round(F/10)==F/10)i+=16;if(Math.round(H/2)==H/2&&Math.round(F/2)==F/2)i+=8;
s.push([H,F,o,U,i])}}}var X=function(L,G){if(G[4]!=L[4])return G[4]-L[4];var x=Math.max(L[0],L[1])/Math.min(L[0],L[1]),O=Math.max(G[0],G[1])/Math.min(G[0],G[1]);
if(x!=O)return x-O;return G[0]-L[0]};s.sort(X);var K=this.OY,f=[];for(var n=0;n<s.length;n++){var d=s[n];
f.push(d[0]+" x "+d[1]+", "+d[2]+"ch, "+d[3]+"-bit")}K[5].jl(f);K[5].a(0);this.aFG(null)};ch.prototype.aFG=function(z){var q=this.OY,e=this.dc[this.OY[5].r()];
q[0].a(new f5(e[0],e[1]),72);q[1].a(e[2]);q[3].a(ch.WY.indexOf(e[3]));this.GT()};ch.prototype.GT=function(z){var q=this.OY,e=q[0].r(),V=e.x,P=e.y,D=ch.WY[q[3].r()],B=this.WA;
if(D==16&&q[4].r()==1){B=B.slice(0);for(var n=0;n<B.length;n+=2){var A=B[n];B[n]=B[n+1];B[n+1]=A}}var s=this.n3=this.EY(B,V,P,q[1].r(),D,q[2].r()),a=this.TX,M=this.YI,$=[s,new kk(0,0,V,P)];
T.Jr($);for(var n=0;n<$.length;n+=2)if($[n+1].T<300){s=$[n];V=$[n+1].s;P=$[n+1].T;break}a.width=V;a.height=P;
J.Ux(a,V,P);var U=new ImageData(new Uint8ClampedArray(s.buffer),V,P);M.putImageData(U,0,0)};ch.prototype.EY=function(z,q,e,V,P,D){this.sr=null;
var B=[],A=q*e;for(var s=0;s<V;s++){var a=T.n(A);B.push(a);if(P==8)for(var n=0;n<A;n++)a[n]=z[n*V+s];
else if(P==16)for(var n=0;n<A;n++)a[n]=Math.round((z[(n*V+s)*2]<<8|z[(n*V+s)*2+1])*(255/65535))}var M=T.n(A*4);
T.FH(M,4278190080);if(D){T.yR(B.pop(),M,3);V--}if(V==0){}else if(V==1)T.A$(B[0],M);else{T.yR(B[0],M,0);
T.yR(B[1],M,1);if(V>2){T.yR(B[2],M,2);if(V>3){this.sr=[];for(var n=3;n<V;n++){var $=new lK.Eu;$.name="Alpha "+(n-2);
$.V=new kk(0,0,q,e);$.o=B[n];this.sr.push($)}}}}return M};function iX(z,q,e){gq.call(this);this.$=J.k("div","");
this.nq=z;this.g4=null;this.Qz=q==null?!1:q;this.OR=null;this.Sx=e;this.aPN=[];this.QP=[];this.uQ=[];
this.TD=[];this.E7=0;this.g4=this.aFf(iX.TD[z]);this.zc();this.w6=null;this.aBK;this.aFt}iX.prototype=new gq;
iX.prototype.Qy=function(z,q,e,V,P){this.w6=P;this.aBK=T.G(this.OR);if(this.g4.lagl)this.aFt=this.g4.lagl.r()[0]};
iX.prototype.Sf=function(z,q,e,V,P){var D=this.w6,B=this.nq,A=this.aBK;if(D==null)return;var s=(P.x-D.x)/z.A.C7,a=(P.y-D.y)/z.A.C7;
if(B=="GrFl"){var M=T.G(A.Ofst.v);M.Hrzn.v.val+=s*.5;M.Vrtc.v.val+=a*.5;this.g4.Ofst.a(M,!0)}if(B=="patternFill"){var M=T.G(A.phase.v);
M.Hrzn.v+=s;M.Vrtc.v+=a;this.g4.phase.a(M,!0)}if(B=="DrSh"||B=="IrSh"||B=="ChFX"){var $=A.Dstn.v.val,U=this.aFt*Math.PI/180,o=-Math.cos(U)*$+s,t=Math.sin(U)*$+a;
this.g4.Dstn.a(Math.sqrt(o*o+t*t),!0);this.g4.lagl.a([Math.atan2(t,-o)*180/Math.PI],!0)}};iX.prototype.AM=function(z,q,e,V,P){this.w6=null};
iX.prototype.aom=function(){for(var n=0;n<this.TD.length;n++){J.Pf(this.TD[n],"selected");if(this.uQ[n]instanceof iP)this.uQ[n].a(!1)}};
iX.prototype.afL=function(z){var q=this.ahp.bind(this);for(var n=0;n<this.uQ.length;n++){var e=J.k("div","listitem");
this.TD.push(e);if(n>0)e.textContent="\u2003";e.appendChild(this.uQ[n].$);if(az.atR.indexOf(this.nq)!=-1){var V=new ht("+");
V.IM();V.$.style.float="right";e.appendChild(V.$);var P=new ht("\u2B0D");P.IM();P.$.style.float="right";
P.$.style["margin-right"]="2px";e.appendChild(P.$)}e.addEventListener("click",q,!1);z.appendChild(e)}};
iX.Zu=function(z,q){var e=q.getBoundingClientRect();return(z.clientY-e.top)/e.height};iX.prototype.ahp=function(z){var q=z.target.tagName.toLowerCase();
if(q=="input"){return}if(q=="button"){var e=new dW(_.E.z,!0),V=z.target.textContent=="+",P=V?0:iX.Zu(z,z.target)<.5?-1:1;
if(V)e.data={p:"st_dupsingle",H:this.parent.data.H,J0:this.Sx};else e.data={p:"st_movsingle",H:this.parent.data.H,J0:this.Sx,a1_:P};
e.U=W.Eg;e.Hf=!0;this.K(e);e=new dW("redrawall",!0);e.data={a1_:P};this.K(e);return}J.oC(z);this.m5();
this.E7=this.TD.indexOf(z.currentTarget);this.K(new dW("showme"))};iX.prototype.m5=function(){if(this.g4.enab&&this.g4.enab.r()==!1)this.ic({MY:"enab",u:!0})};
iX.prototype.aHU=function(){var z=this.TD[this.E7];if(z)J.d6(z,"selected");return this.QP[this.E7]};
iX.prototype.aFf=function(z){var q={};for(var n=0;n<z.length;n++){var e=z[n],V=null;if(e=="----")V={$:J.k("hr")};
if(e=="\n")V={$:J.k("br")};if(e=="blOptions")V=new ij([14,10]);if(e=="brst")V=new db([12,72],["R","G","B"]);
if(e=="knko")V=new cr("Knockout",[[13,1,0],"Shallow","Deep"]);if(e=="enab")V=new iP(az.names[az.order.indexOf(this.nq)]);
if(e=="lrMd"||e=="Md")V=new cr([12,19,0],aA.p4,aA.Cx);if(e=="Opct")V=this.Qz?new gO([12,0],0,100,"%"):new hH([12,0],0,100,"%");
if(e=="iOpa")V=new hH([12,26],0,100,"%");if(e=="blIf")V=new hA;if(e=="ShdN")V=new hH([12,68],0,100,"%");
var P=this.nq=="St3D"&&e=="lagl";if(e=="lagl"||e=="Angl")V=new b4(P?"Light":[12,15],this.nq=="ebbl"||P);
if(e=="uglg")V=new iP([12,27]);if(e=="Dstn")V=new hH([12,28],0,200,"px");if(e=="Ckmt")V=new hH([12,29],0,100,"%");
if(e=="Srnk")V=new hH("Shrink",0,100,"%");if(e=="Drkn")V=new hH("Darken",0,100,"%");if(e=="blur")V=new hH([12,14,0],0,200,"px");
if(e=="TrnS"||e=="MpgS")V=new gw([12,21]);if(e=="Nose")V=new hH([12,30],0,100,"%");if(e=="layerConceals")V=new iP([12,31]);
if(e=="Cntn")V=new iP([12,25,4]);if(e=="AntA"||e=="antialiasGloss")V=new iP([12,25,1]);if(e=="GlwT")V=new cr([12,32],az.jG.names);
if(e=="glwS")V=new cr([12,70],az.jG.afQ);if(e=="Inpr")V=new hH([12,12],1,100,"%");if(e=="bvlS")V=new cr([12,22],az.Sv.style);
if(e=="bvlT")V=new cr([12,32],az.Sv.auF);if(e=="bvlD")V=new cr(null,az.Sv.dir);if(e=="srgR")V=new hH([12,34],0,1e3,"%");
if(e=="Sftn")V=new hH([12,35],0,20,"px");if(e=="Lald")V=q.lagl;if(e=="hglM"||e=="sdwM")V=new cr([12,36],aA.p4,aA.Cx);
if(e=="hglC"||e=="sdwC")V=new l0;if(e=="hglO"||e=="sdwO")V=new hH([12,0],0,100,"%");if(e=="Invr"||e=="InvT")V=new iP([4,11]);
if(e=="overprint")V=new iP("Overprint");if(e=="Sz")V=new hH([12,14,0],1,200,"px");if(e=="Styl")V=new cr([12,40],az.stroke.names);
if(e=="PntT")V=new cr([12,66],az.stroke.alY);if(e=="Clr")V=new l0(!0);if(e=="Grad"){V=new kL(!0,this.Qz?null:[12,37],!0);
V.a(JSON.parse(az.mo.aJV).v)}if(e=="Rvrs")V=new iP([12,23,0]);if(e=="Dthr")V=new iP([12,23,3]);if(e=="Type")V=new cr(this.Qz?null:[12,22],az.Yf.names.slice(0,this.nq=="FrFX"?6:5));
if(e=="gs99")V=new cr("Method",["Perceptual","Linear","Classic","Smooth","Stripes"]);if(e=="Ptrn")V=new kQ([12,62]);
if(e=="Scl")V=new hH([12,38],5,500,"%",0,!0);if(e=="Algn")V=new iP([12,39]);if(e=="Ofst")V=new lv(!0);
if(e=="phase")V=new lv(!1);if(e=="useShape")V=new iP([12,21]);if(e=="useTexture")V=new iP([12,67]);if(e=="textureDepth")V=new hH([12,34],-300,300,"%");
var D=e=="----"||e=="\n"?e+n:e;if(e=="gs99"&&this.Qz)D="gradientsInterpolationMethod";if(V!=null)q[D]=V}return q};
iX.prototype.aMe=function(z){var q=this.QP[this.E7];for(var n=0;n<z.length;n++){var e=this.g4[z[n]];
if(e&&q.contains(e.$))q.removeChild(e.$)}};iX.prototype.a6S=function(z){var q=this.QP[this.E7];for(var n=0;
n<z.length;n++){var e=this.g4[z[n]];if(e&&!q.contains(e.$))q.appendChild(e.$)}};iX.prototype.K5=function(z,q){if(this.g4==null)return;
var e=q==cR.zu;if(this.g4.Grad){this.g4.Grad.tq(z.pQ,z.Cp);if(e||q==cR.RV||q==cR.Ku)this.g4.Grad.zT(z.zS)}if(this.g4.Ptrn){if(e||q==cR.gv)this.g4.Ptrn.zT(z.fr)}if(this.g4.TrnS){if(e||q==cR.Kc)this.g4.TrnS.zT(z.fa)}if(this.g4.MpgS){if(e||q==cR.Kc)this.g4.MpgS.zT(z.fa)}};
iX.prototype.W=function(){for(var n=0;n<this.aPN.length;n++)this.aPN[n].W();for(var z in this.g4)if(this.g4[z]instanceof gq)this.g4[z].W()};
iX.prototype.zc=function(){for(var z in this.g4){var q=this.g4[z];q.parent=this;if(q instanceof gq)q.Q(_.E.f,this.alE,this);
if(this.QP.length==0||z=="useShape"||z=="useTexture"){var e=new ij(q.api()),V=J.k("div","bordered padded");
if(this.Qz==!1){V.appendChild(e.$);V.appendChild(J.k("hr",""))}this.aPN.push(e);this.QP.push(V);this.uQ.push(q)}else this.QP[this.QP.length-1].appendChild(q.$)}};
iX.prototype.update=function(z,q){if(this.g4==null)return;this.OR=T.G(q);var e=this.Qz?"gradientsInterpolationMethod":"gs99";
if(this.nq=="GrFl"&&q[e]==null)q[e]={t:"enum",v:{gradientInterpolationMethodType:"Gcls"}};for(var V in q){var P=this.g4[V];
if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(V)!=-1)P.a(q[V].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(V)!=-1){P.a(q[V].v,z)}if(["Md","hglM","sdwM"].indexOf(V)!=-1)P.a(aA.nq.indexOf(q[V].v.BlnM));
if(V=="lrMd"){var D=(q.isFolder?[[15,10,27]]:[]).concat(aA.p4),B=(q.isFolder?[1]:[]).concat(aA.Cx);P.jl(D,B);
P.a(q[V].v)}if(V=="Angl")P.a([q[V].v.val]);if(V=="lagl"){var A=q.uglg&&q.uglg.v?z.RP():q.lagl.v.val;
P.a([A])}if(V=="Lald"){var A=q.uglg&&q.uglg.v?z.jL():q.Lald.v.val;P.a([null,A])}if(V==e){var s=az.Yf.DM.indexOf(q[V].v.gradientInterpolationMethodType);
P.a(s)}if(V=="Type")P.a(az.Yf.types.indexOf(q.Type.v.GrdT));if(V=="Styl")P.a(az.stroke.types.indexOf(q.Styl.v.FStl));
if(V=="PntT"){var a=az.stroke.hi.indexOf(q.PntT.v.FrFl);P.a(a);if(!this.Qz){this.aMe(az.RS.concat(az.dW.concat(az.lA)));
this.a6S([az.RS,az.dW,az.lA][a])}}if(V=="GlwT")P.a(az.jG.types.indexOf(q.GlwT.v.BETE));if(V=="glwS")P.a(az.jG.asM.indexOf(q.glwS.v.IGSr));
if(V=="bvlS")P.a(az.Sv.types.indexOf(q.bvlS.v.BESl));if(V=="bvlT")P.a(az.Sv.aLr.indexOf(q.bvlT.v.bvlT));
if(V=="bvlD")P.a(["In","Out"].indexOf(q.bvlD.v.BESs))}};iX.prototype.alE=function(z){var q=this.Qz?"gradientsInterpolationMethod":"gs99";
for(var e in this.g4){if(this.g4[e]!=z.target)continue;var V=null,P=!1;if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(e)!=-1)V={type:"#Prc",val:z.target.r()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(e)!=-1)V={type:"#Pxl",val:z.target.r()};if(["Angl","lagl"].indexOf(e)!=-1)V={type:"#Ang",val:z.target.r()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(e)!=-1)V=z.target.r();
if(["Md","hglM","sdwM"].indexOf(e)!=-1)V={BlnM:aA.nq[z.target.r()]};if(e=="uglg"){V=z.target.r();P=!0}if(e=="PntT"){V={FrFl:az.stroke.hi[z.target.r()]};
P=!0}if(e=="Lald")V={type:"#Ang",val:z.target.r()[1]};if(e==q)V={gradientInterpolationMethodType:az.Yf.DM[z.target.r()]};
if(e=="Type")V={GrdT:az.Yf.types[z.target.r()]};if(e=="Styl")V={FStl:az.stroke.types[z.target.r()]};
if(e=="GlwT")V={BETE:az.jG.types[z.target.r()]};if(e=="glwS")V={IGSr:az.jG.asM[z.target.r()]};if(e=="bvlS")V={BESl:az.Sv.types[z.target.r()]};
if(e=="bvlT")V={bvlT:az.Sv.aLr[z.target.r()]};if(e=="bvlD")V={BESs:["In","Out"][z.target.r()]};this.ic({MY:e,u:V});
if(P){if(this.Qz)this.update(null,this.OR);else{var D=this.parent,B=D.Va,A=this.Sx,s=B.Z[D.data.H].add.lmfx[az.cx[A[0]]].v[A[1]].v;
this.update(B,s)}}}};iX.prototype.ic=function(z){if(this.OR&&this.OR[z.MY])this.OR[z.MY].v=z.u;if(this.Qz){this.K(new dW(_.E.f))}else{z.p="changeprop";
z.H=this.parent.data.H;z.XW=this.Sx;var q=new dW(_.E.z,!0);q.data=z;q.U=W.Eg;q.Hf=!0;this.K(q);this.K(new dW("afterchange",!0))}};
iX.prototype.r=function(){return T.G(this.OR)};iX.TD={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(az.RS),GrFl:["enab","Md","Opct"].concat(az.dW),patternFill:["enab","Md","Opct"].concat(az.lA),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(az.RS.concat(az.dW.concat(az.lA)))};
function f1(){jz.call(this,[11,6],"layerstyle");this.adS=-1;this.data={};this.Va=null;this.i=null;this.eN=[];
this.FN=[];J.d6(this.body,"flexrow");this.tF=J.k("div","bordered");J.C(this.tF,"min-width:13em;");this.body.appendChild(this.tF);
this._E=J.k("div","");J.C(this._E,"width:25em; padding-left: 1em;");this.body.appendChild(this._E);this.C9=J.k("div","form");
J.C(this.C9,"padding-left: 1em; width:7em;");this.body.appendChild(this.C9);this.CO=J.Hy(this,this.C9);
this.aIw=new ht([12,87],!0,null,!0);this.aIw.Q("click",this.am4,this);this.C9.appendChild(this.aIw.$);
this.qd=new j4;this.qd.parent=this;this.qd.Q(_.E.f,this.aCM,this);this.C9.appendChild(this.qd.$);this.Q("closebtn",this.DF,this);
this.Q("redrawall",this.aw9,this)}f1.prototype=new jz;f1.prototype.ay=function(){return!0};f1.prototype.sf=function(){return!0};
f1.prototype.Qy=function(z,q,e,V,P){var D=this.yQ();if(D)D.Qy(z,q,e,V,P)};f1.prototype.Sf=function(z,q,e,V,P){var D=this.yQ();
if(D)D.Sf(z,q,e,V,P)};f1.prototype.AM=function(z,q,e,V,P){var D=this.yQ();if(D)D.AM(z,q,e,V,P)};f1.prototype.yQ=function(z){if(z==null)z=this.data.index;
return z==null?null:z==0?this.eN[0]:this.FN[z[0]][z[1]]};f1.prototype.aCM=function(z){var q=this.qd.r();
this.ic({p:"setstl",u:q.L$});this.aw9(null)};f1.prototype.am4=function(z){var q=this.Va,e=this.data.H;
if(e==null)e=q.j[0];var V=this.Va.Z[e],P=hB.abZ(V),D=new dW(_.E.b,!0);D.data={p:_.m.Ln,kK:"add",Lh:cR.TI,Ay:[T.G(P)]};
this.K(D)};f1.prototype.aIx=function(z){this.data.index=z.currentTarget.Sx;this.d3(z.currentTarget.Sx)};
f1.prototype.aw9=function(z){this.N_(this.Va,this.data)};f1.prototype.d3=function(z,q){J._8(this._E);
for(var n=0;n<this.eN.length;n++)this.eN[n].aom();var e=this.yQ(z);this._E.appendChild(e.aHU());if(q)e.m5();
var V=this.Va;if(V){var P=V.Z[this.data.H];this.eN[0].update(V,W.ID._N(V,P));var D=P.add.lmfx;if(D==null)return;
for(var n=0;n<az.order.length;n++){var B=D[az.cx[n]].v;for(var A=0;A<B.length;A++)this.FN[n][A].update(V,B[A].v)}}if(q)e.m5()};
f1.prototype.W=function(){jz.prototype.W.call(this);this.aIw.W();this.qd.W();this.CO.W();for(var n=0;
n<this.eN.length;n++)this.eN[n].W()};f1.prototype.N_=function(z,q){var e=q.H==null;this.data.H=q.H;this.data.index=q.index;
q=this.data;this.Va=z;if(e)q.H=z.j.length==0?z.Z.length-1:z.j[0];J._8(this.tF);var V=z.Z[q.H].add.lmfx;
this.XS();this.eN=[new iX("bops",!1,0)];this.FN=[];for(var n=0;n<az.order.length;n++){this.FN.push([]);
var P=V==null?[]:V[az.cx[n]].v;for(var D=0;D<P.length;D++){var B=new iX(az.order[n],!1,[n,D]);this.eN.push(B);
this.FN[n].push(B)}if(P.length==0){var B=new iX(az.order[n],!1,[n,0]);this.eN.push(B);this.FN[n].push(B)}}this.W();
this.apA(this.i,cR.zu);for(var n=0;n<this.eN.length;n++){this.eN[n].parent=this;this.eN[n].afL(this.tF);
this.eN[n].Q("showme",this.aIx,this)}if(q.index==null||q.index==0||!e&&V[az.cx[q.index[0]]].v.length==0){this.d3(0)}else this.d3(q.index,e);
this.Q("afterchange",this.XS,this)};f1.prototype.XS=function(z){var q=this.Va,e=this.data.H;if(e==null)e=q.j[0];
var V=this.Va.Z[e],P=hB.abZ(V);this.qd.a(P,q.add.Patt?q.add.Patt:[],q.RP(),q.jL())};f1.prototype.K5=function(z,q){this.i=z;
this.apA(z,q);if(q==cR.TI||q==cR.zu){this.qd.zT([z.yg,z.fr])}if(q==cR.nl){}};f1.prototype.apA=function(z,q){for(var n=0;
n<this.eN.length;n++)this.eN[n].K5(z,q)};f1.prototype.DF=function(z){this.ic({p:"cancel"})};f1.prototype.En=function(z){this.ic({p:"confirm"});
this.close()};f1.prototype.ic=function(z){z.H=this.data.H;var q=new dW(_.E.z,!0);q.data=z;q.U=W.Eg;q.Hf=!0;
this.K(q);this.XS()};f1.avj=function(){var z=function(q){if(q==null||q.j.length==0)return{d:!1};var e=q.Z[q.j[0]];
return{d:e.add.lmfx!=null}};return{name:[11,6],tL:!0,sub:[{name:[5,1],d:z},{name:[5,2]},{name:[2,2],d:z}]}};
f1.a8R=function(){return{sub:[{N:_.E.z,U:W.Eg,M:{p:"st_copy"}},{N:_.E.z,U:W.Eg,M:{p:"st_paste"}},{N:_.E.z,U:W.Eg,M:{p:"st_clear"}}]}};
f1.mD=function(z){var q=[{name:[14,10],tL:!0}];for(var n=0;n<az.names.length;n++)q.push({name:az.names[n]});
if(z){q[q.length-1].tL=!0;q.push(f1.avj());q.push({name:[6,30,1],d:function(e){return{d:e!=null&&e.j.length!=0&&e.Z[e.j[0]].nb()}}});
q.push({name:["VAR0 VAR1",[12,49],[9,1]],d:function(e){return{d:e!=null&&e.j.length!=0&&e.Z[e.j[0]].add.lmfx!=null}}})}return q};
f1.YU=function(z){var q=[{N:_.E.b,M:{p:_.m.wa,rF:"layerstyle"}}];for(var n=0;n<az.names.length;n++)q.push({N:_.E.b,M:{p:_.m.wa,rF:"layerstyle",index:[n,0]}});
if(z){q.push(f1.a8R());q.push({N:_.E.b,M:{p:_.m.wa,rF:"scaleeffects",Zz:100,DI:{N:_.E.z,U:W.Eg,M:{p:"scaleeffects"}}}});
var e={classID:"Mk",null:fw.y5("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
q.push({N:_.E.zN,M:{gQ:"make",cj:e}})}return q};f1.aKz=function(z){var q=[];if(z)q.push({name:[6,48,0,0],o$:!0},{name:[6,48,0,1],o$:!0},{name:[6,48,0,2],o$:!0,tL:!0});
for(var e in aM.names)q.push({name:aM.names[e],tL:aM.aCu.indexOf(e)!=-1,o$:e1[e]!=null});return q};f1.Ik=function(z){var q=[];
if(z){q.push({N:_.E.z,U:W.v8,M:{p:"newfill",DO:0}});for(var n=1;n<3;n++)q.push({N:_.E.zN,M:W.LR.J8(n)})}for(var e in aM.names){var V=ak.g1(e);
if(V==null)V={};for(var P in aM.Sa)if(aM.Sa[P]==e)V.classID=P;var D={gQ:"make",cj:{classID:"Mk",null:fw.y5("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:V}}}}};
q.push({N:_.E.zN,M:D})}return q};function am(){jz.call(this,"Merge Channels","mergechannels");this.caller=null;
var z=J.k("div","form");this.body.appendChild(z);this.OY=[];for(var n=0;n<3;n++){var q=new cr(aM.Y0[n],[]);
this.OY.push(q);z.appendChild(q.$);J.f9(z)}this.CO=J.Hy(this,z)}am.prototype=new jz;am.prototype.W=function(){jz.prototype.W.call(this);
this.CO.W();for(var n=0;n<3;n++)this.OY[n].W()};am.prototype.N_=function(z,q,e,V){this.caller=e;var P=[],D=e.nk;
for(var n=0;n<D.length;n++)P.push(D[n].name);for(var n=0;n<3;n++){var B=this.OY[n];B.jl(P);B.a(Math.min(n,D.length-1))}};
am.prototype.En=function(z){var q=this.caller.nk,e=q[0],V=new dW(_.E.zN,!0);V.data=hq.UN(e.s,e.T,e.do,"Merged Document","Wht",!1);
this.K(V);var P=[];for(var n=0;n<3;n++)P.push(q[this.OY[n].r()].tW());var e=q[q.length-1],D=e.Z[0],B=D.buffer;
for(var n=0;n<B.length;n+=4){B[n]=P[0][n];B[n+1]=P[1][n];B[n+2]=P[2][n]}D.Kv();e.Kv();this.close()};
function lt(){jz.call(this,[1,10],"script");var z=J.k("div","form");J.C(z,"width:44em");this.body.appendChild(z);
this.i=null;this.C_=[];this.jE=[];this.aBL;var q=this.vP=new ht([1,2],!1,null,!0);q.Q("click",this.X7,this);
z.appendChild(q.$);var e=new ht("JS Reference",!1,null,!0);e.Q("click",this.a1Z,this);z.appendChild(e.$);
z.appendChild(new ij("Demos:").$);this.ayo=[];var V=lt.CG;for(var n=0;n<V.length;n++){var P=new ht(V[n].HS,!1,null,!0);
this.ayo.push(P);z.appendChild(P.$);P.Q("click",this.ajv,this)}this.A5=J.k("textarea");J.Ur(this.A5);
this.A5.setAttribute("rows",16);J.C(this.A5,"display:block;tab-size:4; font-family:monospace;width:100%;");
z.appendChild(this.A5);var D=new ht("Run",!0,null,!0);D.Q("click",this.En,this);z.appendChild(D.$);this.P9=J.k("div");
z.appendChild(this.P9)}lt.prototype=new jz;lt.prototype.W=function(){this.vP.W()};lt.prototype.X7=function(){var z=this.aBL;
if(z==null)z="script.jsx";var q=new dW(_.E.b,!0);q.data={p:_.m.wa,rF:"namewindow",Zz:z.slice(0,z.length-4),Wm:this.aPn.bind(this)};
this.K(q)};lt.prototype.aPn=function(z){var q=this.A5.value,e=y.GY(q),V=new dW(_.E.b,!0);V.data={p:_.m.SX,Vg:e.buffer,Q7:z+".jsx",aeW:!0};
this.K(V)};lt.prototype.aiN=function(z){var n=this.C_.indexOf(z.target),q=this.aBL=this.jE[n],e=this.i.aB.jo[q],V=new Uint8Array(e),P=y.vK(V,0,V.length);
this.A5.value=P};lt.prototype.N_=function(z,q){this.A5.value=lt.CG[0].GA;this.ar0()};lt.prototype.ar0=function(){var z=this.i.aB,q=this.P9;
J._8(q);this.C_=[];this.jE=[];q.textContent="Saved scripts: ";for(var e in z.jo){if(e.endsWith(".jsx")){var V=new ht(e,!1,null,!0);
this.C_.push(V);this.jE.push(e);V.Q("click",this.aiN,this);q.appendChild(V.$)}}};lt.prototype.K5=function(z,q){this.i=z;
if(q==cR.bc)this.ar0()};lt.prototype.a1Z=function(z){var q=new dW(_.E.b,!0);q.data={p:_.m.I3,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.K(q)};lt.prototype.En=function(z){var q=this.A5.value,e=this.i.aB.jo;q=lt.agO(q,e);var V=new dW(_.E.b,!0);
V.data={p:_.m.Lo,u5:q};this.K(V)};lt.agO=function(z,q){var e=z.split("\n");for(var n=0;n<e.length;n++){var V=e[n].trim();
if(V.startsWith("#include")){var P=V.slice(V.indexOf("\"")+1,V.lastIndexOf("\"")),D=q[P];if(D==null)alert("\""+P+"\" not found in the Local Storage");
e[n]=lt.agO(y.vK(new Uint8Array(D)),q)}}return e.join("\n")};lt.prototype.ajv=function(z){var q=this.ayo.indexOf(z.currentTarget);
this.A5.value=lt.CG[q].GA};lt.CG=[{HS:"Hello",GA:"\nalert(\"Hello Photopea!\");\n"},{HS:"Process Layers",GA:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{HS:"Clone Layers",GA:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function iB(){jz.call(this,[11,7],"newproject");this.data=null;this.caller=null;this.fF=0;var z=this.tC=J.k("div","flexrow");
this.body.appendChild(z);var q=this.lv=J.k("div","form");z.appendChild(q);this.W1=new eE([12,48],null,10);
q.appendChild(this.W1.$);J.f9(q);this.Gr=new aC(!0,null,null,cW==1,!0);this.Gr.a(new f5(1280,720),72);
if(cW==1){this.Gr.a(new f5(8.3*72,11.7*72),72);this.Gr.UA(4)}this.Gr.aF5(!0,!0);this.Gr.Q(_.E.f,this.xV,this);
if(cW<2)q.appendChild(this.Gr.$);this.KB=new hz;this.KB.parent=this;if(cW==0){J.f9(q);q.appendChild(this.KB.$)}this.a9=new hH("BPM",1,400);
this.a9.a(120);this.pA=new eD("Time Signature","2/4 3/4 4/4 4/8 6/8 8/8".split(" "));this.pA.a(2);if(cW==2){q.appendChild(this.a9.$);
J.f9(q);q.appendChild(this.pA.$)}this.pC=new cr([13,6],hq.tG);this.bH=new cr(null,["8 bit","16 bit","32 bit"]);
this.aMk=new iP([1,16,1]);if(cW==0){q.appendChild(this.aMk.$);J.f9(q);q.appendChild(this.pC.$);q.appendChild(this.bH.$)}this.W1.cp();
this.a9.cp();this.pA.cp();this.Gr.cp();this.KB.cp();this.pC.cp();this.bH.cp();this.CO=new ht([12,49],!0,null,!0);
this.CO.Q("click",this.En,this);if(cW<2)this.CO.$.style.marginBottom="20px";q.appendChild(this.CO.$);
var e=this.dc=J.k("div","form");if(cW<2)q.appendChild(this.dc);var V=iB.WA,P=[];for(var n=0;n<V.length;
n++)P.push(V[n].name);this.FE=new eD(null,P);if(cW==1)this.FE.a(1);this.FE.Q(_.E.f,this.Ry,this);e.appendChild(this.FE.$);
this.CT=new f2(!0);this.CT.Q(_.E.f,this.aCW,this);e.appendChild(this.CT.$);this.Ry();this.Gj=new ja;
this.Gj.parent=this;J.C(this.Gj.$,"margin-right:20px");this.Gj.Q("tempready",this.a1r,this);this.NS=this.dc;
this.aK9=new ht([25,0],null,null,!0);this.aK9.Q("click",function(){var D;if(this.NS==this.dc){this.NS=this.Gj.$;
D=[11,10]}else{this.NS=this.dc;D=[25,0]}this.aHQ=-1;this.aK9._D(D);this.hh(this.xL,this.Hi-.001)},this)}iB.prototype=new jz;
iB.prototype.aEG=function(z){var q=this.tt,e=q.style.display!="none";q.style.display=e?"none":"";this.JI._D(e?"\u02C5":"\u02C4");
this.hh(this.xL,this.Hi-.001)};iB.prototype.K5=function(z,q){this.Gj.K5(z)};iB.prototype.SM=function(z,q){if(cW==2)return new f5((z-292)/2,(q-240)/2);
return new f5(Math.max(0,Math.min(70,(z-690)/2)),z>q?Math.max(0,Math.min(50,(q-400)/2)):0)};iB.prototype.hh=function(z,q){if(this.xL==z&&this.Hi==q)return;
this.xL=z;this.Hi=q;if(2<=cW)return;var e=this.tC,V=this.dc,P=this.Gj.$,D=this.lv,B=330,A=500;this.CT.$.style.height=q-54-(z<730?30:0)+"px";
V.style.marginRight="20px";var s=1100<z?0:520<z?1:2,a=s!=this.aHQ;this.aHQ=s;if(a){J._8(e);if(V.parentNode)V.parentNode.removeChild(V);
if(P.parentNode)P.parentNode.removeChild(P)}var M=this.aK9.$;if(s==0){A=(z-B)/2-32;this.Gj.hh(A,q-28);
if(a){e.appendChild(P);e.appendChild(V);e.appendChild(D)}}else if(s==1){if(z<750)B=280;A=z-B-44;if(a){e.appendChild(this.NS);
e.appendChild(M);e.appendChild(D)}if(this.NS==P)this.Gj.hh(A,q-27);J.C(M,"position:fixed; right:"+(B+40)+"px; bottom:20px;")}else{B=z-26;
A=B;V.style.marginRight="";if(a){D.appendChild(this.NS);D.appendChild(M);e.appendChild(D)}J.C(M,"position:fixed; right:16px; bottom:20px;");
var $=q-412+(cW==0?0:120);this.CT.$.style.height=$+"px";if(this.NS==P)this.Gj.hh(A,$+27)}J.C(D,"width:"+B+"px; line-height:3em;");
V.style.width=A+"px";this.Ry(null,A)};iB.prototype.xV=function(){this.Gj.a(this.Gr.r())};iB.prototype.aCW=function(z){var q=this.CT.r()[0],e=iB.WA[this.FE.r()].jr[q],V=e[4];
if(V==0||cW==1)V=72;var P=e[1],D=e[2],B=["px","%","mm","in"].indexOf(e[3]),A=[1,1,25.4/V,1/V][B];P/=A;
D/=A;this.Gr.a(new f5(Math.round(P),Math.round(D)),V);this.Gr.UA(B);this.xV();if(Date.now()-this.fF<300)this.En();
else lA.event("ndoc_Size click",.1);this.fF=Date.now()};iB.prototype.Ry=function(z,q){if(q==null)q=this.a2F;
else this.a2F=q;if(q==null)return;var e=q<360?2:q<600?3:4,V=(q-5)/e-5,P=iB.WA[this.FE.r()].jr,D=[],B=[],A=Math.floor(V*J.WU()),s=Math.floor(V*J.WU()),a=0;
for(var n=0;n<P.length;n++)a=Math.max(a,P[n][1],P[n][2]);for(var n=0;n<P.length;n++){var M=P[n],$=M[1]+" x "+M[2]+" "+M[3];
if(M[3]=="in")$=(M[1]*25.4).toFixed(0)+" x "+(M[2]*25.4).toFixed(0)+" mm";if(M[3]=="mm")$=(M[1]/25.4).toFixed(1)+" x "+(M[2]/25.4).toFixed(1)+" in";
if(M[4])$=$+" @ "+M[4]+" ppi";B.push($);D.push(iB.sZ(M,A,s,a))}this.CT.ym(D,B,A,s)};iB.sZ=function(z,q,e,V){var P=T.Hx(q,e),D=Math.round(q/8),B=Math.floor(13*J.WU()),A=z[1],s=z[2];
P.fillStyle="#000000";P.font=Math.round(B*.9)+"px \"Open Sans\", Sans-Serif";var a=A+" x "+s+" "+z[3],M=P.measureText(a);
P.fillText(a,Math.round((q-M.width)/2),e-Math.round(D/2));if(z[0]!=null){P.font="bold "+B+"px \"Open Sans\", Sans-Serif";
var a=z[0],M=P.measureText(a);P.fillText(a,Math.round((q-M.width)/2),e-Math.round(D/2)-Math.round(B*1.3))}var $=e-Math.round(2.5*B),U=Math.min((q-D)/A,($-D)/s);
U*=.5+.5*(Math.max(A,s)/V);var o=(q-A*U)/2,t=($-s*U)/2;P.strokeRect(Math.round(o)+.5,Math.round(t)+.5,Math.round(A*U),Math.round(s*U));
var c=P.getImageData(0,0,q,e).data;return hZ.Eq(c.buffer,q,e,null,null,!0)};iB.prototype.W=function(){jz.prototype.W.call(this);
this.Gr.W();this.W1.W();this.a9.W();this.pA.W();this.KB.W();this.CO.W();this.W1.a(iE.get([11,7]));this.FE.W();
this.pC.W();this.bH.W();this.aMk.W();this.Gj.W()};iB.prototype.En=function(z){lA.event("ndoc_Create click",.1);
var q=this.Gr.r(),e=q.x,V=q.y;this.close();var P=this.KB.r(),D=hq.sP[this.pC.r()],B=new dW(_.E.zN,!0);
B.data=hq.UN(e,V,this.Gr.yM(),this.W1.r(),["Wht","Blck","Trns","Clr"][P[0]],this.aMk.r(),P[1],D,8<<this.bH.r());
this.K(B);var A=this.caller.nk,s=A[A.length-1];s.m.Ul=this.a9.r();s.m.HL=[[2,4],[3,4],[4,4],[4,8],[6,8],[8,8]][this.pA.r()];
this.aJy()};iB.prototype.a1r=function(z){lA.event("ndoc_Template click",.1);var q=z.data.Va;q.do=this.Gr.yM();
var e=new dW(_.E.b,!0);e.data={p:_.m.Mk,Va:q};this.K(e);this.close();this.aJy()};iB.prototype.aJy=function(){var z=this.caller.nk,q=z[z.length-1],e=this.data.aFq;
if(e)l3.qz(function(){var V=new XMLHttpRequest,P="https://www.googleapis.com/drive/v3/files?"+l3.acN();
V.open("POST",P,!0);V.setRequestHeader("Content-Type","application/json");V.addEventListener("load",function(D){var B=JSON.parse(D.target.response);
q.FQ={file:B,nv:"psd"};alert(q.name+" created in Google Drive")});V.send(JSON.stringify({name:q.name,aI9:[e]}))})};
iB.prototype.N_=function(z,q,e,V){this.caller=e;if(z!=null&&z.h!=null){var P=new kk(0,0,z.s,z.T).HX(z.h.V);
this.Gr.a(new f5(P.s,P.T))}this.data=q;this.xV();if(J.GG())gC.agw(this.c0.bind(this))};iB.prototype.c0=function(z){if(z=="granted")gC.ZG(this,this.ip.bind(this))};
iB.prototype.ip=function(z,q){this.Gr.a(new f5(q.s,q.T))};iB.WA=[{name:"Social",jr:[["FB Page Cover",1640,664,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Insta Portrait",1080,1350,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],jr:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["A6",105,148,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],jr:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],jr:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],jr:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],jr:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",jr:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function kh(z,q,e){jz.call(this,q,"sel_"+z);this.p=z;var V=J.k("div","form");this.body.appendChild(V);
this.W1=new gO(q,0,255,null,0,!1,!0);V.appendChild(this.W1.$);this.W1.a(1);this.W1.Q(_.E.f,this.nx,this);
var P=J.k("span");P.textContent=e;V.appendChild(P);J.f9(V);this.avs=new iP("Apply at canvas bounds");
if(z!="border")V.appendChild(this.avs.$);this.CO=J.Hy(this,V);this.Q("closebtn",this.wj,this)}kh.prototype=new jz;
kh.prototype.h3=function(z,q){if(z==null)return;if(z.h==null)alert("No selection!");return z.h!=null};
kh.prototype.wj=function(){var z=new dW(_.E.z,!0);z.U=W.S3;z.data={p:"h_undoredo"};this.K(z)};kh.prototype.nx=function(z,q,e){if(q==null)this.wj();
var V=new dW(_.E.zN,!0);V.data=W.cn.qt(this.p,this.W1.r(),this.avs.r());V.Hf=!0;if(e!=!0)V.data.agH=!0;
this.K(V)};kh.prototype.En=function(z){this.nx(null,null,!0);this.close()};kh.prototype.W=function(){jz.prototype.W.call(this);
this.CO.W();if(this.W1)this.W1.W()};kh.prototype.N_=function(z,q){this.W1.DU();this.nx(null,!0)};function i7(z,q,e,V,P,D){jz.call(this,e,q);
this.av1=D;this.Bz=P;this.WA=null;this.lv=J.k("div","form");this.body.appendChild(this.lv);this.apN=J.k("div");
this.lv.appendChild(this.apN);var B=500;if(V){var A=V.split(",");V=A[0];if(A[1])B=parseFloat(A[1])}this.W1=z==0?new eE(e,null,10):z==1?new hH(e,0,B,V,1):new eE(e,null,24,5);
this.W1.Q(_.E.f,this.nx,this);this.lv.appendChild(this.W1.$);this.CO=J.Hy(this,this.lv);this.Q("closebtn",this.DF,this)}i7.prototype=new jz;
i7.prototype.SM=function(z,q){return new f5(Math.max(0,Math.min(150,(z-250)/2)),Math.max(0,Math.min(150,(q-120)/2)))};
i7.prototype.ay=function(){return this.av1};i7.prototype.nx=function(z){var q=this.W1.r();if(this.Bz)this.i2(q)};
i7.prototype.DF=function(z){if(this.Bz)this.i2("cancel")};i7.prototype.En=function(z){if(this.Bz)this.i2("confirm");
else this.i2(this.W1.r());this.close()};i7.prototype.i2=function(z){if(this.WA.Wm)this.WA.Wm(z);else if(this.WA.DI){var q=this.WA.DI,e=new dW(q.N,!0);
e.U=q.U;e.data=q.M;e.data.u=z;e.Hf=!0;this.K(e)}};i7.prototype.W=function(){jz.prototype.W.call(this);
this.CO.W();if(this.W1)this.W1.W()};i7.prototype.N_=function(z,q){this.WA=q;this.W1.a(q.Zz);this.W1.DU();
this.apN.innerHTML=q.a8F?q.a8F:"";this.nx(null)};function kf(){jz.call(this,[1,5],"open_from_url");this.P5=null;
var z=J.k("div","form");this.body.appendChild(z);this.axz=new eE("URL",null,22);z.appendChild(this.axz.$);
J.f9(z);this.a5u=new eD([21,0],[[21,2],[21,1]]);z.appendChild(this.a5u.$);this.CO=J.Hy(this,z)}kf.prototype=new jz;
kf.prototype.W=function(){jz.prototype.W.call(this);this.CO.W();this.a5u.W()};kf.prototype.N_=function(z,q,e){this.axz.DU();
this.P5=null;var V=e.nk;if(z&&V.indexOf(z)!=-1)this.P5=V.indexOf(z)};kf.prototype.En=function(z){var q=new dW(_.E.b,!0),e=this.axz.r();
q.data={p:_.m.ge,Lh:{url:e,MP:!0,P5:this.a5u.r()==1?this.P5:null}};this.K(q);this.close()};function hv(){jz.call(this,[12,79],"preferences");
this.i=null;var z=J.k("div","form");z.style.width="290px";this.body.appendChild(z);this.TD=[new iP([8,2]),new l0,new l0,new iP([8,4]),new l0,new cr([12,80,3],[[12,93,3],[12,80,4]]),new gO(["VAR0 X",[12,80,5]],.02,200,null,2),new cr(null,T.tR.k6),new gO(["VAR0 Y",[12,80,5]],.02,200,null,2),new gO("Subdivision",1,10),new cr([12,80,6],T.tR.k6),new l0,new cr([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]),new iP("Zoom with Scroll Wheel"),new iP("Glass Menus"),new gO("Cursor Offset",0,200),new eE("Dezgo API Key")];
for(var n=0;n<this.TD.length;n++){var q=this.TD[n];q.parent=this;q.Q(_.E.f,this.T$,this);if(n==2){var e=new ij("Local guides:");
z.appendChild(e.$)}if(n==11){var e=new ij("Quick Mask Color:");z.appendChild(e.$)}z.appendChild(q.$);
if(n!=0&&n!=1&&n!=3&&n!=4&&n!=6&&n!=8)J.f9(z);if(n==2||n==9||n==11)J.dh(z)}}hv.prototype=new jz;hv.prototype.W=function(){jz.prototype.W.call(this);
for(var n=0;n<this.TD.length;n++)this.TD[n].W()};hv.prototype.N_=function(z,q,e){};hv.prototype.K5=function(z,q){this.i=z;
var e=z.Y8;this.TD[0].a(e.r3);this.TD[1].it(e.C$);this.TD[2].it(e.hT);this.TD[3].a(e.l0);this.TD[4].it(e.iS);
this.TD[5].a(e.Qm);this.TD[6].a(e.kV);this.TD[7].a(e.Uu);this.TD[8].a(e.AG==0?e.kV:e.AG);this.TD[9].a(e.fB);
this.TD[10].a(e.oZ);var V=window.locStor.getItem("__qmc");this.TD[11].it(V==null?16711680:V);var P=window.locStor.getItem("__itp");
this.TD[12].a(P==null?1:P);var D=window.locStor.getItem("__zwh");this.TD[13].a(D==1);var B=window.locStor.getItem("__glm");
this.TD[14].a(B=="1");this.TD[15].a(z.sF);var A=window.locStor.getItem("__dak");this.TD[16].a(A?A:"")};
hv.prototype.T$=function(z){var q=this.TD,e=T.G(this.i.Y8);e.r3=q[0].r();e.C$=q[1].ou();e.hT=q[2].ou();
e.l0=q[3].r();e.iS=q[4].ou();e.Qm=q[5].r();e.kV=q[6].r();e.Uu=q[7].r();if(z.target==q[6]){q[8].a(q[6].r());
e.AG=0}else e.AG=q[8].r();e.fB=q[9].r();e.oZ=q[10].r();var V=window.locStor;V.setItem("__qmc",q[11].ou());
V.setItem("__itp",q[12].r());V.setItem("__zwh",q[13].r()?"1":"0");V.setItem("__glm",q[14].r()?"1":"0");
this.i.sF=q[15].r();var P=q[16].r();if(P=="")V.removeItem("__dak");else V.setItem("__dak",P);var D=new dW(_.E.b,!0);
D.data={p:_.m.Ln,Lh:cR.qU,oo:e};this.K(D)};function c2(){jz.call(this,[11,8],"saveforweb");this.aj5="";
this.caller=null;this.Er=null;this.i=null;J.d6(this.body,"flexrow");this.body.style.padding="0";var z=J.k("div");
J.C(z,"position:relative;");var q=J.k("div");this.body.appendChild(z);this.body.appendChild(q);this.L9=J.k("div","imgcont");
z.appendChild(this.L9);this.rN=new hX;this.rN.hh(512,512);var e=this.X4=J.k("video");e.setAttribute("controls","");
e.setAttribute("preload","auto");e.setAttribute("loop","");var V=this.Oz=J.k("audio");V.setAttribute("controls","");
V.setAttribute("preload","auto");V.setAttribute("loop","");this._o=J.k("div");J.C(this._o,"position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
z.appendChild(this._o);var P=this.lv=J.k("div","form cell");J.C(P,"width:195px; padding:9px 13px;");
q.appendChild(P);this.eE=new eE([12,48],null,7.6);this.eE.cp();P.appendChild(this.eE.$);var D=hZ.DR();
D[D.indexOf("WEBP")]="webP";this.zx=new cr([12,50],D);this.zx.$.style.marginRight="0";this.zx.cp();P.appendChild(this.zx.$);
this.zx.Q(_.E.f,this.sE,this);J.f9(P);this.Gr=new aC(!0,!0,!1,!0);this.Gr.cp();this.Gr.Bh.$.style.paddingBottom="8px";
this.oY=new cr("Sampling Rate",["8,000 Hz","16,000 Hz","22,050 Hz","44,100 Hz","48,000 Hz"]);this.oY.cp();
this.oY.a(4);this.pF=new iP("Stereo");this.pF.$.style.marginLeft="1.3em";this.pF.a(!0);this.uU=new aJ([12,41],2,20,"in",2,null,!0);
this.uU.a(8.27);this.jD=new iP("Add Tabs");this.jD.a(!0);this.Gr.Q(_.E.f,this.sE,this);this.oY.Q(_.E.f,this.sE,this);
this.pF.Q(_.E.f,this.sE,this);this.uU.Q(_.E.f,this.sE,this);this.jD.Q(_.E.f,this.sE,this);this.anP=J.k("div");
P.appendChild(this.anP);this.AN=new hk;this.AN.Q(_.E.f,this.sE,this);if(cW<2)P.appendChild(this.AN.$);
this.aE=new ht([1,2],!1,null,!0);this.aE.Q("click",this.En,this);P.appendChild(this.aE.$);this.JI=new ht("...",!1,null,!0);
this.JI.Q("click",this.En,this);P.appendChild(this.JI.$)}c2.prototype=new jz;c2.prototype.h3=function(z,q){return z!=null};
c2.prototype.W=function(){jz.prototype.W.call(this);this.Gr.W();this.eE.W();this.zx.W();this.oY.W();
this.uU.W();this.jD.W();this.AN.W();this.aE.W()};c2.prototype.En=function(z){var q=this.eE.r().trim(),e=hZ.DR()[this.zx.r()],V=e=="JPG"||e=="PNG"||e=="GIF"||e=="SVG"||e=="WEBP",P=hZ.nw(e),D="."+e.toLowerCase(),B=this.Er,A=q+D,s=this.caller.yT(),a=s.tQ,M=this.AN.r(),$=a.length!=0&&V?M.slcs:0;
if($!=0){var U=[],o={},t=new kk(0,0,s.s,s.T),c=T.EZ(s.tW(),8);for(var n=0;n<a.length;n++)U.push(W.zL.xl(a,n));
U.reverse();var H=T.V.aF6([0,0,s.s,s.T],U),F=[];for(var n=0;n<H.length;n++){var i=H[n],X=new kk(i[0],i[1],i[2]-i[0],i[3]-i[1]),hE=""+(n+1);
if(hE.length<2)hE="0"+hE;hE=q+"_"+hE;if(i[4]!=null&&a[i[4]].v.Nm)hE=a[i[4]].v.Nm.v;var K="images/"+hE+D;
F.push(K);if($==2&&i[4]==null)continue;var f=T.n(X.D()*4);T.aF(c,t,f,X);if(o[K]){alert("There are multiple slices with a name \""+hE+"\"");
return}o[K]=new Uint8Array(P.gB([[f.buffer,0,s.do,s.MX]],X.s,X.T,M))}F.push("images/spacer.gif");var d="<html>\n<head>\n<title>"+q+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
d+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
d+="<!-- Save for Web Slices ("+s.name+") -->\n";d+=T.V.a1M(H,F,a,$)+"\n";d+="<!-- End Save for Web Slices -->\n";
d+="</body>\n</html>\n";var L=T.n(Math.round(d.length*1.5)),G=y.m$(d,L,0);o["index.html"]=L.slice(0,G);
B=UZIP.encode(o);A=q+".zip"}else if(s.at6()&&V&&M.artb){var x=[],t,c;if(cW==0){t=new kk(0,0,s.s,s.T);
c=T.EZ(s.tW(),8);var O=s.root.children;for(var n=0;n<O.length;n++){var v=O[n].H;if(v.add.artb==null||!v.Sw())continue;
x.push([v.getName(),v.Le()])}}else{t=s.GM();c=new Uint8Array(s.Vc(this.i));var C=s.add.arts;for(var n=0;
n<C.length;n++){var S=C[n];x.push([S.Q7,T.R.b_(S.sI)])}}var o={};for(var n=0;n<x.length;n++){var j,S=x[n][1];
if(e=="SVG")j=new Uint8Array(P.gB(s,S.s,S.T,M,this.i,n));else{var w=T.n(S.D()*4);console.log(t,S);T.aF(c,t,w,S);
j=new Uint8Array(P.gB([[w.buffer,0,s.do,s.MX]],S.s,S.T,M))}o[x[n][0]+D]=j}B=UZIP.encode(o);A=q+".zip"}var u=z&&z.target==this.JI,l=function(){if(s.QB)gC.ET("act=1&id="+s.QB);
this.close();var D=hZ.DR()[this.zx.r()];lA.event("efmt_"+D.toLowerCase(),.1);var Q=new dW(_.E.b,!0);
Q.data={p:_.m.RB,data:B,name:A};if(u){Q.data={p:_.m.wa,rF:"storwindow",Ml:1,eC:A,xO:B}}this.K(Q)}.bind(this);
s.zb();if(!this.i.IC||lA.aY()){l();return}var I=ln.c9()!=0;l();var Q=new dW(_.E.b,!0),b=jS.Mh("3UMe\\ORYBB@EVG9* 08{\"\",jxruk^vw\"mLg\\GDGdUL?BI*%/=-|\"!%p(ffr{hdrdUOfWJB@W6@3K<;30,,+3`uy{sqc\\7"),p=jS.Mh(";QJXQ_*II9"),k=function(){Q.data={p:_.m.wa,rF:"account"};
this.K(Q)}.bind(this);if(I){b=jS.Mh("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-C$NOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
k=function(){};p=null}Q.data={p:_.m.wa,rF:jS.ph,u:b,Wm:k,aN7:p};if(cW==0)if(Math.random()<.1||I)this.K(Q)};
c2.prototype.br=function(){this.rN.jT();this.rN.a(null);this.Er=null};c2.prototype.N_=function(z,q,e){if(q.gh!=null)this.zx.a(q.gh);
this.caller=e,z=e.yT();var V=z.name,P=V.lastIndexOf("."),V=P==-1?V:V.slice(0,P);this.eE.a(V);var D=z.s,B=z.T;
if(cW==1){var A=z.GM();D=A.s;B=A.T}var s=D+","+B;if(s!=this.aj5){this.aj5=s;this.Gr.a(new f5(D,B),z.do)}this.AN.aOk();
this.sE(null,!0);if(q.atG){this.Gr.UA(3);var a=this.AN.r();a.rall=!0;this.AN.a(a)}this.aE.$.focus()};
c2.prototype.au4=function(z,q){return z<q&&z<660};c2.prototype.SM=function(z,q){return this.au4(z,q)?new f5(0,0):new f5(Math.max(0,Math.min(150,(z-770)/2)),Math.max(0,Math.min(150,(q-590)/2)))};
c2.prototype.hh=function(z,q,e){this.xL=z;this.Hi=q;if(this.caller==null||this.caller.yT()==null)return;
var V=this.aE.$,P=this.au4(z,q),D,B,U="<span style=\"width:",o="display:inline-block; text-align:right;\">";
if(P){var A=this.lv.getBoundingClientRect().height;D=z;B=q-Math.max(A,252);J.Pf(this.body,"flexrow")}else{D=Math.min(512,z-195-2*13);
B=Math.min(512,q-24);J.d6(this.body,"flexrow")}var s=P?z-2*13:195;this.lv.style.width=s+"px";this.eE.K4.style.width=s-78+"px";
this.Gr.hh(s-1);this.aE.$.style.width=s-28+"px";this.JI.$.style.marginRight="0";var a=hZ.DR()[this.zx.r()],M=hZ.nw(a);
if(M.k2||M.mv)J.C(this.L9.firstChild,"display:block; width:"+D+"px; height:"+B+"px;");else{this.rN.hh(D,B);
this.X4.width=D;this.X4.height=B;this.Oz.width=D;this.Oz.height=B}if(this.Er==null)return;var $=this.Er.byteLength,c=U+64+"px;"+o+c2._M($)+"</span>";
if(D>400)c+=U+90+"px; opacity:"+.5+";"+o+$.toLocaleString()+" B</span>";this._o.innerHTML=c;if(e)setTimeout(function(){this.hh(this.xL,this.Hi)}.bind(this),20)};
c2._M=function(z){var q=z.toString(2),e=0;while(e+10<q.length)e+=10;var V=(z/Math.pow(2,e)).toFixed(1);
if(V.endsWith(".0"))V=V.slice(0,-2);var P="B KB MB GB TB PB".split(" ")[Math.floor(e/10)];return V+" "+P};
c2.prototype.K5=function(z,q){this.i=z};c2.prototype.sE=async function(z,q){var e=this.caller.yT(),V=this.Gr.r(),P=V.x,D=V.y,B=this.zx.r(),A=hZ.DR()[B],s=cW==2&&(A!="PDF"&&A!="PNG"),a=cW+s,i="";
if(this.aEm!=a){this.aEm=a;var M=this.anP;J._8(M);if(cW<2)M.appendChild(this.Gr.$);else{if(s){M.appendChild(this.oY.$);
M.appendChild(this.pF.$)}else{M.appendChild(this.uU.$);M.appendChild(this.jD.$)}}}var $=hZ.dv(e)[0].length,U=["GIF","PNG","WEBP","MP4"].indexOf(A)!=-1&&$>1;
if(U&&A!="MP4"&&q&&($>4&&P*D>1024*1024||P*D*$>800*800*50)){var o=1;while(Math.max(P>>>o,D>>>o)>800)o++;
var t=window.confirm("Your animation is large ("+P+" x "+D+" px). Press \"OK\" to scale it to "+(100>>>o)+"%. Press \"Cancel\" to keep the size.");
if(t){this.Gr.a(new f5(P>>>o,D>>>o),null,!0);P=P>>>o;D=D>>>o}}var c=e.qh();this.AN._5(A,U,e.tQ.length!=0,e.at6(),c!=null&&e.depth!=32,e.kv.length!=0,e.depth);
var H=window.locStor.getItem("sfwPrms");if(H==null)H={};else{H=JSON.parse(H);if(H.MP4&&H.MP4.qual==100)H.MP4.qual=50}var F=this.AN.r();
if(z&&z.target==this.AN){H[A]=F;window.locStor.setItem("sfwPrms",JSON.stringify(H))}else if(H[A]){this.AN.a(H[A]);
F=this.AN.r()}if(cW==2){F.srat=[8e3,16e3,22050,44100,48e3][this.oY.r()];F.ster=this.pF.r();F.wdth=this.uU.r()*72;
F.tabs=this.jD.r()}this.Er=await hZ.zK(e,A,P,D,F,this.i);if(this.Er==null){return}J._8(this.L9);this.rN.jT();
var X=hZ.nw(A);if(X.mv){this.L9.innerHTML="<div></div>"}else if(cW==2&&A!="PNG"&&A!="PDF"){var K=X.EY(this.Er),f=URL.createObjectURL(new Blob([hZ.NM.gB(K)]));
this.Oz.setAttribute("src",f);this.L9.appendChild(this.Oz)}else if(X.k2){var L=P,G=D,f;if(A=="PDF"||A=="AI"){f=URL.createObjectURL(new Blob([this.Er],{type:"application/pdf"}))}else{f=URL.createObjectURL(new Blob([this.Er],{type:"image/svg+xml"}))}this.L9.innerHTML="<iframe src=\""+f+"\"></iframe>"}else if(A=="MP4"){var f=URL.createObjectURL(new Blob([this.Er]));
this.X4.setAttribute("src",f);this.L9.appendChild(this.X4)}else{var x=X.LB?await hZ.ajF(X,this.Er):X.EY(this.Er),O=x[0],v=O.hp,L=v.s,G=v.T;
if(O.depth!=null&&O.depth!=8)for(var n=0;n<x.length;n++){var C=x[n].depth==16?Uint16Array:Float32Array;
x[n].data=T.EZ(new C(x[n].data),8).buffer;x[n].depth=8}if(O.LN){var K=ICC.R(O.LN.buffer),S=17,j=ICC.U.sampleLUT(K,S);
for(var n=0;n<x.length;n++){var w=new Uint8Array(x[n].data);ICC.U.applyLUT(j,S,w,w)}}this.rN.a(x,x.length>1?F[F.length-3]:0);
this.L9.appendChild(this.rN.$);i="background: rgba(0,0,0,0);"}J.C(this.L9,"display:block; "+(X.mv?"background:rgba(0,0,0,0);":"background-size:"+16/J.WU()+"px;")+i);
this.hh(this.xL,this.Hi,q)};function dk(){jz.call(this,[11,13],"shortcuts");this.i=null;var z=this.tC=J.k("div","scrollable");
J.C(z,"min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(z);this.c$()}dk.prototype=new jz;
dk.prototype.W=function(){jz.prototype.W.call(this);this.c$()};dk.prototype.K5=function(z,q){this.i=z};
dk.prototype.N_=function(z,q,e,V){if(J.H2(this.$))this.c$()};dk.prototype.c$=function(){var z="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",q="",e=cz,V=e.EF,P=e.XQ,D=e.mh;
q+="<h2 style=\"margin-top:0;\">Main Menu</h2>";q+=z;q+=this.i0([[0,0],"---",[1,0],[V,e.Lg],[1,2],[V,e.en],[1,3],[P,V,e.en],[1,8],[D,P,V,e.en],[0,1],"---",[2,0],[P,V,e.wX],[2,1],[V,e.wX],[5,0],[V,e.s$],[5,1],[V,e.jj],[5,2],[V,e.WT],[2,2],"Delete",[2,3],[D,e.QI],[10,16],[D,V,e.J3],[12,79],[V,e.W3],[3],"---",[4,1],[V,e.eT],[4,2],[V,e.BH],[4,5],[V,e.dO],[4,11],[V,e.Pd],[0,3],"---",[6,13],[P,V,e.pm],[6,49,0],[V,e.LI],[6,6,0],[D,V,e.sb],[6,9],[V,e.sb],[6,10],[V,e.E],[0,5],"---",[7,0],[V,e.m],[7,1],[V,e.Tj],[7,2],[P,V,e.Pd],[0,7],"---",[8,0],[V,e.Zj],[8,1],[V,e.w1],[8,3],[V,e.Qf],[8,2],[V,e.Vb],[8,4],[V,e.Nc],[11,13],"?"]);
q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";q+=z;q+=this.i0(["Vertical scroll","Wheel","Horizontal scroll",[V,"Wheel"],"Zooming",[D,"Wheel"]]);
q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
q+=z;q+=this.i0([[10,11],[V],[10,7],"Space",[10,17],[V,e.ii]]);q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
q+=z;var B=[],A=this.i;if(A==null)return;var s=A.jc;for(var n=0;n<s.Oo.length;n++){var a=s.Oo[n],M=s.keys[n];
for(var $=0;$<a.length;$++)B.push(a[$].U.name,M?M.HS:null)}B=B.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[V,e.AK]]);
q+=this.i0(B);q+="</div>";this.tC.innerHTML=q};dk.prototype.i0=function(z){var q="",e=!0;for(var n=0;
n<z.length;n+=2){var V=z[n],P=cz.L6(z[n+1]);if(P==null){e=!1;continue}var D=J.S8(iE.get(V));if(P=="---"){if(!e)q+="<br/>";
q+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+D+"</div>"}else q+="<div>"+D+" <span style=\"float:right; font-weight:bold;\">"+P+"</span> </div>";
e=!1}return q};function gD(z){jz.call(this,z?"Artboard Options":[8,11,1],(z?"a":"s")+"options");this.z1=null;
this.a9T=z;var q=J.k("div","form");q.style.width="20em";this.body.appendChild(q);this.sz={Nm:[12,48],url:"URL",null:[12,71]};
this.TD={};for(var e in this.sz){if(z&&e!="Nm")continue;var V=new eE(this.sz[e],null,15);this.TD[e]=V;
q.appendChild(V.$)}this.aA0=new ij([12,14,0]);q.appendChild(this.aA0.$);this.eH=new lz(0,!z);q.appendChild(this.eH.$);
this.CO=J.Hy(this,q)}gD.prototype=new jz;gD.prototype.N_=function(z,q,e){var V=q.u;this.z1=JSON.stringify(V);
console.log(V);if(V.sI){this.TD.Nm.a(V.Q7);var P=V.sI,D=P[0],B=P[1];this.eH.a([D,B,P[2]-D,P[3]-B])}else{for(var A in this.sz){this.TD[A].a(V[A]?V[A].v:"")}var s=V.bounds.v,D=s.Left.v,B=s.Top.v;
this.eH.a([D,B,s.Rght.v-D,s.Btom.v-B])}};gD.prototype.En=function(z){var q=JSON.parse(this.z1),e=new dW(_.E.z,!0),V=this.eH.r(),P=V[0],D=V[1];
console.log(V);if(this.a9T){q.Q7=this.TD.Nm.r();q.sI=[P,D,P+V[2],D+V[3]];e.U=W.jg;e.data={p:"rpl",u:q}}else{for(var B in this.sz){var A=this.TD[B].r();
q[B]={t:"TEXT",v:A}}var s=q.bounds.v;s.Left.v=P;s.Top.v=D;s.Rght.v=P+V[2];s.Btom.v=D+V[3];e.U=W.vS;e.data=q}e.Hf=!0;
this.K(e);this.close()};gD.prototype.W=function(){jz.prototype.W.call(this);this.CO.W();this.aA0.W();
this.eH.W()};function jl(){jz.call(this,[2,3],"fill");this.VY=null;var z=J.k("div","form padded");z.style.width="22em";
this.body.appendChild(z);this.W7="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.Dk=new cr([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.Dk.Q(_.E.f,this.aLX,this);z.appendChild(this.Dk.$);this.L9=J.k("span");z.appendChild(this.L9);this.FF=new l0;
this.FF.parent=this;this.FF.it(0);this.yw=new kQ;this.yw.parent=this;this.a9X=new cr([12,19,0],aA.p4,aA.Cx);
z.appendChild(this.a9X.$);this.g5=new hH([12,0],0,100,"%",0,!1);this.g5.a(100);z.appendChild(this.g5.$);
this.H4=new iP([13,5]);this.H4.a(!1);z.appendChild(this.H4.$);this.CO=J.Hy(this,this.body)}jl.prototype=new jz;
jl.prototype.h3=function(z,q){return z!=null};jl.prototype.ay=function(){return!0};jl.prototype.aLX=function(){var z=this.Dk.r(),q=this.FF.$,e=this.yw.$,V=this.L9;
if(z==2)V.appendChild(q);else if(V.contains(q))V.removeChild(q);if(z==7)V.appendChild(e);else if(V.contains(e))V.removeChild(e)};
jl.prototype.W=function(){jz.prototype.W.call(this);this.Dk.W();this.a9X.W();this.g5.W();this.H4.W();
this.CO.W()};jl.prototype.En=function(z){if(!this.VY.Ov())return;var q=new dW(_.E.zN,!0),e=this.Dk.r();
q.data=W.j6.J8(this.W7[e],aA.q2[this.a9X.r()],this.g5.r()/100,this.FF.r(),this.H4.r(),this.yw.r());this.close();
this.K(q)};jl.prototype.N_=function(z,q){this.VY=z};jl.prototype.K5=function(z,q){if(q==cR.zu||q==cR.gv){this.yw.zT(z.fr);
this.yw.a({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function jU(){jz.call(this,[14,9],"stroke");this.i=null;this.lv=J.k("div","form");J.C(this.lv,"width:24em");
this.body.appendChild(this.lv);this.xB=new iX("FrFX",!0);this.xB.parent=this;var z=["Sz","Styl","Md","Opct"].concat(az.RS);
for(var n=0;n<z.length;n++){var q=this.xB.g4[z[n]].$;this.lv.appendChild(q)}this.Zg=!1;this.CO=J.Hy(this,this.body)}jU.prototype=new jz;
jU.prototype.h3=function(z,q){return z!=null};jU.prototype.ay=function(){return!0};jU.prototype.W=function(){jz.prototype.W.call(this);
this.CO.W();this.xB.W()};jU.prototype.En=function(z){var q=this.xB.r(),e={classID:"Strk"};e.Md=q.Md;
e.Opct=q.Opct;e.Clr=q.Clr;e.Wdth={t:"long",v:q.Sz.v.val};var V=az.stroke.types.indexOf(q.Styl.v.FStl);
e.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][V]}};var P=new dW(_.E.zN,!0);P.data={gQ:"stroke",cj:e};
this.close();this.K(P)};jU.prototype.N_=function(z,q){if(!this.Zg){var e=az.j3[az.order.indexOf("FrFX")];
e=JSON.parse(e);this.xB.update(z,e);this.Zg=!0}var e=this.xB.r(),V=this.i.pQ;e.Clr.v=T.Yf.e8({l:V>>16&255,I:V>>8&255,c:V&255});
this.xB.update(z,e)};jU.prototype.K5=function(z,q){this.i=z};function lb(){jz.call(this,[11,9],"textwarp");
this.TD=new j8;this.TD.Q(_.E.f,this.SE,this);this.TD.parent=this;this.lv=J.k("div","form");J.C(this.lv,"width:20em");
this.body.appendChild(this.lv);this.lv.appendChild(this.TD.F_.$);this.lv.appendChild(this.TD.TZ.$);this.lv.appendChild(this.TD.Jj.$);
this.lv.appendChild(this.TD.hR.$);this.lv.appendChild(this.TD.Qq.$);this.CO=J.Hy(this,this.lv);this.Q("closebtn",this.DF,this)}lb.prototype=new jz;
lb.prototype.ay=function(){return!0};lb.prototype.W=function(){jz.prototype.W.call(this);this.CO.W();
this.TD.W()};lb.prototype.SE=function(z){var q=this.TD.r();this.i2({p:"warp",OL:q})};lb.prototype.i2=function(z){var q=new dW(_.E.z,!0);
q.U=W.no;q.data=z;q.Hf=!0;this.K(q)};lb.prototype.DF=function(z){this.i2({p:"warpCancel"})};lb.prototype.En=function(z){this.i2({p:"warpConfirm"});
this.close()};lb.prototype.N_=function(z,q){var e=z.Z[z.j[0]];this.TD.a(e.add.TySh.au)};function lD(){jz.call(this,[11,12,0],"trim");
var z=this.lv=J.k("div","form");J.C(this.lv,"width:22em");this.body.appendChild(this.lv);var q=new ij("Color To Trim:");
z.appendChild(q.$);this.Dh=new db(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.Dh.a([!0]);this.lv.appendChild(this.Dh.$);var q=new ij("Sides:");z.appendChild(q.$);this.Cl=new db(null,["Top","Left","Bottom","Right"]);
this.Cl.a([!0,!0,!0,!0]);this.lv.appendChild(this.Cl.$);this.CO=J.Hy(this,this.body)}lD.prototype=new jz;
lD.prototype.h3=function(z,q){return z!=null};lD.prototype.ay=function(){return!0};lD.prototype.W=function(){jz.prototype.W.call(this);
this.Dh.W();this.Cl.W();this.CO.W()};lD.prototype.En=function(z){var q=this.Dh.r().indexOf(!0),e=this.Cl.r(),V=new dW(_.E.zN,!0);
V.data=W.hV.V7(q,e);this.close();this.K(V)};function dZ(){jz.call(this,"Raw Photopea","rawpea");this.n3=null;
this.body.style.padding="0";var z=this.l4=new e1["Adobe Camera Raw Filter"](!0),q="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(z.$);this.pC=new cr("Space",hq.tG);this.bH=new cr(null,["8 bit","16 bit","32 bit"]);
this.auq=new ht([1,0],!0,null,!0);this.auq.Q("click",this.En,this);this.Ps=new ht(q+" JPG",!0,null,!0);
this.Ps.Q("click",this.anf,this);z.RU(this.pC.$);z.RU(this.bH.$);z.RU(this.auq.$);z.RU(this.Ps.$)}dZ.prototype=new jz;
dZ.prototype.SM=function(){return new f5(0,0)};dZ.prototype.hh=function(z,q){this.l4.hh(z,q)};dZ.prototype.K5=function(z,q){this.l4.K5(z,q)};
dZ.prototype.W=function(){jz.prototype.W.call(this);this.l4.W()};dZ.prototype.anf=function(z){var q=this.l4.aLW(0,8),e=q[1],V=hZ.nw("JPG").gB([[q[0].buffer]],e.s,e.T,[85]),P=new dW(_.E.b,!0);
P.data={p:_.m.RB,data:V,name:"photo.jpg"};this.K(P)};dZ.prototype.En=function(z){var q=this.n3,e=8<<this.bH.r(),V=this.pC.r(),P=lE.B0(q),D=this.l4.aLW(V,e),B=D[1],q={hp:B,data:D[0].buffer,MX:P,depth:e},A=hZ.Jy("Raw Photo",[q]);
if(V!=0)A.L4(hZ.ui.get(hq.aT[V]));var s=new dW(_.E.b,!0);s.data={p:_.m.Mk,Va:A};this.K(s);this.NT();
this.close()};dZ.prototype.NT=function(){this.n3=null;this.l4.a3P()};dZ.prototype.N_=function(z,q,e,V){this.n3=q.Nm;
this.l4.apR(q.Nm)};dZ.prototype.Hp=function(z){return!0};dZ.prototype.gi=function(z,q,e,V){jz.prototype.gi.call(this,z,q,e,V);
this.l4.gi(V)};function by(z){jz.call(this,z?[11,11,0]:[11,11,1],z?"vbitmap":"rcolors");this.WA=null;
this.EN=null;this.aum=null;this.hs=null;this.Sc=null;this.a9q=null;this.Va=null;this.i=null;this.OY="";
this.Wz=z;this.aGq=this.zk.bind(this);this.ahZ=!1;this.body.style.padding="0";this.lv=J.k("div","form hbar padded");
this.body.appendChild(this.lv);this.rQ=new db(null,["Fill","Stroke","Labels"]);this.rQ.Q(_.E.f,this.zk,this);
var q=J.k("span","rangecontFloat form padded"),s=16;q.appendChild(this.rQ.$);J.C(q,"position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var e=new gq;e.$=q;var V=this.$_={cnum:new gO([12,82],2,50,null),ctab:new kW,nois:new iP([12,81]),mode:new cr(null,["Cartoon","Photo"]),segm:new iP("Segmentize"),cbok:new iP("Coloring book"),poly:new iP("Polygon"),merg:new iP("Merge colors"),polE:new gO("Roughness",2,30,null),dthr:new iP([12,23,3]),vprm:new ht("\u2026",!1,null,!0),ok:J.Hy(this,null,!1)},P=this;
for(var D in V){var B=V[D];B.parent=this;if(D=="ok"){}else if(D=="vprm"){B.Q("click",function(M){var $=V.vprm.$.getBoundingClientRect(),U=new dW(_.E.b,!0);
U.data={p:_.m.wL,MR:e,x:$.left,y:$.top+20};P.K(U)})}else B.Q(_.E.f,this.zk,this)}var A=this.r7=J.k("div","flexrow");
this.body.appendChild(A);J.C(A,"background-color:var(--bg-canvas)");this.tD=new hX;this.tD.Q("viewchange",this.Fn,this);
this.Pl=new hX;this.TX=J.k("canvas");J.C(this.TX,"margin:0 0 0 1px; padding:0; cursor:grab;");this.YI=this.TX.getContext("2d");
var a=T.n(16*16*4);T.w$(a,s,s,8);this.gu=T.scale._L(a,s,s);this.tD.azS(this.TX);this.tD.TJ(this.Pl);
this.Pl.TJ(this.tD);A.appendChild(this.tD.$);if(z)A.appendChild(this.TX);else A.appendChild(this.Pl.$)}by.prototype=new jz;
by.prototype.SM=function(){return new f5(0,0)};by.prototype.ay=function(){return!0};by.prototype.hh=function(z,q){this.xL=z;
this.Hi=q;q=q-44;if(z<600)q-=29;if(this.WA==null)return;var e=this.WA.hp,V=dl.Ub(z,q,e.s,e.T);if(V==1)q-=3;
if(V==0){z=Math.floor(z/2);J.d6(this.r7,"flexrow")}else{q=Math.floor(q/2);J.Pf(this.r7,"flexrow")}J.rw(this.TX,z,q);
this.tD.hh(z,q);if(this.Wz)this.Fn();else this.Pl.hh(z,q)};by.prototype.gi=function(z,q,e,V){this.tD.gi(V)};
by.prototype.W=function(){jz.prototype.W.call(this);for(var z in this.$_)this.$_[z].W()};by.prototype.N_=function(z,q){this.Va=z;
this.Sc=null;var e=z.Z[z.j[0]];if(cW==1){var V=e.add.SoLd,P=V.Idnt.v,D=z.VH(P,V.Crop?V.Crop.v:null);
e={buffer:D.De[0],V:D.De[1]}}var B=T.EZ(e.buffer,8),A=T.xQ.aIb(B.buffer,e.V.s,e.V.T).aJn,s=A/((e.V.s-2)*(e.V.T-2)),a=this.$_;
a.cnum.a(20);a.nois.a(s<.75);a.mode.a(s<.75?1:0);a.segm.a(!1);a.cbok.a(!1);a.poly.a(!1);a.merg.a(!0);
a.polE.a(1);a.dthr.a(!1);var M=e.V.Y();M.x=M.y=0;this.WA={hp:M,data:B.buffer.slice(0)};this.EN=null;
this.hh(this.xL,this.Hi);this.tD.a([this.WA]);this.tD.ih();this.ahZ=!0;this.rQ.a([!0,!1,!1]);setTimeout(this.aGq,20)};
by.prototype.zk=function(z){var q=!0,e=Date.now(),V=this.WA,P=this.$_,D=P.cnum.r(),B=P.nois.r(),A=P.mode.r(),s=P.segm.r(),a=P.cbok.r(),M=P.poly.r(),$=P.merg.r(),U=P.polE.r(),v=null;
if(A==0)s=M=a=!1;var o=P.dthr.r(),t=["cnum","mode","ctab","nois"];if(A==1){t.push("cbok");if(this.Wz){t.push("poly");
if(M)t.push("polE");t.push("vprm")}}if(this.Wz)t.push("merg");else t.push("dthr");t.push("ok");J._8(this.lv);
for(var n=0;n<t.length;n++)this.lv.appendChild(P[t[n]].$);if(q)console.log("---------------------------------------");
var c=B||s,H=B+","+s;if(c&&(this.EN==null||this.OY!=H)){this.OY=H;var F=new Uint8Array(V.data),i=V.hp.s,X=V.hp.T;
if(B){if(this.Sc==null){this.Sc=F.slice(0);T.iE.e$=35;T.iE._$(this.Sc,this.Sc,i,X,15,1);if(q){console.log("denoise",Date.now()-e);
e=Date.now()}}F=this.Sc.slice(0)}else F=F.slice(0);if(s){var K=T.xQ.oj(F,i,X,40,10),f=K.W3,d=new Uint8Array(f*4);
for(var n=0;n<f;n++){var L=n*4,G=n*6,x=1/K.uJ[G+5];d[L]=K.uJ[G]*x;d[L+1]=K.uJ[G+1]*x;d[L+2]=K.uJ[G+2]*x}for(var n=0;
n<F.length;n+=4){var O=K.Vt[n>>>2]*4;F[n]=d[O];F[n+1]=d[O+1];F[n+2]=d[O+2]}if(q){console.log("segm",Date.now()-e);
e=Date.now()}}this.EN={hp:V.hp.Y(),data:F.buffer}}if(c)V=this.EN;var F=new Uint8Array(V.data),i=V.hp.s,X=V.hp.T;
for(var n=0;n<F.length;n+=4){if(F[n+3]<10)F[n]=F[n+1]=F[n+2]=F[n+3]=0}if(z==null||z.target==this.$_.cnum||z.target==this.$_.mode){if(A==0){v=T.xQ.aAn(F,i,X,D,c?.1:2e-4);
v.RM=gY.apH(v.RM);if(q){console.log("quantize",Date.now()-e);e=Date.now()}}if(A!=0||v&&v.RM.length<2){v=gY.avl(F.buffer,D,i,X)}this.$_.ctab.a(v.RM)}else{var d=this.$_.ctab.r(),O=T.n(i*X);
UPNG.encode.dither(F,i,X,gY.Lm(d),F.slice(0),O,0);v={Vt:O,RM:d};this.$_.cnum.a(d.length)}if(a){var d=new Uint32Array(gY.Lm(v.RM));
v.Vt=T.agT(F,i,X,new Uint8Array(d.buffer))}if(this.Wz){var C=v.Vt.slice(0);for(var n=0;n<C.length;n++)C[n]++;
this.vH=T.xQ.aOQ(v.Vt,i,X);var S=new Uint8Array((i+2)*(X+2));T.KY(C,new kk(1,1,i,X),S,new kk(0,0,i+2,X+2));
var j=Math.max(i,X)<=32;if(!M&&!j){var w=Math.round((i+2)*(X+2)/1e4),u=jL.UW(S.slice(0),i+2,X+2,Math.min(12,w)),l=jL.Kn(u);
if(q){console.log("trace smooth",Date.now()-e);e=Date.now()}}else{var l=T.R._J(S,i+2,X+2,j?1:U,q)}var I=l.length,Q=new e5(1,0,0,1,-1,-1);
for(var n=0;n<I;n++)T.R.v(l[n].path.J,Q,l[n].path.J);this.hs=l;for(var n=0;n<I;n++){var b=l[n];if(v.RM[b.color-1][1].x6>10)continue;
var p=b.parent;while(p!=-1){var k=l[p];p=k.parent;if(v.RM[k.color-1][1].x6<10)break;T.R.concat(k.path,T.R.reverse(b.path))}}if(q){console.log("finding holes",Date.now()-e);
e=Date.now()}for(var n=0;n<l.length;n++){var g=l[n];if(g.parent!=-1){var Y=l[g.parent];g.parent=Y;if(Y.oh==null)Y.oh=[];
Y.oh.push(g)}g.depth=g.parent==-1?0:g.parent.depth+1}if($){function R(aL,E){var dh={},eM=0,kg=0;for(var n=0;
n<aL.length;n++){var h=aL[n].color,jJ="c"+h;if(h==E)throw h;if(dh[jJ]==null)dh[jJ]=0;dh[jJ]++;if(dh[jJ]>eM){eM=dh[jJ];
kg=h}}return kg}var m=[],Z=[],E=-1,N=!0;for(var n=0;n<l.length;n++)if(l[n].parent==-1)Z.push(l[n]);while(Z.length!=0){var h=R(Z,E);
E=h;for(var n=0;n<Z.length;n++)if(Z[n].color==h){var j5=Z[n];m.push(j5);Z.splice(n,1);n--;if(j5.oh)for(var r=0;
r<j5.oh.length;r++){Z.push(j5.oh[r]);if(j5.oh[r].color!=h)N=!1}}}if(N)l=m;else{var l8=[];for(var aP=0;
aP<500;aP++){var bS=[],u=l8[aP-1];l8.push(bS);for(var n=0;n<l.length;n++){var g=l[n],Y=g.parent;if(aP==0&&Y==-1||aP!=0&&u.indexOf(Y)!=-1){bS.push(g);
l.splice(n,1);n--}}bS.sort(function(aL,dh){return aL.color-dh.color});if(l.length==0)break}for(var n=0;
n<l8.length;n++)l=l.concat(l8[n])}}else{var m=[],kR=[];while(l.length!=0){kR.push(l.shift());while(kR.length!=0){var j1=kR.pop();
m.push(j1);if(j1.oh)for(var n=0;n<j1.oh.length;n++){var g=j1.oh[n];l.splice(l.indexOf(g),1);kR.push(g)}}}l=m}this.hs=l;
for(var n=0;n<l.length;n++){var b=l[n],f6=v.RM[b.color-1][1];if(f6.x6<=10){l.splice(n,1);n--;continue}}for(var n=1;
n<l.length;n++){var gx=l[n-1],b=l[n];if(gx.color==b.color&&($||gx.parent==b.parent&&gx.depth>=2)){T.R.concat(gx.path,b.path);
l.splice(n,1);n--;continue}}if(q){console.log("reordering layers",Date.now()-e,I,l.length);e=Date.now()}this.aum=v;
this.Fn()}else{var lC=new Uint32Array(i*X),g2=i*X,dv=this.a9q=new Uint8Array(lC.buffer),bv=new Uint32Array(gY.Lm(v.RM));
if(o){var eo=new Uint8Array(V.data).slice(0);T.$n(eo);T.$n(new Uint8Array(bv.buffer));UPNG.encode.dither(eo,i,X,bv,dv,T.n(i*X));
T.D2(dv)}else{for(var n=0;n<g2;n++)lC[n]=bv[v.Vt[n]]}this.Pl.a([{hp:V.hp,data:lC.buffer}]);if(this.ahZ){this.Pl.ih();
this.ahZ=!1}}};by.prototype.Fn=function(z){if(this.hs==null)return;var q=this.rQ.r(),e=this.WA.hp.s,V=this.WA.hp.T,P=this.hs,D=this.TX,B=this.YI,A=this.tD.VI(),a="rgba(0,0,0,0.3)";
B.setTransform(1,0,0,1,0,0);B.clearRect(0,0,D.width,D.height);B.translate(D.width/2,D.height/2);B.scale(A.C7,A.C7);
B.translate(A.g.x/A.C7-e/2,A.g.y/A.C7-V/2);B.scale(1/A.C7,1/A.C7);B.fillStyle=this.gu;B.fillRect(0,0,e*A.C7,V*A.C7);
B.scale(A.C7,A.C7);B.lineWidth=(e+V)*5e-4;var s=this.E_();B.strokeStyle=a;for(var M=0;M<2;M++){if(!q[M])continue;
for(var n=0;n<P.length;n++){var $=P[n],U=s[$.color-1];if(U.x6==0)continue;B.fillStyle=U.E1;B.beginPath();
Typr.U.pathToContext({crds:$.path.J,cmds:$.path._},B);if(M==0)B.fill();else B.stroke()}}if(q[2])this.a39(B,e,V)};
by.prototype.E_=function(){var z=this.aum.RM,q=[];for(var n=0;n<z.length;n++){var e=z[n][1];e.E1="rgba("+e.l+","+e.I+","+e.c+","+e.x6/255+")";
q.push(e)}return q};by.prototype.a39=function(z,q,e){var V=this.E_(),P=this.a3a(q,e,V);function D(a,M,$,U){z.font=U+"px sans-serif";
a++;var o=z.measureText(a);z.fillText(a,M-o.width/2,$+U*.25)}z.fillStyle="rgba(0,0,0,0.5)";var B=this.vH;
for(var n=0;n<B.length;n++){var A=B[n];if(A[3]<q*e*5e-4)continue;D(A[2],A[0],A[1],(q+e)*.008)}z.fillStyle="rgba(255,255,255,1)";
z.fillRect(0,0,P,P*V.length);for(var n=0;n<V.length;n++){var s=V[n];z.fillStyle=s.E1;z.fillRect(P,P*n,P,P);
z.fillStyle="black";D(n,P*.5,P*(n+.5),P*.65)}};by.prototype.a3a=function(z,q,e){var V=e.length*(z+q)/70;
return Math.min(q,V)/e.length};by.prototype.En=function(z){var q=this.Va,e=q.j[0],V=q.Z[e],P=new dW(_.E.z,!0);
P.Hf=!0;P.U=W.si;var D=this.i.Se,B=this;if(this.Wz){var A=this.E_(),M=0,U=!1;function s(i,f){var d=q.OJ();
d.vz=f.x6;d.b9|=16;d.add.vmsk=new lK.cI;d.add.vmsk.B=i;d.T4();d.add.vstk=az.Y1.g1(!0);if(cW==0){d.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8(f)}};
d.ly(q)}else{d.add.vstl=az.kQ.g1();d.add.vstl.oO=[f.l/255,f.I/255,f.c/255];d.add.vstl.i8=[]}return d}var a=this.rQ.r();
for(var n=0;n<3;n++)if(a[n])M++;if(M==0){alert("Enable Fill, Stroke or Labels");return}var $=this.hs;
if(M==1&&a[0]&&$.length==1)U=!0;var o=q.Z.slice(0,e);if(!U)o.push(q.cs());var t=new e5(1,0,0,1,V.V.x,V.V.y);
if(cW==1){var c=V.add.SoLd,H=c.Idnt.v,F=q.VH(H,c.Crop?c.Crop.v:null),i=W.On.a3(c.nonAffineTransform),X=T.O.AX(i,F.De[1]);
t=T.O.uV(X)}for(var n=0;n<$.length;n++)T.R.v($[n].path.J,t,$[n].path.J);if(a[0])for(var n=0;n<$.length;
n++){var K=$[n],f=A[K.color-1],d=s(T.R.XI(K.path,!1),f);d.up("Path "+n);o.push(d)}if(a[1]){var d=q.OJ();
d.up("Stroke");o.push(d);d.vz=128;d.b9|=16;d.add.vmsk=new lK.cI;d.add.vstk=az.Y1.g1(!1,!0);var i=[];
for(var n=0;n<$.length;n++){var K=$[n],L=T.R.XI(K.path,!1);if(n==0)i=L;else i=i.concat(L.slice(2))}d.add.vmsk.B=i;
d.T4();if(cW==0){d.add.SoCo={classID:"null",Clr:{t:"Objc",v:T.Yf.e8({l:0,I:0,c:0})}};d.ly(q)}else{d.add.vstl=az.kQ.g1();
d.add.vstl.oO=[]}}if(a[2]){var G=this.WA.hp,x=G.s,O=G.T,v=this.a3a(x,O,A);o.push(q.cs());function C(I,Q,b,p,k){if(k){var g=t.a0(new f5(Q,b));
Q=g.x;b=g.y}I=1+I+"";var d=q.OJ();o.push(d);d.vz=p;d.add.lnsr="rend";var Y=d.add.TySh=dc.Pj(Q-v*.2,b+v*.25),R=d.add.TySh._1,m=dc.jb(R,0,0);
m.c_.FontSize=Math.round(v*.6);dc.Vy(R,0,0,m);dc.o5(R,0,I);d.sD();if(ey.vM(Y,D,B)){ey.tM(d,D,q);q.Kv()}}var S=this.vH;
for(var n=0;n<S.length;n++){var j=S[n];if(j[3]<x*O*5e-4)continue;C(j[2],j[0],j[1],128,t)}var d=s(T.S.nU.Rect(0,0,v,v*A.length),{l:255,I:255,c:255,x6:255});
d.up("white");o.push(d);for(var n=0;n<A.length;n++){var f=A[n],d=s(T.S.nU.Rect(v,v*n,v,v),f);d.up("color");
o.push(d);C(n,v/2,v*(n+.5),255)}var d=q.OJ();d.up("Labels");d.add.lsct=fH.OI;d.pi="pass";d.b9=24;o.push(d)}var w=o[o.length-1];
if(!U){var d=q.OJ();d.up(V.getName());d.add.lsct=fH._j;d.pi="pass";d.b9=24;o.push(d);w=d}var u=V.add.lmfx;
if(u)w.add.lmfx=T.G(u);var l=o.length;for(var n=e+1;n<q.Z.length;n++)o.push(q.Z[n]);P.data={p:lK.te,qM:o,Nz:[l-1],JJ:[11,11,0]}}else{var o=q.Z.slice(0),d=q.OJ();
d.up(V.getName());o.splice(q.j[0]+1,0,d);d.V=V.V.Y();d.buffer=this.a9q;d.Kv();P.data={p:lK.te,qM:o,Nz:[q.j[0]+1],JJ:[11,11,1]}}this.K(P);
this.close();q.HA=!0};by.prototype.K5=function(z,q){this.i=z;this.$_.ctab.K5(z,q)};function dl(z){jz.call(this,[[7,11],[7,13]][z],["redge","magiccut"][z]);
this.Dh=z;this.WA={};this.QR=null;this.i=null;this.Va=null;this.ka=null;this.GC=null;this.body.style.padding="0";
this.vn=[];this.LF=-1;this.lv=J.k("div","form hbar padded");this.body.appendChild(this.lv);this.hA=new fe;
this.hA.parent=this;this.hA.Q(_.E.f,this.ZP,this);this.lv.appendChild(this.hA.$);var q=z==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
q=q.concat("tools/hand","zoomIn","zoomOut");var e=z==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.QX=new kY(null,q,e,28);this.QX.Q(_.E.f,this.gi,this);this.lv.appendChild(this.QX.$);this.wr=new gO([7,9],0,50,null);
this.wr.parent=this;this.wr.Q(_.E.f,[this.an7,this.zk][z],this);this.lv.appendChild(this.wr.$);var V=this.aCc=new ht([2,2],!1,null,!0);
V.Q("click",this.NT,this);this.lv.appendChild(V.$);var P=this.uh=J.k("span","form");this.lv.appendChild(P);
var D=this.aIe=new ht([12,90],!1,null,!0);D.Q("click",function(s){alert(z==0?iE.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
P.appendChild(D.$);var B=new ht("Tutorial",!1,null,!0);B.Q("click",this.aAu,this);P.appendChild(B.$);
this.QJ=new kY([12,46],["checker","#ffffff","#000000"]);this.QJ.Q(_.E.f,this.a5o,this);P.appendChild(this.QJ.$);
this.au8=new cr(null,[[6,13],[6,2],[17,2]]);P.appendChild(this.au8.$);this.CO=J.Hy(this,P,!1);var A=this.r7=J.k("div","flexrow");
this.body.appendChild(A);this.Hh=new hX(!0);this.EM=new hX;this.Hh.TJ(this.EM);this.EM.TJ(this.Hh);this.Hh.Q("mousedown",this.O3,this);
this.Hh.Q("mousemove",this.Qh,this);this.Hh.Q("mouseup",this.lG,this);this.Hh.Q("zoom",this.ZP,this);
this.EM.Q("zoom",this.ZP,this);A.appendChild(this.Hh.$);A.appendChild(this.EM.$)}dl.prototype=new jz;
dl.prototype.h3=function(z,q){var e=z!=null&&!z.Z[z.j[0]].V.a8();if(!e)alert("The layer is empty.");
return e};dl.prototype.SM=function(){return new f5(0,0)};dl.prototype.ay=function(){return!0};dl.prototype.hh=function(z,q){this.xL=z;
this.Hi=q;q=q-12-33;if(z<900){J.C(this.uh,"display:block;  text-align:right;");q-=29}else{J.C(this.uh,"position:absolute;  right:0px")}this.QJ._D(z<440?null:[12,46]);
this.wr._D(z<470?null:[7,9]);var e=this.WA.V;if(e){var V=dl.Ub(z,q,e.s,e.T);if(V==0){z=Math.floor(z/2);
J.d6(this.r7,"flexrow")}else{q=Math.floor(q/2);J.Pf(this.r7,"flexrow")}this.Hh.hh(z,q);this.EM.hh(z,q)}};
dl.Ub=function(z,q,e,V){var P=z/2,D=q/2,B=Math.min(P/e,q/V),A=Math.min(z/e,D/V);return B>A?0:1};dl.prototype.W=function(){jz.prototype.W.call(this);
this.hA.W();this.wr.W();this.CO.W();this.QJ.W();this.au8.W();this.aCc.W();this.aIe.W()};dl.prototype.aAu=function(z){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.Dh],"_blank")};
dl.prototype.K5=function(z,q){this.i=z;if(q==cR.YO||q==cR.zu){this.hA.zT(z.pL);this.hA.a(ia.ld(),z.pL.Mf,z.pL.yw)}};
dl.prototype.gi=function(z,q,e,V){var P=this.QX.r();if(V==null){this.Hh.gi(hX.G8(P-3));return}this.ka=V;
var D=W.j6.cG(this.hA.r(),V);if(D!=null){this.hA.a(D);this.ZP()}else if(V.t(cz.EF)&&V.t(cz.wX)){var B=this.vn,A=0;
if(V.t(cz.XQ)){if(this.LF+1<B.length)A=1}else if(this.LF>0)A=-1;if(A!=0){this.LF+=A;var s=this.LF,a=this.WA;
if(A==1)T.aF(B[s][2],B[s][0],a.fm,a.V);else T.aF(B[s+1][1],B[s+1][0],a.fm,a.V);a.PB=a.V;this.zk()}}else if(P<3)this.Hh.gi(V)};
dl.prototype.jP=function(z){var q=this.WA,e=this.vn,V=T.n(z.D()*4);T.aF(q.u7,q.V,V,z);q.u7=null;var P=T.n(z.D()*4);
T.aF(q.fm,q.V,P,z);this.LF++;e[this.LF]=[z.Y(),V,P];while(e.length>this.LF+1)e.pop();while(e.length>50){e=e.slice(1);
this.LF--}};dl.prototype.ZP=function(){var z=this.i,q=bw.Tf(this.hA.r(),z.pL.Mf,this.Hh.VI().C7);this.Hh.Rq(q)};
dl.prototype.O3=function(z){var q=this.i,e=this.WA,V=this.ka,P=this.hA.r(),D=this.Hh.$A(),B=[16777215,8421504,0][this.QX.r()];
this.QR=new bw(P,q.pL.Mf,q.pL.yw,{Ws:1,GJ:!0},B,q.Cp,e.V);e.u7=e.fm.slice(0);if(V!=null&&V.t(cz.XQ)&&this.GC){this.QR.moveTo(this.GC.x,this.GC.y);
this.QR.lineTo(D.x,D.y)}else this.QR.moveTo(D.x,D.y);this.aLI()};dl.prototype.Qh=function(z){var q=this.WA,e=this.Hh.$A();
this.QR.lineTo(e.x,e.y);this.aLI()};dl.prototype.lG=function(z){this.GC=this.Hh.$A();this.jP(this.QR.CC());
this.zk()};dl.prototype.aLI=function(){var z=this.WA,q=this.QR,e=q.Lt();if(e.a8())return;z.PB=e;T.w.Mt("norm",q.Hz(),q.$i(),z.fm,z.V,e,1);
this.avi()};dl.prototype.NT=function(z){var q=this.WA;q.u7=q.fm.slice(0);q.PB=q.V;T.FH(q.fm,[4278190080,4292730333][this.Dh]);
this.jP(q.V);this.zk()};dl.prototype.N_=function(z,q){this.Va=z;var e=z.Z[z.j[0]],V=e.V.Y(),P=V.s,D=V.T,s;
this.wr.a(this.Dh==0?3:P*D<3e6?3:0);this.QX.a(z.h==null?0:1);this.wr.QU();if(this.Dh==0&&z.h!=null||this.Dh==1)this.wr.oR();
var B=this.Dh,A=T.n(V.D());if(B==0&&z.h){T.KY(z.h.o,z.h.V,A,V);var a=T.n(V.D());for(var M=0;M<D;M++)for(var $=0;
$<P;$++){var n=M*P+$,U=A[n];if($>0&&A[n-1]!=U||$<P-1&&A[n+1]!=U||M>0&&A[n-P]!=U||M<D-1&&A[n+P]!=U)a[n]=255}s=T.style.lR(a,P,D)}else{s=new Float32Array(V.D());
s.fill(1e9)}V.x=V.y=0;this.WA={V:V,Dm:T.EZ(e.buffer,8),_Q:A,bG:s,a8r:T.n(V.D()*4),aLf:T.n(V.D()*4),fm:T.n(V.D()*4),u7:null,IL:null,PB:V,axw:{}};
if(B==0)this.an7();else{this.WA.axw=W.e2.a0r(z);var o=this.WA.fm;T.FH(o,4287137928);var t=T.cE.getSelection(T.EZ(e.buffer,8),P,D),c=Math.round(P/60),H=Math.round(.7*D);
for(var M=0;M<D;M++)for(var $=0;$<P;$++){var F=(M*P+$)*4,i=t[F>>>2];i=i>128?255:128;if(M<c||M<H&&($<c||$>P-1-c))i=0;
o[F]=o[F+1]=o[F+2]=i}this.zk()}this.vn=[1];this.LF=0;var X=this.hA.r();X.Brsh.v.Dmtr.v.val=Math.round(V.s/(B==0?10:20));
this.hA.a(X);this.ZP();this.hh(this.xL,this.Hi);this.Hh.ih()};dl.prototype.an7=function(){var z=this.WA,q=z.V.D(),e=this.wr.r(),V=z._Q.slice(0);
for(var n=0;n<q;n++)if(z.bG[n]<e)V[n]=128;z.fm.fill(255);T.yR(V,z.fm,0);T.yR(V,z.fm,1);T.yR(V,z.fm,2);
z.PB=z.V;this.zk()};dl.prototype.zk=function(){var z=this.WA,P,A,s=0,a=0,M=0;this.avi();var q=z.V,e=q.s,V=q.T,D=T.n(q.D()),B=z.Dm;
T.bl(z.fm,D,0);for(var n=0;n<D.length;n++){if(B[(n<<2)+3]!=255)continue;var $=D[n];if($==0)s++;else if($==255)a++;
else M++}if(s*a*M!=0){if(this.Dh==0)A=T.q6.q6(q,B,D);else{var U=this.QX.r();for(var o=1;o<V;o++)for(var t=1;
t<e;t++){var n=o*e+t,c=D[n],H=D[n-1];if(c==0&&H==255||c==255&&H==0){P="The Red and Green should never touch! Erase it with Grey.";
break}}var F=Date.now(),i=this.WA.axw;T.Yh(D,i.Yr);W.e2.Gs(i,!0,this.Va);var X=Math.ceil(this.wr.r()/2);
if(X==0){A=B.slice(0);T.yR(i.h,A,3)}else{var K=i.h.slice(0),f=i.h.slice(0);for(var d=0;d<X;d++){for(var o=1;
o<V-1;o++)for(var t=1;t<e-1;t++){var n=o*q.s+t,L=K[n];if(K[n-e]!=L||K[n-1]!=L||K[n+1]!=L||K[n+e]!=L)f[n]=128;
else f[n]=L}var G=K;K=f;f=G}for(var o=0;o<V;o++)for(var t=0;t<e;t++){var n=o*e+t;if(D[n]==0||D[n]==255)K[n]=D[n]}A=T.q6.q6(q,B,K,20,!1)}}}else{A=B.slice(0);
T.yR(D,A,3)}for(var n=3;n<A.length;n+=4)if(A[n]>B[n])A[n]=B[n];if(q.bs(z.V))z.IL=A;else T.aF(A,q,z.IL,z.V);
this.a5o();if(P)alert(P,4e3)};dl.prototype.avi=function(z){var q=this.WA,e=q.PB;T.aF(q.Dm,q.V,q.a8r,q.V,e,!0);
var V=q.fm,P=q.V,D=Date.now();if(this.Dh==1){var B=new Uint32Array(256);B[0]=4278190335;B[255]=4278255360;
var A=T.n(e.D()*4),s=e.D();T.aF(V,P,A,e);V=A;P=e;var a=new Uint32Array(V.buffer);for(var n=0;n<s;n++)a[n]=B[a[n]&255]}console.log(Date.now()-D);
T.w.Mt("norm",V,P,q.a8r,q.V,e,.3);this.Hh.a([{hp:q.V,data:q.a8r.buffer}],null,null,e)};dl.prototype.a5o=function(z){var q=this.WA;
T.FH(q.aLf,[0,4294967295,4278190080][this.QJ.r()]);T.w.Mt("norm",q.IL,q.V,q.aLf,q.V,q.V,1);this.EM.a([{hp:q.V,data:q.aLf.buffer}])};
dl.prototype.En=function(z){var q=this.Va,e=this.WA,V=this.au8.r(),P=q.Z[q.j[0]],D=new dW(_.E.z,!0);
D.Hf=!0;var B=P.V.Y();if(V==0&&P.Sw()||V!=0&&!P.Sw()){D.U=W.si;D.data={p:lK.rC,H:q.j[0]};this.K(D)}if(q.h!=null){D.U=W.qK;
D.data={p:"fromAction",Wp:W.cn.Im()};this.K(D)}if(V==0){var A=q.Z.slice(0),s=q.OJ();s.up(P.getName());
A.splice(q.j[0]+1,0,s);s.V=B;s.buffer=T.EZ(e.IL,q.depth);s.Kv();D.U=W.si;D.data={p:lK.te,qM:A,Nz:[q.j[0]+1],JJ:[7,11]};
this.K(D)}if(V==1){var a=P.OX();D.U=W.si;D.data={p:lK.q0,aNU:!0};this.K(D);var M=P.OX();M.o=T.n(B.D());
M.V=B;M.color=0;M.Ug=!0;T.bl(e.IL,M.o,3);M.o=T.EZ(M.o,q.depth);if(a){var $=M.yW(a);M.V=$.V;M.o=$.o;M.color=$.color}M.Sn();
P.ly(q)}if(V==2){var U={V:B,o:T.n(B.D())};T.bl(e.IL,U.o,3);U.o=T.EZ(U.o,q.depth);D.U=W.qK;D.data={p:"setsel",h:U,JJ:this.Fv};
this.K(D)}this.close()};function hM(){jz.call(this,[1,13],"locstor");this.i=null;this.Te=[];var z=this.body,q=J.k("p");
q.textContent="These files are loaded every time you start Photopea.";z.appendChild(q);this.a7W=0;this.a2d=J.k("span");
z.appendChild(this.a2d);J.C(this.a2d,"display:inline-block;  width:12em;  font-weight:bold;");var e=J.k("span","form");
z.appendChild(e);this.bg=new ht([5,4],!1,null,!0);this.bg.Q("click",this.Ss,this);e.appendChild(this.bg.$);
this.bW=new ht("Get all as ZIP",!1,null,!0);this.bW.Q("click",this.X7,this);e.appendChild(this.bW.$);
this.pu=new f2(!0);this.pu.parent=this;this.pu.xF(1);z.appendChild(this.pu.$);J.C(this.pu.$,"width: 40em; height: 25em")}hM.prototype=new jz;
hM.prototype.W=function(){jz.prototype.W.call(this);this.a2d.textContent=iE.get([13,2])+": "+c2._M(this.a7W);
this.bg.W()};hM.prototype.K5=function(z,q){this.i=z;if(q==cR.bc)this.N_()};hM.prototype.N_=function(z,q){var e=this.i.aB.jo,s=0;
this.Te=[];for(var V in e)this.Te.push(V);this.Te.sort(function(M,$){M=M.split(".");$=$.split(".");return M[1]==$[1]?M[0]<$[0]?-1:1:M[1]<$[1]?-1:1});
var P=Math.floor(100*J.WU()),D=Math.floor(16*J.WU()),B=[],A=[];for(var n=0;n<this.Te.length;n++){var V=this.Te[n],a=hM.sZ(V,e[V],P,D);
B.push(a);A.push(V);s+=e[V].byteLength}this.pu.ym(B,A,P,D);this.a7W=s;this.W()};hM.prototype.Ss=function(z){var q=this.pu.r();
if(q.length==0){alert("Select a file first.");return}this.pu.a([]);var e=this.i.aB.jo;for(var n=0;n<q.length;
n++)delete e[this.Te[q[n]]];var V=new dW(_.E.b,!0);V.data={p:_.m.Ln,Lh:cR.bc};this.K(V)};hM.prototype.X7=function(z){var q=this.i.aB.jo,e={};
for(var V in q)e[V]=new Uint8Array(q[V]);var P=UZIP.encode(e);gC.save(P,"resources.zip")};hM.sZ=function(z,q,e,V){var P=J.k("canvas"),A=0;
P.width=e;P.height=V;var D=P.getContext("2d"),B=z.split(".").pop().toLowerCase();for(var n=0;n<B.length;
n++)A+=B.charCodeAt(n)*613<<8*n;D.fillStyle="#"+T.R0(A&16777215);D.fillRect(0,0,20,V);var s=Math.floor(14*J.WU());
D.fillStyle="#000000";D.font="bold "+s+"px sans-serif";var a=(V-s)/2,M=c2._M(q.byteLength),$=D.measureText(M);
D.fillText(M,e-12-$.width,V-a);return P.toDataURL()};function c8(){jz.call(this,[1,15],"pmanager");this.i=null;
this.ZM=new cr([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.ZM.Q(_.E.f,this.N_,this);
this.body.appendChild(this.ZM.$);var z=J.k("div","flexrow");this.body.appendChild(z);var q=this.ao0=J.k("div");
z.appendChild(q);var e=J.k("div","form");z.appendChild(e);J.C(e,"width:140px; margin-left:12px");this.a80=[cR.YO,cR.Ku,cR.gv,cR.TI,cR.nl,cR.Kc];
this.C_=[new fe,new kL,new kQ,new j4,new eT,new gw];for(var n=0;n<this.C_.length;n++)this.C_[n].parent=this;
this.U9=[];for(var n=0;n<4;n++){var V=new ht("Hello",!0,null,!0);V.Q("click",this.Xr,this);this.U9.push(V);
e.appendChild(V.$)}this.N_()}c8.prototype=new jz;c8.prototype.Hp=function(z){return z==cz.Dv||z==cz.QI};
c8.prototype.Xr=function(z){var n=this.U9.indexOf(z.target);this.C_[this.ZM.r()].If(n)};c8.prototype.W=function(){jz.prototype.W.call(this);
this.ZM.W();for(var n=0;n<this.C_.length;n++)this.C_[n].W();var z=this.U9,q=this.ZM.r(),e=cR.Ld[this.a80[q]],V=e[0].toUpperCase();
z[0]._D([[23,6],"."+V]);z[1]._D(["VAR0 ."+V,[1,8]]);z[2]._D([6,37]);z[3]._D([5,4])};c8.prototype.K5=function(z,q){this.i=z;
this.N_()};c8.prototype.N_=function(z,q){if(!J.H2(this.$))return;this.W();J._8(this.ao0);this.ao0.appendChild(this.C_[this.ZM.r()].TY);
var e=this.C_,V=this.i;if(V==null)return;e[0].zT(V.pL);e[1].tq(V.pQ,V.Cp);e[1].zT(V.zS);e[2].zT(V.fr);
e[3].zT([V.yg,V.fr]);e[4].zT(V.u_);e[5].zT(V.fa)};function bH(z,q,e){jz.call(this,q,"cwindow");this.ady=new f5(e[0],e[1]-33);
this.lv=J.k("div","form");J.C(this.lv,"width:"+(e[2]-e[0])+"px; height:"+(e[3]-e[1])+"px");this.body.appendChild(this.lv)}bH.prototype=new jz;
bH.prototype.SM=function(z,q){return this.ady.Y()};function il(z){var q=il.aNi(z);jz.call(this,q,"res"+z);
var e=this.aBD.bind(this);window.addEventListener("message",function(P){if(typeof P.data=="string"&&P.data.startsWith("--et ")){if(lA.Cf()==null)return;
console.log(P.data);var D=this.au7=P.data.slice(5).split(",");D[0]=parseFloat(D[0]);lA.agk(D[0],D[1],e)}}.bind(this));
this.eE=q;this.Lr=z;this.atM=null;this.Xa=null;this.A7=0;this.IP=null;this.Fe=null;this.au7=null;this.i=null;
J.C(this.body,"padding:0");this.pt=new ht("",null,null,!0);this.body.appendChild(this.pt.$);this.pt.Q("click",this.Ye,this);
J.C(this.pt.$,"position:absolute; margin-top: -28px;  margin-left:150px");this.j9=new ht("\u25BC",null,null,!0);
J.C(this.j9.$,"position:absolute; margin-top: -28px;  margin-left:270px");this.j9.Q("click",this.amD,this);
this.body.appendChild(this.j9.$);this.hH=J.k("span","form");this.body.appendChild(this.hH);this.U9=[];
for(var n=0;n<9;n++){var V=new ht(il.aNi(n));this.U9.push(V);if(n==z)V.a(!0);this.hH.appendChild(V.$);
V.Q("click",this.a2I,this)}this.awY=new ht([5,3],null,null,!0);this.awY.Q("click",this.a6$,this);this.auP=new ht("Upload Current Document as a Template",null,null,!0);
this.auP.Q("click",this.aHH,this);this.at2=new eE("Creator / Brand name");this.aE=new ht([1,2],null,null,!0);
this.aE.Q("click",this.X7,this);this.Qi=J.k("iframe","scrollable");J.C(this.Qi,"border:none; margin:0; padding:0;");
this.um=J.k("div","form scrollable padded");this.le=new eB(z);this.le.Q("back",this.NT,this);this.le.Q("save",this.a7J,this);
this.body.appendChild(this.Qi)}il.prototype=new jz;il.aNi=function(z){var q;if(z==0)q=[25,0];else if(z==1)q="Plugins";
else for(var e in cR.Ld)if(cR.Ld[e][4]==z)q=cR.Ld[e][3];return q};il.prototype.amD=function(z){this.hH.style.display=this.hH.style.display=="none"?"":"none"};
il.prototype.a2I=function(z){var n=this.U9.indexOf(z.target);if(n==this.Lr)return;this.close();var q=new dW(_.E.b,!0);
q.data={p:_.m.wa,rF:"res"+n};this.K(q)};il.prototype.aBD=function(z){this.Ye();this.Fe=JSON.parse(z.target.response);
this.GU()};il.prototype.SM=function(z,q){return new f5(0,0)};il.prototype.hh=function(z,q){this.xL=z;
this.Hi=q;this.VY=null;q=q-4;z=z;var e=z>820,V="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",P="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
J.C(this.hH,e?V:P);this.hH.style.marginTop=(e?-31:0)+"px";this.j9.$.style.display=e?"none":"";var D=this.um;
D.style.width=z-12+"px";D.style.height=q-12+"px";var D=this.le.$;D.style.width=z-12+"px";D.style.height=q-12+"px";
var D=this.Qi;D.style.width=z+"px";D.style.height=q+"px";this.Gf()};il.prototype.K5=function(z,q){this.i=z};
il.prototype.W=function(){jz.prototype.W.call(this);for(var n=0;n<this.U9.length;n++)this.U9[n].W();
this.awY.W()};il.prototype.N_=function(z,q,e,V){this.VY=z;this.Ye(null,!1)};il.prototype.Ye=function(z,q){var e=q!=null?q:J.H2(this.Qi);
if(e){if(!lA.Rc()){alert("You need to log in first!");return}var V=lA.mN();if(V==null)V={};this.Xa=V.tpl?V.tpl.list:[];
this.at2.a(V.tpl&&V.tpl.brnd?V.tpl.brnd:"");this.Gf()}else{this.Qi.setAttribute("src","");this.Qi.setAttribute("src",lA.A6("templates/index.html?type="+this.Lr+""+this.i.Ay.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(e?this.um:this.Qi);var P=iE.get(this.eE);this.pt._D(e?"All "+P:"Add "+P)};il.prototype.Gf=function(){var z=iE.get(this.eE),q=this.Xa,e=this.Lr,A=450;
if(q==null)return;var V=this.um;J._8(V);var P=J.k("h1");V.appendChild(P);P.textContent="Share your "+z+" with the world!";
var D=J.k("ul");V.appendChild(D);var B=J.k("li");D.appendChild(B);B.textContent="By publishing your "+z+", you agree to let others use them for all kinds of purposes, even commercially.";
V.appendChild(this.awY.$);if(e==0)V.appendChild(this.auP.$);J.f9(V);V.appendChild(this.at2.$);V.appendChild(this.aE.$);
J.f9(V);A=(this.xL-20)/Math.max(1,Math.floor(this.xL/A))-42;var s="display:inline-block; width:"+A+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var n=q.length-1;n>=0;n--){var a=q[n];if(a.type==null)a.type=0;if(a.type!=e)continue;var M=J.k("div");
V.appendChild(M);J.C(M,s);var $=J.k("img");M.appendChild($);$.setAttribute("src",a.thmb);J.C($,"float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var U=J.k("h3");M.appendChild(U);U.textContent=a.name;J.C(U,"margin:0 0 10px 0");var o=J.k("p");M.appendChild(o);
o.textContent=a.desc;J.C(o,"height:76px;  overflow:hidden; margin-bottom: 6px;");for(var t=0;t<2;t++){var c=new ht(t==0?"Edit":"Delete",null,null,!0);
c.apU=n;c.GU=t==0;c.Q("click",this.aqs,this);M.appendChild(c.$)}}};il.prototype.aHH=function(z){if(this.VY==null){alert("No document opened.");
return}var q=confirm("Your document will be uploaded to Photopea.com. Proceed?");if(!q)return;var e=new dW(_.E.b,!0);
e.data={p:_.m.u9,gh:"psd",vI:this.afd.bind(this)};this.K(e)};il.prototype.afd=function(z){this.al$=z;
var q=new dW(_.E.b,!0);q.data={p:_.m.u9,gh:"pngjpg",vI:this.a0l.bind(this),aEP:1400};this.K(q)};il.prototype.a0l=function(z){z="https://f000.backblazeb2.com/file/jpgshared/"+z;
this.IP={type:0,catg:0,desc:"",file:this.al$,name:this.VY.name.split(".")[0],thmb:z,publ:!0,utme:""};
this.GU()};il.prototype.a6$=function(z){this.IP={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.GU()};il.prototype.aqs=function(z){this.A7=z.target.apU;if(!z.target.GU){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.Xa.splice(this.A7,1);this.X7();this.Gf();return}this.GU()};il.prototype.GU=function(){if(J.H2(this.um))this.body.removeChild(this.um);
this.body.appendChild(this.le.$);var z=this.IP?this.IP:this.Fe?this.Fe:this.Xa[this.A7];if(z.type==null)z.type=0;
this.le.a(z)};il.prototype.a7J=function(z){var q=this.le.r();if(this.IP)this.Xa.push(q);else if(this.Fe){var e=this.au7;
lA.agk(e[0],e[1],this.NT.bind(this),JSON.stringify(q));return}else this.Xa[this.A7]=q;this.X7();this.NT()};
il.prototype.NT=function(){var z=this.Fe;this.IP=null;this.Fe=null;this.body.removeChild(this.le.$);
this.body.appendChild(this.um);this.Gf();if(z)this.Ye()};il.prototype.X7=function(){var z=lA.mN();if(z==null)z={};
if(this.Xa.length==0)delete z.tpl;else{z.tpl={list:T.G(this.Xa)};var q=this.at2.r().trim();if(q!="")z.tpl.brnd=q}lA._h(z,function(){alert("Saved.")})};
function cJ(){jz.call(this,"Make Selection","makesel");var z=J.k("div","form");this.body.appendChild(z);
this.Mm=new iP([12,25,1]);this.Mm.a(!0);z.appendChild(this.Mm.$);J.f9(z);this.aNr=new ek(!0);z.appendChild(this.aNr.$);
this.CO=J.Hy(this,this.body)}cJ.prototype=new jz;cJ.prototype.W=function(){jz.prototype.W.call(this);
this.aNr.W();this.Mm.W();this.CO.W()};cJ.prototype.En=function(z){var q=new dW(_.E.z,!0);q.U=W.qK;q.data={p:"frompath",HH:[null,0,this.aNr.r(),this.Mm.r()]};
this.close();this.K(q)};function lr(){jz.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.VY=null;this.mo=null;
this.aEF=null;var z=this.aOo=J.k("div","form");J.C(z,"width:20em");this.body.appendChild(z);this.LV=new eD([12,50],["PSD","PSB"]);
this.LV.Q(_.E.f,this.sE,this);z.appendChild(this.LV.$);J.dh(z);var q=new ij("Minify the file");z.appendChild(q.$);
J.f9(z);var e=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.Os=[];for(var n=0;n<e.length;n++){var V=new iP(e[n]);this.Os.push(V);z.appendChild(V.$);V.Q(_.E.f,this.sE,this)}J.dh(z);
this.Mv=new ij("aa.psd");this.KP=new ij("10 kB");z.appendChild(this.KP.$);this.aoX=new ij("1000 B");
z.appendChild(this.aoX.$);this.CO=new ht([1,2],!0,null,!0);this.CO.Q("click",this.En,this);z.appendChild(this.CO.$);
this.IO=new ht(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.IO.Q("click",this.En,this);z.appendChild(this.IO.$);
this.Q("closebtn",this.DF,this)}lr.prototype=new jz;lr.prototype.N_=function(z,q,e,V){var P=J.H2(this.IO.$),D=z.FQ!=null&&z.FQ.nv=="psd";
if(D&&!P)this.aOo.appendChild(this.IO.$);if(!D&&P)this.aOo.removeChild(this.IO.$);for(var n=0;n<this.Os.length;
n++)this.Os[n].a(!1);this.VY=z;this.sE()};lr.prototype.En=function(z){if(z.target==this.CO)gC.save(this.mo,this.aEF);
else{if(this.Os[3].r()){alert("You should not save a ZIP as a PSD to Google Drive.");return}fT.auw(this.VY,this.mo)}};
lr.prototype.DF=function(){this.VY=null;this.mo=null};lr.prototype.sE=function(){var z=this.VY,q=[!1,!1,!1,!1];
for(var n=0;n<3;n++)q[n]=this.Os[n].r();var e=this.Os[3].r(),V=q[3]=this.LV.r()==1,P=z.name.slice(0,z.name.length-3),D=this.mo=hZ.nw("PSD").gB(z,0,0,q),hE=this.aEF=P+"ps"+(V?"b":"d");
if(e){var B={};B[hE]=new Uint8Array(D);D=this.mo=UZIP.encode(B);hE=this.aEF=P+"zip"}this.Mv.a(hE);this.KP.a(c2._M(D.byteLength));
this.KP.$.style["font-size"]="2em";this.aoX.a(" \u2001 "+D.byteLength+" B");this.CO._D(iE.get([1,2])+" \""+hE+"\"")};
lr.prototype.W=function(){jz.prototype.W.call(this);this.LV.W();this.CO.W();this.IO.W()};function cO(){jz.call(this,"Confirm","confirm");
this.Wm=null;var z=J.k("div");J.C(z,"margin-bottom:1em");this.body.appendChild(z);this.W1=J.k("div");
this.W1.textContent="Hello";z.appendChild(this.W1);this.CO=J.Hy(this,this.body)}cO.prototype=new jz;
cO.prototype.En=function(z){if(this.Wm==null)return;console.log("okconfirm");this.close();this.Wm();
this.Wm=null};cO.prototype.W=function(){jz.prototype.W.call(this);this.CO.W()};cO.prototype.N_=function(z,q){if(q.a7I||q.a3_)this.W1.innerHTML=q.u;
else this.W1.textContent=q.u;if(q.aN7)this.CO._D(q.aN7);this.Wm=q.Wm;this.CO.$.focus();if(q.a7I!=null)this.$.style.top=Math.random()*(window.innerHeight-150)+"px";
this.aFX=q.a7I!=null};cO.prototype.SM=function(z,q){return new f5(Math.max(0,(z-500)/2),Math.max(0,Math.min(60,(q-100)/2)))};
cO.prototype.hh=function(z,q){this.W1.style.width=z-30+"px"};function c4(){jz.call(this,[1,16,2],"newartb");
this.Dh=0;this.Co=null;var z=J.k("div","form");z.style.width="260px";this.body.appendChild(z);this.pu=new aC;
z.appendChild(this.pu.$);this.CO=J.Hy(this,z)}c4.prototype=new jz;c4.prototype.h3=function(z,q){return z!=null};
c4.prototype.En=function(z){var q=this.pu.r();this.Co.s=q.x;this.Co.T=q.y;var e=new dW(_.E.z,!0);e.U=W.r9;
e.data={ae5:this.Co,Ml:this.Dh};this.K(e);this.close()};c4.prototype.W=function(){jz.prototype.W.call(this);
this.pu.W();this.CO.W()};c4.prototype.N_=function(z,q){this.Dh=q.Ml;var e=new kk(0,0,z.s,z.T);if(z.j.length!=0){var V=z.Z[z.j[0]];
if(V.add.artb){e=V.Le();e.x+=e.s+100}if(q.Ml==1)e=W.On.$i(z)}this.Co=e;this.pu.a(new f5(e.s,e.T))};function iW(){jz.call(this,[1,19,0],"storwindow");
J.C(this.body,"padding:0");this.Yj=null;this.Q("closebtn",this.h9,this);this.Q("canclose",this.h9,this)}iW.prototype=new jz;
iW.prototype.K5=function(z,q){if(this.Yj)this.Yj.K5(z,q)};iW.prototype.SM=function(z,q){return new f5(Math.max(0,Math.min(150,(z-980)/2)),Math.max(0,Math.min(150,(q-590)/2)))};
iW.prototype.hh=function(z,q){this.xL=z;this.Hi=q;z=Math.min(z,980);q=Math.min(q,590);if(this.Yj)this.Yj.hh(z,q)};
iW.prototype.W=function(){jz.prototype.W.call(this);if(this.Yj)this.Yj.W()};iW.prototype.N_=function(z,q,e,V){this.Fv=q.Ml==0?["VAR0 VAR1",[1,0],[1,19,1]]:["VAR0 VAR1",[1,2],[1,19,2]];
this.W();if(this.Yj==null){this.Yj=new iy;this.Yj.parent=this;this.body.appendChild(this.Yj.$);this.W();
this.hh(this.xL,this.Hi)}Storage.xF(q.Ml,q.eC?q.eC:z?z.name:"",q.xO);iy.O6(this.Yj)};iW.prototype.h9=function(z){Storage.xF(0);
iy.oU();if(z.e=="canclose")this.close()};function f0(){jz.call(this,[2,14],"varsdats");var z=this.lv=J.k("div","form");
J.C(z,"width:300px");this.body.appendChild(z);this.VY=null;this.ki=0;this.i=null;this.cm=new eD(null,[[2,14],"Data Sets",[1,8]]);
this.cm.Q(_.E.f,this.abh,this);this.zp=new f0.$G;this.TQ=new f0.Bc;this.fb=new f0.I5;this.TQ.Q("activate",this.m2,this);
this.fb.Q("export",this.NP,this);this.CO=J.Hy(this)}f0.prototype=new jz;f0.prototype.abh=function(z){var q=this.cm.r(),e=this.lv;
J._8(e);e.appendChild(this.cm.$);J.dh(e);e.appendChild([this.zp,this.TQ,this.fb][q].$);e.appendChild(this.CO.$)};
f0.prototype.En=function(z){var q=new dW(_.E.z,!0);q.U=W.si;q.data={p:lK.hY,u:JSON.stringify([this.zp.r(),this.TQ.r()])};
this.K(q);this.close()};f0.prototype.W=function(){jz.prototype.W.call(this);this.CO.W();this.fb.W()};
f0.prototype.N_=function(z,q){this.VY=z;this.fb.VY=z;if(z==null)return;this.zp.N_(z,q);this.TQ.N_(z,q);
this.cm.a(0);this.abh();this.ki=0;this.fb.ahN()};f0.prototype.K5=function(z,q){this.i=z};f0.prototype.NP=function(z){var q=this.zp.r(),e=this.TQ.r(),V=this.fb.r();
if(q.length==0){alert("There are no variables.");return}if(e.length==0){alert("There are no data sets.");
return}var P=hZ.az9(this.VY,q,e,this.TQ.a5H(),V[0],V[1],V[2],this.i,this);if(P!=null)gC.save(P,this.VY.name.split(".")[0]+".zip")};
f0.prototype.m2=function(z){var q=this.TQ.j,e=this.zp.r(),V=this.TQ.r();if(e.length==0){alert("There are no variables.");
return}if(V.length==0){alert("There are no data sets.");return}this.wj();this.ki+=hZ.ab2(this.VY,this,e,V,this.TQ.a5H(),q)};
f0.prototype.wj=function(){var z=new dW(_.E.z,!0);z.U=W.S3;z.data={p:"h_stepbck"};while(this.ki>0){this.K(z);
this.ki--}};f0.I5=function(){gq.call(this);var z=this.$=J.k("div");this.a14=new eE("Variable for file names");
z.appendChild(this.a14.$);J.dh(z);this.VY=null;this.S5=["JPG","PNG","PDF"];this.LV=new eD([12,50],this.S5);
this.LV.Q(_.E.f,this.ahN,this);z.appendChild(this.LV.$);this.AN=new hk;z.appendChild(this.AN.$);this.bW=new ht("Export all items",!0,null,!0);
this.bW.Q("click",this.NP,this);z.appendChild(this.bW.$)};f0.I5.prototype=new gq;f0.I5.prototype.W=function(z){this.a14.W();
this.LV.W();this.bW.W();this.AN.W()};f0.I5.prototype.ahN=function(z){if(this.VY==null)return;var q=this.S5[this.LV.r()],e=this.VY,V=e.add.artd;
this.AN._5(q,null,null,V!=null&&V.Cnt.v>1)};f0.I5.prototype.NP=function(z){this.K(new dW("export"))};
f0.I5.prototype.r=function(){var z=this.S5[this.LV.r()];return[z,this.AN.r(),this.a14.r().trim()]};f0.Bc=function(){gq.call(this);
this.lf=null;this.ao1=[];this.j=0;var z=this.$=J.k("div","form");this.aFs=new ec("Import a CSV file");
z.appendChild(this.aFs.$);this.aFs.Q(_.E.f,this.aDK,this);this.P9=J.k("div","scrollable");J.C(this.P9,"overflow:scroll;  height:234px;");
z.appendChild(this.P9);this.axO=new ec("Source Images",!0);z.appendChild(this.axO.$)};f0.Bc.prototype=new gq;
f0.Bc.prototype.aDK=function(z){var q=this.aFs.r();for(var e in q){q=q[e];break}this.lf=a_.iA(y.vK(q));
this.LE()};f0.Bc.prototype.a5H=function(){return this.axO.r()};f0.Bc.prototype.N_=function(z,q){var e=this.lf=T.G(z.gd);
this.LE()};f0.Bc.prototype.r=function(){return this.lf};f0.Bc.prototype.LE=function(){var z=this.wP.bind(this),q=this.lf,V="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.ao1=[];var e=J.k("table");J.C(e,"border-collapse: collapse;");for(var n=0;n<q.length;n++){var P=J.k("tr"),D=q[n],B=n==0?"th":"td";
e.appendChild(P);var A=J.k(B);P.appendChild(A);J.C(A,V+"cursor:pointer;");if(n!=0)A.textContent="\u2713";
this.ao1.push(A);A.addEventListener("click",z,!1);for(var s=0;s<D.length;s++){var A=J.k(B);A.textContent=D[s];
P.appendChild(A);J.C(A,V);A.setAttribute("title",D[s])}}J._8(this.P9);this.P9.appendChild(e)};f0.Bc.prototype.wP=function(z){this.j=this.ao1.indexOf(z.currentTarget);
this.K(new dW("activate"))};f0.$G=function(){gq.call(this);var z=this.$=J.k("div","form marged");this.d$=null;
this.OK=[];this.jE=[];this.h_=null;this.yF=new cr([0,3],[]);this.yF.Q(_.E.f,this.anl,this);z.appendChild(this.yF.$);
this.atg=[];var q=["Visibility","Text Content","Pixel Content"];for(var n=0;n<q.length;n++){J.dh(z);
var e=new iP(q[n]);e.Q(_.E.f,this.GT,this);z.appendChild(e.$);J.f9(z);var V=new eE("Variable Name");
V.Q(_.E.f,this.GT,this);z.appendChild(V.$);this.atg.push(e,V)}};f0.$G.prototype=new gq;f0.$G.prototype.GT=function(z){var q=this.yF.r(),e=this.h_[q],V=this.OK[q],P=this.d$["l"+e],D=this.atg;
if(P==null)this.d$["l"+e]=P=[];while(P.length!=0)P.pop();for(var n=0;n<3;n++){var B=D[2*n+1].r().trim();
if(!D[2*n].r())continue;if(B.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}B=B.replaceAll(" ","");
var A={varName:B,trait:["visibility","textcontent","fileref"][n]};P.push(A);if(n==2){A.align="center";
A.clip="false";A.placementMethod="fit";A.valign="middle"}}if(P.length==0)delete this.d$["l"+e];this.N_()};
f0.$G.prototype.anl=function(z){var q=this.yF.r(),e=this.h_[q],V=this.OK[q],P=this.d$["l"+e],D=this.atg;
if(P==null)P=[];for(var n=0;n<3;n++){var B=n==0||n==1&&V==0||n==2&&V==1;D[2*n]._w(B);D[2*n].a(!1);D[2*n+1]._w(B);
if(!B)D[2*n+1].a("")}for(var n=0;n<P.length;n++){var A=P[n],s=A.trait,a=["visibility","textcontent","fileref"].indexOf(s);
D[a*2].a(!0);D[a*2+1].a(A.varName)}};f0.$G.prototype.N_=function(z,q){if(z){var e=T.G(z.G5),V=this.d$={};
for(var n=0;n<e.length;n++){var P=e[n],D=P.docRef;D="l"+D.slice(4,D.length-2);if(V[D]==null)V[D]=[];
V[D].push(P)}this.h_=[];this.OK=[];this.jE=[];for(var n=z.Z.length-1;n>=0;n--){var B=z.Z[n],D=B.add.lyid;
if(B.add.lsct==fH.pR)continue;this.h_.push(D);this.OK.push(B.add.TySh?0:1);this.jE.push(B.getName())}}var A=[],s=this.jE;
for(var n=0;n<s.length;n++){A.push(s[n]+(this.d$["l"+this.h_[n]]?" *":""))}var a=this.yF.r();this.yF.jl(A);
this.yF.a(a);this.anl()};f0.$G.prototype.r=function(){var z=this.d$,q=[];for(var e in z){var V=z[e];
for(var P=0;P<V.length;P++){V[P].docRef="id('"+e.slice(1)+"')";q.push(V[P])}}return q};function dX(){jz.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.aOm=!1;var z=this.uw=[],q=J.k("div","form");J.C(q,"width:20em");this.body.appendChild(q);for(var n=0;
n<2;n++){var e=new iP([22,4,2+n]);q.appendChild(e.$);J.f9(q);var V=new eD(null,[["N equal parts"],["N pixels per part"]]);
q.appendChild(V.$);J.f9(q);var P=new gO("N",0,1e3);P.a(4);P.parent=this;q.appendChild(P.$);J.f9(q);if(n==0)J.dh(q);
z.push(e,V,P)}for(var n=0;n<z.length;n++)z[n].Q(_.E.f,this.EE,this);z.push(J.Hy(this,q));this.Q("closebtn",this.wj,this)}dX.prototype=new jz;
dX.prototype.wj=function(){if(this.aOm){var z=new dW(_.E.z,!0);z.U=W.S3;z.data={p:"h_stepbck"};this.K(z)}};
dX.prototype.EE=function(z){this.wj();this.aOm=!0;var q=[];for(var n=0;n<6;n++)q.push(this.uw[n].r());
var e={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var V=0;V<2;V++){if(!q[V*3])continue;var P=q[V*3+1],D=q[V*3+2];e[["slices","pixels"][P]+["Across","Down"][V]]={t:"long",v:D}}var B=new dW(_.E.zN,!0);
B.data={gQ:"divide",cj:e};this.K(B)};dX.prototype.En=function(z){this.close()};dX.prototype.W=function(){jz.prototype.W.call(this);
var z=this.uw;for(var n=0;n<z.length;n++)z[n].W()};dX.prototype.N_=function(z,q){this.aOm=!1;this.uw[0].a(!1);
this.uw[3].a(!1)};function fA(){jz.call(this,"Stroke Path","strokepath");this.i=null;this.kg=null;this.aKM=null;
this.CO=null;this.av_=[W.zZ,W.YO,W.bx,W.L5,W.T2,W.KU,W.RF,W.lP,W.mM,W.z6,W.qZ,W.Ot,W.oI,W.FL,W.$s]}fA.prototype=new jz;
fA.prototype.W=function(){jz.prototype.W.call(this);if(this.CO){this.kg.W();this.CO.W()}};fA.prototype.En=function(z){var q=this.av_[this.kg.r()],e=null;
for(var V in W.$Y)if(W.$Y[V]==q)e=V;var P=new dW(_.E.zN,!0);P.data=W.H6.KV(e,this.aKM.r());this.close();
this.K(P)};fA.prototype.K5=function(z,q){if(this.i==null){var e=[];for(var n=0;n<this.av_.length;++n){e.push(z.jc.map[this.av_[n]].U.name)}var V=J.k("div","form");
this.body.appendChild(V);this.kg=new cr("Tool",e);this.kg.a(1);V.appendChild(this.kg.$);this.aKM=new iP("Simulate Pressure");
J.f9(V);V.appendChild(this.aKM.$);this.CO=J.Hy(this,this.body)}this.i=z};function f_(){jz.call(this,[1,18],"linkview");
J.d6(this.body,"form");var z=this.$_=[new eE(null,null,17),new ht([5,1],!1,null,!0),new ht([1,0],!1,null,!0)];
for(var n=0;n<3;n++){var q=z[n];this.body.appendChild(q.$);if(n!=0)q.Q("click",this.uW,this);if(n==0)J.f9(this.body)}}f_.prototype=new jz;
f_.prototype.N_=function(z,q){var e=q.acl;if(e.startsWith("https://"))e=e.slice(8);this.$_[0].a(e)};
f_.prototype.uW=function(z){var q=this.$_,e=q[0].r(),V=z.target==this.$_[1];if(V){navigator.clipboard.writeText(e);
alert("Copied to a clipboard!")}else window.open("https://"+e,"Shared")};function bG(z){jz.call(this,z==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][z]);
this.caller=null;this.ZN=z;var q=J.k("div","form label8");J.C(q,"max-width:26em");this.body.appendChild(q);
this.i$=new cr("Document",["abc","def"]);this.i$.Q(_.E.f,this.GT,this);q.appendChild(this.i$.$);J.f9(q);
this.dZ=new cr([12,4],["abc","def"]);this.dZ.Q(_.E.f,this.GT,this);q.appendChild(this.dZ.$);this.akV=new iP([4,11]);
this.W1=new eE([12,48]);this.W1.a("Alpha");if(z==0){}else{q.appendChild(this.W1.$)}this.ax=new ek(!0);
q.appendChild(this.ax.$);this.CO=J.Hy(this,q)}bG.prototype=new jz;bG.prototype.ay=function(){return!0};
bG.prototype.W=function(){jz.prototype.W.call(this);this.CO.W();this.i$.W();this.dZ.W();this.W1.W();
this.akV.W();this.ax.W()};bG.prototype.GT=function(z){var q=this.ZN;if(z==null||z==this.i$){var e=this.i$.r(),V=this.caller.nk[e],P=[];
if(q==0)P.push(V.Z[V.j[0]].getName()+" Transparency",V.Z[V.j[0]].getName()+" Gray");else P.push([5,3]);
for(var n=0;n<V.kv.length;n++)P.push(V.kv[n].name);this.dZ.jl(P)}if(q==0)return;var D=this.dZ.r();this.W1._w(D==0);
this.ax._w(D!=0)};bG.prototype.N_=function(z,q,e){this.caller=e;var V=e.nk,P=[];for(var n=0;n<V.length;
n++){var D=V[n].name;P.push(D.length<30?D:D.slice(0,27)+"...")}this.i$.jl(P);this.i$.a(V.indexOf(z));
this.GT(null)};bG.prototype.En=function(z){var q=this.ZN,e=this.dZ.r(),V=this.i$.r(),P=this.caller.nk[V],D=this.ax.r(),B,A=!1;
if(q==0){if(e==1)A=!0;e=Math.max(e-1,0)}if(e==0){B=new dW(_.E.zN,!0);if(q==0)B.data=W.cn.GK(D,A?"Gray":"Trsp",P.Z[P.j[0]].getName());
else B.data={gQ:"duplicate",cj:{classID:"null",Nm:{t:"TEXT",v:this.W1.r()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{B=new dW(_.E.z,!0);
if(q==0){B.U=W.qK;B.data={p:"fromchannel",HH:[-4-e,0,D]}}else{B.U=W.si;B.data={p:lK.$T,kE:"seltochannel",HH:[e-1,D]}}}this.close();
this.K(B)};function kV(){jz.call(this,"PeaMark","peamark");var z=J.k("div");z.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small>";
this.body.appendChild(z);z.style.marginBottom="40px";var q=J.k("div","form");J.C(this.body,"width:320px;");
this.body.appendChild(q);this.a4P=!1;this.Uh=[];this.yz=[];this.aph=[];for(var n=0;n<3;n++){var z=J.k("span");
z.textContent="0";q.appendChild(z);J.C(z,"text-align:center; font-size:2em;  width:50%; display:inline-block; vertical-align:middle;");
var e=new ht("Test "+["CPU","GPU","free RAM"][n],!1,null,!0);q.appendChild(e.$);J.C(e.$,"width:50%; margin-right:0px;");
e.Q("click",this.azC,this);this.Uh.push(z);this.aph.push(e);var V=J.k("hr");this.yz.push(V);if(n!=2)q.appendChild(V);
J.C(V,"height:2px; background-color:#00ff00")}J.f9(this.body);this.a5n=new ht("Browse scores",!1,null,!0);
var P=this.a5n.$;this.body.appendChild(P);this.a5n.Q("click",this.an0,this);J.C(P,"position:absolute;top:100px;left:13px;");
this.avE=new ht("Tweet your score!",!1,null,!0);var P=this.avE.$;this.body.appendChild(P);this.avE.Q("click",this.an0,this);
J.C(P,"position:absolute;top:100px;right:13px;");this.jY=J.k("div","scrollable");this.body.appendChild(this.jY);
this.jY.style.height="226px";this.OY=[];this.aAF=0;this.aDX=this.alj.bind(this);this.aie()}kV.prototype=new jz;
kV.prototype.an0=function(z){var q=PMRK,e;if(z.target==this.a5n){e="https://twitter.com/hashtag/peamark?f=live"}else{var V=q[q.length-1];
if(Math.min(V[2],V[3])==0){alert("Run both tests first.");return}e="https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+V[2]+"/"+V[3]+"! Test your device at Photopea.com (More - PeaMark)")}window.open(e,"_blank")};
kV.prototype.azC=function(z){var q=this.aph.indexOf(z.target),e=1024,V=1024,P=new kk(0,0,e,V),D=this.aDX;
if(q==0){var B=T.n(P.D());for(var A=0;A<V;A++)for(var s=0;s<e;s++)B[A*e+s]=((A>>>7)+(s>>>7)&1)*255;this.OY=[q,B,e,V];
for(var n=0;n<4;n++)D(!0)}else if(q==1){var a=T.n(P.D()*4),M=ee.xu(1,e,V);M.set(a);T.FH(a,4278190335);
var $=ee.xu(0,e,V);$.set(a);var U=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],o={e:ee.filter.a34,Wk:new Float32Array([1/e,1/V]),aH5:0,ZS:20,aAP:new Float32Array([0,1]),atJ:new Float32Array([0,0,0]),a6B:new Float32Array(U),anK:new Float32Array(U)};
this.OY=[q,o,a,$,M];D(!0)}else{if(this.a4P){alert("Close all documents before running this test.");return}this.OY=[q,[]];
D(!0)}this.a6i=[[0,0],[0,0],[0,0]];this.aAF=Date.now();setTimeout(this.aDX,20)};kV.prototype.alj=function(z){var q=this.OY,e=q[0],V=Date.now(),B=!1,A;
if(e==0){T.style.lR(q[1],q[2],q[3])}else if(e==1){ee.k$(q[4]);ee.filter.ej(q[1],q[3].nj);q[4].get(q[2])}if(z)return;
var P=Date.now()-V,D=this.a6i[e];D[0]+=P;D[1]++;if(e<2){var s=[26,73];A=Math.round(1e3*s[e]/(D[0]/D[1]));
var a=(Date.now()-this.aAF)/5e3,B=a>1;this.yz[e].style.width=Math.min(100,a*100)+"%"}else{var M=128*(1<<20);
try{var $=new Uint8Array(M);$.fill(117);q[1].push($)}catch(cz){B=!0;this.OY=null;alert("finished")}A=(q[1].length*M/(1<<30)).toFixed(2)+" GB"}this.Uh[e].textContent=A;
if(!B)setTimeout(this.aDX,20);else{var U=PMRK;U[U.length-1][2+e]=A;this.aie()}};kV.prototype.aie=function(){var z=this.jY,e="",V=" style=\"text-align:right; width:4em;\">";
J._8(z);var q=PMRK.slice(0);q.sort(function(s,a){return 1e3*(a[2]-s[2])+(a[3]-s[3])});var P="<td"+V,D="<th"+V;
for(var n=0;n<q.length;n++){var B=q[n],A=null;if((n&1)==0)A="rgba(255,255,255,0.05)";if(B[1]=="Your Device")A="rgba(255,255,0,0.2)";
e+="<tr style=\""+(A?" background-color:"+A:"")+"\"><td style=\"text-align:center\">"+["\uD83D\uDDA5","\uD83D\uDCBB","\uD83D\uDCF1","\uD83D\uDCF1"][B[0]]+"</td><td>"+B[1]+"</td>"+P+B[2]+"</td>"+P+B[3]+"</td></tr>"}z.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th></th><th style=\"width:13.7em;\">Device</th>"+D+"CPU</th>"+D+"GPU</th></tr>"+e+"</table>"};
kV.prototype.N_=function(z,q,e,V){this.a4P=z!=null};function b0(){jz.call(this,"Measurement Scale","measscale");
var z=J.k("div","form label8");z.style.width="300px";this.body.appendChild(z);var q=this.vH=[new eE("Pixel Length"),new eE("Logical Length"),new eE("Unit Name"),new ij("Hi")];
for(var n=0;n<4;n++){var e=q[n];e.Q(_.E.f,this.GT,this);z.appendChild(e.$)}this.CO=J.Hy(this,z)}b0.prototype=new jz;
b0.prototype.SM=function(z,q){return new f5(Math.max(0,Math.min(150,(z-250)/2)),Math.max(0,Math.min(150,(q-120)/2)))};
b0.prototype.GT=function(z){var q=this.vH;q[3].a(q[0].r()+" pixels = "+q[1].r()+" "+q[2].r())};b0.prototype.En=function(z){var q=this.vH,e=[];
for(var n=0;n<3;n++)e.push(q[n].r());e[0]=parseFloat(e[0]);e[1]=parseFloat(e[1]);var V=new dW(_.E.z,!0);
V.U=W.HD;V.data={p:"unit",u:e};this.K(V);this.close()};b0.prototype.W=function(){jz.prototype.W.call(this);
var z=this.vH;for(var n=0;n<z.length;n++)z[n].W()};b0.prototype.N_=function(z,q){var e=this.vH;e[0].a(Math.round(q.Z7));
if(z.eJ){var V=z.eJ.T.v;console.log(V);e[1].a(V.logicalLength.v);e[2].a(V.logicalUnits.v)}else{e[1].a(1);
e[2].a("unitName")}this.GT()};function ig(){jz.call(this,"Transform","transform");var z=this.lv=J.k("div","form label6");
this.body.appendChild(z);this.ah7=0;this._z=[[new gO([22,4,0],-1e3,1e3),new gO([22,4,1],-1e3,1e3),"-",new gO([12,28],-1e3,1e3),new b4([12,15],!1,!1)],[new b4([12,15],!1,!1)],[new eD("Reflect",[[22,4,0],[22,4,1]])],[new gO([22,4,0],-500,500,"%"),new gO([22,4,1],-500,500,"%")],[]];
this._z[3][0].a(100);this._z[3][1].a(100);this.CO=J.Hy(this,this.body)}ig.prototype=new jz;ig.prototype.W=function(){jz.prototype.W.call(this);
var z=this._z;for(var n=0;n<z.length;n++){var q=z[n];for(var e=0;e<q.length;e++)if(q[e]!="-")q[e].W()}this.CO.W()};
ig.prototype.N_=function(z,q,e,V){var P=this.ah7=q.kE,D=this.lv,B=this._z[P];this.Fv=[[12,54],[2,5],"Reflect",[12,38],[24,5,4]][P];
J._8(D);for(var n=0;n<B.length;n++){var A=B[n];if(A=="-"){J.dh(D);continue}A.a(A.r());A.parent=this;
D.appendChild(A.$);J.f9(D)}this.W()};ig.prototype.En=function(z){var q=this.ah7,e=this._z[q],V="",P=[];
for(var n=0;n<e.length;n++)if(e[n]!="-")P.push(e[n].r());console.log(P);if(q==0){var D=P[0],B=P[1];if(P[2]!=0){var A=P[3][0]*Math.PI/180;
D=P[2]*Math.cos(A);B=-P[2]*Math.sin(A)}V="translate("+D+","+B+");"}if(q==1)V="rotate("+-P[0][0]+");";
if(q==2){var s=1,a=1;if(P[0]==0)a=-1;else s=-1;V="resize("+s*100+","+a*100+");"}if(q==3){V="resize("+P[0]+","+P[1]+");"}console.log(V);
var M=new dW(_.E.b,!0);M.data={p:_.m.Lo,u5:"app.activeDocument.activeLayer."+V};this.close();this.K(M)};
function hj(){jz.call(this,"Generate With AI","aigen");this.ry=[];this.lS=-1;this.hF=!1;this.im=J.k("div","form");
this._R=J.k("div");this.Tp=J.k("div");this.body.appendChild(this.im);this.body.appendChild(this._R);
this.body.appendChild(this.Tp);this.BY=new eE(null,null,-1,2);this.BY.$.firstChild.style.fontSize="1.2em";
this.BY.$.firstChild.style.textAlign="center";this.BY.$.firstChild.style.marginBottom="8px";this.BY.a("cute hamster in space wearing goggles, holding a 3D sign that says \"Photopea\"");
this.im.appendChild(this.BY.$);this.re=new ht("Generate",null,null,!0);this.re.$.style.fontSize="1.5em";
this.re.Q("click",this.Rp,this);this.im.appendChild(this.re.$);this.n8=new ht("Sponsored by Zoner AI",null,null);
this.n8.$.style.margin="0 2em;";this.n8.Q("click",this.Rp,this);this.im.appendChild(this.n8.$);this.xk=new ht("Edit Image",null,null,!0);
this.xk.$.style.fontSize="1.5em";this.xk.Q("click",this.Rp,this);this.im.appendChild(this.xk.$);this.n3=J.k("img");
this._R.appendChild(this.n3)}hj.prototype=new jz;hj.prototype.SM=function(z,q){return new f5(0,0)};hj.prototype.N_=function(){if(this.fk==null){this.fk=!0;
this.MO("img/ai/ham0.jpg");this.MO("img/ai/ham1.jpg");this.MO("img/ai/ham2.jpg");this.MO("img/ai/ham3.jpg");
this.MO("img/ai/ham4.jpg")}};hj.prototype.hh=function(z,q){z-=26;J.C(this.im,"margin:0px auto; width:"+Math.min(z,800)+"px;  text-align:center;");
J.C(this.Tp,"margin:0px auto; width:"+Math.min(z,800)+"px;  text-align:center; overflow:auto; white-space: nowrap; height:120px;  scrollbar-width:thin; scrollbar-color: var(--brdrDrk) rgba(0, 0, 0, var(--alphaDark));");
J.C(this.n3,"width:"+z+"px; height:"+(q-272)+"px;object-fit:contain; margin:1em 0;")};hj.prototype.Rp=function(z){if(z.currentTarget==this.xk){var q=this.ry[this.lS],e=hZ.J7(q),V=hZ.nw(e),P=V.EY(q),D=hZ.Jy("image",P),B=new dW(_.E.b,!0);
B.data={p:_.m.Mk,Va:D};this.K(B);this.close();return}if(z.currentTarget==this.n8){window.open("https://zonerai.com/en/?utm_source=photopea&utm_medium=link&utm_campaign=bundle","_blank");
lA.event("zoner_link");return}if(this.hF)return;if(this.Mj==null)this.Mj=0;var A=Date.now()-this.Mj;
if(!lA.aY()&&A<15e3){alert("Please, wait "+(15-Math.round(A/1e3))+" seconds or get a Premium account.",4e3);
return}this.Mj=Date.now();var s=new FormData;s.append(jS.Mh("?^XSST"),this.BY.r());s.append(jS.Mh("0\\R1HY"),jS.Mh("\"0z{wup cfcecTXQcaEVIBD6J54.>'$$ 0x*"));
this.MO(jS.Mh("W`]VVykh8=^H:6*4L~(#Ap|r5shlnfdVOy<]Vp%F="),{method:jS.ud,body:s});var B=new dW(_.E.b,!0);
B.data={p:_.m.lu,MN:"Loading ..."};this.K(B);this.hF=!0;lA.event("zoner_gen "+(lA.aY()?"Premium":"Free"))};
hj.prototype.MO=function(z,q){fetch(z,q).then(function(e){e.arrayBuffer().then(function(V){this.yI(V);
this.hF=!1;var P=new dW(_.E.b,!0);P.data={p:_.m.Rx,MN:"Loading ..."};this.K(P)}.bind(this))}.bind(this))};
hj.prototype.yI=function(z){this.ry.push(z);this.lS=this.ry.length-1;var q=J.k("img");J.C(q,"height:100px; margin:0 8px 0 0;");
q.src=URL.createObjectURL(new Blob([z],{type:"image/jpeg"}));this.Tp.appendChild(q);q.onclick=function(e){this.aNl.lS=this.ap7;
this.aNl.sE()}.bind({aNl:this,ap7:this.lS});this.sE()};hj.prototype.sE=function(){var z=this.ry,q=z[this.lS],e=URL.createObjectURL(new Blob([q],{type:"image/jpeg"}));
this.n3.src=e;setTimeout(function(){this.Tp.children[this.lS].scrollIntoView()}.bind(this),20)};function lJ(z){jz.call(this,"Channel Options","copts");
var q=J.k("div","form");this.body.appendChild(q);J.C(q,"width:220px");this.cA=new eE([12,48]);this.sl=new cr("Color indicates",["Selected Areas","Masked Areas","Spot Color"]);
this.tx=new l0;this.tx.parent=this;this.Ys=new gO([12,0],0,100,"%",0);this.Ys.parent=this;var e=J.k("span");
e.textContent="Color: ";q.appendChild(this.cA.$);J.f9(q);q.appendChild(this.sl.$);q.appendChild(e);q.appendChild(this.tx.$);
q.appendChild(this.Ys.$);this.CO=J.Hy(this,this.body)}lJ.prototype=new jz;lJ.prototype.W=function(){jz.prototype.W.call(this);
this.cA.W();this.Ys.W()};lJ.prototype.N_=function(z,q,e,V){var n=this.Sx=z.C2[0],P=z.kv[n];this.cA.a(P.name);
this.cA._w(P.name!="Quick Mask");this.sl.a(P.DO);this.tx.it(T.RC(P.go));this.Ys.a(P.Or)};lJ.prototype.En=function(z){var q=new dW(_.E.z,!0);
q.U=W.si;q.data={p:lK.$T,kE:"rnm",XW:this.Sx};q.data.name=this.cA.r();q.data.DO=this.sl.r();q.data.go=T.H_(this.tx.ou());
q.data.Or=this.Ys.r();this.K(q);this.close()};function dJ(z,q,e,V){gq.call(this);this.name=z;this.ai4=e;
this.QF=V;this.Gd=J.k("div","");this.Gd.setAttribute("draggable","true");this.yH=J.k("div","pbody");
this.hG=new ht("",!1,"");this.hG.parent=this;this.a3x=J.k("span","cross gsicon");this.D7=J.k("span","label");
var P=this.ar7.bind(this);this.Gd.addEventListener("mousedown",this.RG.bind(this),!1);this.Gd.addEventListener("contextmenu",P,!1);
this.hG.$.addEventListener("contextmenu",P,!1);this.a3x.addEventListener("mousedown",this.hy.bind(this),!1);
this.Gd.appendChild(this.D7);if(q)this.Gd.appendChild(this.a3x);this.f8=!1;this.D7.textContent=z}dJ.prototype=new gq;
dJ.prototype.g3=function(){return null};dJ.prototype.br=function(){};dJ.prototype.W=function(){var z=iE.get(this.name),q=!1,e=this.xL==0?22:Math.round(2+this.xL/50);
if(z.endsWith(" *")){q=!0;z=z.slice(0,z.length-2);e-=2}var V=z.length>e;this.D7.textContent=V?z.slice(0,e-2):z;
this.Gd.setAttribute("title",z);if(V)for(var P=0;P<2;P++){var D=J.k("span");D.textContent=z.charAt(e-2+P);
J.C(D,"opacity:"+(.6-P*.4));this.D7.appendChild(D)}if(q){var D=J.k("span");D.textContent=" *";this.D7.appendChild(D)}var B=z.split(" "),A=B.length==2?B[0].substring(0,2)+B[1][0]:z.substring(0,3);
if(A.charCodeAt(0)>=11776)A=A.substring(0,1);var s=this.ai4;if(s==null)this.hG._D(A,z);else{var a;if(s.startsWith("---"))a="<img src=\""+PIMG[s.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(s.startsWith("==="))a="<img src=\""+s.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(s.indexOf("\"")==-1)a="<img src=\""+s+"\" alt=\""+J.S8(z).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.hG._D(a,z)}};dJ.prototype.enable=function(){this.yH.className="pbody"};dJ.prototype.disable=function(){this.yH.className="pbody disabled"};
dJ.prototype.K5=function(z,q){};dJ.prototype.N_=function(z,q,e){};dJ.prototype.nf=function(z){};dJ.prototype.hh=function(z,q){};
dJ.prototype.SJ=function(z){if(this.name==z)return;this.name=z;this.W()};dJ.prototype.ai=function(){};
dJ.prototype.RG=function(z){if(z.button==0)this.K(new dW("select",!1));if(z.button==1)this.BB()};dJ.prototype.ar7=function(z){J.oC(z);
var q=this.QF!=null&&isNaN(this.QF),e=J.fH(z,document.body),V=this.aDF;if(V==null){V=this.aDF=new gu(q?[{name:"Uninstall Plugin"}]:[{name:[1,12,0]},{name:"Close All"},{name:"Close Others"}]);
this.aDF.Q("select",this.ayq,this)}V.update(null);V.W();V.parent=this;var P=new dW(_.E.b,!0);P.data={p:_.m.wL,MR:V,x:e.x+1,y:e.y+1};
this.K(P)};dJ.prototype.BB=function(){if(this.QF!=null){var z=new dW(_.E.b,!0);z.data={p:_.m.T8,MR:this.aDF};
this.K(z);if(isNaN(this.QF)){z.data={p:_.m.Ln,Lh:cR.FU,aKv:this.Zw.resID}}else{z.data={p:_.m.Ln,Lh:cR.t2,u:parseFloat(this.QF),kK:"del"}}this.K(z)}else if(this.a2G())this.K(new dW(_.E.un,!1))};
dJ.prototype.a2G=function(z){return!0};dJ.prototype.hy=function(z){if(z.stopPropagation)z.stopPropagation();
this.BB()};dJ.prototype.ayq=function(z){var n=z.target.Gv()[0];if(n==0)this.BB();else{var q=new dW(_.E.un,!1);
q.data=n-1;this.K(q)}};dJ.prototype.Qy=function(z,q,e,V,P){};dJ.prototype.Sf=function(z,q,e,V,P){};dJ.prototype.AM=function(z,q,e,V,P){};
dJ.eG=function(z,q,e){if(z.childElementCount!=0)return;var V=z.textContent;this.QN=this.aHq.bind(this);
this.akg=this.aHX.bind(this);this.RO=q;this.aw0=e;this.IE=z;this.ng=V;var P=J.k("input","");P.setAttribute("type","text");
P.setAttribute("size","10");P.setAttribute("value",V);J._8(z);z.appendChild(P);P.select();P.focus();
J.Ur(z);z.addEventListener("keyup",this.QN,!1);document.body.addEventListener("mousedown",this.akg,!1)};
dJ.eG.prototype.aHq=function(z){var q=cz.Kz,e=q(z.code,cz.JN);if(q(z.code,cz.Nf)||e)this.an8(e)};dJ.eG.prototype.aHX=function(z){var q=z.target;
if(q.tagName&&q.tagName.toLowerCase()=="input")return;this.an8(!0)};dJ.eG.prototype.an8=function(z){var q=this.IE,e=q.firstChild.value;
q.removeEventListener("keyup",this.QN);document.body.removeEventListener("mousedown",this.akg);if(this.aw0||z&&e!=""&&e!=this.ng){this.RO(e)}else{J._8(q);
q.textContent=this.ng}};dJ.zg=function(){var z=[0,1,2,3,5,6,7,9,10,16,17,100];if(cW==1)z.push(28);return z};
dJ.ay6=function(z){var q=dJ.zg(),e=[];for(var n=0;n<z.length;n++)if(q.indexOf(z[n])==-1)e.push(z[n]);
for(var n=0;n<q.length;n++)if(z.indexOf(q[n])==-1)e.push(-q[n]);return e};dJ.azI=function(z){var q=dJ.zg();
for(var n=0;n<z.length;n++){var e=z[n],V=q.indexOf(e);if(V==-1)V=q.indexOf(-e);if(0<=e&&V==-1)q.push(e);
if(e<0&&V!=-1)q.splice(V,1);if(e==0&&V!=-1)q.splice(V,1)}return q};dJ.Qf={S3:"0",a3j:"1",si:"2",awv:"3",aMn:"4",mm:"5",CSS:"6",YO:"7",aqE:"8",ayS:"9",aHC:"10",ap4:"11",aqT:"12",RV:"13",$O:"14",ar2:"15",avB:"16",Ex:"17",aDz:"18",aAH:"19",a4w:"20",TI:"21",ai8:"22",aE$:"23",atS:"24",ath:"25",ajd:"26",aHn:"27",o1:"28"};
function j3(){dJ.call(this,[9,9],!1,"---panels/actions",dJ.Qf.ap4);this.i=null;this.ro=[0,0]}j3.prototype=new dJ("");
j3.prototype.fk=function(){if(!J.H2(this.yH))return;if(this.NS){this.LE();return}this.NS=J.k("div","padded scrollable");
J.C(this.NS,"width:260px;  height:260px");this.yH.appendChild(this.NS);this.Q(_.E.f,this.nx,this);this.UZ=J.k("div","lpfoot");
this.yH.appendChild(this.UZ);this.C_=[];var z="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",q="</svg>",e=z+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+q,V=z+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+q;
this.aAi=z+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+q;this.a9h=z+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+q;
var P=[this.aAi,V,"lrs/folder","lrs/newlayer","lrs/bin",e],D=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var n=0;n<P.length;n++){var B=P[n];if(1<n&&n!=P.length-1)B="<img src=\""+PIMG[P[n]]+"\" class=\"miniscale gsicon\" />";
var A=new ht(B,!1,D[n]);A.Q("click",this.sd,this);this.UZ.appendChild(A.$);this.C_.push(A)}this.LE()};
j3.prototype.W=function(){dJ.prototype.W.call(this);if(this.NS==null)return;for(var n=0;n<this.C_.length;
n++)this.C_[n].W()};j3.prototype.sd=function(z){var n=this.C_.indexOf(z.currentTarget),q=this.ro,e=this.i,V=e.$K;
if(n==0){var P,D=e.D8;if(V.length==0){alert("Create an Action Set first.");return}if(q.length<2){alert("Select a target action first.");
return}if(D==null){P=this.a9h;D=this.ro}else{P=this.aAi;D=null}this.C_[0]._D(P);e.D8=D}else if(n==1)this.aKG();
else if(n==2||n==3){var B={JJ:"Action Set "+V.length,bX:[],exp:!0};if(n==2||V.length==0){q=[V.length];
V.push(B)}if(n==3){var A=V[q[0]].bX;q=[q[0],A.length];A.push({JJ:"Action "+A.length,color:0,bX:[],auC:!1,shift:!1,exp:!0,XW:A.length})}this.ro=q;
this.LE()}else if(n==4){var s;if(q.length==1)s=V;else if(q.length==2)s=V[q[0]].bX;else s=V[q[0]].bX[q[1]].bX;
var a=q.length-1;s.splice(q[a],1);if(s.length==0)q.pop();else while(q[a]>=s.length)q[a]--;if(q.length==0)q.push(0);
this.LE()}else if(n==5){if(V.length==0){alert("No Actions Present.");return}var M=new dW(_.E.b,!0);M.data={p:_.m.b4,af_:cR.z,Vt:[q[0]]};
this.K(M)}};j3.prototype.nx=function(z){var q=this.i.$K,e=z.data.p,V=z.data.f6;if(e=="sel")this.ro=V;
if(e=="fold"){if(V.length==1)q[V[0]].exp=!q[V[0]].exp;else q[V[0]].bX[V[1]].exp=!q[V[0]].bX[V[1]].exp}if(e=="enab"){var P=q[V[0]].bX[V[1]].bX[V[2]];
P.d=!P.d}if(e=="nchange"){if(V.length==1)q[V[0]].JJ=z.data.WB;else q[V[0]].bX[V[1]].JJ=z.data.WB}this.LE()};
j3.prototype.N_=j3.prototype.ai=function(){this.fk()};j3.prototype.K5=function(z,q){this.i=z;if(this.NS==null)return;
if(q==cR.z||q==cR.zu)this.LE()};j3.prototype.LE=function(){if(this.i==null)return;J._8(this.NS);var z=this.i.$K;
if(z.length==0)return;var q=JSON.stringify(this.ro);for(var n=0;n<z.length;n++){var e=z[n],V=new j3.uq([n],q,e.exp,e.JJ.split("=").pop());
V.parent=this;this.NS.appendChild(V.$);if(!e.exp)continue;for(var P=0;P<e.bX.length;P++){var D=e.bX[P],V=new j3.uq([n,P],q,D.exp,D.JJ.split("=").pop());
V.parent=this;this.NS.appendChild(V.$);if(!D.exp)continue;for(var B=0;B<D.bX.length;B++){var A=D.bX[B],V=new j3.uq([n,P,B],q,null,iE.get(fw.amk(A)),A.d);
V.parent=this;this.NS.appendChild(V.$)}}}};j3.prototype.aKG=function(){var z=this.i.$K,q=this.ro;if(z.length==0){alert("No Actions Present");
return}if(q.length==1){alert("Select an Action first");return}if(this.i.D8!=null){alert("You can not apply actions while recording actions");
return}if(q.length==1)q.push(0);var e=z[q[0]],V=e.bX[q[1]],P=new dW(_.E.b,!0);P.data={p:_.m.g8,HH:[V.JJ,e.JJ]};
this.K(P)};j3.uq=function(z,q,e,V,P){gq.call(this);this.f6=z;var D=this.f6.length-1;this.$=J.k("div","layeritem"+(JSON.stringify(z)==q?" selected":""));
this.nI=J.k("div","head");this.$.appendChild(this.nI);J.C(this.nI,"height:24px");this.Uz=J.k("div","headL");
this.nI.appendChild(this.Uz);if(D!=0){var B=J.k("div");B.style.width=D*20+"px";this.Uz.appendChild(B)}if(e!=null){var A=this.a5e=J.k("div",e?"open":"closed");
this.Uz.appendChild(A)}else{var s=this.a5L=J.k("div","cmark");J.C(s,"background-size:12px 12px; opacity:"+(P?1:.3));
this.Uz.appendChild(s)}if(D==0){var a=J.k("div","folder");this.Uz.appendChild(a)}var M=this.D7=J.k("div","label");
M.textContent=V;this.Uz.appendChild(M);this.$.addEventListener("mouseup",this.m2.bind(this),!1)};j3.uq.prototype=new gq;
j3.uq.prototype.m2=function(z){if(z.detail==1&&z.target.tagName.toLowerCase()!="input"){var q="sel";
if(z.target==this.a5e)q="fold";if(z.target==this.a5L)q="enab";var e=new dW(_.E.f,!0);e.data={p:q,f6:this.f6};
this.K(e)}else if(this.f6.length<3)var V=new dJ.eG(this.D7,this.RO.bind(this))};j3.uq.prototype.RO=function(z){var q=new dW(_.E.f,!0);
q.data={p:"nchange",WB:z,f6:this.f6};this.K(q)};function en(){dJ.call(this,[3],!1,"---lrs/adj",dJ.Qf.aDz)}en.prototype=new dJ("");
en.prototype.fk=function(){if(!J.H2(this.yH)||this.C_)return;J.C(this.yH,"text-align:center;  padding:6px; min-width:220px");
this.C_=[];var n=0;for(var z in aM.names){var q=new ht("<img src=\""+PIMG["adj/"+z]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,aM.names[z]);
q.Q("click",this.we,this);this.C_.push(q);this.yH.appendChild(q.$);if(n==4||n==10)J.f9(this.yH);n++}this.W()};
en.prototype.N_=function(){this.fk()};en.prototype.ai=function(){this.fk()};en.prototype.W=function(){dJ.prototype.W.call(this);
if(this.C_==null)return;for(var n=0;n<this.C_.length;n++)this.C_[n].W()};en.prototype.we=function(z){var q=this.C_.indexOf(z.target),e=f1.Ik()[q],V=new dW(e.N,!0);
V.data=e.M;this.K(V)};function kU(){dJ.call(this,[12,22],!1,null,dJ.Qf.TI);this.NS=J.k("div","padded");
this.i=null;this.yH.appendChild(this.NS);this.qd=new j4(null,17.7,10);this.qd.parent=this;this.qd.Q(_.E.f,this.EE,this);
this.NS.appendChild(this.qd.TY)}kU.prototype=new dJ("");kU.prototype.EE=function(z){var q=this.qd.r(),e=new dW(_.E.z,!0);
e.data={p:"setstl",u:q.L$};e.U=W.Eg;this.K(e);e.data={p:"confirm"};this.K(e)};kU.prototype.K5=function(z,q){this.i=z;
if(z==null)return;if(q==cR.zu||q==cR.TI){this.qd.zT([z.yg,z.fr]);this.qd.hh()}};kU.prototype.LE=function(){this.qd.A1()};
kU.prototype.N_=function(){this.LE()};kU.prototype.ai=function(){this.LE()};var a4=function(){function z(){dJ.call(this,[9,3],!1,"---panels/brush",dJ.Qf.YO);
this.DV=null;this.i=null}z.prototype=new dJ("");z.prototype.fk=function(){var B=J.k("div","");this.yH.appendChild(B);
this.tF=J.k("div","bordered cell");J.C(this.tF,"width:126px; height:300px");B.appendChild(this.tF);this.TD=[];
this.aFv=null;this.Au=[];var A=this.ati.bind(this);this.eN=[new P("basic"),new P("useTipDynamics"),new P("useScatter"),new P("useTexture"),new P("useColorDynamics"),new P("usePaintDynamics")];
for(var n=0;n<this.eN.length;n++){var s=J.k("div","listitem"),a=this.eN[n],$=null;a.parent=this;a.Q("brushchange",this.aG0,this);
var M=a.Xu;if(n==0){this.aFv=new ij(M);s.appendChild(this.aFv.$)}else{$=new iP(M,!1);$.Q(_.E.f,this.a2j,this);
s.appendChild($.$)}this.Au.push($);this.tF.appendChild(s);this.TD.push(s);s.addEventListener("click",A,!1)}this._E=J.k("div","cell padded");
B.appendChild(this._E);this.setItem(0);this.TX=J.k("canvas");this.TX.height=10;B.appendChild(this.TX);
this.YI=this.TX.getContext("2d");this.zk()};z.prototype.hh=function(B,A){if(this.xL==B)return;this.xL=B;
this.Hi=A;this.zk()};z.prototype.ai=function(){if(!J.H2(this.yH))return;if(this.tF){this.zk();return}this.fk();
this.W();this.K5(this.i,cR.zu)};z.prototype.W=function(){dJ.prototype.W.call(this);if(this.tF==null)return;
this.aFv.W();for(var n=1;n<this.Au.length;n++)this.Au[n].W();for(var n=0;n<this.eN.length;n++)this.eN[n].W()};
z.prototype.aG0=function(B){var A=this.eN.indexOf(B.currentTarget),s=T.G(this.eN[A].DV),a=new dW(_.E.b,!0);
a.data={p:_.m.Ln,Lh:cR.LJ,DV:s};this.K(a)};z.prototype.a2j=function(B){this.aeO(this.Au.indexOf(B.currentTarget),B.currentTarget.Iv())};
z.prototype.ati=function(B){var n=this.TD.indexOf(B.currentTarget);if(B.target.tagName.toLowerCase()=="input")return;
if(this.Au[n]&&!this.Au[n].Iv()){this.Au[n].IM();this.aeO(n,!0)}this.setItem(n)};z.prototype.aeO=function(B,A){this.eN[B].aqy(A)};
z.prototype.setItem=function(B){for(var n=0;n<this.eN.length;n++)this.TD[n].className="listitem";if(this._E.firstChild)this._E.removeChild(this._E.firstChild);
this.TD[B].className="listitem selected";this._E.appendChild(this.eN[B].$)};z.prototype.K5=function(B,A){this.i=B;
if(this.tF==null)return;for(var n=0;n<this.eN.length;n++)this.eN[n].K5(B,A);if(A==cR.LJ||A==cR.zu){this.DV=B.pL.AA;
this.zk()}if(A==cR.RV)this.zk()};z.prototype.zk=function(){if(this.DV)this.enable();else{this.disable();
return}if(!J.H2(this.yH))return;var B=this.i;for(var n=0;n<this.eN.length;n++){this.eN[n].a(this.DV);
if(this.Au[n])this.Au[n].a(this.eN[n].Iv())}var A=T.G(this.DV);A.Brsh.v.Dmtr.v.val=Math.min(A.Brsh.v.Dmtr.v.val,50);
J.rw(this.TX,this.xL,80);var s=new kk(0,0,this.TX.width,this.TX.height),a=this.i.pL,M=new bw(A,a?a.Mf:null,a?a.yw:null,{Ws:1},B.pQ,B.Cp,s,null,0),$=s.T/2,U=s.s-$*2;
M.moveTo($,$);for(var n=0;n<=U;n+=10)M.lineTo($+n,$+20*Math.sin(2*Math.PI*n/U));M.finish();var o=M.Hz(),t=M.a99(s);
if(t)o=t;var c=new ImageData(s.s,s.T);T.aF(o,s,c.data,s);this.YI.putImageData(c,0,0)};function q(B){gq.call(this);
B=B.split(".")[0];this.pr=B;var A=this.$=J.k("span"),s=["Off","Fade"];s.push(B=="angleDynamics"?"Direction":"Pen Pressure");
var a=this.ZM=new cr("Control",s);a.Q(_.E.f,this.GT,this);A.appendChild(a.$);var M=this.aHR=new gO(null,0,100,null,null,null,!0);
M.a(50);M.Q(_.E.f,this.GT,this)}q.prototype=new gq;q.prototype.a=function(B){B=B<2?B:2;this.ZM.a(B);
this.LE()};q.prototype.r=function(){var B=this.ZM.r(),A=this.pr;B=B<=1?B:A=="angleDynamics"?6:2;return B};
q.prototype.GT=function(B){this.LE();B.target=B.currentTarget=this;this.K(B)};q.prototype.LE=function(B){this.aHR._w(this.ZM.r()==1)};
var e="Mltp Sbtr Drkn Ovrl CDdg CBrn linearBurn hardMix linearHeight Hght".split(" "),V=[[15,10,3],[15,10,21],[15,10,2],[15,10,12],[15,10,9],[15,10,4],[15,10,5],[15,10,18],"Linear Height",[12,42]];
function P(B){gq.call(this);this.$=J.k("div");this.DV=null;var A="basic useTipDynamics useScatter useTexture useColorDynamics usePaintDynamics".split(" ").indexOf(B);
this.Xu=[[15,0],[15,1],[15,2],[12,67],[15,3],"Transfer"][A];this.Dh=B;this.g4={};this.aoJ=null;var s=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],"Txtr InvT textureScale textureBrightness textureContrast TxtC textureBlendMode textureDepth".split(" "),["colorDynamicsPerTip","clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][A];
for(var n=0;n<s.length;n++){var a=s[n],M;if(a=="--br"){M=new fe;this.$.appendChild(M.TY.firstChild)}else if(a=="Brsh.Dmtr")M=new aJ([12,14,0],1,2e3," px",0,!0);
else if(a=="Brsh.Angl")M=new aJ([12,15],0,359," \xB0");else if(a=="Brsh.Rndn")M=new aJ([12,16],0,100," %");
else if(a=="Brsh.Hrdn")M=new aJ([12,17],0,100," %");else if(a=="Brsh.Spcn")M=new aJ([12,18],1,300," %");
else if(a=="szVr.jitter")M=new aJ([15,4,0],0,100,"%");else if(a=="minimumDiameter")M=new aJ([15,4,1],0,100,"%");
else if(a=="angleDynamics.jitter")M=new aJ([15,4,2],0,100,"%");else if(a.endsWith("bVTy"))M=new q(a);
else if(a.endsWith("fStp"))M=new gO(null,0,100,null,null,null,!0);else if(a=="roundnessDynamics.jitter")M=new aJ([15,4,3],0,100,"%");
else if(a=="minimumRoundness")M=new aJ([15,4,4],1,100,"%");else if(a=="scatterDynamics.jitter")M=new aJ([15,5,0],0,1e3," %");
else if(a=="Cnt")M=new aJ([15,5,1],1,20);else if(a=="countDynamics.jitter")M=new aJ([15,5,2],0,100," %");
else if(a=="clVr.jitter")M=new aJ([15,6,0],0,100," %");else if(a=="H")M=new aJ([15,6,1],0,100," %");
else if(a=="Strt")M=new aJ([15,6,2],0,100," %");else if(a=="Brgh")M=new aJ([15,6,3],0,100," %");else if(a=="opVr.jitter")M=new aJ("Opacity Jitter",0,100," %");
else if(a=="prVr.jitter")M=new aJ("Flow Jitter",0,100," %");else if(a=="colorDynamicsPerTip")M=new iP("Apply Per Tip");
else if(a=="Txtr")M=new kQ;else if(a=="InvT")M=new iP([4,11]);else if(a=="TxtC")M=new iP("Texture Each Tip");
else if(a=="textureScale")M=new aJ([12,38],1,1e3," %",null,!0);else if(a=="textureBrightness")M=new aJ([12,2],-150,150);
else if(a=="textureContrast")M=new aJ([12,3,0],-50,100);else if(a=="textureBlendMode")M=new cr("Mode",V);
else if(a=="textureDepth")M=new aJ([12,34],0,100,"%");else throw a;this.g4[a]=M;M.parent=this;M.Q(_.E.f,this.GT,this)}}P.prototype=new gq;
P.prototype.aB0=function(){this.K(new dW("brushchange"))};P.prototype.a=function(B){this.DV=T.G(B);this.$.className=this.Iv()?"":"disabled";
this.zk()};P.prototype.W=function(){for(var B in this.g4)this.g4[B].W()};P.prototype.Iv=function(){return!0};
P.prototype.K5=function(B,A){if(A==cR.YO||A==cR.zu){var s=this.g4["--br"];if(s)s.zT(B.pL)}if(A==cR.YO||A==cR.gv||A==cR.zu){var a=this.g4.Txtr;
if(a)a.zT(B.fr.concat(B.pL.yw))}};P.prototype.GT=function(B){var A=B.target,s=this.g4,a;for(var M in s)if(s[M]==A)a=M;
if(a=="--br"){var $=new dW(_.E.b,!0);$.data={p:_.m.Ln,Lh:cR.LJ,DV:A.r()};this.K($)}else{var U=D(this.DV,a),o=A.r();
if(U){if(a.endsWith("bVTy")||a.endsWith("fStp")||a=="Cnt")U.v=o;else if(a=="colorDynamicsPerTip"||a=="Txtr"||a=="InvT"||a=="TxtC"||a=="textureBrightness"||a=="textureContrast")U.v=o;
else if(a=="textureBlendMode")U.v.BlnM=e[o];else U.v.val=o;this.aB0()}}};P.prototype.zk=function(){var B=this.DV,A=B.Brsh.v.classID,s=this.g4,a=A!=this.aoJ;
this.aoJ=A;if(a){J._8(this.$);for(var M in s){if(A!="computedBrush"&&A!="sampledBrush"&&M=="Brsh.Rndn")continue;
if(A!="computedBrush"&&M=="Brsh.Hrdn")continue;var $=s[M],U=$.$;if(M=="--br"){U=$.kC.$;U.style.width="auto"}this.$.appendChild(U)}}for(var M in s){if(M=="--br")continue;
var o=D(B,M),t;if(o){if(M.endsWith("bVTy")||M.endsWith("fStp")||M=="Cnt")t=o.v;else if(M=="colorDynamicsPerTip"||M=="Txtr"||M=="InvT"||M=="TxtC"||M=="textureBrightness"||M=="textureContrast")t=o.v;
else if(M=="textureBlendMode")t=e.indexOf(o.v.BlnM);else t=o.v.val;s[M].a(t);if(M.endsWith("fStp"))s[M]._w(D(B,M.split(".")[0]+".bVTy").v==1)}}};
P.prototype.Iv=function(){var B=this.Dh;return B=="basic"?!0:this.DV[B].v};P.prototype.aqy=function(B){var A=this.Dh;
if(A=="basic")return;this.DV[A].v=B;ia.hO.a0L(this.DV);this.aB0()};function D(B,A){var s=A.split(".");
B=B[s[0]];for(var n=1;n<s.length;n++){if(B==null)return B;B=B.v[s[n]]}return B}return z}();function jK(){dJ.call(this,[9,0],!1,"---panels/history",dJ.Qf.S3);
J.C(this.yH,"min-width:200px;");this.fz=J.k("div","hpbody scrollable");this.fz.style.height="160px";
this.yH.appendChild(this.fz);this.anE=-1;this.ad3=[];this.sG="";this.UU=new gu([{name:"Clear History"}],[{N:_.E.z,U:W.S3,M:{p:"h_clear"}}])}jK.prototype=new dJ("");
jK.prototype.g3=function(){return this.UU};jK.prototype.hh=function(z,q){this.ai()};jK.prototype.N_=function(z){if(z==null){J._8(this.fz);
this.sG="";return}J._8(this.fz);var q=0;for(var n=0;n<z.history.length;n++)if(n<=z.B5&&!z.history[n].aEo)q=n;
for(var n=0;n<z.history.length;n++){var e=z.history[n];if(e.aEo)continue;var V=new jE(e,n,q);V.parent=this;
this.fz.appendChild(V.$);this.ad3.push(V)}if(z.B5==z.history.length-1)this.ai()};jK.prototype.ai=function(){this.fz.scrollTop=this.fz.scrollHeight};
jK.prototype.W=function(){dJ.prototype.W.call(this);for(var n=0;n<this.ad3.length;n++)this.ad3[n].W()};
function jE(z,n,q){gq.call(this);this.index=n;this.$=J.k("div",n==q?"listitem selected":"listitem");
this.eE=z.name;this.W();if(n>q)this.$.style.opacity=.4;this.$.addEventListener("click",this.Qy.bind(this),!1)}jE.prototype=new gq;
jE.prototype.W=function(){this.$.textContent=iE.get(this.eE)};jE.prototype.Qy=function(z){if(this.index==this.parent.anE)return;
this.ic({p:"h_itemchange",index:this.index})};jE.prototype.ic=function(z){var q=new dW(_.E.z,!0);q.data=z;
q.U=W.S3;this.K(q)};function kx(){dJ.call(this,[9,10],!1,"---panels/histogram",dJ.Qf.aMn);var z=J.k("div","padded");
this.yH.appendChild(z);this.LP=new dV(256,!0);z.appendChild(this.LP.$);this.VY=null}kx.prototype=new dJ("");
kx.prototype.N_=function(z){this.VY=z;this.LE()};kx.prototype.LE=function(){var z=this.VY;if(!J.H2(this.yH))return;
if(z==null||z.j.length==0){this.LP.a(T.Wy(T.n(4)));return}var q=z.tW(),e=new kk(0,0,z.s,z.T),V=e.D();
if(z.h){var P=z.h.V,D=T.n(P.D()*4);T.aF(q,e,D,P);T.Zb(z.h.o,D);q=D;e=P;var B=z.h.o;V=0;for(var n=0;n<B.length;
n++)V+=B[n];V=Math.round(V/255)}var A=T.Wy(q);A[0][255]+=3*(V-A[5]);for(var n=1;n<4;n++)A[n][255]+=V-A[5];
this.LP.a(A,V)};kx.prototype.K5=function(z,q){this.LP.it(bt.Jx[z.na]["--text-color"])};kx.prototype.W=function(){dJ.prototype.W.call(this);
this.LP.W()};kx.prototype.ai=function(){this.LE()};function fs(){dJ.call(this,[9,8],!1,"---adj/clrL",dJ.Qf.a3j);
this.NS=J.k("div","padded");this.yH.appendChild(this.NS);this.Mj=new iK(10);this.NS.appendChild(this.Mj.$);
this.Zx=new jh;this.Zx.parent=this;this.NS.appendChild(this.Zx.TY);this.Zx.TY.style.marginTop="6px";
this.Mj.Q(_.E.f,this.aE3,this);this.Zx.Q(_.E.f,this.aE3,this);fs.NS=this}fs.prototype=new dJ("");fs.prototype.aE7=function(z){this.Zx.kC.a(z)};
fs.prototype.aE3=function(z){var q;if(z.target==this.Mj)q=this.Mj.r();else{var e=this.Zx.r();q=T.RC(e)}var V=new dW(_.E.b,!0);
V.data={p:_.m.Ln,Lh:cR.RV,kE:0,u:q};this.K(V)};fs.DY=function(z,q){var e=q==cR.zu,V=z.wY,P=z.Fh,D=P.strokeStyleContent.v,B=null;
if((q==cR.wg||e)&&V.y3==1){B=T.Yf.z8(V.j5.Clr.v);B=B.l<<16|B.I<<8|B.c}if((q==cR.Vj||e)&&P.strokeEnabled.v&&D.classID=="solidColorLayer"){B=T.Yf.z8(D.Clr.v);
B=B.l<<16|B.I<<8|B.c}if(q==cR.RV||e)B=z.pQ;return B};fs.prototype.K5=function(z,q){var e=z.pQ,V=q==cR.zu,P=fs.DY(z,q);
if(P!=null){this.Mj.a(P);this.Zx.a({l:P>>>16&255,I:P>>>8&255,c:P>>>0&255,Jo:"Default/Color #"+T.R0(P)})}if(q==cR.qg||V){var D=z.aGo;
this.Zx.zT(D)}};fs.prototype.hh=function(z,q){this.Zx.TY.children[0].style.width=z-32+"px"};function c$(){dJ.call(this,[12,72],!1,"---adj/mixr",dJ.Qf.avB);
this.Pg=null;this.Va=null;this.fz=J.k("div","lpbody scrollable");this.fz.style.marginTop="4px";this.UZ=J.k("div","lpfoot");
this.yH.appendChild(this.fz);this.yH.appendChild(this.UZ);this.abI=[];this.Q("click",this.adQ,this);
this.Dy=[];c$.x7([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.Dy,this.UZ,this.ZW.bind(this),this.asx.bind(this));
this.UU=new gu([{name:[5,3]},{name:[5,4],tL:!0},{name:"New Spot Channel",tL:!0},{name:"Merge Channels",o$:!0}],[{N:_.E.zN,M:c$.Ui(1)},{N:_.E.zN,M:c$.Ui(2)},{N:_.E.zN,M:c$.Ui(1,!0)},{N:_.E.b,M:{p:_.m.wa,rF:"mergechannels"}}])}c$.prototype=new dJ("");
c$.prototype.g3=function(){return this.UU};c$.x7=function(z,q,e,V,P){for(var n=0;n<z.length;n++){var D=new ht("W",!1,z[n]);
q.push(D);J.Br(D.$,V);e.appendChild(D.$);var B=D.$;B.addEventListener("drop",P,!1);B.addEventListener("dragover",function(A){A.preventDefault()},!1);
B.addEventListener("dragenter",J.oC,!1)}};c$.rg=function(z,q){for(var n=0;n<z.length;n++)if(z[n].$==q.currentTarget)return n};
c$.prototype.ZW=function(z){var q=c$.rg(this.Dy,z);if(q==0)this.K(gV.aix(!0,null,z));else{q--;var e=new dW(_.E.zN,!0);
e.data=c$.Ui(q);this.K(e)}};c$.Ui=function(z,q){var e={classID:"null"};if(z==0)e.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};
else if(z==1)e.Nw={t:"Objc",v:{classID:q?"SCch":"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else e.null=fw.y5("Chnl",!0);return{gQ:["duplicate","make","delete"][z],cj:e}};c$.prototype.asx=function(z){var q=c$.rg(this.Dy,z);
if(q==2){var e=new dW(_.E.zN,!0),V={classID:"null"};V.null=fw.y5("Chnl",!0);e.data={gQ:"duplicate",cj:V};
this.K(e)}else this.ZW(z)};c$.prototype.MD=function(n){var z=this.abI,q=z[n];if(q==null){var e=J.k("canvas");
q=e.getContext("2d");z.push(q)}return q};c$.prototype.adQ=function(z){var q=this.Pg.slice(0),e=z.data.XW,V=q[0]+q[1]+q[2],P=this.Va;
if(-5<e&&e<0){var D=-e-1;if(z.data.G0){if(D==0)q=V==3?[0,0,0]:[1,1,1];else{if(q[D-1]==0)q[D-1]=1;else if(!0)q[D-1]=0}}else{if(D==0)q=[1,1,1];
else{q=[0,0,0];q[D-1]=1}for(var n=0;n<P.kv.length;n++)P.kv[n].eq=!1;P.C2=[]}var B=new dW(_.E.z,!0);B.U=W.RJ;
B.data={p:"setcls",Ox:q};this.K(B);return}if(-1<e){var A=Math.floor(e),s=P.Z[A],a=A==e?s.OX():s.kL(P).Eo;
if(z.data.G0)a.eq=!a.eq;else{s.oT=1+(A==e?0:2);for(var n=0;n<P.kv.length;n++)P.kv[n].eq=!1;P.C2=[]}}else{var M=-e-5,a=P.kv[M];
if(z.data.G0)a.eq=!a.eq;else{for(var n=0;n<P.kv.length;n++)P.kv[n].eq=!1;a.eq=!0;P.C2=[M];if(V!=0){var B=new dW(_.E.z,!0);
B.U=W.RJ;B.data={p:"setcls",Ox:[0,0,0]};this.K(B)}}}P.XU=P.y8=!0};c$.prototype.ai=function(){this.sE()};
c$.prototype.N_=function(z){this.Va=z;this.sE()};c$.prototype.sE=function(){var z=this.Va,q=this.fz,o=4;
J._8(q);if(z==null||!J.H2(q))return;var e=z.s,V=z.T,P=new kk(0,0,e,V),D=this.Pg=z.A.Ox.slice(0),B=D[0]+D[1]+D[2],A=Math.round(34*J.WU()),s=A;
if(e>V)s=Math.round(s*V/e);else A=Math.round(A*e/V);var a=["RGB"].concat(aM.Y0);for(var n=0;n<4;n++){var M=this.MD(n);
T.rR.rb(M,A,s,P,z.tW(),P,!1,n==0?null:n-1);var $=n==0?B==3:D[n-1]==1,U=new gV(-1-n,!0,!0,M,a[n],$,$);
U.parent=this;q.appendChild(U.$);J.kr(M.canvas)}for(var n=0;n<z.j.length;n++){var t=z.Z[z.j[n]],c=t.oT;
for(var H=0;H<2;H++){var F=H==0?t.OX():t.kL(z);if(F==null)continue;if(H==1)F=F.Eo;var M=this.MD(o);o++;
T.rR.Xh(M,A,s,P,F);var U=new gV(z.j[n]+H*.5,!0,!0,M,t.getName()+(H==0?"":" Filter")+" Mask",H==0&&c==1||H==1&&c==3,F.eq);
U.parent=this;q.appendChild(U.$);J.kr(M.canvas)}}for(var n=0;n<z.kv.length;n++){var F=z.kv[n],M=this.MD(o+n);
T.rR.Xh(M,A,s,P,F);var U=new gV(-5-n,!0,F.name=="Quick Mask",M,F.name,z.C2.indexOf(n)!=-1,F.eq,W.si,{p:lK.$T,kE:"rnm",XW:n});
U.parent=this;q.appendChild(U.$);J.kr(M.canvas)}};c$.prototype.hh=function(z,q){this.fz.style.height=q-30-4+"px";
this.fz.style.width=z+"px"};c$.prototype.W=function(){dJ.prototype.W.call(this);this.sE();c$.kX(this.Dy,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
c$.kX=function(z,q,e){var q=eD.Op(q,null,"miniscale");for(var n=0;n<z.length;n++)z[n]._D(q[n],e?e[n]:null)};
function gV(z,q,e,V,P,D,B,A,s){gq.call(this);this.$=J.k("div");this.aLk=z;this.aGc=q;this.YI=V;this.aEX=A;
this.Ui=s;this.nI=J.k("div",D?"head selected":"head");J.C(this.nI,"height: "+40+"px");var a=J.k("div","headL"),M=J.k("div","headR"),$=15;
this.$.appendChild(this.nI);this.nI.appendChild(a);this.nI.appendChild(M);this.OG=J.k("div","eye");if(1<J.WU()&&J.WU()<1.5)$=$/J.WU();
J.C(this.OG,"background-size: "+$+"px "+$+"px;");this.OG.style.opacity=B?1:.2;if(q)a.appendChild(this.OG);
this.c8=J.k("div","thumb");if(V)this.c8.appendChild(V.canvas);a.appendChild(this.c8);this.K3=J.k("div","label");
if(e)this.K3.style.fontStyle="italic";this.K3.textContent=iE.get(P);a.appendChild(this.K3);var U=this.nI;
U.setAttribute("draggable","true");U.addEventListener("dragstart",function(o){o.stopPropagation();o.dataTransfer.setData("Text","hello")},!1);
U.addEventListener("drop",J.oC,!1);J.Br(this.nI,this.ap0.bind(this));this.nI.addEventListener("mouseup",this.adG.bind(this),!1)}gV.prototype=new gq;
gV.prototype.RO=function(z){var q=new dW(_.E.z,!0);q.U=this.aEX;q.data=this.Ui;q.data.name=z;this.K(q)};
gV.prototype.ap0=function(z){var q=z.ctrlKey||z.metaKey,e=this.aLk;if(q&&z.target==this.YI.canvas){this.K(gV.aix(this.aGc,e,z))}else{var V=new dW("click",!0);
V.data={XW:e,G0:z.target==this.OG,BZ:q};this.K(V)}};gV.oL=0;gV.prototype.adG=function(z){if(Date.now()-gV.oL<300){if(z.target==this.K3)var q=new dJ.eG(this.K3,this.RO.bind(this));
if(z.target==this.YI.canvas&&this.aGc){var e=new dW(_.E.b,!0);e.data={p:_.m.wa,rF:"copts"};this.K(e)}}gV.oL=Date.now()};
gV.aix=function(z,q,e){var V=0;if(e.shiftKey)V++;if(e.altKey)V+=2;var P=new dW(_.E.z,!0);P.U=W.qK;if(z){var D=Math.floor(q);
if(-5<q&&q<0){P=new dW(_.E.zN,!0);P.data=W.cn.GK(V,["RGB","Rd","Grn","Bl"][-1-q])}else if(q<=-5||q==null)P.data={p:"fromchannel",HH:[q,0,V]};
else P.data={p:"fromlayer",HH:[D,1+(q==D?0:2),V]}}else P.data={p:"frompath",HH:[q,0,V]};return P};function b6(){dJ.call(this,[8,9],!1,"---panels/paths",dJ.Qf.Ex);
this.Pg=null;this.Va=null;this.fz=J.k("div","lpbody scrollable");this.fz.style.marginTop="4px";this.UZ=J.k("div","lpfoot");
this.yH.appendChild(this.fz);this.yH.appendChild(this.UZ);this.yH.addEventListener("click",this.a4k.bind(this),!1);
this.abI=[];this.Q("click",this.adQ,this);this.Dy=[];c$.x7(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.Dy,this.UZ,this.ZW.bind(this),this.asx.bind(this))}b6.prototype=new dJ("");
b6.prototype.ZW=function(z,q){var e=c$.rg(this.Dy,z),V;if(e<2){if(e==1&&z.altKey){V=new dW(_.E.b,!0);
V.data={p:_.m.wa,rF:"strokepath"}}else{V=new dW(_.E.zN,!0);V.data=W.H6.KV(e==0?null:"PbTl")}}else if(e==2)V=gV.aix(!1,null,z);
else if(e==3){V=new dW(_.E.zN,!0);V.data=W.cn.a1y()}else if(e>3){var V=new dW(_.E.z,!0);V.U=W.RY;V.data={p:"pathedit",kE:["new","del"][e-4],aih:q}}this.K(V)};
b6.prototype.asx=function(z){this.ZW(z,!0)};b6.prototype.MD=function(n){var z=this.abI,q=z[n];if(q==null){var e=J.k("canvas");
q=e.getContext("2d");z.push(q)}return q};b6.prototype.a4k=function(z){if(z.target==this.fz){var q=this.Va;
q.o0=[];q.L3=[];q.y8=!0;q.XU=!0}};b6.prototype.adQ=function(z){var q=z.data.XW,e=this.Va,V=z.data.BZ,P=q,D=e.L3,B=e.o0;
if(q<0){P=-1-q;D=e.o0;B=e.L3}if(V){var A=D.indexOf(P);if(A==-1)D.push(P);else D.splice(A,1)}else{while(D.length!=0)D.pop();
while(B.length!=0)B.pop();D.push(P)}e.y8=!0;e.XU=!0};b6.prototype.ai=function(){this.sE()};b6.prototype.N_=function(z){this.Va=z;
this.sE()};b6.prototype.sE=function(){var z=this.Va,q=this.fz;J._8(q);if(z==null||!J.H2(q))return;var e=z.s,V=z.T,P=new kk(0,0,e,V),D=this.Pg=z.A.Ox.slice(0),B=D[0]+D[1]+D[2],A=Math.round(34*J.WU()),s=A;
if(e>V)s=Math.round(s*V/e);else A=Math.round(A*e/V);var a=z.Kn(),M=a[0];for(var n=0;n<M.length;n++){var $=M[n],U=z.Fi!=-1&&z.Fi==-1-$.XW,o=this.MD(n);
T.rR.akN(o,A,s,P,$.add.vmsk,U);var t=new gV($.XW,!1,$.XW>=0||U,o,$.name,a[1].indexOf(n)!=-1,!1,W.RY,{p:"pathedit",kE:"rnm",XW:$.XW});
t.parent=this;q.appendChild(t.$);J.kr(o.canvas)}};b6.prototype.hh=function(z,q){this.fz.style.height=q-30-4+"px";
this.fz.style.width=z+"px"};b6.prototype.W=function(){dJ.prototype.W.call(this);this.sE();c$.kX(this.Dy,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function lo(z){dJ.call(this,[9,z?4:5],!1,"---panels/"+(z?"character":"paragraph"),z?dJ.Qf.ayS:dJ.Qf.aHC);
J.C(this.yH,"min-width:255px;");this.a9U=z;this.i=null;this.Zg=!1}lo.prototype=new dJ("");lo.ss=null;
lo.prototype.fk=function(){var z=lo.ss,q=this.yH;if(z==null)z=lo.ss=new br;z.parent=this;this.Zg=!0;
if(this.a9U){var e=J.k("div","marged");q.appendChild(e);e.appendChild(z.rv.$);e.appendChild(z.SY);J.dh(q);
var V=J.k("div","marged");q.appendChild(V);V.appendChild(z.uo.$);V.appendChild(z.eO.$);var P=J.k("div","marged");
q.appendChild(P);P.appendChild(z.Tu.$);P.appendChild(z.kz.$);J.dh(q);var D=J.k("div","marged");q.appendChild(D);
D.appendChild(z.tr.$);D.appendChild(z.dk.$);var B=J.k("div","marged");q.appendChild(B);B.appendChild(z.kx.$);
B.appendChild(z.SI.$);B.appendChild(z.lD.$);J.dh(q);var A=J.k("div","marged");q.appendChild(A);A.appendChild(z.so.$);
A.appendChild(z.VT.$);A.appendChild(z.I2.$);A.appendChild(z.rZ.$);A.appendChild(z.wd.$);A.appendChild(z.wy.$);
A.appendChild(z.Md.$);A.appendChild(z.ei.$);var s=J.k("div","marged");q.appendChild(s);for(var n=0;n<8;
n++)s.appendChild(z.Hw[n].$);J.dh(q);var a=J.k("div","marged");q.appendChild(a);a.appendChild(z.tb.$)}else{var e=J.k("div","marged");
q.appendChild(e);e.appendChild(z.ajI.$);e.appendChild(z.a70.$);e.appendChild(z.aA6.$);e.appendChild(z.aD6.$);
e.appendChild(z.a7B.$);e.appendChild(z.ahw.$);e.appendChild(z.aAd.$);J.dh(q);var V=J.k("div","marged");
q.appendChild(V);V.appendChild(z.HV.$);V.appendChild(z.cF.$);V.appendChild(z.cw.$);J.dh(q);var P=J.k("div","marged");
q.appendChild(P);P.appendChild(z.Qo.$);P.appendChild(z.yB.$);P.appendChild(z.Cv.$);P.appendChild(z.S7.$)}};
lo.prototype.ai=function(){if(!J.H2(this.yH))return;if(!this.Zg){this.fk();var z=this.i;if(z)lo.ss.a(z.Zh,z.Se,z.Bi);
lo.ss.W()}};lo.prototype.W=function(){dJ.prototype.W.call(this);if(lo.ss)lo.ss.W()};lo.prototype.K5=function(z,q){this.i=z;
if(q!=cR.zu&&q!=cR.k3&&q!=cR.oD&&q!=cR.Ym)return;if(lo.ss)lo.ss.a(z.Zh,z.Se,z.Bi)};function jn(z){dJ.call(this,z?"Character Styles":"Paragraph Styles",!1,null,z?dJ.Qf.atS:dJ.Qf.ath);
J.C(this.yH,"min-width:240px;");var q=this.Wb=J.k("div","scrollable");this.yH.appendChild(q);J.C(q,"max-height:400px;");
this.c4=null;this.a4n=null;this.uw=null;this.a9U=z?0:1;this.VY=null;this.i=null;this.aIj=jn.prototype.Rp.bind(this)}jn.prototype=new dJ("");
jn.prototype.N_=function(z,q,e){this.VY=z;this.i=e;this.sE()};jn.prototype.sE=function(){var z=this.Wb;
J._8(z);if(!J.H2(this.yH))return;var q=this.VY,e=this.i;if(q==null||e==null)return;var V=e.Zh,P=this.c4=[],D={},B=this.a4n=[],A=this.uw=[],s={},a=this.a9U,M=a==0?"Style":"Paragraph";
for(var n=0;n<q.Z.length;n++){var $=q.Z[n].add.TySh;if($==null)continue;var U=$._1,o=$.v.vx(),t=U.ResourceDict.FontSet,c=U.EngineDict[M+"Run"],H=c.RunArray;
for(var F=0;F<H.length;F++){var i=jn.a1E(H[F][M+"Sheet"][a==0?"StyleSheetData":"Properties"],a,t,B,s,o);
if(i.FillColor==null)i.FillColor={Type:1,Values:[1,0,0,0]};var X=JSON.stringify(i);if(D[X]==null){D[X]=!0;
P.push(i)}}}var K=a==0?function(E,N){return N.FontSize-E.FontSize}:function(E,N){return E.Justify-N.Justify};
P.sort(K);var f=[];if(a==0){var d=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],L=d.length,G=new Array(L),O=1e9,v=0;
G.fill(1e9);for(var n=0;n<P.length;n++){var C=P[n],t=C.FontSize;O=Math.min(O,t);v=Math.max(v,t);var S=C.FillColor.Values,j=(S[1]+S[2]+S[3])/3;
f[n]=j>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var w=jn.a1E(a==0?V.c_:V.S$,a,V.GD,B,s,1),u=JSON.stringify(w);
for(var n=0;n<P.length;n++){var l=J.k("div");z.appendChild(l);A.push(l);l.addEventListener("click",this.aIj,!1);
var C=P[n],I=JSON.stringify(C)==u;if(a==0){var Q=B[C.Font].Name,b=Q.toLowerCase(),p=b.indexOf("bold")!=-1||b.indexOf("-black")!=-1,k=b.indexOf("italic")!=-1||b.indexOf("oblique")!=-1||b.endsWith("-it"),g=b.indexOf("light")!=-1,t=C.FontSize,S=C.FillColor.Values,Y=f[n];
if(I){Y=Y.slice(0);Y[1]=Math.min(1,Y[1]+.2)}var R=v==O?.5:(t-O)/(v-O),V=10+16*R,m="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+V+"px; color:"+CSS.vF({l:S[1]*255,I:S[2]*255,c:S[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.vF({l:Y[1]*255,I:Y[2]*255,c:Y[3]*255})+";";
if(p)m+=" font-weight:bold;";if(k)m+=" font-style:italic;";if(g)m+=" font-weight:lighter;";J.C(l,m);
var Z=J.k("span");l.appendChild(Z);J.C(Z,"display:inline-block;  width:"+(v>99?50:40)+"px;  text-align:right;  margin-right:5px;");
Z.textContent=Math.round(t);Z=J.k("span");l.appendChild(Z);J.C(Z,"display:inline-block;  width:130px; ");
Z.textContent=Q}}};jn.prototype.Rp=function(z){var q=T.G(this.i.Zh),n=this.uw.indexOf(z.currentTarget),e=this.c4[n];
for(var V in e)if(V!="Font")q.c_[V]=e[V];dc.v3(q,this.a4n[e.Font].Name);console.log(q);var P=new dW(_.E.b,!0);
P.data={p:_.m.Ln,Lh:cR.k3,Zh:q};this.K(P);var P=new dW(_.E.z,!0);P.U=W.no;P.data={p:"updateStyles"};
this.K(P)};jn.a1E=function(z,q,e,V,P,D){var B=q==0?["Font","FontSize","FillColor"]:[],A={};for(var s=0;
s<B.length;s++)A[B[s]]=z[B[s]];if(q==0){if(A.Font!=null){var a=e[A.Font].Name;if(P[a]==null){P[a]=V.length;
V.push(e[A.Font])}A.Font=P[a]}A.FontSize=A.FontSize*D}return A};jn.prototype.ai=function(){if(!J.H2(this.yH))return};
jn.prototype.W=function(){dJ.prototype.W.call(this)};jn.prototype.K5=function(z,q){this.i=z;this.sE()};
function gG(){dJ.call(this,[9,13],!1,"---panels/glyphs",dJ.Qf.aAH);this.i=null}gG.prototype=new dJ("");
gG.prototype.fk=function(){this.ss=new br;this.ss.parent=this;this.aH1=null;this.a1V=null;this.bR=null;
this.asH=null;this.JF=Math.round(290*J.WU());this.M3=45;this.yz=4;this.aj0=this.LE.bind(this);this.aKP=0;
this.ZR=new cr(null,["Hi","Hello"]);this.ZR.Q(_.E.f,this.LE,this);var z=this.qG=new ht("-",null,null,!0);
z.Q("click",this.aOa,this);var q=this.ayx=new ht("+",null,null,!0);q.Q("click",this.aOa,this);this.kC=new f2(!1);
this.kC.Q(_.E.f,this.aKH,this);this.kC.$.style.height=250+"px";var e=this.pp=J.k("div","form padded");
this.yH.appendChild(e);e.appendChild(this.ss.rv.$);J.f9(e);e.appendChild(this.ZR.$);e.appendChild(z.$);
e.appendChild(q.$);this.yH.appendChild(this.kC.$)};gG.prototype.hh=function(z,q){if(this.xL==z||this.ss==null)return;
this.xL=z;this.JF=Math.floor((z-13)*J.WU());J.C(this.pp,"width:"+this.JF/J.WU()+"px;");this.kC.$.style.height=q-73+"px";
this.LE()};gG.prototype.aKH=function(z){var q=this.ajx(),e=Math.round(this.JF/q);q/=J.WU();var V=this.kC.r()[0]*e*this.yz,P=this.kC.aC9();
V+=Math.floor(P.y/q)*e;V+=Math.floor(P.x/q);var D=this.bR[this.ZR.r()];if(V>=D.length)return;var B=D[V],A=this.asH[B],s=new dW(_.E.z,!0);
s.U=W.no;if(A.dz.length==0)s.data={p:"insertGlyph",u:V+1};else s.data={p:"insertText",u:String.fromCodePoint(A.dz[0])};
this.K(s)};gG.prototype.aOa=function(z){var q=1.2;if(z.target==this.qG){if(this.M3>20)this.M3/=q}else{if(this.M3<100)this.M3*=q}this.LE()};
gG.prototype.ai=function(){this.K5(this.i)};gG.prototype.K5=function(z,q){this.i=z;if(!J.H2(this.yH))return;
if(this.ss==null)this.fk();this.ss.a(z.Zh,z.Se,z.Bi);var e=z.Zh,V=e.c_.Font,s=0;if(V==null)return;var P=dc.hb(e.GD[V]);
if(this.aH1==P)return;var V=z.Se.dN(P);if(V==null)return;var D=V.maxp.numGlyphs,B=this.asH=new Array(D);
for(var n=0;n<D;n++)B[n]={dz:[]};var A=Date.now(),a=new Uint8Array(1048575);for(var n=0;n<1048575;n++){var M=Typr.U.codeToGlyph(V,n);
if(M!=0&&M<D){a[n]=1;if(B[M].dz.length==0)s++;B[M].dz.push(n)}}var $=gG.dx,U=[];for(var n=0;n<$.length;
n++)U.push([]);for(var M=1;M<D;M++){U[0].push(M);var o=B[M].dz[0];if(o==null){continue}for(var t=1;t<$.length;
t++){var c=$[t].JA;for(var n=0;n<c.length;n+=2)if(c[n]<=o&&o<=c[n+1]){U[t].push(M);break}}}this.bR=U;
var H=[];for(var n=0;n<$.length;n++)H.push($[n].HS+" ("+U[n].length+")");var F=this.ZR.r();this.ZR.jl(H);
this.ZR.a(F);this.aH1=P;this.a1V=V;this.LE()};gG.prototype.ajx=function(z){var q=Math.floor(this.JF/this.M3);
return Math.floor(this.JF/q)};gG.prototype.LE=function(z){if(!J.H2(this.yH)||this.bR==null)return;var q=this.bR[this.ZR.r()],e=q.length,V=this.a1V,P=Typr.U,D=this.ajx(),B=D,A=B*.8,s=B*.8/V.head.unitsPerEm,a=[],M=Math.floor(this.JF/D),$=Math.ceil(e/M),U=this.yz,o=Date.now(),t=null;
for(var c=0;c<$;c+=U){var H=J.k("canvas"),F=H.getContext("2d");if(t==null)t=H.toDataURL("png");H.width=D*M;
H.height=B*U;var i=J.k("map"),X="map"+Math.random();i.setAttribute("name",X);F.fillStyle="white";F.fillRect(0,0,M*D,B*U);
for(var K=0;K<U;K++){for(var f=0;f<M;f++){var n=q[(c+K)*M+f];if(n==null)break;var d=P.glyphToPath(V,n),L=T.R.mB(d.crds);
F.fillStyle="#252525";if(L.a8()){var G=V.hmtx,x=[],j=170;for(var O in G)x.push(O);var v=G[x[0]][n],C=G[x[1]][n],S=Math.max(v,C);
d={cmds:"M L M L M L".split(" "),crds:[0,0,S,0,0,-j,0,j,S,-j,S,j]};L.s=S;L.x=0;F.strokeStyle="rgba(0,255,0,1)"}var w=D/J.WU(),u=B/J.WU(),l=[f*w,K*u,(f+1)*w,(K+1)*u].join(","),I=J.k("area");
i.appendChild(I);I.setAttribute("shape","rect");I.setAttribute("coords",l);var Q=this.asH[n];I.setAttribute("title","Glyph: "+n+"\nCharacter: "+(Q.dz.length==0?"----":String.fromCodePoint(Q.dz[0]))+"\nUnicode: #"+(Q.dz.length==0?"----":Q.dz[0].toString(16).padStart(4,"0")));
F.beginPath();var b=f*D+(D-L.s*s)*.5-L.x*s,p=K*B+A;F.translate(b,p);F.scale(s,-s);P.pathToContext(d,F);
F.scale(1/s,-1/s);F.translate(-b,-p);L.a8()?F.stroke():F.fill()}}F.beginPath();for(var f=0;f<M;f++){var k=f*D+D+.5;
F.moveTo(k,0);F.lineTo(k,B*U)}for(var K=-1;K<U;K++){var g=K*B+B+.5;F.moveTo(0,g);F.lineTo(M*D,g)}F.strokeStyle="rgba(0,0,0,0.3)";
F.stroke();var Y=J.k("div");Y.appendChild(H);J.C(Y,"position:relative;");J.Ux(H,D*M,B*U);var R=J.k("img");
Y.appendChild(R);Y.appendChild(i);R.setAttribute("src",t);R.setAttribute("usemap","#"+X);J.C(R,"position:absolute; top:0; left:0;");
J.Ux(R,D*M,B*U);a.push(Y)}this.kC.ym(a,null,D*M,B*U)};gG.dx=[{HS:"All Glyphs"},{HS:"Basic Latin, Latin 1",JA:[0,127,128,143]},{HS:"Latin Extended-A",JA:[256,383]},{HS:"Latin Extended-B",JA:[384,591]},{HS:"Punctuations",JA:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{HS:"Greek",JA:[880,1023]},{HS:"Cyrillic",JA:[1024,1279]},{HS:"Hebrew",JA:[1424,1535]},{HS:"Arabic",JA:[1536,1791]},{HS:"Emoji",JA:[9728,10095,127744,129535]}];
function a1(){dJ.call(this,[13,0],!1,null,dJ.Qf.RV);this.E4=0;this.aev=0;this.i=null}a1.prototype=new dJ("");
a1.prototype.fk=function(){if(!J.H2(this.yH)||this.r$)return;var z=J.k("div","flexrow padded");this.yH.appendChild(z);
var q=J.k("div");z.appendChild(q);this.r$=[];for(var n=0;n<2;n++){var e=new l0;this.r$.push(e);e.Q("click",this.aM_,this);
q.appendChild(e.$)}this.ES=new aa(192);console.log("hsb picker");this.ES.Q(_.E.f,this.Ge,this);this.oQ=new i5;
this.oQ.parent=this;z.appendChild(this.ES.$);this.K5(this.i,cR.zu)};a1.prototype.aM_=function(z){var q=z.currentTarget,e=this.r$.indexOf(q);
if(e==this.E4){this.oQ.T7(e)}else{this.E4=e;this.LE()}};a1.prototype.Ge=function(z){var q=this.ES.r();
this.ES.a(q);var e=Math.round(q.l*255)<<16|Math.round(q.I*255)<<8|Math.round(q.c*255),V=new dW(_.E.b,!0);
V.data={p:_.m.Ln,Lh:cR.RV,kE:this.E4,u:e};this.K(V);this.aev=Date.now()};a1.prototype.LE=function(){if(this.oQ==null)return;
var z=this.i,q=this.E4,e=[z.pQ,z.Cp];for(var n=0;n<2;n++){var V=this.r$[n],P=V.$.style;V.it(e[n]);if(n==q)P.filter="drop-shadow(0 0 1px #000000)"}var D=e[q];
if(Date.now()-this.aev>100)this.ES.a({l:(D>>>16)/255,I:(D>>>8&255)/255,c:(D&255)/255})};a1.prototype.K5=function(z,q){this.i=z;
if(this.oQ==null)return;if(q==cR.zu||q==cR.RV){this.oQ.aBI(z.pQ,z.Cp);this.LE()}};a1.prototype.N_=function(){this.fk()};
a1.prototype.ai=function(){this.fk();this.LE()};function kK(){dJ.call(this,"CSS",!1,"---panels/css",dJ.Qf.CSS);
this.VY=null;var z=J.k("div","padded");this.yH.appendChild(z);this.A5=J.k("textarea");J.Ur(this.A5);
z.appendChild(this.A5)}kK.prototype=new dJ("");kK.prototype.hh=function(z,q){if(this.xL==z)return;this.xL=z;
J.C(this.A5,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(z-10)+"px; height:"+(q-10)+"px")};
kK.prototype.N_=function(z){this.VY=z;this.LE()};kK.prototype.K5=function(z,q){if(q==cR.oD)this.LE()};
kK.prototype.LE=function(){var z=this.VY;if(z==null||z.j.length==0)return;if(!J.H2(this.yH))return;var q=z.Z[z.j[0]],e=CSS.a5p(q,z);
if(e.length!=0)this.A5.value=e.join(";\n")+";";else this.A5.value=""};kK.prototype.ai=function(){this.LE()};
function jP(){dJ.call(this,"Text to Image",!1,null,dJ.Qf.aE$);this.VY=null;this.P5=0;this.J6={};this.Xq=null;
var z=this.uw=[new eE("Prompt",null,null,4),new ht([12,49],!0,null,!0)];z[0].a("goat riding a bike");
var q=J.k("div","form padded labfxd");this.yH.appendChild(q);for(var e=0;e<z.length;e++){z[e].parent=this;
q.appendChild(z[e].$);if(e==1)z[e].Q("click",this.iN,this)}this.LP=J.k("div","scrollable");q.appendChild(this.LP);
this.aIY=jP.prototype.ar$.bind(this)}jP.prototype=new dJ("");jP.prototype.iN=function(){var z=this.uw,q=z[0].r().trim(),e=function(){var V=jr.ajM(q,null,null,this.aIY);
if(V==1)J.d6(this.yH,"disabled")}.bind(this);if(jr.k_(3))e();else jr.s7(e)};jP.prototype.ar$=function(z){var q=this.uw;
J.Pf(this.yH,"disabled");var e={created:Math.round(Date.now()/1e3),data:[{b64_json:hZ.aS(z.target.response)}]},V=this.J6,P=q[0].r().trim();
if(V[P]==null)V[P]=[];V[P].push(e);jr.lz("Generate",3);this.LE()};jP.prototype.hh=function(z,q){if(this.xL==z)return;
this.xL=z;this.yH.style.width=z-16+"px";this.LP.style.height=q-190+"px"};jP.prototype.N_=function(z,q){this.VY=z;
if(z)this.P5=q.nk.indexOf(z);this.LE()};jP.prototype.W=function(z,q){dJ.prototype.W.call(this);var e=this.uw,P=" target=\"_blank\" style=\"color:inherit;\">";
for(var V=0;V<e.length;V++)this.uw[V].W()};jP.prototype.LE=function(){var z=this.LP,q=this.J6;J._8(z);
var e=[];for(var V in q){q[V].sort(function(o,t){return t.created-o.created});e.push([V,q[V]])}e.sort(function(o,t){return t[1][0].created-o[1][0].created});
var P=this.ajo.bind(this),D=this.Xq=[[],[]];for(var n=0;n<e.length;n++){var V=e[n][0],B=e[n][1],A=J.k("div");
A.textContent=V;z.appendChild(A);for(var s=0;s<B.length;s++){var a=B[s].data;for(var M=0;M<a.length;
M++){var $=a[M].b64_json,U=J.k("img");U.setAttribute("src","data:image/png;base64,"+$);U.onclick=P;U.style.width=128/J.WU()+"px";
U.style.marginRight="4px";U.style.cursor="pointer";z.appendChild(U);D[0].push(U);D[1].push(a[M])}}}};
jP.prototype.ajo=function(z){var n=this.Xq[0].indexOf(z.target),q=this.Xq[1][n].b64_json,e=hZ.hS(q);
gC.BU({url:"file",P5:this.P5},e,this)};jP.prototype.ai=function(){this.LE()};function k1(){dJ.call(this,[9,6],!1,"---panels/info",dJ.Qf.awv);
J.C(this.yH,"min-width:240px;");this.VY=null;this.i=null;this.wS=null;var z=this.Js=[];for(var q=0;q<3;
q++){var e=J.k("div","marged row");this.yH.appendChild(e);var V=J.k("div","cell");J.C(V,"width:10em");
e.appendChild(V);var P=J.k("div","cell");J.C(P,"width:10em");e.appendChild(P);var D=[8,4,3][q];for(var n=0;
n<D;n++){var B=new ij("");z.push(B);B.a(0);B.$.style.padding="0";var A=n<(q==1?2:4)?V:P;A.appendChild(B.$);
J.f9(A)}if(q<2)J.dh(this.yH)}this.Pa=z[8];this.q_=z[9];this.Bh=z[10];this.Ok=z[11];J.dh(this.yH);this.wS=J.k("div");
J.C(this.wS,"min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");this.yH.appendChild(this.wS)}k1.prototype=new dJ("");
k1.prototype.Sf=function(z,q,e,V,P){if(!J.H2(this.yH)||z==null)return;var D=z.A.UK(P.x,P.y),B=new f5(Math.floor(D.x),Math.floor(D.y));
if(!P._W){var A=0,s=0,a=0,M=0,$=this.Js;if(!P._W&&!z.av6()&&new kk(0,0,z.s-1,z.T-1).vG(B)){var U=z.tW(),n=z.s*B.y+B.x<<2;
A=U[n+0];s=U[n+1];a=U[n+2];M=U[n+3]}var o=T.VB([A/255,s/255,a/255]);$[0].a("R: "+A);$[1].a("G: "+s);
$[2].a("B: "+a);$[3].a("A: "+M);$[4].a("C: "+Math.round(o[0]*100)+"%");$[5].a("M: "+Math.round(o[1]*100)+"%");
$[6].a("Y: "+Math.round(o[2]*100)+"%");$[7].a("K: "+Math.round(o[3]*100)+"%");var t=T.ajY(A,s,a);$[12].a("H: "+Math.round(t.Hi*360)+"\xB0");
$[13].a("S: "+Math.round(t.fY*100)+"%");$[14].a("B: "+Math.round(t.c*100/255)+"%")}var c=z.A.C7>1?new f5(D.x,D.y):B;
this.Pa.a("X: "+T.tR.Xw(c.x-z.A.Gq.x,z.do,e,z.s));this.q_.a("Y: "+T.tR.Xw(c.y-z.A.Gq.y,z.do,e,z.T));
this.a9Z()};k1.prototype.a9Z=function(){var z=this.VY,q=this.i,e=0,V=0;if(z&&q){if(z.A.hj){e=z.A.hj.s;
V=z.A.hj.T}else if(z.h){e=z.h.V.s;V=z.h.V.T}e=T.tR.Xw(Math.abs(e),z.do,q,z.s);V=T.tR.Xw(Math.abs(V),z.do,q,z.T)}this.Bh.a(iE.get([12,41]).charAt(0)+": "+e);
this.Ok.a(iE.get([12,42]).charAt(0)+": "+V)};k1.prototype.W=function(){dJ.prototype.W.call(this);this.a9Z()};
k1.prototype.ai=function(){this.N_(this.VY,null,this.i)};k1.prototype.N_=function(z,q,e){this.VY=z;this.i=e;
if(!J.H2(this.yH))return;console.log("update");this.a9Z();if(z&&z.j.length!=0){var V=z.j[0],P=z.Z[V],D=aM.get(P.add)!=null,B=D&&z.j[0]>0;
this.wS.innerHTML="";for(var n=0;n<z.EC.length;n++){var A=z.EC[n],P=z.A.Gb(A.x,A.y),s=W.SB.Z9(z,P,1,B?1:2),a={l:s>>>16&255,I:s>>>8&255,c:s&255},c="<span style=\"display:inline-block; width:25px; text-align:right\">",H="</span>";
if(B){var M=z.j[0];z.j[0]=V-1;var $=W.SB.Z9(z,P,1,1),U={l:$>>>16&255,I:$>>>8&255,c:$&255};z.j[0]=M}var o=J.k("div");
J.C(o,"padding: 0.5em 0.5em; width: 40%");var t="<b>#"+(n+1)+"</b>",F=[a.l,a.I,a.c],i=B?[U.l,U.I,U.c]:null,X=["R","G","B"];
for(var K=0;K<3;K++)t+="<br/>"+c+X[K]+H+": "+(B?c+i[K]+H+" /":"")+c+F[K]+H;o.innerHTML=t;this.wS.appendChild(o)}}};
function dG(){dJ.call(this,[9,1],!1,"---panels/layers",dJ.Qf.si);this.ajB=null;this.Gz=[];this.Va=null;
this.caller=null;this.nI=J.k("div","lphead");this.fz=J.k("div","lpbody scrollable");this.fz.addEventListener("scroll",this.a62.bind(this),!1);
this.UZ=J.k("div","lpfoot");var z=this.aaE=J.k("span");J.C(z,"display:inline-block; height:26px");this.We=new cr(null,aA.p4,aA.Cx);
this.We.Q(_.E.f,this.ahu,this);this.Zk=new gO([12,0],0,100,"%",0);this.Zk.Q(_.E.f,this.agp,this);this.Zk.parent=this;
this.Bx=new jT;this.Bx.parent=this;this.Bx.$.style.marginLeft="4px";this.lc=new gO("Volume",0,100,"%",0);
this.lc.parent=this;this.lc.Q(_.E.f,this.adR,this);this.Bx.Q(_.E.f,this.adR,this);this.Nr=new db([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.Nr.Q(_.E.f,this.a3G,this);this.YK=new gO([12,26],0,100,"%",0);this.YK.Q(_.E.f,this.auz,this);this.YK.parent=this;
if(cW==0){this.nI.appendChild(z);this.nI.appendChild(this.We.$);this.nI.appendChild(this.Zk.$);this.nI.appendChild(this.Nr.$);
this.nI.appendChild(this.YK.$)}if(cW==2){this.nI.appendChild(this.Bx.$);this.nI.appendChild(this.lc.$)}this.Dy=[];
this.x7();if(cW==0||cW==2)this.yH.appendChild(this.nI);this.yH.appendChild(this.fz);this.fz.addEventListener("dragover",function(P){P.preventDefault()},!1);
this.fz.addEventListener("dragenter",J.oC,!1);this.fz.addEventListener("drop",this.a9u.bind(this),!1);
this.yH.appendChild(this.UZ);this.yH.addEventListener("contextmenu",J.oC,!1);if(cW==0)this.Q("rclick",this.axK,this);
var q=function(P,D,n){return{yc:this.G9[n]==1}}.bind(this);if(cW==0){this.aGI=new gu([{name:[0,6],d:q},{name:[14,10],d:q},{name:[6,57,2],d:q,tL:!0},{name:"Long-tap as a right click",d:q,tL:!0},{name:"Add \"copy\" to copied layers",d:function(){return{yc:cv.wG==1,d:!0}}},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",d:function(){return{yc:cv.He==0,d:!0}}},{name:"Thumbnails by Document",d:function(){return{yc:cv.He==1,d:!0}}}]);
this.aGI.Q("select",this.aCe,this)}this.G9=[0,1,1,0];var e=window.locStor;if(e){var V=e.getItem("lpOpt");
if(V){V=JSON.parse(V);this.G9=V[0];cv.uj=V[1];cv.He=V[2];cv.wG=V[3]}}this.aCe()}dG.prototype=new dJ("");
dG.a4O=function(z){var q=z==null?0:z.j.length;return{d:q!=0&&(q!=1||z.j[0]!=0)&&(q!=1||!z.Z[z.j[0]].YZ()||z.Z[z.j[0]].Sw()),HK:iE.get(q>1||q==1&&z.Z[z.j[0]].YZ()?[6,12,0]:[6,10])}};
dG.prototype.aNm=function(){if(this.aO_)return;var z=f1.mD(!0),q=f1.YU(!0);this.aO_=new gu(z,q);var z=[{name:[14,10]},{name:[14,11],tL:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],tL:!0},{name:[6,7,0]},a5.mn(!0,!0),{name:[6,8],d:dG.aKJ},{name:[6,34],d:function(V){var P=V.Z[V.j[0]];
return{d:P.add.lmfx!=null&&!P.YZ()}}},{name:[6,40],tL:!0,d:function(V){var P=V.Z[V.j[0]];return{d:P.add.TySh!=null}}},{name:"",tL:!0,d:function(V){var P=V.Z[V.j[0]],D=P.add.TySh,B=D?D._1:null;
return{d:D!=null&&B.Curve==null,HK:iE.get(D&&dc.hQ(B)==0?[16,3,1]:[16,3,0])}}},dG.a7L(!1),f1.avj(),{name:[6,12,0],d:dG.a4O},{name:[6,12,1],tL:!0},{name:[13,0],sub:function(){var V=[];
for(var n=0;n<lB.Pb.length;n++)V.push({name:[13,1,n],rR:"#"+T.R0(lB.Pb[n])});return V}()}],q=[{N:_.E.b,M:{p:_.m.wa,rF:"layerstyle"}},{N:_.E.z,U:W.qK,M:{p:"fromlayer",HH:[null,0,0]}},{N:_.E.z,U:W.si,M:{p:lK.Mi}},{N:_.E.b,M:{p:_.m.wa,rF:"duplinto"}},{N:_.E.z,U:W.si,M:{p:lK.t$}},{N:_.E.zN,M:{gQ:"newPlacedLayer"}},a5.mn(!1,!0),{N:_.E.zN,M:{gQ:"rasterizeLayer",cj:{classID:"rasterizeLayer",null:fw.y5("Lyr",!0)}}},{N:_.E.zN,M:{gQ:"rasterizeLayer",cj:{classID:"rasterizeLayer",null:fw.y5("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{N:_.E.z,U:W.si,M:{p:lK.Ki}},{N:_.E.z,U:W.no,M:{p:"switchPntPrgr"}},{N:_.E.z,U:W.si,M:{p:lK.Cr}},f1.a8R(),{N:_.E.zN,M:{gQ:"mergeLayersNew",cj:{__name:"Merge Layers",classID:"Mrg2"}}},{N:_.E.zN,M:{gQ:"flattenImage"}},{sub:function(){var V=[];
for(var n=0;n<8;n++)V.push({N:_.E.z,U:W.si,M:{p:lK.x_,alV:n}});return V}()}];this._E=new gu(z,q);var z=[{name:[6,45],d:function(V){var P=V.Z[V.j[0]];
return{d:P.kL(V).Eo==null}}},{name:[6,47]}],q=[{N:_.E.z,U:W.si,M:{p:lK.UT}},{N:_.E.z,U:W.si,M:{p:lK.j7}}];
this.aMN=new gu(z,q);var z=[{name:"enab/disab",d:function(V){return{HK:iE.get(V.Z[V.j[0]].OX().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],d:function(V){return{d:V.Ov(!1,!0)}}}],q=[{N:_.E.z,U:W.si,M:{p:lK.ce}},{N:_.E.z,U:W.si,M:{p:lK.Ab}},{N:_.E.z,U:W.si,M:{p:lK.aX}}];
this.a54=new gu(z,q);var z=[{name:"enab/disab",d:function(V){return{HK:iE.get(V.Z[V.j[0]].kL(V).Eo.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],q=[{N:_.E.z,U:W.si,M:{p:lK.Ee}},{N:_.E.z,U:W.si,M:{p:lK.Fo}}];
this.aqD=new gu(z,q);var z=[{name:"Enable / Disable"},{name:[6,53]}];this.a2K=new gu(z);this.a2K.Q("select",function(V){var n=V.target.Gv()[0],P=this.ai6;
if(n==0){this.ic({p:lK.kU,H:P.H,index:P.index})}else this.ic({p:lK.tP,src:P.H,T0:P.index})}.bind(this),this);
var z=[{name:"enab/disab",d:function(V){return{HK:iE.get(V.Z[V.j[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],e={classID:"rasterizeLayer",null:fw.y5("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"vectorMask"}}},q=[{N:_.E.z,U:W.si,M:{p:lK.qT}},{N:_.E.zN,M:W.H6.EJ(3)},{N:_.E.zN,M:{gQ:"rasterizeLayer",cj:e}}];
this.adF=new gu(z,q);this.a1m=new gu(f1.aKz(!0),f1.Ik(!0));this.aKd=new gu(f1.mD(),f1.YU())};dG.prototype.a62=function(z){var q=this.fz.scrollTop-600;
for(var n=0;n<this.Gz.length;n++){var e=this.Gz[n],V=e.YA;if(q<e.YA)e.aNR();if(e.YA>q+this.Hi+600)break}};
dG.prototype.g3=function(){return this.aGI};dG.prototype.aCe=function(z){var q=this.G9;if(z){var e=z.target.Gv(),n=e[0];
if(n<4)q[n]=1-q[n];else if(n==4)cv.wG=1-cv.wG;else if(n<7){if(n==5&&cv.uj-10>=10)cv.uj-=10;if(n==6&&cv.uj+10<=200)cv.uj+=10;
if(this.Va)this.Va.$k=!0}else{if(n==7)cv.He=0;if(n==8)cv.He=1;if(this.Va)this.Va.$k=!0}var V=window.locStor;
if(V)V.setItem("lpOpt",JSON.stringify([q,cv.uj,cv.He,cv.wG]))}if(q[0]==1)this.azT();var P=[[{$:this.aaE}],[this.We,this.Zk],[this.Nr,this.YK]];
for(var n=0;n<3;n++)for(var D=0;D<P[n].length;D++)P[n][D].$.style.display=q[n]==1?"inline-block":"none";
this.hh(this.xL,this.Hi)};dG.prototype.atl=function(){var z=this.i7;if(z==null)return!1;if(z.r()){var q=this.JT.r(),e=this.f3[q].r();
if(q==0)return e.indexOf(!0)!=-1;if(q==1)return e!=""}return!1};dG.a7L=function(z){var q=function(V){var P=V!=null&&V.j.length!=0&&V.Z[V.j[0]].Ev;
return{yc:P,d:V!=null&&V.ri(V.j[0]),M:{N:_.E.zN,M:{gQ:P?"ungroup":"groupEvent",cj:{classID:P?"Ungr":"GrpL",null:fw.y5("Lyr",!0)}}}}},e={name:[6,6,0],tL:!0,d:q};
if(z)e.r0=[cz.mh,cz.EF,cz.sb];return e};dG.aKJ=function(z,q){if(z)for(var n=0;n<z.j.length;n++){var e=z.Z[z.j[n]];
if(e.add.TySh||e.add.SoLd||e.add.SoCo||e.add.GdFl||e.add.PtFl)return{d:!0}}return{d:!1}};dG.prototype.a9u=function(z){J.oC(z);
var q=z.dataTransfer.getData("Text"),e=1,V=0;if(q==""){J.PU(z,this,this.caller.nk.indexOf(this.Va),V+(e>.5?0:1))}else if(q!="--panel"){var q=JSON.parse(q),P=q.DO;
if(P=="l")this.ic({p:lK.lV,source:q.J0,target:V,gp:e})}};dG.prototype.axK=function(z){var q=this.Va,e=this.ai6=z.data,P;
if(q.j.indexOf(e.H)==-1){var V={p:lK.eb,H:z.target.IE.index,es:e.oT};this.ic(V)}if(q.j.indexOf(e.H)==-1)return;
this.aNm();if(e.oT==1){P=this.a54}else if(e.oT==2){P=this.adF}else if(e.oT==3){P=this.aqD}else if(e.oT==4){P=this.aMN}else if(e.oT==5){P=this.aO_}else if(e.oT==6){P=this.a2K}else{P=this._E}P.W();
P.update(q);P.parent=this;var D=new dW(_.E.b,!0);D.data={p:_.m.wL,MR:P,x:e.mZ.x+1,y:e.mZ.y+1};this.K(D)};
dG.prototype.W=function(){dJ.prototype.W.call(this);this.We.W();this.Zk.W();this.Nr.W();this.YK.W();
this.Bx.W();this.lc.W();if(this.i7){this.i7.W();this.f3[0].W()}if(this.Va)this.N_(this.Va);var z="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var n=0;n<this.Dy.length;n++){var q=this.Dy[n];q._D(J.GP(z[n],null,"miniscale"));if(n==1||n==3){q.$.style.position="relative";
var e=J.k("img","gsicon");e.setAttribute("src",PIMG["tools/corner"]);J.C(e,"position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
q.$.appendChild(e)}}};dG.prototype.N_=function(z,q){if(z&&!z.$k)return;if(z==null)J.d6(this.yH,"disabled");
else J.Pf(this.yH,"disabled");var e=this.fz.scrollTop,V=this.Va?this.Va.Z.length:-1,P=!1;this.Va=z;this.caller=q;
if(this.ajB!=null){J._8(this.fz);this.ajB=null;this.Gz=[]}if(z==null)return;for(var n=0;n<z.kv.length;
n++)if(z.kv[n].eq&&z.kv[n].name=="Quick Mask")P=!0;this.ajB=new lB(z.root,this,z,{go:0,acg:!1},{arC:P,aiU:this.atl()},this.Gz,0,new kk(0,0,z.s,z.T));
if(z.Z.length==V)this.fz.scrollTop=e;if(z.j.length==0||z.Z[z.j[0]]==null)J.d6(this.nI,"disabled");else{J.Pf(this.nI,"disabled");
if(z.j.length==1&&z.de){var D=z.j[0];for(var n=0;n<this.Gz.length;n++){var B=this.Gz[n];if(B.IE.index==D&&B.nI.scrollIntoView)B.nI.scrollIntoView({block:"nearest"})}}var A=z.Z[z.j[0]];
if(cW==2&&A.m){this.Bx.a(A.m.Aa);this.lc.a(A.m.volume*100)}if(A.YZ()){this.We.jl([[15,10,27]].concat(aA.p4),[1].concat(aA.Cx));
var s=aA.q2.indexOf(A.pi);this.We.a(s+1)}else{this.We.jl(aA.p4,aA.Cx);var s=aA.q2.indexOf(A.pi);this.We.a(s)}var a=[];
if(z.depth==32)for(var n=0;n<aA.q2.length;n++)if(aA.ake[n]==0)a.push(A.YZ()?n+1:n);this.We.arR(a);this.Zk.a(Math.round(100*A.vz/255));
this.Nr.a([A.rs(0),A.rs(1),A.rs(2),A.rs(31)]);var M=z.rz();this.We._w(!M);this.YK._w(!M);this.Zk._w(!M);
this.Nr._w(!(M&&!A.rs(31)));this.YK.a(Math.round(100*(A.add.iOpa!=null?A.add.iOpa/255:1)));this.Dy[2].aiA(iE.get(A.OX()?[6,23]:[6,21]))}this.a62(null)};
dG.prototype.hh=function(z,q){this.xL=z;this.Hi=q;var e=this.nI.getBoundingClientRect().height;if(55<e&&e<56)e=60.2;
var V=this.UZ.getBoundingClientRect().height,P=q-(e+V+3);this.fz.style.height=P+"px";this.fz.style.width=z+"px"};
dG.prototype.ahu=function(z){this.ic({p:lK.Kj,oo:this.We.r()})};dG.prototype.agp=function(z){this.ic({p:lK.tS,oo:Math.round(255*this.Zk.r()/100)})};
dG.prototype.adR=function(z){this.ic({p:lK.rd,oo:{Aa:this.Bx.r(),volume:this.lc.r()/100}})};dG.prototype.a3G=function(z){this.ic({p:lK.B4,oo:[this.Nr.r(),[0,1,2,31]]})};
dG.prototype.auz=function(z){this.ic({p:lK.UC,oo:Math.round(255*this.YK.r()/100)})};dG.prototype.WW=function(z){if(z.target==this.JT)this.azT();
var q=this.i7.r();if(q)J.Pf(this.aaR,"disabled");else J.d6(this.aaR,"disabled");this.W();this.Va.$k=!0;
this.N_(this.Va);this.Va.$k=!1};dG.prototype.azT=function(){var z=this.aaR;if(z==null){var q=this.aaE,e=this.i7=new iP([0,6]);
e.Q(_.E.f,this.WW,this);q.appendChild(e.$);z=this.aaR=J.k("span","disabled");q.appendChild(z);this.JT=new cr(null,["Kind",[12,48]],[]);
this.JT.Q(_.E.f,this.WW,this);var V=this.f3=[new db(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new eE(null,null,8)];
V[0].Q(_.E.f,this.WW,this);V[1].Q("input",this.WW,this)}J._8(z);z.appendChild(this.JT.$);z.appendChild(this.f3[this.JT.r()].$)};
dG.prototype.abM=function(z){this.aNm();this.alZ(z,this.a1m)};dG.prototype.aro=function(z){this.aNm();
this.alZ(z,this.aKd)};dG.prototype.alZ=function(z,q){var e=z.currentTarget;if(J.H2(q.$))return;z.stopPropagation();
var V=e.getBoundingClientRect();q.W();q.update(this.Va);q.parent=this;var P=new dW(_.E.b,!0);P.data={p:_.m.wL,MR:q,x:V.left,y:V.top,a90:!0};
this.K(P)};dG.prototype.aEc=function(z){this.ic({p:lK.aof})};dG.prototype.aLx=function(z){this.ic({p:this.Va.j.length>1?lK.cZ:lK.o8})};
dG.prototype.a23=function(z){this.ic({p:lK.Ag})};dG.prototype.aK5=function(z){var q=this.Va;if(q.j.length==0)return;
var e=q.Z[q.j[0]],V=e.oT;this.ic({p:V<=0?e.bS?lK.Et:lK.t$:V==3?lK.Fo:lK.Ab})};dG.prototype.ayL=function(z){this.ic({p:lK.Df})};
dG.prototype.ic=function(z){var q=new dW(_.E.z,!0);q.data=z;q.U=W.si;this.K(q)};dG.prototype.x7=function(){var z=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],q=[this.ayL,this.aro,this.aEc,this.abM,this.aLx,this.a23,this.aK5],e=this.acM.bind(this);
for(var n=0;n<z.length;n++){var V=new ht("W",!1,z[n]);this.Dy.push(V);J.Br(V.$,q[n].bind(this));if(cW==0||cW==1&&n>3&&n!=5||cW==2&&n>3)this.UZ.appendChild(V.$);
if(n>=z.length-3){var P=V.$;P.addEventListener("drop",e,!1);P.addEventListener("dragover",function(D){D.preventDefault()},!1);
P.addEventListener("dragenter",J.oC,!1)}}};dG.prototype.acM=function(z){J.oC(z);var q=0,e=this.Dy;while(e[q].$!=z.currentTarget)q++;
e[q].Mu();var V=z.dataTransfer.getData("Text");if(V=="")return;var V=JSON.parse(V);if(V.DO=="l"){var P={p:[lK.cZ,lK.Mi,lK.t$][q-4]};
if(this.Va.j.indexOf(V.J0)==-1)P.H=V.J0;this.ic(P)}if(q!=6)return;if(V.DO=="sm"||V.DO=="s"){var D=new dW(_.E.z,!0);
D.U=W.Eg;D.data={p:V.DO=="sm"?"st_clear":"st_delsingle",H:V.J0,J0:V.T0};this.K(D)}if(V.DO=="fm"||V.DO=="f"){this.ic({p:V.DO=="fm"?lK.j7:lK.tP,src:V.J0,T0:V.T0})}if(V.DO=="m"||V.DO=="vm"){this.ic({p:V.DO=="m"?lK.Ab:lK.Et,H:V.J0})}};
function lB(z,q,e,V,P,D,B,A){gq.call(this);this.parent=q;this.YA=B;this.IE=z;D.push(this);this.Va=e;
this.mz=V;var s=q.fz,a=z.H,M=e.j.indexOf(z.index)!=-1,t=null;this.nI=J.k("div",M?"head selected":"head");
if(a.add.artb!=null){J.d6(this.nI,"artb");A=a.Le()}var $=this.aNz=Math.floor(10+a.aN$/J.WU()),U="height: "+$+"px;";
if(M&&P.arC)U+="background-color:rgba(255,50,50,0.4);";J.C(this.nI,U);this.view=A;var o=this.aue=this.acO.bind(this),c=P.aiU&&!this.axC();
if(!c){if(z.depth!=0){s.appendChild(this.nI);B+=$-.3}if(a.nb()||a.LL())if(a.yh()){t=this.aw8=J.k("div","lpineck");
s.appendChild(t);if(a.nb()){t.addEventListener("contextmenu",o,!1);var H=new dG.y7(iE.get([12,1]),"sm","layerstyle",z.depth,0,null);
B+=21;H.parent=this;t.appendChild(H.$);var F=a.add.lmfx,i=F.masterFXSwitch.v;H.Bm(i);for(var n=0;n<az.order.length;
n++){var X=F[az.cx[n]].v;if(X.length==0)continue;for(var K=0;K<X.length;K++){var H=new dG.y7(iE.get(az.names[n]),"s","layerstyle",z.depth,1,[n,K]);
B+=21;H.Bm(i&&X[K].v.enab.v);H.parent=this;t.appendChild(H.$)}}}if(a.LL()){var f=a.kL(e).Eo;if(f)this.IJ=J.k("div","thumb");
var H=new dG.y7(iE.get([12,55]),"fm",null,z.depth,0,-1,f?this.IJ:null,$);B+=f?$:21;H.parent=this;t.appendChild(H.$);
this.am8=H.$;this.am8.addEventListener("contextmenu",o,!1);var F=a.add.SoLd.filterFX.v,d=F.filterFXList.v,i=F.enab.v;
H.Bm(i);for(var n=d.length-1;n>=0;n--){var L=d[n].v,G=ak.s4(L);if(aM.Ij[G])G=aM.Ij[G];var x=L.Nm.v;if(ak.names[G])x=iE.get(ak.names[G]);
if(aM.names[G])x=iE.get(aM.names[G]);var O="afw_"+G,H=new dG.y7(x,"f",O,z.depth,1,n);B+=21;H.Bm(i&&L.enab.v);
H.parent=this;t.appendChild(H.$)}}}}var v=a.add.lclr;if(v==null)v=0;v=v==0?V.go:lB.Pb[v];this.ap7=v;
if(a.YZ()&&(a.add.lsct==fH._j||P.aiU)){var C={go:v,acg:V.acg||a.rs(31)};for(var n=z.children.length-1;
n>=0;n--){var S=new lB(z.children[n],q,e,C,P,D,B,A);B=S.aOW}}this.aOW=B}lB.prototype=new gq;lB.Pb=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
lB.prototype.aNR=function(){if(this.aa)return;var z=this.IE,q=z.H,e=this.Va,V=this.mz,$=!0,C=!1;z.sZ(e,this.view,!0);
var P=J.k("div","headL"),D=J.k("div","headR");this.nI.appendChild(P);this.nI.appendChild(D);var B=this.nI;
B.setAttribute("draggable","true");B.addEventListener("dragstart",this.auc.bind(this),!1);B.addEventListener("drop",this.XO.bind(this),!1);
B.addEventListener("dragover",this.aon.bind(this),!1);B.addEventListener("dragenter",J.oC,!1);B.addEventListener("dragleave",this.ak1.bind(this),!1);
var A=[],s=[null,null,null,null],a=q.Sw(),M=z;while(M.parent){M=M.parent;a=a&&M.H.Sw()}if(q.Ev){for(var n=z.index-1;
n>=0;n--){var U=e.Z[n];if(!U.Ev){$=U.Sw();break}}}var o=q.Sw()?a&&$?2:1:0;this.aa=J.k("div");var t=J.k("div",o==0?"sqr":"eye");
this.aa.appendChild(t);t.style.opacity=[.12,.33,1][o];var c=J.k("div","space");this.K3=J.k("div","label");
J.C(this.K3,"max-width:calc(100% - "+(96+z.depth*20)+"px); margin-top:"+(this.aNz-19)/2+"px;"+(q.Qe?"text-decoration:underline;":""));
this.K3.textContent=q.getName();this.asz=J.k("div","lock");this.aEw=J.k("div","lrfx");this.Rb=J.k("div","arfx");
var H=this.aue,F=this.aLa.bind(this);this.nI.addEventListener("click",F,!1);this.nI.addEventListener("contextmenu",H,!1);
var i=this.ap7;if(i!=0){var X=[i>>16,i>>8&255,i&255];for(var n=0;n<3;n++){X[n]="calc("+X[n]+"*0.7 + (var(--absc)) * 255 * 0.3)"}J.C(this.aa,"background-color:rgba("+X.join(",")+",1);")}var K=this.a8z.bind(this);
this.aa.addEventListener("mousedown",K,!1);this.aa.addEventListener("mouseover",K,!1);this.Rb.addEventListener("click",this.aNK.bind(this),!1);
A[0]=this.aa;A[1]=c;A[10]=this.K3;if(q.YZ()){var f=J.k("div","arrow"),d=J.k("div","folder");this.aI$(d);
f.addEventListener("click",this.aeq.bind(this),!1);A[2]=f;A[3]=d;f.className=q.add.lsct==fH._j?"open":"closed"}else{this.c8=J.k("div","thumb");
A[5]=this.c8;lB.g_(this.c8,q.jh);this.aI$(this.c8);if(aM.get(q.add))J.d6(q.jh.canvas,"gsicon")}var L=q.OX();
if(L){this._2=J.k("div","chain");this.H3=J.k("div","thumb");lB.g_(this.H3,q.ayz,!0);this._2.style.opacity=L.ck?1:0;
this._2.addEventListener("click",this.a8w.bind(this),!1)}var G=q.mp()&&q.add.vmsk;if(q.add.vmsk&&!G){this.Vi=J.k("div","chain");
this.I1=J.k("div","thumb");lB.g_(this.I1,q.aKV,!0);this.Vi.style.opacity=q.add.vmsk.ck?1:0;this.Vi.addEventListener("click",this.asT.bind(this),!1)}if(q.LL()&&q.yh()&&q.kL(e).Eo){lB.g_(this.IJ,q.a1k,!1);
this.aI$(this.IJ);this.IJ.addEventListener("click",F,!1);this.IJ.addEventListener("contextmenu",H,!1)}if(z.index==e.j[0]){var x=q.oT,O;
if(x<=0)O=this.c8;else if(x==1)O=this.H3;else if(x==3)O=this.IJ;if(O)O.className="thumb active";if(q.bS&&this.I1)this.I1.className="thumb active"}J.C(c,"width:"+Math.max(0,z.depth-1)*18+"px");
var v=q.add.lspf!=null&&q.add.lspf!=0||V.acg;this.asz.style.opacity=q.rs(31)?1:.5;A[4]=q.Ev?J.k("div","clipp"):null;
A[6]=L?this._2:null;A[7]=L?this.H3:null;A[8]=q.add.vmsk&&!G?this.Vi:null;A[9]=q.add.vmsk&&!G?this.I1:null;
var S=q.Km,j=e.j;if(S!=0)for(var n=0;n<j.length;n++)if(e.Z[j[n]].Km==S){C=!0;break}if(C){s[0]=J.k("div",q.l6?"link":"linkX");
s[0].addEventListener("click",this.apf.bind(this),!1)}s[1]=v?this.asz:null;s[2]=q.nb()?this.aEw:null;
s[3]=q.nb()||q.LL()?this.Rb:null;this.Rb.className=q.yh()?"arfx open  gsicon":"arfx closed  gsicon";
var w=A;for(var n=0;n<w.length;n++)if(w[n])P.appendChild(w[n]);w=s;for(var n=0;n<w.length;n++)if(w[n])D.appendChild(w[n])};
lB.g_=function(z,q,e){var V=q.canvas;J.kr(V);if(e)z.setAttribute("draggable","true");z.appendChild(V);
J.C(V,V.getAttribute("style")+"; pointer-events:none")};lB.prototype.aI$=function(z){J.Br(z,function(q){if(this.parent.G9[3]==0)return;
J.AZ(q);J.KE(document.body,function(){clearTimeout(this.aNS)}.bind(this));this.aNS=setTimeout(function(){var e=new dW("rclick",!0);
e.data={H:this.IE.index,oT:this.oT(q),mZ:J.fH(q,document.body)};this.K(e)}.bind(this),600)}.bind(this))};
lB.Zu=function(z,q){var e=q.getBoundingClientRect();return(z.clientY-e.top)/e.height};lB.prototype.auc=function(z){z.stopPropagation();
var q=z.target==this.H3?"m":z.target==this.I1?"vm":"l";z.dataTransfer.setData("Text",JSON.stringify({DO:q,J0:this.IE.index}))};
lB.prototype.ak1=function(z){J.oC(z);this.Sp()};lB.prototype.XO=function(z){J.oC(z);this.Sp();var q=z.dataTransfer.getData("Text"),e=this.parent.Va,V=lB.Zu(z,this.nI),P=this.IE.index;
if(V>.8){var D=!0,B=e.root.G6(P);while(B.parent!=null){var A=B.parent,s=A.children;if(s.indexOf(B)!=0)D=!1;
B=B.parent}if(D){P=0;V=1}}if(q==""){J.PU(z,this,this.parent.caller.nk.indexOf(e),P+(V>.5?0:1))}else if(q!="--panel"){var q=JSON.parse(q),a=q.DO;
if(a=="l")this.ic({p:lK.lV,source:q.J0,target:P,gp:V});else if(a=="m"||a=="vm")this.ic({p:a=="m"?lK.amq:lK.UH,src:q.J0,$b:P});
else lB.a0W(z,q,this)}};lB.a0W=function(z,q,e,V){var P=q.DO,D=e.IE.index,B=q.J0;if(P=="s"||P=="sm")e.ic({p:lK.xb,src:B,$b:D,T0:q.T0});
if(P=="f"||P=="fm")e.ic({p:lK.arS,src:B,$b:D,T0:q.T0,wT:V==null?0:V})};lB.prototype.aon=function(z){J.oC(z);
var q=lB.Zu(z,this.nI),e=this.IE.H.YZ()&&.5<q&&q<.8;this.Sp();var V="inset 0 "+(e?0:q>.5?-3:3)+"px "+(e?"6px":0)+" var(--text-color)";
this.nI.style.boxShadow=V};lB.prototype.Sp=function(z){this.nI.style.boxShadow=""};lB.tH=-1;lB.aHZ=!1;
lB.aMd=function(z){lB.aHZ=!1;document.body.removeEventListener("mouseup",lB.aMd)};lB.prototype.a8z=function(z){if(z.button!=0)return;
if(z.type=="mousedown"){lB.aHZ=!0;document.body.addEventListener("mouseup",lB.aMd,!1)}if(z.type=="mouseover"&&(!lB.aHZ||lB.tH==this.IE.index))return;
J.oC(z);this.ic({p:lK.rC,H:this.IE.index});lB.tH=this.IE.index};lB.prototype.aeq=function(z){J.oC(z);
this.ic({p:lK.axv,H:this.IE.index})};lB.prototype.a8w=function(z){this.ic({p:lK.KW,H:this.IE.index})};
lB.prototype.asT=function(z){this.ic({p:lK.rT,H:this.IE.index})};lB.oL=0;lB.FW=null;lB.prototype.RO=function(z){this.ic({p:lK.mH,H:this.IE.index,name:z})};
lB.prototype.aNK=function(z){this.ic({p:lK.acp,H:this.IE.index})};lB.prototype.apf=function(z){this.ic({p:lK.nZ,H:this.IE.index})};
lB.prototype.acO=function(z){if(z.button!=2&&!J.aCN(z)&&!(z.ctrlKey&&cz.Di()))return;var q=this.oT(z);
if(q!=3&&z.currentTarget==this.am8)q=4;if(z.target==this.aEw||z.currentTarget==this.aw8)q=5;var e=new dW("rclick",!0);
e.data={H:this.IE.index,oT:q,mZ:J.fH(z,document.body)};this.K(e)};lB.prototype.oT=function(z){var q=z.target,e=q;
return e==this.I1?2:e==this.H3?1:e==this.c8?0:e==this.IJ?3:-1};lB.prototype.aLa=function(z){var q=z.target,c;
if(q==this.aa.firstChild||q==this.Rb||q==this._2||q==this.Vi||q.tagName&&q.tagName.toLowerCase()=="input")return;
var e=this.oT(z),V=this.parent.Va,P=this.IE.index,D=V.Z[P];if(q==this.asz){this.ic({p:lK.B4,H:P,oo:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var B=lB.oL,A=Date.now()-B<300&&P==lB.FW;lB.oL=Date.now();lB.FW=P;if(q==this.K3){if(A){this.nI.setAttribute("draggable","false");
var s=new dJ.eG(this.K3,this.RO.bind(this))}else this.ic({p:lK.eb,H:P,es:e,al1:!0});return}if(cW==0&&z.button==0&&A){if(q==this.K3)return;
var a=new dW(_.E.z,!0),M=new dW(_.E.b,!0),$=new dW(_.E.zN,!0);if(e==0&&D.add.SoCo){var U=T.Yf.z8(D.add.SoCo.Clr.v);
M.data={p:_.m.wa,rF:"colorpicker",go:U.l<<16|U.I<<8|U.c,QW:function(i){var X=T.Yf.e8({c:i&255,I:i>>>8&255,l:i>>16&255});
X={classID:"null",Clr:{t:"Objc",v:X}};var K=new dW(_.E.z,!0);K.U=W.si;K.data={p:lK.eB,ML:[P],vt:!0,u:{y3:1,j5:X}};
this.K(K)}.bind(this),fU:!0}}else if(e==0&&(aM.get(D.add)||D.add.SoCo||D.add.GdFl||D.add.PtFl))M.data={p:_.m.Qp,rF:dJ.Qf.mm};
else if(e!=0&&e!=-1)M.data={p:_.m.Qp,rF:dJ.Qf.mm};else if(e==0&&D.add.SoLd){var o=D.add.SoLd,t=o.generativeDocInfo;
if(t)M.data={p:_.m.Qp,rF:dJ.Qf.mm};else $.data={gQ:"placedLayerEditContents",cj:{classID:"placedLayerEditContents"}}}else if(e==0&&D.add.TySh){a.U=W.no;
a.data={p:"editCurr",f0:P}}else M.data={p:_.m.wa,rF:"layerstyle",H:P};this.K($.data?$:M.data?M:a);return}if(z.button!=0)return;
if(e==1||e==3){var H=e==3?D.kL(V).Eo:D.OX();c=H.eq?V.A.Ox.join("")=="111"?1:2:0}var F={p:lK.eb,H:P,es:e,aEH:c,al1:!0};
this.ic(F)};lB.prototype.ic=function(z){var q=new dW(_.E.z,!0);q.data=z;q.U=W.si;this.K(q)};lB.prototype.axC=function(){var z=this.IE.H,q=z.add,e=this.parent.JT.r(),V=this.parent.f3[e].r();
if(e==0){if(V[0]&&q.SoLd==null&&q.TySh==null&&z.Be())return!0;if(V[1]&&aM.get(q)!=null)return!0;if(V[2]&&q.TySh!=null)return!0;
if(V[3]&&q.vstk!=null)return!0;if(V[4]&&q.SoLd!=null)return!0;return!1}if(e==1)return z.getName().toLowerCase().indexOf(V.toLowerCase())!=-1};
dG.y7=function(z,q,e,V,P,D,B,A){gq.call(this);this.sl=q;this.m8=e;this.index=D;this.$=J.k("div","styleitem");
this.nI=J.k("div","head");this.aEL=null;if(q=="f"){var s=this.aEL=J.k("div","headR");s.textContent="\u2699";
this.nI.appendChild(s)}this.aa=J.k("div","eye gsicon");this.K3=J.k("div","label");this.$.appendChild(this.nI);
this.nI.appendChild(this.aa);if(B){this.H3=B;this.nI.appendChild(B);J.C(this.nI,"height: "+A+"px")}this.K3.innerHTML=z;
J.C(this.$,"margin-left: "+(24+V*16+P*22)+"px");this.nI.appendChild(this.K3);this.aa.addEventListener("click",this.aOx.bind(this),!1);
var a=this.$;a.setAttribute("draggable","true");a.addEventListener("dragstart",this.auc.bind(this),!1);
if(!0){a.addEventListener("drop",this.XO.bind(this),!1);a.addEventListener("dragover",this.aon.bind(this),!1);
a.addEventListener("dragenter",J.oC,!1);a.addEventListener("dragleave",this.ak1.bind(this),!1)}var M=this.AM.bind(this);
this.$.addEventListener("contextmenu",M,!1);this.$.addEventListener("click",M,!1)};dG.y7.prototype=new gq;
dG.y7.prototype.auc=function(z){z.stopPropagation();z.dataTransfer.setData("Text",JSON.stringify({DO:this.sl,J0:this.parent.IE.index,T0:this.index}))};
dG.y7.prototype.ak1=function(z){J.oC(z);this.Sp()};dG.y7.prototype.XO=function(z){J.oC(z);this.Sp();
window.__kb.a9E(z);var q=z.dataTransfer.getData("Text");if(q=="")return;var q=JSON.parse(q);lB.a0W(z,q,this.parent,this.index+(lB.Zu(z,this.nI)>.5?0:1))};
dG.y7.prototype.aon=function(z){J.oC(z);var q=lB.Zu(z,this.nI)>.5;this.Sp();var e="border-"+(q?"bottom":"top");
this.nI.style[e]="0.2em solid rgba(0,0,0,0.5)"};dG.y7.prototype.Sp=function(z){this.nI.style.border="none"};
dG.y7.prototype.Bm=function(z){this.aa.style.opacity=z?1:.2};dG.y7.prototype.AM=function(z){var q=this.parent.IE.index,e=lB.oL,V=Date.now()-e<300&&q==lB.FW;
lB.oL=Date.now();lB.FW=q;if(z.target==this.aa)return;if(z.type=="contextmenu"){var P=new dW("rclick",!0);
P.data={H:q,oT:6,mZ:J.fH(z,document.body),index:this.index};this.K(P);return}if(V&&this.m8!=null){var q=this.parent.IE.index,D=new dW(_.E.b,!0);
if(this.m8.indexOf("afw_")==0){var B=this.m8.slice(4),A=e1[B]||ak.jc[B],s=z.target==this.aEL;if(!s&&!A)return;
D.data=W.et.rH(s?"blendOptions":B,{H:q,index:this.index})}else D.data={p:_.m.wa,rF:this.m8,H:q,index:this.index};
this.K(D)}else{if(z.target.className!="thumb")this.parent.ic({p:lK.eb,H:q,es:0})}};dG.y7.prototype.aOx=function(z){var q={fm:lK.l$,f:lK.kU,sm:lK.qJ,s:lK.dB}[this.sl];
this.parent.ic({p:q,H:this.parent.IE.index,index:this.index})};function i3(){dJ.call(this,"Guide Guy",!1,"---panels/guideguy",dJ.Qf.ar2);
this.VY=null;this.ZM=new cr(null,T.tR.k6)}i3.prototype=new dJ("");i3.prototype.fk=function(){this.Js=[];
var z=J.k("div","form padded");this.yH.appendChild(z);J.C(z,"width:200px");this.yH.appendChild(z);var q=J.k("canvas"),e=q.getContext("2d");
q.width=q.height=160;var V=[32,0,16,160,0,32,160,16,0,112,160,16],P="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),D=[0,0,0,0,0,0,0,0,0,0];
z.appendChild(this.ZM.$);J.f9(z);for(var n=0;n<10;n++){e.clearRect(0,0,160,160);e.setTransform(1,0,0,1,80,80);
e.rotate((n&3)*Math.PI/2);e.translate(-80,-80);e.fillStyle="rgba(0,0,0,0.3)";if(n<4){for(var B=0;B<12;
B+=4){e.fillStyle=B==0?"#000000":"rgba(0,0,0,0.3)";e.fillRect(V[B],V[B+1],V[B+2],V[B+3])}}else if(n<6){var A=8*6;
e.fillRect(0,0,A,160);e.fillRect(8*7,0,A,160);e.fillStyle="#000000";e.fillRect(8*14,0,A,160)}else if(n<8){e.fillRect(0,0,16,160);
e.fillRect(160-16,0,16,160);e.fillRect(32,0,160-64,160);e.fillStyle="#000000";e.fillRect(32,80-8,160-64,8*1)}else{e.fillRect(0,0,8*7,160);
e.fillRect(8*13,0,160,160);e.fillStyle="#000000";e.fillRect(8*7,80-8,8*6,8*1)}var s="<img src=\""+q.toDataURL()+"\" class=\"autoscale gsicon\" /> ",a=new gO(s,0,200,null,n==4||n==5?0:2,null,null,4,P[n]);
a.parent=this;a.Q(_.E.f,this.anT,this);a.a(D[n]);a.W();this.Js.push(a);z.appendChild(a.$)}var M=[[11,14],[11,15,0]];
this.C_=[];for(var n=0;n<M.length;n++){var $=new ht(M[n],!0,null,!0);this.C_.push($);$.Q("click",this.Xr,this);
z.appendChild($.$)}for(var n=0;n<6;n++){e.setTransform(1,0,0,1,80,80);e.rotate(Math.floor(n/3)*Math.PI/2);
e.translate(-80,-80);e.clearRect(0,0,160,160);e.fillStyle="rgba(0,0,0,0.3)";e.fillRect(0,0,160,160);
e.clearRect(16,16,128,128);e.fillStyle="#000000";var U=n%3;e.fillRect([0,9,18][U]*8,0,16,160);var s="<img src=\""+q.toDataURL()+"\" class=\"autoscale gsicon\" /> ",$=new ht(s,!1,null,!1);
this.C_.push($);$.Q("click",this.Xr,this);z.appendChild($.$)}};i3.prototype.W=function(){dJ.prototype.W.call(this);
this.ZM.W();if(this.Js==null)return;for(var n=0;n<this.C_.length;n++)this.C_[n].W()};i3.prototype.anT=function(z){var q=this.Js,e=q.indexOf(z.target),V=Math.floor(e/2),P=e&1,D=[];
for(var n=0;n<4;n++)D.push(q[2*n+P].r());var B=-1;if(V==2&&D[2]!=0&&D[3]!=0&&D[4]!=0)B=4;if(V==3&&D[3]!=0&&D[2]!=0&&D[4]!=0)B=4;
if(V==4&&D[4]!=0&&D[2]!=0&&D[3]!=0)B=3;if(B!=-1)q[2*B+P].a(0)};i3.prototype.Xr=function(z){var q=this.VY,e=this.C_.indexOf(z.target),V=[[],[]];
if(q==null)return;var P=q.h?q.h.V:new kk(0,0,q.s,q.T),D=P.s,B=P.T;if(e==0){var A=[[],[]],s=this.ZM.r();
for(var n=0;n<this.Js.length;n++){var a=this.Js[n].r();if(n!=4&&n!=5)a=T.tR.rp(a,q.do,(n&1)==0?P.s:P.T,s);
A[n&1].push(a)}var M=[i3.avc(A[0],P.x,P.x+D),i3.avc(A[1],P.y,P.y+B)];V=i3.aLQ(M);W.DL.uu(V,q.Il())}else if(e==1){}else{e-=2;
var $=Math.floor(e/3),M=[[],[]];M[$].push([P.x,P.x+D/2,P.x+D,P.y,P.y+B/2,P.y+B][e]);V=i3.aLQ(M);W.DL.uu(V,q.Il())}this.a8H(V)};
i3.aLQ=function(z){var q=[],e=[];for(var V=0;V<2;V++)for(var n=0;n<z[V].length;n++){q.push([V,z[V][n]]);
e.push(-1)}return[q,e]};i3.prototype.avp=function(z){var q=this.aHW.indexOf(z.target)};i3.prototype.a8H=function(z){var q=new dW(_.E.z,!0);
q.U=W.HI;q.data={p:"gids",an:z};this.K(q)};i3.avc=function(z,q,e){var V=[],P=z[2],D=z[3],B=z[4],A=0;
if(P==0)A++;if(D==0)A++;if(B==0)A++;if(A>1&&P==0&&D==0){if(z[0]!=0)V.push(q+z[0]);if(z[1]!=0)V.push(e-z[1]);
return V}var s=e-q-z[0]-z[1];if(P==0){if(B==0){P=Math.floor(s/D);B=(s-P*D)/(P-1)}else{P=1;while(D*P+B*(P-1)+D+B<=s)P++}}else if(P!=0&&D!=0){if(P*D>s)P=Math.floor(s/D);
B=(s-P*D)/(P-1)}V.push(q+z[0],e-z[1]);var D=(s-B*(P-1))/P;for(var n=1;n<P;n++){if(B==0)V.push(q+z[0]+n*D);
else V.push(q+z[0]+n*D+(n-1)*B,q+z[0]+n*D+n*B)}return V};i3.prototype.N_=function(z,q,e){this.VY=z};
i3.prototype.ai=function(){if(J.H2(this.yH)&&this.Js==null)this.fk();this.W()};i3.prototype.K5=function(z){this.ZM.a(z.Y8.oZ)};
function hn(){dJ.call(this,[9,2],!1,"---panels/properties",dJ.Qf.mm);this.a2q=null;this.Va=null;this.i=null;
this.aOu=-1;this.NS=null}hn.prototype=new dJ("");hn.prototype.hh=function(z,q){this.xL=z;this.Hi=q;z=z-16;
q=q-30;var e=this.NS;if(e){e.style.width=z+"px";e.style.height=q+"px";for(var n=0;n<3;n++)this.ag7[n].hh(z-12,q)}};
hn.prototype.fk=function(){this.NS=J.k("div","padded scrollable");this.yH.appendChild(this.NS);var z=J.k("span");
this.NS.appendChild(z);this.Ie=[new ht([0,3]),new ht([12,73]),new ht([12,91,0])];for(var n=0;n<this.Ie.length;
n++){var q=this.Ie[n];q.Q("click",this.ask,this);z.appendChild(q.$);if(n==2)q.$.style.marginRight="0"}this.NS.appendChild(J.k("hr"));
this.NG=new hn.yd;this.NG.parent=this;this.z_=new hn.Bg;this.z_.parent=this;this.O$=new hn.jF;this.O$.parent=this;
this.ag7=[this.NG,this.z_,this.O$];this.NS.appendChild(this.NG.$);this.UZ=J.k("div","lpfoot");this.yH.appendChild(this.UZ);
this.Dy=[];for(var n=0;n<4;n++){var q=new ht("W");q.Q("click",this.ZW,this);this.Dy.push(q);this.UZ.appendChild(q.$)}this.hh(this.xL,this.Hi)};
hn.prototype.ZW=function(z){var n=this.Dy.indexOf(z.target);if(n==1){var q=this.Va,e=q.Z[q.j[0]],V=aM.get(e.add);
this.NG.avt.a(ak.g1(V));this.NG.ak7();return}var P=new dW(_.E.z,!0);P.U=W.si;if(n==0)P.data={p:lK.Cr};
if(n==2)P.data={p:lK.rC};if(n==3)P.data={p:lK.t$};this.K(P)};hn.prototype.ask=function(z){var n=this.Ie.indexOf(z.currentTarget);
this.OU(n);this.aEf(n==1?this.z_.K0:-1)};hn.prototype.OU=function(z){for(var n=0;n<3;n++){this.Ie[n].Mu();
var q=this.ag7[n].$;if(q.parentNode==this.NS&&n!=z)this.NS.removeChild(q);if(q.parentNode!=this.NS&&n==z)this.NS.appendChild(q)}this.Ie[z].IM()};
hn.prototype.aEf=function(z){var q=this.Va.j[0],e=this.Va.Z[q],V=z+1;if(z==1&&e.bS)return;var P=new dW(_.E.z,!0);
P.U=W.si;if(z!=1&&e.bS){P.data={p:lK.eb,H:q,es:2};this.K(P)}P.data={p:lK.eb,H:q,es:V};this.K(P)};hn.prototype.W=function(){dJ.prototype.W.call(this);
if(this.NS==null)return;this.N_(this.Va);for(var n=0;n<3;n++){this.Ie[n].W();this.ag7[n].W()}c$.kX(this.Dy,["lrs/clipping","reload","lrs/eye","lrs/bin"],[[6,6,0],[1,12,2],[5,5],[6,31]])};
hn.prototype.ai=function(){if(!J.H2(this.yH))return;if(this.NS==null){this.fk();this.K5(this.i,cR.zu);
this.N_(this.a2q);this.W()}};hn.prototype.N_=function(z){this.a2q=z;if(this.NS==null)return;this.NG.N_(z);
this.z_.N_(z);this.O$.N_(z);if(z==null||z.j.length==0||z.Z[z.j[0]]==null){J.d6(this.yH,"disabled");this.Va=null;
return}else J.Pf(this.yH,"disabled");var q=z.j[0],e=z.Z[q];this.Dy[0].a(e.Ev);this.Dy[1]._w(aM.get(e.add)!=null);
this.Dy[2].a(e.Sw());var V=z.Kn(),P=V[0],D=V[1];if(D.length!=0){var B=P[D[0]],A=B.add.vogk,s=!1;if(A)for(var n=0;
n<A.length;n++){var a=A[n].v;if(!T.w0.GI(a))continue;s=!0;q=B.XW}}q+=","+s;if(z!=this.Va||this.aOu!=q){this.Va=z;
this.aOu=q;if(s)this.OU(2);else if(e.oT<1&&!e.bS||aM.get(e.add))this.OU(0);else this.OU(1)}this.Ie[1]._w(this.z_.K0!=-1);
this.Ie[2]._w(s)};hn.prototype.K5=function(z,q){this.i=z;if(this.NG)this.NG.K5(z,q);if(this.O$)this.O$.K5(z,q)};
hn.yd=function(){gq.call(this);this.$=J.k("div","form");this.aGX=new ij("Hello");this.$.appendChild(this.aGX.$);
this.P0=null;this.avt=null;this.Va=null;this.i=null;this.aCy=-1;this.a1P=null;this.aAY=null;this.hA=new lz(0,!0,!0);
this.hA.parent=this;this.hA.Q(_.E.f,this.aDp,this);this.$.appendChild(this.hA.$);this.z2=new l0(!0);
this.z2.parent=this;this.z2.Q(_.E.f,this.aaY,this);this.OC=J.k("div","marged hiline");this.OC.appendChild(this.z2.$);
this.hZ=new iX("GrFl",!0);this.hZ.parent=this;this.hZ.Q(_.E.f,this.acr,this);this.NQ=J.k("div","marged hiline");
var z="Grad Rvrs Type Algn Angl Dthr Scl gradientsInterpolationMethod Ofst".split(" ");for(var n=0;n<z.length;
n++){var q=this.hZ.g4[z[n]].$;this.NQ.appendChild(q)}this.bI=new iX("patternFill",!0);this.bI.parent=this;
this.bI.Q(_.E.f,this.aDx,this);this.qP=J.k("div","marged hiline");var z=["Ptrn","Angl","Scl","Algn","phase"];
for(var n=0;n<z.length;n++){var q=this.bI.g4[z[n]].$;this.qP.appendChild(q)}this._F={};for(var e in aM.names){if(e1[e]==null)continue;
this._F[e]=new e1[e];this._F[e].Q(_.E.f,this.ak7,this);this._F[e].parent=this}var V=this.aHF=J.k("div","marged hiline");
this.LZ=new lz(0,!0);V.appendChild(this.LZ.$);this.LZ.Q(_.E.f,this.Ez,this);this.aou=null;this.ye=new hz;
this.ye.parent=this;this.ye.Q(_.E.f,this.Ez,this);V.appendChild(this.ye.$);this.W8=new cD;this.W8.parent=this};
hn.yd.prototype=new gq;hn.yd.prototype.aDp=function(z){var q=this.hA.r(),e=this.aAY,V=this.Va.A.Gq,P=new kk(q[0]+V.x,q[1]+V.y,q[2],q[3]);
if(P.bs(e))return;this.aAY=P;var D=new dW(_.E.z,!0);if(e.s==P.s&&e.T==P.T){D.U=W.HI;D.data={p:"trsl",d8:P.x-e.x,Zf:P.y-e.y}}else{D.U=W.Rs;
D.data={p:"scl",JJ:[2,4],u:new f5(P.s/e.s,P.T/e.T),Lu:0}}this.K(D)};hn.yd.prototype.hh=function(z,q){var e=this._F;
for(var V in e)e[V].hh(z,q)};hn.yd.prototype.W=function(){for(var z in this._F)this._F[z].W();this.hZ.W();
this.bI.W();this.ye.W();this.LZ.W();this.hA.W();this.W8.W()};hn.yd.prototype.Ez=function(z){var q=new dW(_.E.z,!0),e=this.LZ.r(),V=this.aou;
if(z.target==this.LZ&&e[2]==V[2]&&e[3]==V[3]){q.U=W.HI;q.data={p:"trsl",d8:e[0]-V[0],Zf:e[1]-V[1]}}else{var P=lK.bO(new kk(e[0],e[1],e[2],e[3])),D=this.ye.a9M();
D.artboardRect={t:"Objc",v:P};var B=this.Va,A=B.Z[B.j[0]],s=A.add.artb.guideIndeces;if(s)D.guideIndeces=T.G(s);
q.U=W.si;q.data={p:lK.x8,Tc:D}}this.K(q)};hn.yd.prototype.aaY=function(z){var q=this.Va,e=q.j[0];if(q.Z[e].add.SoCo==null)return;
var V=T.G(q.Z[e].add.SoCo);V.Clr.v=this.z2.r();this.alB({y3:1,j5:V})};hn.yd.prototype.acr=function(z){var q=this.Va,e=q.j[0];
if(q.Z[e].add.GdFl==null)return;this.alB({y3:2,j5:this.hZ.r()})};hn.yd.prototype.aDx=function(z){this.alB({y3:3,j5:this.bI.r()})};
hn.yd.prototype.alB=function(z){this.aFH(W.si,{p:lK.eB,ML:[this.Va.j[0]],vt:!0,u:z})};hn.yd.prototype.ak7=function(z){this.aFH(W.j4,{p:"edit_layer",u:this.avt.r()})};
hn.yd.prototype.aFH=function(z,q){var e=new dW(_.E.z,!0);e.U=z;e.data=q;this.K(e)};hn.yd.prototype.N_=function(z,q){var e=iE.get([0,3]),V=!1,P=null;
this.Va=z;if(z&&z.Z.length>0&&z.j.length!=0&&z.Z[z.j[0]]){var D=z.Z[z.j[0]],B=aM.get(D.add);if(B!=null&&this._F[B]!=null){P=this._F[B].$;
this.avt=this._F[B];this._F[B].a(T.G(D.add[B]));if(z.j[0]!=this.aCy){var A=z.tW(z.j[0]-1);this.a1P=T.Wy(A)}this._F[B].G2(this.a1P);
e=iE.get(aM.names[B])}if(B==null&&D.add.artb==null){var s=this.aAY=T.R.JY(W.On.$i(z));V=!s.a8();var a=z.vL();
s.x-=a.x;s.y-=a.y;this.hA.a([s.x-z.A.Gq.x,s.y-z.A.Gq.y,s.s,s.T],[z.do,z.s,this.i.Y8.oZ])}if(D.add.SoCo){P=this.OC;
this.z2.a(D.add.SoCo.Clr.v);e=iE.get([6,48,0,0])}if(D.add.GdFl){P=this.NQ;this.hZ.update(z,D.add.GdFl);
e=iE.get([6,48,0,1])}if(D.add.PtFl){P=this.qP;this.bI.update(z,D.add.PtFl);e=iE.get([6,48,0,2])}if(D.add.artb){var M=D.add.artb,$=D.Le();
P=this.aHF;this.ye.a3E(M);var U=this.aou=[$.x,$.y,$.s,$.T];this.LZ.a(U,[z.do,z.s,this.i.Y8.oZ]);e=iE.get([1,16,0])}var o=D.add.SoLd;
if(o&&o.generativeDocInfo){var t=o.Idnt.v,c=z.mn(t);this.W8.a(c.raw.buffer);P=this.W8.$}this.aCy=z.j[0]}if(P!=this.P0){if(this.P0)this.$.removeChild(this.P0);
if(P!=null)this.$.appendChild(P);this.P0=P}this.aGX.a(e);this.hA.$.style.display=V?"":"none"};hn.yd.prototype.K5=function(z,q){this.i=z;
this.hZ.K5(z,q);this.bI.K5(z,q);if(q==cR.qU)this.N_(this.Va,z);for(var e in this._F)this._F[e].K5(z,q)};
hn.Bg=function(){gq.call(this);this.$=J.k("div","form");this.Va=null;this.K0=0;var z=J.k("span","fitem");
this.$.appendChild(z);this.Ie=[new ht([6,2]),new ht([6,3]),new ht([6,50])];for(var n=0;n<this.Ie.length;
n++){var q=this.Ie[n];q.Q("click",this.aFk,this);z.appendChild(q.$)}this.n2=new aJ([12,74],0,255);this.n2.Q(_.E.f,this.GT,this);
this.$.appendChild(this.n2.$);this.zl=new aJ([7,6],0,500,"px",2,!0);this.zl.Q(_.E.f,this.GT,this);this.$.appendChild(this.zl.$);
this.a8D=new ht([4,11],null,null,!0);this.a8D.Q("click",this.a12,this)};hn.Bg.prototype=new gq;hn.Bg.prototype.a12=function(){var z=new dW(_.E.z,!0);
z.U=W.j4;z.data={p:"start",xJ:"nvrt"};this.K(z)};hn.Bg.prototype.GT=function(z){var q=this.n2.r(),e=this.zl.r(),V=new dW(_.E.z,!0);
V.U=W.si;V.data={p:lK.Ke,HM:this.Va.j[0],z1:{wA:this.K0,n2:q,zl:e}};this.K(V)};hn.Bg.prototype.W=function(){for(var n=0;
n<this.Ie.length;n++)this.Ie[n].W();this.n2.W();this.zl.W();this.a8D.W()};hn.Bg.prototype.N_=function(z){this.Va=z;
this.sE()};hn.Bg.prototype.aFk=function(z){this.sE(this.Ie.indexOf(z.currentTarget));this.parent.aEf(this.K0)};
hn.Bg.prototype.sE=function(z){var q=this.Va,e=this.Ie;for(var n=0;n<3;n++){var V=e[n];V.Mu();V.QU()}if(q==null||q.Z.length==0||q.j.length==0||q.Z[q.j[0]]==null)return;
var P=-1,D=q.Z[q.j[0]];if(D.LL()&&D.kL(q).Eo!=null){e[2].oR();P=2}if(D.add.vmsk){e[1].oR();P=1}if(D.OX()){e[0].oR();
P=0}if(z!=null)P=z;else if(D.bS)P=1;else if(D.oT==3)P=2;else if(D.oT==1)P=0;this.K0=P;if(P==-1){this.n2.QU();
this.zl.QU();return}var B=D.lj(P);this.n2.oR();this.zl.oR();this.n2.a(B.n2);this.zl.a(B.zl);e[P].IM();
var A=this.a8D.$;if(P==0)this.$.appendChild(A);else if(A.parentNode==this.$)this.$.removeChild(A)};hn.jF=function(){gq.call(this);
this.$=J.k("div","form");this.VY=null;this.i=null;this.Mj=-1;this.hA=new lz(0,!1);this.WD=new aJ([12,15],-180,180,"\xB0",2);
this.LY=new lz(1,!0);this.k8=new aJ([12,94,0],0,100,null,2);this.oM=new aJ([12,78],3,30);this.Mz=new ht(["\u279C  ",[12,76,0]],null,null,!0);
this.hA.Q(_.E.f,this.C6,this);this.WD.Q(_.E.f,this.C6,this);this.LY.Q(_.E.f,this.C6,this);this.k8.Q(_.E.f,this.C6,this);
this.oM.Q(_.E.f,this.C6,this);this.Mz.Q("click",this.C6,this)};hn.jF.prototype=new gq;hn.jF.prototype.W=function(){this.hA.W();
this.WD.W();this.LY.W();this.k8.W();this.oM.W()};hn.jF.prototype.C6=function(z){var q=this.VY,e=T.w0.AX(q),V=z.target.r(),P=[this.hA,this.WD,this.LY,this.k8,this.oM,this.Mz].indexOf(z.target);
if(P==0){var D=q.vL(),B=[],A=B[0]=V[0]+D.x,s=B[1]=V[1]+D.y;B[2]=A+V[2];B[3]=s+V[3];V=B}if(P==1)V=V*Math.PI/180;
var a={0:1,1:2,2:3,3:3,4:4}[P];e[a]=V;var M=new dW(_.E.z,!0);M.U=W.si;M.data={p:lK.wF,u:e,aDM:P==5};
this.K(M)};hn.jF.prototype.N_=function(z){var q=this.$;this.VY=z;if(z==null)return;var e=this.i,V=[z.do,z.s,e.Y8.oZ],P=T.w0.AX(z),D=P[0],B=P[1];
if(B==null)return;var A=D!=this.Mj;this.Mj=D;if(A)J._8(q);if(A)q.appendChild(this.hA.$);if(A)q.appendChild(this.WD.$);
var s=z.vL();this.hA.a([B[0]-s.x,B[1]-s.y,B[2]-B[0],B[3]-B[1]],V);this.WD.a(P[2]*180/Math.PI);if(D==2){if(A)q.appendChild(this.LY.$);
var a=P[3];this.LY.a(a,V)}if(D==7||D==8){if(A)q.appendChild(this.k8.$);this.k8.a(P[3])}if(D==8){if(A)q.appendChild(this.oM.$);
this.oM.a(P[4])}q.appendChild(this.Mz.$)};hn.jF.prototype.K5=function(z,q){this.i=z;this.N_(this.VY)};
function eL(z){dJ.call(this,z.name,!0);this.Va=z;this.i=null;this.RR=new cs(this.yH);this.RR.parent=this}eL.prototype=new dJ;
eL.prototype.br=function(){this.Va=null};eL.jO=function(){var z=document.createElement("canvas"),q=document.createElement("canvas"),e=document.createElement("canvas"),V=16,P=T.n(16*16*4);
T.w$(P,V,V,8);var D=T.scale._L(P,V,V);return{tJ:z,acu:q,aPy:e,bX:z.getContext("2d"),a07:q.getContext("2d"),aAo:e.getContext("2d"),gu:D}}();
eL.prototype.a2G=function(){if(this.Va.lJ())return window.confirm(iE.get([22,6,3])+" "+this.Va.name+". "+iE.get([22,6,4]));
return!0};eL.prototype.N_=function(z,q,e){this.i=e;this.ai();this.LE()};eL.prototype.hh=function(z,q){if(z<=0||q<=0)return;
this.xL=z;this.Hi=q;var e=this.Va,V=eL.jO,P=J.WU();e.A.bX.s=Math.floor(z*P);e.A.bX.T=Math.floor(q*P);
J.rw(V.tJ,z,q);J.rw(V.acu,z,q);J.rw(V.aPy,z,q);J.rw(ee.Hx(),z,q);if(e.A.C7==0)e.A.C7=W.jH.nQ(e.s,e.T,z*P,q*P);
this.LE()};eL.prototype.ai=function(){var z=this.yH.firstChild,q=eL.jO,e=ee.$x&&cW==0;if(!e&&z==ee.Hx()||e&&z==q.tJ)this.yH.removeChild(z);
var V=e?ee.Hx():q.tJ;if(!J.H2(V))this.yH.appendChild(V)};eL.prototype.LE=function(){if(this.i==null)return;
var z=this.Va,q=ee.$x&&cW==0;if(q)this.a2s();else this.aGq()};eL.prototype.a2s=function(){if(ee.$x&&eL.aJf==null){var z=eL.aJf=[],q=[0,2,8,32,128];
for(var n=0;n<5;n++)z[n]=[new eL.iT(!1,q[n],!1),new eL.iT(!0,q[n],!1)];z.push([new eL.iT(!1,0,!0),new eL.iT(!0,0,!0)])}var e=this.Va,V=eL.jO,c,i=0,x,O;
if(e.sg==null)return;var P=e.A,D=P.bX.s,B=P.bX.T,A=ee.YI;V.bX.clearRect(0,0,D,B);var s=this.aMm(e);if(P.oi==null||P.oi.s!=D||P.oi.T!=B)P.oi=new ee.ZU(D,B);
if(s){var a=Date.now(),M=navigator.userAgent.toLowerCase();if(M.indexOf("safari")!=-1&&M.indexOf("chrome")==-1){var $=B,U=new Uint8Array(V.bX.getImageData(0,0,D,$).data.buffer);
P.oi.set(U,new kk(0,0,D,$))}else P.oi.set(V.bX.canvas);this.Ga=!0}else if(this.i.pq){if(this.Ga){ee.k$(P.oi);
ee.sm(1);this.Ga=!1}var o=T.tR._l,U=new Uint8Array(e.A.H$.data.buffer);P.oi.set(U,new kk(0,0,o,B));var U=new Uint8Array(e.A.Xm.data.buffer);
P.oi.set(U,new kk(0,0,D,o));var U=new Uint8Array(V.bX.getImageData(0,B-o,D,o).data.buffer);P.oi.set(U,new kk(0,B-o,D,o));
this.Ga=!0}else if(this.Ga){ee.k$(P.oi);ee.sm(1);this.Ga=!1}var t=P.Gb(0,0);if(eL.a0X==null)eL.a0X=new Float32Array(4*1024);
var H=[0,0,0,0],F=eL.a0X;if(e.add.artd){F.fill(0);H=eL.aoQ(e);var X=e.s,K=e.T,G=0;for(var n=0;n<e.Z.length;
n++){var f=e.Z[n],d=f.add.artb;if(d==null||!f.Sw())continue;var L=f.Le();F[i]=L.x/X;F[i+1]=L.y/K;F[i+2]=L.s/X;
F[i+3]=L.T/K;i+=4;if(i==F.length)break}if(i>2*4)G++;if(i>8*4)G++;if(i>32*4)G++;c=eL.aJf[G+1];F=new Float32Array(F.buffer,0,[2,8,32,128][G]*4)}else c=eL.aJf[e.s_?5:0];
var v=e.Rz();if(v==null)c=c[0];else{c=c[1];O=v[e.add.fcmy==1?6:4];x=v[2]}ee.aIA(D,B);ee.sm(0);ee.aIA(D,B);
c.zU();var C=new e5;C.scale(D,B);C.concat(P.VL(!0));C.scale(1/e.s,1/e.T);var S=[C.x6,C.c,0,C.I$,C.at,0,C.yK,C.ww,1];
c.kA(P.oi.nj,e.sg.nj,new Float32Array(S),new Float32Array([D/8,B/8,t.x/D,t.y/B]),e.s,e.T,1/e.A.C7,D,B,new Float32Array(H),F,new Float32Array(T.DB.TL(T.DB.a35(P.Ox))),O,x);
A.drawArrays(A.TRIANGLES,0,6)};eL.aoQ=function(z){return[0,0,0,0]};eL.aCK=function(z){var q=T.Yf.z8(z.v),e=[q.l/255,q.I/255,q.c/255,1];
for(var n=0;n<4;n++)e[n]=Math.min(1,e[n]);return e};eL.E1=function(z,q){var e=z[2]*255;if(ee.$x)e=q?0:Math.max(2,e);
return"rgba("+z[0]*255+","+z[1]*255+","+e+","+z[3]+")"};eL.s9=function(z){var q=z.length;if(ee.$x)for(var n=0;
n<q;n+=4){if(z[n+2]==0)z[n+2]=3}};eL.prototype.aGq=function(){var z=this.Va,q=eL.jO;if(cW==0&&z.buffer==null)return;
var e=z.A,V=e.bX,P=V.s,D=V.T,B=new kk(0,0,z.s,z.T);q.bX.clearRect(0,0,P,D);var A=z.add.prvw==0;if(cW==1&&A){q.bX.fillStyle="white";
q.bX.fillRect(-5e3,-5e3,2e4,2e4)}var s=e.VL(!0),a=s.Y();a.TG();if(cW!=0){}else if(z.add.artd==null){q.bX.save();
var M=a.a0(new f5(0,0));a.translate(-M.x,-M.y);q.bX.translate(Math.round(M.x),Math.round(M.y));q.bX.fillStyle=cW==0?q.gu:"#ffffff";
if(z.s_)q.bX.fillRect(-5e3,-5e3,2e4,2e4);else{this.Bb(T.R.iR(B),a,q.bX);q.bX.fill()}q.bX.restore()}else{q.bX.fillStyle=eL.E1(eL.aoQ(z));
q.bX.fillRect(0,0,P,D);q.bX.save();q.bX.setTransform(a.x6,a.c,a.I$,a.at,a.yK,a.ww);var $=z.root.children;
for(var n=0;n<$.length;n++){var U=$[n].H;if(U.add.artb==null||!U.Sw())continue;var o=U.Le(),t=U.gq();
if(t!=0)continue;q.bX.fillStyle=q.gu;q.bX.save();q.bX.scale(1/e.C7,1/e.C7);q.bX.fillRect(e.C7*o.x,e.C7*o.y,o.s*e.C7,o.T*e.C7);
q.bX.restore()}q.bX.restore()}var a=e.VL(!0);a.TG();if(cW==1){q.bX.save();var c=T.R.iR(e.bX);T.R.v(c.J,e.VL(!0),c.J);
var H=T.R.b_(c.J);q.bX.setTransform(a.x6,a.c,a.I$,a.at,a.yK,a.ww);z.root.gz(z,q.bX,this.i,H);q.bX.restore();
q.bX.save();q.bX.fillStyle="#ffffff";q.bX.globalCompositeOperation="destination-over";var F=z.add.arts;
for(var n=0;n<F.length;n++){var H=T.R.mB(F[n].sI);this.Bb(T.R.iR(H),a,q.bX);if(A)q.bX.stroke();else q.bX.fill()}q.bX.restore()}else if(cW==0){gg.l5(e.bX);
var i=V,X=z.nX;if(X&&X.oq(B))X=null;if(!z.s_){var K=X;if(K==null)K=B;var f=T.R.iR(K).J;T.R.v(f,a,f);
var H=T.R.b_(f);i=V.HX(H)}if(!i.a8()){var d=new Uint8Array(gg.W$.buffer,0,i.D()*4);d.fill(0);var L=z.buffer,G=z.Rz(),x=T.Gx(L),O=T.K8(x);
if(G&&x!=8){L=L.slice(0);for(var n=0;n<L.length;n++)if(L[n]>O)L[n]=O;ICC.U.applyLUT(G[z.add.fcmy==1?5:3],G[2],L,L)}T.scale.qn(L,B,s,d,i,z.s_);
if(G&&x==8){ICC.U.applyLUT(G[z.add.fcmy==1?5:3],G[2],d,d)}if(e.Ox[0]+e.Ox[1]+e.Ox[2]!=3)T.DB.a0q(d,d,T.DB.a35(e.Ox));
if(X)q.aAo.clearRect(i.x,i.y,i.s,i.T);else q.aAo.clearRect(0,0,P,D);q.aAo.putImageData(new ImageData(new Uint8ClampedArray(d.buffer,0,d.length),i.s,i.T),i.x,i.y)}q.bX.drawImage(q.aPy,0,0);
q.bX.getImageData(0,0,1,1)}else if(cW==2){if(z.add.prvw!=1){q.bX.resetTransform();eL.m.a41(z,q.bX,this.i)}else{var v=z.xf(),C=new ToContext2D(q.bX),S=595.44,j=595.44;
q.bX.resetTransform();q.bX.clearRect(0,0,e.bX.s,e.bX.T);q.bX.translate(e.bX.s/2+e.yO.x,e.bX.T/2+e.yO.y);
q.bX.scale(e.Zi,e.Zi);q.bX.translate(-S/2,-j/2);id.lk(v,C,S,gs.vc(z.m.U6,z)/z.m.rU,!0)}}if(cW!=2)this.aMm(z)};
eL.prototype.aMm=function(z){var q=z.A,e=q.Ox[0]+q.Ox[1]+q.Ox[2],V=eL.jO,P=!1,D=[];for(var n=0;n<z.j.length;
n++){var B=z.Z[z.j[n]];if(B==null)continue;var A=B.oT;if(A!=1&&A!=3)continue;var s=A==1?B.OX():B.kL(z).Eo;
if(s.eq)D.push(s)}for(var n=0;n<z.kv.length;n++)if(z.kv[n].eq)D.push(z.kv[n]);for(var n=0;n<D.length;
n++){var s=D[n];this.aHD(s,q,D.length==1&&e==0?2:1,s.color,T.RC(s.go),s.Or/100);P=!0}var a=this.i;P=this.azi(z,V.bX,q,D.length!=0)||P;
if(z.h&&a.s2&&a.Y8.HZ){this.aHD(z.h,q,0,0,0,0);P=!0}return P};eL.prototype.aHD=function(z,q,e,V,P,D){var B=q.VL(!0),A=q.bX,s=new kk(0,0,q.Va.s,q.Va.T),a=eL.jO;
gg.l5(q.bX);gg.Z2.fill(V);gg.W$.fill(0);var M=z.o,$=z.V;T.scale.v(M,$,B,gg.Z2,A);if(e==0){var U=new Uint32Array([4278190080,4294967295]);
eL.s9(new Uint8Array(U.buffer));T.h.a2O(gg.Z2,gg.W$,A,U,J.WU()>1.9)}else{var o=Date.now();T.h.asO(gg.Z2,gg.W$,A,e,P,D);
eL.s9(gg.W$)}var t=new ImageData(new Uint8ClampedArray(gg.W$.buffer),A.s,A.T);a.a07.putImageData(t,0,0);
a.bX.save();if(e!=0){var c=new kk(0,0,s.s,s.T),H=B.Y();H.TG();this.Bb(T.R.iR(c),H,a.bX);a.bX.clip()}a.bX.drawImage(a.acu,0,0);
a.bX.restore()};eL.prototype.azi=function(z,q,e,V){var P=z.X.kf!=null||z.X.NI!=null||z.X.st!=null||z.X.VK!=null||z.X.IY!=null||z.X.P7!=null||z.X.Iu.length!=0||z.X.QZ.length!=0,D=this.i,B=D.Y8,A=bt.Jx[D.na],s=Math.round(12*J.WU()),a=s/z.A.C7,M=e.VL(!0);
M.TG();q.save();q.setTransform(M.x6,M.c,M.I$,M.at,M.yK,M.ww);var $=eL.aoQ(z)[0];$=$<.5?$+.5:$-.5;$=""+Math.round($*255).toString(16);
while($.length<2)$="0"+$;q.font=a+"px sans-serif";if(z.add.artd){q.fillStyle="#"+$+$+$;for(var n=0;n<z.Z.length;
n++){var U=z.Z[n];if(U.add.artb==null||!U.Sw())continue;var o=U.Le();q.save();q.beginPath();q.rect(o.x,o.y-2*a,o.s,2*a);
q.clip();q.fillText(U.getName(),o.x+2,o.y-a*.7);q.beginPath();q.restore();P=!0}}if(z.add.arts&&D.Ai==W.jg){var t=z.add.arts;
for(var n=0;n<t.length;n++){var o=t[n],c=T.R.mB(o.sI),H=(n+1+"").padStart(2,"0");H+=" - "+o.Q7;q.save();
q.beginPath();q.fillStyle=o.j?"#cce6ff":"#dddddd";q.rect(c.x,c.y,q.measureText(H).width+a,a*1.5);q.fill();
q.fillStyle="black";q.fillText(H,c.x+a/2,c.y+a*1.1);q.restore()}P=!0}function F(lg){return lg==1||lg==2||lg==4||lg==5}var i=eL.E1([.3,.5,1,1]),X=eL.E1([1,1,1,1]),K=eL.E1([.7,.7,.7,1]);
if(D.s2&&B.yj){q.fillStyle=q.strokeStyle=i;q.lineWidth=1.5/e.C7;var f=z.Kn(),d=f[0],L=f[1];for(var G=0;
G<L.length;G++){var U=d[L[G]],x=U.add.vmsk,O=x.B,v=T.R.EP(O);this.Bb(v,null,q);q.stroke();P=!0;var C=3*J.WU()/e.C7,S=C*1.5;
for(var n=0;n<x.wi.length;n++){var j=T.S.a7p(O,x.wi[n]);if(j==null)continue;var w=j.x,u=j.y;q.beginPath();
var l=n==0;if(x.dX)l=!l;if(l){q.moveTo(w-S,u-S);q.lineTo(w+S,u+S);q.moveTo(w-S,u+S);q.lineTo(w+S,u-S);
q.stroke()}else{q.arc(w,u,S,0,2*Math.PI);q.save();q.globalCompositeOperation="destination-out";q.fill();
q.restore();q.stroke()}P=!0}if(z.j.length!=1)continue;var I=-1,Q=-1,b=-1;for(var n=0;n<O.length;n++){if(O[n].e>5)continue;
if(O[n].e==0||O[n].e==3){Q=n+1;b=O[n].length;if(O[n].xq!=-1)I++;continue}if(x.j.indexOf(I)!=-1){var w=O[n].O0.x,u=O[n].O0.y;
q.fillRect(w-C*.8,u-C*.8,2*C*.8,2*C*.8)}if(x.V3.indexOf(n)!=-1){var p=O[n],k=[p.O0];q.beginPath();q.moveTo(p.li.x,p.li.y);
q.lineTo(p.O0.x,p.O0.y);q.lineTo(p.kS.x,p.kS.y);var g=Q+(n+b-Q-1)%b,Y=Q+(n+b-Q+1)%b,R=O[g],m=O[Y];if(R&&F(R.e)&&x.V3.indexOf(g)==-1){q.moveTo(R.O0.x,R.O0.y);
q.lineTo(R.kS.x,R.kS.y);k.push(R.kS)}if(m&&F(m.e)&&x.V3.indexOf(Y)==-1){q.moveTo(m.O0.x,m.O0.y);q.lineTo(m.li.x,m.li.y);
k.push(m.li)}q.stroke();if(!p.O0.bs(p.li))k.push(p.li);if(!p.O0.bs(p.kS))k.push(p.kS);for(var Z=0;Z<k.length;
Z++){var j=k[Z],w=j.x,u=j.y;if(Z==0&&(p.e==2||p.e==5))q.fillRect(w-1.2*C,u-1.2*C,2.4*C,2.4*C);else{q.beginPath();
q.arc(w,u,C*1.2,0,2*Math.PI);q.fill();if(Z!=0)q.fillStyle=X;q.beginPath();q.arc(w,u,C*.8,0,2*Math.PI);
q.fill();q.fillStyle=i}}}P=!0}}if(z.Fi!=-1&&[W.YO,W.zZ,W.bx].indexOf(D.Ai)!=-1){var U=z.yj[z.Fi],x=U.add.vmsk,O=x.B,v=T.R.EP(O);
this.Bb(v,null,q);q.stroke();P=!0}}q.lineWidth=1/e.C7;if(z.X.Hg){q.fillStyle=q.strokeStyle=i;var m={J:[],_:[]},E=eL.aNW;
if(E==null){E=eL.aNW={J:[1,0],_:["M"]};for(var n=1;n<30;n++){var N=Math.PI*2*n/30;E.J.push(Math.cos(N),Math.sin(N));
E._.push("L")}E._.push("Z","M","L","M","L");E.J.push(-.5,0,.5,0,0,-.5,0,.5)}for(var n=0;n<z.X.Hg.length;
n++){var R=W.IQ.amH(z.X.Hg[n],e),h=new e5(R[0],0,0,R[0],R[1],R[2]);T.R.concat(m,E,h)}this.Bb(m,null,q);
q.stroke();P=!0}var j5=new e5(1,0,0,1,.5/e.C7,.5/e.C7);if(z.s_){q.fillStyle=q.strokeStyle=i;var m={J:[0,0,z.s,0,z.s,z.T,0,z.T],_:["M","L","L","L","Z"]};
this.Bb(m,j5,q);q.stroke();P=!0}if(z.X.Fl){q.fillStyle=q.strokeStyle=eL.E1([0,0,0,.5]);this.Bb(z.X.Fl,null,q,!0);
q.fill("evenodd")}q.strokeStyle=i;q.fillStyle=X;if(z.X.st){this.Bb(z.X.st,j5,q);q.stroke()}if(z.X.IY){this.Bb(z.X.IY,j5,q);
q.lineWidth=J.WU()*3.5/e.C7;q.stroke()}var r=eL.aFS(z.X.uX,q,e);q.fill();q.stroke();P=P||r;q.fillStyle=q.strokeStyle=eL.E1([0,0,0,ee.$x&&cW==0?1:.5],!0);
if(z.X.kf){this.Bb(z.X.kf,null,q);q.fill()}if(z.X.NI){this.Bb(z.X.NI,j5,q);q.stroke()}for(var l8 in z.X.fD)if(z.X.fD[l8].NI){this.Bb(z.X.fD[l8].NI,null,q);
q.stroke();P=!0}var r=eL.aFS(z.X.Bj,q,e);q.stroke();P=P||r;if(z.X.VK){this.Bb(z.X.VK,j5,q);q.strokeStyle="rgba(0,0,0,0.5)";
q.lineWidth=J.WU()*2.5/e.C7;q.stroke();q.strokeStyle="white";q.lineWidth=J.WU()*2/e.C7;q.stroke()}if(z.X.cU.length+z.X.EO.length+z.X.y6.length!=0){P=!0;
q.fillStyle=X;eL.y9(z.X.cU,q,e,6);q.fill();eL.y9(z.X.EO,q,e,6);q.fill();q.fillStyle=i;eL.y9(z.X.cU,q,e,4);
q.fill();eL.y9(z.X.y6,q,e,4);q.fill();q.fillStyle=K;eL.y9(z.X.EO,q,e,4);q.fill()}if(z.X.Iu.length!=0){for(var n=0;
n<z.X.Iu.length;n++){var aP=z.X.Iu[n],bS=aP[1],kR;if(V){kR=q.getImageData(bS.x,bS.y,bS.s,bS.T);T.w.Mt("norm",aP[0],bS,new Uint8Array(kR.data.buffer),bS,bS,1)}else kR=new ImageData(new Uint8ClampedArray(aP[0].buffer),bS.s,bS.T);
q.putImageData(kR,bS.x,bS.y)}}var j1=.5/e.C7;q.lineWidth=1/e.C7;if(z.X.bG){P=!0;var f6=z.X.bG,gx=f6.mP,v={_:[],J:[]};
for(var n=0;n<f6.N3.length;n++)T.R.concat(v,T.R.iR(f6.N3[n]));v.J=v.J.concat(gx);for(var n=0;n<gx.length;
n+=4){v._.push("M","L")}for(var n=0;n<v.J.length;n++){v.J[n]+=j1}q.strokeStyle=eL.E1([.9,.2,.2,1]);this.Bb(v,null,q);
q.stroke();var lC=J.WU(),g2=2/e.C7;q.font=a*.9+"px sans-serif";for(var n=0;n<gx.length;n+=4){var w=gx[n],u=gx[n+1],dv=gx[n+2],bv=gx[n+3],eo=Math.sqrt((bv-u)*(bv-u)+(dv-w)*(dv-w));
eo=T.tR.Xw(eo,z.do,D,u==bv?z.s:z.T);var aL=new f5((w+dv)/2,(u+bv)/2);q.fillStyle=eL.E1([.9,.2,.2,1]);
var dh=q.measureText(eo).width;q.fillRect(aL.x-dh/2-g2*lC,aL.y-3.5*g2*lC,dh+2*g2*lC,7*g2*lC);q.fillStyle=eL.E1([1,1,1,1]);
q.save();q.translate(aL.x-dh/2,aL.y+2*g2*lC);q.scale(.1,.1);q.font=a*9+"px sans-serif";q.fillText(eo,0,0);
q.restore()}}if(D.s2){if(B.OV&&z.A.C7>10&&cW==0){this.w$(z,q,1,1,.25,B.Qm,16777215);P=!0}if(B.l0){var eM=T.tR.rp(B.kV,z.do,z.s,B.Uu),kg=B.AG==0?eM:T.tR.rp(B.AG,z.do,z.s,B.Uu);
if(B.Uu==4)kg*=z.T/z.s;this.w$(z,q,eM,kg,1,B.Qm,B.iS,z.A.Gq);P=!0;if(B.fB!=1){q.save();q.setLineDash([1/z.A.C7,1/z.A.C7]);
this.w$(z,q,eM/B.fB,kg/B.fB,1,B.Qm,B.iS,z.A.Gq);q.restore()}}if(B.r3){var jJ=z.Il(),iL=z.PM(),bz=Math.max(z.A.bX.s,z.A.bX.T)/z.A.C7;
bz=Math.max(Math.max(z.s,z.T)*2,bz);for(var n=0;n<jJ[0].length;n++){var ks=jJ[0][n],gr=jJ[1][n];if(gr!=-1&&gr!=iL)continue;
var hg=e.Gb(ks[1],ks[1]),ci=e.UK(Math.floor(hg.x)+.5,Math.floor(hg.y)+.5),fK=T.H_(gr==-1?B.C$:B.hT);
fK=[fK.l/255,fK.I/255,fK.c/255,1];q.beginPath();q.strokeStyle=eL.E1(fK);if(ks[0]==0){var jN=ci.x;q.moveTo(jN,-bz);
q.lineTo(jN,bz)}else{var eF=ci.x;q.moveTo(-bz,eF);q.lineTo(bz,eF)}q.stroke();P=!0}}var io=z.EC;if(io.length>0&&D.Ai==W._q){var bS=7/z.A.C7,la=bS/3,e9=bS*4;
q.strokeStyle=q.fillStyle="black";for(var n=0;n<io.length;n++){var gM=io[n];q.fillRect(gM.x-.5*la,gM.y-.5*e9,la,e9);
q.fillRect(gM.x-.5*e9,gM.y-.5*la,e9,la);q.lineWidth=2.5/z.A.C7;q.beginPath();q.arc(gM.x,gM.y,bS,0,2*Math.PI);
q.stroke();q.font=1.9*bS+"px serif";q.lineWidth=1.25/z.A.C7;q.strokeText(""+(n+1),gM.x+.75*bS,gM.y+2.5*bS)}P=!0}var j7=z.tQ;
if(B.tQ&&j7.length!=0){q.font=a*.8+"px sans-serif";var cI=[],dL=[];for(var n=0;n<j7.length;n++){var jA=W.zL.xl(j7,n);
cI.push(jA);if(z.gH.indexOf(n)!=-1)dL.push(jA)}cI.reverse();var gI=Date.now();cI=T.V.aF6([0,0,z.s,z.T],cI);
for(var Z=0;Z<2;Z++)for(var n=0;n<cI.length;n++){var a7=cI[n],I=a7[4],b=I!=null?j7[I]:null;if(b&&Z==0||b==null&&Z==1)continue;
var w=Math.round(a7[0]),u=Math.round(a7[1]),dv=Math.round(a7[2]),bv=Math.round(a7[3]);q.strokeStyle=q.fillStyle=eL.E1(b?[0,.7,.7,1]:[.8,.8,.8,1]);
q.strokeRect(w+j1,u+j1,dv-w,bv-u);var k6=n+1,fv=q.measureText(k6),dh=fv.width;q.fillRect(w,u,dh+a/2,a);
q.fillStyle=eL.E1([1,1,1,1]);q.fillText(k6,w+a/4,u+a*.8)}var g2=2/z.A.C7,fq=2*g2;for(var n=0;n<dL.length;
n++){var a7=dL[n],w=Math.round(a7[0]),u=Math.round(a7[1]),dv=Math.round(a7[2]),bv=Math.round(a7[3]);
q.strokeStyle=q.fillStyle=eL.E1([1,.6,0,1]);q.strokeRect(w+j1,u+j1,dv-w,bv-u);var cu=[w,u,dv,u,dv,bv,w,bv];
for(var ac=0;ac<cu.length;ac+=2){var jN=cu[ac],eF=cu[ac+1],hN=cu[ac+2&7],cQ=cu[ac+3&7];q.fillRect(jN-g2,eF-g2,fq,fq);
q.fillRect(Math.round((jN+hN)/2)-g2,Math.round((eF+cQ)/2)-g2,fq,fq)}}P=!0}var d_=z.add.Anno;if(d_&&d_.length!=0)for(var n=0;
n<d_.length;n++){var cK=d_[n],fK=cK[2],jN=cK[0]-j1,eF=cK[1]-j1,fq=30/e.Zi,cc=.4*fq,aH=.6*fq;q.beginPath();
q.moveTo(jN,eF+aH);q.lineTo(jN,eF);q.lineTo(jN+fq,eF);q.lineTo(jN+fq,eF+fq);q.lineTo(jN+cc,eF+fq);q.closePath();
q.lineTo(jN+cc,eF+aH);q.lineTo(jN+cc,eF+fq);if(n==z.A.TU){q.lineWidth*=5;q.strokeStyle=eL.E1([0,0,0,.5]);
q.stroke();q.lineWidth/=5}q.fillStyle=eL.E1([fK.l/255,fK.I/255,fK.c/255,1]);q.fill();q.strokeStyle=eL.E1([0,0,0,1]);
q.stroke()}}q.strokeStyle=eL.E1([1,0,0,1]);if(z.X.P7){this.Bb(z.X.P7,j5,q);q.stroke()}q.restore();if(D.pq){var e=z.A;
if(e.Xm==null||e.Xm.width!=e.bX.s||e.H$.height!=e.bX.T){e.Xm=new ImageData(e.bX.s,T.tR._l);e.H$=new ImageData(T.tR._l,e.bX.T)}var A=bt.Jx[D.na],jj=e.Gq.x,iG=e.Gq.y,hc=z.s,kD=z.T;
if(z.PM()!=-1){var o=z.Z[z.PM()].Le();jj=o.x;iG=o.y;hc=o.s;kD=o.T}jj*=e.C7;iG*=e.C7;var l2=[1,z.do,z.do/2.54,z.do/25.4,hc/100][B.oZ],fZ=e.C7*z.s/2,g5=e.C7*z.T/2,d4=[e.C7*l2,new f5(e.g.x+(jj+fZ*l2-fZ),e.g.y+(iG+g5*l2-g5))];
if(B.oZ==4)l2*=kD/hc;var hx=[e.C7*l2,new f5(e.g.x+(jj+fZ*l2-fZ),e.g.y+(iG+g5*l2-g5))],hJ=this.RR.GC;
T.tR.a5N(e,A["--text-color"],A["--bg-input"],Math.floor(hJ.x),Math.floor(hJ.y),d4,hx,B.oZ==1?8:10);var gU=hX.aIz(e.C7,eL.E1([1,1,1,1]),z.s+" \xD7 "+z.T);
eL.s9(e.H$.data);eL.s9(e.Xm.data);q.putImageData(e.H$,0,0);q.putImageData(e.Xm,0,0);q.putImageData(gU,0,e.bX.T-gU.height)}if(z.X.QZ.length!=0){for(var n=0;
n<z.X.QZ.length;n++){var aP=z.X.QZ[n],bS=aP[1];q.putImageData(new ImageData(new Uint8ClampedArray(aP[0].buffer),bS.s,bS.T),bS.x,bS.y)}}return P};
eL.prototype.w$=function(z,q,e,V,P,D,B,A){if(A==null)A=new f5(0,0);while(e*z.A.C7<4){e*=2;V*=2}var s=z.s,a=z.T,M=.5/z.A.C7;
B=T.H_(B);q.strokeStyle=eL.E1([B.l/255,B.I/255,B.c/255,P],!1);q.save();q.rect(0,0,s,a);q.clip();q.beginPath();
var $=A.x%e,U=A.y%V;for(var o=0;o<=s;o+=e){q.moveTo(o+$+M,0);q.lineTo(o+$+M,a)}if(D==0){for(var t=0;
t<=a;t+=V){q.moveTo(0,t+U+M);q.lineTo(s,t+U+M)}}else{V*=Math.sqrt(4/3);var c=V*Math.floor(s/V),H=s*(V/(2*e));
for(var t=-c;t<=a+c;t+=V){q.moveTo(0,t);q.lineTo(s,t-H);q.moveTo(0,t);q.lineTo(s,t+H)}}q.stroke();q.restore()};
eL.y9=function(z,q,e,V){q.beginPath();var P=V*J.WU()/e.C7,D=!1;for(var n=0;n<z.length;n+=2){D=!0;var B=z[n],A=z[n+1];
q.moveTo(B+P,A);q.arc(B,A,P,0,2*Math.PI)}return D};eL.aFS=function(z,q,e,V){q.beginPath();var P=(V?V:1)*(4*J.WU()+.5)/e.C7,D=!1;
for(var n=0;n<z.length;n+=2){D=!0;var B=z[n],A=z[n+1];q.rect(B-P,A-P,2*P,2*P)}return D};eL.UQ=function(z,q,e,V){e.beginPath();
if(V)e.rect(-1e5,-1e5,1e6,1e6);var P=z;if(q){P=T.R.Y(z);T.R.v(P.J,q,P.J)}Typr.U.pathToContext({cmds:P._,crds:P.J},e)};
eL.prototype.Bb=eL.UQ;eL.iT=function(z,q,e){ee.Qd.call(this);var V=this.aOJ=q!=0,P=e?"true":"in01(sCoord)",D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D over;\t\t\tuniform sampler2D image;\t\t\t"+(z?"uniform sampler2D lut;  uniform float N;  "+ee.Po.aFB:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(V?"uniform vec4 bgClr;  uniform vec4 ars["+q+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+ee.Po.j8+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(over , tCoord); \t\t\t\tvec4 tgt = min(vec4(1,1,1,1),texture2D(image, sCoord"+(e?"-floor(sCoord)":"")+")); \t\t\t\t"+(z?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(V?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+q+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+P+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+P+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",B="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.zc(D,B)};eL.iT.prototype=new ee.Qd;eL.iT.prototype.kA=function(z,q,e,V,P,D,B,A,s,a,M,$,U,o){this.sS("tmat gsize over image lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var t=ee.YI,c=this.dO;t.uniformMatrix3fv(c.tmat,!1,e);t.uniform4fv(c.gsize,V);t.uniform3f(c.contSizeZoom,P,D,B);
t.uniform2f(c.cnvSize,A,s);t.uniformMatrix4fv(c.ctrn,!1,$);if(this.aOJ){t.uniform4fv(c.ars,M);t.uniform4fv(c.bgClr,a)}t.uniform1i(c.over,0);
t.uniform1i(c.image,1);t.activeTexture(t.TEXTURE0);t.bindTexture(t.TEXTURE_2D,z);t.activeTexture(t.TEXTURE1);
t.bindTexture(t.TEXTURE_2D,q);if(U){t.uniform1f(c.N,o);t.uniform1i(c.lut,2);t.activeTexture(t.TEXTURE2);
t.bindTexture(t.TEXTURE_2D,U.nj);var H=t.LINEAR;t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,H);
t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,H)}t.activeTexture(t.TEXTURE0)};eL.m={};eL.m=function(){var z=100,q=100,e=.5,V=200,P=100;
function D($,U,o){var t=U.canvas.width,c=U.canvas.height,H=50*J.WU();z=t*.5;M(U,$,H,!1);s($,U,!1,o);
A($.root,$,U);M(U,$,H,!0);s($,U,!0,o)}var B={};function A($,U,o){var t=$.H,c=$.children;if(!t.Sw())return;
var H=o.canvas.width,F=o.canvas.height;if(t.YZ())for(var n=0;n<c.length;n++)A(c[n],U,o);else if(t.m){var H=o.canvas.width,F=o.canvas.height,i=Math.round(J.WU()*V/12)*U.A.Zi,X=U.A.Zi,K=X*(P*J.WU())/U.m.rU,f=U.A.yO.x+z,d=U.A.yO.y+F*e,L=t.m.list,G=t.m.Aa;
if(U.j.length==1&&U.j[0]==$.index){o.fillStyle="white";o.beginPath();for(var n=0;n<t.m.j.length;n++){var x=L[t.m.j[n]],O=f+x[0]*K,v=x[1]*K;
if(O+v<0)continue;if(H<O)break;var C=C=d+4*12*i-(x[2]-12)*i,S=2*X;o.roundRect(O-S,C-i*.05+S,v-i*.05+2*S,-(i*.9)-2*S,i*.25+S)}o.fill()}var j=[],w=[];
o.fillStyle=cv.z0(G);o.beginPath();for(var n=0;n<L.length;n++){var x=L[n],O=f+x[0]*K,v=x[1]*K,C=d+4*12*i-(x[2]-12)*i;
if(O+v<0||C<0||C-i>F)continue;if(H<O)break;if(v*4>i)o.roundRect(O,C-i*.05,v-i*.05,-(i*.9),i*.25);else o.rect(O,C-i*.05,v-i*.05,-(i*.9));
if(U.m.MU&&O<H/2&&H/2<O+v)w.push(C-i/2,(H/2-O)/v);if(X>.6&&G!=200&&v*2>i){var u="";if(G==300)u=x[3];
else if(G==500)u=Math.round(x[3])+" bpm";else if(G==501)u=x[3][0]+" / "+x[3][1];else u=gs.axU[x[2]%12];
j.push(u,O+i*.2,C-i*.25,0)}}o.fill();o.beginPath();o.font=" "+i*.7+"px sans-serif";o.fillStyle="rgba(0,0,0,1)";
for(var n=0;n<j.length;n+=4)o.fillText(j[n],j[n+1],j[n+2])}}function s($,U,o,t){U.strokeStyle="rgba(255,255,255,0.2)";
U.lineWidth=1/J.WU();var c=U.canvas.width,H=U.canvas.height,F=$.A.Zi,i=F*(P*J.WU())/$.m.rU,X=$.A.yO.x+z,K=J.WU()*16,L=0,G=0,x=0;
if(o){var f=bt.Jx[t.na];U.fillStyle="#"+T.R0(f["--bg-input"]);U.fillRect(0,0,c,K);U.fillRect(0,H-K,c,K);
U.fillStyle="#"+T.R0(f["--text-color"]);U.font=K*.7+"px sans-serif"}var d=gs.UG($);for(var O=0;O<1e3;
O++){var v=O*$.m.rU;while(L+1!=d.length&&v>=d[L+1][0]){G=O;L++}var C=d[L][3];C=[Math.round(C[0]*4/C[1]),4];
var S=(O-G)%C[0]==0;if(S)x++;var j=Math.floor(X+v*i)+.5;if(j<0||c<j)continue;if(!S&&(o||F<.05))continue;
U.beginPath();U.strokeStyle="rgba(255,255,255,"+(S?.3:.15)+")";U.moveTo(j,0);if(o){U.lineTo(j,K);U.moveTo(j,H-K)}U.lineTo(j,H);
U.stroke();if(o){U.fillText(""+x,j+K*.4,K*.7);var w=gs.TR(v,$).toFixed(1),u=Math.floor(w/60),l=Math.floor(w-u*60),I=Math.floor((w-u*60-l)*100);
if(l==0)l="00";else if(l<10)l="0"+l;if(I==0)I="00";else if(I<10)I="0"+I;U.fillText((u=="00"?"":u+":")+l+"."+I,j+K*.4,H-K+K*.7)}}if(o){U.beginPath();
U.strokeStyle="green";U.moveTo(c/2,0);U.lineTo(c/2,$.m.MU?5e3:K);U.stroke();U.beginPath()}var u=$.A.DH();
u.TG();if($.X.NI){U.strokeStyle="white";U.beginPath();a($.X.NI,u,U);U.stroke()}}function a($,U,o){if(U){$=T.R.Y($);
T.R.v($.J,U,$.J)}Typr.U.pathToContext({cmds:$._,crds:$.J},o)}function M($,U,o,t){var c=$.canvas.width,H=$.canvas.height,F=U.j.length==1?U.Z[U.j[0]].m:null,i=F&&F.Aa==200,X=U.A.Zi,K=Math.round(J.WU()*V/12)*X,f=H*e+4*12*K+U.A.yO.y;
if(t){}else{$.fillStyle="#25262d";$.fillRect(0,0,c,H)}$.save();$.translate(0,f);var d="C C# D D# E F F# G G# A A# B".split(" ");
$.strokeStyle="rgba(0,0,0,0.3)";$.font="bold "+Math.min(K*.7,13*J.WU())+"px sans-serif";for(var n=0;
n<108;n++){var L=n%12,G=Math.floor(n/12),x=d[L],O=x.length==2,v=-n*K;if(t){if(i){$.fillStyle="white";
$.rect(-50,v-K+K*.03,50+o*2.5,K*.94,3*X);$.fill();$.fillStyle="black";if(27<=n+12&&n+12<=87)$.fillText(MIDDB.drums[n+12],7,v-K+K*.8)}else{$.fillStyle=O?"black":"white";
if(O)$.roundRect(-50,v-K+K*.03,50+o*.6,K*.94,3*X);else if(L==0){var C=0;for(var S=0;S<7;S++){var j=S<3?K*5/3:K*7/4;
C+=j;$.roundRect(-50,v-C+j*.03,50+o,j*.94,3*X)}}$.fill();$.fillStyle="black";if(L==0)$.fillText("C"+G,o-K,v-K*.63)}if(F&&F.j.length<=8){var w=!1;
for(var S=0;S<F.j.length;S++){var u=F.list[F.j[S]];if(u[2]==n+12)w=!0}if(w){$.fillStyle="red";$.fillRect(3,v-K/2-3,6,6)}}}else{if(O){$.fillStyle="rgba(0,0,0,0.15)";
$.fillRect(o,v-K,c,K)}if(L==0||L==5){var l=Math.round(v)+.5;$.strokeStyle="rgba(255,255,255,0.25)";$.moveTo(o,l);
$.lineTo(c,l);$.stroke()}}$.beginPath()}$.restore()}return{a41:D}}();function bs(){dJ.call(this,[9,7],!1,"---panels/layercomps",dJ.Qf.aqE);
J.C(this.yH,"min-width:240px;");this.Va=null;this.Bw=-1;this.Gz=[];this.fz=J.k("div","scrollable");this.fz.style.height="160px";
this.yH.appendChild(this.fz);this.UZ=J.k("div","lpfoot");this.yH.appendChild(this.UZ);this.C_=[];var z=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],q=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var n=0;n<z.length;n++){var e=z[n];if(n>0)e="<img src=\""+PIMG[z[n]]+"\" class=\"miniscale gsicon\" />";
var V=new ht(e,!1,q[n]);V.Q("click",this.aJz,this);this.UZ.appendChild(V.$);this.C_.push(V)}}bs.prototype=new dJ("");
bs.prototype.hh=function(z,q){J.C(this.yH,"width:"+(z-2)+"px;");this.fz.style.height=q-28+"px"};bs.prototype.ic=function(z){var q=new dW(_.E.z,!0);
q.data=z;q.U=W.Ao;this.K(q)};bs.aIH="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
bs.prototype.aJz=function(z){var n=this.C_.indexOf(z.currentTarget)-1;if(n==-1){var q=new dW(_.E.b,!0);
q.data={p:_.m.Lo,u5:bs.aIH};this.K(q);return}if(n!=1)if(this.Bw==-1)return;this.ic({p:["updLC","addLC","delLC"][n],XW:this.Bw});
if(n==2)this.Bw=-1};bs.prototype.W=function(){dJ.prototype.W.call(this);for(var n=0;n<this.C_.length;
n++)this.C_[n].W()};bs.prototype.N_=function(z){if(z==null)J.d6(this.yH,"disabled");else J.Pf(this.yH,"disabled");
this.Va=z;J._8(this.fz);if(z==null)return;var q=z.jA.lastAppliedComp?z.jA.lastAppliedComp.v:0,e=z.jA.list.v.slice(0);
e.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var n=0;n<e.length;
n++){var V=e[n].v,P=new dI(V.Nm.v,V.compID.v,V.capturedInfo.v,q,this.Bw);P.Q("activate",this.m2,this);
P.parent=this;this.fz.appendChild(P.$);this.Gz.push(P)}};bs.prototype.m2=function(z){this.Bw=z.currentTarget.XW;
this.N_(this.Va)};function dI(z,n,q,e,V){gq.call(this);this.XW=n;this.$=J.k("div","head listitem"+(n==V?" selected":""));
var P=n==e,D=new ht(P?"\u2713":"\u2014");if(P)D.IM();this.$.appendChild(D.$);D.Q("click",this.KF,this);
var B=this.D7=J.k("span");B.textContent=z;this.$.appendChild(B);this.C_=[];if(n!=0){this.$.addEventListener("mouseup",this.m2.bind(this),!1);
this.fn=J.k("span","headR");this.$.appendChild(this.fn);var A=["lrs/eye","pos","lrs/fx"],s=["Visibility","Position","Appearance"];
for(var a=0;a<A.length;a++){var M=new ht("<img src=\""+PIMG[A[a]]+"\" class=\"autoscale gsicon\" />",!1,s[a]);
if((q>>a&1)==0)J.C(M.$,"opacity:0.3");M.Q("click",this.a3d,this);this.fn.appendChild(M.$);this.C_.push(M)}}}dI.prototype=new gq;
dI.prototype.m2=function(z){if(z.target!=this.D7&&z.target!=this.$)return;if(z.detail==1)this.K(new dW("activate",!1));
else{var q=new dJ.eG(this.D7,this.RO.bind(this))}};dI.prototype.a3d=function(z){var n=this.C_.indexOf(z.currentTarget);
this.ic({p:"editLC",azq:n,XW:this.XW})};dI.prototype.RO=function(z){this.ic({p:"editLC",WB:z,XW:this.XW})};
dI.prototype.KF=function(z){this.ic({p:"setLC",XW:this.XW})};dI.prototype.ic=function(z){var q=new dW(_.E.z,!0);
q.data=z;q.U=W.Ao;this.K(q)};function hP(){dJ.call(this,[9,11],!1,"---panels/navigator",dJ.Qf.aqT);var z=this.yH;
J.d6(z,"padded");J.C(z,"cursor:grab;");this.TX=J.k("canvas");z.appendChild(this.TX);J.f9(z);J.sB(this.TX);
J.Br(this.TX,this.SA.bind(this));var q=J.k("div","form label6");z.appendChild(q);this.vE=new hH([8,0],2,6400,"%",null,!0);
this.vE.Q(_.E.f,this.aFo,this);q.appendChild(this.vE.$);this.Ve=new hH([12,15],-180,180,"\xB0");this.Ve.Q(_.E.f,this.aFo,this);
q.appendChild(this.Ve.$);this.afw=this.M$.bind(this);this.a1X=this.ls.bind(this);this.VY=null;this.a6o=null;
this.j9=!1}hP.prototype=new dJ("");hP.prototype.hh=function(z,q){this.xL=z*1.2;this.Hi=q*1.2;this.LE()};
hP.prototype.aFo=function(z){var q=this.vE.r(),e=this.VY,V=q/100;if(.8<V&&V<1.2)V=1;else if(1.8<V)V=Math.round(V);
e.A.gV=this.Ve.r()*Math.PI/180;var P=new dW(_.E.z,!0);P.U=W.OF;P.data={p:"zoom",C7:V};this.K(P)};hP.prototype.SA=function(z){var q=this.VY;
if(q==null)return;this.j9=!0;J.rq(window,this.afw);J.KE(window,this.a1X)};hP.prototype.M$=function(z){var q=J.fH(z,this.TX),e=this.VY,V=e.A,P=this.TX.width,D=this.TX.height,B=e.s*(q.x*J.WU()-P/2)/P,A=e.T*(q.y*J.WU()-D/2)/D,s=Math.sin(V.gV),a=Math.cos(V.gV),M=Math.round(-V.C7*(a*B-s*A)),$=Math.round(-V.C7*(s*B+a*A));
W.fp.ct(e,M,$)};hP.prototype.ls=function(z){J.TT(window,this.afw);J.N$(window,this.a1X);this.j9=!1};
hP.prototype.N_=function(z){if(z==null&&this.VY!=null)this.TX.width=100;this.VY=z;this.LE()};hP.prototype.aOi=function(){var z=this.VY,q=J.WU(),e=W.jH.nQ(z.s,z.T,q*(this.xL-10),q*(this.Hi-36)),V=T.aFp(z.tW(),new kk(0,0,z.s,z.T),e);
this.a6o=[V.Dm,V.V]};hP.prototype.LE=function(){var z=this.VY;if(z==null||z.A.C7==0)return;var q=z.A;
if(!J.H2(this.yH)||this.xL==0)return;this.vE.a(q.C7*100);var e=q.gV*180/Math.PI;e=(36e5+180+e)%360-180;
this.Ve.a(e);if(!this.j9)this.aOi();var V=this.a6o[0],P=this.a6o[1],D=P.s,B=P.T,A=this.TX;A.width=D;
A.height=B;J.Ux(A,D,B);var s=this.yH;s.style.width=this.TX.style.width+12+"px";var a=A.getContext("2d"),M=new ImageData(D,B);
T.Yh(V,M.data);a.putImageData(M,0,0);a.getImageData(0,0,1,1);var $=D/z.s;a.scale($,$);a.lineWidth=4/$;
a.strokeStyle="#ff0000";var U=q.bX,o=T.R.iR(U).J;T.R.v(o,q.VL(),o);a.moveTo(o[0],o[1]);for(var n=0;n<4;
n++)a.lineTo(o[n*2],o[n*2+1]);a.closePath();a.stroke()};hP.prototype.K5=function(z,q){};hP.prototype.W=function(){dJ.prototype.W.call(this);
this.vE.W();this.Ve.W()};hP.prototype.ai=function(){this.LE()};function j$(z,q){dJ.call(this,z.name,!1,z.icon,q);
this.Zw=z}j$.prototype=new dJ("");j$.prototype.fk=function(){var z=this.yH,q=this.Zw;if(!J.H2(z)||this.fX)return;
var e=this.fX=J.k("iframe");e.setAttribute("src",q.url);this.yH.appendChild(e)};j$.prototype.ai=j$.prototype.N_=function(){this.fk()};
j$.prototype.nf=function(z){if(J.H2(this.fX))this.fX.contentWindow.postMessage(z,"*")};j$.prototype.hh=function(z,q,e){if(this.fX==null)return;
var V=this.Zw;if(V.url.indexOf("peasmaker")!=-1&&window.innerWidth>500)z=Math.max(z,Math.min(700,window.innerWidth-320));
if(e){V.w=z;V.h=q}if(V.w)z=Math.min(V.w,window.innerWidth-40);if(V.h)q=Math.min(V.h,window.innerHeight-50);
J.C(this.fX,"width:"+z+"px; height:"+q+"px")};function eS(){dJ.call(this,[9,12],!1,"---panels/tpreset",dJ.Qf.$O);
this.i=null;this.al=new fQ(W.YO);this.al.parent=this;var z=J.k("div","padded");J.C(z,"width:20em");this.yH.appendChild(z);
z.appendChild(this.al.TY)}eS.prototype=new dJ("");eS.prototype.ai=function(){this.al.zT(this.i.ZV)};
eS.prototype.K5=function(z,q){this.i=z;if(q==cR.zu||q==cR.$O)this.al.zT(z.ZV)};eS.prototype.hh=function(z,q){this.al.aNG(this.i.Ai)};
eS.prototype.W=function(){dJ.prototype.W.call(this);this.al.W()};var jp=function(){var z=[],q=null,e=null,V=null,P=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function D(){dJ.call(this,"Memory",!1,null,dJ.Qf.a4w);var t=J.k("div","padded");this.yH.appendChild(t);
e=new ht(["<< VAR0",[0,13,2]],!1,null,!0);e.addEventListener("click",function(c){z.pop();A()});t.appendChild(e.$);
q=J.k("div","scrollable");J.C(q,"width:20em;  height:26em; margin-top:8px;");t.appendChild(q)}D.prototype=new dJ("");
D.prototype.N_=function(t,c,H){V=c;this.ai()};D.prototype.ai=function(){e._w(!1);if(!J.H2(q))return;
var t={Q7:"Total:",BK:[]},c=V.nk;for(var n=0;n<c.length;n++)t.BK.push(a(c[n]));if(b8!=null){var H=b8.D5,F=[],i={Q7:"Blending Buffers",BK:F};
t.BK.push(i);for(var X in H){var K=X.split("x"),f=parseInt(K[0]),d=parseInt(K[1]),L=H[X],G=0;for(var n=0;
n<L.length;n++)G+=f*d*4*(L[n][3]>>>3);F.push({Q7:L.length+"\xD7 "+f+" \xD7 "+d+" px",gU:ee.$x?[0,G]:[G,0]})}$(i)}var x=gg;
if(x.W$)t.BK.push({Q7:"View Buffers",gU:[x.W$.length+x.Z2.length,0]});$(t);z=[t];A()};D.prototype.W=function(){dJ.prototype.W.call(this);
e.W()};function B(t){var c=t.currentTarget,n=0;while((c=c.previousSibling)!=null)n++;z.push(z[z.length-1].BK[n-1]);
A()}function A(){e._w(z.length>1);var t=z[z.length-1];J._8(q);s(t,q,0);t.BK.sort(function(c,H){return H.gU[0]-c.gU[0]});
for(var n=0;n<t.BK.length;n++)s(t.BK[n],q,1)}function s(t,c,H){var F=c2._M,i=H!=0&&t.BK,X="margin-left:"+H*10+"px; margin-bottom:8px; padding:3px 5px;";
if(i)X+="cursor:pointer;";if(t.DO!=null)X+="background-color:rgba("+P[t.DO].join(",")+",0.2);";var K=J.k("div");
c.appendChild(K);J.C(K,X);K.innerHTML=J.S8(t.Q7)+"<br />"+"RAM: <b>"+F(t.gU[0])+"</b>\u2001GPU: <b>"+F(t.gU[1])+"</b>";
if(i)K.addEventListener("click",B,!1)}function a(t){var c={Q7:t.name,BK:[],DO:0},H=ee.$x?1:0,F=1-H,i=t.depth>>>3,X={Q7:"History",BK:[],DO:5};
c.BK.push(X);for(var n=1;n<t.history.length;n++){var K=t.history[n];X.BK.push({Q7:iE.get(K.name),DO:5,gU:[K.MM(),0]})}$(X);
var X={Q7:"Final Image"+U(t,4,i),gU:[t.s*t.T*4*i,H*t.s*t.T*4*i],DO:2};c.BK.push(X);for(var n=0;n<t.Z.length;
n++){var f=M(t.Z[n],i);if(f.BK.length!=0)c.BK.push(f)}var d=t.add.lnk2;if(d)for(var n=0;n<d.length;n++){var f=d[n],L={Q7:f.hb,BK:[],DO:4},G=0;
L.BK.push({Q7:"Raw file",gU:[f.raw.length,0]});if(f.De)for(var x=0;x<f.De.length;x+=2)G+=f.De[x].length;
if(G!=0)L.BK.push({Q7:"Decoded pixels",gU:[G*i,0]});$(L);c.BK.push(L)}$(c);return c}function M(t,c){var H={Q7:t.getName(),BK:[],DO:1},F=ee.$x?1:0,i=1-F,X=t.V.D();
if(X!=0)H.BK.push({Q7:"Layer pixels"+U(t.V,4,c),gU:[X*4*c,F*X*4*c]});if(t.add.lmfx&&t.J3.yg.e){var K=t.J3.yg.e;
for(var f in K){var d=0;for(var L=0;L<K[f].length;L++){var G=K[f][L];if(f=="ebbl"){d+=o(G.xn);d+=o(G.nd);
d+=o(G.Hu);d+=o(G.mW)}else{d+=o(G);if(G.sj||G.q8)d+=G.nu.D();if(G.VZ||G.P_)d+=G.nu.D()}}if(d!=0)H.BK.push({Q7:iE.get(az.names[az.order.indexOf(f)]),gU:[i*d*c,F*d*c],DO:3})}var x=t.J3.$Z?t.J3.$Z.length:0;
if(x!=0)H.BK.push({Q7:"Transparency backup",gU:[x*c,0]})}var O=t.OX(),v=O?O.V.D():0;if(v!=0){H.BK.push({Q7:"Raster Mask",gU:[v*c,0]})}var O=t.add.vmsk,v=O&&O.Ro?O.Ro.V.D():0;
if(v!=0){H.BK.push({Q7:"Vector Mask",gU:[v*c,0]})}$(H);return H}function $(t){t.gU=[0,0];for(var n=0;
n<t.BK.length;n++){t.gU[0]+=t.BK[n].gU[0];t.gU[1]+=t.BK[n].gU[1]}}function U(t,c,H){return"\u2001"+t.s+"\xD7"+t.T}function o(t){if(t==null)return 0;
var c=t.Dm;if(c==null)c=t.Dd;return t.nu.D()*(c instanceof Array?1:4)}return D}();function k$(){dJ.call(this,[9,14],!1,"---panels/notes",dJ.Qf.ai8);
J.C(this.yH,"min-width:240px;");var z=J.k("div","padded");this.yH.appendChild(z);this.bK=new eE("Author");
z.appendChild(this.bK.$);this.A5=J.k("textarea");J.Ur(this.A5);z.appendChild(this.A5);var q=new ht("<<",null,null,!0);
z.appendChild(q.$);this.axd=q;var e=new ht(">>",null,null,!0);z.appendChild(e.$);q.Q("click",this.lp,this);
e.Q("click",this.lp,this);var V=this.ax2=new ij("");z.appendChild(V.$)}k$.prototype=new dJ("");k$.prototype.lp=function(z){var q=z.target==this.axd?-1:1,e=this.VY,V=e.add.Anno;
if(V==null)return;var P=V.length,D=e.A.TU;e.A.TU=(D+q+P)%P;e.y8=!0;this.LE()};k$.prototype.LE=function(){var z=this.VY;
if(z==null)return;var q=z.add.Anno;if(q==null||q.length==0)return;var e=z.A.TU,V=q[e];this.A5.value=V[4];
this.ax2.a(e+1+" / "+q.length);this.bK.a(V[3])};k$.prototype.hh=function(z,q){if(this.xL==z)return;this.xL=z;
q=Math.min(q,200);J.C(this.A5,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(z-10)+"px; height:"+(q-66)+"px")};
k$.prototype.N_=function(z,q,e){this.VY=z;this.LE()};function fm(){dJ.call(this,[1,16,1],!1,"---tools/artb",dJ.Qf.ajd);
this.cc=[];this.Wb=[];this.C_=[];this.NS=null;this.UZ=null}fm.prototype=new dJ("");fm.prototype.fk=function(){this.NS=J.k("div","padded scrollable");
J.C(this.NS,"width:260px;  height:260px");this.yH.appendChild(this.NS);this.UZ=J.k("div","lpfoot");this.yH.appendChild(this.UZ);
var z=["lrs/newlayer","lrs/bin"],q=[[15,8,2],[5,4]];for(var n=0;n<z.length;n++){var e="<img src=\""+PIMG[z[n]]+"\" class=\"miniscale gsicon\" />",V=new ht(e,!1,q[n]);
V.Q("click",this.sd,this);this.UZ.appendChild(V.$);this.C_.push(V)}};fm.prototype.W=function(){dJ.prototype.W.call(this);
if(this.NS==null)return;for(var n=0;n<this.C_.length;n++)this.C_[n].W()};fm.prototype.sd=function(z){var n=this.C_.indexOf(z.currentTarget),q=new dW(_.E.z,!0);
q.U=W.jg;q.data={p:n==0?"new":"del"};this.K(q);if(n==0)this.aE4(this.cc.length-1)};fm.prototype.N_=fm.prototype.ai=function(z){if(z)this.cc=z.add.arts;
if(!J.H2(this.yH))return;if(this.NS==null)this.fk();this.LE(z)};fm.prototype.uW=function(z){var n=this.Wb.indexOf(z.currentTarget);
if(z.target.tagName=="BUTTON"){this.aE4(n)}var q=this.cc;for(var e=0;e<q.length;e++)q[e].j=!1;q[n].j=!0;
this.LE()};fm.prototype.aE4=function(n){var z=new dW(_.E.b,!0);z.data={p:_.m.wa,rF:"aoptions",u:this.cc[n]};
this.K(z)};fm.prototype.LE=function(){J._8(this.NS);var z=this.cc,q=this.uW.bind(this);this.Wb=[];for(var n=0;
n<z.length;n++){var e=z[n],V=J.k("div","layeritem"+(e.j?" selected":""));this.NS.appendChild(V);this.Wb.push(V);
V.addEventListener("click",q);var P=J.k("div","head");V.appendChild(P);J.C(P,"height:24px");var D=J.k("div","headL");
P.appendChild(D);var B=J.k("div","headR");P.appendChild(B);var A=J.k("div","label");A.textContent=n+1+". "+e.Q7;
D.appendChild(A);var s=new ht("Options",null,null,!0);B.appendChild(s.$)}};function hR(){dJ.call(this,["Vector","Document"][cW]+" Info",!1,"---panels/info",dJ.Qf.aHn);
this.cu=J.k("div","scrollable padded form");this.yH.appendChild(this.cu);J.C(this.cu,"width:260px;  height:200px")}hR.prototype=new dJ("");
hR.prototype.fk=function(){if(!J.H2(this.yH))return;var z=this.VY,q=this.wJ,e=this.cu,P=0,D=0,B=0,A=0;
if(z==null)return;var V=z.u4();for(var n=0;n<V.length;n++){var s=z.Z[V[n]],a=s.add.vmsk;if(a==null)continue;
var M=a.B;for(var $=0;$<M.length;$++){var U=M[$],o=U.e;if(6<=o)continue;if(o==0)D++;else if(o==3)P++;
else B++;if(o==0||o==3){var t=M.slice(0,2).concat(M.slice($,$+1+U.length)),c=T.R.EP(t),F=0;c=T.R.VW(c);
var H=T.R.zj(c),i=H.length-(o==0?0:2);for(var X=0;X<i;X+=2){var K=(X+2)%H.length,f=H[K]-H[X],d=H[K+1]-H[X+1];
F+=Math.sqrt(f*f+d*d)}A+=F}}}var L=q.Y8.oZ;e.innerHTML="Objects:<br/>Paths: "+(P+D)+" ("+P+" open, "+D+" closed, "+B+" points, length = "+T.tR.a5(A,z.do,z.s,L).toFixed(3)+" "+T.tR.wZ[L]+")"};
hR.prototype.N_=function(z,q,e){this.VY=z;this.wJ=e;this.fk()};hR.prototype.ai=function(){this.fk()};
hR.prototype.W=function(){dJ.prototype.W.call(this)};function cY(){dJ.call(this,"Pathfinder",!1,"---set/intersection",dJ.Qf.o1);
var z=this.NS=J.k("div","padded");J.C(this.NS,"width:260px;  height:130px");this.yH.appendChild(this.NS);
var q=this.C_=[],e=new ij("Shape Modes:");z.appendChild(e.$);J.f9(z);var V=[[18,1],[18,2],[18,3],[18,4]],P=eD.Op(["set/union","set/difference","set/intersection","set/xor"]);
V=V.concat([[15,10,22],[11,12],[18,5],[11,12,1],"Outline","Minus Back"]);for(var n=0;n<V.length;n++){var D=new ht(n<4?P[n]:V[n],null,V[n]);
q.push(D);D.Q("click",this.we,this);z.appendChild(D.$);if(n==3){J.f9(z);z.appendChild(new ij("Pathfinders:").$);
J.f9(z)}}}cY.prototype=new dJ("");cY.prototype.we=function(z){var n=this.C_.indexOf(z.target),q=new dW(_.E.z,!0);
q.U=W.si;q.data={p:lK.o1,mA:n};this.K(q)};cY.prototype.W=function(){dJ.prototype.W.call(this);var z=this.C_;
for(var n=0;n<z.length;n++)z[n].W()};function ds(){gq.call(this);this.U=0;this.V5=null;this.$=J.k("div","toolconf");
this.al=null;this.a0Z=null;this.body=new J.k("div","body")}ds.prototype=new gq;ds.prototype.a2e=function(z,q){this.U=z;
this.V5=q;if(W.c6[z]){var e=this.al=new fQ(z);this.$.appendChild(e.$);e.parent=this}else{this.a0Z=J.k("div");
this.$.appendChild(this.a0Z)}this.$.appendChild(this.body);this.W()};ds.prototype.aIJ=function(z,q){};
ds.prototype.axg=function(z){};ds.prototype.K5=function(z,q){if(q==cR.zu||q==cR.$O)if(this.al)this.al.zT(z.ZV)};
ds.prototype.dw=function(z){};ds.prototype.W=function(){if(this.al)this.al.W();else this.a0Z.innerHTML=J.GP(this.V5,null,"toolicon");
this.f2()};ds.prototype.f2=function(){};function ax(){ds.call(this);this.ye=new hz;this.ye.Q(_.E.f,this.Ez,this);
this.ye.parent=this;this.body.appendChild(this.ye.$)}ax.prototype=new ds;ax.prototype.f2=function(){this.ye.W()};
ax.prototype.Ez=function(z){var q=new dW(_.E.b,!0);q.data={p:_.m.dt,U:this.U,Lh:this.ye.a9M()};this.K(q)};
ax.prototype.dw=function(z){this.ye.a3E(z.ee)};function ft(z){ds.call(this);if(z==null)return;this.i=null;
this.Js={};if(z.indexOf("brush")!=-1&&z.indexOf("prsr")==-1)z.push("prsr");for(var n=0;n<z.length;n++){var q=z[n],e=null;
if(q=="brush"){e=new fe}if(q=="bmode"){e=new cr([12,19,0],aA.p4,aA.Cx)}if(q=="bmode0"){e=new cr([12,19,0],aA.p4.slice(23))}if(q=="emode"){e=new cr([12,36],[[9,3],[10,38]])}if(q=="opacity"){e=new gO([12,0],0,100,"%");
e.a(100)}if(q=="flow"){e=new gO([12,63],0,100,"%");e.a(100)}if(q=="smth"){e=new gO([19,3,0],0,100,"%");
e.a(0)}if(q=="samp"){e=new cr([12,36],[[12,25,4],[12,25,5],[12,46]])}if(q=="wconf"){e=new e7;e.a([40,!0,!0])}if(q=="sall"){e=new iP([12,25,2])}if(q=="smode"){e=new cr([12,36],[[19,7,0],[19,7,1]]);
e.a(1)}if(q=="pdetail"){e=new iP([12,65]);e.IM()}if(q=="rng"){e=new cr([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
e.a(1)}if(q=="expo"){e=new gO([12,5],0,100,"%");e.a(50)}if(q=="algnd"){e=new iP([12,75]);e.a(!1)}if(q=="sfrom"){e=new cr([12,70],[[17,1],[17,3],[17,0]])}if(q=="alt"){e=new db(null,["Alt"],!0,["Select Source"])}if(q=="qsmode"){e=new eD([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(q=="redge"){e=new ht([7,11],!1,null,!0)}if(q=="sesu"){e=new ht("Select Subject",!1,null,!0)}if(q=="setop"){e=new ek}if(q=="patch"){e=new eD(null,[[12,70],[12,71]])}if(q=="strn"){e=new gO([12,64],1,100,"%");
e.a(50)}if(q=="prsr"){e=this.Js.brush.Me}if(q=="symm"){e=new gR}this.body.appendChild(e.$);if(q=="prsr")continue;
e.parent=this;this.Js[q]=e;if(q=="brush")e.Q(_.E.f,this.aFb,this);else if(q=="redge"||q=="sesu")e.Q("click",fy.aLq,this);
else e.Q(_.E.f,this.eI,this)}}ft.prototype=new ds;ft.prototype.aIJ=function(z,q){z=z[1];var e=this.Js;
if(z.Md)e.bmode.a(aA.nq.indexOf(z.Md.v.BlnM));if(z.Opct)e.opacity.a(z.Opct.v);if(z.flow)e.flow.a(z.flow.v);
if(z.Brsh)e.brush.a(z,q.pL.Mf,q.pL.yw);if(z.FrgC){var V=T.Yf.z8(z.FrgC.v),P=new dW(_.E.b,!0);P.data={p:_.m.Ln,Lh:cR.RV,kE:0,u:V.l<<16|V.I<<8|V.c};
this.K(P)}this.aFb();this.eI()};ft.prototype.axg=function(){if(W.c6[this.U]==null)return null;var z=this.Js,q;
for(var e in W.$Y)if(W.$Y[e]==this.U)q=e;var V=T.G(z.brush.r());V.classID=q;if(z.bmode)V.Md={t:"enum",v:{BlnM:aA.nq[z.bmode.r()]}};
if(z.opacity)V.Opct={t:"long",v:z.opacity.r()};if(z.flow)V.flow={t:"long",v:z.flow.r()};var P=this.i.pQ;
P={l:P>>>16,I:P>>>8&255,c:P&255};V.FrgC={t:"Objc",v:T.Yf.e8(P)};return["Brush Preset "+V.Brsh.v.Dmtr.v.val,V]};
ft.prototype.f2=function(){for(var z in this.Js)this.Js[z].W()};ft.prototype.dw=function(z){if(z.anx=="showBrushOpts"){this.Js.brush.aDG(z.mZ.x,z.mZ.y)}for(var q in z.Td){var e=z.Td[q];
if(q!="qsmode")e*=100;if(this.Js[q])this.Js[q].a(e)}};ft.prototype.K5=function(z,q){ds.prototype.K5.call(this,z,q);
this.i=z;var e=this.Js.brush;if(e==null)return;if(q==cR.zu||q==cR.YO)e.zT(z.pL);if(q==cR.LJ){e.a(z.pL.AA,z.pL.Mf,z.pL.yw)}};
ft.prototype.aFb=function(){var z=new dW(_.E.b,!0);z.data={p:_.m.Ln,Lh:cR.LJ,DV:this.Js.brush.r()};this.K(z)};
ft.prototype.eI=function(){var z=new dW(_.E.b,!0);z.data={p:_.m.dt,U:this.U};for(var q in this.Js){if(q=="brush"||q=="redge"||q=="symm")continue;
var e=this.Js[q].r();if(["opacity","flow","smth","expo","strn"].indexOf(q)!=-1)z.data[q]=e/100;else if(q=="bmode")z.data.bmode=aA.q2[e];
else if(q=="bmode0")z.data.bmode=aA.q2[23+e];else z.data[q]=e}this.K(z)};function fy(z,q){ds.call(this);
if(z)return;this.Js={};for(var n=0;n<q.length;n++){var e=q[n],V=null;if(e=="sesu"&&!J.Yo(1))continue;
if(e=="binop")V=new ek;if(e=="feat"){V=new gO([7,6],0,100,"px");V.a(0)}if(e=="redge")V=new ht([7,11],!1,null,!0);
if(e=="sesu")V=new ht("Select Subject",!1,null,!0);if(e=="wconf")V=new e7;if(e=="cstr")V=new e8;if(e=="anta"){V=new iP([12,25,1]);
V.a(!0)}if(e=="sall")V=new iP([12,25,2]);if(e=="redge"||e=="sesu")V.Q("click",fy.aLq,this);else V.Q(_.E.f,this.eI,this);
V.parent=this;this.body.appendChild(V.$);this.Js[e]=V}}fy.prototype=new ds;fy.prototype.dw=function(z){var q=this.Js.cstr;
if(z.Qc!=null)this.Js.binop.a(z.Qc);else if(z.r1){for(var e in z.r1)if(this.Js[e])this.Js[e].a(z.r1[e])}else if(z.fh){if(q)q.c3(z.fh)}else{var V=fy.kT;
if(V==null){var P=a5.aDB(!0);V=fy.kT=new gu(P.items,P.bo)}V.W();V.parent=this;V.update(z.x2,z.i);var D=new dW(_.E.b,!0);
D.data={p:_.m.wL,MR:V,x:z.uA.Go+2,y:z.uA.x5+1};this.K(D)}};fy.prototype.f2=function(){for(var z in this.Js)this.Js[z].W()};
fy.aLq=function(z){var q=z.target==this.Js.sesu,e=new dW(q?_.E.z:_.E.b,!0);if(q){e.U=W.qK;e.data={p:"bgrm",u:2}}else e.data={p:_.m.wa,rF:"redge"};
this.K(e)};fy.prototype.eI=function(){var z=new dW(_.E.b,!0);z.data={p:_.m.dt,U:this.U,r1:{}};for(var q in this.Js)z.data.r1[q]=this.Js[q].r();
this.K(z)};function i1(){ft.call(this,["brush","strn"])}i1.prototype=new ft;function aj(){ft.call(this,"brush bmode opacity flow smth prsr symm".split(" "))}aj.prototype=new ft;
function gN(){ft.call(this,["brush","bmode0","samp","wconf"])}gN.prototype=new ft;function li(){ft.call(this,["brush"])}li.prototype=new ft;
function l5(){ft.call(this,"brush bmode opacity smth prsr symm".split(" "))}l5.prototype=new ft;function cN(){ft.call(this,["brush","rng","expo"])}cN.prototype=new ft;
function iz(){ft.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}iz.prototype=new ft;function c_(z){ds.call(this);
if(z==null)return;this.Ie=[];this.re=new ht("\u2026",!1,null,!0);if(!z)this.body.appendChild(this.re.$);
this.re.Q("click",this.Yz,this);this.gW=new gq;this.gW.parent=this;var q=this.gW.$=J.k("div","floatcont form"),e=[[17,0],[17,1],[11,12,0],[17,2]];
for(var n=0;n<e.length;n++){var V=new ht(e[n],!1,null,!0);this.Ie.push(V);V.Q("click",this.a8e,this);
if(!z||n==1)q.appendChild(V.$)}this.$L=new e8(!0);this.$L.Q(_.E.f,this.aBd,this);if(!z)this.body.appendChild(this.$L.$);
this.ff=new ht([15,7,6],!1,null,!0);this.ff.Q("click",this.a8e,this);if(!z)this.body.appendChild(this.ff.$);
this._f=new iP([15,7,10]);this._f.Q(_.E.f,this.aBd,this);if(!z)this.body.appendChild(this._f.$);this.Pk=new iP([6,48,0,3]);
this.Pk.Q(_.E.f,this.aBd,this);if(!z)this.body.appendChild(this.Pk.$);this.r4=new bT;this.r4.Q("click",this.O7,this)}c_.prototype=new ds;
c_.prototype.Yz=function(z){if(J.H2(this.gW.$))return;var q=this.re.$.getBoundingClientRect(),e=new dW(_.E.b,!0);
e.data={p:_.m.wL,MR:this.gW,x:q.left,y:q.top+q.height+4};this.K(e)};c_.prototype.f2=function(){this.r4.W();
for(var n=0;n<this.Ie.length;n++)this.Ie[n].W();this.$L.W();this._f.W();this.ff.W();this.Pk.W()};c_.prototype.dw=function(z){if(z.fh){this.$L.c3(z.fh);
return}var q=this.r4.$;if(z.pM)this.body.appendChild(q);else if(this.body.contains(q))this.body.removeChild(q);
if(z.$L)this.$L.a(z.$L)};c_.prototype.O7=function(z){var q={p:_.m.dt,U:this.U,ep:this.r4.r()?"commit":"cancel"},e=new dW(_.E.b,!0);
e.data=q;this.K(e)};c_.prototype.a8e=function(z){z.target.$.blur();var q={p:_.m.dt,U:this.U,ep:"cropby",aq0:this.Ie.indexOf(z.target)};
if(z.target==this.ff)q.ep="straighten";var e=new dW(_.E.b,!0);e.data={p:_.m.T8,MR:this.gW};this.K(e);
e.data=q;this.K(e)};c_.prototype.aBd=function(z){var q={p:_.m.dt,U:this.U,ep:"config",r1:{hr:this.$L.r(),Tm:this._f.r(),N1:this.Pk.r()},aEh:z.target==this.$L},e=new dW(_.E.b,!0);
e.data=q;this.K(e)};function iA(){c_.call(this,!1)}iA.prototype=new c_;function eQ(){c_.call(this,!0)}eQ.prototype=new c_;
function ky(){ft.call(this,["brush","rng","expo"])}ky.prototype=new ft;function ic(){ft.call(this,"brush emode opacity flow smth prsr symm".split(" "))}ic.prototype=new ft;
function kw(){ft.call(this,["brush","samp","wconf"])}kw.prototype=new ft;function di(){fy.call(this,!1,["binop","feat","anta","redge","cstr"])}di.prototype=new fy(!0);
function bj(){ds.call(this);var z=this.Js=[new cr([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new cr([12,70],[[17,1],[17,3],[17,0]]),new iP([12,20,1]),new iP([8,0])];
z[1].a(2);z[2].a(!0);for(var n=0;n<z.length;n++){var q=z[n];q.Q(_.E.f,this.eI,this);this.body.appendChild(q.$)}}bj.prototype=new ds;
bj.prototype.eI=function(z){var q=this.Js,e=[];for(var n=0;n<q.length;n++)e[n]=q[n].r();var V=new dW(_.E.b,!0);
V.data={p:_.m.dt,U:this.U,r1:e};this.K(V)};bj.prototype.f2=function(){for(var n=0;n<this.Js.length;n++)this.Js[n].W()};
function bb(){ds.call(this);this.Ly=!1;this.hZ=new iX("GrFl",!0);this.hZ.parent=this;this.hZ.update(null,JSON.parse(az.j3[6]));
this.hZ.Q(_.E.f,this.GT,this);var z="Grad Type Md Opct Rvrs Dthr".split(" ");for(var n=0;n<z.length;
n++)this.body.appendChild(this.hZ.g4[z[n]].$);this.hZ.g4.Grad.aiT=!1;this.ua=new ht([6,48,1],!1,null,!0);
this.ua.Q("click",this.GT,this);this.body.appendChild(this.ua.$)}bb.prototype=new ds;bb.prototype.f2=function(z){var z=this.Ly;
this.body.children[2].style.display=z?"none":"";this.body.children[3].style.display=z?"none":"";this.hZ.W();
this.ua.W()};bb.prototype.K5=function(z,q){ds.prototype.K5.call(this,z,q);var e=q==cR.RV,V=this.hZ.g4.Grad;
V.tq(z.pQ,z.Cp);if(e||q==cR.Ku||q==cR.zu)V.zT(z.zS)};bb.prototype.GT=function(z){if(z.target==this.ua){var q=new dW(_.E.zN,!0);
q.data=W.LR.J8(1);this.K(q);return}this.W();var q=new dW(_.E.b,!0);q.data={p:_.m.dt,U:this.U,Lh:this.hZ.r()};
this.K(q)};bb.prototype.dw=function(z){this.Ly=z.S;this.W();this.hZ.update(null,z.Lh);this.W()};function lj(){ds.call(this);
this.Gu=new iP([8,7,1]);this.body.appendChild(this.Gu.$);this.Gu.Q(_.E.f,this.eI,this)}lj.prototype=new ds;
lj.prototype.eI=function(){var z={p:_.m.dt,U:this.U,uv:this.Gu.r()},q=new dW(_.E.b,!0);q.data=z;this.K(q)};
function ir(){ds.call(this);var z=J.k("span","fitem");this.body.appendChild(z);this.e_=[new gO([12,15],-180,180,"\xB0"),new ht([1,12,2],null,null,!0)];
for(var n=0;n<this.e_.length;n++){var q=this.e_[n];q.parent=this;z.appendChild(q.$);q.Q(n==1?"click":_.E.f,this.nx,this)}}ir.prototype=new ds;
ir.prototype.f2=function(){for(var n=0;n<this.e_.length;n++)this.e_[n].W()};ir.prototype.dw=function(z){var q=z.Ba*180/Math.PI;
q=(36e5+180+q)%360-180;this.e_[0].a(q)};ir.prototype.nx=function(z){var q=this.e_.indexOf(z.target),e=new dW(_.E.b,!0);
e.data={p:_.m.dt,U:this.U,Ba:q==1?0:z.target.r()*Math.PI/180};this.K(e)};function k4(){ft.call(this,["brush","algnd","sfrom","alt"])}k4.prototype=new ft;
function fP(){ds.call(this);this.i=null;this.aZ=new br;this.aZ.parent=this;this.body.appendChild(this.aZ.rv.$);
this.body.appendChild(this.aZ.uo.$);this.body.appendChild(this.aZ.SI.$);this.body.appendChild(this.aZ.lD.$);
var z=J.k("span","fitem");this.body.appendChild(z);z.appendChild(this.aZ.ajI.$);z.appendChild(this.aZ.a70.$);
z.appendChild(this.aZ.aA6.$);this.Tr=new cr("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.Tr.Q(_.E.f,this.O7,this);this.body.appendChild(this.Tr.$);this.ZB=new cr(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.ZB.Q(_.E.f,this.O7,this);this.body.appendChild(this.ZB.$);this.qu=new ht([11,9],!1,null,!0);this.qu.Q("click",this.ad6,this);
this.body.appendChild(this.qu.$);this.r4=new bT;this.r4.Q("click",this.O7,this)}fP.prototype=new ds;
fP.prototype.aIJ=function(z,q){z=z[1];var e=z.textToolCharacterOptions.v.TxtS.v,V=z.textToolParagraphOptions.v.paragraphStyle.v,P=T.G(q.Zh);
dc.OO(e,P.c_,P,72);dc.OO(V,P.S$,P,72);var D=new dW(_.E.b,!0);D.data={p:_.m.Ln,Lh:cR.k3,Zh:P};this.K(D)};
fP.prototype.axg=function(){var z={classID:"TxtS"},q={classID:"paragraphStyle"},e=this.i.Zh;dc.pV(e.c_,z,e,72);
dc.pV(e.S$,q,e,72);return["Horizontal Type Tool",{classID:"typeCreateOrEditTool",textToolCharacterOptions:{t:"Objc",v:{classID:"null",TxtS:{t:"Objc",v:z}}},textToolParagraphOptions:{t:"Objc",v:{classID:"null",paragraphStyle:{t:"Objc",v:q}}}}]};
fP.prototype.f2=function(){this.r4.W();this.aZ.W();this.qu.W()};fP.prototype.ad6=function(z){var q={p:_.m.dt,U:this.U,ep:"showwarp"},e=new dW(_.E.b,!0);
e.data=q;this.K(e)};fP.prototype.dw=function(z){if(z.ep=="showactive")this.body.appendChild(this.r4.$);
if(z.ep=="hideactive")this.body.removeChild(this.r4.$);if(z.ep=="changeOther"){this.Tr.a(z.Mm);this.ZB.a([0,2,1][z.aFd])}if(z.ep=="showpan"){var q=[{name:[0,1],tL:!0}],e=[{N:_.E.z,U:W.no,M:{p:"editCurr",f0:z.f0}}],V=z.uA;
if(z.aKt){q=[{name:["VAR0: VAR1",[0,5],[7,0]],tL:!0}];e=[{N:_.E.zN,M:W.cn.Im(!0)}];var P=a5.a1a();q=q.concat(P[0]);
e=e.concat(P[1])}q.push({name:[11,9]});e.push({N:_.E.b,M:{p:_.m.dt,U:this.U,ep:"showwarp"}});var D=new gu(q,e);
D.parent=this;D.W();D.update(z.x2,z.i);var B=new dW(_.E.b,!0);B.data={p:_.m.wL,MR:D,x:V.Go+2,y:V.x5+1};
this.K(B)}};fP.prototype.K5=function(z,q){this.i=z;ds.prototype.K5.call(this,z,q);if(q!=cR.zu&&q!=cR.k3&&q!=cR.oD&&q!=cR.Ym)return;
this.aZ.a(z.Zh,z.Se,z.Bi)};fP.prototype.O7=function(z){var q={p:_.m.dt,U:this.U,ep:this.r4.r()?"commit":"cancel"};
if(z.target==this.Tr||z.target==this.ZB){q.ep="changeOther";q.Mm=this.Tr.r();q.aFd=[0,2,1][this.ZB.r()]}var e=new dW(_.E.b,!0);
e.data=q;this.K(e)};function du(){fy.call(this,!1,["binop","feat","anta","redge"])}du.prototype=new fy(!0);
function gF(){ds.call(this);var z=[],e="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.WI=new iP([12,85]);this.WI.a(!0);this.WI.Q(_.E.f,this.eI,this);z.push(this.WI.$);this.gt=new cr(null,[[0,4],[0,3]]);
this.gt.Q(_.E.f,this.eI,this);this.gt.a(1);z.push(this.gt.$);this.AB=new iP([20,1]);this.AB.Q(_.E.f,this.eI,this);
z.push(this.AB.$);this.q4=new iP([12,83]);this.q4.Q(_.E.f,this.eI,this);z.push(this.q4.$);this.gW=new gq;
var q=this.gW.$=J.k("div","floatcont form");J.C(this.gW.$,"max-width: 200px;");this.gW.parent=this;this.akB=new cr("Scale for exported files",["1x","2x","3x","4x"]);
q.appendChild(this.akB.$);this.cY=new ht(e+" PNG",!1,"Save selected layers as PNG",!0);q.appendChild(this.cY.$);
this.cY.Q("click",this.eg,this);this.aK3=new ht(e+" SVG",!1,"Save selected layers as SVG",!0);q.appendChild(this.aK3.$);
this.aK3.Q("click",this.eg,this);var V=new ht(e,!1,"Save selected layers",!0);z.push(V.$);V.Q("click",function(U){if(J.H2(this.gW.$))return;
var o=V.$.getBoundingClientRect(),t=new dW(_.E.b,!0);t.data={p:_.m.wL,MR:this.gW,x:o.left,y:o.top+o.height,qH:!0};
this.K(t)},this);this.wh=new gq;var P=this.wh.$=J.k("div","floatcont label6");J.C(P,"max-width: 180px;");
this.wh.parent=this;this.sa=new aJ("Columns",1,20);this.sa.a(4);P.appendChild(this.sa.$);this.eR=new aJ("Gap",0,200,null,2,!0);
this.eR.a(8);P.appendChild(this.eR.$);this.eR.Q(_.E.f,function(U){this.vg.a(this.eR.r())}.bind(this),this);
this.vg=new aJ("Vertical Gap",0,200,null,2,!0);this.vg.a(8);P.appendChild(this.vg.$);this.FR=new ht([2,10,1],!1,null,!0);
P.appendChild(this.FR.$);this.FR.Q("click",this.eg,this);this.amn=new gq;var D=this.amn.$=J.k("div","floatcont label6");
J.C(D,"max-width:180px");this.amn.parent=this;this.a0K=new cr("Align to",["Selection","Canvas"]);this.a0K.a(0);
D.appendChild(this.a0K.$);var B=J.k("span","fitem");z.push(B);var A=J.k("span","fitem");z.push(A);this.C_=[];
for(var n=0;n<8;n++){var s=n==3||n==7?[20,4,6]:[20,4,n<3?n:n-1],a=new ht("Hi",!1,s);(n<4?B:A).appendChild(a.$);
a.Q("click",this.eg,this);this.C_.push(a)}var M=this.tt=new ht("...");A.appendChild(M.$);M.Q("click",function(U){if(J.H2(this.wh.$))return;
var o=M.$.getBoundingClientRect(),t=new dW(_.E.b,!0);t.data={p:_.m.wL,MR:this.amn,x:o.left,y:o.top+o.height,qH:!0};
this.K(t)},this);var $=this.a84=new ht("Hi",!1,"Align to a Grid");z.push($.$);$.Q("click",function(U){if(J.H2(this.wh.$))return;
var o=$.$.getBoundingClientRect(),t=new dW(_.E.b,!0);t.data={p:_.m.wL,MR:this.wh,x:o.left,y:o.top+o.height,qH:!0};
this.K(t)},this);for(var n=0;n<z.length;n++)this.body.appendChild(z[n]);this.aJ3=z}gF.prototype=new ds;
gF.prototype.dw=function(z){var q=z.ee,e=z.aaT;this.WI.a(q.X1);this.AB.a(q.ub);this.q4.a(q.bG);if(e){J._8(this.body);
for(var n=0;n<e.length;n++)if(e[n]==1&&this.aJ3[n])this.body.appendChild(this.aJ3[n])}};gF.prototype.eg=function(z){var q=this.C_.indexOf(z.target),e;
if(q!=-1||z.target==this.FR){e=new dW(_.E.z,!0);e.U=W.HI;e.data={p:"algn",u:q==-1?8:q,aJe:this.a0K.r(),cols:this.sa.r(),aHI:this.eR.r(),a8a:this.vg.r()}}else{e=new dW(_.E.b,!0);
e.data={p:_.m.dt,U:this.U,kE:z.target==this.cY?"getPNG":"getSVG",oB:this.akB.r()+1}}this.K(e)};gF.prototype.eI=function(z){var q=new dW(_.E.b,!0);
q.data={p:_.m.dt,U:this.U,kE:"prms",X1:this.WI.Iv(),as0:this.gt.r(),ub:this.AB.Iv(),bG:this.q4.Iv()};
this.K(q)};gF.prototype.f2=function(){this.WI.W();this.gt.W();this.AB.W();this.q4.W();var z="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var n=0;n<8;n++){this.C_[n]._D(J.GP("align/"+z[n],null,"autoscale"))}this.a84._D(J.GP("split/vh",null,"autoscale"));
this.sa.W();this.eR.W();this.vg.W();this.FR.W()};function d9(){fy.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}d9.prototype=new fy(!0);
function dS(){ft.call(this,["setop","patch"])}dS.prototype=new ft;function h6(){ft.call(this,["setop"])}h6.prototype=new ft;
function aW(z){var q=z==W.aFO?[]:["bmode"];ft.call(this,q.concat(["opacity","wconf","sall"]))}aW.prototype=new ft;
function fC(){fy.call(this,!1,["binop","feat","anta","redge"])}fC.prototype=new fy(!0);function h5(){fy.call(this,!1,["binop","feat","anta","redge"])}h5.prototype=new fy(!0);
function i0(){fy.call(this,!1,["binop","feat","redge","cstr"])}i0.prototype=new fy(!0);function hQ(){ds.call(this);
this.i=null;this.mz=null;this.NT=!0;this.vH=[new eE("X",null,3.2,null,!0),new eE("Y",null,3.2,null,!0),new eE("W",null,3.2,null,!0),new eE("H",null,3.2,null,!0),new eE("a","\xB0",3.7,null,!0),new eE("l",null,3.5,null,!0),new eE("l",null,3.5,null,!0),new iP("Use custom units:"),new ht("Define Unit",!1,null,!0),new ht([15,7,6],!1,null,!0),new ht([2,2],!1,null,!0)];
this.vH[7].$.style.marginRight="0px";for(var n=0;n<this.vH.length;n++){var z=this.vH[n];this.body.appendChild(z.$);
if(n>6)z.Q(n==7?_.E.f:"click",this.yA,this)}this.Ve=0}hQ.prototype=new ds;hQ.prototype.yA=function(z){var q=this.vH.indexOf(z.target),e=new dW(_.E.z,!0),V=this.mz;
if(q==7){this.dw(V);return}if(q==8){if(this.NT){alert("Draw a line for the new unit");return}this.vH[7].a(!0);
var P=new dW(_.E.b,!0);P.data={p:_.m.wa,rF:"measscale",Z7:f5.h5(V.aog,V.kb)};this.K(P);return}if(q==9){if(this.Ve==0)return;
e.U=W.Rs;e.data={p:"rot",JJ:[2,5],u:-this.Ve}}if(q==10){e.U=W.HD;e.data={p:"reset"};this.NT=!0;for(var n=0;
n<6;n++)this.vH[n].a(null)}this.K(e)};hQ.prototype.dw=function(z){function q(a,M,$){var U=f5.h5(a,M),o=f5.h5(M,$),t=f5.h5(a,$);
return Math.acos((o*o+U*U-t*t)/(2*o*U))}if(z==null)return;this.mz=z;var e=z.aog,V=z.kb,P=V.x-e.x,D=V.y-e.y;
this.Ve=-Math.atan2(D,P);if(z.Ya)this.Ve=q(V,e,z.Ya);var B=this.vH;B[0].a(this.RL(z,e.x));B[1].a(this.RL(z,e.y));
B[2].a(this.RL(z,P));B[3].a(this.RL(z,D));B[4].a((this.Ve*180/Math.PI).toFixed(2));B[5].a(this.RL(z,f5.h5(e,V)));
this.NT=e.bs(V);if(z.Ya){B[6].a(this.RL(z,f5.h5(e,z.Ya)))}else B[6].a("");B[8]._D("Define");var A=z.eJ;
if(A){var s=A.T.v;B[8]._D(s.logicalUnits.v)}};hQ.prototype.RL=function(z,q){var e=this.mz.eJ,V;if(e&&this.vH[7].r()){var P=e.T.v;
V=q*P.logicalLength.v/P.pixelLength.v}else V=T.tR.Xw(q,z.do,this.i,z.at5,!1);return parseFloat(V).toFixed(2)};
hQ.prototype.K5=function(z,q){this.i=z;this.dw(this.mz)};hQ.prototype.f2=function(){var z=this.vH;for(var n=0;
n<z.length;n++)z[n].W();z[4]._D(iE.get([12,15]).slice(0,1)+":");var q=iE.get([12,80,0]).slice(0,1);z[5]._D(q+"1:");
z[6]._D(q+"2:");J.DJ(z[2],z[3])};function ka(){ft.call(this,["brush","strn","pdetail"])}ka.prototype=new ft;
function gk(){ft.call(this,["brush","sfrom"]);this.alW=[];var z=[[7,12]];for(var n=0;n<z.length;n++){var q=new ht(z[n],!1,null,!0);
this.alW.push(q);q.parent=this;this.body.appendChild(q.$);q.Q("click",this.agf,this)}}gk.prototype=new ft;
gk.prototype.agf=function(z){var q=new dW(_.E.zN,!0);q.data=W.j6.J8("contentAware");this.K(q)};function af(){ft.call(this,["brush","strn"])}af.prototype=new ft;
function fG(){ft.call(this,["brush","flow","smode"])}fG.prototype=new ft;function i4(){ds.call(this);
this.TG=!1;var z=J.k("span","fitem");this.body.appendChild(z);this.Pu=new eD(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
z.appendChild(this.Pu.$);this.Pu.Q(_.E.f,this.eI,this);this.bd=new ht([20,2]);this.body.appendChild(this.bd.$);
this.bd.Q("click",this.a2i,this);this.a1s=new ht([20,3]);this.body.appendChild(this.a1s.$);this.a1s.Q("click",this.a2i,this);
this.Gu=new iP([8,7,1]);this.body.appendChild(this.Gu.$);this.Gu.Q(_.E.f,this.eI,this)}i4.prototype=new ds;
i4.prototype.f2=function(){this.bd.W();this.a1s.W()};i4.prototype.eI=function(){var z={p:_.m.dt,U:this.U,pn:this.Pu.r()==0,uv:this.Gu.r()},q=new dW(_.E.b,!0);
q.data=z;this.K(q)};i4.prototype.dw=function(z){if(this.TG!=z.TG)this.Pu.a(1-this.Pu.r());this.TG=z.TG};
i4.prototype.a2i=function(z){var q=new dW(_.E.z,!0);q.U=W.OF;q.data={p:"adapt",u:z.target==this.bd?"pixel":"fitscr"};
this.K(q)};function aw(z,q){ds.call(this);if(z==null)return;this.OY=z;this.$_={};this.aDH=q;for(var n=0;
n<z.length;n++){var e=z[n],V=null;if(e=="vmode"||e=="pmode"){V=new cr(null,[[12,76,1],[12,76,0],[12,76,2]]);
V.a(e=="vmode"?0:1);if(q)V.ayK(2)}if(e=="make"){V=new eD("Make",[[17,2],[12,76,1]],null,!0)}if(e=="anta"){V=new iP([12,25,1]);
V.a(!0)}if(e=="binop"){V=new cr(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(e=="pshape")V=new cr(null,[[12,93,0],[12,93,1],[12,93,4],[8,4],[12,93,2]]);
if(e=="shape")V=new eT([12,76,1]);if(e=="crad"){V=new gO([12,94,0],0,50,"px");V.a(0)}if(e=="cstr"){V=new e8}if(e=="irad"){V=new gO([12,94,1],0,100,"%");
V.a(40)}if(e=="length"){V=new gO([12,80,0],4,40);V.a(4)}if(e=="sides"){V=new gO([12,78],3,30);V.a(5)}if(e=="width"){V=new gO([12,41],0,100,"px");
V.a(5)}if(e=="tolr"){V=new gO([12,24],0,100);V.a(5)}if(e=="fstyle"){V=new iD([12,26])}if(e=="sstyle"){V=new ly}if(e=="psnap"){V=new iP([8,10])}if(e=="crnr"){V=new ht("\u2312",!1,[12,94,0],!0)}if(e=="aopts"){V=new co;
V.a([!1,!1,50,60,0])}if(e=="smplp"){V=new ht([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}if(e=="rows"){V=new gO("Rows",1,20);
V.a(3)}if(e=="cols"){V=new gO("Columns",1,20);V.a(4)}if(e=="brdr"){V=new gO([7,9],1,20);V.a(8)}V.parent=this;
this.body.appendChild(V.$);this.$_[e]=V;V.Q(e=="crnr"||e=="smplp"?"click":_.E.f,this.eI,this)}}aw.prototype=new ds;
aw.prototype.dw=function(z){var q=this.$_.cstr;if(z.Qc!=null)this.$_.binop.a(z.Qc);else if(z.kE=="vals")for(var e in z.aj8)this.$_[e].a(z.aj8[e]);
else if(z.fh){if(q)q.c3(z.fh)}else{var V=aw.kT,P=function(B){return{d:B!=null&&B.Ov(!1)}};if(V==null)V=aw.kT=new gu([{name:"Remove Anchor Point",d:function(B){var A=B?B.Kn():null;
return{d:B&&A[1].length!=0&&A[0][A[1][0]].add.vmsk.V3.length!=0}}},{name:"Remove Path",d:function(B){var A=B?B.Kn():null;
return{d:B&&A[1].length!=0&&A[0][A[1][0]].add.vmsk.j.length!=0}},tL:!0},{name:"Make Selection"},{name:[2,3],d:P},{name:[14,9],d:P}],[{N:_.E.z,U:W.pg,M:{p:"remove",ty:!0}},{N:_.E.z,U:W.RY,M:{p:"remove"}},{N:_.E.b,M:{p:_.m.wa,rF:"makesel"}},{N:_.E.zN,M:W.H6.KV(null)},{N:_.E.b,M:{p:_.m.wa,rF:"strokepath"}}]);
V.parent=this;V.update(z.x2,z.i);var D=new dW(_.E.b,!0);D.data={p:_.m.wL,MR:V,x:z.uA.Go+2,y:z.uA.x5+1};
this.K(D)}};aw.prototype.adc=function(n){return null};aw.prototype.f2=function(){for(var z in this.$_){this.$_[z].W()}};
aw.prototype.eI=function(z){var q=new dW(_.E.b,!0),e=this.$_;if(z.target==e.crnr){q=new dW(_.E.z,!0);
q.U=W.pg;q.data={p:"crnr"}}else if(z.target==e.smplp){q=new dW(_.E.z,!0);q.U=W.RY;q.data={p:"smplp"}}else if(z.target==e.make){var n=z.target.r();
console.log(n);if(n==0)q.data={p:_.m.wa,rF:"makesel"};else{q=new dW(_.E.z,!0);q.U=W.v8;q.data={p:"newfill",DO:0}}}else if(z.target==e.fstyle){q.data={p:_.m.Ln,Lh:cR.wg,u:e.fstyle.r()}}else if(z.target==e.sstyle){q.data={p:_.m.Ln,Lh:cR.Vj,u:e.sstyle.r()}}else if(z.target==e.vmode||z.target==e.pmode){q.data={p:_.m.Ln,Lh:z.target==e.vmode?cR.CJ:cR.Bn,u:z.target.r()}}else{if(e.pshape)this.Jm();
q.data={p:_.m.dt,U:this.U};for(var V in e)q.data[V]=e[V].r()}this.K(q)};aw.prototype.Jm=function(){var z=this.$_,q=(z.vmode?z.vmode:z.pmode).r(),e=z.pshape?this.adc(z.pshape.r()):this.OY,V;
if(q==0)V=["anta","make"];if(q==1)V=["anta","fstyle","sstyle"];if(q==2)V=["make","binop","fstyle","sstyle"];
var P=z.binop;if(P){var D=P.r();if(q==0){P.aJB(0)}else{P.ayK(0);if(D==0){P.a(1);this.eI({target:P})}}}J._8(this.body);
for(var n=0;n<e.length;n++){var B=e[n];if(V.indexOf(B)!=-1)continue;this.body.appendChild(z[B].$)}};
aw.prototype.K5=function(z,q){ds.prototype.K5.call(this,z,q);var e=this.$_.fstyle,V=this.$_.sstyle,P=this.$_.vmode,D=this.$_.pmode;
if(e)e.K5(z,q);if(V)V.K5(z,q);if(q==cR.zu||q==cR.nl)if(z.u_.length!=0&&this.$_.shape){this.$_.shape.zT(z.u_)}if(q==cR.zu||q==cR.wg)if(e)e.a(null,z.wY,z.aAD);
if(q==cR.zu||q==cR.Vj)if(V)V.a(null,z.Fh,z.a1b);if(q==cR.zu||q==cR.CJ||q==cR.Bn){var B=z.LS,A=z.EW;if(this.aDH&&A==2)A=0;
if(P){P.a(B);this.Jm()}if(D){D.a(A);this.Jm()}}};function aQ(){aw.call(this,["pmode","make","fstyle","sstyle","binop"],!0)}aQ.prototype=new aw;
function g1(){aw.call(this,"pmode make anta fstyle sstyle binop".split(" "))}g1.prototype=new aw;function ab(){aw.call(this,["fstyle","sstyle","smplp"]);
this.asq=null;this.a50=null;this.a5g=null;this.xM=new cr([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.j9=new ht("\u25BC");this.j9.IM();this.ahX=new ht("\u25B2");this.ahX.IM();this.a58=[this.xM,this.j9,this.ahX];
for(var n=0;n<this.a58.length;n++){var z=this.a58[n];this.body.appendChild(z.$);z.parent=this;z.Q(n==0?_.E.f:"click",this.EE,this)}}ab.prototype=new aw;
ab.prototype.dw=function(z){if(z.ep=="main"){var q=this.a58,e=z.i5;if(e){this.a50=e.Y();this.a5g=JSON.stringify(z.w0);
var V=e.j.slice(0),P=V.length;for(var n=0;n<V.length;n++)V[n]++;V.sort(function(s,a){return s-a});q[0].oR();
q[1]._w(P!=0);q[2]._w(P!=0);q[0]._D(P==0?"No Paths":P==1?"Path "+V[0]:"Paths "+V.slice(0,3).join(",")+(P>3?"..":""));
if(P!=0){var D=e.j[0],B=T.S.ha(e.B,D),A=e.B[B];this.xM.a([3,0,1,2][A.xq])}}else for(var n=0;n<q.length;
n++)q[n].QU()}else aw.prototype.dw.call(this,z)};ab.prototype.f2=function(){aw.prototype.f2.call(this);
this.xM.W()};ab.prototype.EE=function(z){if(z.target==this.xM||z.target==this.j9||z.target==this.ahX){var q={},e=this.a50,V=e.B,P=e.j,D=T.S.S2(V),B=JSON.parse(this.a5g);
P.sort(function(i,X){return i-X});if(z.target==this.xM){var A=this.xM.r();if(A<4)for(var n=0;n<P.length;
n++)V[T.S.ha(V,P[n])].xq=[1,2,3,0][A];else{if(D<=1)return;e.B=T.S.A4(V);e.j=e.B.length==2?[]:[0];e.V3=[];
B=[T.w0.hz()]}}else{var s=z.target==this.j9?-1:1,a=[];for(var n=0;n<D;n++){var M=T.S.ha(V,n),$=M+1+V[M].length;
a.push(V.slice(M,$))}var U=P.slice(0);for(var n=0;n<P.length;n++)U[n]=Math.max(n,Math.min(D-1-(P.length-1-n),U[n]+s));
if(P.join(",")==U.join(","))return;var o=T.G(B);for(var n=0;n<P.length;n++){var t=s==-1?n:P.length-1-n,M=P[t],$=U[t];
if(M!=$){var c=a[M];a[M]=a[$];a[$]=c;c=o[M];o[M]=o[$];o[$]=c}}var H=V.slice(0,2);for(var n=0;n<a.length;
n++)H=H.concat(a[n]);e.B=H;e.j=U;B=o}q.i5=e;q.w0=B;var F=new dW(_.E.b,!0);F.data={p:_.m.dt,U:this.U,HH:q};
this.K(F)}};function ho(){aw.call(this,["fstyle","sstyle","crnr","psnap"])}ho.prototype=new aw;function bR(){aw.call(this,"vmode make anta fstyle sstyle binop cstr crad".split(" "))}bR.prototype=new aw;
function av(){aw.call(this,"vmode make anta fstyle sstyle binop cstr".split(" "))}av.prototype=new aw;
function gE(){aw.call(this,"vmode make anta fstyle sstyle binop pshape sides irad crad width aopts length rows cols brdr".split(" "));
this.$_.aopts.a([!1,!0,50,60,0])}gE.prototype=new aw;gE.prototype.adc=function(n){var z=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["rows","cols","brdr"],["length"]];
return"vmode make fstyle sstyle binop pshape".split(" ").concat(z[n])};function jB(){aw.call(this,"vmode make anta fstyle sstyle binop width aopts".split(" "))}jB.prototype=new aw;
function ix(){aw.call(this,"vmode make anta fstyle sstyle binop cstr shape".split(" "))}ix.prototype=new aw;
function hI(){fy.call(this,!1,["binop","feat","redge","sesu"])}hI.prototype=new fy(!0);function aZ(){ft.call(this,["brush","qsmode","redge","sesu"])}aZ.prototype=new ft;
function fN(){ds.call(this);this._z=[new e8,new ht([8,11,3],null,null,!0),new ht(["VAR0...",[15,10,22]],null,null,!0)];
for(var n=0;n<3;n++){var z=this._z[n];z.Q(n==0?_.E.f:"click",this.EE,this);this.body.appendChild(z.$)}}fN.prototype=new ds;
fN.prototype.EE=function(z){var q=new dW(_.E.b,!0),e=this._z.indexOf(z.target);if(e==0){q.data={p:_.m.dt,U:this.U,$L:z.target.r()}}else if(e==1){q=new dW(_.E.zN,!0);
q.data={gQ:"make",cj:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{q.data={p:_.m.wa,rF:"divslice"}}this.K(q)};
fN.prototype.f2=function(z){for(var n=0;n<this._z.length;n++)this._z[n].W()};function he(){ds.call(this);
var z=this.uw=[new ht("\u25BC",null,null,!0),new ht("\u25B2",null,null,!0),new ht([5,4],null,null,!0),new ht(["VAR0...",[15,10,22]],null,null,!0)];
for(var n=0;n<4;n++){var q=z[n];this.body.appendChild(q.$);q.Q("click",this.EE,this)}}he.prototype=new ds;
he.prototype.EE=function(z){var q=this.uw.indexOf(z.target),e;if(q==3){e=new dW(_.E.b,!0);e.data={p:_.m.wa,rF:"divslice"}}else{e=new dW(_.E.z,!0);
e.U=W.vS;e.data={p:q==2?"delete":"reorder",dir:q==0?-1:1}}this.K(e)};he.prototype.W=function(){ds.prototype.W.call(this);
for(var n=0;n<4;n++)this.uw[n].W()};function iU(z,q){ds.call(this);if(window.Typr==null||z)return;this.ayv=q;
this.EV=null;this.aIO=J.k("span","");this.aoH=J.k("span","");var e=1,V=this.dr={Lu:new gp(null,24),Pa:new gO("X",0,0,"px",0,!1,!0,4),q_:new gO("Y",0,0,"px",0,!1,!0,4),Bh:new gO("W",0,0,["%","px"],2,!1,!0,5),hE:new ht("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),Ok:new gO("H",0,0,["%","px"],2,!1,!0,5),aA_:new gO("\u2221",0,0,"\xB0",e,!1,!0),a5T:new gO("\u25B1 H",-85,85,"\xB0",e,!1,!0),acd:new gO("\u25B1 V",-85,85,"\xB0",e,!1,!0),_g:new cr(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),avb:new cr("Protect",[])};
V._g.a(1);V.hE.a(!0);for(var P in V){var D=V[P],B=!0;if(q&&(D==V.aA_||D==V.a5T||D==V.acd||D==V._g))B=!1;
if(!q&&D==V.avb)B=!1;if(B)this.aIO.appendChild(D.$);var A=D==V.hE?"click":_.E.f;D.Q(A,this.aCp,this)}this.u6=new eD("Split",eD.Op(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.u6.a(-1);this.u6.Q(_.E.f,this.a5y,this);this.kZ=new j8(!0,!0,!0);this.kZ.Q(_.E.f,this.a5y,this);
this.kZ.parent=this;var s=this.aoH,a=this.kZ;s.appendChild(this.u6.$);s.appendChild(a.F_.$);s.appendChild(a.TZ.$);
s.appendChild(a.Jj.$);s.appendChild(a.hR.$);s.appendChild(a.Qq.$);this.qu=new ht([11,9]);this.qu.Q("click",this.aD8,this);
this.r4=new bT;this.r4.Q("click",this.O7,this)}iU.prototype=new ds;iU.prototype.dw=function(z){if(z.uA){var q=iU,e=this.kT;
if(e==null)e=this.kT=new gu(q.asX(),q.aeM(this.U));e.W();e.parent=this;e.update(z.x2,z.i);var V=new dW(_.E.b,!0);
V.data={p:_.m.wL,MR:e,x:z.uA.Go+2,y:z.uA.x5+1};this.K(V);return}J._8(this.body);this.EV=z;var P=this.dr;
if(z.dr){var D=z.dr.TP,B=z.dr.Hn.Y(),A=-Math.atan2(-B.c,B.x6),s=new e5;s.rotate(A);B.concat(s);var a=z.dr.Gq;
if(a==null)a=new f5;P.Lu.a(z.dr.afu);P.Pa.a(z.dr.ZO.x-a.x);P.q_.a(z.dr.ZO.y-a.y);P.Bh.a(B.x6*(P.Bh.UJ()=="%"?100:D.s));
P.Ok.a(B.at*(P.Ok.UJ()=="%"?100:D.T));P.aA_.a(A*180/Math.PI);P.a5T.a(Math.atan(B.I$/B.at)*180/Math.PI);
P.acd.a(0*180/Math.PI);this.body.appendChild(this.aIO);this.qu.Mu();if(z.dr.w7!=null)P.hE.a(z.dr.w7)}if(z.xN){if(z.aNb)this.u6.a(-1);
this.kZ.a(z.xN);this.body.appendChild(this.aoH);this.qu.IM()}if(z.kv)P.avb.jl(z.kv);if(z.ayH&&!this.ayv)this.body.appendChild(this.qu.$);
this.body.appendChild(this.r4.$);P._g.$.style.display=z.ak8?"":"none"};iU.prototype.aCp=function(z){var q=this.dr,e=this.EV.dr.TP,V=q.Lu.r();
if(z.target==q.hE)q.hE.a(!q.hE.r());else if(q.hE.Iv()){var P=q.Ok,D=q.Bh,B=e.T,A=e.s;if(z.target==q.Bh){P=q.Bh;
D=q.Ok;B=e.s;A=e.T}var s=P.r()/(P.UJ()=="%"?100:B);s*=D.UJ()=="%"?100:A;D.a(s)}var a=[];for(var M in q)if(q[M]!=q.hE&&q[M]!=q.Lu){var s=q[M].r();
if((q[M]==q.Bh||q[M]==q.Ok)&&s==0){s=.1;q[M].a(s)}if(q[M]==q.Bh&&q[M].UJ()=="px")s/=e.s/100;if(q[M]==q.Ok&&q[M].UJ()=="px")s/=e.T/100;
a.push(s)}var $=this.EV.dr.Gq;if($==null)$=new f5;var U=new f5(a[0]+$.x,a[1]+$.y);if(z.target==q.Lu){this.KN({ep:"ctyp",afu:V})}else if(z.target==q.Pa||z.target==q.q_){this.KN({ep:"cen",ZO:U})}else{var o=this.EV.dr.Hn.Y(),t=Math.atan2(-o.c,o.x6);
o.translate(-U.x,-U.y);o.rotate(-t);var c=new e5(o.x6,o.c,o.I$,o.at,0,0);c.TG();o.concat(c);var H=a[2]/100,F=a[3]/100;
o.concat(new e5(H,H*Math.tan(a[6]*Math.PI/180),F*Math.tan(a[5]*Math.PI/180),F,0,0));o.rotate(-a[4]*Math.PI/180);
o.translate(U.x,U.y);this.EV.dr.Hn=o;this.KN({ep:"trn",dr:o,UO:q._g.r(),Qg:q.avb.r(),w7:q.hE.r()})}};
iU.prototype.a5y=function(z){var q=this.u6;this.KN(z.target==q?{ep:"splt",u:q.r()}:{ep:"wrp",xN:this.kZ.r()})};
iU.prototype.aD8=function(z){this.KN({ep:"switchWarp"})};iU.prototype.O7=function(z){this.KN({ep:this.r4.r()?"commit":"cancel"})};
iU.prototype.KN=function(z){z.p=_.m.dt;z.U=this.U;var q=new dW(_.E.b,!0);q.data=z;this.K(q)};iU.prototype.f2=function(){var z=this.dr;
for(var q in z)z[q].W();J.DJ(z.Bh,z.Ok);this.r4.W();this.u6.W();this.kZ.W();this.qu.W()};iU.asX=function(){var z=function(q){var e=!0;
if(q==null||q.j.length==0)e=!1;else{var V=q.j;for(var n=0;n<V.length;n++){if(q.Z[V[n]].add.TySh)e=!1}}return{d:e}};
return[{name:[5,9],r0:"Shift+Alt+Ctrl + T",tL:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],d:z},{name:[2,9],d:z,tL:!0},{name:[11,9],d:function(q){if(q==null||q.j.length!=1)return{d:!1};
var e=q.Z[q.j[0]];return{d:e.add.TySh==null&&!e.YZ()}},tL:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
iU.aeM=function(z){if(z==null)z=W.Rs;return[{N:_.E.z,U:z,M:{p:"again"}},{N:_.E.b,M:{p:_.m.uB,U:z,ee:{Ml:3}}},{N:_.E.b,M:{p:_.m.uB,U:z,ee:{Ml:4}}},{N:_.E.b,M:{p:_.m.uB,U:z,ee:{Ml:5}}},{N:_.E.b,M:{p:_.m.uB,U:z,ee:{Ml:2}}},{N:_.E.b,M:{p:_.m.uB,U:z,ee:{Ml:1}}},{N:_.E.b,M:{p:_.m.uB,U:z,ee:{Ml:-1}}},{N:_.E.zN,M:W.On.lL(!0,90,!0)},{N:_.E.zN,M:W.On.lL(!0,-90,!0)},{N:_.E.zN,M:W.On.lL(!0,-180,!0)},{N:_.E.zN,M:W.On.lL(!1,"Hrzn",!0)},{N:_.E.zN,M:W.On.lL(!1,"Vrtc",!0)}]};
function lx(){iU.call(this)}lx.prototype=new iU(!0);function gl(){iU.call(this)}gl.prototype=new iU(!0);
function iw(){iU.call(this,!1,!0)}iw.prototype=new iU(!0);function dO(){ds.call(this);var z=this.OY=[new cr([12,36],["Rigid",[15,10,0],[24,4]]),new cr([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new gO([7,4],0,100,"px"),new iP("Show Mesh"),new ht("\u25BC",null,null,!0),new ht("\u25B2",null,null,!0)];
for(var n=0;n<z.length;n++){var q=z[n];q.parent=this;this.body.appendChild(q.$);q.Q(n<4?_.E.f:"click",this.qs,this)}this.r4=new bT;
this.r4.Q("click",this.O7,this);this.body.appendChild(this.r4.$)}dO.prototype=new ds;dO.prototype.f2=function(){var z=this.OY;
for(var n=0;n<4;n++)z[n].W();this.r4.W()};dO.prototype.dw=function(z){var z=z.Lh;for(var n=0;n<4;n++)this.OY[n].a(z[n])};
dO.prototype.qs=function(z){var q=[];for(var n=0;n<4;n++)q[n]=this.OY[n].r();var e=this.OY.indexOf(z.target);
if(e<4)this.KN({ep:"prm",Lh:q});else this.KN({ep:"moveDepth",aC4:e==5})};dO.prototype.O7=function(z){this.KN({ep:this.r4.r()?"commit":"cancel"})};
dO.prototype.KN=function(z){z.p=_.m.dt;z.U=this.U;var q=new dW(_.E.b,!0);q.data=z;this.K(q)};function jV(){ds.call(this);
this.ZN=new eD(null,["Layout","Warp"]);this.ZN.Q(_.E.f,this.qs,this);this.body.appendChild(this.ZN.$);
this.bg=new ht([5,4]);this.bg.Q("click",this.qs,this);this.body.appendChild(this.bg.$);this.r4=new bT;
this.r4.Q("click",this.O7,this);this.body.appendChild(this.r4.$)}jV.prototype=new ds;jV.prototype.f2=function(){var z=this.OY;
this.bg.W();this.r4.W()};jV.prototype.dw=function(z){this.ZN.a(z.Lh)};jV.prototype.qs=function(z){this.KN(z.target==this.bg?{ep:"delete"}:{Lh:this.ZN.r()})};
jV.prototype.O7=function(z){this.KN({ep:this.r4.r()?"commit":"cancel"})};jV.prototype.KN=function(z){z.p=_.m.dt;
z.U=this.U;var q=new dW(_.E.b,!0);q.data=z;this.K(q)};function cX(){ds.call(this);this.OY=null;this.Lr=new cr([12,44],["","","","",""]);
this.Lr.Q(_.E.f,this.eI,this);this.body.appendChild(this.Lr.$);this.Yg=new iP("ON");this.Yg.Q(_.E.f,this.eI,this);
this.body.appendChild(this.Yg.$);var z=gO;this.JE=[[new z([24,2],0,500)],[new z([24,2],0,500)],[],[new z([24,2],0,500)],[new z("Speed",0,500,"%"),new z("Point Speed",0,500,"px")],[new z([12,15],0,360,"\xB0",null,!0)]];
for(var n=0;n<6;n++)for(var q=0;q<this.JE[n].length;q++){var e=this.JE[n][q];e.parent=this;e.Q(_.E.f,this.eI,this)}this.r4=new bT;
this.r4.Q("click",this.eI,this)}cX.prototype=new ds;cX.prototype.dw=function(z){var q=this.OY=z.Lh,e=q[0];
this.a60();this.W()};cX.prototype.eI=function(z){var q=this.OY,e=q[0],V=z.target,P=V.r();if(V==this.r4){}else if(V==this.Lr){e=q[0]=P<2?P:P+1;
this.a60(e);q[2]=null}else if(V==this.Yg){q[1][e]=P;q[2]=null;this.W()}else{var D=this.JE[e];for(var B=0;
B<D.length;B++)q[2][B]=D[B].r()}var A=new dW(_.E.b,!0);A.data={p:_.m.dt,U:this.U,Lh:q};if(V==this.r4)A.data.ep=P?"commit":"cancel";
this.K(A)};cX.prototype.a60=function(){var z=this.body,q=this.OY,e=q[0];this.Lr.a(e<2?e:e-1);this.Yg.a(q[1][e]);
while(z.children.length>2)z.removeChild(z.lastChild);var V=this.JE[e];for(var n=0;n<V.length;n++){V[n]._w(q[2]!=null);
if(q[2]!=null)V[n].a(q[2][n]);z.appendChild(V[n].$)}z.appendChild(this.r4.$)};cX.prototype.W=function(){var z=[],q=this.OY,e=this.Lr;
for(var n=0;n<5;n++){var V=[24,3,12,n];if(q)V=(q[1][n<2?n:n+1]?"\u2713 ":"\u2002\u2002")+iE.get(V);z.push(V)}var P=e.r();
e.jl(z);e.a(P);var D=this.JE;for(var n=0;n<6;n++){var B=D[n];for(var A=0;A<B.length;A++)B[A].W()}};function lq(){ds.call(this);
var z=this.Js=[new cr([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var n=0;n<z.length;n++){var q=z[n];
q.Q(_.E.f,this.eI,this);this.body.appendChild(q.$)}}lq.prototype=new ds;lq.prototype.eI=function(z){var q=this.Js,e=[];
for(var n=0;n<q.length;n++)e[n]=q[n].r();var V=new dW(_.E.b,!0);V.data={p:_.m.dt,U:this.U,r1:e};this.K(V)};
lq.prototype.f2=function(){for(var n=0;n<this.Js.length;n++)this.Js[n].W()};function gB(){fy.call(this,!1,["binop"]);
this.yr=new ht("Remove",!1,null,!0);this.yr.Q("click",this.we,this);this.yr.$.style.marginRight="2em";
this.Ii=new eE("New content");this.U2=new dK;this.U2.parent=this;this.PO=new ht([18,0],!1,null,!0);this.PO.Q("click",this.we,this);
this.ab4=new ht("Undo",!1,null,!0);this.ab4.Q("click",this.we,this);this.a2p=new ht("?",!1,null,!0);
this.a2p.Q("click",this.we,this);this.body.appendChild(this.Ii.$);this.body.appendChild(this.U2.$);this.body.appendChild(this.PO.$);
this.body.appendChild(this.yr.$);this.body.appendChild(this.ab4.$);this.body.appendChild(this.a2p.$)}gB.prototype=new fy(!0);
gB.prototype.W=function(){ds.prototype.W.call(this);this.PO.W();this.U2.W()};gB.prototype.we=function(z){if(z.target==this.ab4){var q=new dW(_.E.z,!0);
q.U=W.S3;q.data={p:"h_stepbck"};this.K(q);return}if(z.target==this.a2p){window.open("https://x.com/photopeacom/status/1661425407944425494/video/1","_blank");
return}var e=z.target==this.yr,V=e?"empty background":this.Ii.r();this.U2.ayC(V)};function cm(){gq.call(this);
this.$=J.k("div","cmanager");window.alert=function(V,P){this.aL8(V,P);console.log("Alert: "+V)}.bind(this);
window.onblur=function(V){var P=this;P.Z6()}.bind(this);this.xL=0;this.Hi=0;this.hB=[];this.aKE={};this.hK=J.k("div","alertcont");
J.C(this.hK,"pointer-events:none");this.$.appendChild(this.hK);this.asc=J.k("div","alertcont");this.$.appendChild(this.asc);
this.QG=J.k("div","alertcont");this.axb=0;this.zY=-1;this.aOB=null;this._z=null;var z=this.aDO=J.k("div","alertpanel");
J.C(z,"padding:0.7em 1em 0.1em 1em;");this.QG.appendChild(z);var q=this.K4=J.k("input");q.setAttribute("type","text");
J.Ur(q);J.C(q,"background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");q.addEventListener("input",this.ayN.bind(this),!1);
q.addEventListener("keydown",this.abN.bind(this),!1);z.appendChild(q);var e=this.jY=J.k("div","contextpanel scrollable");
J.C(e,"text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");e.addEventListener("click",this.avo.bind(this),!1);
z.appendChild(e);J.Br(document.body,this.a1G.bind(this))}cm.prototype=new gq;cm.prototype.aPp=function(){if(J.H2(this.QG))this.$.removeChild(this.QG)};
cm.prototype.aeP=function(z,q){var e=this.aOB=[],V=q.adn;for(var n=0;n<a5.data.length;n++){var P=a5.data[n],D=[iE.get(P.name)],B=[n];
cm.a04(P.items,D,B,e,z,q,V==null?null:V[n]==null?0:V[n])}var A=q.jc;for(var n=0;n<A.Oo.length;n++){var s=A.Oo[n],a=A.keys[n];
for(var M=0;M<s.length;M++)e.push([["Tools",iE.get(s[M].U.name)],[-1,s[M].U.id],a?a.HS:null])}this.$.appendChild(this.QG);
var $=this.K4;$.focus();$.select();this.LE()};cm.prototype.ayN=function(z){this.zY=-1;this.LE()};cm.prototype.LE=function(){var z=this.K4.value.toLowerCase().trim().replace(/  +/g," "),q=this.aOB,e=[],V=[],P=z.split(" ");
if(z!="")for(var n=0;n<q.length;n++){var D=q[n][0],B=[],A=0;for(var s=0;s<D.length;s++)B[s]=-1;for(var a=0;
a<P.length;a++)for(var s=0;s<D.length;s++){var M=D[s].toLowerCase().indexOf(P[a]);if(M!=-1){B[s]=[M,M+P[a].length];
A++;break}}if(A==P.length){e.push(q[n]);V.push(B)}}var $=[],U=this.jY;J._8(U);for(var n=0;n<e.length;
n++){var o=e[n],t=o[0],M=V[n],c="enab",F="";if(n==this.zY)c+=" active";var H=J.k("div",c);$.push(H);
U.appendChild(H);for(var s=0;s<t.length;s++){var i=M[s],X=P[s],K=t[s];if(i!=-1)K=K.slice(0,i[0])+"<span style=\"color:black\">"+K.slice(i[0],i[1])+"</span>"+K.slice(i[1]);
F+=K;if(s<t.length-1)F+=" \uFE65 "}if(o[2]&&(typeof o[2]!="string"||o[2].length==1))F+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+cz.L6(o[2])+"</span>";
H.innerHTML=F}this._z=[e,$]};cm.prototype.abN=function(z){var q=cz.Kz,e=z.code;if(q(e,cz.Nf))this.aPp();
var V=q(e,cz.CM),P=q(e,cz.P3),D=q(e,cz.JN);if(V||P){this.zY=Math.max(0,Math.min(this._z[0].length-1,this.zY+(V?-1:1)));
this.LE()}if(D&&this.zY!=-1)this.aq5(this.zY)};cm.a04=function(z,q,e,V,P,D,B){if(typeof B=="number"){if(B==0)return;
if(B==1)B=null}for(var n=0;n<z.length;n++){if(B!=null&&(B[n]==0||B[n]==null))continue;var A=z[n],s=q.slice(0),a=e.slice(0),M=iE.get(A.name);
if(A.d){var $=A.d(P,D,n);if($.HK)M=$.HK;if($.d==!1)continue}s.push(M);a.push(n);if(A.sub)cm.a04(A.sub,s,a,V,P,D,B?B[n]:null);
else V.push([s,a,A.r0])}};cm.prototype.avo=function(z){var q=z.target;if(q.tagName.toLowerCase()=="span")q=q.parentNode;
var e=this._z[1].indexOf(q);if(e!=-1)this.aq5(e)};cm.prototype.aq5=function(z){var q=this._z[0][z][1];
if(q[0]==-1){var e=new dW(_.E.b,!0);e.data={p:_.m.uB,U:q[1]};this.K(e)}else{var V=a5.data[q[0]].bo[q[1]];
for(var n=2;n<q.length;n++)V=V.sub[q[n]];var P=new dW(V.N,!0);P.U=V.U;P.data=V.M;this.K(P)}this.aPp()};
cm.prototype.hh=function(z,q){this.xL=z;this.Hi=q;this.jY.style["max-height"]=q-120+"px"};cm.prototype.aA8=function(z){var q=J.k("div","alertpanel");
q.textContent=iE.get(z);this.hK.appendChild(q);this.aKE[JSON.stringify(z)]=q};cm.prototype.aIt=function(z){var q=this.aKE[JSON.stringify(z)];
this.hK.removeChild(q);delete this.aKE[JSON.stringify(z)]};cm.prototype.aL8=function(z,q){var e=this.asc;
for(var n=0;n<e.children.length;n++)if(e.children[n].textContent==z)return;var V=J.k("div","alertpanel tpanel");
V.textContent=z;J.C(V,"opacity:0.5; transform:scale(0.9)\t");e.appendChild(V);if(q==null)q=1500;var P=q,D=Math.max(Date.now()+P,this.axb+P);
setTimeout(function(){J.C(V,"transform:scale(1); opacity:1;")},10);setTimeout(function(){J.C(e,"pointer-events:none; margin-top: -3.6em; transform: translateY(3.6em);")},D-Date.now()-30);
setTimeout(function(){e.removeChild(e.firstChild);J.C(e,"pointer-events:none; transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},D-Date.now());
this.axb=D};cm.prototype.a1G=function(z){var q=this.hB;for(var n=q.length-1;n>=0;n--){var e=q[n],V=z.target;
while(V!=null){if(V==e.$){this.Z6(e);return}V=V.parentNode}}this.Z6();var P=z.target;while(P!=this.QG&&P!=document.body)P=P.parentNode;
if(P!=this.QG)this.aPp()};cm.prototype.Z6=function(z){var q=this.hB;for(var n=0;n<q.length;n++){if(z&&z.awV(q[n]))continue;
var e=q[n].$;if(!(q[n]instanceof gu))J.Dl(q[n],this.$);else this.$.removeChild(e);e.style.height="auto";
J.Pf(e,"scrollable");q.splice(n,1);n--}};cm.prototype.atP=function(z){this.Z6(z.MR);var q=z.MR,e=q.$;
if(this.hB.indexOf(q)!=-1)return;this.hB.push(q);this.$.appendChild(e);var V=this.xL,P=this.Hi,D=z.x,B=z.y,A=this.$.getBoundingClientRect(),s=q instanceof gu,a=-1,M=P-2;
if(s||z.qH){var $=q.Kr(),U=q.gX();if(s)$=Math.min($,200);var o=V-$-2,t=P-U-2;if(B<t)a=2;else if(D<o)a=1;
else if(0<B-U-2)a=0;else a=3;if(z.a90)a=0;if(z.aOj)a=2;if(a==2){D=Math.min(D,o)}else if(a==1){B=Math.min(B,t)}else if(a==0){B=B-U-2;
D=Math.min(D,o);M=z.y}else if(a==3){D=D-$-2;B=Math.min(B,t)}}B=Math.max(2,B);var top=Math.round(B-A.y+this.$.offsetTop);
e.style.position="absolute";e.style["z-index"]=10;if(B+q.gX()>M){e.style.height=M-B+"px";J.d6(e,"scrollable");
if(a==3)D-=10}e.style.left=Math.round(D)+"px";e.style.top=top+"px";if(!(q instanceof gu))J.xW(q)};cm.prototype.atZ=function(z){var q=z.MR,e=this.hB.indexOf(q);
if(e==-1)return;this.hB.splice(e,1);var V=q.$;if(!(q instanceof gu))J.Dl(q,this.$);else this.$.removeChild(q.$)};
cm.prototype.I6=function(){var z=this.hB;return z.length==0?null:z[z.length-1]};cm.prototype.a8P=function(){this.atZ({MR:this.I6()})};
function lu(){gq.call(this);this.$=J.k("div","confbar")}lu.prototype=new gq;lu.prototype.anI=function(z){z.parent=this;
J._8(this.$);this.$.appendChild(z.$)};function fj(){gq.call(this);var z=this.$=J.k("div","toolconf");
z.style.marginLeft="40px";this.h$=null;this.VY=null;var q=this.aMl=[J.k("span"),J.k("span"),J.k("span")];
for(var n=0;n<3;n++)z.appendChild(q[n]);this.DW=[new g6(0),new g6(1),new gO([14,9],0,100,"px"),new eO(!0)];
for(var n=0;n<this.DW.length;n++){var e=this.DW[n];e.parent=this;e.Q(_.E.f,this.awi,this);q[0].appendChild(e.$)}var V=this.ss=new br;
this.ss.parent=this;this.aNA=new ij("Tt:");q[1].appendChild(this.aNA.$);q[1].appendChild(V.rv.$);q[1].appendChild(V.uo.$);
q[1].appendChild(V.SI.$);this.$D=new ht([11,11,0],null,null,!0);this.$D.$.style.marginBottom="-8px";
this.$D.$.style.verticalAlign="middle";this.$D.Q("click",function(P){var D=new dW(_.E.b,!0);D.data={p:_.m.wa,rF:"vbitmap"};
this.K(D)},this);q[2].appendChild(this.$D.$);this.Jk=new gO([12,0],0,100,"%",0);this.Jk.$.style.marginLeft="10px";
this.Jk.Q(_.E.f,this.awi,this);z.appendChild(this.Jk.$)}fj.prototype=new gq;fj.prototype.awi=function(z){var q=this.DW.indexOf(z.target),e=z.target.r();
if(z.target==this.Jk){var V=new dW(_.E.z,!0);V.U=W.si;V.data={p:lK.tS,oo:Math.round(255*e/100)};this.K(V);
return}var P=T.G(this.h$.kQ);if(q<2){var D,B=e;if(q==0){D=P.oO;P.oO=B}else{D=P.i8;P.i8=B}if(D&&D.length!=B.length){var A=[1,0,0,1,0,0];
if(D.length==4){A=D[3].slice(0);A[1]*=-1;A[2]*=-1}if(D.length==2){A=D[1][1].slice(0)}if(B.length==4){B[2]=[0,0,0,1,1,0,0];
B[3]=A;A[1]*=-1;A[2]*=-1}if(B.length==2){B[1]=[[0,0,1,1,0,0,0,0,0],A]}}}if(q==2)P.e6=e;if(q==3)P=e;var V=new dW(_.E.b,!0);
V.data={p:_.m.Ln,Lh:cR.gF,u:P};this.K(V)};fj.prototype.W=function(){for(var n=0;n<this.DW.length;n++)this.DW[n].W();
this.ss.W();this.Jk.W();this.$D.W()};fj.prototype.Ue=function(z,q){this.VY=z;this.DW[0].zT(z);this.DW[1].zT(z)};
fj.prototype.N_=function(z){if(z.j.length==0)return;var q=z.Z[z.j[0]],e=this.aMl;this.Jk.a(Math.round(q.vz*100/255));
var V=[q.add.vmsk,q.add.TySh,q.add.SoLd];for(var n=0;n<3;n++)J.C(e[n],"line-height:1.5em; display:"+(V[n]?"":"none"))};
fj.prototype.K5=function(z,q){this.h$=z;var e=z.kQ,V=this.VY;this.DW[0].a(e.oO,V);this.DW[1].a(e.i8,V);
if(e.e6!=null)this.DW[2].a(e.e6);this.DW[3].a(e);this.ss.a(z.Zh,z.Se,z.Bi)};function hO(){gq.call(this);
this.$=J.k("div","toolconf");var z=J.k("div","body");this.$.appendChild(z);z.style.marginLeft="8px";
this.h$=null;this.VY=null;this.gW=new gq;this.gW.parent=this;var q=this.gW.$=J.k("div","floatcont form label6");
q.style.width="290px";this.Jn=new gO("BPM",1,300,null,0,!1,!0,2.8);hO.aKT(this.Jn);q.appendChild(this.Jn.$);
J.f9(q);this.n0=new gO("Time Sign",1,16,null,0,!1,!0,2.8);hO.aKT(this.n0);this.yX=new gO("/",1,16,null,0,!1,!0,2);
hO.aKT(this.yX);this.yX.CR.style.minWidth="0em";q.appendChild(this.n0.$);q.appendChild(this.yX.$);this.or=new cr("Soundfont",[]);
q.appendChild(this.or.$);this.Jn.Q(_.E.f,this.eI,this);this.n0.Q(_.E.f,this.eI,this);this.yX.Q(_.E.f,this.eI,this);
this.or.Q(_.E.f,this.eI,this);this.JE=new ht("...",!1,null,!0);this.JE.$.style.marginLeft="32px";this.JE.Q("click",function(V){if(J.H2(q))return;
var P=this.JE.$.getBoundingClientRect(),D=new dW(_.E.b,!0);D.data={p:_.m.wL,MR:this.gW,x:P.left,y:P.top+P.height+4,qH:!0};
this.K(D)},this);this.Uo=new eD(null,["Piano","Sheet"]);this.Uo.Q(_.E.f,function(V){if(this.VY.add.prvw==this.Uo.r())return;
var P=new dW(_.E.z,!0);P.U=W.OF;P.data={p:"prvw"};this.K(P)},this);z.appendChild(this.JE.$);z.appendChild(this.Uo.$);
this.mF=new ht("\u25B6",!1,"Play",!0);this.mF.$.style.width="26px";this.mF.Q("click",function(V){var P=new dW(_.E.b,!0);
P.data={p:_.m.D$};this.K(P);this.mF._D(this.VY.m.MU&&!this.VY.m.o9?"\u23F8":"\u25B6")},this);z.appendChild(this.mF.$);
this.xE=new ht("\u2B24",!1,"Record",!0);this.xE.$.style.width="26px";this.xE.Q("click",function(V){var P=new dW(_.E.b,!0);
P.data={p:_.m.e0};this.K(P);this.xE._D(this.VY.m.o9?"\u23F8":"\u2B24")},this);z.appendChild(this.xE.$);
this.r7=J.k("span");z.appendChild(this.r7);this.GR=[new gO("Velocity",0,127),new eE("Text",null,10),new gO("BPM",1,1e3),new eE("Time Signature",null,3)];
for(var n=0;n<this.GR.length;n++){var e=this.GR[n];e.parent=this;e.Q(_.E.f,this.avw,this)}this.bg=new ht([5,4],!1,null,!0);
this.bg.Q("click",this.avw,this)}hO.prototype=new gq;hO.aKT=function(z){z.K4.style.textAlign="center"};
hO.prototype.hh=function(z,q){this.mF.$.style.marginLeft=Math.max(0,z/2-260)+"px";this.r7.style.marginLeft=Math.max(0,Math.min(50,z/2-300))+"px"};
hO.prototype.K5=function(z,q){this.h$=z;var e=[];for(var n=0;n<z.dl.length;n++)e.push(z.dl[n]._o.INAM);
this.or.jl(e);this.or.a(z.gI)};hO.prototype.Ue=function(z,q){this.VY=z};hO.prototype.W=function(){this.mF.W();
this.Jn.W();this.n0.W();this.yX._D("/\u2000");for(var n=0;n<this.GR.length;n++)this.GR[n].W()};hO.prototype.eI=function(z){if(z.target==this.or){var q=new dW(_.E.b,!0);
q.data={p:_.m.Ln,Lh:cR.af2,u:this.or.r()};this.K(q);return}var e=this.Jn.r(),V=[this.n0.r(),this.yX.r()],q=new dW(_.E.z,!0);
q.U=W.si;q.data={p:lK.rY,oo:{Ul:e,HL:V}};this.K(q)};hO.prototype.avw=function(z){if(z.target==this.bg){var q=new dW(_.E.z,!0);
q.U=W.HI;q.data={p:"remove",JJ:"Delete Notes"};this.K(q);return}var e=this.GR.indexOf(z.target),V=z.target.r();
if(e==3)V=V.split("/").map(parseFloat);console.log(V);var q=new dW(_.E.z,!0);q.U=W.HI;q.data={p:"nprop",oo:V};
this.K(q)};hO.prototype.N_=function(z){this.Uo.a(z.add.prvw==1?1:0);this.Jn.a(z.m.Ul);this.n0.a(z.m.HL[0]);
this.yX.a(z.m.HL[1]);var q=this.r7,P=0;J._8(q);if(z.j.length!=1)return;var e=z.Z[z.j[0]];if(e.m.j.length==0)return;
var V=e.m.list[e.m.j[0]],D=V[3];if(e.m.Aa<=200){P=0}if(e.m.Aa==300){P=1}if(e.m.Aa==500){P=2}if(e.m.Aa==501){P=3;
D=V[3][0]+"/"+V[3][1]}var B=this.GR[P];B.a(D);q.appendChild(B.$);q.appendChild(this.bg.$)};function gC(z){gq.call(this);
gC.NS=this;gC.BU=z;this.i=null;this.Wc=J.k("input","");this.Wc.setAttribute("type","file");this.Wc.setAttribute("multiple","");
this.Wc.addEventListener("change",function(q){this.Bs(q.target.files,null,this.sQ,null);this.sQ=null}.bind(this),!1);
document.body.appendChild(this.Wc);J.C(this.Wc,"display:none");this.afs=[];this.aik=!1;this.aH6=[];this.aOr=!1;
this.a8C={};this.sQ=null}gC.prototype=new gq;gC.BU=null;gC.da=function(z){try{var q={};q[z.type]=z;navigator.clipboard.write([new ClipboardItem(q)])}catch(cz){console.error(cz,cz.message)}};
gC.ZG=function(z,q){navigator.clipboard.read().then(function(e){for(var n=0;n<e.length;n++){try{var V=e[n],P={},D=0,B=0;
for(var A=0;A<V.types.length;A++){var s=V.types[A];D++;V.getType(s).then(function(a){var M=s;new Response(a).arrayBuffer().then(function($){P[this.DO]=$;
B++;if(B==D)gC.aNI(P,z,q)}.bind({DO:this.DO}))}.bind({DO:s}))}}catch(cz){console.error(cz,cz.message)}}}).catch(function(e){alert("Please, give us permissions to access your clipboard.")})};
gC.agw=function(z){navigator.permissions.query({name:"clipboard-read"}).then(function(q){z(q.state)})};
gC.aNI=function(z,q,e){var V=["text/plain","image/png","text/html","text/plain"];for(var P in z)console.log(P,P.startsWith("text")?y.vK(new Uint8Array(z[P])).slice(0,100)+"...":z[P]);
for(var D=0;D<V.length;D++){var B=V[D],A=z[B];if(A==null)continue;if(B=="image/png"){gC.BU({name:"image.png"},A,q,e);
return}if(B=="text/plain"){var s=y.vK(new Uint8Array(A));if(D==0)if(!s.startsWith("<!--")&&!s.startsWith("<svg"))continue;
if(e&&s.startsWith("<svg"))continue;var a=new dW(_.E.b,!0);a.data={p:_.m.aL6,u:s};q.K(a);return}if(B=="text/html"){var s=y.vK(new Uint8Array(A)),M=s.indexOf("src=\"");
if(M!=-1){var $=M+10;while(s[$]!="\"")$++;var U=s.slice(M+5,$);if(U.startsWith("http")){var a=new dW(_.E.b,!0);
a.data={p:_.m.ge,Lh:{url:U,MP:!0}};q.K(a);return}else{gC.BU({name:"chart.png"},hZ.cC(U).buffer,q,e);
return}}}}};gC.prototype.xy=function(z){if(z==null)z=[23,5];var q=JSON.stringify(z),e=this.a8C;if(e[q]==null)e[q]=0;
if(e[q]==0){var V=new dW(_.E.b,!0);V.data={p:_.m.lu,MN:z};this.K(V)}e[q]++};gC.prototype.D_=function(z){if(z==null)z=[23,5];
var q=JSON.stringify(z),e=this.a8C;if(e[q]==null)e[q]=0;e[q]--;if(e[q]==0){var V=new dW(_.E.b,!0);V.data={p:_.m.Rx,MN:z};
this.K(V)}};gC.prototype.aMr=function(z,q,e){this.sQ=z;var V=window.showOpenFilePicker;if(e)V=null;if(J.gA()&&V&&window.self==window.top){var P=this;
V({multiple:!0}).then(function(A){var s=[];function a(M){s.push(M);if(s.length==A.length){P.Bs(s,null,P.sQ,null,A);
P.sQ=null}else A[s.length].getFile().then(a)}A[s.length].getFile().then(a)});return}var D=this.Wc;if(q)D.setAttribute("accept",q);
else D.removeAttribute("accept");var B=document.createEvent("MouseEvents");B.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
D.dispatchEvent(B)};gC.prototype.$q=function(z){if(z.url.indexOf("photopea.com#i")!=-1||z.url.indexOf("photopea.com/#i")!=-1){this.Vh(z.url.split("#i").pop());
return}this.afs.push(z);this.aBm()};gC.prototype.aBm=function(){var z=this.afs;if(z.length==0||this.aik)return;
this.aik=!0;var q=z.shift();this.xy();if(q.kK==null)q.kK={};var e=new XMLHttpRequest;e.nV=q;var V=q.url;
if(q.MP&&!V.startsWith("data:image"))V=(V);e.open("GET",V);if(q.aFi)for(var P in q.aFi)e.setRequestHeader(P,q.aFi[P]);
e.responseType="arraybuffer";e.onload=this.aeE.bind(this);e.send()};gC.prototype.Bs=function(z,q,e,V,P){for(var n=0;
n<z.length;n++){this.xy();var D=z[n],B=new FileReader;B.nV=D;B.nV.P5=e;B.nV.xK=V==null?null:V+n;B.aul=q;
if(P)B.nV.dL=P[n];B.onload=this.aeE.bind(this);B.onerror=function(A){this.D_()}.bind(this);this.aH6.push([B,D])}this.Wc.value=null;
this.aKZ()};gC.prototype.aKZ=function(){var z=this.aH6;if(z.length==0||this.aOr)return;this.aOr=!0;var q=z.shift();
q[0].readAsArrayBuffer(q[1])};gC.prototype.agj=function(z,q,e){this.xy("Saving ...");this.i=q;setTimeout(e.bind({Bt:z,caller:this}),50)};
gC.aEO=function(z){var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(z),V=e.length,P=V%3,D=V-P,B=[],A=0,s=0,a=0;
for(var n=0;n<D;n+=3){A=e[n];s=e[n+1];a=e[n+2];B.push(q[A>>2]+q[(A&3)<<4|s>>4]+q[(s&15)<<2|a>>6]+q[a&63])}if(P==1){A=e[D];
B.push(q[A>>2]+q[(A&3)<<4]+"==")}if(P==2){A=e[D];s=e[D+1];B.push(q[A>>2]+q[(A&3)<<4|s>>4]+q[(s&15)<<2]+"=")}var M=B.join("");
return M};gC.apI=function(z,q){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V=new Uint8Array(64),A=0,s=0,a=0,$=0;
for(var n=0;n<64;n++)V[n]=e.charCodeAt(n);var P=new Uint8Array(z),D=q%3,B=q-D,M=new Uint8Array(Math.floor(q/3)*4+(D==0?0:4));
for(var n=0;n<B;n+=3){A=P[n];s=P[n+1];a=P[n+2];M[$]=V[A>>>2];M[$+1]=V[(A&3)<<4|s>>>4];M[$+2]=V[(s&15)<<2|a>>>6];
M[$+3]=V[a&63];$+=4}if(D==1){A=P[B];M[$]=V[A>>2];M[$+1]=V[(A&3)<<4];M[$+2]=61;M[$+3]=61}if(D==2){A=P[B];
s=P[B+1];M[$]=V[A>>2];M[$+1]=V[(A&3)<<4|s>>4];M[$+2]=V[(s&15)<<2];M[$+3]=61}return M};gC.prototype.aeE=function(z){var q,e=z.target.nV;
if(z.target instanceof XMLHttpRequest)q=z.target.response;else q=z.target.result;gC.BU(e,q,this,z.target.aul);
this.D_();if(z.target instanceof XMLHttpRequest){this.aik=!1;this.aBm()}else{this.aOr=!1;this.aKZ()}};
gC.aPI=function(z,q){var e=new XMLHttpRequest;e.open("POST","https://api.imgur.com/3/image",!0);e.vI=q;
var V=["59e11a2fac9b1ed","09fbce0ad11eea8"],P=24*60*6e4/V.length,D=Math.floor(Date.now()/P)%V.length;
console.log(D);lA.event("imgur_req-"+D);e.setRequestHeader("Authorization","Client-ID "+V[D]);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");
e.setRequestHeader("Accept","application/json");e.addEventListener("load",gC.ayI);e.addEventListener("progress",function(B){var A=B.target.status;
if(A==429)alert("Too many uploads, try it a bit later.");else if(400<=A)alert("Error. Status code: "+A)});
e.send("type=base64&image="+encodeURIComponent(gC.aEO(z)));alert("Saving to Imgur ...",4e3)};gC.ayI=function(z){var q=JSON.parse(z.target.response);
if(q.success){if(z.target.vI)z.target.vI(q.data.link);else window.open(q.data.link,"Imgur")}};gC.prototype.Vh=function(z,q){this.xy();
var e=new XMLHttpRequest;e.responseType="arraybuffer";e.open("GET","templates/file/"+(q?"pp-resources":"psdshared")+"/"+z);
e.onload=this.aGh.bind(this);e.send();e.mz=[Date.now(),z,q]};gC.prototype.aGh=function(z){var q=z.target.mz,e=new Uint8Array(z.target.response);
console.log(e.length+" B,",Date.now()-q[0]+" ms");for(var n=0;n<e.length;n++)e[n]=255-e[n];e=pako.inflateRaw(e);
var V=JSON.parse(y.vK(e,0,2e3));gC.BU({name:V.name,QB:q[1]},e.slice(2e3).buffer,this);this.D_();if(!q[2])gC.ET("act=0&id="+q[1])};
gC.prototype.aD_=function(z,q,e,V){if(!(z instanceof ArrayBuffer))throw"e";z=new Uint8Array(z);var P=new Uint8Array(z.length+2e3);
for(var n=0;n<2e3;n++)P[n]=32;y.m$(JSON.stringify({name:q}),P,0);P.set(z,2e3);z=P;z=pako.deflateRaw(z);
for(var n=0;n<z.length;n++)z[n]=255-z[n];z=z.buffer;var D=z.byteLength,B=c2._M(D),A=~~(609e5/2),s=~~(209e5/2);
if(D>A){confirm("Your file is "+B+". Our limit is "+c2._M(A)+". Delete some layers and try again.");
return}if(D>s){var a=confirm("Your file is quite large ("+B+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!a)return}this.avu(z,e,V)};gC.prototype.avu=function(z,q,e){var V=sha1(z),P="";for(var n=0;n<20;n++){var D=parseInt(V.slice(n*2,n*2+2),16);
P+=String.fromCharCode(D)}var B=btoa(P).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(gC.awN(B,e)){console.log("file already exists");
if(q)q(B);else window.open("https://www.photopea.com#i"+B+".psd");return}this.xy("Publishing ...");var A=new XMLHttpRequest;
A.mz=[z,V,B,q,e];A.open("GET",lA.A6("papi/img/publish.php?rnd="+Math.random()+"&id="+B+"&size="+z.byteLength+"&bname="+e));
A.onload=this.ayM.bind(this);A.send()};gC.awN=function(z,q){try{var e=new XMLHttpRequest;e.open("HEAD","templates/file/"+q+"/"+z,!1);
e.send();if(e.status==200)return!0}catch(cz){return!1}return!1};gC.prototype.ayM=function(z){console.log(z.target.response);
var q=JSON.parse(z.target.response),e=z.target.mz,V=new XMLHttpRequest;V.open("POST",q.uploadUrl);V.setRequestHeader("Authorization",q.authorizationToken);
V.setRequestHeader("X-Bz-File-Name",e[2]);V.setRequestHeader("Content-Type","b2/x-auto");V.setRequestHeader("X-Bz-Content-Sha1",e[1]);
V.send(new Blob([e[0]]));V.onload=this.als.bind({Av:this,mz:e})};gC.prototype.als=function(z){this.Av.D_("Publishing ...");
if(this.mz[3])this.mz[3](this.mz[2]);else window.open("https://www.photopea.com#i"+this.mz[2]+".psd");
if(this.mz[4]=="psdshared")gC.ET("act=2&id="+this.mz[2]+"&fileId="+JSON.parse(z.target.response).fileId);
if(this.mz[4]=="jpgshared")gC.ET("act=6&id="+this.mz[2]+"&fileId="+JSON.parse(z.target.response).fileId)};
gC.ET=function(z){var q=new XMLHttpRequest;q.open("GET","/papi/img/update.php?"+z+"&rnd="+Math.random());
q.send()};gC.save=function(z,q){var e=new Uint8Array(z),V=document.createElement("a");if(typeof V.download=="string"){var P=new Blob([e]),D=window.URL.createObjectURL(P);
V.href=D;V.download=q;document.body.appendChild(V);V.click();document.body.removeChild(V)}else{var B="data:application/octet-stream;base64,"+gC.aEO(z);
window.open(B)}};function k7(){this.size=16;this.data=T.n(16)}k7.prototype.iU=function(z,q){if(z+q<=this.size)return;
var e=this.size;while(z+q>this.size)this.size*=2;var V=T.n(this.size);for(var n=0;n<e;n++)V[n]=this.data[n];
this.data=V};var fT={};fT.qC=function(z,q,e,V){var P=q.split(":"),D=P[0];if(P.length==2){if(D=="jpg")V={qual:Math.round(100*parseFloat(P[1])),mtdt:!0};
if(D=="webp")V={qual:Math.round(100*parseFloat(P[1])),mtdt:!0};if(D=="psd")V=[!0,!0,!1,!1,!1];if(D=="svg"){var B=["arst","ahid","vtxt","rtxt","mini"],A=P[1].split(",");
V={};for(var n=0;n<A.length;n++)V[B[n]]=A[n]=="true"}if(D=="jpg"||D=="webp")if(z.qh())V.srgb=!1}var s=hZ.zK(z,D.toUpperCase(),null,null,V,e);
return s};fT.adH=function(z,q,e){var V=z.tW(),P=q[0];return fT.qC(z,P,e)};fT.anr=function(){var z=this.Bt,q=this.caller,e=z.kK.he,V=e.formats,P,D;
z.tW();var B=Date.now();if(e.version==1){var A=[],s=0,M=0;for(var n=0;n<V.length;n++){var a=fT.qC(z,V[n],q.i);
A.push(a);s+=a.byteLength}P=new Uint8Array(2e3+s);var $="{ \"source\": "+JSON.stringify(z.by)+", \"versions\": [\n";
for(var n=0;n<V.length;n++){var U=new Uint8Array(A[n]);$+="\t{\"format\": \""+V[n].split(":")[0]+"\", \"start\": "+M+", \"size\": "+U.length+" }"+(n+1<V.length?", ":"")+"\n";
P.set(U,2e3+M);M+=A[n].byteLength}$+="] }";var o=y.m$($,P,0);for(var n=o;n<2e3;n++)P[n]=32;D="application/octet-stream"}else{var t=new k7,c=0,H="",F=encodeURIComponent;
H="p="+F("{ \"source\": "+JSON.stringify(z.by)+", \"versions\": [");y.QQ(t,c,H);c+=H.length;for(var n=0;
n<V.length;n++){H=F(" {\"format\": \""+V[n].split(":")[0]+"\", \"data\": \"");y.QQ(t,c,H);c+=H.length;
var a=fT.qC(z,V[n],q.i),i=gC.apI(a,a.byteLength),o=i.length;t.iU(c,o);for(var X=0;X<o;X++){t.iU(c,3);
var K=i[X];if(K==43){t.data[c]=37;t.data[c+1]=50;t.data[c+2]=66;c+=3}else if(K==47){t.data[c]=37;t.data[c+1]=50;
t.data[c+2]=70;c+=3}else if(K==61){t.data[c]=37;t.data[c+1]=51;t.data[c+2]=68;c+=3}else{t.data[c]=K;
c++}}H=F("\" }"+(n+1<V.length?", ":""));y.QQ(t,c,H);c+=H.length}H=F("] }");y.QQ(t,c,H);c+=H.length;P=t.data.slice(0,c);
D="application/x-www-form-urlencoded"}var f=new XMLHttpRequest;f.open("POST",e.url,!0);if(D)f.setRequestHeader("Content-Type",D);
f.addEventListener("load",fT.aCB.bind(this));f.send(new Blob([P.buffer]))};fT.aCB=function(z){this.caller.D_("Saving ...");
var q=z.target.response;if(q.charAt(0)=="{"){q=JSON.parse(q);if(q.newSource)this.Bt.by=q.newSource;if(q.message)alert(q.message,2e3);
if(q.script){var e=new dW(_.E.b,!0);e.data={p:_.m.Lo,u5:q.script};this.caller.K(e)}}else alert("Saved. Response: "+q,1500)};
fT.apT=function(z){var q=z.Rn,e=q[1].split(".").pop(),V=fT.qC(z,e,null,e=="psd"&&q[0]==1?[!0,!1,!0,!1]:null),P=Storage.g6(q[0]);
return P.aEk(q[1],V)};fT.auw=function(z,q){var e=z.FQ.nv;if(q==null)q=fT.qC(z,e);l3.qz(function(){var V=new XMLHttpRequest,P="https://www.googleapis.com/upload/drive/v3/files/"+z.FQ.file.id+"?uploadType=media"+"&"+l3.acN();
V.open("PATCH",P,!0);V.addEventListener("load",function(D){var B=JSON.parse(D.target.response);alert(B.name+" updated")});
V.send(q);alert("Saving \""+z.FQ.file.name+"\" to Google Drive ...")})};fT.BU=function(z,q,e,V,P){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)fT.aEQ(z,q,e,V);
else{try{fT.aEQ(z,q,e,V,P)}catch(cz){if(cz=="low_ram"){}else{var D=hZ.J7(q),B="Error. Please, send your file to support@photopea.com and we will solve it.";
if(D=="psd")B="Your file is probably damaged :( If your file works well in other programs, send it to support@photopea.com";
if(hZ.J7(q)=="eps")B="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(B,1e4)}}}};fT.aEQ=function(z,q,e,V,P){var D;if(z.name){var B=z.name.lastIndexOf(".");D=B==-1?z.name:z.name.slice(0,B);
if(z.name.slice(B+1)=="psdt")D="Untitled-1"}else{if(z.url.substring(0,5)=="data:")D="image";else{var A=z.url.substring(z.url.lastIndexOf("/")+1).split(".");
D=A[0];if(A[1]=="psdt")D="Untitled-1"}D=D.slice(0,50)}var s=z.name?z.name:z.url,a=new Uint8Array(q);
if(a[0]==31&&a[1]==139&&a[2]==8){var M=pako.inflate(a);fT.aEQ(z,M.buffer,e,V,P);return}var $=hZ.J7(q);
if($==null&&cW==2)$="seq";if($==null)$=y.JU(a,0,4);if(s&&s.toLowerCase().endsWith(".aco"))$="aco";if(s&&s.toLowerCase().endsWith(".act"))$="act";
if(s&&s.toLowerCase().endsWith(".asv"))$="asv";if(s&&s.toLowerCase().endsWith(".sai"))$="sai2";if(s&&s.toLowerCase().endsWith(".gvdesign"))$="gvdesign";
if(s&&s.toLowerCase().endsWith(".sequence"))$="seq";if($!=null&&hZ.nw($))lA.event("fmt_"+$,.1);if("psd ai png jpg webp pdf svg".split(" ").indexOf($)!=-1){var U=window._popnd,c=0;
if(U==null)U=window._popnd={};var o=Math.floor(Date.now()/6e5);if(U[$]==null)U[$]={};if(U[$][o]==null)U[$][o]={ti:0};
var t=U[$][o];t.ti++;var H=[100,400,1e3,4e3,1e4,4e4];for(var n=0;n<H.length;n++){var F="s"+H[n];if(t.ti>H[n]&&t[F]==null){c=H[n];
t[F]=!0}}if(c!=0)lA.event("eu_"+$+" "+c+" "+document.referrer.split("//").pop())}if(s&&s.toLowerCase().endsWith(".raw")&&$!="tiff"){var i=new dW(_.E.b,!0);
i.data={p:_.m.wa,rF:"importraw",Vg:q,hb:s.split("/").pop()};e.K(i);return}else if($=="json"){var X="";
for(var n=0;n<a.length;n++)X+=String.fromCharCode(a[n]);X=decodeURIComponent(escape(X));var K=JSON.parse(X);
if(K.name&&K.url){K.resID=z.QB;var i=new dW(_.E.b,!0);i.data={p:_.m.ax1,u:K};e.K(i)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(K)}return}if($=="html"){var X=y.vK(a,0,a.length),d=new DOMParser,L=d.parseFromString(X,"text/html"),G=L.getElementsByTagName("meta");
for(var n=0;n<G.length;n++){var x=G[n],O=x.getAttribute("property"),v=x.getAttribute("content"),C=null;
if(O=="og:image")C=v;if(O==null&&v&&v.startsWith("0;url=/imgres?")){var A=v.slice(14).split("&");for(var S=0;
S<A.length;S++)if(A[S].startsWith("imgurl"))C=decodeURIComponent(A[S].slice(7))}if(C==null)continue;
var i=new dW(_.E.b,!0);i.data={p:_.m.ge,Lh:{url:C,MP:!0,P5:z.P5}};e.K(i)}return}if(hZ.nw($)){if($=="pxz"){var j=UZIP.parse(q);
for(var w in j){if(w.endsWith(".woff")||w.endsWith(".ttf")||w.endsWith(".otf"))fT.BU({name:w},j[w].buffer,e)}}var u,l,I=hZ.nw($);
if(z.P5!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf($)!=-1){var i=new dW(_.E.b,!0);if(0<=z.P5)i.data={p:_.m.z$,target:z.P5,f0:z.xK,Va:q,Xu:D};
else{i=new dW(_.E.z,!0);i.data={p:lK.q5,data:new Uint8Array(q),hb:D+"."+$};i.U=W.si}e.K(i);return}var Q=[D,I,$,z,e,V,q];
if(I.k2){u=new hq("");I.EY(q,u,fT.aja,Q)}else{l=I.EY(q,null,fT.aja,Q,e);if(l==null||l.pw!=null)return}if(I.LB!=!0)fT.aja(u,l,Q);
else e.xy();return}var b=new dW(_.E.b,!0);b.data={p:_.m.SX,Vg:q,Q7:z.name};var p=z instanceof File&&z.a7H!=!0,i=new dW(_.E.b,!0);
i.data={p:_.m.Ln,kK:"add",Lh:null,Ay:null,ail:z.a7H};if($=="zip"){var k=Date.now(),j=UZIP.parse(q),g="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var w in j){var Y=!1;for(var n=0;n<g.length;n++)if(w.toLowerCase().endsWith("."+g[n]))Y=!0;if(w.startsWith("__MACOSX/")||j[w].length==0)Y=!0;
if(Y)continue;var R=w.split("/").pop();fT.BU({name:R},j[w].buffer,e,V,!0)}}else if($=="jsx"||s&&s.toLowerCase().endsWith(".jsx")){if(p)e.K(b);
var X=y.vK(new Uint8Array(q));i.data={p:_.m.Lo,u5:X};e.K(i)}else if($=="sf2"){if(p)e.K(b);var m=b5.iA(new Uint8Array(q));
i.data.Lh=cR.ajV;i.data.Ay=m;e.K(i)}else if($=="otf"){if(p)e.K(b);var m=Typr.parse(q);i.data.Lh=cR.oD;
for(var n=0;n<m.length;n++){i.data.Ay=m[n];e.K(i)}}else if($=="asl"){if(p)e.K(b);var m=bE.iA(q,s);i.data.Lh=cR.gv;
i.data.Ay=m.HE;e.K(i);i.data.Lh=cR.TI;i.data.Ay=m.IW;e.K(i)}else if($=="tpl"){if(p)e.K(b);var m=d6.iA(q);
i.data.Lh=cR.YO;i.data.Ay={Mf:m.Mf,yw:m.yw,list:[]};e.K(i);if(m.aOF.length!=0){i.data.Lh=cR.nl;i.data.Ay=m.aOF;
e.K(i)}if(m.IW.length!=0){i.data.Lh=cR.TI;i.data.Ay=m.IW;e.K(i)}i.data.Lh=cR.$O;i.data.Ay=m.list;e.K(i)}else{var Z="";
for(var E in cR.Ld)if(cR.Ld[E][0]==$)Z=E;if(Z!=""){if(p&&!cR.kk[Z])e.K(b);i.data.Ay=cR.Ld[Z][2].iA(q,s);
i.data.Lh=Z;e.K(i)}else if(q.byteLength==0)alert("Empty file (0 Bytes)");else{var N=hZ.J7(q),h;if(N==null)N=s.split(".").pop().split("?")[0];
var j5="eot fntdata csv py txt js json html htm css scss mp3".split(" ");if(j5.indexOf(N)!=-1)h=N+" | ...";
else h=N+" | "+new Uint8Array(q).slice(0,4).join(",");if(N.length<=10&&P!=!0)lA.event("ufmt_"+h);alert("Unknown file format: "+JSON.stringify($))}}};
fT.aja=function(z,q,e){var V=e[0],P=e[1],D=e[2],B=e[3],A=e[4],s=e[5],a=e[6];if(P.LB)A.D_();if(!P.k2){if(q.length==0)return;
if(q[0].t33421||q[0].t50706){T.raw.normalize(q[0],a);console.log(q[0]);var M=new dW(_.E.b,!0);M.data={p:_.m.wa,rF:"rawpea",Nm:q[0]};
A.K(M);return}if(s){s(new Uint8Array(q[0].data),q[0].hp);return}z=hZ.Jy(V,q)}var $=["psd","ai","mid"][cW];
if(cW==0&&hZ.LQ.indexOf(D)!=-1)$=D;z.name=V+"."+$;z.QB=B.QB;z.Eh=D;z.kK=B.kK;z.by=B.url;z.dP=B.dP;z.FQ=B.FQ;
z.dL=B.dL;z.Rn=B.Rn;if(B.dL&&B.dL.name.endsWith(".psdt"))z.dL=null;if(z.FQ)z.FQ.nv=D;if(z.Z.length!=0){var M=new dW(_.E.b,!0);
M.data={p:B.P5==null?_.m.Mk:_.m.z$,target:B.P5,f0:B.xK,Va:z};A.K(M)}};function jD(z,q){gq.call(this);
this.x1=jD.x1++;this.Oc=z;this.aBv=this.alK.bind(this);this.anW=this.aba.bind(this);this.aei=this.B8.bind(this);
this.a3X=q;this.a55=this.aqN.bind(this);this.aMS=this.aFw.bind(this);this.apk=this.awh.bind(this);this.kD=0;
this.af5=0;this.aey=0;this.$=J.k("div","panelblock");this.rK=J.k("div","block");this.oN=J.k("div","collapsed");
this.$.appendChild(this.rK);this.f8=-1;this.gE=!0;this.R3=J.k("div","panelhead");this.rK.appendChild(this.R3);
this.avO(this.R3);this.aB7=new ht("\u2261");J.C(this.aB7.$,"position:absolute; right:4px;");this.aB7.Q("click",this.aND,this);
this.fz=J.k("div","body");this.rK.appendChild(this.fz);this.TD=[];this.M2=null;this.G3=null}jD.x1=0;
jD.prototype=new gq;jD.DN=26.1;jD.prototype.aND=function(z){var q=this.TD[this.f8].g3(),e=z.currentTarget.$.getBoundingClientRect();
q.W();q.update();q.parent=this;var V=new dW(_.E.b,!0);V.data={p:_.m.wL,MR:q,x:e.left,y:e.top+e.height+2};
this.K(V)};jD.prototype.nr=function(z){var q=this.rK,e=this.R3,V=this.fz;if(J.H2(e))q.removeChild(e);
if(J.H2(V))q.removeChild(V);if(z==0)q.appendChild(e);q.appendChild(V);this.aey=z};jD.oC=function(z){z.stopPropagation();
z.preventDefault()};jD.prototype.alK=function(z){var q=z.dataTransfer.types;if(q[1]!=null&&q[1]!=this.x1+"")return;
jD.oC(z);var hE=z.currentTarget;if(z.target==hE)J.d6(hE,"highlight")};jD.prototype.aba=function(z){jD.oC(z);
var hE=z.currentTarget;if(z.target==hE)J.Pf(hE,"highlight")};jD.prototype.avO=function(z){z.addEventListener("dragenter",this.aBv,!1);
z.addEventListener("dragleave",this.anW,!1);z.addEventListener("dragover",jD.oC,!1);z.addEventListener("drop",this.aei,!1);
z.addEventListener("dragstart",function(q){q.dataTransfer.setData("Text","--panel");q.dataTransfer.setData(this.x1+"","")}.bind(this),!1)};
jD.prototype.B8=function(z){this.anW(z);var q=null,hE=z.currentTarget,e=this.a9F(hE);if(hE==this.fz&&this.f8!=-1)q=this.f8;
else if(hE==this.R3)q=null;else if(e!=-1)q=e;var V=z.dataTransfer.getData("Text");if(V==""||V.startsWith("http")||V.startsWith("data:image/"))J.PU(z,this,q);
else if(V=="--panel"){var P=J.fH(z,hE),D=this.TD,B=D.slice(0),n=this.f8,A=e==-1?D.length:P.x<hE.getBoundingClientRect().width/2?e:e+1;
if(n==A||n+1==A||hE==this.fz)return;var s=n<A?A-1:A,a=D[n];D.splice(n,1);D.splice(s,0,a);J._8(this.R3);
for(var M=0;M<D.length;M++)this.R3.appendChild(D[M].Gd);this.k0(s);var $=[];for(var n=0;n<D.length;n++)$[n]=B.indexOf(D[n]);
var U=new dW("shuffleItems",!1);U.data={axh:$};this.K(U)}else if(q!=null&&this instanceof k_){var U=new dW(_.E.b,!0);
U.data={p:_.m.ajU,aI8:q};this.K(U)}};jD.prototype.a6n=function(){return null};jD.prototype.aPz=function(){if(this.a6n()){this.R3.style.padding="0px";
this.G3=this.a6n();this.fz.appendChild(this.G3);this.yN._w(!1);var z=new dW(_.E.b,!0);z.data={p:_.m.qr,u:1};
this.K(z)}};jD.prototype.adK=function(){if(this.G3){this.R3.style.padding="";this.fz.removeChild(this.G3);
this.G3=null;this.yN._w(!0);var z=new dW(_.E.b,!0);z.data={p:_.m.qr,u:0};this.K(z)}};jD.prototype.a9F=function(z){var q=this.TD;
for(var n=0;n<q.length;n++)if(q[n].Gd==z)return n;return-1};jD.prototype.PF=function(){for(var n=0;n<this.TD.length;
n++)this.TD[n].hG.Mu()};jD.prototype.FY=function(){return this.f8};jD.prototype.Vo=function(){if(this.gE)return;
this.gE=!0;this.$.removeChild(this.oN);this.$.appendChild(this.rK)};jD.prototype.collapse=function(){if(!this.gE)return;
this.gE=!1;this.$.appendChild(this.oN);this.$.removeChild(this.rK)};jD.prototype.DN=function(){var z=0;
if(this.aey==0){z=this.R3.getBoundingClientRect().height+1;z=Math.max(z,jD.DN)}return z};jD.prototype.afO=function(){return this.DN()+this.fz.getBoundingClientRect().height};
jD.prototype.hh=function(z,q,e){this.R3.style.maxWidth=z+"px";var V=this.DN();if(this.f8!=-1)this.TD[this.f8].hh(z,q-V,e);
return q-V};jD.prototype.K5=function(z,q){if(this.f8!=-1)this.TD[this.f8].K5(z,q)};jD.prototype.N_=function(z,q,e){this.TD[this.f8].N_(z,q,e)};
jD.prototype.wQ=function(z){this.adK();if(this.TD.indexOf(z)!=-1){this.k0(this.TD.indexOf(z));return}z.parent=this;
this.TD.push(z);this.R3.appendChild(z.Gd);z.Gd.addEventListener("mouseover",this.a55,!1);this.avO(z.Gd);
this.oN.appendChild(z.hG.$);z.hG.Q("click",this.aAz,this);z.Q("select",this.af4,this);z.Q(_.E.un,this.a4o,this);
this.k0(this.TD.length-1)};jD.prototype.aqN=function(z){if(z.buttons==0)return;var q=z.currentTarget,e=q,n=0;
while((e=e.previousSibling)!=null)n++;this.af5=n;q.addEventListener("mouseout",this.aMS,!1);this.kD=setTimeout(this.apk,700)};
jD.prototype.aFw=function(z){var q=z.currentTarget,e=q,n=0;while((e=e.previousSibling)!=null)n++;q.removeEventListener("mouseout",this.aMS);
clearTimeout(this.kD)};jD.prototype.awh=function(z){this.K(new dW(_.E.aqa,!1))};jD.prototype.aqM=function(z){return this.af5};
jD.prototype.k7=function(n){var z=new dW(_.E.un,!1);z.data={qi:n};this.K(z);var q=this.TD[n];q.br();
this.TD.splice(n,1);this.R3.removeChild(q.Gd);this.oN.removeChild(q.hG.$);q.Gd.className="";q.hG.removeEventListener("click",this.aAz,this);
q.hG.Mu();q.removeEventListener("activate",this.af4);q.removeEventListener(_.E.un,this.a4o);var e=this.f8;
if(n<e)e--;else if(n==e&&n==this.TD.length)e--;if(this.gE)this.k0(e);if(this.TD.length==0)this.aPz()};
jD.prototype.afh=function(){return this.TD.length};jD.prototype.BB=function(){if(this.TD.length!=0)this.TD[this.f8].BB()};
jD.prototype.k0=function(z,q){if(q==null)q=!0;for(var n=0;n<this.TD.length;n++)this.TD[n].Gd.className="";
if(this.M2)this.fz.removeChild(this.M2);this.M2=null;this.f8=z;if(z==-1)return;var e=this.TD[this.f8];
this.M2=e.yH;this.fz.appendChild(e.yH);e.Gd.className="active";if(!this.gE){this.K(new dW("showFloat"));
this.TD[z].hG.IM()}if(q)this.K(new dW(_.E.f,!1));e.ai();var V=this.aB7.$;if(V.parentNode)this.R3.removeChild(V);
if(e.g3())this.R3.appendChild(V);var P=new dW(_.E.b,!0);P.data={p:_.m.Zd};this.K(P)};jD.prototype.af4=function(z){if(this.Oc&&!this.Oc.ahP())return;
var n=this.TD.indexOf(z.currentTarget);this.k0(n)};jD.prototype.a4o=function(z){var q=this.TD.indexOf(z.currentTarget);
if(z.data!=null){for(var n=this.TD.length-1;n>=0;n--){var e=this.TD[n];if(z.data==1&&n==q)continue;e.BB()}return}if(this.Oc&&!this.Oc.ahP())return;
this.k7(q)};jD.prototype.aAz=function(z){var q=this.TD.indexOf(z.currentTarget.parent);if(this.TD[q].hG.Iv())this.K(new dW("hideFloat"));
else this.k0(q)};jD.prototype.apJ=function(z){this.K(z)};function k_(z){jD.call(this,z);this.xL=0;this.Hi=0;
J.KE(this.R3,this.axk.bind(this));this.Cd=0;this.ar=-2;this.anJ=this.aus.bind(this);this.avO(this.fz);
this.FD=["default;"];this.yN=new J.Qx(this.fz);this.cH=new iy(!0);this.cH.parent=this;this.sM=this.cH.$;
iy.O6(this.cH)}k_.prototype=new jD;k_.prototype.axk=function(z){if(z.target!=this.R3)return;var q=Date.now()-this.Cd<300&&this.ar==-1;
this.Cd=Date.now();this.ar=-1;if(!q)return;var e=new dW(_.E.b,!0);e.data={p:_.m.wa,rF:"newproject"};
this.K(e)};k_.prototype.Rq=function(z,q){if(q)this.FD.push(z);else{var e=this.FD.length-1;if(this.FD[e]==z)return;
this.FD[e]=z}this.lo()};k_.prototype.amg=function(){this.FD.pop();this.lo()};k_.prototype.lo=function(){var z=this.FD[this.FD.length-1];
this.yN.N_(z,this.VF)};k_.prototype.K5=function(z,q){jD.prototype.K5.call(this,z,q);this.cH.K5(z,q);
if(!z.IC){}};k_.prototype.W=function(){jD.prototype.W.call(this);this.cH.W()};k_.prototype.N_=function(z,q,e){for(var n=0;
n<q.length;n++){var V=q[n];this.TD[n].SJ(V.name+(V.depth==8?"":" (RGB/"+V.depth+")")+(V.lJ()?" *":""))}jD.prototype.N_.call(this,z,q,e)};
k_.prototype.a6n=function(){return this.sM};k_.prototype.hh=function(z,q){if(this.TD.length==0)q+=jD.DN-1;
this.xL=z;this.Hi=q;q=jD.prototype.hh.call(this,z,q);this.VF="height:"+q+"px; width:"+z+"px; overflow:hidden; position:relative;";
this.lo();this.cH.hh(z,q)};k_.prototype.wQ=function(z){jD.prototype.wQ.call(this,z);z.Gd.addEventListener("click",this.anJ,!1)};
k_.prototype.k7=function(n){var z=this.TD[n];J.N$(z.Gd,this.anJ);jD.prototype.k7.call(this,n)};k_.prototype.aus=function(z){var q=this.a9F(z.currentTarget),e=Date.now()-this.Cd<300&&this.ar==q;
this.Cd=Date.now();this.ar=q;if(!e)return;var V=this.TD[q].Va.name,P=new dW(_.E.b,!0),D={N:_.E.z,U:W.si,M:{p:lK.Lk}};
P.data={p:_.m.wa,rF:"namewindow",Zz:V.slice(0,V.length-4),DI:D};this.K(P)};function fh(z){gq.call(this);
if(z)return;bt.a1j(1);this.$=J.k("div","flexrow app");this.Z4=J.k("div");this.$.appendChild(this.Z4);
setTimeout(function(){var e=window.hideCap;if(e)e()},25e3);this.bQ=new cz;window.addEventListener("blur",function(e){this.bQ.reset()}.bind(this),!1);
window.addEventListener("resize",this.eX.bind(this),!1);var q=this.Z4;this.$m=new jC;this.$m.parent=this;
q.appendChild(this.$m.$);this.zy=new cm;this.zy.parent=this;q.appendChild(this.zy.$);this.WP=new eJ(!0);
this.WP.parent=this;q.appendChild(this.WP.$);this.Q(_.E.b,this.aGw,this);this.C0=this.Cn.bind(this);
window.requestAnimationFrame(this.C0)}fh.prototype=new gq;fh.prototype.Cn=function(z){this.mJ();window.requestAnimationFrame(this.C0)};
fh.prototype.W=function(){};fh.prototype.eX=function(z){var q=window.innerWidth,e=window.innerHeight;
this.hh(q,e)};fh.prototype.hh=function(z,q){this.zy.hh(z,q);this.$m.hh(z,q)};fh.prototype.aGw=function(z){var q=z.data.p;
if(q==_.m.wL)this.zy.atP(z.data);if(q==_.m.T8)this.zy.atZ(z.data);if(q==_.m.lu)this.zy.aA8(z.data.MN);
if(q==_.m.Rx)this.zy.aIt(z.data.MN);if(q==_.m._G)this.zy.Z6()};function kO(){fh.call(this);this.GC={x:0,y:0,_W:!1};
this.sH=!1;this.vp=!1;this.awx=null;this.aCY=0;this.asg=!1;this.fF=0;document.body.style.overscrollBehavior="contain";
window.onmessage=function(U){if(Storage.amZ(U.source))return;if(U.data instanceof ArrayBuffer){var o=hZ.J7(U.data),t=hZ.nw(o);
gC.BU({url:"file"},U.data,this);if(t==null)this.Aw()}else if(U.data instanceof Object||U.data.startsWith("{")||U.data.startsWith("amp-")||U.data.startsWith("0=goog")||U.data.startsWith("3PCoo")||U.data.startsWith("ima://")){}else if(U.data.startsWith("--ur ")){var c=U.data.split(" ").pop();
c=c.length==0?[]:c.split(",");var H=new dW(_.E.b,!0);H.data={p:_.m.Ln,Lh:cR.FU,oo:c};this.K(H)}else if(U.data.startsWith("--ot ")){if(this.$m.I6())this.$m.I6().close();
this.io.Vh(U.data.split(" ").pop())}else if(U.data.startsWith("--et ")){}else{var H=new dW(_.E.b,!0);
H.data={p:_.m.Lo,u5:U.data};this.K(H);this.Aw()}}.bind(this);window.onbeforeunload=function(U){this.a6f();
for(var n=0;n<this.nk.length;n++)if(this.nk[n].lJ()){return this.nk[n].name}}.bind(this);if(cW<2&&!ln.Qv())window.setInterval(this.aib.bind(this),5*60*1e3);
var z=this;if(window.indexedDB){var q={iU:window.indexedDB.open("pp",1)};q.iU.onupgradeneeded=function(U){var o=U.target.result,t=o.createObjectStore("rsrc",{keyPath:"k"})};
q.iU.onsuccess=function(U){var o=z.i.aB.vJ=U.target.result,t=o.transaction(["rsrc"],"readwrite").objectStore("rsrc"),c=t.get("fs0");
c.onsuccess=function(U){if(U.target.result){var i=z.i.aB.jo=U.target.result.fset;for(var X in i){if(!X.endsWith(".jsx")&&!X.endsWith(".p"+"sd"))gC.BU({url:X,a7H:!0},i[X],z);
var f=X.split(".").pop(),d="";for(var L in cR.Ld)if(cR.Ld[L][0]==f)d=L;if(cR.kk[d]&&!X.startsWith("_all_"))delete i[X]}}};
var H=new BroadcastChannel("pp-tabs"),F=[];H.onmessage=function(U){if(U.data=="id")H.postMessage(z.i.aB.id);
else F.push(U.data)};H.postMessage("id");setTimeout(function(){var t=o.transaction(["rsrc"],"readwrite").objectStore("rsrc"),i=t.getAllKeys();
i.onsuccess=function(){var X=i.result,K=[],f=0;for(var n=0;n<X.length;n++){if(X[n]=="fs0")continue;if(F.indexOf(X[n])!=-1)continue;
K.push(X[n])}for(var n=0;n<K.length;n++){var c=t.get(K[n]);c.onsuccess=function(U){if(U.target.result){var d=U.target.result.fset;
for(var L in d){try{gC.BU({url:L,a7H:!0},d[L],z);var G=z.yT();G.Tz=G.ade=-1;alert("We have recovered an unsaved document.",5e3)}catch(U){console.log(U)}}f++;
if(f==K.length)for(var n=0;n<K.length;n++){var c=t.delete(K[n])}}}}}},200)}}var e="rwx~#.-(;.]6EF rx'|#1,6><@87f?NO \"|'/-&(0><BBDEEMGrVPb w$,*1)379;<<D>iQW \"|'/-4,6:<>??GAlTZ \"|'/-1)(W?E !#$$,&P72<DBIAKOoTZR %%!-~-&,>AI`HN vx!/-3QV66;`HN \"|'/-M)+3A]BDEEMG *#DGUP%(+48>Kk>FHHVXXW(Z(un03y=p{ *#DGUP%:/5457:=IuF_$Q~le'*p4gr x$')61Q9? x$')61Q6899A; wu&\"%63T-<=".split(" "),V=J.PN[jS.y0][jS.ayl];
if(V==null)V=[J.PN[jS.oe][jS.Tl]];for(var P=0;P<V.length;P++){var D=V[P];for(var n=0;n<e.length;n++){var B=J.kc(e[n]);
if(D.indexOf(B)!=-1){var A=J.PN[jS.oe][jS.fz],s=jS.Mh("+TyeVTVF<pR1:444X3!~'tGkgfkdlfi_R%JQCBGs<B>AV:-;#TIBEsx*CVqux}xreyztGc]Pdea1NH;OPL|93&:;81$}p%&\"Qnh[oplgYSFZ[XTD>1EFBE/){01.)ysfz{wvgw;Hamh+F,3#!T6@=# |0odhjb`RKtGPK\\WI3A3.:_A{{#t~x,E{xu)H]ac[YKDm@IDo_/hcS*OYl}w/{!thr|i]seVT[dUHP>UF8<?3(@% ,4r.Gi%jqa_3t~{a^[nNCGIA?1*S&/*Hw$y<kjgpsilhtSU\\ZUI?OKCCALeh+20+~t%!xx#a`]fi_b'vF l");
J._8(A);A[jS.ahd]=s;return}}}this.jc=kO.aCL();this.i={jc:this.jc,aBZ:!1,Ai:null,Rm:0,pL:{yw:[],Mf:[],list:[],AA:null},dl:[{_o:{INAM:""}}],gI:0,ZV:[],ahT:[],zS:[],fa:[],d_:[],fr:[],aGo:[],az2:[],axJ:[],d_:[],u_:[lh.g1()],yg:[],$K:[],D8:null,LS:0,EW:1-cW,kQ:az.kQ.g1(),aBJ:az.kQ.g1(),wY:{y3:1,j5:T.G(az.zO[0])},Fh:az.Y1.g1(),aAD:[null].concat(az.zO),a1b:[null].concat(az.zO),Se:new fx(function(U){var o=new dW(_.E.b,!0);
o.data={p:_.m.ge,Lh:{url:lA.A9("rsrc/fonts/"+U)}};this.K(o)}.bind(this)),Zh:{GD:[],c_:null,S$:null},font:null,Bi:[],Ay:[],ay9:{},pQ:0,Cp:16777215,pq:!1,s2:!0,Y8:{r3:!0,l0:!1,HZ:!0,yj:!0,OV:!0,tQ:!0,kV:20,AG:0,fB:1,Uu:0,Qm:0,oZ:0,iS:8421504,C$:65535,hT:33023},Ti:!0,k5:[!0,!0,!1,!0,!0],eN:dJ.zg(),na:1,d2:!0,JD:{},IC:!0,aFr:!1,compact:!1,aG2:1,sF:0,sM:!0,aHT:{},H7:null,aB:{id:"ts"+Math.round(Math.random()*16777215),aEB:!1,ao$:!1,jo:{},Xo:{},vJ:null},a5W:0,a8c:null,QS:null,ack:null,IS:null};
fx.b3.zc(this);this.aeX={TP:new kk,zG:new f5};this.i.Zh=dc.aIV();this.qL=new a5;this.YT=new lu;this.Fz=new fj;
this.J2=new hO;this.xo=new eR(this.jc,!0);this.BR=new em;this.gk=new k_(this);this.Kx=J.k("div");this.co=!1;
this.aKi=this.aaV.bind(this);J.d6(this.gk.$,"mainblock");this.WP.parent=this.qL.parent=this.YT.parent=this.xo.parent=this.BR.parent=this.gk.parent=this;
this.gk.Q(_.E.f,this.a9w,this);this.gk.Q(_.E.un,this.alh,this);this.gk.Q("shuffleItems",this.aw7,this);
this.gk.Q(_.E.aqa,this.ag4,this);this.Q("mouse",this.akF,this);this.Q(_.E.z,this.If,this);this.Q(_.E.zN,this.a9b,this);
document.body.addEventListener("keydown",this.e3.bind(this),!1);window.addEventListener("keyup",this.QN.bind(this),!1);
window.addEventListener("paste",this.aBw.bind(this),!1);window.addEventListener("copy",this.axe.bind(this),!1);
window.addEventListener("wheel",function(U){if(U.ctrlKey)U.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(U){if(window.innerWidth>400)U.preventDefault();
this.i.H7=U;var o=new dW(_.E.b,!0);o.data={p:_.m.Ln,Lh:cR.gS};this.K(o)}.bind(this));this.avv=0;this.nk=[];
this.io=new gC(fT.BU);this.io.parent=this;var a=this.Z4,M=this.CH=J.k("div");M.appendChild(this.qL.$);
M.appendChild(this.YT.$);this.WP.asV(M);var $=this.a7v=J.k("div","flexrow");a.appendChild($);$.appendChild(this.xo.$);
$.appendChild(this.gk.$);$.appendChild(this.BR.$);if(cW==0||cW==1)this.io.$q({url:lA.A6("rsrc/basic/basic.zip")});
if(cW==2)this.io.$q({url:this.sk()?"rsrc/sf2/MagicSF.zip":lA.A9("rsrc/sf2/MagicSF.zip")});this.Fw(cW==0?W.HI:W.HI);
lA.zc(this.a8Y.bind(this));if(ln.YB())fetch("//www.photopea.com/papi/event.php?id=web_F");if(this.sk())return;
if(cW==0){lA.event("web_PPea",.01);var D=J.PN[jS.oe][jS.Tl];if(D=="")D="di"+"rect";D=D.split("//").pop();
if(D.startsWith("w"+"ww."))D=D.slice(4);if(D.endsWith("/"))D=D.slice(0,-1);if(D.startsWith("go"+"ogle."))D="go"+"ogle.com";
if(D.startsWith("baidu.com"))D="baidu.com";if(D.startsWith("photopea.com/templates"))D="photopea.com/templates";
if(D.startsWith("photopea.com/tuts"))D="photopea.com/tuts";if(D.endsWith("search.yahoo.com"))D="search.yahoo.com";
if(D.endsWith("gradio.live"))D="gradio.live";if(D.endsWith("proxy.ru"))D="proxy.ru";if(D.length>28&&D.indexOf("/")!=-1)D=D.split("/")[0];
if(D.length>28)D=D.split(".").slice(1).join(".");if(D.length>28)D=D.split(".").slice(1).join(".");if(D.length>28)D=D.slice(D.length-28);
if(ln.Qv()){lA.event("i"+"fr_"+D,.01,1)}else lA.event("r"+"ef_"+D,.01,1);lA.event("os_"+navigator.platform,.01)}if(cW==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea");
if(cW==2)fetch("//www.photopea.com/papi/event.php?id=web_JPea")}kO.prototype=new fh(!0);kO.prototype.Aw=function(z){var q=new dW(_.E.b);
q.data={p:_.m.rj,Lh:z?z:"done"};this.K(q)};kO.prototype.aib=function(){var z=this.i.aB,e=!1;if(z.vJ==null)return;
var q=this.nk;for(var n=0;n<q.length;n++){var V=q[n];if(V.ade!=V.B5&&V.depth==8){var P=Date.now(),D=hZ.zK(V,["psd","ai"][cW],0,0,[!0,!1,!0,!1,!0]);
V.ade=V.B5;z.Xo[V.name]=D;e=!0;console.log(Date.now()-P,"saving "+V.name,D.byteLength)}}if(e){var B=new dW(_.E.b);
B.data={p:_.m.Ln,Lh:cR.bc,a08:!0};this.K(B)}};kO.prototype.a8Y=function(){J.PN[jS.aoi](this.ani.bind(this),Math.pow(Math.PI,8)+J.PN[jS.aqt][jS.aMH]()*1e4);
var z=lA.mN();if(z!=null&&z.globals!=null&&cW<2)this.aA4(z.globals);else{this.asg=!0;var q=iE.aL1();
if(q&&q.length!=0){var e=q[0];iE.arz(e,this.aKi)}}if(!this.sk()){var V=J.adZ();if(V==0)this.aFr=!0;if(V==2)this.i.IC=!1;
if(V!=1&&Math.random()<.002)J.a1U()}if(!ln.Qv()||!this.i.IC){this.alU();this.azv()}else{var P=J.cy(J.PN[jS.ny]);
P[jS.fZ](jS.MO,this.amp.bind(this));var D=J.Mh("_MYOqDLGJa;A:6");if(cW!=0)D=jS.kc("@C/25N4/9A?C;:iBQRv")+D;
P[jS.Mb](J.Mh("61="),D);P[jS.XT]()}this.sH=!0;this.Aw();var B=new dW(_.E.b);B.data={p:_.m.wa,rF:"peamark",gh:4,index:[10,0]}};
kO.prototype.amp=function(z){var q=JSON.parse(z.target[jS.AD]),e=J.PN[jS.apr][jS.aN6]()/1e3,V=J.PN[jS.oe][jS.Tl],P=!1;
for(var D in q)if(D.indexOf(".")!=-1&&V.indexOf(D)!=-1&&parseInt(q[D])>e)P=!0;if(P)this.i.IC=!1;this.alU();
this.azv();if(V==""){if(this.i.IC){alert(jS.Mh("S[L[PEKNdF640:7'1;\")2tyyz|"))}}};kO.prototype.azv=function(z){this.vp=!0;
if(!this.i.sM)this.gk.sM=null;else if(this.nk.length==0)this.gk.aPz();this.tV(cR.zu);this.W();this.eX();
this.BR.N_(this.yT(),this.nk,this.i)};kO.prototype.aA4=function(z){var q=this.i;if(z.fc!=null){q.pQ=z.fc;
var e=q.Zh.c_.FillColor;if(e){var V=T.H_(q.pQ);e.Values=[1,V.l/255,V.I/255,V.c/255]}}if(z.bc!=null)q.Cp=z.bc;
if(z.ru!=null)q.pq=z.ru==1;if(z.ex!=null)q.s2=z.ex==1;if(z.favFam!=null)q.Bi=z.favFam;if(z.ff!=null)q.Bi=z.ff.split(",");
if(z.rsrc!=null)q.Ay=z.rsrc;if(z.rs!=null)q.Ay=z.rs.split(",");if(z.fo!=null)q.Zh.GD[0].Name=z.fo;if(z.panels!=null)q.eN=z.panels;
if(z.pd!=null)q.eN=dJ.azI(z.pd);if(z.as!=null)q.aG2=z.as;if(z.co!=null){q.sF=z.co;if(q.sF!=0)alert("Edit > Preferences > Cursor Offset is not Zero.",2500)}var P=z.ep?z.ep:z.eparams;
if(P){var D=q.Y8;if(P.guides!=null)D.r3=P.guides;if(P.grid!=null)D.l0=P.grid;if(P.gsize!=null)D.kV=P.gsize;
if(P.gunits!=null)D.Uu=P.gunits;if(P.gtype!=null)D.Qm=P.gtype;if(P.runits!=null)D.oZ=P.runits;if(P.gcol!=null)D.iS=P.gcol;
if(P.gucol!=null)D.C$=P.gucol;if(P.glcol!=null)D.hT=P.glcol;if(P.sels!=null)D.HZ=P.sels;if(P.paths!=null)D.yj=P.paths;
if(P.pgrid!=null)D.OV=P.pgrid;if(P.slices!=null)D.tQ=P.slices;if(P.gc!=null)D.iS=P.gc;if(P.uc!=null)D.C$=P.uc;
if(P.lc!=null)D.hT=P.lc;if(P.gs!=null)D.kV=P.gs;if(P.gv!=null)D.AG=P.gv;if(P.gn!=null)D.fB=P.gn;if(P.gu!=null)D.Uu=P.gu;
if(P.gt!=null)D.Qm=P.gt;if(P.ru!=null)D.oZ=P.ru;if(P.gr!=null)D.l0=P.gr==1;if(P.gd!=null)D.r3=P.gd==1;
if(P.se!=null)D.HZ=P.se==1;if(P.pa!=null)D.yj=P.pa==1;if(P.pg!=null)D.OV=P.pg==1;if(P.sl!=null)D.tQ=P.sl==1}if(z.lang!=null)iE.arz(z.lang,this.aKi);
if(z.theme!=null)q.na=z.theme;if(z.to){var B=z.to;for(var n=0;n<B.length;n+=2){var A=this.jc.map[B[n]];
if(A)A.U.SZ(B[n+1],null,this)}}if(z.topt||q.aI2){var s=z.topt?z.topt:{},M=q.aI2?q.aI2:{};for(var $ in this.jc.map){if($>=103)continue;
var U="t"+$;if(s[U]||M[U])this.jc.map[$].U.SZ(s[U],M[U],this)}}};kO.prototype.alU=function(){if(this.i.aBZ)return;
this.i.aBZ=!0;var z=null,q=window.location.href,e=q.indexOf("="),V=q.indexOf("#");if(e!=-1)z=q.substring(q.indexOf("?")+1,e);
if(V!=-1&&V!=q.length-1){z="p";e=V}if(V!=-1&&q[V+1]=="i"){this.io.Vh(q.slice(V+2,V+10))}else if(V!=-1&&q[V+1]=="m"){var P=hZ.hS(q.slice(V+2)),D=new hq;
D.name="song.mid";hZ.sA.EY(P,D);this.aso(D)}else if(V!=-1&&q[V+1]=="o"){var B=new dW(_.E.b,!0),A=q.length;
if(q.endsWith("n"))A--;var q="https://onlinesequencer.net/app/api/get_proto.php?id="+q.slice(V+3,A);
B.data={p:_.m.ge,Lh:{url:q,MP:!0}};this.K(B)}else if(q.slice(V+1).startsWith("audit")){}else if(q.slice(V+1).startsWith("aifrw")){}else if(q.slice(V+1).startsWith("nocdn")){}else if(q.slice(V+1).startsWith("goog_rewarded")){}else if(V!=-1&&q[V+1]=="t"){this.io.Vh(q.slice(V+2,V+10).split("").reverse().join(""))}else if(z=="p"||z=="state"){var s=q.substring(e+1,q.length);
s=JSON.parse(decodeURIComponent(s));if(z=="p"){var a=s.apis,M=this.i;if(a){if(a.rmbg)M.aHT.asm=a.rmbg;
if(a.dezgo)M.aHT.a5E=a.dezgo}if(s.script=="alert(73)")this.i.IC=!1;if(s.script)kB.aKK(this);if(s.server)this.awx=s.server;
if(s.resources)for(var n=0;n<s.resources.length;n++)this.io.$q({url:s.resources[n]});if(s.files)for(var n=0;
n<s.files.length;n++)this.io.$q({url:s.files[n],kK:{he:s.server,awR:s.script}});var $=s.environment;
if($==null)$={};if($.plugins!=null)this.BR.aGp($.plugins);if($.localsave!=null)this.i.d2=$.localsave;
if($.customIO!=null)this.i.JD=$.customIO;if($.vmode!=null){var U=$.vmode;if(U==1)this.i.compact=!0;if(U==2)this.aMy=!0}if($.intro!=null&&!this.i.IC)this.i.sM=$.intro;
if($.menus!=null)this.i.adn=$.menus;if($.tmnu!=null)this.i.aI2=$.tmnu;if($.panels!=null)this.i.eN=$.panels;
if($.showtools!=null){var o=$.showtools,t=o.indexOf(this.i.Ai);this.i.Cz=o;if(t==-1)this.Fw(o[0])}if($.phrases!=null)iE.a4e($.phrases);
if($.autosave!=null){this.i.aG2=0;window.setInterval(function(){var F=new dW(_.E.b);F.data={p:_.m.UL};
this.K(F)}.bind(this),$.autosave*1e3)}if($.icons!=null){for(var c in $.icons)if($.icons[c].indexOf("\"")==-1){if((c==jS.aFm||c==jS.apn)&&this.i.IC)continue;
PIMG[c]=$.icons[c];PIMG["__"+c]=!0}}this.aA4($);if(s.files==null&&s.script){ae.ne(s.script,this);this.Aw()}}else if(z=="state"){var H=this.io;
if(s.action=="create"){var F=new dW(_.E.b);F.data={p:_.m.wa,rF:"newproject",aFq:s.folderId};this.K(F)}if(s.action=="open"){for(var n=0;
n<s.ids.length;n++)l3.qz(function(){var X="https://www.googleapis.com/drive/v3/files/"+this.aO9,K=new XMLHttpRequest;
K.open("GET",X);K.setRequestHeader("Authorization",l3.aiJ());K.send();K.onload=function(f){var d=JSON.parse(f.target.response);
H.$q({url:X+"?alt=media",name:d.name,FQ:{file:d,nv:""},aFi:{Authorization:l3.aiJ()}})}}.bind({aO9:s.ids[n]}));
alert("Loading files from Google Drive ...")}}}else{var i=window.launchQueue;if(i){var H=this.io;i.setConsumer(function(X){var K=X.files,f=[];
for(var n=0;n<K.length;n++){var d=K[n];d.getFile().then(function(L){f.push(L);if(f.length==K.length)H.Bs(f,null,null,null,K)})}})}}};
kO.prototype.W=function(){var z=null;if(z){var q=!1,e=z.getElementsByTagName("h1")[0],D=0,A=0,s=0;e.textContent="Free Online Photo Editor";
var V=z.getElementsByTagName("p"),P="Photopea: "+J.S8(iE.get([0,17,1])),B=["PSD","AI","PDF","SVG","CDR"];
for(var n=0;n<B.length;n++)P=P.replace(B[n],"<b>"+B[n]+"</b>");if(!q)P+=" (<b>Adobe Photoshop</b>, <b>Adobe Illustrator</b>, <b>PDF</b>,  <b>SVG</b>, <b>CorelDRAW</b>).";
V[0].innerHTML=P;P=iE.get([0,17,2])+" "+iE.get([0,17,3]);for(var n=0;n<P.length;n++){var a=P[n];if(a=="<")A++;
if(a==">")s++}if(!q&&A*s==9){var M=["//github.com/photopea/"+["photo","vector"][cW]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var n=0;n<3;n++){var $=P.indexOf("<",D),U=P.indexOf(">",D),o=P.slice(0,$)+"<a href=\""+M[n]+"\" target=\"_blank\">"+P.slice($+1,U)+"</a>";
D=o.length;P=o+P.slice(U+1)}V[1].innerHTML=P}else V[1].innerHTML=iE.get([0,17,2])}this.WP.W();this.qL.W();
this.Fz.W();this.J2.W();this.BR.W();this.xo.W();this.$m.W();this.gk.W();for(var t in this.jc.map)if(this.jc.map[t].r_)this.jc.map[t].r_.W()};
kO.prototype.sk=function(){if(ln.YB())return!0;return 4<J.PN[jS.y0][jS.bk][jS.aBy](jS.Mh("'$!|"))};kO.prototype.hh=function(z,q){z=Math.floor(z);
q=Math.floor(q);var e=J.Mh("WUMK&AM"),V=jS.nq,P=J.PN[jS.oe],D=Math.max(z,window.screen.width),B=Math.max(q,window.screen.height),o=0;
if(ln.MQ==null){ln.MQ=Math.min(D,B)<500||D<750?0:D<1500?1:2}var A=ln.MQ,s=!this.vp||this.sk()||!this.i.IC||lA.aY()||J.SO()==jS.Mh("eQLZRRM?8a4=8")||J.SO()==jS.Mh("YMVVHAj=FA");
if(!s&&ln.Qv()){if(this.at7==null)this.at7=Math.random()<.5;s=this.at7}if(ln.Qv()){var a=window.location.ancestorOrigins;
if(a==null)a=[document.referrer]}if(s){if(A!=0&&J.PN[e]&&this.vp)J.PN[e]()}else{if(A==0)q-=84;else z-=A==1?180:320}fh.prototype.hh.call(this,z,q);
if(s&&this.co){var M=A==0?P[jS.fz]:this.$;M[jS.ajq](this.Kx);J._8(this.Kx);this.co=!1}if(!s&&!this.co){var $=function(H){if(Math.random()<.002){if(cW==0&&ln.c9())lA.event("gota_0")}if(cW==0&&H)J.PN.___a=!0;
this.aHm(z,q);var F=!1,M=A==0?P[jS.fz]:this.$;if(F&&A!=0)M.removeChild(this.Z4);M.appendChild(this.Kx);
if(F&&A!=0)M.appendChild(this.Z4);this.Kx[jS.hM](V,J.Mh("_MMJLNDfKCAg")+(A==0?10:10)+J.Mh("_d$ebOS?I:==Ba-+# }$M"));
this.Kx[V][J.Mh("_MMJLND&<:E")]=(A==0?0:19)+J.Mh("_d");this.Kx[V][J.Mh("i5WJHX")]=A==0?0:1;if(F&&A!=0){this.Kx.style.padding="10px 19px 0 0";
this.Kx.style.minWidth="160px"}}.bind(this);function U(){ln.av8($)}setTimeout(U,10);this.co=!0}if(J.H2(this.qL.$))o+=31;
if(J.H2(this.YT.$))o+=32;this.WP.aNh=this.i.IC&&this.vp;this.WP.hh(z,o);if(cW==2)this.J2.hh(z,o);var t=q-o,c=J.Mh("_d");
this.Kx[V][jS.a72]=(A==0?100>>>1:q-11)+c;this.Kx[V][jS.aPa]=(A==0?z:6*Math.pow(10,2))+c;if(J.H2(this.xo.$))this.xo.hh(z,t);
this.BR.hh(z,t);this.gk.hh(z-this.xo.Kr()-this.BR.Kr(),t)};kO.prototype.aHm=function(z,q){var e=function(){var V=new dW(_.E.b);
V.data={p:_.m.wa,rF:"account"};this.K(V)}.bind(this);ln.aDq(z,q,this.Kx,e)};kO.prototype.axe=function(z){console.log("systemCopy")};
kO.prototype.aBw=function(z){if(J.GG())return;console.log("systemPaste");if(!z.clipboardData)return;
var q=z.target.tagName.toLowerCase(),e=z.clipboardData.items;if(e==null)return;var V=this.azk.bind(this);
for(var n=0;n<e.length;n++){var P=e[n],D=P.getAsFile();if(P.type.indexOf("image")!=-1){if(D.size==this.i.a5W)return;
this.i.a5W=D.size;if(D){D.name="image.png";this.io.Bs([D],V)}}}};kO.prototype.azk=function(z,q){var e={buffer:z,V:q},V=this.i;
if(J.GG()){var P=this.aeX,D=P.TP;if(D.s==q.s&&D.T==q.T){e.V=D;e.zG=P.zG}}else{if(V.QS){var B=new dW(_.E.z,!0);
B.U=W.S3;B.data={p:"h_stepbck"};this.K(B)}}V.QS=e;var B=new dW(_.E.b,!0);B.data={p:_.m.AW,aqF:!0};this.K(B)};
kO.prototype.aCD=function(){if(this.$m.I6()!=null)alert(iE.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
kO.prototype.If=function(z){var q=this.yT();if(q==null){alert(iE.get([15,7,7]));return}var e=z.U==W.RJ||z.U==W.OF;
if(this.$m.ay()&&z.Hf!=!0&&!e){this.aCD();return}var V=this.jc,P=this.i.Ai,D=z.U;if(D==W.no&&P==W.rn)D=W.rn;
if(P!=D&&V.map[P].U.ay()&&!e&&!((P==W.hC||P==W.nL||P==W.PV)&&D==W.pa)){console.log("disabling",P);V.map[P].U.disable(q,this,this.i,this.bQ)}if(D!=W.RJ&&D!=W.OF)q.dS(!0);
var B=this.jc.map[D].U;B.If(z.data,this,q,this.bQ,this.i)};kO.prototype.a9b=function(z){var q=this.i;
if(z.data.rD!=!0)fw.alJ({gQ:z.data.gQ,cj:z.data.cj},this,q,this.yT());var e=q.D8,V=q.$K;if(e==null||z.data.agH)return;
var P={ahv:!1,l8:"Step",axi:0,d:!0,exp:!1,gQ:z.data.gQ};if(e[2]==null)e[2]=V[e[0]].bX[e[1]].bX.length-1;
if(z.data.cj)P.cj=z.data.cj;V[e[0]].bX[e[1]].bX.splice(e[2]+1,0,P);e[2]++;this.tV(cR.z)};kO.prototype.aGw=function(z){if(this.aFr){z.data=0;
return z.e}var q=z.data&&z.data.p==_.m.wa&&z.data.rF==jS.auN,e=z.data&&(z.data.p==_.m.wL||z.data.p==_.m.IB);
if(J.PN.__csrf&&!lA.aY()&&!q&&!e&&!this.asg){var V=jS.Mh("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1\"tlj++{hhrWR^fE`.M=B;D9H'&#,/%(05,HgdmpfisnM]eWHBYKCAVJ)3&>.}\"\"pp)VkoqigYR{");
alert(V,5e3);return}fh.prototype.aGw.call(this,z);var P=window.___osw;if(P==window.innerWidth)P=window.screen.width;
if(P&&Math.abs(window.innerWidth-P-320)<12){alert("Something is changing our source code (Brave Shields, uBlock Origin, Ghostery, AdGuard ...). Many features will not work correctly.",6e3);
window.innerWidth=P}var D=z.data.p,B=this.i;if(D==_.m.D$||D==_.m.e0){var A=this.yT();if(D==_.m.e0&&A.m.MU&&!A.m.o9)return;
if(D==_.m.D$&&A.m.o9)return;jo.SZ(A,B.dl[B.gI]);if(A.m.MU)jo.pause();else{var s=A.A.DH();jo.play(A.add.prvw==1?A.m.U6:gs.TR(-A.A.g.x*s.x6,A))}A.m.MU=!A.m.MU;
A.XU=!0;if(D==_.m.e0){if(!A.m.o9)this.a0h=JSON.stringify(A.Z[A.j[0]].m.list);else{var a=new dW(_.E.z,!0);
a.U=W.HI;a.data={p:"replaced",Zz:this.a0h,JJ:"Recording Notes"};this.K(a)}A.m.o9=!A.m.o9}}if(D==_.m.KC){var A=this.yT();
jo.SZ(A,B.dl[B.gI]);jo.apd(z.data.u,A.Z[A.j[0]].m.Aa)}if(D==_.m.KA){if(z.data.Lh==0)if(!cg.anR)cg.a2c(this);
if(z.data.Lh==1)if(!cg.aGJ)cg.a9f(this)}if(D==_.m.g8)fw.anu(this.yT(),this.i.$K,z.data.HH[0],z.data.HH[1],this);
if(D==_.m.ajU){this.ahM(z.data.aI8)}if(D==_.m.axV){this.W();this.eX()}if(D==_.m.Zd)this.eX();if(D==_.m.gS)if(this.i.H7){this.i.H7.prompt();
this.i.H7=null}if(D==_.m.XL)this.gk.Rq(z.data.ia,z.data.push);if(D==_.m.at1)this.gk.amg();if(D==_.m.ayT)this.a9w(null,z.data.dir);
if(D==_.m.zd)this.gk.k7(this.nk.indexOf(z.data.Bt?z.data.Bt:this.yT()));if(D==_.m.qr){var M=navigator.keyboard;
if(z.data.Mw&&M)M.lock(["Escape"]);if(z.data.Mw&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(z.data.Mw)document.body.webkitRequestFullScreen();if(z.data.u!=null)this.nr(z.data.u)}if(D==_.m.aoP){if(z.data._W)this.bQ.qI(z.data.aER);
else this.bQ.ZL(z.data.aER);this.gi(z.data._W?"down":"up")}if(D==_.m.ax1){var $=z.data.u;this.BR.aGp([$]);
this.W()}if(D==_.m.rf){var A=this.yT(),U=A.Z[A.j[0]],o=new kk(0,0,A.s,A.T),t=A.h?A.h.V.Y():o,c=T.n(t.D()*4);
T.aF(A.tW(),o,c,t);var H=hq.ky()+"-d71c-11e5-b1ae-a548a96e5f9f",a=new dW(_.E.b,!0);if(z.data.Lh==0){var F={name:"Default/"+A.name.split(".")[0],id:H,dE:[c,t]};
a.data={p:_.m.Ln,kK:"add",Lh:cR.gv,Ay:[F]};this.K(a)}if(z.data.Lh==1){var i=T.n(t.D()*4);i.fill(255);
T.w.Mt("norm",c,t,i,t,t,1);var X=T.n(t.D());T.tI(i,X);T.TG(X);var K=T.KI(X,t);if(K.a8())K=t;var f=T.n(K.D());
T.KY(X,t,f,K);K.x=K.y=0;var d={TP:K,id:H,dE:[f,K]},L=ia.ld(H),G=L.Brsh.v;G.Dmtr.v.val=Math.max(K.s,K.T);
G.Spcn.v.val=10;a.data={p:_.m.Ln,kK:"add",Lh:cR.YO,Ay:{list:[{t:"Objc",v:L}],Mf:[d],yw:[]}};this.K(a);
a.data={p:_.m.Ln,Lh:cR.LJ,DV:L};this.K(a)}if(z.data.Lh==2){var x=A.Kn(),O=x[0][x[1][0]],v={v2:"Default/"+U.getName(),Pi:H,B:O.add.vmsk.Y().B},C=T.S.O5(v.B),S=new e5(C.s,0,0,C.T,C.x,C.y);
S.TG();T.S.Z8(v.B,S);C.x=C.y=0;v.sI=C.Y();a.data={p:_.m.Ln,kK:"add",Lh:cR.nl,Ay:[v]};this.K(a)}}if(D==_.m.ge)this.io.$q(z.data.Lh);
if(D==_.m.Bd){var j=z.data.a3v,w=z.data.TA;if(j!=!0&&w!=!0&&this.vd("open"))return;var u=this.gk.FY();
if(w)u=-1-u;this.io.aMr(j||w?u:null,z.data.a2x,z.data.WE)}if(D==_.m.b4){var l=cR.Ld[z.data.af_],c=this.a0M(z.data.af_,z.data.Vt);
gC.save(c,l[1]+"."+l[0])}if(D==_.m.SX){var I=this.i.aB,Q=z.data.aeW;if(I.vJ&&!I.aEB&&!Q){I.ao$=window.confirm("Load \""+z.data.Q7+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
I.aEB=!0}if((I.ao$||Q)&&I.vJ){I.jo[z.data.Q7]=z.data.Vg;var a=new dW(_.E.b);a.data={p:_.m.Ln,Lh:cR.bc};
this.K(a)}}if(D==_.m.asC){var A=this.yT(),k="<!DOCTYPE HTML>";if(A==null)return;var b=hZ.Eq(A.tW().buffer,A.s,A.T),p=window.open();
k+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";k+="<body><img src=\""+b+"\" /></body>";
k+="</html>";p.document.write(k)}if(D==_.m.u9){if(this.vd("publishOnline"))return;var g=z.data.gh,Y=g=="pngjpg",A=this.yT();
if(A==null)return;if(g=="mid"){var R=hZ.sA.gB(A);alert(Math.round(R.byteLength*1.333)+" characters!");
var m="https://www.jampea.com#m"+hZ.aS(R),a=new dW(_.E.b);a.data={p:_.m.wa,rF:"linkview",acl:m};this.K(a);
return}if(!Y&&A.QB)return;var V="Your "+(Y?"picture":"document")+" will be published at "+(Y?"Photopea":["Photo","Vector"][cW]+"pea")+".com under a public URL (known only to you). Proceed?";
V+=" We guarantee 6+ months of storage.";var Z=z.data.vI?!0:confirm(V);if(Z){if(g=="psd"){var a=new dW(_.E.z,!0);
a.U=W.si;a.data={p:lK.RA};this.K(a);var E=new kk(0,0,A.s,A.T);for(var n=0;n<A.Z.length;n++){var U=A.Z[n];
if(U.V.a8()||U.YZ()||U.OX()||U.zA()||U.mp()||U.add.TySh||U.add.vmsk||U.add.SoLd)continue;var N=E.HX(U.V);
if(!N.bs(U.V)&&!N.a8()){var h=T.n(N.D()*4);T.aF(U.buffer,U.V,h,N);U.buffer=h;U.V=N}if(!T.mS(U.buffer,U.V.s,U.V.T))continue;
var j5=U.Sw(),r=U.vz,l8=U.pi,aP=U.Ev;U.Bm(!0);U.vz=255;U.pi="norm";A.j=[n];a.data={p:lK.Dn,gh:"jpg"};
this.K(a);var bS=A.Z[n];U.Bm(j5);bS.Bm(j5);U.vz=bS.vz=r;U.pi=bS.pi=l8,U.Ev=bS.Ev=aP}}if(A.nX){A.n9()}var kR=A.s,j1=A.T,f6=z.data.aEP,lC;
if(Y&&!lA.aY()&&f6==null)f6=2048;if(f6)while(kR*j1>f6*f6){kR=kR>>>1;j1=j1>>>1}if(z.data.vI==null&&A.s!=kR){var gx=confirm("Only Premium users can share such large images. Do you agree with scaling it down to "+kR+" x "+j1+" px?");
if(!gx)return}if(g=="psd")lC=hZ.zK(A,"psd",0,0,[!0,!0,!0,!1,!0]);else if(g=="ai")lC=hZ.zK(A,"ai");else if(g=="pngjpg"){if(hZ.dv(A)[0].length>1){lC=hZ.zK(A,"webp",kR,j1,{qual:80,mtdt:!1,sped:100});
if(lC.length>2e6){alert("Your animation is too large (over 2 MB).");return}g="webp"}else{var g2=hZ.zK(A,"png",kR,j1),dv=hZ.zK(A,"webp",kR,j1,{qual:80,mtdt:!1}),bv=g2.byteLength<dv.byteLength;
g=bv?"png":"webp";lC=bv?g2:dv}}var eo=z.data.vI;if(eo==null)eo=function(m){var hU=Y?"https://www.photopea.com/g/"+m:"https://www."+["photo","vector"][cW]+"pea.com/#i"+m,a=new dW(_.E.b);
a.data={p:_.m.wa,rF:"linkview",acl:hU};this.K(a);lA.event("share_"+g)}.bind(this);if(Y)this.io.avu(lC,eo,"jpgshared");
else this.io.aD_(lC,A.name,eo,"psdshared")}}if(D==_.m.UL){var A=this.yT(),aL=!1;if(A==null)return;if(A.nX){A.n9()}var dh=this.dD();
if(dh.ay())dh.disable(A,this,this.i,this.bQ);if(z.data.atj){if(!this.aAZ(A,z.data.atj))return;var c=fT.adH(A,z.data.atj,this.i);
this.Aw(c);aL=!0}else if(A.dP){if(this.nk.indexOf(A.dP.Jp)!=-1){var c=new Uint8Array(hZ.nw("PSD").gB(A,null,null,[!0,!1])),a=new dW(_.E.z,!0);
a.data={p:lK.q5,Va:A.dP.Jp,data:c,id:A.dP.aCl,hb:A.name};a.U=W.si;this.K(a);alert("Smart Object updated")}aL=!0}else if(this.i.JD.save){if(ln.YB()){var eM=new Date;
if(!lA.aY()&&(eM.getMinutes()&1)==1){alert("Wait "+(60-eM.getSeconds())+" seconds or press \"Account\" (at the top) to go Premium.",5e3);
return}alert("File Saved.",3e3);if(!lA.aY()){var a=new dW(_.E.b,!0),V=jS.Mh("+\\hYWYI?sU=79-Q*$% }'I>ns> j[i[Z\\w\\TRxkZsn261ds-#{+y=.nwsuh`^hrcbZWSSRDF<QD?IaQ\"&!TOr 9E[jrcwEdTYR[Pk\\SFIP1,6D] ;,*,{qF(foiii.Z\\SMWKS]XJ4B4/;`B||$u y-(mtdb6w\"~ewJSNlK@DF><.'&/*H*(q\" z325.-,$\"!~v{tlnilhb\\Ibs$)(,w/NjingoilbUmbQYJ^+'zRrxrin\\L{U4!!+}xg~pa[rQZKaMOEZs6QB@B2(\\>|&   Dpricmaisn`JXJEQvX33:,60C>$+zxL.85{.`id#aVZ\\TRD=<E@^@>(861IHJG??::6/32*'$~~z|t_x%698/Hw(0)zyx0ayvp=-\\6t,w(wV!_\\u;=GM><>.$X:*w(!6goidh1WV\\_MWc|wO?75<I:8:* T6)wo|m<7,}1rXRSNLUw<MIAiMH384\"}6  |z'evrjhaSh*%YRUO=<SD@.dF+,#G|\"p!|4pp1{vhj^P%fXH@>Ea==]Ha\\L1!xv}ID4fhr7"),kg=jS.Mh(";QJXQ_*II9"),jJ=function(){a.data={p:_.m.wa,rF:"account"};
this.K(a)}.bind(this);a.data={p:_.m.wa,rF:jS.ph,u:V,Wm:jJ,aN7:kg,a3_:!0};this.K(a)}}this.vd("save");
aL=!0}else if(A.FQ){fT.auw(A);aL=!0}else if(A.Rn){if(A.Rn[0]!=0&&!navigator.onLine){alert("Go online to save this file.");
return}var iL=fT.apT(A);if(iL==1){alert("Already saving another file. Try again later.");return}aL=!0}else if(A.kK&&A.kK.he){if(!this.aAZ(A,A.kK.he.formats))return;
this.io.agj(A,this.i,fT.anr);aL=!0}else if(A.dL&&(cW==0&&hZ.LQ.indexOf(A.Eh)!=-1||cW==1&&hZ.auK.indexOf(A.Eh)!=-1||cW==2&&A.Eh=="mid")){this.abO();
return}if(aL){A.zb()}else{var a=new dW(_.E.b,!0);a.data={p:_.m.IB};this.K(a)}}if(D==_.m.IB){if(!this.i.d2){alert("function is disabled");
return}if(this.vd("saveAsPSD"))return;var A=this.yT();if(A==null)return;if(!this.aAZ(A))return;var a=new dW(_.E.z,!0);
a.data={p:lK.RA};a.U=W.si;this.K(a);var bz=A.Z.length,ks="Your document has "+A.Z.length+" layers.";
if(bz>1<<15){alert(ks+" PSD files can have up to "+(1<<15)+" layers.",5e3);return}if(bz>8e3&&!confirm(ks+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var gr={YY:[]};A.root.av5([],gr);var hg=gr.YY;if(hg.length>11&&!confirm("One layer is nested "+(hg.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+hg.join(" \uD83E\uDC1A ")+"."))return;
var ci=A.name.split(".");ci.pop();ci=ci.join(".")+[".psd",".ai",".mid"][cW];var fK=window.showSaveFilePicker;
if(window.parent!=window)fK=null;if(J.gA()==null)fK=null;if(fK&&!z.data.agR){var jN={suggestedName:ci,types:[{description:["PSD","AI","MID"][cW]+" Files",accept:[{"image/psd":[".p"+"sd"]},{"application/pdf":[".ai"]},{"audio/midi":[".mid"]}].APP}]};
fK(jN).then(function(z){A.dL=z;A.name=z.name;A.y8=!0;A.Eh="psd";this.abO()}.bind(this));return}var dD=window.gtag;
if(A.a_()&&dD)dD("event",A.Eh+":"+J.kc(lA.aY()?"\"'|('61":"w'| "),{event_category:"Formats"});if(A.nX){A.n9()}var eF=["PSD","AI","MID"][cW],io=hZ.nw(eF);
lA.event("efmt_"+eF.toLowerCase(),.1);if(z.data.agR){var c=A.Eh=="psd"?io.gB(A):fT.qC(A,A.Eh,this.i);
this.aE5(c,A,this)}else{var c=io.gB(A);gC.save(c,ci);A.zb(!0)}}if(D==_.m.I3)window.open(z.data.link,"_blank");
if(D==_.m.Ny){if(this.$m.ay()){this.aCD();return}var A=this.yT(),U=A.Z[A.j[0]],$=A.mn(U.add.SoLd.Idnt.v);
for(var n=0;n<this.nk.length;n++){var la=this.nk[n].dP;if(la!=null&&la.aCl==$.PP&&la.Jp==A){this.gk.k0(n);
return}}gC.BU({name:$.hb,dP:{aCl:U.add.SoLd.Idnt.v,Jp:A}},$.raw.buffer,this)}if(D==_.m.awU){var A=this.yT(),U=A.Z[A.j[0]],$=A.mn(U.add.SoLd.Idnt.v);
gC.save($.raw.buffer,$.hb)}if(D==_.m.aC8){console.log(z.data);gC.BU({name:z.data.Rn[1].split("/").pop(),Rn:z.data.Rn},z.data.Hm,this)}if(D==_.m.arb){var A=this.yT();
A.Rn=z.data.Rn;A.name=A.Rn[1].split("/").pop();var a=new dW(_.E.b);a.data={p:_.m.UL};this.K(a)}if(D==_.m.q1){this.a42()}if(D==_.m.K$){this.aIo(z.data.J4,z.data.Jb,z.data.XC)}if(D==_.m.AW){this.aHi(z.data.aqF,z.data.aJ2,z.data.XC)}if(D==_.m.aL6){var e9=z.data.u;
if(this.i.Ai==W.no&&this.dD().ay()){var a=new dW(_.E.z,!0);a.U=W.no;a.data={p:"insertText",u:e9};this.K(a);
return}if(e9.startsWith("ncb;")){var A=this.yT();if(A==null)return;var gM=parseFloat(e9.split(";")[1]),j7=JSON.parse(e9.split(";").pop()),cI=A.m.rU/gM;
if(cI!=1){for(var n=0;n<j7.length;n++){var dL=j7[n][0],cf=dL+j7[n][1];j7[n][0]=Math.round(dL*cI);j7[n][1]=Math.round(cf*cI)-j7[n][0]}}var jA=j7[0][0],cf=j7[j7.length-1],gI=cf[0]+cf[1],fM=A.A.Lc(0,0).x,a7=A.A.Lc(A.A.bX.s,0).x;
if(a7<jA||gI<fM){var k6=A.m.rU*Math.round((.5*(fM+a7)-.5*(jA+gI))/A.m.rU);while(jA+k6<0)k6+=A.m.rU;for(var n=0;
n<j7.length;n++)j7[n][0]+=k6}var a=new dW(_.E.z,!0);a.U=W.HI;a.data={p:"append",JJ:"Paste Notes",ju:j7};
this.K(a);alert(j7.length+" notes pasted")}else if(e9.startsWith("vcb;")){var fv=JSON.parse(e9.slice(4));
fv[0]=lh.auU(fv[0]);var a=new dW(_.E.z,!0);a.U=W.RY;a.data={p:"append",JJ:"Paste Paths",ju:fv};this.K(a)}else if(e9.startsWith("lrs;")){var fq=e9.split(";"),cu=this.nk[parseInt(fq[1])];
if(cu==null)return;var ac=this.yT(),hN=cu.j;cu.j=JSON.parse(fq[2]);var cQ=cu._i(null,cu!=ac);cu.j=hN;
var a=new dW(_.E.z,!0);a.data={p:lK.vU,Z:cQ,Jp:cu,ME:ac};a.U=W.si;this.K(a)}else if(e9.startsWith("<!--")||e9.startsWith("<svg")){var d_=y.GY(e9),cK=hZ.nw("svg"),o=new hq("image.p"+"sd");
cK.EY(d_.buffer,o);if(this.nk.length!=0){var cc=o.Z;if(cc.length==3&&cc[0].getName()=="</Layer group>"&&cc[2].YZ())cc=[cc[1]];
var a=new dW(_.E.z,!0);a.U=W.si;a.data={p:lK.vU,Z:cc,Jp:o,ME:this.yT()};this.K(a)}else this.aso(o)}}if(D==_.m.Lo){ae.ne(z.data.u5,this)}if(D==_.m.rj){if(window.parent!=window)window.parent.postMessage(z.data.Lh,"*");
this.BR.nf(z.data.Lh)}if(D==_.m.Qp){var aH=parseFloat(z.data.rF);if(this.i.eN.indexOf(aH)==-1){var a=new dW(_.E.b,!0);
a.data={p:_.m.Ln,Lh:cR.t2,u:aH,kK:"add"};this.K(a)}this.BR.aGt(z.data.rF)}if(D==_.m.J$){this.zy.aeP(this.yT(),this.i)}if(D==_.m.wa){var jj="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var n=0;n<jj.length;n+=2)if(z.data.rF==jj[n]&&this.vd(jj[n+1]))return;if(!this.i.d2&&z.data.window=="saveforweb"){alert("function is disabled");
return}this.$m.abW(z.data.rF,this.yT(),z.data,this,this.bQ)}if(D==_.m.RB){var iG=this.i.JD.exportAs;
if(iG)this.Aw(z.data.data);else gC.save(z.data.data,z.data.name)}if(D==_.m.Mk){if(!this.$m.ay()||z.Hf)this.aso(z.data.Va)}if(D==_.m.z$){if(cW!=0){var eF=hZ.J7(z.data.Va);
if("jpg png tiff bmp psd tga".split(" ").indexOf(eF)==-1){alert("Only raster images can be inserted into Vectorpea documents.");
return}}this.gk.k0(z.data.target);var a=new dW(_.E.z,!0);a.data={p:lK.V8,Va:z.data.Va,Xu:z.data.Xu,f0:z.data.f0};
a.U=W.si;this.K(a);this.Fw(W.Rs)}if(D==_.m.aNt){ee.$x=!ee.$x;if(this.nk.length>0)this.yT().Kv()}if(D==_.m.abm){var hc=lA.mN();
if(cW<2&&hc!=null&&hc.globals!=null)this.aA4(hc.globals);this.azv()}if(D==_.m.Jd){this.io.Bs(z.data.data,null,z.data.P5,z.data.xK,z.data.aJd)}if(D==_.m.uB){var kD=this.dD();
if(!this.$m.I6()!=null)this.Fw(z.data.U,z.data.ee);var l2=this.dD();if(l2!=kD&&z.data.ajy)l2.Qy(this.yT(),this,this.i,this.bQ,this.GC)}if(D==_.m.Kb){if(this.jc.a4i)this.Fw(this.jc.a4i)}if(D==_.m.dt){var fZ=this.jc.map[z.data.U].U,A=this.yT();
fZ.Ne(z.data,this,A,this.bQ,this.i);if(A)A.$k=!0;this.aiF()}if(D==_.m.R9){var g5=this.jc.map[z.data.U];
this.asB(g5);g5.r_.dw(z.data)}if(D==_.m.Ln){var A=this.yT(),d4,hx=!(A&&A.j.length!=0&&A.Z[A.j[0]].add.TySh),hJ=z.data.Lh,gU=z.data.Ay,B=this.i;
if(z.data.kK=="set"){var l2=W.$Y[gU[1].classID];if(B.Ai!=l2)this.Fw(l2);this.jc.map[l2].r_.aIJ(gU,B)}if(z.data.kK=="add"){var l=cR.Ld[hJ];
if(hJ==cR.t2){B.eN.push(z.data.u);B.eN.sort(function(hU,fn){return hU-fn})}else if(hJ==cR.ajV){var lg=z.data.Ay._o.INAM;
if(lg=="MagicSF v. 2.0"){B.dl[0]=z.data.Ay}else{B.dl.push(z.data.Ay);alert(lg+" added!")}}else if(l==null){if(gU)B.Se.aef(gU,z.data.ail);
if(A)A.XU=!0}else{var gW=this.WX(hJ);if(hJ==cR.YO){gW.Mf=gW.Mf.concat(gU.Mf);gW.yw=gW.yw.concat(gU.yw);
gW=gW.list;gU=gU.list}if(hJ==cR.TI&&A){for(var n=0;n<gU.length;n++){var iF=gU[n].L$.Lefx;if(iF)hB.aEp(iF,A,B.fr)}}if(hJ==cR.$O&&gU==null){var o=this.jc.map[B.Ai].r_.axg();
if(o==null)return;gU=[o]}if(cR.kk[hJ]&&gU[0][0]=="_all_")gU=gU[0][2];for(var n=0;n<gU.length;n++)gW.push(gU[n]);
if(hJ==cR.nl){var aO={};for(var n=0;n<gW.length;n++){var kX=gW[n].v2;while(aO[kX]!=null)kX=gW[n].v2=kX+"X";
aO[kX]=!0}}if(z.data.ail!=!0)if(gW.length!=gU.length||hJ==cR.qg||hJ==cR.TI||hJ==cR.la||hJ==cR.z)alert(iE.get(l[3])+" "+iE.get([23,1])+".")}}if(z.data.kK=="del"){if(hJ==cR.t2){B.eN.splice(B.eN.indexOf(z.data.u),1)}else{var l=cR.Ld[hJ],e3=z.data.Vt,gW=this.WX(hJ);
if(hJ==cR.YO)gW=gW.list;for(var n=0;n<e3.length;n++)gW[e3[n]]=null;for(var n=0;n<gW.length;n++)if(gW[n]==null){gW.splice(n,1);
n--}alert(iE.get(l[3])+" deleted.")}}if(z.data.kK=="rnm"){var l=cR.Ld[hJ],gW=this.WX(hJ);if(hJ==cR.YO)gW=gW.list;
if(gW[z.data.Vt[0]]==null)return;l[2].SJ(gW[z.data.Vt[0]],(z.data.a6b?z.data.a6b:"")+z.data.u)}if((z.data.kK!=null||z.data.kK=="mdf")&&cR.kk[hJ]){var I=this.i.aB,l=cR.Ld[hJ];
if(I.vJ&&!ln.Qv()){var k5=this.WX(hJ),h0=kH.bN(k5,l[2]);I.jo["_all_."+l[0]]=h0.buffer;var a=new dW(_.E.b);
a.data={p:_.m.Ln,Lh:cR.bc};this.K(a)}}if(hJ==cR.wg){var aS=z.data.u;B.wY=aS;B.aAD[aS.y3]=aS.j5}if(hJ==cR.Vj){var aS=z.data.u;
B.Fh=T.G(aS);var jM=az.E0(aS);B.a1b[jM.y3]=jM.j5}if(hJ==cR.af2){B.gI=z.data.u;if(A.m.MU){var a=new dW(_.E.b,!0);
a.data={p:_.m.D$};this.K(a);this.K(a)}}if(hJ==cR.gF){B.kQ=z.data.u;var bW=az.kQ.g1(),hS=!0;for(var o in bW)if(B.kQ[o]==null)hS=!1;
if(hS)B.aBJ=T.G(B.kQ)}if(hJ==cR.CJ){B.LS=z.data.u}if(hJ==cR.Bn){B.EW=z.data.u}if(hJ==cR.k3){B.Zh=z.data.Zh;
var ap=B.Zh.c_.FillColor;if(hx&&ap){var dB=ap.Values,f8={l:dB[1]*255,I:dB[2]*255,c:dB[3]*255},bu=T.RC(f8);
if(B.pQ!=bu){B.pQ=bu;d4=cR.RV}}}if(hJ==cR.LJ){var h=T.G(z.data.DV),fO=h.useBrushSize,iQ=h.useTexture;
if(fO&&fO.v){h.Brsh.v.Dmtr.v.val=B.pL.AA.Brsh.v.Dmtr.v.val;fO.v=!1}if(iQ&&iQ.v){var gb=h.Txtr.v,k9=hB.i6(h.Txtr.v,B.pL.yw),e2=hB.i6(h.Txtr.v,B.fr);
if(k9==null)B.pL.yw.push(e2)}B.pL.AA=h;if(h.Nm==null)return;var cB={gQ:"select",cj:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:h.Nm.v.split("/").pop()}}]}}},g5=this.dD();
g5.Av=this;g5.track(cB)}if(hJ==cR.Ym){B.Bi=z.data.oo}if(hJ==cR.FU){var iY=z.data.oo,jI=!0,hu=null;if(z.data.aKv){iY=B.Ay.slice(0);
iY.splice(iY.indexOf(z.data.aKv),1)}var e_=iY,fL=B.Ay;if(fL.length>e_.length){var gi=fL;fL=e_;e_=gi;
jI=!1}for(var n=0;n<e_.length;n++)if(fL.indexOf(e_[n])==-1)hu=e_[n];gC.ET("act=3&id="+hu+"&dif="+(jI?1:-1));
alert((jI?"Resource added.":"Resource removed.")+" "+hu);if(!jI)if(B.ay9[hu])delete B.ay9[hu];B.Ay=iY}if(hJ==cR.RV){var cB,bk="Clrs";
if(z.data.kE<2){var lG=z.data.u,h8=z.data.kE==0,iR=T.Yf.e8(T.H_(lG));if(h8)B.pQ=lG;else B.Cp=lG;bk=h8?"FrgC":"BckC";
cB={gQ:"set",cj:{__name:"Set",classID:"setd",T:{t:"Objc",v:iR}}}}if(z.data.kE==2){var gi=B.pQ;B.pQ=B.Cp;
B.Cp=gi;cB={gQ:"exchange",cj:{__name:"Exchange",classID:"Exch"}}}if(z.data.kE==3){B.pQ=0;B.Cp=16777215;
if(A!=null&&A.j.length!=0&&A.Z[A.j[0]].oT==1){var gi=B.pQ;B.pQ=B.Cp;B.Cp=gi}cB={gQ:"reset",cj:{__name:"Reset",classID:"Rset"}}}if(cB){cB.cj.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:bk}}]};
var g5=this.dD();g5.Av=this;g5.track(cB)}}if(hJ==cR.Ww){B.pq=!B.pq;this.eX()}if(hJ==cR._x){B.s2=!B.s2;
this.eX()}var bm=B.Y8;if(hJ==cR.ew){bm.HZ=!bm.HZ;this.eX()}if(hJ==cR.Ex){bm.yj=!bm.yj;this.eX()}if(hJ==cR.ja){bm.r3=!bm.r3;
this.eX()}if(hJ==cR.sv){bm.l0=!bm.l0;this.eX()}if(hJ==cR.Xi){bm.OV=!bm.OV;this.eX()}if(hJ==cR.$d){bm.tQ=!bm.tQ;
this.eX()}if(hJ==cR.qU){B.Y8=z.data.oo;this.eX()}if(hJ==cR.aGy){B.Ti=!B.Ti;this.eX()}if(hJ==cR.UY){B.k5[z.data.Gk]=!B.k5[z.data.Gk];
this.eX()}if(hJ==cR.BL){iE.a7m(z.data.lang,this.aKi)}if(hJ==cR.zh){B.na=z.data.na;this.W()}if(hJ==cR.bc&&B.aB.vJ){var bL=B.aB.vJ.transaction(["rsrc"],"readwrite").objectStore("rsrc"),je={k:"fs0",fset:B.aB.jo};
if(z.data.a08)je={k:B.aB.id,fset:B.aB.Xo};var ea=Object.keys(je.fset).length==0?bL.delete(je.k):bL.put(je);
ea.onerror=function(z){console.log(z);alert("Storing failed. Browser says: "+z.target.error.message,7e3)}}this.tV(hJ);
if(d4)this.tV(d4)}};kO.prototype.abO=function(){var z=this.yT();console.log(z.AU);if(z.AU)return;z.AU=!0;
var q=new dW(_.E.b,!0);q.data={p:_.m.lu,MN:"Saving ..."};this.K(q);setTimeout(function(){var q=new dW(_.E.b,!0);
q.data={p:_.m.IB,agR:!0};this.K(q)}.bind(this),20)};kO.prototype.aE5=function(z,q){q.dL.createWritable().then(function(e){e.write(z);
return e}).then(function(e){return e.close()}).then(function(e){q.zb(q.Eh=="psd");q.AU=!1;var V=new dW(_.E.b,!0);
V.data={p:_.m.Rx,MN:"Saving ..."};this.K(V)}.bind(this)).catch(function(e){q.AU=!1;var V=new dW(_.E.b,!0);
V.data={p:_.m.Rx,MN:"Saving ..."};this.K(V)}.bind(this))};kO.prototype.a8K=function(){var z=this.i,q=z.Ay,e=z.ay9;
for(var n=0;n<q.length;n++){var V=q[n];if(e[V])continue;e[V]=!0;this.io.Vh(V,!0)}};kO.prototype.aaV=function(){this.W();
this.eX()};kO.prototype.vd=function(z){var q=this.i.JD[z];if(q){var e=new dW(_.E.b,!0);e.data={p:_.m.Lo,u5:q};
this.K(e)}return q!=null};kO.prototype.aAZ=function(z,q){var e=!0,B=15;if(q){e=!1;for(var n=0;n<q.length;
n++)if(q[n].startsWith(J.Mh("__M")))e=!0}var V=z.a_()||z.dP&&z.dP.Jp.a_();if(this.sk())V=!1;var P=new J.PN[jS.apr],D=(P[J.kc("xy,b-66:")]()&1)*60+P[J.Mh("VQ]3LNRN<G")]();
if(V&&!lA.aY()&&D>B&&e){var A=J.PN[J.kc("}$z{2*35")][J.kc("y'|!")],s=J.Mh("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
s+="\n\n"+J.Mh("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-D+120)+J.Mh("nYRTXTBMd");
if(A.indexOf(J.kc("\"|'/-1)(W0?@"))==-1)s=iE.get([0,11+6,3+2]);J.PN._cwY(s);return!1}return!0};kO.prototype.WX=function(z){var q=this.i,e=[cR.YO,cR.Ku,cR.Kc,cR.la,cR.gv,cR.nl,cR.TI,cR.qg,cR.z,cR.$O,cR.JC,cR.gO],V=[q.pL,q.zS,q.fa,q.d_,q.fr,q.u_,q.yg,q.aGo,q.$K,q.ZV,q.ahT,q.az2];
return V[e.indexOf(z)]};kO.prototype.a0M=function(z,q){var e=this.WX(z);console.log(e);if(q){var V=z==cR.YO,P=[];
for(var n=0;n<q.length;n++)P.push((V?e.list:e)[q[n]]);e=V?{yw:e.yw,Mf:e.Mf,list:P}:P}if(z==cR.TI){var D=new hq;
for(var n=0;n<e.length;n++){var B=e[n].L$.Lefx;if(B)hB.asl(B,D,this.i.fr)}e={HE:D.add.Patt?D.add.Patt:[],IW:e}}if(z==cR.$O){var A=this.i.pL;
e={Mf:[],yw:[],list:e};console.log(e)}console.log(e);var s=cR.Ld[z];return s[2].iO(e)};kO.prototype.a42=function(){var z=this.aIo(),q=this.yT();
if(q==null||q.j.length==0)return;var e=q.Z[q.j[0]],V=new dW(_.E.z);if(cW==2){V.U=W.HI;V.data={p:"remove",JJ:"Cut Notes"}}else if(z==1){V.U=W.RY;
V.data={p:"remove",JJ:"Cut Paths"}}else{V=new dW(_.E.zN);V.data={gQ:"delete"}}this.K(V)};kO.prototype.aIo=function(z,q,e){if(z==null)z=!1;
var V=this.i;console.log("doCopy",z,q);var P=this.yT();if(V.Ai==W.no&&this.dD().ay()){var D=new dW(_.E.z,!0);
D.U=W.no;D.data={p:"copyText"};this.K(D);return}if(P.j.length==1&&cW==2){var B=P.Z[P.j[0]].m;if(B.j.length==0)return;
var A=[];for(var n=0;n<B.j.length;n++)A.push(B.list[B.j[n]]);gC.da(new Blob(["ncb;"+P.m.rU+";"+JSON.stringify(A)],{type:"text/plain"}));
return}if(P==null||P.j.length==0&&!z)return;var s=P.Z[q==null?P.j[0]:q],a=P.Kn(),M=a[0],$=a[1],U=M[$[0]];
if(!z&&U!=null&&U.add.vmsk.j.length!=0&&cW==0){var o=W.H6.Ra(U.add.vmsk,U.add.vogk);if(J.GG()){o[0]=lh.a2H(o[0]);
var t="vcb;"+JSON.stringify(o);gC.da(new Blob([t],{type:"text/plain"}))}else V.IS=o;return 1}else if(P.h==null){if(J.GG()){var t="lrs;"+this.nk.indexOf(P)+";"+JSON.stringify(P.j);
gC.da(new Blob([t],{type:"text/plain"}))}}else{var c,H;if(z){var F=new kk(0,0,P.s,P.T);H=F.HX(P.h.V);
c=T.n(H.D()*4,P.depth);T.aF(P.tW(),F,c,H);T.d5(P.h.o,P.h.V,c,H)}else if(P.C2.length!=0){H=P.h.V.Y();
c=T.n(H.D()*4,P.depth);var i=P.kv[P.C2[0]],X=i.Xp(H);T.A$(X,c);T.yR(P.h.o,c,3)}else{var K=s.JV(P,P.h);
if(K==null){alert("Copied area is empty");return}c=K.Hm;H=K.V}var f=P.A.Ox,d=f[0]+f[1]+f[2];if(d==1){var L=f.indexOf(1);
for(var n=0;n<c.length;n+=4)c[n]=c[n+1]=c[n+2]=c[n+L]}var G=new f5(P.s,P.T);if(J.GG()&&e!=!0){var x=P.depth;
if(x==32){x=8;c=hZ.G4(c,P.qh(),!1,P,x)}var O=hZ.nw("PNG").a1(c.buffer,H.s,H.T,x);gC.da(new Blob([new Uint8Array(O)],{type:"image/png"}));
this.aeX={TP:H,zG:G}}else V.QS={buffer:c,V:H,zG:G};V.a8c=H.Y();V.IS=null;var D=new dW(_.E.zN);D.data={gQ:"copyEvent",rD:!0};
this.K(D)}};kO.prototype.aHi=function(z,q,e){if(q)this.aFQ=!0;console.log("doPaste");var V=this.i,P=V.QS,D=this.bQ,a;
if(this.nk.length==0){if(!z&&J.GG()){gC.ZG(this,null);return}if(P){var B=hZ.Jy("image.p"+"sd",[{data:P.buffer.buffer,hp:P.V}]),A=new dW(_.E.b);
A.data={p:_.m.Mk,Va:B};this.K(A)}return}var B=this.yT();if(V.Ai==W.no&&this.dD().ay()){gC.ZG(this,null);
return}var s=B.Z[B.j.length==0?B.Z.length-1:B.j[0]];if(V.IS){var M=B.Kn(!0),$=M[0],U=M[1];a=$[U[0]]}var A=new dW(_.E.z,!0);
if(V.IS!=null&&a!=null){A.U=W.RY;A.data={p:"append",JJ:"Paste Paths",ju:V.IS}}else if(!z&&J.GG()&&e!=!0){var o=navigator.userAgent.toLowerCase();
gC.ZG(this,this.azk.bind(this));return}else{if(P==null)return;if(B.Ov(!1)&&(B.A.Ox.join("")!="111"||B.C2.length!=0||s.oT>0||s.V.a8())){A.U=W.YO;
A.data={p:"draw",a4D:!0,JJ:[5,2]}}else{A.U=W.si;A.data={p:lK.ZZ,azl:this.aFQ};this.aFQ=!1}A.data.QS=P;
if(P.V.x==0&&P.V.y==0&&(B.h==null||!B.h.V.bs(P.V))){var t=B.A.bX,c=B.A.Gb(B.s/2,B.T/2),H=B.s-P.V.s,F=B.T-P.V.T;
if(t.vG(c)){var i=B.PM();if(i==-1){P.V.x=H>>1;P.V.y=F>>1}else{var X=B.Z[i].Le();P.V.x=Math.floor((X.s-P.V.s)/2);
P.V.y=Math.floor((X.T-P.V.T)/2)}}else{c=B.A.UK(t.s/2,t.T/2);console.log(c);P.V.x=Math.max(0,Math.min(H,Math.round(c.x-P.V.s/2)));
P.V.y=Math.max(0,Math.min(F,Math.round(c.y-P.V.T/2)))}}}this.K(A);var A=new dW(_.E.zN);A.data={gQ:"paste",rD:!0};
this.K(A)};kO.prototype.abq=function(){var z=this.i.Se;if(z.aoC())return;for(var n=0;n<this.nk.length;
n++){var q=this.nk[n];if(!ey.rB(q,z,this))continue;if(q.HA)ey.fT(q,z,this);var e=q.add.lnk2;if(e)for(var V=0;
V<e.length;V++){var P=e[V];if(P.HA)W.NU.Dj(q,P.PP,P,P,z)}if(q.amt)continue;q.amt=!0;if(q.kK&&q.kK.awR)ae.ne(q.kK.awR,this);
this.Aw();var D=new dW(_.E.z);D.U=W.pa;D.data={p:"start",gT:"blurbTransform"};D.data={p:"start",gT:"rigidTransform"};
D.data={p:"start",gT:"perspectiveWarpTransform"};var B=new dW(_.E.b);B.data={p:_.m.Qp,rF:dJ.Qf.ap4}}};
kO.prototype.tV=function(z){this.a8K();var q=this.i,e=q.Ai,A=!1;if(z==cR.LJ){if(this.jc.map[e].r_)this.jc.map[e].r_.K5(q,z)}else for(var V in this.jc.map)if(this.jc.map[V].r_)this.jc.map[V].r_.K5(q,z);
if(z==cR.oD&&cW<2){if(e!=W.no)this.jc.map[W.no].U.K5(q,z);this.abq()}this.gk.K5(q,z);this.xo.K5(q,z);
this.$m.K5(q,z);if(cW==1&&z==cR.gF){var P=new dW(_.E.z,!0);P.U=W.si;P.data={p:lK.VS};this.K(P)}else this.dD().K5(q,z);
this.BR.K5(q,z);this.qL.K5(q,z);if(cW==1)this.Fz.K5(q,z);if(cW==2)this.J2.K5(q,z);if(z==cR.zh||z==cR.zu){bt.a1j(q.na);
this.update(!0)}var D=q.Zh,B=D.c_.Font;if(z==cR.k3&&B!=null&&D.GD[B].Name!=q.font){q.font=D.GD[B].Name;
A=!0}if([cR.t2,cR.Ym,cR.FU,cR.RV,cR.Ww,cR._x,cR.qU,cR.ja,cR.sv,cR.ew,cR.Ex,cR.Xi,cR.$d,cR.BL,cR.zh].indexOf(z)!=-1||A)this.aiF()};
kO.prototype.aiF=function(){if(!this.sH)return;var z=[],q=this.jc.map;for(var e in q){var V=q[e].U;if(V.NA&&V.NA()!=null)z.push(parseInt(e),V.NA())}var P=this.i,D=P.Y8,B={};
if(D.iS!=8421504)B.gc=D.iS;if(D.C$!=65535)B.uc=D.C$;if(D.hT!=33023)B.lc=D.hT;if(D.kV!=20)B.gs=parseFloat(D.kV.toFixed(2));
if(D.AG!=0)B.gv=parseFloat(D.AG.toFixed(2));if(D.fB!=1)B.gn=D.fB;if(D.Uu!=0)B.gu=D.Uu;if(D.Qm!=0)B.gt=D.Qm;
if(D.oZ!=0)B.ru=D.oZ;if(D.l0!=!1)B.gr=D.l0?1:0;if(D.r3!=!0)B.gd=D.r3?1:0;if(D.HZ!=!0)B.se=D.HZ?1:0;if(D.yj!=!0)B.pa=D.yj?1:0;
if(D.OV!=!0)B.pg=D.OV?1:0;if(D.tQ!=!0)B.sl=D.tQ?1:0;var A={};if(P.pQ!=0)A.fc=P.pQ;if(P.Cp!=16777215)A.bc=P.Cp;
if(P.pq!=!1)A.ru=P.pq?1:0;if(P.s2!=!0)A.ex=P.s2?1:0;if(P.Bi.length!=0)A.ff=P.Bi.join(",");if(P.Ay.length!=0)A.rs=P.Ay.join(",");
if(P.na!=1)A.theme=P.na;if(P.sF!=0)A.co=P.sF;if(P.font!=null&&P.font!="DejaVuSans")A.fo=P.font;var s=dJ.ay6(P.eN);
if(s.length!=0)A.pd=s;if(z.length!=0)A.to=z;if(iE.gR()!="en")A.lang=iE.gR();if(Object.keys(B).length!=0)A.ep=B;
var a=lA.mN();if(a==null)a={};a.globals=A;lA._h(a)};kO.prototype.fC=function(z){var q=this.bQ,e=this.GC,V=this.i.Ai,P=this.jc.map[V].U,D=null,B=!1;
for(var n=0;n<this.jc.ahD.length;n++){var A=this.jc.ahD[n],s=!0;for(var a=0;a<A.r0.length;a++){var M=A.r0[a];
if(!q.t(M))s=!1}if(s&&(!A.jV||!P.ay())&&(A.Wj==null||A.Wj.indexOf(V)!=-1)){D=A.U;B=A.jV;break}}if((!e._W||V==W.$v||z)&&this.jc.xp!=D&&(D!=V||!B)){var $=this.yT();
if(this.jc.xp!=null&&D==null)this.dD().disable($,this,this.i,q,!0);this.jc.xp=D;this.dD().enable($,this,this.i,q,D!=null&&D!=V)}};
kO.prototype.a5Q=function(z){var q=this.i.Ai,e=this.yT();if(q!=null){this.jc.map[q].U.disable(e,this,this.i,this.bQ)}};
kO.prototype.asB=function(z){if(z.r_==null){z.r_=new z.uM(z.U.id);z.r_.a2e(z.U.id,z.U.V5);z.r_.K5(this.i,cR.zu);
z.r_.W()}};kO.prototype.Fw=function(z,q){for(var n=0;n<this.nk.length;n++)this.nk[n].dS(!0);if(z==W.Rs&&this.$m.I6())return;
var e=this.yT(),V=this.i;if(this.jc.map[z].U.tA(e,V,q)){this.a5Q();if(z!=V.Ai)this.jc.a4i=V.Ai?V.Ai:W.HI;
V.Ai=z;this.xo.Fw(V.Ai);var P=this.jc.map[z];this.jc.rl[P.m0]=P.ave;this.asB(P);this.YT.anI(cW==0?P.r_:cW==1?this.Fz:this.J2);
var D=P.U;D.enable(e,this,this.i,this.bQ,!1,q);if(e)e.$k=!0;this.eX();this.WP.ahR()}};kO.prototype.dD=function(z){var q=this.jc,e=q.pE,V=q.xp,P=this.i.Ai;
if(e)P=e;else if(V&&z==null)P=V;return q.map[P].U};kO.prototype.aso=function(z){var q=this.i,e=this.nk.indexOf(z);
if(e!=-1){this.gk.k0(e);return}if(this.awx&&(z.kK==null||z.kK.he==null)){z.kK={he:this.awx}}if(z.by==null){z.by="local,"+this.aCY+","+z.name;
this.aCY++}z.aw$=Date.now();if(cW==1&&z.add.arts==null)z.aoF();if(ln.c9()!=0&&!this.asg&&J.PN[J.kc("t$&!'31")].toString().indexOf(J.kc(" u,$4&"))==-1){alert(J.kc("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var n=0;n<z.Z.length;n++){var V=z.Z[n];if(V.add.SoLd!=null){}}var P=z.Z.length,D=jS.$e(),B=Math.PI*(8e3<<14)+(J._A(31)?20:10)*7e7;
if(D>B){var P=z.Z.length;z.Z=[];return P}if(ee.$x){ee.hD(Math.max(z.s,z.T),z.depth);for(var n=0;n<z.Z.length;
n++){var V=z.Z[n];if(V.Be())ee.hD(Math.max(V.V.s,V.V.T))}}z.To();z.b$();if(z.adw)z.abE();else z.Kv();
z.adw=!1;this.nk.push(z);this.gk.wQ(new eL(z));z.$k=!0;z.XU=!0;this.abq();if(this.aMy)this.nr(1);var A=new dW(_.E.z);
A.U=W.j4;A.data={p:"auto",aFV:2};var s=window.location.href;if(cW==2&&s.indexOf("#os")!=-1&&s.endsWith("n")&&window.ajE==null){var a=new dW(_.E.z);
a.U=W.OF;a.data={p:"prvw"};this.K(a);window.ajE=!0}if(cW==2&&z.je){var a=new dW(_.E.z);a.U=W.OF;a.data={p:"prvw"};
this.K(a)}};kO.prototype.yT=function(){return this.nk[this.avv]};kO.prototype.ahP=function(){return this.$m.I6()==null};
kO.prototype.a9w=function(z,q){this.a5Q();var e=this.nk.length;if(q!=null)this.gk.k0((this.gk.FY()+q+e)%e);
this.avv=this.gk.FY();var V=this.yT();this.qL.Ue(V,this.i);if(cW==1)this.Fz.Ue(V,this.i);if(cW==2)this.J2.Ue(V,this.i);
this.BR.N_(V,this,this.i);this.eX();if(V)V.$k=!0};kO.prototype.alh=function(z){this.a5Q();var q=this.nk,e=q[z.data.qi];
if(e.m.MU){var V=new dW(_.E.b,!0);V.data={p:_.m.D$};this.K(V)}q.splice(z.data.qi,1);if(q.length==0){this.a9w(z);
var P=ee.Hx(),D=eL.jO.tJ;if(P.parentNode)P.parentNode.removeChild(P);if(D.parentNode)D.parentNode.removeChild(D)}this.a6f(e.name)};
kO.prototype.a6f=function(z){var q=this.i.aB,e=!1;if(q.vJ==null)return;for(var V in q.Xo){if(z==null||V==z){delete q.Xo[V];
e=!0}}if(e){var P=new dW(_.E.b);P.data={p:_.m.Ln,Lh:cR.bc,a08:!0};this.K(P)}};kO.prototype.aw7=function(z){var q=[],e=z.data.axh;
for(var n=0;n<e.length;n++)q[n]=this.nk[e[n]];this.nk=q;this.avv=this.gk.FY()};kO.prototype.ag4=function(z){var q=this.gk,e=q.aqM(),V=this.dD(),P=this.yT();
if(e==q.FY()||!V.aJ4())return;this.ahM(e,V)};kO.prototype.ahM=function(z,q){console.log("dup2doc");var e=this.i,V=this.gk,P=this.yT(),D=this.nk[z],B,A=new dW(_.E.z,!0);
A.U=W.si;if(P.h==null){A.data={p:lK.vU,Z:P._i(null,!0),Jp:P,ME:D,aq8:q==null};this.K(A)}else B=P.Z[P.j[0]].JV(P,P.h);
var s=this.GC,a=e.pq;e.pq=!1;s=P.A.UK(s.x,s.y);if(q)q.wv(P,this,e,this.bQ);V.k0(z);if(P.h){A.data={p:lK.ZZ,QS:{buffer:B.Hm,V:B.V}};
this.K(A)}s=D.A.Gb(s.x,s.y);if(q)q.Qy(D,this,e,this.bQ,s);e.pq=a};kO.prototype.akF=function(z){var q=this.yT(),e=this.bQ,V=this.i,P=z.BW;
if(P)this.GC=P;if(P)P.y-=V.sF;if(this.ase==null)this.ase=0;if(z.action=="multidown"){this.Fq=z.uL.length;
this.ase=Date.now()}if(z.action=="up"&&Date.now()-this.ase<100){var D=new dW(_.E.z);D.U=W.S3;D.data={p:this.Fq==2?"h_stepbck":"h_stepfwd"};
this.K(D)}if(z.action.startsWith("multi")){var B=new dW(_.E.z,!0);B.data={p:z.action,uL:z.uL};B.U=W.OF;
this.K(B);return}var A=this.jc.map[W.HI].U;if((z.action=="down"||z.action=="rdown")&&V.Ai!=W.HI&&this.jc.xp!=W.HI&&A.a5t(q,this,V,e,P)){this.jc.pE=W.HI;
A.enable(q,this,V,e,!0)}if(z.action=="idown"){e.qI("Space");this.fC(!0);z.action="down"}var s=this.$m.I6(),a=s!=null&&s.sf()&&this.jc.xp==null?s:this.dD();
if(z.action=="scroll"){var M=!e.t(cz.EF)&&z.BZ,$=e.t(cz.mh);if(window.locStor.getItem("__zwh")=="1")$=!$;
var B=new dW(_.E.z,!0);B.data={p:"scroll",Ew:z.Ew.Y(),BW:P,aMb:M};B.U=$||M?W.OF:W.RJ;this.K(B)}if(s!=null&&a!=s&&this.$m.ay()&&a.id!=W.RJ&&a.id!=W.OF)return;
if(z.action=="down")a.Qy(q,this,V,e,P);if(z.action=="rdown"){if(cW==1){}else a.gr(q,this,V,e,P)}if(z.action=="move")a.Sf(q,this,V,e,P);
if(z.action=="up"||z.action=="iup"||z.action=="cancellast")a.AM(q,this,V,e,P,z.action=="cancellast");
if(z.action=="rup"){if(cW==1){if(this.aAK==null){var U=a5.a1a(),o=function(q){return{d:q!=null}},e=cz,t=e.EF;
U[0][2].tL=!0;this.aAK=new gu([U[0][0],U[0][1],U[0][2],{name:[8,0],r0:[t,e.Zj]},{name:[8,1],r0:[t,e.w1],tL:!0},{name:[8,3],d:function(q,F){return{yc:F.pq}},r0:[t,e.Qf],tL:!0},{name:"Outline View",d:function(q,F){return{yc:q&&q.add.prvw==0,d:q!=null}},r0:[t,e.$l]}],[U[1][0],U[1][1],U[1][2],{N:_.E.z,U:W.OF,M:{p:"zoom",pn:!0}},{N:_.E.z,U:W.OF,M:{p:"zoom",pn:!1}},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.Ww}},{N:_.E.z,U:W.OF,M:{p:"prvw"}}])}var c=this.aAK;
c.parent=this;c.W();c.update(q,V);var B=new dW(_.E.b,!0);B.data={p:_.m.wL,MR:c,x:P.Go+2,y:P.x5+1};this.K(B)}else a.D1(q,this,V,e,P)}if(z.action=="iup"){e.ZL("Space");
this.fC(!0)}if(z.action=="cancellast"){if(q&&q.history.length!=0&&Date.now()-q.history[q.history.length-1].ak5<200){var D=new dW(_.E.z);
D.U=W.S3;D.data={p:"h_stepbck"};this.K(D)}}var H=this.BR;if(z.action=="down")H.Qy(q,this,V,e,P);if(z.action=="move")H.Sf(q,this,V,e,P);
if(z.action=="up")H.AM(q,this,V,e,P);if(z.action=="down"||z.action=="up"){this.fC()}if(z.action=="down"||z.action=="up"||z.action=="ctx"){q.$k=!0}if((z.action=="up"||z.action=="rup")&&this.jc.pE){this.jc.pE=null;
A.disable(q,this,V,e)}if(q&&V.pq)q.XU=!0};kO.prototype.mJ=function(z){var q=this.yT(),e=this.GC;if(q&&this.dD().VV(e,this.bQ)){var V=q.A,P=V.bX.s,D=V.bX.T,B=0,A=0,s=16;
if(e.x<s)B=s-e.x;if(e.x>P-s)B=e.x-(P-s);if(e.y<s)A=s-e.y;if(e.y>D-s)A=e.y-(D-s);var a=this.bQ.t(cz.XQ)?8:1;
if((B!=0||A!=0)&&(q.s*V.C7>P||q.T*V.C7>D)){B=Math.min(5,B*.5)*a;A=Math.min(5,A*.5)*a;if(e.x>s)B=-B;if(e.y>s)A=-A;
V.g.x+=B;V.g.y+=A;this.akF({BW:this.GC,action:"move"});q.y8=!0}}this.update()};kO.prototype.update=function(z){var q=this.yT();
if(q==null)return;if(cW!=0){if(q.buffer)throw"e"}if(q.$k){var e=this.jc.map;for(var V in e){if(e[V].U.zs)e[V].U.zs(q,this,this.i,this.bQ)}if(cW==1){e[W.qm].U.zs(q,this,this.i,this.bQ,!0)}}if(q.nX&&cW==0)if(ee.$x)ee.hD(Math.max(q.s,q.T));
if(q.nX&&cW==0){q.n9()}if(cW==2&&q.m.MU){var P=q.A.DH();P.TG();q.m.U6=jo.getTime();if(q.add.prvw!=1)q.A.g.x=-gs.vc(q.m.U6,q)*P.x6;
q.XU=!0}var D=q.A,B=this.fF,A=this.fF=Date.now();if(q.nX||q.ZI||q.XU||q.y8||z||D.Zi!=D.C7||!D.yO.bs(D.g)){var s=D.Zi;
if(D.Zi!=D.C7){var a=W.jH.aAW(D.C7,D.Zi>D.C7),M=.12;if(D.Zi<D.C7&&D.Zi<a)D.Zi=a;if(D.Zi>D.C7&&D.Zi>a)D.Zi=a;
var $=Math.abs(D.C7-a)*(A-B)*.001/M;if(D.Zi<D.C7)D.Zi=Math.min(D.C7,D.Zi+$);else D.Zi=Math.max(D.C7,D.Zi-$)}var U=s==D.C7?0:(D.Zi-D.C7)/(s-D.C7);
D.yO.x=D.g.x+U*(D.yO.x-D.g.x);D.yO.y=D.g.y+U*(D.yO.y-D.g.y);this.gk.N_(q,this.nk,this.i)}if((q.nX||q.y8||q.$k)&&(!this.GC._W||q.Du)){if(q.$k)q.b$();
this.BR.N_(q,this,this.i);this.xo.avx(q,this.bQ);if(cW==1)this.Fz.N_(q);if(cW==2)this.J2.N_(q);q.de=!1}q.Du=!1;
q.$k=!1;q.nX=null;q.ZI=q.XU=q.y8=!1};kO.prototype.e3=function(z){var q=z.target.tagName.toLowerCase(),e=z.target.getAttribute("type"),V=cz,P=V.Kz(z.code,V.JN);
if(cW==2)cz.asN(z.code,!0,this);if(!((q=="input"||q=="select"||q=="button")&&V.Kz(z.code,V.ji))){if(V.atq(z)&&q!="select"){z.preventDefault()}this.bQ.qI(V.nY(z));
this.gi("down")}};kO.prototype.QN=function(z){if(cW==2)cz.asN(z.code,!1,this);var q=this.bQ;if(z.key==" ")q.fO();
if(cz.Kz(z.code,cz.a8$))q.reset();q.ZL(cz.nY(z));q.a1o(z.getModifierState("CapsLock"));var e=z.target.tagName.toLowerCase();
if(cz.atq(z)&&e!="select"){z.preventDefault()}this.gi("up")};kO.prototype.gi=function(z){var q=this.bQ,e=this.yT(),V=e!=null&&e.j.length!=0;
if(this.zy.I6()!=null){if(q.t(cz.Nf)||q.t(cz.JN)){this.zy.a8P()}return}this.fC();var P=this.t3(cz.EF),D=q.t(cz.mh),B=q.t(cz.XQ);
if(P&&q.t(cz.wX)&&z=="down"){var A=new dW(_.E.z),s=new dW(_.E.b);A.U=W.S3;if(B){A.data={p:"h_stepfwd"}}else{A.data={p:"h_stepbck"}}if(this.$m.I6()!=null&&this.$m.I6().ay()){}else this.K(A)}if(P){var A=new dW(_.E.z),a=new dW(_.E.zN),s=new dW(_.E.b);
if(q.t(cz.Pd)&&q.t(cz.dO)){s.data={p:_.m.wa,rF:"storwindow"};this.K(s)}if(!D&&z=="down")for(var M in aM.keys){var $=aM.keys[M],U=!0;
for(var n=0;n<$.length;n++)if(!q.t($[n]))U=!1;if(U){A.U=W.j4;if(M=="hue2"&&B&&e.Z[e.j[0]].add.SoLd==null)A.data={p:"auto",aFV:3};
else A.data={p:"start",xJ:M}}}if(q.t(cz.m)){if(D){a.data={gQ:"selectAllLayers",cj:{classID:"null",null:fw.y5("Lyr",!0)}}}else a.data=W.cn.Im(!0)}if(q.t(cz.jj)){if(D)s.data={p:_.m.wa,rF:"csize"};
else if(e)s.data={p:_.m.K$,J4:B}}if(q.t(cz.Tj)&&(e.h||cW==2)){a.data=W.cn.Im()}if(q.t(cz.E)&&z=="down"){if(B)a.data={gQ:"mergeVisible"};
else if(dG.a4O(e).d)a.data={gQ:"mergeLayersNew",cj:{__name:"Merge Layers",classID:"Mrg2"}}}if(q.t(cz.AK)){if(B&&this.i.Ai!=W.Rs)s.data={p:_.m.wa,rF:"afw_fade"};
else if(D){A.U=W.pa;A.data={p:"applylast"}}else s.data={p:_.m.J$}}if(q.t(cz.sb)){if(D&&e&&e.ri(e.j[0])){A.U=W.si;
A.data={p:lK.Cr}}else{A.U=W.si;A.data={p:lK.cZ,wb:B}}}if(cW==1&&q.t(cz.rS)){A.U=W.si;A.data={p:lK.cZ,Qe:!0,wb:D}}if(q.t(cz.nA)){s.data={p:_.m.Ln,Lh:cR._x}}if(q.t(cz.Pd)){if(B){A.data=null;
if(D)s.data={p:_.m.wa,rF:"finfo"};else a.data={gQ:"inverse"}}else if(D)s.data={p:_.m.wa,rF:"isize"}}if(q.t(cz.LI)){if(cW==1){A.U=W.pg;
A.data={p:D?"average":"join"}}else a.data={gQ:(B?"cut":"copy")+"ToLayer"}}if(q.t(cz.W3)){s.data={p:_.m.wa,rF:"preferences"}}if(q.t(cz.pm)){if(B){A.U=W.si;
A.data={p:lK.Ag}}else if(z=="down")s.data={p:_.m.wa,rF:"newproject"}}if(q.t(cz.Lg)){if(D)s.data={p:_.m.wa,rF:"storwindow",Ml:0};
else{s.data={p:_.m.Bd};q.reset()}}if(q.t(cz.qv)){s.data={p:_.m.wa,rF:"saveforweb",gh:3,atG:!0}}if(q.t(cz.Qf)){s.data={p:_.m.Ln,Lh:cR.Ww}}if(q.t(cz.en)&&z=="down"){if(B){if(D)s.data={p:_.m.wa,rF:"saveforweb"};
else s.data={p:_.m.IB}}else s.data={p:_.m.UL}}if(q.t(cz.J3)){if(B){A.U=W.si;A.data={p:lK.Mi};this.K(A);
A.U=W.Rs;A.data={p:"again"}}else s.data={p:_.m.uB,U:W.Rs}}if(q.t(cz.WT)){s.data={p:_.m.AW}}if(q.t(cz.awt)){this.gk.BB()}if(q.t(cz.s$)&&e&&(e.auy()||cW==2)){s.data={p:_.m.q1}}if(q.t(cz.$l)&&e){A.U=W.OF;
A.data={p:"prvw"}}if(q.t(cz.NW)||q.t(cz.WO)){A.U=W.si;A.data={p:lK.Zs,kE:0};if(q.t(cz.NW))A.data.kE=B?3:2;
else A.data.kE=B?0:1}if(q.t(cz.Wu)&&e&&e.j.length!=0){var o=e.Z[e.j[0]].Sw();a.data={gQ:o?"hide":"show",cj:{classID:"null",null:{t:"VlLs",v:[fw.y5("Lyr",!0)]}}}}if(q.t(cz.JN)&&e){var t=0;
if(B)t++;if(D)t+=2;A.U=W.qK;A.data={p:"frompath",HH:[null,0,t]}}if(q.t(cz.SS)){a.data=W.hV.V7(0)}if(q.t(cz.ji)){var c=this.nk.length,H=q.t(cz.XQ)?-1:1;
if(c>1)this.gk.k0((this.gk.FY()+c+H)%c)}if(q.t(cz.Vb)){s.data={p:_.m.Ln,Lh:cR.ja}}if(q.t(cz.Nc)){s.data={p:_.m.Ln,Lh:cR.sv}}W.jH.aCq(q,A);
if(this.$m.I6()!=null&&this.$m.I6().ay()){}else{if(A.data)this.K(A);if(a.data)this.K(a);if(s.data)this.K(s)}}if(!P&&D){var F;
if(q.t(cz.NW))F="Bckw";if(q.t(cz.WO))F="Frwr";if(q.t(cz.Wu))F="Back";if(q.t(cz.SS))F="Frnt";if(F){var a=new dW(_.E.zN);
a.data={gQ:"select",cj:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:F}}]},MkVs:{t:"bool",v:!1}}};
this.K(a)}}if(e&&e.j.length!=0){var i=e.Z[e.j[0]],X=i.oT;if(X==1||X==3||P){var A=new dW(_.E.z),K=X==3?i.kL(e).Eo:i.OX();
if(K){var f=K.eq?e.A.Ox.join("")=="111"?1:2:0;A.U=W.OF;if(K&&q.t(cz.Nf)&&f!=0){A.data={p:"mskView",u:0}}if(K&&q.t(cz.a8T)){A.data={p:"mskView",u:f==1?0:1}}if(K&&q.t(cz.aGA)){A.data={p:"mskView",u:f==2?0:2}}if(A.data)this.K(A)}}}var d=q.UP();
if(e&&P&&2<=d&&d<=5){var L=[1,1,1];if(d>2){L=[0,0,0];L[d-3]=1}var G=new dW(_.E.z,!0);G.U=W.RJ;G.data={p:"setcls",Ox:L};
this.K(G)}if(!q.t(cz.EF)&&!D&&z=="down"){var A=new dW(_.E.z),s=new dW(_.E.b),x=this.jc.map[this.i.Ai],O=-1;
for(var n=0;n<this.jc.keys.length;n++)if(this.jc.keys[n]&&this.t3(this.jc.keys[n]))O=n;if(O!=-1){var v=null;
if(x.m0!=O)v=this.jc.rl[O];if(x.m0==O&&B)v=(x.ave+1)%this.jc.Oo[O].length;if(v!=null){var C=this.jc.Oo[O][v].U.id,S=this.i.Cz;
if((S==null||S.indexOf(parseInt(C))!=-1)&&!this.GC._W)s.data={p:_.m.uB,U:C}}}if(q.t(cz.nA))s.data={p:_.m.uB,U:W.RJ};
if(q.t(cz.Qf)&&cW<2)s.data={p:_.m.uB,U:W.FB};if(q.t(cz.s$))s.data={p:_.m.Ln,Lh:cR.RV,kE:2};if(q.t(cz.Tj))s.data={p:_.m.Ln,Lh:cR.RV,kE:3};
if(s.data)this.K(s);if(q.t(cz.a89)&&e&&e.j.length==1){var i=e.Z[e.j[0]];A.U=W.si;var j=i.rs(0)||i.rs(1)||i.rs(2)||i.rs(31);
A.data={p:lK.B4,oo:j?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[0]]};this.K(A)}var d=q.UP();if(V&&d!=-1&&this.t3(cz.aM[d])){var w=e.j[0],i=e.Z[w],u=cz.acA(Math.round(100*i.vz/255),d);
A.U=W.si;A.data={p:lK.tS,oo:Math.round(255*u/100)};this.K(A)}var l=this.i.Rm;if(q.t(cz.ji)){s.data={p:_.m.qr,u:l==0?1:0};
this.K(s)}if(q.t(cz.AK)||q.t(cz.Nf)&&l==2){var I=document.fullscreenElement!=null==(l==2);s.data={p:_.m.qr,u:l==0?2:0,Mw:I};
this.K(s)}if(q.t(cz.Yq)&&!this.GC._W&&cW<2){A.U=W.qK;A.data={p:"qmask"};this.K(A)}}if(!q.t(cz.EF)&&!D&&B){var A=new dW(_.E.z),s=new dW(_.E.b);
if(q.t(cz.Wu))s.data={p:_.m.wa,rF:"shortcuts"};if(q.t(cz.aNT))s.data={p:_.m.wa,rF:"fill"};if(q.t(cz.aa3))s.data={p:_.m.wa,rF:"sel_feather"};
if(V&&(q.t(cz.Zj)||q.t(cz.w1))){var w=e.j[0],i=e.Z[w],Q=aA.q2,b=Q.length,p=Q.indexOf(i.pi);A.U=W.si;
A.data={p:lK.Kj,oo:(p+b+(q.t(cz.Zj)?1:-1))%b};this.K(A)}if(s.data)this.K(s)}var A=new dW(_.E.z),k=z=="down"&&(this.t3(cz.Dv)||this.t3(cz.QI));
if((P||D)&&k){A=new dW(_.E.zN);A.data=W.j6.J8(P?"BckC":"FrgC");this.K(A)}else if(this.$m.I6()==null&&e&&k&&!this.GC._W){if(e.h!=null){A=new dW(_.E.zN);
A.data={gQ:"delete"}}else if(e.j.length!=0){var i=e.Z[e.j[0]];if(i.oT==1)A.data={p:lK.Ab};else if(i.oT==3)A.data={p:lK.Fo};
else A.data={p:lK.t$};A.U=W.si}this.K(A)}if(this.$m.I6()!=null){if(q.t(cz.Nf)){this.$m.I6().a9Q()}else{this.$m.I6().gi(e,this,this.i,q)}}if(this.i.Ai==null)return;
var x=this.dD();if(this.$m.I6()==null||this.jc.xp)x.gi(e,this,this.i,q)};kO.prototype.t3=function(z){var q=this.bQ,e=this.jc.map[this.i.Ai].U,top=this.$m.I6(),V=this.yT();
return q.t(z)&&!e.Hp(z,V)&&(top==null||!top.Hp(z,V))};kO.prototype.nr=function(z){var q=this.a7v,e=this.Z4;
this.i.Rm=z;var V=J.H2,P=this.qL.$;if(V(P))this.CH.removeChild(P);var D=this.YT.$;if(V(D))this.CH.removeChild(D);
var B=this.xo.$;if(V(B))q.removeChild(B);var A=this.gk.$;if(V(A))q.removeChild(A);var s=this.BR.$;if(V(s))q.removeChild(s);
if(z==0){this.CH.appendChild(P);this.CH.appendChild(D);e.appendChild(q);q.appendChild(B);q.appendChild(A);
q.appendChild(s)}if(z==1){this.CH.appendChild(P);q.appendChild(A)}if(z==2){q.appendChild(A)}this.gk.nr(z==2?1:0);
this.eX()};kO.prototype.ani=function(z){if(this.sk())return 1;if(J.adZ()==0){this.i={};this.hh=function(q,e){return Math.sqrt(q*e)}}return-1};
kO.aCL=function(){var z=cW==0?[[{U:new W.DL,uM:gF},{U:new W.IQ,uM:ax}],[{U:new W.if,uM:i0,FV:0},{U:new W.M8,uM:di,FV:0}],[{U:new W.QL,uM:du,FV:0},{U:new W.IG,uM:fC,FV:0},{U:new W.hU,uM:h5,FV:0}],[{U:new W.Ty,uM:d9,FV:0},{U:new W.e2,uM:aZ,FV:0},{U:new W.Pe,uM:hI,FV:0}],[{U:new W.a0t,uM:iA},{U:new W.akc,uM:eQ},{U:new W.zL,uM:fN,FV:0},{U:new W.hJ,uM:he,FV:0}],[{U:new W.SB,uM:bj},{U:new W.A8,uM:lq,FV:0},{U:new W.kl,uM:hQ}],[{U:new W.TF,uM:gk,FV:0},{U:new W.Ow,uM:k4,FV:0},{U:new W.QL(!0),uM:gB,FV:0},{U:new W.B6,uM:dS,FV:0},{U:new W.am_,uM:h6,FV:0},{U:new W.f5,uM:li,FV:0}],[{U:new W.FZ,uM:aj,FV:0},{U:new W.Zp,uM:l5,FV:0},{U:new W.Lb,uM:gN,FV:0}],[{U:new W.hq,uM:iz,FV:0}],[{U:new W.O1,uM:ic,FV:0},{U:new W.MC,uM:kw,FV:0},{U:new W.PE(!0),uM:aW,FV:0}],[{U:new W.QT,uM:bb,FV:0},{U:new W.PE,uM:aW,FV:0}],[{U:new W.q7,uM:i1,FV:0},{U:new W.Lj,uM:ka,FV:0},{U:new W._Z,uM:af,FV:0}],[{U:new W.zv,uM:ky,FV:0},{U:new W.Rd,uM:cN,FV:0},{U:new W.No,uM:fG,FV:0}],[{U:new W.FX,uM:fP},{U:new W.Zv,uM:fP}],[{U:new W.dM(0),uM:aQ},{U:new W.s8,uM:g1},{U:new W.dM(1),uM:aQ},{U:new W.dM(2),uM:aQ},{U:new W.dM(3),uM:aQ},{U:new W.dM(4),uM:aQ}],[{U:new W.uE,uM:ab},{U:new W.iK,uM:ho}],[{U:new W.Rect,uM:bR},{U:new W.f4,uM:av},{U:new W.l1,uM:jB},{U:new W.ve,uM:gE},{U:new W.R8,uM:ix}],[{U:new W.fp,uM:lj},{U:new W.v_,uM:ir}],[{U:new W.jH,uM:i4}]]:cW==1?[[{U:new W.DL,uM:gF}],[{U:new W.iK,uM:ho}],[{U:new W.dM(0),uM:aQ}],[{U:new W.s8,uM:g1}],[{U:new W.FX,uM:fP},{U:new W.Zv,uM:fP}],[{U:new W.l1,uM:jB}],[{U:new W.Rect,uM:bR},{U:new W.f4,uM:av},{U:new W.l1,uM:jB},{U:new W.ve,uM:gE},{U:new W.R8,uM:ix}],[{U:new W.Fr,uM:lj}],[{U:new W.YH,uM:bb}],[{U:new W.SB,uM:bj}],[{U:new W.fp,uM:lj},{U:new W.v_,uM:ir}],[{U:new W.jH,uM:i4}]]:[[{U:new W._m(0),uM:gF}],[{U:new W._m(1),uM:aj}],[{U:new W.fp,uM:lj}],[{U:new W.jH,uM:i4}]],A="",s="";
if(cW==0&&!J.Yo(1))z[6].splice(2,1);var q=[[cz.WT,cz.BH,cz.eT,cz.awt,cz.jj,cz.Pd,cz.LI,cz.RI,cz.en,cz.E,cz.sb,null,cz.Lg,cz.J3,cz.qv,cz.m,cz.dO,cz.nA,cz.wX],[cz.WT,cz.m,cz.qv,null,cz.J3,cz.a8T,cz.BH,null,cz.sb,cz.Pd,cz.nA,cz.wX],[cz.WT,cz.RI,cz.nA,cz.wX]][cW],e=[{U:W.OF,jV:!1,r0:[cz.aH3,cz.ii]},{U:W.OF,jV:!1,r0:[cz.aH3],Wj:[W.RJ]},{U:W.RJ,jV:!1,r0:[cz.ii]},{U:W.vS,jV:!0,r0:[cz.EF],Wj:[W.U$]},{U:W.U$,jV:!0,r0:[cz.EF],Wj:[W.vS]},{U:W.pg,jV:!0,r0:[cz.EF],Wj:[W.RY,W.qm,W.Al]}];
if(cW==0)e.push({U:W.RY,jV:!0,r0:[cz.EF],Wj:[W.pg,W.v8,W.Ms,W.jx,W.GN,W.pY]});e.push({U:W.HI,jV:!0,r0:[cz.EF]});
var V={ahD:e,Oo:z,rl:[],keys:q,ec:[{U:new W.a5q,uM:lx},{U:new W.aE8,uM:gl},{U:new W.a33,uM:iw},{U:new W.SB(!0),uM:bj},{U:new W.Nk,uM:dO},{U:new W.Hs,uM:jV},{U:new W.fv,uM:cX}],aB$:[{U:new W.NU},{U:new W.History},{U:new W.$I},{U:new W.ID},{U:new W.Jz},{U:new W.et}],map:{},a4i:null,xp:null,pE:null},P=V.Oo;
for(var n=0;n<P.length;n++){var D=P[n];if(iE=="---")continue;for(var B=0;B<D.length;B++)if(D[B].FV!=null&&D[B].FV!=cW){D.splice(B,1);
B--}if(D.length==0){P.splice(n,1);V.keys.splice(n,1);n--}}for(var n=0;n<V.Oo.length;n++){var a=V.Oo[n];
if(a=="---")continue;var M=V.keys[n];for(var B=0;B<a.length;B++){V.map[a[B].U.id]=a[B];a[B].m0=n;a[B].ave=B;
var $=iE.get(a[B].U.name);s+="<li>"+a[B].U.id+": "+$+"</li>";A+="\t"+JSON.stringify(a[B].U.name)+", "+(M?"\""+M.HS+"\"":"null")+", "+a[B].U.id+", // "+$+"\n"}V.rl[n]=0}for(var n=0;
n<V.ec.length;n++)V.map[V.ec[n].U.id]=V.ec[n];for(var n=0;n<V.aB$.length;n++)V.map[V.aB$[n].U.id]=V.aB$[n];
try{var U=window.locStor.getItem("_ltools");if(U){U=U.split(",");for(var n=0;n<U.length;n++){var o=V.map[U[n]];
if(o&&o.m0!=null)V.rl[o.m0]=o.ave}}}catch(cz){alert("could not load the tool preferences");console.log("Last tools: ",window.locStor.getItem("_ltools"))}return V};
function es(z){gq.call(this);if(z==null)return;this.xL=null;this.Hi=null;this.$=J.k("div","sbar"+" "+z);
this.im=new J.k("div","top");this.im.innerHTML="> <";this.$.appendChild(this.im);this.T1=1;this.im.addEventListener("click",this.ajN.bind(this),!1)}es.prototype=new gq;
es.prototype.ajN=function(z){if(this.xL!=null&&this.xL<500&&this.T1==0)return;if(this.T1==0)this.Vo(!0);
else this.collapse(!0)};es.prototype.agm=function(z){this.T1=z;this.im.innerHTML=this.T1==0?"< >":"> <"};
es.prototype.a5b=function(){var z=new dW(_.E.b,!0);z.data={p:_.m.Zd};this.K(z)};es.prototype.Vo=function(z){this.agm(1);
if(z)this.a5b()};es.prototype.collapse=function(z){this.agm(0);if(z)this.a5b()};es.prototype.$N=function(){return this.T1==1};
function er(z){es.call(this,"vcolumn");this.n5=z;this.azr();this.tC=J.k("div","cont");J.C(this.tC,"cursor:default;");
this.a7G=this.acw.bind(this);this.a5C=this.aFU.bind(this);this.aIK=this.aMO.bind(this);J.Br(this.$,this.a7G);
this.$.appendChild(this.tC);this.awK=J.k("div");this.tC.appendChild(this.awK);this.oG=-1;this.aI6=J.k("div","float");
var q=this.aQ=J.k("canvas","gsicon"),e=Math.round(12*J.WU());q.width=q.height=e;var V=q.getContext("2d");
V.moveTo(2,2);V.lineTo(e-2,e-2);V.moveTo(2,7);V.lineTo(e-7,e-2);V.stroke();J.C(this.aQ,"position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
J.sB(this.aQ);J.Br(this.aQ,this.a7G);J.kr(q);this.g$=[];this.aC_=[];this.aEA=null;this.$W=null;this.alN=0}er.prototype=new es;
er.prototype.acw=function(z){var q=z.target==this.aQ;if(!q){if(z.target!=this.$)return;if(!this.$N())return}else{var e=this.g$[this.oG].rK;
e.style.pointerEvents="none";var V=e.getBoundingClientRect();this.aEA=[V.width,V.height];this.aC_[this.oG]=[V.width,V.height]}z.stopPropagation();
this.$W=J.fH(z,document.body);this.alN=this.n5;J.rq(document,this.a5C);J.KE(document,this.aIK)};er.prototype.aFU=function(z){var q=J.fH(z,document.body);
if(this.$N()){this.n5=this.alN+this.$W.x-q.x;this.azr()}else{var e=this.aC_[this.oG],V=this.aEA;e[0]=V[0]+this.$W.x-q.x;
e[1]=V[1]+q.y-this.$W.y}var P=new dW(_.E.b,!0);P.data={p:_.m.Zd};this.K(P)};er.prototype.aMO=function(z){if(!this.$N()){var q=this.g$[this.oG].rK;
q.style.pointerEvents="auto"}J.TT(document,this.a5C);J.N$(document,this.aIK)};er.prototype.ai2=function(z){z.Q("showFloat",this.a01,this);
z.Q("hideFloat",this.aPP,this);this.g$.push(z);z.parent=this;this.tC.appendChild(z.$)};er.prototype.aoD=function(n){var z=this.g$[n];
z.removeEventListener("showFloat",this.a01,this);z.removeEventListener("hideFloat",this.aPP,this);this.g$.splice(n,1);
z.parent=null;this.tC.removeChild(z.$)};er.prototype.aH2=function(){return this.g$.length};er.prototype.PF=function(){for(var n=0;
n<this.g$.length;n++)this.g$[n].PF()};er.prototype.a01=function(z){this.PF();var q=this.aI6;this.awK.appendChild(q);
this.oG=this.g$.indexOf(z.currentTarget);var e=this.g$[this.oG].rK;J._8(q);q.appendChild(e);q.appendChild(this.aQ);
this.hh(this.xL,this.Hi)};er.prototype.aPP=function(z){this.PF();if(this.oG!=-1){this.awK.removeChild(this.aI6);
this.oG=-1}};er.prototype.azr=function(){function z(q){return Math.round(q*J.WU())/J.WU()}J.C(this.$,"width: "+this.n5+"px; border-left-width:"+z(4)+"px; cursor:ew-resize;")};
er.prototype.Vo=function(z){this.azr();this.aPP();for(var n=0;n<this.g$.length;n++)this.g$[n].Vo();es.prototype.Vo.call(this,z)};
er.prototype.collapse=function(z){this.$.removeAttribute("style");for(var n=0;n<this.g$.length;n++)this.g$[n].collapse();
es.prototype.collapse.call(this,z)};er.aF2=11;er.prototype.hh=function(z,q,e){this.xL=z;this.Hi=q;q-=er.aF2;
var V=this.g$.length;if(V==0)return;this.tC.style.height=q-1+"px";if(!this.$N()){var P=q<400?q:400+(q-400)*.5,D=Math.max(this.n5,(window.innerWidth-350)/3);
for(var n=0;n<V;n++){var B=this.g$[n],A=this.aC_[n];B.hh(A?A[0]:B.a3X?D:this.n5,A?A[1]:P,e)}}else{var s=q;
for(var n=0;n<V;n++){var B=this.g$[n],a=B.afO();if(n==V-1){a=s;B.$.style.borderBottom="none"}B.hh(this.n5,a);
s-=a+4}}};function eJ(z){gq.call(this);this.$=J.k("div");this.tC=null;this.xz=0;this._0=0;this.aj_=z;
this.app=this.O3.bind(this);this.aML=this.Qh.bind(this);this.aj6=this.lG.bind(this);this.Nl=null;this.LO=null;
this.ahU=null;var q=this.$,V="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
J.Br(q,this.app);q.addEventListener("touchmove",J.AZ,!1);this.aNh=!0;this.C_=[];var e=this.ahI=J.k("div");
J.C(e,"float:right; padding:4px;display:none; position:relative;z-index:1; app-region:no-drag;");q.appendChild(e);
var P=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",V+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",V+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",V+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var n=0;n<P.length;n++){var D=new ht(P[n]);this.C_.push(D);J.C(D.$,"margin-left:"+(n<7?4:0)+"px;cursor:pointer;");
D.Q("click",this.Xr,this)}}eJ.prototype=new gq;eJ.prototype.W=function(){var z=this.ahI;J._8(z);for(var n=0;
n<this.C_.length;n++){var q=this.C_[n];if(n<5)q.W();z.appendChild(q.$)}};eJ.prototype.Xr=function(z){var n=this.C_.indexOf(z.currentTarget);
if(n==0){if(window.showCap)window.showCap();return}var q=" issues learn blog api twitter facebook".split(" "),e=["","//github.com/photopea/"+["photo","vector"][cW]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],V=window.ga;
if(V)V("send","event","Links",q[n]);var P=new dW(_.E.b,!0);P.data={p:_.m.I3,link:e[n]};this.K(P)};eJ.prototype.O3=function(z){if(z.a2A){z.preventDefault();
z.stopPropagation()}var q=window;J.rq(q,this.aML);J.KE(q,this.aj6);q=this.tC;this.Nl=new f5(parseInt(q.style.left),parseInt(q.style.top));
this.LO=J.fH(z,this.$);this.ahU=q.getBoundingClientRect()};eJ.prototype.Qh=function(z){var q=J.fH(z,this.$),e=this.Nl.x+q.x-this.LO.x,V=this.Nl.y+q.y-this.LO.y,P=this.xz-this.ahU.width,D=this._0-this.ahU.height;
if(this.aj_)this.tC.style.left=Math.min(0,Math.max(P,e))+"px";else this.tC.style.top=Math.min(0,Math.max(D,V))+"px";
if(e-10>0){this.LO.x=q.x-10;this.Nl.x=0}if(e+10<P){this.LO.x=q.x+10;this.Nl.x=P}};eJ.prototype.lG=function(z){var q=window;
J.TT(q,this.aML);J.N$(q,this.aj6)};eJ.prototype.asV=function(z){if(this.tC){this.$.removeChild(this.tC)}this.tC=z;
this.$.appendChild(z);z.style.position="absolute";z.style.appRegion="no-drag";if(this.aj_)z.style.left=0;
else z.style.top=0};eJ.prototype.hh=function(z,q){this.xz=z;this._0=q;J.C(this.$,"position:relative; width: "+z+"px; height: "+q+"px; overflow:hidden; white-space: nowrap; app-region:drag;");
var e=this.tC.firstChild,V=this.ahI,P=e?e.firstChild.getBoundingClientRect().width:1e9,D=170,B=navigator.windowControlsOverlay,A=0,s=0;
if(B&&B.visible){var a=B.getTitlebarAreaRect();s=a.x;A=z-a.width-a.x;if(A<0)A=0;P+=a.x;D+=A}var M=this.aNh&&z>P+D;
V[jS.nq][jS.atB]=M?"":jS.au_;V[jS.nq][jS.fn]=A+"px";if(e){e[jS.nq][jS.afj]=s+"px";e[jS.nq][jS.aLv]=jS.aAG}var $=this.C_;
for(var n=0;n<$.length;n++){var U=n>4||z-P-D>330?"":jS.au_,o=$[n];o.$.style.display=U}};eJ.prototype.ahR=function(){this.tC.style.left="0";
this.tC.style.top="0"};function em(){gq.call(this);this.i=null;this.V$=em.qv;this.aip="";this.$=J.k("div","rightbar");
this.sa=[new er(300),new er(268)];this.g$=[new jD,new jD,new jD,new jD,new jD,new jD,new jD(null,!0)];
this.abk=[]}em.prototype=new gq;em.prototype.W=function(){var z=this.V$;for(var n=0;n<z.length;n++)z[n].MR.W()};
em.qv=[[{MR:new j3,B3:3},{MR:new en,B3:1},{MR:new a4,B3:4},{MR:new c$,B3:2},{MR:new lo(!0),B3:5},{MR:new jn(!0),B3:5},{MR:new a1,B3:0},{MR:new gG,B3:5},{MR:new kx,B3:3},{MR:new jK,B3:0},{MR:new k1,B3:3},{MR:new dG,B3:2},{MR:new bs,B3:4},{MR:new hP,B3:3},{MR:new k$,B3:5},{MR:new lo(!1),B3:5},{MR:new b6,B3:2},{MR:new hn,B3:3},{MR:new kU,B3:1},{MR:new fs,B3:0},{MR:new eS,B3:5},{MR:new hR,B3:4},{MR:new kK,B3:6,XJ:!0}],[{MR:new fm,B3:5},{MR:new lo(!0),B3:5},{MR:new lo(!1),B3:5},{MR:new hR,B3:4},{MR:new gG,B3:5},{MR:new jK,B3:0},{MR:new dG,B3:2},{MR:new cY,B3:6},{MR:new kK,B3:6,XJ:!0}],[{MR:new jK,B3:0},{MR:new dG,B3:2}]][cW];
if(cW<2){if(J.Yo(1))em.qv.push({MR:new jP,B3:6,XJ:!0});em.qv.push({MR:new i3,B3:6,XJ:!0},{MR:new jp,B3:6,XJ:!0})}(function(){var z=[{name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Peas Maker",url:"//www.photopea.com/plugins/peasmaker"}];
if(cW<2)for(var n=0;n<z.length;n++)em.qv.push({MR:new j$(z[n],""+(100+n)),B3:6,XJ:!0})}());em.prototype.aGp=function(z){for(var n=0;
n<z.length;n++){var q=z[n],e=new j$(q,"plg_"+q.name);this.V$.push({MR:e,B3:6});this.abk.push(e.QF)}this.LE()};
em.prototype.K5=function(z,q){this.i=z;var e=this.V$;for(var n=0;n<e.length;n++)e[n].MR.K5(z,q);if(q==cR.FU||q==cR.t2||q==cR.zu)this.LE()};
em.prototype.nf=function(z){var q=this.V$;for(var n=0;n<q.length;n++)q[n].MR.nf(z)};em.prototype.hh=function(z,q){this.xL=z;
this.Hi=q;this.LE();this.sa[0].hh(z,q);this.sa[1].hh(z,q)};em.prototype.LE=function(){var z=this.i,q=this.xL,e=this.Hi;
if(z==null||q==0)return;var V=this.abk;for(var n=0;n<V.length;n++){var P=this.amO(V[n]),D=P.MR.Zw.resID;
if(D!=null&&z.Ay.indexOf(D)==-1){V.splice(n,1);n--}}var B=z.eN.concat(V),A=q<500||q<700&&q<e,s=JSON.stringify(B)+","+A;
if(s!=this.aip){this.aip=s;J._8(this.$);var a=[];for(var n=0;n<this.sa.length;n++){var M=this.sa[n];
a[n]=M.$N();while(M.aH2()!=0)M.aoD(0);M.Vo()}var $=[];for(var n=0;n<this.g$.length;n++){var U=this.g$[n];
U.Vo();while(U.afh()!=0)U.k7(0);$.push(0)}for(var n=0;n<B.length;n++){var P=this.amO(B[n].toString());
if(P==null)continue;this.g$[P.B3].wQ(P.MR);this.g$[P.B3].k0(0);$[P.B3]++}var o=[];for(var n=0;n<$.length;
n++){if($[n]==0)continue;var t=n<3||A?1:0,M=this.sa[t];M.parent=this;M.ai2(this.g$[n]);o[t]=!0}for(var n=0;
n<this.sa.length;n++)if(o[n])this.$.appendChild(this.sa[n].$);this.sa[0].collapse();if(q<700||this.i.compact||!a[1]){this.sa[1].collapse()}var c=new dW(_.E.b,!0);
c.data={p:_.m.Zd};this.K(c)}};em.prototype.amO=function(z){for(var n=0;n<this.V$.length;n++)if(this.V$[n].MR.QF==z)return this.V$[n]};
em.prototype.aGt=function(z){var q=this.amO(z);if(q==null)return;this.g$[q.B3].wQ(q.MR)};em.prototype.N_=function(z,q,e){var V=this.V$;
for(var n=0;n<V.length;n++)V[n].MR.N_(z,q,e)};em.prototype.Qy=function(z,q,e,V,P){var D=this.V$;for(var n=0;
n<D.length;n++)D[n].MR.Qy(z,q,e,V,P)};em.prototype.Sf=function(z,q,e,V,P){var D=this.V$;for(var n=0;
n<D.length;n++)D[n].MR.Sf(z,q,e,V,P)};em.prototype.AM=function(z,q,e,V,P){var D=this.V$;for(var n=0;
n<D.length;n++)D[n].MR.AM(z,q,e,V,P)};function eR(z,q){es.call(this,"toolbar");this.$.removeChild(this.im);
this.u8=J.k("div","tools");this.$.appendChild(this.u8);this.Cz=null;this.Ai=null;this.amd=q;this.ka=null;
this.mC=null;this.aF3=-1;var e=window.locStor.getItem("_ltools");this.jX=e?e.split(","):[];this.aHG=z;
this.jc=null;this.TD=null;this.NN=null;this.ax0=null;this.UU=new i5;this.UU.$.style.marginTop="5px";
this.UU.$.style.marginBottom="3px";this.UU.parent=this;this.LG=new ht(J.GP("lrs/mask"),!1,[6,6,1]);this.LG.Q("click",function(B){if(Date.now()-this.fF<300){var A=new dW(_.E.b,!0);
A.data={p:_.m.wa,rF:"preferences"};this.K(A)}else{var A=new dW(_.E.z,!0);A.U=W.qK;A.data={p:"qmask"};
this.K(A);this.fF=Date.now()}},this);var V=new db(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
V.Q(_.E.f,this.agK,this);var P=J.k("span","rangecontFloat form padded");P.appendChild(V.$);J.C(P,"position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var D=this.$;this.a86=[!1,!1,!1,!1];this.Ef=new ht(J.GP("kb"),!1,"Virtual Keys");this.Ef.Q("click",function(B){var A=this.Ef.$.getBoundingClientRect();
P.style.top=A.top-110+"px";P.style.left=A.left+A.width+8+"px";if(J.H2(P)){J.Dl({$:P},D)}else{D.appendChild(P);
J.xW({$:P})}},this)}eR.prototype=new es;eR.prototype.agK=function(z){var q=z.target.r();this.Ef.a(q[0]||q[1]||q[2]||q[3]);
var e=new dW(_.E.b,!0);for(var n=0;n<4;n++){if(q[n]!=this.a86[n]){e.data={p:_.m.aoP,_W:q[n],aER:[cz.Di()?"MetaLeft":"ControlLeft","AltLeft","ShiftLeft","NoTouch"][n]};
this.K(e)}}this.a86=q.slice(0)};eR.prototype.avx=function(z,q){this.ka=q;this.mC=z?z.m7:null;if(z==null||z.j.length==0||z.Z[z.j[0]]==null)return;
var e=z.LG()!=null,V=z.A.Ox,P=z.Z[z.j[0]].oT,D=P==1||P==3||e||V[0]+V[1]+V[2]==1;this.UU.ajX(D);this.LG.a(e)};
eR.prototype.aIq=function(z,q){var e=z.length,V=[];for(var n=0;n<e;n++)V[n]=z[n].slice(0);z=V;var P=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],D=Math.min(P.length/2,e-q);
for(var n=0;n<D;n++){var B=P[2*n],A=P[2*n+1];z[B]=z[B].concat(z[A]);z[A]=null}for(var n=0;n<z.length;
n++)if(z[n]==null){z.splice(n,1);n--}return z};eR.prototype.a9S=function(z,q){for(var n=0;n<q.length;
n++)for(var e=0;e<q[n].length;e++)if(q[n][e].U.id==z)return n};eR.prototype.afJ=function(z){var q=this.aHG;
this.TD=[];this.NN=[];this.ax0=[];this.jc=[];var e=q.Oo;if(z!=null&&this.amd)e=this.aIq(e,z);var V=this.Cz;
if(V){var P=[];for(var n=0;n<e.length;n++){var D=[];for(var B=0;B<e[n].length;B++){var A=e[n][B];if(V==null||V.indexOf(parseInt(A.U.id))!=-1)D.push(A)}if(D.length>0)P.push(D)}e=P}for(var n=0;
n<e.length;n++){var s=[],a=this.TD.length,M=null,$=-1;for(var B=0;B<e[n].length;B++){var A=e[n][B].U,U=this.a9S(A.id,q.Oo),o=q.keys[U];
if(o==cz.nA&&B==1)o=cz.Qf;this.jc.push(A);var t=new d8(A.name,o,A.V5,this.TD.length,n,e[n].length>1);
this.TD.push(t);var c=this.jX.indexOf(A.id);if(c==-1)c=0;if(c>$){$=c;M=t}t.Q(_.E.f,this.Qu,this);t.Q("mover",this.zP,this);
s.push({name:A.name,rR:A.V5,r0:o?o.HS:""})}this.NN.push(M);this.ax0.push(s.length==1?null:[s,a])}};eR.prototype.hh=function(z,q){var e=this.Hi=q,V=20;
if(1<J.WU()&&J.WU()<1.5)V=20/J.WU();V+=12.7;var P=this.Hi>640&&cW==0?2:1,D=34+5+3+P*(V+4),B=Math.floor((e-D)/V);
if(B!=this.aF3){this.aF3=B;this.afJ(B);this.Fw()}var A=this.NN.length*V+D,s=Math.min(1,e/A);if(.75<=s){J.C(this.u8,"width:34px; transform-origin: top left; transform: scale("+s+","+s+");");
J.C(this.$,"height:"+(q-2)+"px;")}else{e-=4;J.C(this.u8,"height: "+e+"px;  width:"+Math.ceil(A/e)*34+"px");
J.C(this.$,"")}};eR.prototype.W=function(){if(this.jc==null)return;for(var n=0;n<this.TD.length;n++)this.TD[n].W()};
eR.prototype.Qu=function(z){var q=new dW(_.E.b,!0);q.data={p:_.m.uB,U:this.jc[z.id].id};this.K(q)};eR.prototype.aDA=function(z){var q=z.target.acB+z.target.Gv()[0];
this.TD[q].lG(null,!0)};eR.prototype.zP=function(z){var q=this.ka,e=new dW(_.E.b,!0);e.data={p:_.m._G};
this.K(e);var V=z.target,P=this.ax0[V.m0];if(P==null)return;var D=new gu(P[0],null,!0);D.acB=P[1];D.m0=V.m0;
D.Q("select",this.aDA,this);D.parent=this;D.W();var B=V.$.getBoundingClientRect(),e=new dW(_.E.b,!0);
e.data={p:_.m.wL,MR:D,x:B.left+B.width+8,y:B.top};if(q==null||!(q.t(cz.ii)||q.t(cz.EF)))this.K(e)};eR.prototype.Fw=function(z){if(z==null)z=this.Ai;
this.Ai=z;if(this.jc==null)return;var q=this.jX.indexOf(z);if(q!=-1)this.jX.splice(q,1);this.jX.push(z);
window.locStor.setItem("_ltools",this.jX.join(","));var e=-1;for(var n=0;n<this.jc.length;n++)if(this.jc[n].id==z)e=n;
for(var n=0;n<this.TD.length;n++){var V=this.TD[n];V.a7D(e==n)}if(e==-1)return;this.NN[this.TD[e].m0]=this.TD[e];
J._8(this.u8);var P=this.NN;for(var n=0;n<P.length;n++){this.u8.appendChild(P[n].$)}if(!this.amd)return;
if(cW<2)this.u8.appendChild(this.UU.$);if(this.Hi>640&&cW==0)this.u8.appendChild(this.LG.$);if(cW<2)this.u8.appendChild(this.Ef.$)};
eR.prototype.K5=function(z,q){if(q==cR.zu&&z.Cz){this.Cz=z.Cz;this.afJ();this.Fw()}this.UU.aBI(z.pQ,z.Cp);
if(cW==1&&(q==cR.gF||q==cR.zu)){this.UU.apP(z,this.mC)}};function d8(z,q,e,V,P,D){gq.call(this);this.kD=0;
this.RR=this.aIQ.bind(this);this.m0=P;this.f6=V;this.eE=z;this.pr=q;this.avD=D;this.V5=e;this.$=J.k("button","");
this.$.innerHTML=J.GP(this.V5);if(this.avD){var B=J.k("img","gsicon");B.setAttribute("src",PIMG["tools/corner"]);
J.C(B,"position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.$.appendChild(B)}this.$.addEventListener("touchstart",J.AZ,!1);
this.W();J.Br(this.$,this.O3.bind(this));J.KE(this.$,this.lG.bind(this));this.$.addEventListener("contextmenu",this.RR,!1);
this.$.addEventListener("contextmenu",d8.oC,!1)}d8.prototype=new gq;d8.oC=function(z){z.stopPropagation();
z.preventDefault();return!1};d8.prototype.W=function(){var z=this.pr?" ("+this.pr.HS+")":"";this.$.setAttribute("title",iE.get(this.eE)+z)};
d8.prototype.O3=function(z){d8.Mj=this.f6;this.kD=setTimeout(this.RR,160)};d8.prototype.lG=function(z,q){if(q==null&&d8.Mj!=this.f6)return;
clearTimeout(this.kD);var e=new dW(_.E.f,!1);e.target=this;e.id=this.f6;this.K(e)};d8.prototype.aIQ=function(z){var q=new dW("mover",!1);
q.target=this;q.id=this.f6;this.K(q)};d8.prototype.a7D=function(z){this.$.className=z?"toolbtn active":"toolbtn"};
function a5(){gq.call(this);this.$=J.k("div","topbar");this.aL2=J.k("span");this.acL=J.k("span");this.aoj=0;
this.$.appendChild(this.aL2);this.$.appendChild(this.acL);this.Va=null;this.i=null;this.uY=[];this.eN=[];
var z=this.O3.bind(this);for(var n=0;n<a5.data.length;n++){var q=J.k("button");this.uY.push(q);var e=a5.data[n];
q.addEventListener("mouseover",z,!1);J.Br(q,z)}this.ob=new ht([0,13,0],!1,null,!0);this.ob.Q("click",this.ali,this);
this.Cb=new ht(J.GP("tools/zoom",null,"autoscale"),!1,[12,86]);this.Cb.Q("click",this.ali,this);this.aIp=new ht("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.aIp.Q("click",this.ali,this)}a5.prototype=new gq;a5.prototype.a3r=function(){if(this.eN.length!=0)return;
for(var n=0;n<a5.data.length;n++){var z=a5.data[n],q=new gu(z.items,z.bo);q.parent=this;this.eN.push(q)}this.W()};
a5.prototype.W=function(){this.ob.W();this.Cb.W();this.aIp.W();for(var n=0;n<this.uY.length;n++)this.uY[n].textContent=iE.get(a5.data[n].name);
this.att();for(var n=0;n<this.eN.length;n++)this.eN[n].W()};a5.prototype.ali=function(z){var q=new dW(_.E.b,!0);
if(z.target==this.ob)q.data={p:_.m.wa,rF:"account"};else if(z.target==this.Cb)q.data={p:_.m.J$};else q.data={p:_.m.qr,Mw:!0};
this.K(q)};a5.prototype.Ue=function(z,q){this.Va=z;this.i=q};a5.prototype.K5=function(z,q){this.i=z;
if(q==cR.zu){var e=z.adn;J._8(this.aL2);for(var n=0;n<this.uY.length;n++){var V=a5.data[n];if(e==null||e[n]==1||e[n]instanceof Array)this.aL2.appendChild(this.uY[n]);
if(e!=null&&e[n]instanceof Array){this.a3r();this.eN[n].a0Q(e[n])}}var P=this.acL;J._8(P);if(z.IC){P.appendChild(this.ob.$)}P.appendChild(this.Cb.$);
P.appendChild(this.aIp.$)}this.att()};a5.prototype.att=function(z,q){var e=this.ob,V=12255232;if(lA.Cf())V=lA.aY()?43520:16755200;
J.C(e.$,"color:#ffffff; background-color:#"+T.R0(V))};a5.prototype.O3=function(z){this.a3r();var n=this.uY.indexOf(z.currentTarget),q=this.eN[n];
if(z.type=="mouseover"&&!J.H2(this.eN[this.aoj].$))return;if(J.H2(q.$))return;z.a2A=!0;this.aoj=n;for(var n=0;
n<a5.data.length;n++)this.eN[n].update(this.Va,this.i);var e=z.target.getBoundingClientRect(),V=new dW(_.E.b,!0);
V.data={p:_.m.wL,MR:q,x:e.left,y:e.top+e.height+2,aOj:!0};this.K(V)};a5.aDB=function(z){var q=cz,e=q.EF,V=q.XQ,P=q.mh,D=function(F){return{d:F!=null}},B=function(F){return{d:F!=null&&F.h!=null}},A=function(F){return{d:F!=null&&F.Ov(!1)}},s=function(F){return{d:F!=null&&F.Ov(!1)&&F.h!=null}},a=[{name:[7,0],d:D,r0:[e,q.m]},{name:[7,1],r0:[e,q.Tj],d:cW==2?null:B},{name:[7,2],r0:[V,e,q.Pd],d:B,tL:!0},{name:"Remove BG",d:a5.ajh},{name:[7,8],d:D,o$:!0},{name:[7,13],o$:!0,d:function(F){return{d:F!=null&&F.j.length!=0&&!F.Z[F.j[0]].V.a8()}}},{name:[7,14],d:a5.ajh,tL:!0},{name:[7,11],o$:!0,d:function(F){return{d:F!=null&&F.j.length!=0&&!F.Z[F.j[0]].V.a8()}}},{name:[7,3],d:D,tL:!0,sub:[{name:[7,9],o$:!0,d:B},{name:[19,3,0],o$:!0,d:B},{name:[7,4],o$:!0,d:B},{name:[7,5],o$:!0,d:B},{name:[7,6],o$:!0,d:B,r0:"Shift+F6"}]},{name:[7,15],d:B},{name:[7,16],d:B,tL:!0},{name:[7,10],d:B,tL:!0},{name:[6,6,1],d:function(F){return{d:F!=null,yc:F!=null&&F.LG()!=null}},r0:[q.Yq],tL:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],d:B}],M=[{N:_.E.zN,M:W.cn.Im(!0)},{N:_.E.zN,M:W.cn.Im()},{N:_.E.zN,M:{gQ:"inverse"}},{N:_.E.z,U:W.qK,M:{p:"bgrm",u:1}},{N:_.E.b,M:{p:_.m.wa,rF:"crange"}},{N:_.E.b,M:{p:_.m.wa,rF:"magiccut"}},{N:_.E.z,U:W.qK,M:{p:"bgrm",u:2}},{N:_.E.b,M:{p:_.m.wa,rF:"redge"}},{sub:[{N:_.E.b,M:{p:_.m.wa,rF:"sel_border"}},{N:_.E.b,M:{p:_.m.wa,rF:"sel_smoothness"}},{N:_.E.b,M:{p:_.m.wa,rF:"sel_expand"}},{N:_.E.b,M:{p:_.m.wa,rF:"sel_contract"}},{N:_.E.b,M:{p:_.m.wa,rF:"sel_feather"}}]},{N:_.E.zN,M:{gQ:"grow",cj:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{N:_.E.zN,M:{gQ:"similar",cj:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{N:_.E.b,M:{p:_.m.uB,U:W.zi}},{N:_.E.z,U:W.qK,M:{p:"qmask"}},{N:_.E.b,M:{p:_.m.wa,rF:"loadsel"}},{N:_.E.b,M:{p:_.m.wa,rF:"savesel"}}];
if(z){var $=[1,2,8,7,"",14,"a","","b","c","d","","e",11,"","f","g"],U={a:[{name:"Make Work Path",d:B},{N:_.E.zN,M:W.cn.a1y()}],b:[{name:[6,49,0],d:B},{N:_.E.zN,M:{gQ:"copyToLayer"}}],c:[{name:[6,49,1],d:s},{N:_.E.zN,M:{gQ:"cutToLayer"}}],d:[{name:[6,13]},{N:_.E.z,U:W.si,M:{p:lK.Ag}}],e:[{name:[10,16],d:D},{N:_.E.b,M:{p:_.m.uB,U:W.Rs}}],f:[{name:[2,3],d:s,o$:!0},{N:_.E.b,M:{p:_.m.wa,rF:"fill"}}],g:[{name:[14,9],d:s,o$:!0},{N:_.E.b,M:{p:_.m.wa,rF:"stroke"}}]},o=[],t=[];
for(var n=0;n<$.length;n++){var c=$[n];if(a[c]){var H=a[c];H.tL=!1;delete H.r0;o.push(H);t.push(M[c])}else if(c==""){o[o.length-1].tL=!0}else if(U[c]){var H=U[c];
o.push(H[0]);t.push(H[1])}}M=t;a=o}return{name:[0,5],items:a,bo:M}};a5.ajh=function(z){return{d:J.Yo(1)&&z!=null&&z.j.length!=0&&!z.Z[z.j[0]].V.a8()}};
a5.ag0=function(z,q){if(z==null||z.j.length==0)return!1;var e=z.Z[z.j[0]];return e.add.TySh!=null&&q.Ai==W.no};
a5.a1a=function(){var z=cz,q=z.EF,e=z.XQ,V=z.mh,P=function(D){return{d:D!=null}};return[[{name:[5,0],r0:[q,z.s$],d:function(D,B){return{d:D!=null&&(D.auy()||a5.ag0(D,B))}}},{name:[5,1],r0:[q,z.jj],d:P},{name:[5,2],r0:[q,z.WT],d:function(D,B){return{d:a5.ag0()||J.GG()||B.QS!=null||B.IS!=null||B.asI!=null}}},{name:[2,2],d:function(D,B){return{d:D!=null&&(D.h!=null||a5.ag0(D,B)||cW==2&&D.j.length==1&&D.Z[D.j[0]].m.j.length!=0)}},r0:"Delete",tL:!0}],[{N:_.E.b,M:{p:_.m.q1}},{N:_.E.b,M:{p:_.m.K$}},{N:_.E.b,M:{p:_.m.AW}},cW!=2?{N:_.E.zN,M:{gQ:"delete"}}:{N:_.E.z,U:W.HI,M:{p:"remove",JJ:"Clear Notes"}}]]};
a5.mn=function(z,q){var e=function(a){return{d:a!=null&&a.j.length!=0&&a.Z[a.j[0]].add.SoLd!=null}},V=function(a){return{d:a!=null}},P=[],D=[],B="none maxx avrg medn minn rang stdv summ vari".split(" "),A=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var n=0;n<B.length;n++){P.push({name:A[n],d:function(a,M){if(a==null||a.j.length!=1)return{d:!1};
var $=a.Z[a.j[0]].add.SoLd;if($==null)return{d:!1};return{d:!0,yc:$.Impr.v.classID==this.ari}}.bind({ari:B[n]})});
D.push({N:_.E.z,U:W.si,M:{p:lK.S_,oo:B[n]}})}var s={name:[6,7,1],d:V,tL:!0,sub:[{name:[6,7,0]},{name:"New Smart Obj. via Copy",d:e,tL:!0},{name:"Open (Edit Contents)",d:e,o$:!0},{name:"Reset Transform",d:e},{name:"Replace Contents",d:e,o$:!0},{name:"Export Contents",d:e,o$:!0,tL:!0},{name:"Convert to Layers",d:e,o$:!0,tL:!0},{name:[6,36,4],d:e,sub:P},{name:"Turn into JPG",d:e}]};
if(!z)s={sub:[{N:_.E.zN,M:{gQ:"newPlacedLayer"}},{N:_.E.zN,M:{gQ:"placedLayerMakeCopy"}},{N:_.E.zN,M:{gQ:"placedLayerEditContents",cj:{classID:"placedLayerEditContents"}}},{N:_.E.zN,M:{gQ:"placedLayerResetTransforms",cj:{classID:"placedLayerResetTransforms"}}},{N:_.E.zN,M:{gQ:"placedLayerReplaceContents",cj:{classID:"placedLayerReplaceContents"}}},{N:_.E.zN,M:{gQ:"placedLayerExportContents",cj:{classID:"placedLayerExportContents"}}},{N:_.E.zN,M:{gQ:"placedLayerConvertToLayers",cj:{classID:"placedLayerConvertToLayers"}}},{sub:D},{N:_.E.z,U:W.si,M:{p:lK.avL}}]};
if(q)s.sub.splice(0,1);return s};a5.data=function(){var z=cz,q=z.EF,e=z.XQ,V=z.mh,P=function(L){return{d:L!=null&&L.j.length!=0}},D=function(L){return{d:L!=null}},B=function(L){return{d:L!=null&&L.Ov(!1)}},A=function(L){return{d:L!=null&&L.Ov(!1)&&!L.Z[L.j[0]].V.a8()}},s=function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].add.vmsk!=null}},a=a5.a1a(!0),M=[],$=[],U=[],o="assignProfile",t="convertToProfile",c=function(L,G,n){return{yc:L!=null&&L.ahi()==n,d:!0}};
for(var n=0;n<hq.tG.length;n++){var H=hq.tG[n];M.push({name:H,d:c});var F={classID:o,null:fw.y5("Dcmn",!0)};
F.profile={t:"TEXT",v:hq.sP[n]};var i={classID:t,null:fw.y5("Dcmn",!0)};i.T={t:"TEXT",v:hq.sP[n]};$.push({N:_.E.zN,M:{gQ:o,cj:F}});
U.push({N:_.E.zN,M:{gQ:t,cj:i}})}var X=[{name:[0,0],items:[{name:[5,3],r0:[V,q,z.pm],title:[11,7],o$:!0},{name:[1,0],r0:[q,z.Lg],o$:!0},{name:[1,11],o$:!0,d:D},{name:["VAR0 VAR1",[1,0],[0,14]],tL:!0,sub:[{name:"From Any Folder"},{name:[1,19,1],o$:!0,r0:[V,q,z.Lg]},{name:[1,5],o$:!0},{name:[11,0],o$:!0},{name:["PSD VAR0",[25,0]],o$:!0}]},{name:[1,18],tL:!0,d:D,sub:[{name:"Image",r0:"PNG / JPG",d:function(L,G){return{d:L!=null&&G.d2}}},{name:cW==0?"PSD":"AI",d:function(L,G){return{d:L!=null&&G.d2&&!L.QB}}}]},{name:"Save ...",r0:[q,z.en],d:function(L,G){var x=iE.get([1,2]),O=!0;
if(L){if(L.dP)x+=" ("+iE.get([6,7,1])+")";if(L.FQ)x+=" (Google Drive)";if(L.Rn)x+=" ("+Storage.list[L.Rn[0]][0]+")";
O=hZ.LQ.indexOf(L.Eh)!=-1;if(cW==1)O=L.Eh=="ai"}return{d:L!=null&&(L.Rn!=null||L.dL!=null&&O||L.dP!=null||L.kK!=null&&L.kK.he!=null||L.FQ!=null||G.JD.save!=null),HK:x}}},{name:[[1,3],"Save as AI","Save as MID"][cW],d:function(L,G){return{d:L!=null&&G.d2}}},{name:["VAR0 VAR1",[1,2],[0,14]],d:D,sub:[{name:["VAR0 VAR1",cW==0?"PSD":"AI",[1,19,2]],d:function(L,G){return{d:L!=null&&G.d2}}},{name:["VAR0 PSD/PSB",[1,2]],o$:!0,d:function(L,G){return{d:cW==0&&L!=null&&G.d2}}}]},{name:[1,8],d:D,sub:function(){var L=hZ.DR(0),G=[];
for(var n=0;n<L.length;n++)G.push({name:L[n],r0:"."+L[n].toLowerCase()});G.push({name:cW==2?"Sheet":[0,14],sub:function(){var L=hZ.DR(1),G=[];
for(var n=0;n<L.length;n++)G.push({name:L[n],r0:"."+L[n].toLowerCase()});return G}()});return G}()},{name:[1,4],o$:!0,d:D,tL:!0,r0:[q,z.qv]},{name:[1,9],o$:!0,d:D},{name:"Export Color Lookup",o$:!0,d:D,tL:!0},{name:[1,14],o$:!0,d:D,tL:!0},{name:[1,17],sub:[{name:"Batch",o$:!0},{name:"PDF Presentation",o$:!0},{name:"Convert Formats",o$:!0},{name:"Generate Mockups",o$:!0,d:D},{name:"Resize Images",o$:!0,tL:!0},{name:"Crop and Straighten Photos",d:D}]},{name:[1,10],o$:!0}],bo:[{N:_.E.b,M:{p:_.m.wa,rF:"newproject"}},{N:_.E.b,M:{p:_.m.Bd}},{N:_.E.b,M:{p:_.m.Bd,a3v:!0}},{sub:[{N:_.E.b,M:{p:_.m.Bd,WE:!0}},{N:_.E.b,M:{p:_.m.wa,rF:"storwindow",Ml:0}},{N:_.E.b,M:{p:_.m.wa,rF:"open_from_url"}},{N:_.E.b,M:{p:_.m.wa,rF:"camera"}},{N:_.E.b,M:{p:_.m.wa,rF:"res0"}}]},{sub:[{N:_.E.b,M:{p:_.m.u9,gh:"pngjpg"}},{N:_.E.b,M:{p:_.m.u9,gh:cW==0?"psd":"ai"}}]},{N:_.E.b,M:{p:_.m.UL}},{N:_.E.b,M:{p:_.m.IB}},{sub:[{N:_.E.b,M:{p:_.m.wa,rF:"storwindow",Ml:1}},{N:_.E.b,M:{p:_.m.wa,rF:"savepsb"}}]},{sub:function(){var L=hZ.DR(0),G=[];
for(var n=0;n<L.length;n++)G.push({N:_.E.b,M:{p:_.m.wa,rF:"saveforweb",gh:n}});G.push({sub:function(){var x=hZ.DR(0).length,L=hZ.DR(1),G=[];
for(var n=0;n<L.length;n++)G.push({N:_.E.b,M:{p:_.m.wa,rF:"saveforweb",gh:x+n}});return G}()});return G}()},{N:_.E.b,M:{p:_.m.wa,rF:"saveforweb",gh:3,atG:!0}},{N:_.E.b,M:{p:_.m.wa,rF:"eassets"}},{N:_.E.b,M:{p:_.m.wa,rF:"exlut"}},{N:_.E.b,M:{p:_.m.wa,rF:"finfo"}},{sub:[{N:_.E.b,M:{p:_.m.wa,rF:"batch"}},{N:_.E.b,M:{p:_.m.wa,rF:"pdfpres"}},{N:_.E.b,M:{p:_.m.wa,rF:"cformat"}},{N:_.E.b,M:{p:_.m.wa,rF:"mockups"}},{N:_.E.b,M:{p:_.m.wa,rF:"resize"}},{N:_.E.z,U:W.M7,M:{p:"cropAndStr"}}]},{N:_.E.b,M:{p:_.m.wa,rF:"script"}}]},{name:[0,1],items:[{name:[2,8],d:D},{name:[2,0],d:D,r0:[e,q,z.wX]},{name:[2,1],d:D,r0:[q,z.wX],tL:!0},{name:[2,11],r0:[e,q,z.AK],tL:!0,o$:!0,d:function(L,G){return{d:bx.a2E(L)&&G.Ai!=W.Rs}}},a[0][0],a[0][1],{name:[5,7],r0:[e,q,z.jj],d:function(L){return{d:L!=null&&L.h!=null}}},a[0][2],a[0][3],{name:[2,3],d:B,o$:!0,r0:[e,z.aNT]},{name:[14,9],d:B,o$:!0,tL:!0},{name:[10,48],d:B},{name:[10,46],d:function(L){return{d:W.ht.Tg(L)}}},{name:"Perspective Warp",d:function(L){return{d:W.ht.Tg(L)}}},{name:[10,16],d:D,r0:[V,q,z.J3]},{name:[2,4],d:D,sub:iU.asX()},{name:[2,10,1],d:D},{name:[2,10,0],d:D,tL:!0},{name:"Assign Profile",sub:M},{name:"Convert to Profile",sub:M,tL:!0},{name:[12,87],d:D,sub:[{name:[12,62],d:D},{name:[9,3],d:D},{name:[10,31],d:function(L){return{d:L!=null&&L.Kn()[1].length!=0}}}]},{name:[1,15],o$:!0},{name:[12,79],o$:!0,r0:[q,z.W3]},{name:[1,13],o$:!0}],bo:[{N:_.E.z,U:W.S3,M:{p:"h_undoredo"}},{N:_.E.z,U:W.S3,M:{p:"h_stepfwd"}},{N:_.E.z,U:W.S3,M:{p:"h_stepbck"}},{N:_.E.b,M:{p:_.m.wa,rF:"afw_fade"}},a[1][0],a[1][1],{N:_.E.b,M:{p:_.m.K$,J4:!0}},a[1][2],a[1][3],{N:_.E.b,M:{p:_.m.wa,rF:"fill"}},{N:_.E.b,M:{p:_.m.wa,rF:"stroke"}},{N:_.E.b,M:{p:_.m.uB,U:W.Z5}},{N:_.E.z,U:W.pa,M:{p:"start",gT:"rigidTransform"}},{N:_.E.z,U:W.pa,M:{p:"start",gT:"perspectiveWarpTransform"}},{N:_.E.b,M:{p:_.m.uB,U:W.Rs}},{sub:iU.aeM()},{N:_.E.zN,M:{gQ:"align",cj:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{N:_.E.z,U:W.si,M:{p:lK.aBs}},{sub:$},{sub:U},{sub:[{N:_.E.b,M:{p:_.m.rf,Lh:0}},{N:_.E.b,M:{p:_.m.rf,Lh:1}},{N:_.E.b,M:{p:_.m.rf,Lh:2}}]},{N:_.E.b,M:{p:_.m.wa,rF:"pmanager"}},{N:_.E.b,M:{p:_.m.wa,rF:"preferences"}},{N:_.E.b,M:{p:_.m.wa,rF:"locstor"}}]},{name:[0,2],items:[{name:[12,36],d:D,tL:!0,sub:[{name:"RGB",d:function(L){if(L==null)return{d:!1};
return{yc:L.add.fcmy==null,d:!0}}},{name:"CMYK",tL:!0,d:function(L){if(L==null)return{d:!1};return{yc:L.add.fcmy!=null,d:L.depth!=32}}}].concat(df?[{name:"8 Bits/Channel",d:function(L){if(L==null)return{d:!1};
return{yc:L.depth==8,d:!0}}},{name:"16 Bits/Channel",d:function(L){if(L==null)return{d:!1};return{yc:L.depth==16,d:!0}}},{name:"32 Bits/Channel",d:function(L){if(L==null)return{d:!1};
return{yc:L.depth==32,d:L.add.fcmy!=1}}}]:[])},{name:[3],d:D,tL:!0,sub:function(){var L=[];for(var G in aM.names){L.push({name:aM.names[G],o$:e1[G]!=null,r0:aM.keys[G],tL:aM.aCu.indexOf(G)!=-1});
if(G=="selc"){L.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],o$:!0,tL:!0});L.push({name:[19,7,0],r0:[q,e,z.dO],d:B});
L.push({name:[4,18],o$:!0,d:B})}}return L}()},{name:[4,16,0],d:B},{name:[4,16,1],d:B},{name:[4,16,2],d:B,tL:!0},{name:[11,11,1],d:A,o$:!0},{name:[11,11,0],d:A,o$:!0},{name:"Wavelet Decompose",d:A,tL:!0},{name:[11,3],d:D,o$:!0,r0:[V,q,z.jj]},{name:[11,10],d:D,o$:!0,r0:[V,q,z.Pd]},{name:[2,4],d:D,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],d:function(L){return{d:L!=null&&L.h!=null}}},{name:[11,12,0],d:D,r0:[q,z.SS],o$:!0},{name:[11,12,2],d:D,tL:!0},{name:[12,53],d:D},{name:[2,12],d:B,o$:!0,tL:!0},{name:[2,14],d:D,o$:!0}],bo:[{sub:[{N:_.E.z,U:W.HI,M:{p:"fcmy",u:0}},{N:_.E.z,U:W.HI,M:{p:"fcmy",u:1}},{N:_.E.zN,M:{gQ:"convertMode",cj:{classID:"CnvM",Dpth:{t:"long",v:8},Mrge:{t:"bool",v:!1}}}},{N:_.E.zN,M:{gQ:"convertMode",cj:{classID:"CnvM",Dpth:{t:"long",v:16},Mrge:{t:"bool",v:!1}}}},{N:_.E.zN,M:{gQ:"convertMode",cj:{classID:"CnvM",Dpth:{t:"long",v:32},Mrge:{t:"bool",v:!1}}}}]},{sub:function(){var L=[];
for(var G in aM.names){L.push({N:_.E.z,U:W.j4,M:{p:"start",xJ:G}});if(G=="selc"){L.push({N:_.E.z,U:W.pa,M:{p:"start",gT:"adaptCorrect"}});
L.push({N:_.E.zN,M:{gQ:"desaturate"}});L.push({N:_.E.z,U:W.j4,M:{p:"start",xJ:"matc"}})}}return L}()},{N:_.E.zN,M:{gQ:"levels",cj:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{N:_.E.zN,M:{gQ:"levels",cj:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{N:_.E.zN,M:{gQ:"levels",cj:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{N:_.E.b,M:{p:_.m.wa,rF:"rcolors"}},{N:_.E.b,M:{p:_.m.wa,rF:"vbitmap"}},{N:_.E.z,U:W.si,M:{p:lK.au9}},{N:_.E.b,M:{p:_.m.wa,rF:"csize"}},{N:_.E.b,M:{p:_.m.wa,rF:"isize"}},{sub:[{N:_.E.zN,M:W.On.lL(!0,90)},{N:_.E.zN,M:W.On.lL(!0,-90)},{N:_.E.zN,M:W.On.lL(!0,-180)},{N:_.E.zN,M:W.On.lL(!1,"Hrzn")},{N:_.E.zN,M:W.On.lL(!1,"Vrtc")}]},{N:_.E.zN,M:{gQ:"crop",cj:{__name:"Crop",classID:"Crop"}}},{N:_.E.b,M:{p:_.m.wa,rF:"trim"}},{N:_.E.zN,M:{gQ:"revealAll",cj:{classID:"RvlA"}}},{N:_.E.zN,M:{gQ:"duplicate",cj:{classID:"Dplc",null:fw.y5("Dcmn",!0)}}},{N:_.E.z,U:W.j4,M:{p:"start",xJ:"aply"}},{N:_.E.b,M:{p:_.m.wa,rF:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],d:D,sub:[{name:[0,3],r0:[e,q,z.pm]},{name:[0,4]},{name:[1,16,0],o$:!0},{name:[1,16,3],o$:!0,tL:!0},{name:[6,49,0],r0:[q,z.LI]},{name:[6,49,1],r0:[e,q,z.LI],d:function(L){return{d:L!=null&&L.h!=null&&L.Ov(!1)}}}]},{name:[6,0],d:P},{name:[11,4],d:P},{name:[5,4],d:P,tL:!0},{name:"Text",d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].add.TySh!=null}},sub:[{name:[6,40]}]},{name:[11,6],d:P,tL:!0,sub:f1.mD(!0)},{name:[6,48,1],d:D,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],d:D,tL:!0,sub:f1.aKz()},{name:[6,2],d:D,sub:[{name:[6,4],d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].OX()==null}}},{name:[6,5,0],d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].OX()==null}}},{name:[6,5,1],d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].OX()==null&&L.h!=null}}},{name:[6,5,2],d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].OX()==null&&L.h!=null}}},{name:[6,5,3],d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].OX()==null}},tL:!0},{name:[5,4],d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].OX()!=null}}},{name:[5,8],d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].OX()!=null&&L.Ov(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].OX()!=null}}}]},{name:[6,3],d:D,sub:[{name:[6,4],d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].add.vmsk==null}}},{name:[6,5,0],d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].add.vmsk==null}}},{name:[12,76,7],d:function(L){return{d:L!=null&&L.j.length!=0&&L.Z[L.j[0]].add.vmsk==null}},tL:!0},{name:[5,4],d:s},{name:["VAR0/VAR1",[5,5],[5,6]],d:s}]},dG.a7L(!0),a5.mn(!0),{name:[6,8],d:dG.aKJ},{name:[6,34],tL:!0,d:function(L){if(L==null||L.j.length==0)return{d:!1};
var G=L.Z[L.j[0]];return{d:G.add.lmfx!=null&&!G.YZ()}}},{name:[6,9],d:D,tL:!0,r0:[q,z.sb]},{name:[6,55],d:D,sub:[{name:[6,56,0],r0:[e,q,z.WO]},{name:[6,56,1],r0:[q,z.WO]},{name:[6,56,2],r0:[q,z.NW]},{name:[6,56,3],r0:[e,q,z.NW]}]},{name:"Combine Shapes",d:D,tL:!0,sub:[{name:[18,1],rR:"set/union"},{name:[18,2],rR:"set/difference"},{name:[18,3],rR:"set/intersection"},{name:[18,4],rR:"set/xor"}]},{name:[6,58],d:D,tL:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],r0:[q,z.E],d:dG.a4O},{name:[6,12,1],d:D},{name:[2,13],d:D}],bo:[{sub:[{N:_.E.z,U:W.si,M:{p:lK.Ag}},{N:_.E.z,U:W.si,M:{p:lK.o8}},{N:_.E.b,M:{p:_.m.wa,rF:"newartb",Ml:0}},{N:_.E.b,M:{p:_.m.wa,rF:"newartb",Ml:1}},{N:_.E.zN,M:{gQ:"copyToLayer"}},{N:_.E.zN,M:{gQ:"cutToLayer"}}]},{N:_.E.z,U:W.si,M:{p:lK.Mi}},{N:_.E.b,M:{p:_.m.wa,rF:"duplinto"}},{N:_.E.z,U:W.si,M:{p:lK.t$}},{sub:[{N:_.E.z,U:W.si,M:{p:lK.Ki}}]},{sub:f1.YU(!0)},{sub:[{N:_.E.z,U:W.v8,M:{p:"newfill",DO:0}},{N:_.E.zN,M:W.LR.J8(1)},{N:_.E.zN,M:W.LR.J8(2)}]},{sub:f1.Ik()},{sub:[{N:_.E.z,U:W.si,M:{p:lK.q0,Ml:"RvlA"}},{N:_.E.z,U:W.si,M:{p:lK.q0,Ml:"HdAl"}},{N:_.E.z,U:W.si,M:{p:lK.q0,Ml:"RvlS"}},{N:_.E.z,U:W.si,M:{p:lK.q0,Ml:"HdSl"}},{N:_.E.z,U:W.si,M:{p:lK.q0,Ml:"Trns"}},{N:_.E.z,U:W.si,M:{p:lK.Ab}},{N:_.E.z,U:W.si,M:{p:lK.aX}},{N:_.E.z,U:W.si,M:{p:lK.ce}}]},{sub:[{N:_.E.zN,M:W.H6.EJ(0)},{N:_.E.zN,M:W.H6.EJ(1)},{N:_.E.zN,M:W.H6.EJ(2)},{N:_.E.zN,M:W.H6.EJ(3)},{N:_.E.z,U:W.si,M:{p:lK.qT}}]},{N:_.E.z,U:W.si,M:{p:lK.Cr}},a5.mn(!1),{N:_.E.zN,M:{gQ:"rasterizeLayer",cj:{classID:"rasterizeLayer",null:fw.y5("Lyr",!0)}}},{N:_.E.zN,M:{gQ:"rasterizeLayer",cj:{classID:"rasterizeLayer",null:fw.y5("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{N:_.E.z,U:W.si,M:{p:lK.cZ}},{sub:[{N:_.E.z,U:W.si,M:{p:lK.Zs,kE:0}},{N:_.E.z,U:W.si,M:{p:lK.Zs,kE:1}},{N:_.E.z,U:W.si,M:{p:lK.Zs,kE:2}},{N:_.E.z,U:W.si,M:{p:lK.Zs,kE:3}}]},{sub:[{N:_.E.z,U:W.si,M:{p:lK.xs,mA:0}},{N:_.E.z,U:W.si,M:{p:lK.xs,mA:1}},{N:_.E.z,U:W.si,M:{p:lK.xs,mA:2}},{N:_.E.z,U:W.si,M:{p:lK.xs,mA:3}}]},{sub:[{N:_.E.z,U:W.si,M:{p:lK.vj,kE:"makeframes"}},{N:_.E.z,U:W.si,M:{p:lK.vj,kE:"unmakeframes"}},{N:_.E.z,U:W.si,M:{p:lK.vj,kE:"merge"}}]},{N:_.E.zN,M:{gQ:"mergeLayersNew",cj:{__name:"Merge Layers",classID:"Mrg2"}}},{N:_.E.zN,M:{gQ:"flattenImage"}},{N:_.E.z,U:W.pa,M:{p:"start",gT:"defr"}}]},a5.aDB(!1),function(){var L={name:[0,6],items:[{name:[24,18,4],r0:[V,q,z.AK],d:D,tL:!0}],bo:[{N:_.E.z,U:W.pa,M:{p:"applylast"}}]};
for(var n=0;n<ak.dx.length;n++){var G=ak.dx[n],x=G.TE;if(G.j5!=null){var O={name:ak.names[G.j5],o$:!0,tL:G.tL,d:D};
if(G.j5=="VaPo")O.d=B;L.items.push(O);L.bo.push({N:_.E.z,U:W.pa,M:{p:"start",gT:G.j5}});continue}var v={name:G.Jo,sub:[],d:D};
L.items.push(v);var C={sub:[]};L.bo.push(C);for(var S=0;S<x.length;S++){var j=x[S],w=ak.names[j];if(j=="blurbTransform")w=[24,3,12,S];
var u={name:w,o$:ak.g1(j)!=null};v.sub.push(u);var l={N:_.E.z,U:W.pa,M:{p:"start",gT:j,aPh:S<2?S:S+1}};
C.sub.push(l)}}return L}(),{name:[0,7],items:[{name:[8,0],d:D,r0:[q,z.Zj]},{name:[8,1],d:D,r0:[q,z.w1]},{name:[20,3],d:D,r0:[q,z.rJ]},{name:[20,2],d:D,r0:[q,z.bC]},{name:[8,14],d:function(L,G){return{d:L!=null,yc:L!=null&&L.s_}},tL:!0},{name:[12,36],tL:!0,sub:[{name:"Fullscreen",d:function(L,G){return{yc:document.fullscreenElement!=null}},tL:!0},{name:"Standard",d:function(L,G){return{yc:G.Rm==0}}},{name:"Menu Bar and Canvas",d:function(L,G){return{yc:G.Rm==1}}}]},{name:[8,13],r0:[q,z.nA],d:function(L,G){return{yc:G.s2}}},{name:[8,12],tL:!0,sub:[{name:[17,2],d:function(L,G){return{d:G.s2,yc:G.Y8.HZ}}},{name:[8,9],d:function(L,G){return{d:G.s2,yc:G.Y8.yj}}},{name:[8,2],d:function(L,G){return{d:G.s2,yc:G.Y8.r3}},r0:[q,z.Vb]},{name:[8,4],d:function(L,G){return{d:G.s2,yc:G.Y8.l0}},r0:[q,z.Nc]},{name:[8,8],d:function(L,G){return{d:G.s2,yc:G.Y8.OV}}},{name:[8,11,0],d:function(L,G){return{d:G.s2,yc:G.Y8.tQ}}}]},{name:[8,3],d:function(L,G){return{yc:G.pq}},r0:[q,z.Qf],tL:!0},{name:[8,5],d:function(L,G){return{yc:G.Ti}}},{name:[8,6],tL:!0,sub:[{name:[8,2],d:function(L,G){return{yc:G.k5[0]}}},{name:[8,4],d:function(L,G){return{yc:G.k5[1]}}},{name:[9,1],d:function(L,G){return{yc:G.k5[2]}}},{name:[8,11,0],d:function(L,G){return{yc:G.k5[3]}}},{name:[8,7,0],d:function(L,G){return{yc:G.k5[4]}}}]},{name:[11,15,2],d:function(L,G){return{d:L!=null,yc:L!=null&&L._t}}},{name:[11,15,0],d:D},{name:[11,14],d:D,o$:!0},{name:[11,15,1],d:function(L,G){return{d:L!=null&&L.j.length!=0}},tL:!0},{name:[8,11,2],d:function(L,G){return{d:L!=null&&L.tQ.length!=0}}}],bo:[{N:_.E.z,U:W.OF,M:{p:"zoom",pn:!0}},{N:_.E.z,U:W.OF,M:{p:"zoom",pn:!1}},{N:_.E.z,U:W.OF,M:{p:"adapt",u:"fitscr"}},{N:_.E.z,U:W.OF,M:{p:"adapt",u:"pixel"}},{N:_.E.z,U:W.HI,M:{p:"pview"}},{sub:[{N:_.E.b,M:{p:_.m.qr,Mw:!0}},{N:_.E.b,M:{p:_.m.qr,u:0}},{N:_.E.b,M:{p:_.m.qr,u:1}},{N:_.E.b,M:{p:_.m.qr,u:2}}]},{N:_.E.b,M:{p:_.m.Ln,Lh:cR._x}},{sub:[{N:_.E.b,M:{p:_.m.Ln,Lh:cR.ew}},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.Ex}},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.ja}},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.sv}},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.Xi}},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.$d}}]},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.Ww}},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.aGy}},{sub:[{N:_.E.b,M:{p:_.m.Ln,Lh:cR.UY,Gk:0}},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.UY,Gk:1}},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.UY,Gk:2}},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.UY,Gk:3}},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.UY,Gk:4}}]},{N:_.E.z,U:W.HI,M:{p:"lockguides"}},{N:_.E.zN,M:{gQ:"delete",cj:{classID:"Dlt",null:fw.y5("Gd",!0,"Al")}}},{N:_.E.b,M:{p:_.m.wa,rF:"addguides"}},{N:_.E.z,U:W.HI,M:{p:"gidsFromLayer"}},{N:_.E.z,U:W.vS,M:{p:"deleteAll"}}]},function(){var L={name:[0,8],items:[{name:[0,14],tL:!0,sub:[]},{name:"Plugins",tL:!0}],bo:[{sub:[]},{N:_.E.b,M:{p:_.m.wa,rF:"res1"}}]};
for(var n=0;n<em.qv.length;n++){var G=em.qv[n],x=function(){var O=G.MR.QF;return function(v,C){return{yc:C.eN.indexOf(parseInt(O))!=-1}}}();
(G.XJ?L.items[0].sub:L.items).push({name:G.MR.name,d:x});(G.XJ?L.bo[0].sub:L.bo).push({N:_.E.b,M:{p:_.m.Qp,rF:G.MR.QF}})}return L}(),function(){var L={name:[0,14],items:[],bo:[]},G={name:[0,9],sub:[]};
L.items.push(G);var x={sub:[]};L.bo.push(x);var O=iE.afB();for(var n=0;n<O.length;n++){var v=O[n],C=v.code,S=iE.aAS(C);
G.sub.push({name:v.name,r0:C,d:function(j,w){return{yc:this.r0==iE.gR()}}});x.sub.push({N:_.E.b,M:{p:_.m.Ln,Lh:cR.BL,lang:S}})}G.sub.push({name:[0,12]});
x.sub.push({N:_.E.b,M:{p:_.m.I3,link:"https://www.photopea.com/translate/"}});var G={name:[0,15],sub:[]};
L.items.push(G);var x={sub:[]};L.bo.push(x);for(var n=0;n<bt.Jx.length;n++){G.sub.push({name:bt.Jx[n].name,d:function(j,w){return{yc:this.name==bt.Jx[w.na].name}}});
x.sub.push({N:_.E.b,M:{p:_.m.Ln,Lh:cR.zh,na:n}})}L.items.push({name:cW==0?[0,17,6]:"Install Vectorpea",d:function(j,w){return{d:w.H7!=null}}});
L.bo.push({N:_.E.b,M:{p:_.m.gS}});if(cW==0){L.items.push({name:[11,13]});L.bo.push({N:_.E.b,M:{p:_.m.wa,rF:"shortcuts"}});
L.items.push({name:[0,16],d:function(j){return{yc:ee.$x,d:ee.a4H}},tL:!0});L.bo.push({N:_.E.b,M:{p:_.m.aNt}})}L.items.push({name:"PeaMark"});
L.bo.push({N:_.E.b,M:{p:_.m.wa,rF:"peamark"}});L.items.push({name:"",d:function(j,w){return w.IC?{HK:"About "+["Photopea","Vectorpea"][cW],d:!0}:{HK:"",d:!1}}});
L.bo.push({N:_.E.b,M:{p:_.m.wa,rF:"aboutpp"}});return L}()],K=[X[0],{name:[0,1],items:[{name:[2,8],d:D},{name:[2,0],d:D,r0:[e,q,z.wX]},{name:[2,1],d:D,r0:[q,z.wX],tL:!0},a[0][0],a[0][1],{name:[5,7],r0:[e,q,z.jj],d:function(L){return{d:L!=null&&L.h!=null}}},a[0][2],a[0][3],{name:[10,16],d:D,r0:[V,q,z.J3]},{name:[2,4],d:D,sub:iU.asX()},{name:"Assign Profile",sub:M},{name:"Convert to Profile",sub:M,tL:!0},{name:[12,87],d:D,sub:[{name:[9,3],d:D},{name:[10,31],d:function(L){return{d:L!=null&&L.Kn()[1].length!=0}}}]},{name:[1,15],o$:!0},{name:[12,79],o$:!0,r0:[q,z.W3]},{name:[1,13],o$:!0}],bo:[{N:_.E.z,U:W.S3,M:{p:"h_undoredo"}},{N:_.E.z,U:W.S3,M:{p:"h_stepfwd"}},{N:_.E.z,U:W.S3,M:{p:"h_stepbck"}},a[1][0],a[1][1],{N:_.E.b,M:{p:_.m.K$,J4:!0}},a[1][2],a[1][3],{N:_.E.b,M:{p:_.m.uB,U:W.Rs}},{sub:iU.aeM()},{sub:$},{sub:U},{sub:[{N:_.E.b,M:{p:_.m.rf,Lh:1}},{N:_.E.b,M:{p:_.m.rf,Lh:2}}]},{N:_.E.b,M:{p:_.m.wa,rF:"pmanager"}},{N:_.E.b,M:{p:_.m.wa,rF:"preferences"}},{N:_.E.b,M:{p:_.m.wa,rF:"locstor"}}]},{name:"Object",items:[{name:[2,4],d:D,tL:!0,sub:[{name:[12,54]},{name:[2,5]},{name:"Reflect"},{name:[12,38]}]},{name:[6,9],d:D,tL:!0,r0:[q,z.sb]},{name:[12,76,0],tL:!0,sub:[{name:"Join",r0:[q,z.LI]},{name:[24,3,0],r0:[V,q,z.LI]}]},{name:[6,6,0],sub:[{name:[5,5],r0:[q,z.rS]},{name:[5,6],r0:[V,q,z.rS]}]},{name:"Compound Path",sub:[{name:"Make",d:s},{name:"Release",d:s}]},{name:[1,16,1],sub:[{name:"Fit to Artwork Bounds"}]}],bo:[{sub:[{N:_.E.b,M:{p:_.m.wa,rF:"transform",kE:0}},{N:_.E.b,M:{p:_.m.wa,rF:"transform",kE:1}},{N:_.E.b,M:{p:_.m.wa,rF:"transform",kE:2}},{N:_.E.b,M:{p:_.m.wa,rF:"transform",kE:3}},{N:_.E.b,M:{p:_.m.wa,rF:"transform",kE:4}}]},{N:_.E.z,U:W.si,M:{p:lK.cZ}},{sub:[{N:_.E.z,U:W.pg,M:{p:"join"}},{N:_.E.z,U:W.pg,M:{p:"average"}}]},{sub:[{N:_.E.z,U:W.si,M:{p:lK.cZ,Qe:!0}},{N:_.E.z,U:W.si,M:{p:lK.cZ,Qe:!0,wb:!0}}]},{sub:[{N:_.E.z,U:W.si,M:{p:lK.xs,mA:0}},{N:_.E.z,U:W.si,M:{p:lK.aui}}]},{sub:[{N:_.E.z,U:W.jg,M:{p:"adapt"}}]}]},{name:"Type",items:[{name:"Create Outlines"}],bo:[{N:_.E.z,U:W.si,M:{p:lK.Ki}}]},{name:[0,7],items:[{name:"Outline View",d:function(L,G){return{yc:L&&L.add.prvw==0,d:L!=null}},tL:!0,r0:[q,z.$l]},{name:[8,0],d:D,r0:[q,z.Zj]},{name:[8,1],d:D,r0:[q,z.w1]},{name:[12,36],tL:!0,sub:[{name:"Fullscreen",d:function(L,G){return{yc:document.fullscreenElement!=null}},tL:!0},{name:"Standard",d:function(L,G){return{yc:G.Rm==0}}},{name:"Menu Bar and Canvas",d:function(L,G){return{yc:G.Rm==1}}}]},{name:[8,3],d:function(L,G){return{yc:G.pq}},r0:[q,z.Qf]}],bo:[{N:_.E.z,U:W.OF,M:{p:"prvw"}},{N:_.E.z,U:W.OF,M:{p:"zoom",pn:!0}},{N:_.E.z,U:W.OF,M:{p:"zoom",pn:!1}},{sub:[{N:_.E.b,M:{p:_.m.qr,Mw:!0}},{N:_.E.b,M:{p:_.m.qr,u:0}},{N:_.E.b,M:{p:_.m.qr,u:1}}]},{N:_.E.b,M:{p:_.m.Ln,Lh:cR.Ww}}]},X[7],X[8]];
function f(L,G){var x={name:L.name,items:[],bo:[]};for(var n=0;n<G.length;n++){var O=G[n];x.items.push(L.items[O]);
x.bo.push(L.bo[O])}return x}var d=[f(X[0],[0,1,6,8]),f(X[1],[0,1,2,4,5,7,8,23]),f(X[3],[0,1,2,3]),f(X[4],[0,1]),{name:"Input",items:[{name:"MIDI Device"},{name:"Bluetooth MIDI"}],bo:[{N:_.E.b,M:{p:_.m.KA,Lh:0}},{N:_.E.b,M:{p:_.m.KA,Lh:1}}]},f(X[6],[0,1]),X[8]],File=d[0];
File.items[2].tL=!0;File.items.push({name:[1,18]});File.bo.push({N:_.E.b,M:{p:_.m.u9,gh:"mid"}});return cW==0?X:cW==1?K:d}();
function jC(){gq.call(this);this.$=J.k("div","");this.xz=0;this._0=0;this.i=null;this.B3=J.k("div","");
J.C(this.B3,"width:200em; height:100em; position:absolute;");this.Vw=[];this.vi=[];this.Zg={}}jC.prototype=new gq;
jC.prototype.fk=function(z){var q=Date.now(),e=[];if(z=="-"){e=[new k0,new kP,new kV,new bf,new bB("pdfpres"),new bB("cformat"),new bB("batch"),new bB("mockups"),new bB("resize"),new et,new am,new c2,new gD,new gD(!0),new iB,new kf,new lt,new ba,new hv,new dk,new bl,new g7,new eG,new bh,new f1,new e4("isize"),new e4("csize"),new lD,new ch,new eq,new lb,new gZ,new dZ,new jl,new jU,new by(!1),new by(!0),new dl(0),new dl(1),new a9,new e6,new g8,new dX,new hM,new c8,new il(0),new il(1),new il(2),new il(3),new il(4),new il(5),new il(6),new il(7),new il(8),new cJ,new lr,new bI,new h9,new cO,new c4,new iW,new f0,new f_,new b0,new hj,new lJ,new bG(0),new bG(1),new kh("border",[7,9],"px"),new kh("smoothness",[19,3,0],"px"),new kh("expand",[7,4],"px"),new kh("contract",[7,5],"px"),new kh("feather",[7,6],"px"),new i7(0,"namewindow",[12,48]),new i7(2,"billto","Bill To"),new i7(1,"cornerradius",[12,94,0],"px",!0,!0),new i7(1,"scaleeffects",[6,30,1],"%",!0),new i7(1,"doczoom","Zoom","%",!0),new i7(1,"setFPS","Set FPS","fps,120",!1),new i7(1,"simplifypath",[12,94,2],"%,100",!0,!0),new ig];
if(cW==0){e.push(new fA)}}else e=[new bx(z.slice(4))];this.aMR(e);this.Zg[z]=!0};jC.prototype.aMR=function(z){var q=this.i;
for(var n=0;n<z.length;n++){var e=z[n];e.parent=this;this.vi.push(e);this.a5B(e);e.W();if(q)e.K5(q,cR.zu);
e.Q(_.E.un,this.n4,this);J.Dl(e)}};jC.prototype.hh=function(z,q){this.xz=z;this._0=q;for(var n=0;n<this.vi.length;
n++)this.a5B(this.vi[n])};jC.prototype.W=function(){for(var n=0;n<this.vi.length;n++)this.vi[n].W()};
jC.prototype.I6=function(){return this.Vw.length==0?null:this.Vw[this.Vw.length-1]};jC.prototype.ay=function(){for(var n=0;
n<this.Vw.length;n++)if(this.Vw[n].ay())return!0;return!1};jC.prototype.abW=function(z,q,e,V,P){console.log("Show",z);
var D=z.startsWith("afw_"),B=null;if(!D&&!this.Zg["-"])this.fk("-");if(D&&!this.Zg[z])this.fk(z);if(typeof z=="object"){B=z;
if(!B.apY(_.E.un,this.n4))B.Q(_.E.un,this.n4,this);B.parent=this}else for(var n=0;n<this.vi.length;n++)if(this.vi[n].id==z)B=this.vi[n];
if(this.ay()&&B.ay()){alert("Finish the current action first");return}if(!B.h3(q))return;if(this.Vw.indexOf(B)!=-1){if(z=="colorpicker")this.n4(null,B);
else return}var A=this.Vw.length-1;if(A>=0)J.d6(this.Vw[A].$,"wdisabled");this.$.appendChild(B.$);this.Vw.push(B);
this.a5B(B);J.xW(B);B.N_(q,e,V,P)};jC.prototype.a5B=function(z){var q=this.xz,e=this._0,V=z.SM(q,e),P;
if(V!=null){P=V}else{V=new f5(0,0);P=z.avr();if(P==null){var D=this.Vw.indexOf(z)+1;if(q<450||e<450)P=new f5(0,0);
else P=new f5(D*150,D*150)}}z.$.style.left=this.$.offsetLeft+P.x+"px";z.$.style.top=this.$.offsetTop+P.y+"px";
z.hh(this.xz-V.x*2,this._0-V.y*2-34)};jC.prototype.K5=function(z,q){this.i=z;for(var n=0;n<this.vi.length;
n++)this.vi[n].K5(z,q)};jC.prototype.n4=function(z,q){if(q==null){q=this.Vw.pop();J.Dl(q,this.$)}else{this.Vw.splice(this.Vw.indexOf(q),1);
this.$.removeChild(q.$);J.Pf(q.$,"wdisabled")}var e=this.Vw.length-1;if(e>=0)J.Pf(this.Vw[e].$,"wdisabled");
if(this.B3.parentNode==this.$)this.$.removeChild(this.B3)};document.body.appendChild(new kO().$)}())